!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.G2_3=factory():root.G2_3=factory()}("undefined"!=typeof self?self:this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=389)}([function(module,exports,__webpack_require__){var Utils=__webpack_require__(127),G=__webpack_require__(16),Util=Utils.mix({},Utils,{assign:Utils.mix,merge:Utils.deepMix,cloneDeep:Utils.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:Utils.isNumberEqual,remove:Utils.pull,inArray:Utils.contains,toAllPadding:function(padding){var top=0,left=0,right=0,bottom=0;return Util.isNumber(padding)||Util.isString(padding)?top=left=right=bottom=padding:Util.isArray(padding)?(top=padding[0],right=Util.isNil(padding[1])?padding[0]:padding[1],bottom=Util.isNil(padding[2])?padding[0]:padding[2],left=Util.isNil(padding[3])?right:padding[3]):Util.isObject(padding)&&(top=padding.top||0,right=padding.right||0,bottom=padding.bottom||0,left=padding.left||0),[top,right,bottom,left]},getClipByRange:function(plotRange){var tl=plotRange.tl,br=plotRange.br;return new G.Rect({attrs:{x:tl.x,y:tl.y,width:br.x-tl.x,height:br.y-tl.y}})}});Util.Array={groupToMap:Utils.groupToMap,group:Utils.group,merge:Utils.merge,values:Utils.valuesOfKey,getRange:Utils.getRange,firstValue:Utils.firstValue,remove:Utils.pull},module.exports=Util},function(module,exports,__webpack_require__){var CommonUtil=__webpack_require__(81),Util={};CommonUtil.merge(Util,CommonUtil,{mixin:function(c,mixins){var Param=c.CFG?"CFG":"ATTRS";if(c&&mixins){c._mixins=mixins,c[Param]=c[Param]||{};var temp={};Util.each(mixins,function(mixin){Util.augment(c,mixin);var attrs=mixin[Param];attrs&&Util.merge(temp,attrs)}),c[Param]=Util.merge(temp,c[Param])}}}),module.exports=Util},function(module,exports,__webpack_require__){var isObject=__webpack_require__(24),isArray=__webpack_require__(4);module.exports=function(elements,func){if(elements)if(isArray(elements))for(var i=0,len=elements.length;i<len&&!1!==func(elements[i],i);i++);else if(isObject(elements))for(var k in elements)if(elements.hasOwnProperty(k)&&!1===func(elements[k],k))break}},function(module,exports,__webpack_require__){var G=__webpack_require__(25),Utils=__webpack_require__(127),Util=Utils.mix({assign:Utils.mix,isFinite:isFinite,isNaN:isNaN,Group:G.Group,Event:G.Event},Utils);module.exports=Util},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isArray=Array.isArray?Array.isArray:function(value){return isType(value,"Array")};module.exports=isArray},function(module,exports){module.exports=function(value){return null==value}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),isPointInPath=__webpack_require__(189),Element=__webpack_require__(102),Inside=__webpack_require__(54),Shape=function Shape(cfg){Shape.superclass.constructor.call(this,cfg)};Shape.ATTRS={},Util.extend(Shape,Element);var ARRAY_ATTRS={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};Util.augment(Shape,isPointInPath,{isShape:!0,drawInner:function(context){var attrs=this._attrs;this.createPath(context);var originOpacity=context.globalAlpha;if(this.hasFill()){var fillOpacity=attrs.fillOpacity;Util.isNil(fillOpacity)||1===fillOpacity?context.fill():(context.globalAlpha=fillOpacity,context.fill(),context.globalAlpha=originOpacity)}if(this.hasStroke()&&this._attrs.lineWidth>0){var strokeOpacity=attrs.strokeOpacity;Util.isNil(strokeOpacity)||1===strokeOpacity||(context.globalAlpha=strokeOpacity),context.stroke()}this.afterPath(context)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(x,y){var v=[x,y,1];if(this.invert(v),this.isHitBox()){var box=this.getBBox();if(box&&!Inside.box(box.minX,box.maxX,box.minY,box.maxY,v[0],v[1]))return!1}var clip=this._attrs.clip;return clip?(clip.invert(v,this.get("canvas")),!!clip.isPointInPath(v[0],v[1])&&this.isPointInPath(v[0],v[1])):this.isPointInPath(v[0],v[1])},calculateBox:function(){return null},getHitLineWidth:function(){var attrs=this._attrs;return(attrs.lineWidth||0)+(attrs.lineAppendWidth||0)},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var box=this._cfg.box;return box||((box=this.calculateBox())&&(box.x=box.minX,box.y=box.minY,box.width=box.maxX-box.minX,box.height=box.maxY-box.minY),this._cfg.box=box),box},clone:function(){var clone=null,_attrs=this._attrs,attrs={};return Util.each(_attrs,function(i,k){attrs[k]=ARRAY_ATTRS[k]&&Util.isArray(_attrs[k])?function(arr){for(var result=[],i=0;i<arr.length;i++)Util.isArray(arr[i])?result.push([].concat(arr[i])):result.push(arr[i]);return result}(_attrs[k]):_attrs[k]}),(clone=new this.constructor({attrs:attrs}))._cfg.zIndex=this._cfg.zIndex,clone}}),module.exports=Shape},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Theme=__webpack_require__(151),Global={version:"3.5.7",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(name,theme){Theme[name]=theme},setTheme:function(theme){var newTheme;newTheme=Util.isObject(theme)?theme:-1!==Util.indexOf(Object.keys(Theme),theme)?Theme[theme]:Theme.default,Util.deepMix(Global,newTheme)}};Global.setTheme("default"),module.exports=Global},function(module,exports){function _mix(dist,obj){for(var key in obj)obj.hasOwnProperty(key)&&"constructor"!==key&&void 0!==obj[key]&&(dist[key]=obj[key])}module.exports=function(dist,src1,src2,src3){return src1&&_mix(dist,src1),src2&&_mix(dist,src2),src3&&_mix(dist,src3),dist}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(value){return isType(value,"Number")}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(str){return isType(str,"String")}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(value){return isType(value,"Function")}},function(module,exports){var toString={}.toString;module.exports=function(value,type){return toString.call(value)==="[object "+type+"]"}},function(module,exports){module.exports=function(value){return null!==value&&"function"!=typeof value&&isFinite(value.length)}},function(module,exports){module.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Helper=__webpack_require__(156),Component=__webpack_require__(32),KEYWORDS=["min","max","median","start","end"];module.exports=function(_Component){var subClass,superClass;function Guide(){return _Component.apply(this,arguments)||this}superClass=_Component,(subClass=Guide).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Guide.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{xScales:null,yScales:null,el:null})},_proto.render=function(){},_proto.clear=function(){var el=this.get("el");el&&el.remove()},_proto.changeVisible=function(visible){this.set("visible",visible);var el=this.get("el");el&&(el.set?el.set("visible",visible):el.style.display=visible?"":"none")},_proto.parsePoint=function(coord,position){var x,y,xScales=this.get("xScales"),yScales=this.get("yScales");if(Util.isFunction(position)&&(position=position(xScales,yScales)),Util.isArray(position)&&Util.isString(position[0])&&-1!==position[0].indexOf("%"))return this._parsePercentPoint(coord,position);if(Util.isArray(position))x=this._getNormalizedValue(position[0],Helper.getFirstScale(xScales)),y=this._getNormalizedValue(position[1],Helper.getFirstScale(yScales));else for(var field in position){var value=position[field];xScales[field]&&(x=this._getNormalizedValue(value,xScales[field])),yScales[field]&&(y=this._getNormalizedValue(value,yScales[field],"y"))}return Util.isNil(x)||Util.isNil(y)?void 0:coord.convert({x:x,y:y})},_proto._getNormalizedValue=function(val,scale){return-1!==Util.indexOf(KEYWORDS,val)?"start"===val?0:"end"===val?1:scale.scale("median"===val?scale.isCategory?(scale.values.length-1)/2:(scale.min+scale.max)/2:scale.isCategory?"min"===val?0:scale.values.length-1:scale[val]):scale.scale(val)},_proto._parsePercentPoint=function(coord,position){var xPercent=parseFloat(position[0])/100,yPercent=parseFloat(position[1])/100,start=coord.start,end=coord.end,topLeft_x=Math.min(start.x,end.x),topLeft_y=Math.min(start.y,end.y);return{x:coord.width*xPercent+topLeft_x,y:coord.height*yPercent+topLeft_y}},Guide}(Component)},function(module,exports,__webpack_require__){var G=__webpack_require__(25);module.exports=G},function(module,exports,__webpack_require__){var mix=__webpack_require__(8),each=__webpack_require__(2),isObject=__webpack_require__(24),isNil=__webpack_require__(5);module.exports=function(){var _proto=Scale.prototype;function Scale(cfg){this._initDefaultCfg(),mix(this,cfg),this.init()}return _proto._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},_proto.init=function(){},_proto.getTicks=function(){var self=this,rst=[];return each(self.ticks,function(tick){var obj;obj=isObject(tick)?tick:{text:self.getText(tick),tickValue:tick,value:self.scale(tick)},rst.push(obj)}),rst},_proto.getText=function(value,key){var formatter=this.formatter;return value=formatter?formatter(value,key):value,!isNil(value)&&value.toString||(value=""),value.toString()},_proto.rangeMin=function(){return this.range[0]},_proto.rangeMax=function(){var range=this.range;return range[range.length-1]},_proto.invert=function(value){return value},_proto.translate=function(value){return value},_proto.scale=function(value){return value},_proto.clone=function(){var self=this,constr=self.constructor,cfg={};return each(self,function(v,k){cfg[k]=self[k]}),new constr(cfg)},_proto.change=function(info){return this.ticks=null,mix(this,info),this.init(),this},Scale}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),PathUtil=__webpack_require__(22),GPath=Util.PathUtil,Shape={},ShapeBase={_coord:null,draw:function(cfg,container){return this.drawShape?this.drawShape(cfg,container):null},setCoord:function(coord){this._coord=coord},parsePath:function(path,islineToArc){var coord=this._coord;return path=GPath.parsePathString(path),coord.isPolar&&!1!==islineToArc?PathUtil.convertPolarPath(coord,path):PathUtil.convertNormalPath(coord,path)},parsePoint:function(point){return this._coord.convertPoint(point)},parsePoints:function(points){var coord=this._coord,rst=[];return Util.each(points,function(point){rst.push(coord.convertPoint(point))}),rst}},ShapeFactoryBase={defaultShapeType:null,setCoord:function(coord){this._coord=coord},getShape:function(type){Util.isArray(type)&&(type=type[0]);var shape=this[type]||this[this.defaultShapeType];return shape._coord=this._coord,shape},getShapePoints:function(type,cfg){var shape=this.getShape(type);return(shape.getPoints||shape.getShapePoints||this.getDefaultPoints)(cfg)},getDefaultPoints:function(){return[]},getMarkerCfg:function(type,cfg){var shape=this.getShape(type);return shape.getMarkerCfg||(shape=this.getShape(this.defaultShapeType)),shape.getMarkerCfg(cfg)},getSelectedCfg:function(){return{}},drawShape:function(type,cfg,container){var gShape=this.getShape(type).draw(cfg,container);return gShape&&(gShape.setSilent("origin",cfg.origin),gShape._id=cfg.yIndex?cfg._id+cfg.yIndex:cfg._id,gShape.name=this.name),gShape}};Shape.registerFactory=function(factoryName,cfg){var className=Util.upperFirst(factoryName),geomObj=Util.assign({},ShapeFactoryBase,cfg);return Shape[className]=geomObj,geomObj.name=factoryName,geomObj},Shape.registerShape=function(factoryName,shapeType,cfg){var className=Util.upperFirst(factoryName),factory=Shape[className],shapeObj=Util.assign({},ShapeBase,cfg);return factory[shapeType]=shapeObj,shapeObj},Shape.getShapeFactory=function(factoryName){return this[Util.upperFirst(factoryName=factoryName||"point")]},module.exports=Shape},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_color__=__webpack_require__(60);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.e}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.g}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.f});var __WEBPACK_IMPORTED_MODULE_1__src_lab__=__webpack_require__(203);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.a}),__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.b});var __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__=__webpack_require__(204);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__.a})},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Attr=__webpack_require__(73),Adjust=__webpack_require__(297),Base=__webpack_require__(148),Util=__webpack_require__(0),Global=__webpack_require__(7),Labels=__webpack_require__(305),Shape=__webpack_require__(18),TooltipMixin=__webpack_require__(337),ActiveMixin=__webpack_require__(338),SelectMixin=__webpack_require__(339),parseFields=__webpack_require__(340),GROUP_ATTRS=["color","shape","size"];function parseAdjusts(adjusts){return(Util.isString(adjusts)||Util.isPlainObject(adjusts))&&(adjusts=[adjusts]),Util.each(adjusts,function(adjust,index){Util.isObject(adjust)||(adjusts[index]={type:adjust})}),adjusts}module.exports=function(_Base){var subClass,superClass;superClass=_Base,(subClass=GeomBase).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=GeomBase.prototype;function GeomBase(cfg){var _this;return(_this=_Base.call(this,cfg)||this).viewTheme=_this.get("viewTheme"),Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),TooltipMixin,ActiveMixin,SelectMixin),_this.get("container")&&_this._initContainer(),_this._initOptions(),_this}return _proto.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},_proto._initOptions=function(){var adjusts=this.get("adjusts");adjusts&&(adjusts=parseAdjusts(adjusts),this.set("adjusts",adjusts))},_proto._createScale=function(field,data){var scales=this.get("scales"),scale=scales[field];return scale||(scale=this.get("view").createScale(field,data),scales[field]=scale),scale},_proto._setAttrOptions=function(attrName,attrCfg){this.get("attrOptions")[attrName]=attrCfg},_proto._createAttrOption=function(attrName,field,cfg,defaultValues){var attrCfg={};attrCfg.field=field,cfg?Util.isFunction(cfg)?attrCfg.callback=cfg:attrCfg.values=cfg:"color"!==attrName&&(attrCfg.values=defaultValues),this._setAttrOptions(attrName,attrCfg)},_proto.position=function(field){return this._setAttrOptions("position",{field:field}),this},_proto.color=function(field,values){return this._createAttrOption("color",field,values,(this.viewTheme||Global).colors),this},_proto.size=function(field,values){return this._createAttrOption("size",field,values,(this.viewTheme||Global).sizes),this},_proto.shape=function(field,values){var viewTheme=this.viewTheme||Global,type=this.get("type");return this._createAttrOption("shape",field,values,viewTheme.shapes[type]||[]),this},_proto.opacity=function(field,values){return this._createAttrOption("opacity",field,values,(this.viewTheme||Global).opacities),this},_proto.style=function(field,cfg){var fields,styleOptions=this.get("styleOptions");return styleOptions||this.set("styleOptions",styleOptions={}),Util.isObject(field)&&(cfg=field,field=null),field&&(fields=parseFields(field)),styleOptions.fields=fields,styleOptions.style=cfg,this},_proto.label=function(field,callback,cfg){var fields,labelCfg=this.get("labelCfg");return labelCfg||this.set("labelCfg",labelCfg={}),field&&(fields=parseFields(field)),labelCfg.fields=fields,Util.isFunction(callback)?(cfg||(cfg={}),labelCfg.callback=callback):Util.isObject(callback)&&(cfg=callback),labelCfg.globalCfg=cfg,this},_proto.tooltip=function(field,cfg){var tooltipFields,tooltipCfg=this.get("tooltipCfg");return tooltipCfg||(tooltipCfg={}),!1===field?this.set("tooltipCfg",!1):(field&&(tooltipFields=parseFields(field)),tooltipCfg.fields=tooltipFields,tooltipCfg.cfg=cfg),this.set("tooltipCfg",tooltipCfg),this},_proto.animate=function(cfg){return this.set("animateCfg",cfg),this},_proto.active=function(enable,cfg){return!1===enable?this.set("allowActive",!1):Util.isObject(enable)?(this.set("allowActive",!0),this.set("activedOptions",enable)):(this.set("allowActive",!0),this.set("activedOptions",cfg)),this},_proto.adjust=function(adjusts){return this.get("hasDefaultAdjust")||(adjusts&&(adjusts=parseAdjusts(adjusts)),this.set("adjusts",adjusts)),this},_proto.select=function(enable,cfg){return!1===enable?this.set("allowSelect",!1):Util.isObject(enable)?(this.set("allowSelect",!0),this.set("selectedOptions",enable)):(this.set("allowSelect",!0),this.set("selectedOptions",cfg)),this},_proto.hasAdjust=function(adjustType){var adjusts=this.get("adjusts");if(!adjustType)return!1;var rst=!1;return Util.each(adjusts,function(adjust){if(adjust.type===adjustType)return rst=!0,!1}),rst},_proto.hasStack=function(){var isStacked=this.get("isStacked");return Util.isNil(isStacked)&&(isStacked=this.hasAdjust("stack"),this.set("isStacked",isStacked)),isStacked},_proto.isInCircle=function(){var coord=this.get("coord");return coord&&coord.isPolar},_proto._initContainer=function(){var shapeContainer=this.get("shapeContainer");if(!shapeContainer){var container=this.get("container"),view=this.get("view"),viewId=view&&view.get("_id");shapeContainer=container.addGroup({viewId:viewId,visible:this.get("visible")}),this.set("shapeContainer",shapeContainer)}},_proto.init=function(){var self=this;if(self._initContainer(),self._initAttrs(),self.get("tooltipCfg")&&self.get("tooltipCfg").fields){var tooltipFields=self.get("tooltipCfg").fields;Util.each(tooltipFields,function(field){self._createScale(field)})}var dataArray=self._processData();self.get("adjusts")&&self._adjust(dataArray),self.set("dataArray",dataArray)},_proto._initAttrs=function(){var attrs=this.get("attrs"),attrOptions=this.get("attrOptions"),coord=this.get("coord"),viewTheme=this.viewTheme||Global,isPie=!1;for(var type in attrOptions)if(attrOptions.hasOwnProperty(type)){var option=attrOptions[type],className=Util.upperFirst(type),fields=parseFields(option.field);"position"===type&&(option.coord=coord,1===fields.length&&"theta"===coord.type&&(fields.unshift("1"),isPie=!0));for(var scales=[],i=0;i<fields.length;i++){var scale=this._createScale(fields[i]);"color"===type&&Util.isNil(option.values)&&(option.values=scale.values.length<=8?isPie?viewTheme.colors_pie:viewTheme.colors:scale.values.length<=16?isPie?viewTheme.colors_pie_16:viewTheme.colors_16:viewTheme.colors_24,Util.isNil(option.values)&&(option.values=viewTheme.colors)),scales.push(scale)}if("theta"===coord.type&&"position"===type&&scales.length>1){var yScale=scales[1],max=Math.max.apply(null,yScale.values);isFinite(max)||(max=1),yScale.change({nice:!1,min:0,max:max})}option.scales=scales;var attr=new Attr[className](option);attrs[type]=attr}},_proto._processData=function(){for(var data=this.get("data"),dataArray=[],groupedArray=this._groupData(data),i=0;i<groupedArray.length;i++){var tempData=this._saveOrigin(groupedArray[i]);this._numberic(tempData),dataArray.push(tempData)}return dataArray},_proto._groupData=function(data){var fields=this._getGroupScales().map(function(scale){return scale.field});return Util.Array.group(data,fields)},_proto._saveOrigin=function(data){for(var rst=[],i=0;i<data.length;i++){var origin=data[i],obj={};for(var k in origin)obj[k]=origin[k];obj._origin=origin,rst.push(obj)}return rst},_proto._numberic=function(data){for(var scales=this.getAttr("position").scales,j=0;j<data.length;j++)for(var obj=data[j],i=0;i<Math.min(2,scales.length);i++){var scale=scales[i];if(scale.isCategory){var field=scale.field;obj[field]=scale.translate(obj[field])}}},_proto._getGroupScales=function(){var scales=this.get("groupScales");if(!scales){scales=[];var attrs=this.get("attrs");Util.each(attrs,function(attr){-1!==GROUP_ATTRS.indexOf(attr.type)&&Util.each(attr.scales,function(scale){scale.isCategory&&-1===Util.indexOf(scales,scale)&&scales.push(scale)})}),this.set("groupScales",scales)}return scales},_proto._updateStackRange=function(field,scale,dataArray){for(var mergeArray=Util.Array.merge(dataArray),min=scale.min,max=scale.max,i=0;i<mergeArray.length;i++){var obj=mergeArray[i],tmpMin=Math.min.apply(null,obj[field]),tmpMax=Math.max.apply(null,obj[field]);tmpMin<min&&(min=tmpMin),tmpMax>max&&(max=tmpMax)}(min<scale.min||max>scale.max)&&scale.change({min:min,max:max})},_proto._adjust=function(dataArray){var self=this,adjusts=self.get("adjusts"),viewTheme=this.viewTheme||Global,yScale=self.getYScale(),xScale=self.getXScale(),xField=xScale.field,yField=yScale?yScale.field:null;Util.each(adjusts,function(adjust){var adjustCfg=Util.mix({xField:xField,yField:yField},adjust),adjustType=Util.upperFirst(adjust.type);if("Dodge"===adjustType){var adjustNames=[];if(xScale.isCategory||xScale.isIdentity)adjustNames.push("x");else{if(yScale)throw new Error("dodge is not support linear attribute, please use category attribute!");adjustNames.push("y")}adjustCfg.adjustNames=adjustNames,adjustCfg.dodgeRatio=viewTheme.widthRatio.column}else if("Stack"===adjustType){var coord=self.get("coord");if(!yScale){adjustCfg.height=coord.getHeight();var size=self.getDefaultValue("size")||3;adjustCfg.size=size}!coord.isTransposed&&Util.isNil(adjustCfg.reverseOrder)&&(adjustCfg.reverseOrder=!0)}new Adjust[adjustType](adjustCfg).processAdjust(dataArray),"Stack"===adjustType&&yScale&&self._updateStackRange(yField,yScale,dataArray)})},_proto.setCoord=function(coord){this.set("coord",coord);var position=this.getAttr("position");this.get("shapeContainer").setMatrix(coord.matrix),position&&(position.coord=coord)},_proto.paint=function(){var dataArray=this.get("dataArray"),mappedArray=[],shapeFactory=this.getShapeFactory();shapeFactory.setCoord(this.get("coord")),this.set("shapeFactory",shapeFactory);var shapeContainer=this.get("shapeContainer");this._beforeMapping(dataArray);for(var i=0;i<dataArray.length;i++){var data=dataArray[i],index=i;data=this._mapping(data),mappedArray.push(data),this.draw(data,shapeContainer,shapeFactory,index)}this.get("labelCfg")&&this._addLabels(Util.union.apply(null,mappedArray),shapeContainer.get("children")),this.get("sortable")?this.set("dataArray",mappedArray):this._sort(mappedArray)},_proto._sort=function(mappedArray){var xScale=this.getXScale(),xField=xScale.field;Util.each(mappedArray,function(itemArr){itemArr.sort(function(obj1,obj2){return xScale.translate(obj1._origin[xField])-xScale.translate(obj2._origin[xField])})}),this.set("dataArray",mappedArray)},_proto._beforeMapping=function(dataArray){var self=this;if(self.get("sortable")){var xScale=self.getXScale(),field=xScale.field;Util.each(dataArray,function(data){data.sort(function(v1,v2){return xScale.translate(v1[field])-xScale.translate(v2[field])})})}self.get("generatePoints")&&(Util.each(dataArray,function(data){self._generatePoints(data)}),Util.each(dataArray,function(data,index){var nextData=dataArray[index+1];nextData&&(data[0].nextPoints=nextData[0].points)}))},_proto._addLabels=function(points,shapes){var self=this,type=self.get("type"),viewTheme=self.get("viewTheme")||Global,coord=self.get("coord"),C=Labels.getLabelsClass(coord.type,type),container=self.get("container"),scales=Util.map(self.get("labelCfg").fields,function(field){return self._createScale(field)}),labelContainer=container.addGroup(C,{_id:this.get("_id"),labelCfg:Util.mix({scales:scales},self.get("labelCfg")),coord:coord,geom:self,geomType:type,viewTheme:viewTheme,visible:self.get("visible")});labelContainer.showLabels(points,shapes),self.set("labelContainer",labelContainer)},_proto.getShapeFactory=function(){var shapeFactory=this.get("shapeFactory");if(!shapeFactory){var shapeType=this.get("shapeType");shapeFactory=Shape.getShapeFactory(shapeType),this.set("shapeFactory",shapeFactory)}return shapeFactory},_proto._generatePoints=function(data){for(var shapeFactory=this.getShapeFactory(),shapeAttr=this.getAttr("shape"),i=0;i<data.length;i++){var obj=data[i],cfg=this.createShapePointsCfg(obj),shape=shapeAttr?this._getAttrValues(shapeAttr,obj):null,points=shapeFactory.getShapePoints(shape,cfg);obj.points=points}},_proto.createShapePointsCfg=function(obj){var xScale=this.getXScale(),yScale=this.getYScale();return{x:this._normalizeValues(obj[xScale.field],xScale),y:yScale?this._normalizeValues(obj[yScale.field],yScale):obj.y?obj.y:.1,y0:yScale?yScale.scale(this.getYMinValue()):void 0}},_proto.getYMinValue=function(){var yScale=this.getYScale(),min=yScale.min,max=yScale.max;return min>=0?min:max<=0?max:0},_proto._normalizeValues=function(values,scale){var rst=[];if(Util.isArray(values))for(var i=0;i<values.length;i++)rst.push(scale.scale(values[i]));else rst=scale.scale(values);return rst},_proto._mapping=function(data){for(var attrs=this.get("attrs"),mappedData=[],i=0;i<data.length;i++){var record=data[i],newRecord={};for(var k in newRecord._origin=record._origin,newRecord.points=record.points,newRecord.nextPoints=record.nextPoints,attrs)if(attrs.hasOwnProperty(k)){var attr=attrs[k],names=attr.names,values=this._getAttrValues(attr,record);if(names.length>1)for(var j=0;j<values.length;j++){var val=values[j];newRecord[names[j]]=Util.isArray(val)&&1===val.length?val[0]:val}else newRecord[names[0]]=1===values.length?values[0]:values}mappedData.push(newRecord)}return mappedData},_proto._getAttrValues=function(attr,record){for(var scales=attr.scales,params=[],i=0;i<scales.length;i++){var scale=scales[i];params.push("identity"===scale.type?scale.value:record[scale.field])}return attr.mapping.apply(attr,params)},_proto.getAttrValue=function(attrName,record){var attr=this.getAttr(attrName),rst=null;return attr&&(rst=this._getAttrValues(attr,record)[0]),rst},_proto.getDefaultValue=function(attrName){var value=this.get(attrName),attr=this.getAttr(attrName);if(attr){var scale=attr.getScale(attrName);"identity"===scale.type&&(value=scale.value)}return value},_proto.draw=function(data,container,shapeFactory,index){for(var i=0;i<data.length;i++)this.drawPoint(data[i],container,shapeFactory,index+i)},_proto.getCallbackCfg=function(fields,cfg,origin){if(!fields)return cfg;var tmpCfg={},params=fields.map(function(field){return origin[field]});return Util.each(cfg,function(v,k){tmpCfg[k]=Util.isFunction(v)?v.apply(null,params):v}),tmpCfg},_proto._getShapeId=function(dataObj){var id=this.get("_id"),keyFields=this.get("keyFields");if(keyFields&&keyFields.length>0)Util.each(keyFields,function(key){id+="-"+dataObj[key]});else{var xVal,type=this.get("type"),xScale=this.getXScale(),yScale=this.getYScale();xVal=xScale.isIdentity?xScale.value:dataObj[xScale.field||"x"],id+="interval"===type||"schema"===type?"-"+xVal:"line"===type||"area"===type||"path"===type?"-"+type:"-"+xVal+"-"+dataObj[yScale.field||"y"];var groupScales=this._getGroupScales();Util.isEmpty(groupScales)||Util.each(groupScales,function(groupScale){"identity"!==groupScale.type&&(id+="-"+dataObj[groupScale.field])})}return id},_proto.getDrawCfg=function(obj){var cfg={origin:obj,x:obj.x,y:obj.y,color:obj.color,size:obj.size,shape:obj.shape,isInCircle:this.isInCircle(),opacity:obj.opacity},styleOptions=this.get("styleOptions");return styleOptions&&styleOptions.style&&(cfg.style=this.getCallbackCfg(styleOptions.fields,styleOptions.style,obj._origin)),this.get("generatePoints")&&(cfg.points=obj.points,cfg.nextPoints=obj.nextPoints),this.get("animate")&&(cfg._id=this._getShapeId(obj._origin)),cfg},_proto.appendShapeInfo=function(shape,index){shape&&(shape.setSilent("index",index),shape.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&shape.setSilent("animateCfg",this.get("animateCfg")))},_proto._applyViewThemeShapeStyle=function(cfg,shape,shapeFactory){var viewTheme=this.viewTheme||Global,shapeName=shapeFactory.name;shape?shape&&(shape.indexOf("hollow")>-1||shape.indexOf("liquid")>-1)&&(shapeName="hollow"+Util.upperFirst(shapeName)):shapeFactory.defaultShapeType.indexOf("hollow")>-1&&(shapeName="hollow"+Util.upperFirst(shapeName)),cfg.style=Util.mix({},viewTheme.shape[shapeName]||{},cfg.style)},_proto.drawPoint=function(obj,container,shapeFactory,index){var shape=obj.shape,cfg=this.getDrawCfg(obj);this._applyViewThemeShapeStyle(cfg,shape,shapeFactory);var geomShape=shapeFactory.drawShape(shape,cfg,container);this.appendShapeInfo(geomShape,index)},_proto.getAttr=function(name){return this.get("attrs")[name]},_proto.getXScale=function(){return this.getAttr("position").scales[0]},_proto.getYScale=function(){return this.getAttr("position").scales[1]},_proto.getShapes=function(){var result=[],children=this.get("shapeContainer").get("children");return Util.each(children,function(child){child.get("origin")&&result.push(child)}),result},_proto.getAttrsForLegend=function(){var attrs=this.get("attrs"),rst=[];return Util.each(attrs,function(attr){-1!==GROUP_ATTRS.indexOf(attr.type)&&rst.push(attr)}),rst},_proto.getFieldsForLegend=function(){var fields=[],attrOptions=this.get("attrOptions");return Util.each(GROUP_ATTRS,function(attrName){var attrCfg=attrOptions[attrName];attrCfg&&attrCfg.field&&Util.isString(attrCfg.field)&&(fields=fields.concat(attrCfg.field.split("*")))}),Util.uniq(fields)},_proto.changeVisible=function(visible,stopDraw){this.set("visible",visible);var shapeContainer=this.get("shapeContainer");shapeContainer&&shapeContainer.set("visible",visible);var labelContainer=this.get("labelContainer");labelContainer&&labelContainer.set("visible",visible),!stopDraw&&shapeContainer&&shapeContainer.get("canvas").draw()},_proto.reset=function(){this.set("attrOptions",{}),this.clearInner()},_proto.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var shapeContainer=this.get("shapeContainer");shapeContainer&&shapeContainer.clear();var labelContainer=this.get("labelContainer");labelContainer&&labelContainer.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},_proto.clear=function(){this.clearInner(),this.set("scales",{})},_proto.destroy=function(){this.clear();var shapeContainer=this.get("shapeContainer");shapeContainer&&shapeContainer.remove(),this.offEvents(),_Base.prototype.destroy.call(this)},_proto.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},_proto.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},GeomBase}(Base)},function(module,exports,__webpack_require__){module.exports={Axis:__webpack_require__(306),Component:__webpack_require__(66),Guide:__webpack_require__(314),Label:__webpack_require__(323),Legend:__webpack_require__(324),Tooltip:__webpack_require__(330)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Spline=__webpack_require__(334);function _getPointRadius(coord,point){var center=coord.getCenter();return Math.sqrt(Math.pow(point.x-center.x,2)+Math.pow(point.y-center.y,2))}function convertArr(arr,coord){for(var len=arr.length,tmp=[arr[0]],i=1;i<len;i+=2){var point=coord.convertPoint({x:arr[i],y:arr[i+1]});tmp.push(point.x,point.y)}return tmp}var PathUtil={getLinePath:function(points,isInCircle){return function(points,isInCircle){if(!points.length)return[];for(var path=[],i=0,length=points.length;i<length;i++){var item=points[i];path.push(0===i?["M",item.x,item.y]:["L",item.x,item.y])}return isInCircle&&path.push(["Z"]),path}(points,isInCircle)},getSplinePath:function(points,isInCircle,constaint){var data=[],first=points[0],prePoint=null;if(points.length<=2)return PathUtil.getLinePath(points,isInCircle);Util.each(points,function(point){prePoint&&prePoint.x===point.x&&prePoint.y===point.y||(data.push(point.x),data.push(point.y),prePoint=point)});var splinePath=Spline.catmullRom2bezier(data,isInCircle,constaint=constaint||[[0,0],[1,1]]);return splinePath.unshift(["M",first.x,first.y]),splinePath},getPointRadius:function(coord,point){return _getPointRadius(coord,point)},getPointAngle:function(coord,point){var center=coord.getCenter();return Math.atan2(point.y-center.y,point.x-center.x)},convertNormalPath:function(coord,path){var tmp=[];return Util.each(path,function(subPath){switch(subPath[0].toLowerCase()){case"m":case"l":case"c":tmp.push(convertArr(subPath,coord));break;case"z":default:tmp.push(subPath)}}),tmp},convertPolarPath:function(coord,path){var pre,cur,tmp=[];return Util.each(path,function(subPath,index){switch(subPath[0].toLowerCase()){case"m":case"c":case"q":tmp.push(convertArr(subPath,coord));break;case"l":pre=path[index-1],cur=subPath,(coord.isTransposed?pre[pre.length-2]===cur[1]:pre[pre.length-1]===cur[2])?tmp=tmp.concat(function(pre,cur,coord){var startAngle=coord.startAngle,endAngle=coord.endAngle,prePoint={x:pre[1],y:pre[2]},curPoint={x:cur[1],y:cur[2]},rst=[],xDim=coord.isTransposed?"y":"x",angleRange=Math.abs(curPoint[xDim]-prePoint[xDim])*(endAngle-startAngle),direction=curPoint[xDim]>=prePoint[xDim]?1:0,flag=angleRange>Math.PI?1:0,convertPoint=coord.convertPoint(curPoint),r=_getPointRadius(coord,convertPoint);if(r>=.5)if(angleRange===2*Math.PI){var middleConvertPoint=coord.convertPoint({x:(curPoint.x+prePoint.x)/2,y:(curPoint.y+prePoint.y)/2});rst.push(["A",r,r,0,flag,direction,middleConvertPoint.x,middleConvertPoint.y]),rst.push(["A",r,r,0,flag,direction,convertPoint.x,convertPoint.y])}else rst.push(["A",r,r,0,flag,direction,convertPoint.x,convertPoint.y]);return rst}(pre,cur,coord)):tmp.push(convertArr(subPath,coord));break;case"z":default:tmp.push(subPath)}}),function(path){Util.each(path,function(subPath,index){if("a"===subPath[0].toLowerCase()){var pre=path[index-1],next=path[index+1];next&&"a"===next[0].toLowerCase()?pre&&"l"===pre[0].toLowerCase()&&(pre[0]="M"):pre&&"a"===pre[0].toLowerCase()&&next&&"l"===next[0].toLowerCase()&&(next[0]="M")}})}(tmp),tmp}};module.exports=PathUtil},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5);module.exports=function(value){return isNil(value)?"":value.toString()}},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(value){var type=void 0===value?"undefined":_typeof(value);return null!==value&&"object"===type||"function"===type}},function(module,exports,__webpack_require__){module.exports={Canvas:__webpack_require__(181),Group:__webpack_require__(101),Shape:__webpack_require__(6),Arc:__webpack_require__(105),Circle:__webpack_require__(106),Dom:__webpack_require__(107),Ellipse:__webpack_require__(108),Fan:__webpack_require__(109),Image:__webpack_require__(110),Line:__webpack_require__(111),Marker:__webpack_require__(56),Path:__webpack_require__(112),Polygon:__webpack_require__(113),Polyline:__webpack_require__(114),Rect:__webpack_require__(115),Text:__webpack_require__(116),PathSegment:__webpack_require__(39),PathUtil:__webpack_require__(57),Event:__webpack_require__(100),version:"3.3.6"}},function(module,exports,__webpack_require__){var isObjectLike=__webpack_require__(48),isType=__webpack_require__(12);module.exports=function(value){if(!isObjectLike(value)||!isType(value,"Object"))return!1;if(null===Object.getPrototypeOf(value))return!0;for(var proto=value;null!==Object.getPrototypeOf(proto);)proto=Object.getPrototypeOf(proto);return Object.getPrototypeOf(value)===proto}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),regexTags=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,regexDot=/[^\s\,]+/gi,numColorCache={};module.exports={parseRadius:function(radius){var r1=0,r2=0,r3=0,r4=0;return Util.isArray(radius)?1===radius.length?r1=r2=r3=r4=radius[0]:2===radius.length?(r1=r3=radius[0],r2=r4=radius[1]):3===radius.length?(r1=radius[0],r2=r4=radius[1],r3=radius[2]):(r1=radius[0],r2=radius[1],r3=radius[2],r4=radius[3]):r1=r2=r3=r4=radius,{r1:r1,r2:r2,r3:r3,r4:r4}},parsePath:function(path){return Util.isArray(path=path||[])?path:Util.isString(path)?(path=path.match(regexTags),Util.each(path,function(item,index){if((item=item.match(regexDot))[0].length>1){var tag=item[0].charAt(0);item.splice(1,0,item[0].substr(1)),item[0]=tag}Util.each(item,function(sub,i){isNaN(sub)||(item[i]=+sub)}),path[index]=item}),path):void 0},numberToColor:function(num){var color=numColorCache[num];if(!color){for(var str=num.toString(16),i=str.length;i<6;i++)str="0"+str;numColorCache[num]=color="#"+str}return color}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.c=function(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)},__webpack_exports__.b=function(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}},__webpack_exports__.a=nogamma;var __WEBPACK_IMPORTED_MODULE_0__constant__=__webpack_require__(121);function linear(a,d){return function(t){return a+t*d}}function nogamma(a,b){var d=b-a;return d?linear(a,d):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}},function(module,exports,__webpack_require__){var isString=__webpack_require__(10),isArray=__webpack_require__(4),isNil=__webpack_require__(5),mix=__webpack_require__(8),each=__webpack_require__(2);function toScaleString(scale,value){return isString(value)?value:scale.invert(scale.scale(value))}module.exports=function(){function AttributeBase(cfg){var _this=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var mixedCallback=null,defaultCallback=this.callback;if(cfg.callback){var userCallback=cfg.callback;mixedCallback=function(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];var ret=userCallback.apply(void 0,params);return isNil(ret)&&(ret=defaultCallback.apply(_this,params)),ret}}mix(this,cfg),mixedCallback&&mix(this,{callback:mixedCallback})}var _proto=AttributeBase.prototype;return _proto._getAttrValue=function(scale,value){var values=this.values;if(scale.isCategory&&!this.linear)return values[scale.translate(value)%values.length];var percent=scale.scale(value);return this.getLinearValue(percent)},_proto.getLinearValue=function(percent){var values=this.values,steps=values.length-1,step=Math.floor(steps*percent),start=values[step];return start+((step===steps?start:values[step+1])-start)*(steps*percent-step)},_proto.callback=function(value){var scale=this.scales[0];return"identity"===scale.type?scale.value:this._getAttrValue(scale,value)},_proto.getNames=function(){for(var names=this.names,length=Math.min(this.scales.length,names.length),rst=[],i=0;i<length;i++)rst.push(names[i]);return rst},_proto.getFields=function(){var rst=[];return each(this.scales,function(scale){rst.push(scale.field)}),rst},_proto.getScale=function(name){return this.scales[this.names.indexOf(name)]},_proto.mapping=function(){for(var scales=this.scales,callback=this.callback,_len2=arguments.length,params=new Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];var values=params;if(callback){for(var i=0,len=params.length;i<len;i++)params[i]=this._toOriginParam(params[i],scales[i]);values=callback.apply(this,params)}return[].concat(values)},_proto._toOriginParam=function(param,scale){var rst=param;if(!scale.isLinear)if(isArray(param)){rst=[];for(var i=0,len=param.length;i<len;i++)rst.push(toScaleString(scale,param[i]))}else rst=toScaleString(scale,param);return rst},AttributeBase}()},function(module,exports,__webpack_require__){var mix=__webpack_require__(8);module.exports=function(){var _proto=Adjust.prototype;function Adjust(cfg){this._initDefaultCfg(),mix(this,cfg)}return _proto._initDefaultCfg=function(){this.adjustNames=["x","y"]},_proto.processAdjust=function(){},Adjust}()},function(module,exports,__webpack_require__){var Component=__webpack_require__(32),Util=__webpack_require__(3),Grid=__webpack_require__(153),Label=__webpack_require__(154),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY;module.exports=function(_Component){var subClass,superClass;function Axis(){return _Component.apply(this,arguments)||this}superClass=_Component,(subClass=Axis).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Axis.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},_proto.beforeRender=function(){var title=this.get("title"),label=this.get("label"),grid=this.get("grid");title&&this.set("title",Util.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:FONT_FAMILY,textAlign:"center"},offset:48},title)),label&&this.set("label",Util.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:FONT_FAMILY},offset:10},label)),grid&&this.set("grid",Util.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},grid))},_proto.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),Util.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},_proto.renderLabels=function(){var group=this.get("group"),labelCfg=this.get("label"),labelRenderer=new Label;this.set("labelRenderer",labelRenderer),labelRenderer.set("labelCfg",labelCfg),Util.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],function(cfg){labelCfg[cfg]&&labelRenderer.set(cfg,labelCfg[cfg])}),labelRenderer.set("coord",this.get("coord")),labelRenderer.set("group",group.addGroup()),labelRenderer.set("canvas",this.get("canvas"))},_proto._parseTicks=function(ticks){for(var ticksLength=(ticks=ticks||[]).length,i=0;i<ticksLength;i++){var item=ticks[i];Util.isObject(item)||(ticks[i]=this.parseTick(item,i,ticksLength))}return this.set("ticks",ticks),ticks},_proto._addTickItem=function(index,point,length,type){void 0===type&&(type="");var tickItems=this.get("tickItems"),subTickItems=this.get("subTickItems"),end=this.getTickEnd(point,length,index),cfg={x1:point.x,y1:point.y,x2:end.x,y2:end.y};tickItems||(tickItems=[]),subTickItems||(subTickItems=[]),"sub"===type?subTickItems.push(cfg):tickItems.push(cfg),this.set("tickItems",tickItems),this.set("subTickItems",subTickItems)},_proto._renderLine=function(){var path,lineCfg=this.get("line");if(lineCfg){path=this.getLinePath(),lineCfg=Util.mix({path:path},lineCfg);var lineShape=this.get("group").addShape("path",{attrs:lineCfg});lineShape.name="axis-line",this.get("appendInfo")&&lineShape.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",lineShape)}},_proto._processCatTicks=function(){var labelCfg=this.get("label"),tickLineCfg=this.get("tickLine"),ticks=this.get("ticks");ticks=this._parseTicks(ticks);for(var new_ticks=this._getNormalizedTicks(ticks),i=0;i<new_ticks.length;i+=3){var p=this.getTickPoint(new_ticks[i]),p0=this.getTickPoint(new_ticks[i+1]),p1=this.getTickPoint(new_ticks[i+2]),index=Math.floor(i/3),tick=ticks[index];tickLineCfg&&(0===index&&this._addTickItem(index,p0,tickLineCfg.length),this._addTickItem(index,p1,tickLineCfg.length)),labelCfg&&this.addLabel(tick,p,index)}},_proto._getNormalizedTicks=function(ticks){var tickSeg=0;ticks.length>1&&(tickSeg=(ticks[1].value-ticks[0].value)/2);for(var points=[],i=0;i<ticks.length;i++){var tick=ticks[i];points.push(tick.value,tick.value-tickSeg,tick.value+tickSeg)}var range=Util.arrayUtil.getRange(points);return points.map(function(p){return(p-range.min)/(range.max-range.min)})},_proto.addLabel=function(tick,point,index){var labelItems=this.get("labelItems"),labelRenderer=this.get("labelRenderer"),label=Util.deepMix({},this.get("label"));if(labelRenderer){var offset=this.get("_labelOffset");Util.isNil(this.get("label").offset)||(offset=this.get("label").offset);var vector=this.getSideVector(offset,point,index);point={x:point.x+vector[0]+label.offsetX,y:point.y+vector[1]+label.offsetY},label.text=tick.text,label.x=point.x,label.y=point.y,label.point=point,label.textAlign=this.getTextAnchor(vector),point.rotate&&(label.rotate=point.rotate),labelItems.push(label)}},_proto._processTicks=function(){var self=this,labelCfg=self.get("label"),subTickCount=self.get("subTickCount"),tickLineCfg=self.get("tickLine"),ticks=self.get("ticks");if(ticks=self._parseTicks(ticks),Util.each(ticks,function(tick,index){var tickPoint=self.getTickPoint(tick.value,index);tickLineCfg&&self._addTickItem(index,tickPoint,tickLineCfg.length),labelCfg&&self.addLabel(tick,tickPoint,index)}),subTickCount){var subTickLineCfg=self.get("subTickLine");Util.each(ticks,function(tick,index){if(index>0){var diff=tick.value-ticks[index-1].value;diff/=self.get("subTickCount")+1;for(var i=1;i<=subTickCount;i++){var subTickLength,tickPoint=self.getTickPoint(index?ticks[index-1].value+i*diff:i*diff);subTickLength=subTickLineCfg&&subTickLineCfg.length?subTickLineCfg.length:parseInt(.6*tickLineCfg.length,10),self._addTickItem(i-1,tickPoint,subTickLength,"sub")}}})}},_proto._addTickLine=function(ticks,lineCfg){var cfg=Util.mix({},lineCfg),path=[];Util.each(ticks,function(item){path.push(["M",item.x1,item.y1]),path.push(["L",item.x2,item.y2])}),delete cfg.length,cfg.path=path;var tickShape=this.get("group").addShape("path",{attrs:cfg});tickShape.name="axis-ticks",tickShape._id=this.get("_id")+"-ticks",tickShape.set("coord",this.get("coord")),this.get("appendInfo")&&tickShape.setSilent("appendInfo",this.get("appendInfo"))},_proto._renderTicks=function(){var tickItems=this.get("tickItems"),subTickItems=this.get("subTickItems");if(!Util.isEmpty(tickItems)){var tickLineCfg=this.get("tickLine");this._addTickLine(tickItems,tickLineCfg)}if(!Util.isEmpty(subTickItems)){var subTickLineCfg=this.get("subTickLine")||this.get("tickLine");this._addTickLine(subTickItems,subTickLineCfg)}},_proto._renderGrid=function(){var grid=this.get("grid");if(grid){grid.coord=this.get("coord"),grid.appendInfo=this.get("appendInfo");var group=this.get("group");this.set("gridGroup",group.addGroup(Grid,grid))}},_proto._renderLabels=function(){var labelRenderer=this.get("labelRenderer"),labelItems=this.get("labelItems");labelRenderer&&(labelRenderer.set("items",labelItems),labelRenderer._dryDraw())},_proto.paint=function(){var tickLineCfg=this.get("tickLine"),alignWithLabel=!0;tickLineCfg&&tickLineCfg.hasOwnProperty("alignWithLabel")&&(alignWithLabel=tickLineCfg.alignWithLabel),this._renderLine();var type=this.get("type");"cat"!==type&&"timeCat"!==type||!1!==alignWithLabel?this._processTicks():this._processCatTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var labelCfg=this.get("label");labelCfg&&labelCfg.autoRotate&&this.autoRotateLabels(),labelCfg&&labelCfg.autoHide&&this.autoHideLabels()},_proto.parseTick=function(tick,index,length){return{text:tick,value:index/(length-1)}},_proto.getTextAnchor=function(vector){return Math.abs(vector[1]/vector[0])>=1?"center":vector[0]>0?"start":"end"},_proto.getMaxLabelWidth=function(labelRenderer){var labels=labelRenderer.getLabels(),max=0;return Util.each(labels,function(label){var width=label.getBBox().width;max<width&&(max=width)}),max},_proto.getMaxLabelHeight=function(labelRenderer){var labels=labelRenderer.getLabels(),max=0;return Util.each(labels,function(label){var height=label.getBBox().height;max<height&&(max=height)}),max},_proto.destroy=function(){if(!this.destroyed){_Component.prototype.destroy.call(this);var gridGroup=this.get("gridGroup");gridGroup&&gridGroup.remove();var labelRenderer=this.get("labelRenderer");labelRenderer&&labelRenderer.destroy(),this.get("group").destroy(),this.destroyed=!0}},_proto.clear=function(){var group=this.get("group");if(!group.get("destroyed")&&group.get("children").length){var gridGroup=this.get("gridGroup");gridGroup&&gridGroup.clear();var labelRenderer=this.get("labelRenderer");labelRenderer&&labelRenderer.clear(),this.get("group").clear()}},_proto.autoRotateLabels=function(){},_proto.autoHideLabels=function(){},_proto.renderTitle=function(){},_proto.getLinePath=function(){},_proto.getTickPoint=function(){},_proto.getTickEnd=function(){},_proto.getSideVector=function(){},Axis}(Component)},function(module,exports,__webpack_require__){var Base=__webpack_require__(66);module.exports=function(_Base){var subClass,superClass;function Component(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Component).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Component.prototype;return _proto.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},_proto._init=function(){},_proto.clear=function(){},_proto.destroy=function(){},_proto.beforeRender=function(){},_proto.render=function(){},_proto.afterRender=function(){},_proto.beforeDraw=function(){},_proto.draw=function(){},_proto.afterDraw=function(){},_proto.show=function(){},_proto.hide=function(){},_proto.setOffset=function(){},_proto.setPosition=function(){},_proto.setVisible=function(){},_proto.setZIndex=function(){},Component}(Base)},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),each=__webpack_require__(2),Base=__webpack_require__(17),numberAuto=__webpack_require__(174),Linear=function(_Base){var subClass,superClass;function Linear(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Linear).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Linear.prototype;return _proto._initDefaultCfg=function(){_Base.prototype._initDefaultCfg.call(this),this.type="linear",this.isLinear=!0,this.nice=!1,this.min=null,this.minLimit=null,this.max=null,this.maxLimit=null,this.tickCount=null,this.tickInterval=null,this.minTickInterval=null,this.snapArray=null},_proto.init=function(){if(this.ticks){var ticks=this.ticks,firstValue=this.translate(ticks[0]),lastValue=this.translate(ticks[ticks.length-1]);(isNil(this.min)||this.min>firstValue)&&(this.min=firstValue),(isNil(this.max)||this.max<lastValue)&&(this.max=lastValue)}else this.min=this.translate(this.min),this.max=this.translate(this.max),this.initTicks()},_proto.calculateTicks=function(){var min=this.min,max=this.max,minLimit=this.minLimit,maxLimit=this.maxLimit,tickCount=this.tickCount,tickInterval=this.tickInterval,minTickInterval=this.minTickInterval,snapArray=this.snapArray;if(1===tickCount)throw new Error("linear scale'tickCount should not be 1");if(max<min)throw new Error("max: "+max+" should not be less than min: "+min);return numberAuto({min:min,max:max,minLimit:minLimit,maxLimit:maxLimit,minCount:tickCount,maxCount:tickCount,interval:tickInterval,minTickInterval:minTickInterval,snapArray:snapArray}).ticks},_proto.initTicks=function(){var self=this,calTicks=self.calculateTicks();if(self.nice)self.ticks=calTicks,self.min=calTicks[0],self.max=calTicks[calTicks.length-1];else{var ticks=[];each(calTicks,function(tick){tick>=self.min&&tick<=self.max&&ticks.push(tick)}),ticks.length||(ticks.push(self.min),ticks.push(self.max)),self.ticks=ticks}},_proto.scale=function(value){if(isNil(value))return NaN;var max=this.max,min=this.min;if(max===min)return 0;var percent=(value-min)/(max-min),rangeMin=this.rangeMin();return rangeMin+percent*(this.rangeMax()-rangeMin)},_proto.invert=function(value){var percent=(value-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+percent*(this.max-this.min)},Linear}(Base);Base.Linear=Linear,module.exports=Linear},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13);module.exports=function(value){return isArrayLike(value)?Array.prototype.slice.call(value):[]}},function(module,exports){module.exports=function(a,b){var precision=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(a-b)<precision}},function(module,exports,__webpack_require__){var vec2=__webpack_require__(1).vec2;module.exports={at:function(p1,p2,t){return(p2-p1)*t+p1},pointDistance:function(x1,y1,x2,y2,x,y){var d=[x2-x1,y2-y1];if(vec2.exactEquals(d,[0,0]))return NaN;var u=[-d[1],d[0]];return vec2.normalize(u,u),Math.abs(vec2.dot([x-x1,y-y1],u))},box:function(x1,y1,x2,y2,lineWidth){var halfWidth=lineWidth/2,minX=Math.min(x1,x2),maxX=Math.max(x1,x2);return{minX:minX-halfWidth,minY:Math.min(y1,y2)-halfWidth,maxX:maxX+halfWidth,maxY:Math.max(y1,y2)+halfWidth}},len:function(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1);function circlePoint(cx,cy,r,angle){return{x:Math.cos(angle)*r+cx,y:Math.sin(angle)*r+cy}}function angleNearTo(angle,min,max,out){var v1,v2;return out?angle<min?(v1=min-angle,v2=2*Math.PI-max+angle):angle>max&&(v1=2*Math.PI-angle+min,v2=angle-max):(v1=angle-min,v2=max-angle),v1>v2?max:min}function nearAngle(angle,startAngle,endAngle,clockwise){var plus=0;return endAngle-startAngle>=2*Math.PI&&(plus=2*Math.PI),startAngle=Util.mod(startAngle,2*Math.PI),endAngle=Util.mod(endAngle,2*Math.PI)+plus,angle=Util.mod(angle,2*Math.PI),clockwise?startAngle>=endAngle?angle>endAngle&&angle<startAngle?angle:angleNearTo(angle,endAngle,startAngle,!0):angle<startAngle||angle>endAngle?angle:angleNearTo(angle,startAngle,endAngle):startAngle<=endAngle?startAngle<angle&&angle<endAngle?angle:angleNearTo(angle,startAngle,endAngle,!0):angle>startAngle||angle<endAngle?angle:angleNearTo(angle,endAngle,startAngle)}function arcProjectPoint(cx,cy,r,startAngle,endAngle,clockwise,x,y,out){var v=[x,y],subv=Util.vec2.subtract([],v,[cx,cy]),angle=Util.vec2.angleTo([1,0],subv);angle=nearAngle(angle,startAngle,endAngle,clockwise);var vpoint=[r*Math.cos(angle)+cx,r*Math.sin(angle)+cy];return out&&(out.x=vpoint[0],out.y=vpoint[1]),Util.vec2.distance(vpoint,v)}module.exports={nearAngle:nearAngle,projectPoint:function(cx,cy,r,startAngle,endAngle,clockwise,x,y){var rst={};return arcProjectPoint(cx,cy,r,startAngle,endAngle,clockwise,x,y,rst),rst},pointDistance:arcProjectPoint,box:function(cx,cy,r,startAngle,endAngle,clockwise){var angleBottom=Math.PI/2,angleLeft=Math.PI,angleTop=3*Math.PI/2,points=[],angle=nearAngle(0,startAngle,endAngle,clockwise);0===angle&&points.push(circlePoint(cx,cy,r,0)),(angle=nearAngle(angleBottom,startAngle,endAngle,clockwise))===angleBottom&&points.push(circlePoint(cx,cy,r,angleBottom)),(angle=nearAngle(angleLeft,startAngle,endAngle,clockwise))===angleLeft&&points.push(circlePoint(cx,cy,r,angleLeft)),(angle=nearAngle(angleTop,startAngle,endAngle,clockwise))===angleTop&&points.push(circlePoint(cx,cy,r,angleTop)),points.push(circlePoint(cx,cy,r,startAngle)),points.push(circlePoint(cx,cy,r,endAngle));var minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;return Util.each(points,function(point){minX>point.x&&(minX=point.x),maxX<point.x&&(maxX=point.x),minY>point.y&&(minY=point.y),maxY<point.y&&(maxY=point.y)}),{minX:minX,minY:minY,maxX:maxX,maxY:maxY}}}},function(module,exports,__webpack_require__){var Format=__webpack_require__(27),PathSegment=__webpack_require__(39),PI=Math.PI,sin=Math.sin,cos=Math.cos,atan2=Math.atan2,DEFAULT_LENGTH=10,DEFAULT_ANGLE=PI/3;function _addArrow(ctx,attrs,x1,y1,x2,y2,isStart){var leftX,leftY,rightX,rightY,offsetX,offsetY,angle;if(!attrs.fill){var arrowLength=attrs.arrowLength||DEFAULT_LENGTH,arrowAngle=attrs.arrowAngle?attrs.arrowAngle*PI/180:DEFAULT_ANGLE;angle=atan2(y1-y2,x1-x2),offsetX=Math.abs(attrs.lineWidth*cos(angle))/2,offsetY=Math.abs(attrs.lineWidth*sin(angle))/2,isStart&&(offsetX=-offsetX,offsetY=-offsetY),leftX=x2+arrowLength*cos(angle+arrowAngle/2),leftY=y2+arrowLength*sin(angle+arrowAngle/2),rightX=x2+arrowLength*cos(angle-arrowAngle/2),rightY=y2+arrowLength*sin(angle-arrowAngle/2),ctx.beginPath(),ctx.moveTo(leftX-offsetX,leftY-offsetY),ctx.lineTo(x2-offsetX,y2-offsetY),ctx.lineTo(rightX-offsetX,rightY-offsetY),ctx.moveTo(x2-offsetX,y2-offsetY),ctx.lineTo(x2+offsetX,y2+offsetY),ctx.moveTo(x2,y2),ctx.stroke()}}function _addCustomizedArrow(ctx,attrs,x1,y1,x2,y2,isStart){var shape=isStart?attrs.startArrow:attrs.endArrow,d=shape.d,deg=0,x=x2-x1,y=y2-y1,tan=Math.atan(x/y);0===y&&x<0?deg=Math.PI:x>0&&y>0?deg=Math.PI/2-tan:x<0&&y<0?deg=-Math.PI/2-tan:x>=0&&y<0?deg=-tan-Math.PI/2:x<=0&&y>0&&(deg=Math.PI/2-tan);var path=function(attrs){var preSegment,segments=[],pathArray=Format.parsePath(shape.path);if(!Array.isArray(pathArray)||0===pathArray.length||"M"!==pathArray[0][0]&&"m"!==pathArray[0][0])return!1;for(var count=pathArray.length,i=0;i<pathArray.length;i++)preSegment=new PathSegment(pathArray[i],preSegment,i===count-1),segments.push(preSegment);return segments}();if(path){d&&(isStart?(x2+=Math.sin(Math.abs(tan))*d,y2=y2+Math.cos(Math.abs(tan))*d-.5*ctx.lineWidth):(x2-=Math.sin(Math.abs(tan))*d,y2=y2-Math.cos(Math.abs(tan))*d+.5*ctx.lineWidth)),ctx.save(),ctx.beginPath(),ctx.translate(x2,y2),ctx.rotate(deg);for(var i=0;i<path.length;i++)path[i].draw(ctx);ctx.setTransform(1,0,0,1,0,0),ctx.fillStyle=ctx.strokeStyle,ctx.fill(),ctx.restore()}}module.exports={addStartArrow:function(ctx,attrs,x1,y1,x2,y2){"object"==typeof attrs.startArrow?_addCustomizedArrow(ctx,attrs,x1,y1,x2,y2,!0):attrs.startArrow&&_addArrow(ctx,attrs,x1,y1,x2,y2,!0)},addEndArrow:function(ctx,attrs,x1,y1,x2,y2){"object"==typeof attrs.endArrow?_addCustomizedArrow(ctx,attrs,x1,y1,x2,y2,!1):attrs.endArrow&&_addArrow(ctx,attrs,x1,y1,x2,y2,!1)}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Inside=__webpack_require__(54),Cubic=__webpack_require__(55),Quadratic=__webpack_require__(103),Ellipse=__webpack_require__(104),vec3=Util.vec3,mat3=Util.mat3,ARR_CMD=["m","l","c","a","q","h","v","t","s","z"];function toAbsolute(x,y,curPoint){return{x:curPoint.x+x,y:curPoint.y+y}}function toSymmetry(point,center){return{x:center.x+(center.x-point.x),y:center.y+(center.y-point.y)}}function vMag(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])}function vRatio(u,v){return(u[0]*v[0]+u[1]*v[1])/(vMag(u)*vMag(v))}function vAngle(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(vRatio(u,v))}var PathSegment=function(item,preSegment,isLast){this.preSegment=preSegment,this.isLast=isLast,this.init(item,preSegment)};Util.augment(PathSegment,{init:function(item,preSegment){var command=item[0];preSegment=preSegment||{endPoint:{x:0,y:0}};var point1,point2,point3,point,relative=ARR_CMD.indexOf(command)>=0,cmd=relative?command.toUpperCase():command,p=item,preEndPoint=preSegment.endPoint,p1=p[1],p2=p[2];switch(cmd){default:break;case"M":point=relative?toAbsolute(p1,p2,preEndPoint):{x:p1,y:p2},this.command="M",this.params=[preEndPoint,point],this.subStart=point,this.endPoint=point;break;case"L":point=relative?toAbsolute(p1,p2,preEndPoint):{x:p1,y:p2},this.command="L",this.params=[preEndPoint,point],this.subStart=preSegment.subStart,this.endPoint=point,this.endTangent=function(){return[point.x-preEndPoint.x,point.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point.x,preEndPoint.y-point.y]};break;case"H":point=relative?toAbsolute(p1,0,preEndPoint):{x:p1,y:preEndPoint.y},this.command="L",this.params=[preEndPoint,point],this.subStart=preSegment.subStart,this.endPoint=point,this.endTangent=function(){return[point.x-preEndPoint.x,point.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point.x,preEndPoint.y-point.y]};break;case"V":point=relative?toAbsolute(0,p1,preEndPoint):{x:preEndPoint.x,y:p1},this.command="L",this.params=[preEndPoint,point],this.subStart=preSegment.subStart,this.endPoint=point,this.endTangent=function(){return[point.x-preEndPoint.x,point.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point.x,preEndPoint.y-point.y]};break;case"Q":relative?(point1=toAbsolute(p1,p2,preEndPoint),point2=toAbsolute(p[3],p[4],preEndPoint)):(point1={x:p1,y:p2},point2={x:p[3],y:p[4]}),this.command="Q",this.params=[preEndPoint,point1,point2],this.subStart=preSegment.subStart,this.endPoint=point2,this.endTangent=function(){return[point2.x-point1.x,point2.y-point1.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]};break;case"T":point2=relative?toAbsolute(p1,p2,preEndPoint):{x:p1,y:p2},"Q"===preSegment.command?(point1=toSymmetry(preSegment.params[1],preEndPoint),this.command="Q",this.params=[preEndPoint,point1,point2],this.subStart=preSegment.subStart,this.endPoint=point2,this.endTangent=function(){return[point2.x-point1.x,point2.y-point1.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]}):(this.command="TL",this.params=[preEndPoint,point2],this.subStart=preSegment.subStart,this.endPoint=point2,this.endTangent=function(){return[point2.x-preEndPoint.x,point2.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point2.x,preEndPoint.y-point2.y]});break;case"C":relative?(point1=toAbsolute(p1,p2,preEndPoint),point2=toAbsolute(p[3],p[4],preEndPoint),point3=toAbsolute(p[5],p[6],preEndPoint)):(point1={x:p1,y:p2},point2={x:p[3],y:p[4]},point3={x:p[5],y:p[6]}),this.command="C",this.params=[preEndPoint,point1,point2,point3],this.subStart=preSegment.subStart,this.endPoint=point3,this.endTangent=function(){return[point3.x-point2.x,point3.y-point2.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]};break;case"S":relative?(point2=toAbsolute(p1,p2,preEndPoint),point3=toAbsolute(p[3],p[4],preEndPoint)):(point2={x:p1,y:p2},point3={x:p[3],y:p[4]}),"C"===preSegment.command?(point1=toSymmetry(preSegment.params[2],preEndPoint),this.command="C",this.params=[preEndPoint,point1,point2,point3],this.subStart=preSegment.subStart,this.endPoint=point3,this.endTangent=function(){return[point3.x-point2.x,point3.y-point2.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]}):(this.command="SQ",this.params=[preEndPoint,point2,point3],this.subStart=preSegment.subStart,this.endPoint=point3,this.endTangent=function(){return[point3.x-point2.x,point3.y-point2.y]},this.startTangent=function(){return[preEndPoint.x-point2.x,preEndPoint.y-point2.y]});break;case"A":var rx=p1,ry=p2,psi=p[3],fa=p[4],fs=p[5];point=relative?toAbsolute(p[6],p[7],preEndPoint):{x:p[6],y:p[7]},this.command="A";var params=function(point1,point2,fa,fs,rx,ry,psiDeg){var psi=Util.mod(Util.toRadian(psiDeg),2*Math.PI),x1=point1.x,y1=point1.y,x2=point2.x,y2=point2.y,xp=Math.cos(psi)*(x1-x2)/2+Math.sin(psi)*(y1-y2)/2,yp=-1*Math.sin(psi)*(x1-x2)/2+Math.cos(psi)*(y1-y2)/2,lambda=xp*xp/(rx*rx)+yp*yp/(ry*ry);lambda>1&&(rx*=Math.sqrt(lambda),ry*=Math.sqrt(lambda));var diff=rx*rx*(yp*yp)+ry*ry*(xp*xp),f=Math.sqrt((rx*rx*(ry*ry)-diff)/diff);fa===fs&&(f*=-1),isNaN(f)&&(f=0);var cxp=f*rx*yp/ry,cyp=f*-ry*xp/rx,cx=(x1+x2)/2+Math.cos(psi)*cxp-Math.sin(psi)*cyp,cy=(y1+y2)/2+Math.sin(psi)*cxp+Math.cos(psi)*cyp,theta=vAngle([1,0],[(xp-cxp)/rx,(yp-cyp)/ry]),u=[(xp-cxp)/rx,(yp-cyp)/ry],v=[(-1*xp-cxp)/rx,(-1*yp-cyp)/ry],dTheta=vAngle(u,v);return vRatio(u,v)<=-1&&(dTheta=Math.PI),vRatio(u,v)>=1&&(dTheta=0),0===fs&&dTheta>0&&(dTheta-=2*Math.PI),1===fs&&dTheta<0&&(dTheta+=2*Math.PI),[point1,cx,cy,rx,ry,theta,dTheta,psi,fs]}(preEndPoint,point,fa,fs,rx,ry,psi);this.params=params;var start=preSegment.subStart;this.subStart=start,this.endPoint=point;var startAngle=params[5]%(2*Math.PI);Util.isNumberEqual(startAngle,2*Math.PI)&&(startAngle=0);var endAngle=params[6]%(2*Math.PI);Util.isNumberEqual(endAngle,2*Math.PI)&&(endAngle=0);var d=.001;this.startTangent=function(){0===fs&&(d*=-1);var dx=params[3]*Math.cos(startAngle-d)+params[1],dy=params[4]*Math.sin(startAngle-d)+params[2];return[dx-start.x,dy-start.y]},this.endTangent=function(){var endAngle=params[6];endAngle-2*Math.PI<1e-4&&(endAngle=0);var dx=params[3]*Math.cos(startAngle+endAngle+d)+params[1],dy=params[4]*Math.sin(startAngle+endAngle-d)+params[2];return[preEndPoint.x-dx,preEndPoint.y-dy]};break;case"Z":this.command="Z",this.params=[preEndPoint,preSegment.subStart],this.subStart=preSegment.subStart,this.endPoint=preSegment.subStart}},isInside:function(x,y,lineWidth){var command=this.command,params=this.params,box=this.box;if(box&&!Inside.box(box.minX,box.maxX,box.minY,box.maxY,x,y))return!1;switch(command){default:break;case"M":return!1;case"TL":case"L":case"Z":return Inside.line(params[0].x,params[0].y,params[1].x,params[1].y,lineWidth,x,y);case"SQ":case"Q":return Inside.quadraticline(params[0].x,params[0].y,params[1].x,params[1].y,params[2].x,params[2].y,lineWidth,x,y);case"C":return Inside.cubicline(params[0].x,params[0].y,params[1].x,params[1].y,params[2].x,params[2].y,params[3].x,params[3].y,lineWidth,x,y);case"A":var p=params,cx=p[1],cy=p[2],rx=p[3],ry=p[4],theta=p[5],dTheta=p[6],psi=p[7],fs=p[8],r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1;p=[x,y,1];var m=[1,0,0,0,1,0,0,0,1];return mat3.translate(m,m,[-cx,-cy]),mat3.rotate(m,m,-psi),mat3.scale(m,m,[1/scaleX,1/scaleY]),vec3.transformMat3(p,p,m),Inside.arcline(0,0,r,theta,theta+dTheta,1-fs,lineWidth,p[0],p[1])}return!1},draw:function(context){var point1,point2,point3,params=this.params;switch(this.command){default:break;case"M":context.moveTo(params[1].x,params[1].y);break;case"TL":case"L":context.lineTo(params[1].x,params[1].y);break;case"SQ":case"Q":context.quadraticCurveTo((point1=params[1]).x,point1.y,(point2=params[2]).x,point2.y);break;case"C":context.bezierCurveTo((point1=params[1]).x,point1.y,(point2=params[2]).x,point2.y,(point3=params[3]).x,point3.y);break;case"A":var cx=params[1],cy=params[2],rx=params[3],ry=params[4],theta=params[5],dTheta=params[6],psi=params[7],fs=params[8],r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1;context.translate(cx,cy),context.rotate(psi),context.scale(scaleX,scaleY),context.arc(0,0,r,theta,theta+dTheta,1-fs),context.scale(1/scaleX,1/scaleY),context.rotate(-psi),context.translate(-cx,-cy);break;case"Z":context.closePath()}},getBBox:function(lineWidth){var yDims,xDims,i,l,halfWidth=lineWidth/2,params=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(params[0].x,params[1].x)-halfWidth,maxX:Math.max(params[0].x,params[1].x)+halfWidth,minY:Math.min(params[0].y,params[1].y)-halfWidth,maxY:Math.max(params[0].y,params[1].y)+halfWidth};break;case"SQ":case"Q":for(i=0,l=(xDims=Quadratic.extrema(params[0].x,params[1].x,params[2].x)).length;i<l;i++)xDims[i]=Quadratic.at(params[0].x,params[1].x,params[2].x,xDims[i]);for(xDims.push(params[0].x,params[2].x),i=0,l=(yDims=Quadratic.extrema(params[0].y,params[1].y,params[2].y)).length;i<l;i++)yDims[i]=Quadratic.at(params[0].y,params[1].y,params[2].y,yDims);yDims.push(params[0].y,params[2].y),this.box={minX:Math.min.apply(Math,xDims)-halfWidth,maxX:Math.max.apply(Math,xDims)+halfWidth,minY:Math.min.apply(Math,yDims)-halfWidth,maxY:Math.max.apply(Math,yDims)+halfWidth};break;case"C":for(i=0,l=(xDims=Cubic.extrema(params[0].x,params[1].x,params[2].x,params[3].x)).length;i<l;i++)xDims[i]=Cubic.at(params[0].x,params[1].x,params[2].x,params[3].x,xDims[i]);for(i=0,l=(yDims=Cubic.extrema(params[0].y,params[1].y,params[2].y,params[3].y)).length;i<l;i++)yDims[i]=Cubic.at(params[0].y,params[1].y,params[2].y,params[3].y,yDims[i]);xDims.push(params[0].x,params[3].x),yDims.push(params[0].y,params[3].y),this.box={minX:Math.min.apply(Math,xDims)-halfWidth,maxX:Math.max.apply(Math,xDims)+halfWidth,minY:Math.min.apply(Math,yDims)-halfWidth,maxY:Math.max.apply(Math,yDims)+halfWidth};break;case"A":var cx=params[1],cy=params[2],rx=params[3],ry=params[4],theta=params[5],psi=params[7],fs=params[8],start=theta,end=theta+params[6],xDim=Ellipse.xExtrema(psi,rx,ry),minX=1/0,maxX=-1/0,xs=[start,end];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var xAngle=xDim+i;1===fs?start<xAngle&&xAngle<end&&xs.push(xAngle):end<xAngle&&xAngle<start&&xs.push(xAngle)}for(i=0,l=xs.length;i<l;i++){var x=Ellipse.xAt(psi,rx,ry,cx,xs[i]);x<minX&&(minX=x),x>maxX&&(maxX=x)}var yDim=Ellipse.yExtrema(psi,rx,ry),minY=1/0,maxY=-1/0,ys=[start,end];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var yAngle=yDim+i;1===fs?start<yAngle&&yAngle<end&&ys.push(yAngle):end<yAngle&&yAngle<start&&ys.push(yAngle)}for(i=0,l=ys.length;i<l;i++){var y=Ellipse.yAt(psi,rx,ry,cy,ys[i]);y<minY&&(minY=y),y>maxY&&(maxY=y)}this.box={minX:minX-halfWidth,maxX:maxX+halfWidth,minY:minY-halfWidth,maxY:maxY+halfWidth}}}}),module.exports=PathSegment},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return b-=a=+a,function(t){return a+b*t}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),indexOf=Array.prototype.indexOf;module.exports=function(arr,value){return!!isArrayLike(arr)&&indexOf.call(arr,value)>-1}},function(module,exports){module.exports=function(dataArray){for(var rst=[],i=0;i<dataArray.length;i++)rst=rst.concat(dataArray[i]);return rst}},function(module,exports,__webpack_require__){module.exports={mat3:__webpack_require__(51),vec2:__webpack_require__(97),vec3:__webpack_require__(98),transform:__webpack_require__(99)}},function(module,exports,__webpack_require__){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var MatrixUtil=__webpack_require__(43),mix=__webpack_require__(8),mat3=MatrixUtil.mat3,vec3=MatrixUtil.vec3;module.exports=function(){function Coord(cfg){!function(instance,Constructor){if(!(instance instanceof Coord))throw new TypeError("Cannot call a class as a function")}(this);var defaultCfg=this.getDefaultCfg();mix(this,defaultCfg,cfg),this.init()}return _createClass(Coord,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),_createClass(Coord,[{key:"init",value:function(){var start=this.start,end=this.end;this.center={x:(start.x+end.x)/2,y:(start.y+end.y)/2},this.width=Math.abs(end.x-start.x),this.height=Math.abs(end.y-start.y)}},{key:"_swapDim",value:function(dim){var dimRange=this[dim];if(dimRange){var tmp=dimRange.start;dimRange.start=dimRange.end,dimRange.end=tmp}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(percent,dim){var _this$dim=this[dim],start=_this$dim.start;return start+percent*(_this$dim.end-start)}},{key:"invertDim",value:function(value,dim){var _this$dim2=this[dim],start=_this$dim2.start;return(value-start)/(_this$dim2.end-start)}},{key:"convertPoint",value:function(point){return point}},{key:"invertPoint",value:function(point){return point}},{key:"applyMatrix",value:function(x,y){var tag=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,matrix=this.matrix,vector=[x,y,tag];return vec3.transformMat3(vector,vector,matrix),vector}},{key:"invertMatrix",value:function(x,y){var tag=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,matrix=this.matrix,inversedMatrix=mat3.invert([],matrix),vector=[x,y,tag];return vec3.transformMat3(vector,vector,inversedMatrix),vector}},{key:"convert",value:function(point){var _this$convertPoint=this.convertPoint(point),vector=this.applyMatrix(_this$convertPoint.x,_this$convertPoint.y,1);return{x:vector[0],y:vector[1]}}},{key:"invert",value:function(point){var vector=this.invertMatrix(point.x,point.y,1);return this.invertPoint({x:vector[0],y:vector[1]})}},{key:"rotate",value:function(radian){var matrix=this.matrix,center=this.center;return mat3.translate(matrix,matrix,[-center.x,-center.y]),mat3.rotate(matrix,matrix,radian),mat3.translate(matrix,matrix,[center.x,center.y]),this}},{key:"reflect",value:function(dim){switch(dim){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(s1,s2){var matrix=this.matrix,center=this.center;return mat3.translate(matrix,matrix,[-center.x,-center.y]),mat3.scale(matrix,matrix,[s1,s2]),mat3.translate(matrix,matrix,[center.x,center.y]),this}},{key:"translate",value:function(x,y){var matrix=this.matrix;return mat3.translate(matrix,matrix,[x,y]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),Coord}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0);module.exports={splitPoints:function(obj){var points=[],x=obj.x,y=obj.y;return y=Util.isArray(y)?y:[y],Util.each(y,function(yItem,index){var point={x:Util.isArray(x)?x[index]:x,y:yItem};points.push(point)}),points},addFillAttrs:function(attrs,cfg){cfg.color&&(attrs.fill=cfg.color),Util.isNumber(cfg.opacity)&&(attrs.opacity=attrs.fillOpacity=cfg.opacity)},addStrokeAttrs:function(attrs,cfg){cfg.color&&(attrs.stroke=cfg.color),Util.isNumber(cfg.opacity)&&(attrs.opacity=attrs.strokeOpacity=cfg.opacity)}}},function(module,exports,__webpack_require__){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isArray=__webpack_require__(4);module.exports=function clone(obj){if("object"!==(void 0===obj?"undefined":_typeof(obj))||null===obj)return obj;var rst=void 0;if(isArray(obj)){rst=[];for(var i=0,l=obj.length;i<l;i++)rst[i]="object"===_typeof(obj[i])&&null!=obj[i]?clone(obj[i]):obj[i]}else for(var k in rst={},obj)rst[k]="object"===_typeof(obj[k])&&null!=obj[k]?clone(obj[k]):obj[k];return rst}},function(module,exports,__webpack_require__){var isPlainObject=__webpack_require__(26),isArray=__webpack_require__(4),MAX_MIX_LEVEL=5;function _deepMix(dist,src,level,maxLevel){for(var key in level=level||0,maxLevel=maxLevel||MAX_MIX_LEVEL,src)if(src.hasOwnProperty(key)){var value=src[key];null!==value&&isPlainObject(value)?(isPlainObject(dist[key])||(dist[key]={}),level<maxLevel?_deepMix(dist[key],value,level+1,maxLevel):dist[key]=src[key]):isArray(value)?(dist[key]=[],dist[key]=dist[key].concat(value)):void 0!==value&&(dist[key]=value)}}module.exports=function(){for(var args=new Array(arguments.length),length=args.length,i=0;i<length;i++)args[i]=arguments[i];for(var rst=args[0],_i=1;_i<length;_i++)_deepMix(rst,args[_i]);return rst}},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(value){return"object"===(void 0===value?"undefined":_typeof(value))&&null!==value}},function(module,exports,__webpack_require__){var isObjectLike=__webpack_require__(48),isArrayLike=__webpack_require__(13),isString=__webpack_require__(10);module.exports=function isEqual(value,other){if(value===other)return!0;if(!value||!other)return!1;if(isString(value)||isString(other))return!1;if(isArrayLike(value)||isArrayLike(other)){if(value.length!==other.length)return!1;for(var rst=!0,i=0;i<value.length&&(rst=isEqual(value[i],other[i]));i++);return rst}if(isObjectLike(value)||isObjectLike(other)){var valueKeys=Object.keys(value),otherKeys=Object.keys(other);if(valueKeys.length!==otherKeys.length)return!1;for(var _rst=!0,_i=0;_i<valueKeys.length&&(_rst=isEqual(value[valueKeys[_i]],other[valueKeys[_i]]));_i++);return _rst}return!1}},function(module,exports){module.exports=function(a,min,max){return a<min?min:a>max?max:a}},function(module,exports,__webpack_require__){var mat3=__webpack_require__(182);mat3.translate=function(out,a,v){var transMat=new Array(9);return mat3.fromTranslation(transMat,v),mat3.multiply(out,transMat,a)},mat3.rotate=function(out,a,rad){var rotateMat=new Array(9);return mat3.fromRotation(rotateMat,rad),mat3.multiply(out,rotateMat,a)},mat3.scale=function(out,a,v){var scaleMat=new Array(9);return mat3.fromScaling(scaleMat,v),mat3.multiply(out,scaleMat,a)},module.exports=mat3},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=function(type){exports.ARRAY_TYPE=type},exports.toRadian=function(a){return a*degree},exports.equals=function(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};var EPSILON=exports.EPSILON=1e-6;exports.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,exports.RANDOM=Math.random;var degree=Math.PI/180},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(exports){"use strict";function EventEmitter(){}var proto=EventEmitter.prototype,originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){for(var i=listeners.length;i--;)if(listeners[i].listener===listener)return i;return-1}function alias(name){return function(){return this[name].apply(this,arguments)}}proto.getListeners=function(evt){var response,key,events=this._getEvents();if(evt instanceof RegExp)for(key in response={},events)events.hasOwnProperty(key)&&evt.test(key)&&(response[key]=events[key]);else response=events[evt]||(events[evt]=[]);return response},proto.flattenListeners=function(listeners){var i,flatListeners=[];for(i=0;i<listeners.length;i+=1)flatListeners.push(listeners[i].listener);return flatListeners},proto.getListenersAsObject=function(evt){var response,listeners=this.getListeners(evt);return listeners instanceof Array&&((response={})[evt]=listeners),response||listeners},proto.addListener=function(evt,listener){if(!function isValidListener(listener){return"function"==typeof listener||listener instanceof RegExp||!(!listener||"object"!=typeof listener)&&isValidListener(listener.listener)}(listener))throw new TypeError("listener must be a function");var key,listeners=this.getListenersAsObject(evt),listenerIsWrapped="object"==typeof listener;for(key in listeners)listeners.hasOwnProperty(key)&&-1===indexOfListener(listeners[key],listener)&&listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:!1});return this},proto.on=alias("addListener"),proto.addOnceListener=function(evt,listener){return this.addListener(evt,{listener:listener,once:!0})},proto.once=alias("addOnceListener"),proto.defineEvent=function(evt){return this.getListeners(evt),this},proto.defineEvents=function(evts){for(var i=0;i<evts.length;i+=1)this.defineEvent(evts[i]);return this},proto.removeListener=function(evt,listener){var index,key,listeners=this.getListenersAsObject(evt);for(key in listeners)listeners.hasOwnProperty(key)&&-1!==(index=indexOfListener(listeners[key],listener))&&listeners[key].splice(index,1);return this},proto.off=alias("removeListener"),proto.addListeners=function(evt,listeners){return this.manipulateListeners(!1,evt,listeners)},proto.removeListeners=function(evt,listeners){return this.manipulateListeners(!0,evt,listeners)},proto.manipulateListeners=function(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if("object"!=typeof evt||evt instanceof RegExp)for(i=listeners.length;i--;)single.call(this,evt,listeners[i]);else for(i in evt)evt.hasOwnProperty(i)&&(value=evt[i])&&("function"==typeof value?single.call(this,i,value):multiple.call(this,i,value));return this},proto.removeEvent=function(evt){var key,type=typeof evt,events=this._getEvents();if("string"===type)delete events[evt];else if(evt instanceof RegExp)for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&delete events[key];else delete this._events;return this},proto.removeAllListeners=alias("removeEvent"),proto.emitEvent=function(evt,args){var listeners,listener,i,key,listenersMap=this.getListenersAsObject(evt);for(key in listenersMap)if(listenersMap.hasOwnProperty(key))for(listeners=listenersMap[key].slice(0),i=0;i<listeners.length;i++)!0===(listener=listeners[i]).once&&this.removeListener(evt,listener.listener),listener.listener.apply(this,args||[])===this._getOnceReturnValue()&&this.removeListener(evt,listener.listener);return this},proto.trigger=alias("emitEvent"),proto.emit=function(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)},proto.setOnceReturnValue=function(value){return this._onceReturnValue=value,this},proto._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},proto._getEvents=function(){return this._events||(this._events={})},EventEmitter.noConflict=function(){return exports.EventEmitter=originalGlobalValue,EventEmitter},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return EventEmitter}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(this||{})},function(module,exports,__webpack_require__){var Line=__webpack_require__(36),Quadratic=__webpack_require__(103),Cubic=__webpack_require__(55),Arc=__webpack_require__(37);module.exports={line:function(x1,y1,x2,y2,lineWidth,x,y){var box=Line.box(x1,y1,x2,y2,lineWidth);if(!this.box(box.minX,box.maxX,box.minY,box.maxY,x,y))return!1;var d=Line.pointDistance(x1,y1,x2,y2,x,y);return!isNaN(d)&&d<=lineWidth/2},polyline:function(points,lineWidth,x,y){var l=points.length-1;if(l<1)return!1;for(var i=0;i<l;i++)if(this.line(points[i][0],points[i][1],points[i+1][0],points[i+1][1],lineWidth,x,y))return!0;return!1},cubicline:function(x1,y1,x2,y2,x3,y3,x4,y4,lineWidth,x,y){return Cubic.pointDistance(x1,y1,x2,y2,x3,y3,x4,y4,x,y)<=lineWidth/2},quadraticline:function(x1,y1,x2,y2,x3,y3,lineWidth,x,y){return Quadratic.pointDistance(x1,y1,x2,y2,x3,y3,x,y)<=lineWidth/2},arcline:function(cx,cy,r,startAngle,endAngle,clockwise,lineWidth,x,y){return Arc.pointDistance(cx,cy,r,startAngle,endAngle,clockwise,x,y)<=lineWidth/2},rect:function(rx,ry,width,height,x,y){return rx<=x&&x<=rx+width&&ry<=y&&y<=ry+height},circle:function(cx,cy,r,x,y){return Math.pow(x-cx,2)+Math.pow(y-cy,2)<=Math.pow(r,2)},box:function(minX,maxX,minY,maxY,x,y){return minX<=x&&x<=maxX&&minY<=y&&y<=maxY}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),vec2=Util.vec2;function cubicAt(p0,p1,p2,p3,t){var onet=1-t;return onet*onet*(onet*p3+3*t*p2)+t*t*(t*p0+3*onet*p1)}function cubicProjectPoint(x1,y1,x2,y2,x3,y3,x4,y4,x,y,out){var t,_t,v1,d1,d2,v2,prev,next,interval=.005,d=1/0,v0=[x,y];for(_t=0;_t<1;_t+=.05)v1=[cubicAt(x1,x2,x3,x4,_t),cubicAt(y1,y2,y3,y4,_t)],(d1=vec2.squaredDistance(v0,v1))<d&&(t=_t,d=d1);d=1/0;for(var i=0;i<32&&!(interval<1e-4);i++)next=t+interval,v1=[cubicAt(x1,x2,x3,x4,prev=t-interval),cubicAt(y1,y2,y3,y4,prev)],d1=vec2.squaredDistance(v0,v1),prev>=0&&d1<d?(t=prev,d=d1):(v2=[cubicAt(x1,x2,x3,x4,next),cubicAt(y1,y2,y3,y4,next)],d2=vec2.squaredDistance(v0,v2),next<=1&&d2<d?(t=next,d=d2):interval*=.5);return out&&(out.x=cubicAt(x1,x2,x3,x4,t),out.y=cubicAt(y1,y2,y3,y4,t)),Math.sqrt(d)}function base3(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2}module.exports={at:cubicAt,derivativeAt:function(p0,p1,p2,p3,t){var onet=1-t;return 3*(((p1-p0)*onet+2*(p2-p1)*t)*onet+(p3-p2)*t*t)},projectPoint:function(x1,y1,x2,y2,x3,y3,x4,y4,x,y){var rst={};return cubicProjectPoint(x1,y1,x2,y2,x3,y3,x4,y4,x,y,rst),rst},pointDistance:cubicProjectPoint,extrema:function(p0,p1,p2,p3){var t1,t2,discSqrt,a=3*p0-9*p1+9*p2-3*p3,b=6*p1-12*p2+6*p3,c=3*p2-3*p3,extrema=[];if(Util.isNumberEqual(a,0))Util.isNumberEqual(b,0)||(t1=-c/b)>=0&&t1<=1&&extrema.push(t1);else{var disc=b*b-4*a*c;Util.isNumberEqual(disc,0)?extrema.push(-b/(2*a)):disc>0&&(t2=(-b-(discSqrt=Math.sqrt(disc)))/(2*a),(t1=(-b+discSqrt)/(2*a))>=0&&t1<=1&&extrema.push(t1),t2>=0&&t2<=1&&extrema.push(t2))}return extrema},len:function(x1,y1,x2,y2,x3,y3,x4,y4,z){Util.isNil(z)&&(z=1);for(var z2=(z=z>1?1:z<0?0:z)/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4);sum+=Cvalues[i]*Math.sqrt(xbase*xbase+ybase*ybase)}return z2*sum}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Format=__webpack_require__(27),PathSegment=__webpack_require__(39),Marker=function Marker(cfg){Marker.superclass.constructor.call(this,cfg)};Marker.Symbols={circle:function(x,y,r){return[["M",x,y],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},square:function(x,y,r){return[["M",x-r,y-r],["L",x+r,y-r],["L",x+r,y+r],["L",x-r,y+r],["Z"]]},diamond:function(x,y,r){return[["M",x-r,y],["L",x,y-r],["L",x+r,y],["L",x,y+r],["Z"]]},triangle:function(x,y,r){var diffY=r*Math.sin(1/3*Math.PI);return[["M",x-r,y+diffY],["L",x,y-diffY],["L",x+r,y+diffY],["z"]]},"triangle-down":function(x,y,r){var diffY=r*Math.sin(1/3*Math.PI);return[["M",x-r,y-diffY],["L",x+r,y-diffY],["L",x,y+diffY],["Z"]]}},Marker.ATTRS={path:null,lineWidth:1},Util.extend(Marker,Shape),Util.augment(Marker,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.radius,halfWidth=this.getHitLineWidth()/2+r;return{minX:cx-halfWidth,minY:cy-halfWidth,maxX:cx+halfWidth,maxY:cy+halfWidth}},_getPath:function(){var method,attrs=this._attrs,x=attrs.x,y=attrs.y,r=attrs.radius||attrs.r,symbol=attrs.symbol||"circle";return(method=Util.isFunction(symbol)?symbol:Marker.Symbols[symbol])?method(x,y,r):(console.warn(symbol+" marker is not supported."),null)},createPath:function(context){var segments=this._cfg.segments;if(!segments||this._cfg.hasUpdate){var preSegment,path=Format.parsePath(this._getPath());context.beginPath(),segments=[];for(var _i=0;_i<path.length;_i++)preSegment=new PathSegment(path[_i],preSegment,_i===path.length-1),segments.push(preSegment),preSegment.draw(context);this._cfg.segments=segments,this._cfg.hasUpdate=!1}else{context.beginPath();for(var i=0;i<segments.length;i++)segments[i].draw(context)}}}),module.exports=Marker},function(module,exports,__webpack_require__){var Util=__webpack_require__(81),SPACES="\t\n\v\f\r \u2028\u2029",PATH_COMMAND=new RegExp("([a-z])["+SPACES+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+SPACES+"]*,?["+SPACES+"]*)+)","ig"),PATH_VALUES=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+SPACES+"]*,?["+SPACES+"]*","ig"),parsePathString=function(pathString){if(!pathString)return null;if(typeof pathString==typeof[])return pathString;var paramCounts={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(pathString).replace(PATH_COMMAND,function(a,b,c){var params=[],name=b.toLowerCase();if(c.replace(PATH_VALUES,function(a,b){b&&params.push(+b)}),"m"===name&&params.length>2&&(data.push([b].concat(params.splice(0,2))),name="l",b="m"===b?"l":"L"),"o"===name&&1===params.length&&data.push([b,params[0]]),"r"===name)data.push([b].concat(params));else for(;params.length>=paramCounts[name]&&(data.push([b].concat(params.splice(0,paramCounts[name]))),paramCounts[name]););}),data},catmullRom2bezier=function(crp,z){for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4===i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2===i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4===i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(6*p[1].x-p[0].x+p[2].x)/6,(6*p[1].y-p[0].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d},ellipsePath=function(x,y,rx,ry,a){var res=[];if(null===a&&null===ry&&(ry=rx),x=+x,y=+y,rx=+rx,ry=+ry,null!==a){var rad=Math.PI/180,x1=x+rx*Math.cos(-ry*rad),x2=x+rx*Math.cos(-a*rad);res=[["M",x1,y+rx*Math.sin(-ry*rad)],["A",rx,rx,0,+(a-ry>180),0,x2,y+rx*Math.sin(-a*rad)]]}else res=[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]];return res},pathToAbsolute=function(pathArray){if(!(pathArray=parsePathString(pathArray))||!pathArray.length)return[["M",0,0]];var pa0,dots,res=[],x=0,y=0,mx=0,my=0,start=0;"M"===pathArray[0][0]&&(mx=x=+pathArray[0][1],my=y=+pathArray[0][2],start++,res[0]=["M",x,y]);for(var r,pa,crz=3===pathArray.length&&"M"===pathArray[0][0]&&"R"===pathArray[1][0].toUpperCase()&&"Z"===pathArray[2][0].toUpperCase(),i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),(pa0=(pa=pathArray[i])[0])!==pa0.toUpperCase())switch(r[0]=pa0.toUpperCase(),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+pa[6]+x,r[7]=+pa[7]+y;break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":for(var j=2,jj=(dots=[x,y].concat(pa.slice(1))).length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res.concat(catmullRom2bezier(dots,crz));break;case"O":res.pop(),(dots=ellipsePath(x,y,pa[1],pa[2])).push(dots[0]),res=res.concat(dots);break;case"U":res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;break;default:for(var _j=1,_jj=pa.length;_j<_jj;_j++)r[_j]=+pa[_j]+(_j%2?x:y)}else if("R"===pa0)dots=[x,y].concat(pa.slice(1)),res.pop(),res=res.concat(catmullRom2bezier(dots,crz)),r=["R"].concat(pa.slice(-2));else if("O"===pa0)res.pop(),(dots=ellipsePath(x,y,pa[1],pa[2])).push(dots[0]),res=res.concat(dots);else if("U"===pa0)res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];if("O"!==(pa0=pa0.toUpperCase()))switch(r[0]){case"Z":x=+mx,y=+my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];break;default:x=r[r.length-2],y=r[r.length-1]}}return res},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]},a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){rx===ry&&(rx+=1);var xy,f1,f2,cx,cy,_120=120*Math.PI/180,rad=Math.PI/180*(+angle||0),res=[],rotate=function(x,y,rad){return{x:x*Math.cos(rad)-y*Math.sin(rad),y:x*Math.sin(rad)+y*Math.cos(rad)}};if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{x1=(xy=rotate(x1,y1,-rad)).x,y1=xy.y,y2=(xy=rotate(x2,y2,-rad)).y,x1===(x2=xy.x)&&y1===y2&&(x2+=1,y2+=1);var x=(x1-x2)/2,y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(rx*=h=Math.sqrt(h),ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag===sweep_flag?-1:1)*Math.sqrt(Math.abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x)));cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=Math.asin(((y1-cy)/ry).toFixed(9)),f2=Math.asin(((y2-cy)/ry).toFixed(9)),f1=x1<cx?Math.PI-f1:f1,f2=x2<cx?Math.PI-f2:f2,f1<0&&(f1=2*Math.PI+f1),f2<0&&(f2=2*Math.PI+f2),sweep_flag&&f1>f2&&(f1-=2*Math.PI),!sweep_flag&&f2>f1&&(f2-=2*Math.PI)}var df=f2-f1;if(Math.abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),res=a2c(x2=cx+rx*Math.cos(f2),y2=cy+ry*Math.sin(f2),rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=Math.cos(f1),s1=Math.sin(f1),c2=Math.cos(f2),s2=Math.sin(f2),t=Math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4].concat(res);for(var newres=[],i=0,ii=(res=[m2,m3,m4].concat(res).join().split(",")).length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},pathTocurve=function(path,path2){var ii,p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pcoms1=[],pcoms2=[],pfirst="",pcom="",processPath=function(path,d,pcom){var nx,ny;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"].concat(a2c.apply(0,[d.x,d.y].concat(path.slice(1))));break;case"S":"C"===pcom||"S"===pcom?(nx=2*d.x-d.bx,ny=2*d.y-d.by):(nx=d.x,ny=d.y),path=["C",nx,ny].concat(path.slice(1));break;case"T":"Q"===pcom||"T"===pcom?(d.qx=2*d.x-d.qx,d.qy=2*d.y-d.qy):(d.qx=d.x,d.qy=d.y),path=["C"].concat(q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"].concat(q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"].concat(l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"].concat(l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"].concat(l2c(d.x,d.y,d.X,d.Y))}return path},fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pcoms1[i]="A",p2&&(pcoms2[i]="A"),pp.splice(i++,0,["C"].concat(pi.splice(0,6)));pp.splice(i,1),ii=Math.max(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"===path1[i][0]&&"M"!==path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=Math.max(p.length,p2&&p2.length||0))};ii=Math.max(p.length,p2&&p2.length||0);for(var i=0;i<ii;i++){p[i]&&(pfirst=p[i][0]),"C"!==pfirst&&(pcoms1[i]=pfirst,i&&(pcom=pcoms1[i-1])),p[i]=processPath(p[i],attrs,pcom),"A"!==pcoms1[i]&&"C"===pfirst&&(pcoms1[i]="C"),fixArc(p,i),p2&&(p2[i]&&(pfirst=p2[i][0]),"C"!==pfirst&&(pcoms2[i]=pfirst,i&&(pcom=pcoms2[i-1])),p2[i]=processPath(p2[i],attrs2,pcom),"A"!==pcoms2[i]&&"C"===pfirst&&(pcoms2[i]="C"),fixArc(p2,i)),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=parseFloat(seg[seglen-4])||attrs.x,attrs.by=parseFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(parseFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(parseFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2?[p,p2]:p},p2s=/,?([a-z]),?/gi,parsePathArray=function(path){return path.join(",").replace(p2s,"$1")},base3=function(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2},bezlen=function(x1,y1,x2,y2,x3,y3,x4,y4,z){null===z&&(z=1);for(var z2=(z=z>1?1:z<0?0:z)/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4);sum+=Cvalues[i]*Math.sqrt(xbase*xbase+ybase*ybase)}return z2*sum},curveDim=function(x0,y0,x1,y1,x2,y2,x3,y3){for(var a,b,c,t,tvalues=[],bounds=[[],[]],i=0;i<2;++i)if(0===i?(b=6*x0-12*x1+6*x2,a=-3*x0+9*x1-9*x2+3*x3,c=3*x1-3*x0):(b=6*y0-12*y1+6*y2,a=-3*y0+9*y1-9*y2+3*y3,c=3*y1-3*y0),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(t=-c/b)>0&&t<1&&tvalues.push(t)}else{var b2ac=b*b-4*c*a,sqrtb2ac=Math.sqrt(b2ac);if(!(b2ac<0)){var t1=(-b+sqrtb2ac)/(2*a);t1>0&&t1<1&&tvalues.push(t1);var t2=(-b-sqrtb2ac)/(2*a);t2>0&&t2<1&&tvalues.push(t2)}}for(var mt,j=tvalues.length,jlen=j;j--;)bounds[0][j]=(mt=1-(t=tvalues[j]))*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3,bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,{min:{x:Math.min.apply(0,bounds[0]),y:Math.min.apply(0,bounds[1])},max:{x:Math.max.apply(0,bounds[0]),y:Math.max.apply(0,bounds[1])}}},intersect=function(x1,y1,x2,y2,x3,y3,x4,y4){if(!(Math.max(x1,x2)<Math.min(x3,x4)||Math.min(x1,x2)>Math.max(x3,x4)||Math.max(y1,y2)<Math.min(y3,y4)||Math.min(y1,y2)>Math.max(y3,y4))){var denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(denominator){var px=((x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4))/denominator,py=((x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4))/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(!(px2<+Math.min(x1,x2).toFixed(2)||px2>+Math.max(x1,x2).toFixed(2)||px2<+Math.min(x3,x4).toFixed(2)||px2>+Math.max(x3,x4).toFixed(2)||py2<+Math.min(y1,y2).toFixed(2)||py2>+Math.max(y1,y2).toFixed(2)||py2<+Math.min(y3,y4).toFixed(2)||py2>+Math.max(y3,y4).toFixed(2)))return{x:px,y:py}}}},isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x+bbox.width&&y>=bbox.y&&y<=bbox.y+bbox.height},rectPath=function(x,y,w,h,r){if(r)return[["M",+x+ +r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]];var res=[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]];return res.parsePathArray=parsePathArray,res},box=function(x,y,width,height){return null===x&&(x=y=width=height=0),null===y&&(y=x.y,width=x.width,height=x.height,x=x.x),{x:x,y:y,width:width,w:width,height:height,h:height,x2:x+width,y2:y+height,cx:x+width/2,cy:y+height/2,r1:Math.min(width,height)/2,r2:Math.max(width,height)/2,r0:Math.sqrt(width*width+height*height)/2,path:rectPath(x,y,width,height),vb:[x,y,width,height].join(" ")}},bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){Util.isArray(p1x)||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return box(bbox.min.x,bbox.min.y,bbox.max.x-bbox.min.x,bbox.max.y-bbox.min.y)},findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=Math.pow(t1,3),t12=Math.pow(t1,2),t2=t*t,t3=t2*t,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y);return{x:t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y:t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:t1*p1x+t*c1x,y:t1*p1y+t*c1y},end:{x:t1*c2x+t*p2x,y:t1*c2y+t*p2y},alpha:90-180*Math.atan2(mx-nx,my-ny)/Math.PI}},interHelper=function(bez1,bez2,justCount){if(!function(bbox1,bbox2){return bbox1=box(bbox1),bbox2=box(bbox2),isPointInsideBBox(bbox2,bbox1.x,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x,bbox1.y2)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y2)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y2)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)}(bezierBBox(bez1),bezierBBox(bez2)))return justCount?0:[];for(var n1=~~(bezlen.apply(0,bez1)/8),n2=~~(bezlen.apply(0,bez2)/8),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var d=findDotsAtSegment.apply(0,bez1.concat(i/n1));dots1.push({x:d.x,y:d.y,t:i/n1})}for(var _i=0;_i<n2+1;_i++){var _d=findDotsAtSegment.apply(0,bez2.concat(_i/n2));dots2.push({x:_d.x,y:_d.y,t:_i/n2})}for(var _i2=0;_i2<n1;_i2++)for(var j=0;j<n2;j++){var di=dots1[_i2],di1=dots1[_i2+1],dj=dots2[j],dj1=dots2[j+1],ci=Math.abs(di1.x-di.x)<.001?"y":"x",cj=Math.abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]===is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+Math.abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+Math.abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1&&t2>=0&&t2<=1&&(justCount?res++:res.push({x:is.x,y:is.y,t1:t1,t2:t2}))}}return res};function decasteljau(points,t){var left=[],right=[];return points.length&&function recurse(points,t){if(1===points.length)left.push(points[0]),right.push(points[0]);else{for(var middlePoints=[],i=0;i<points.length-1;i++)0===i&&left.push(points[0]),i===points.length-2&&right.push(points[i+1]),middlePoints[i]=[(1-t)*points[i][0]+t*points[i+1][0],(1-t)*points[i][1]+t*points[i+1][1]];recurse(middlePoints,t)}}(points,t),{left:left,right:right.reverse()}}var isEqual=function(obj1,obj2){if(obj1.length!==obj2.length)return!1;var result=!0;return Util.each(obj1,function(item,i){if(item!==obj2[i])return result=!1,!1}),result};function getMinDiff(del,add,modify){var type=null,min=modify;return add<min&&(min=add,type="add"),del<min&&(min=del,type="del"),{type:type,min:min}}function _splitPoints(points,former,count){for(var index,result=[].concat(points),t=1/(count+1),formerEnd=_getSegmentPoints(former)[0],i=1;i<=count;i++)t*=i,0===(index=Math.floor(points.length*t))?result.unshift([formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]):result.splice(index,0,[formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]);return result}function _getSegmentPoints(segment){var points=[];switch(segment[0]){case"M":case"L":points.push([segment[1],segment[2]]);break;case"A":points.push([segment[6],segment[7]]);break;case"Q":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"T":points.push([segment[1],segment[2]]);break;case"C":points.push([segment[5],segment[6]]),points.push([segment[1],segment[2]]),points.push([segment[3],segment[4]]);break;case"S":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"H":case"V":points.push([segment[1],segment[1]])}return points}module.exports={parsePathString:parsePathString,parsePathArray:parsePathArray,pathTocurve:pathTocurve,pathToAbsolute:pathToAbsolute,catmullRomToBezier:catmullRom2bezier,rectPath:rectPath,fillPath:function(source,target){if(1===source.length)return source;var sourceLen=source.length-1,targetLen=target.length-1,ratio=sourceLen/targetLen,segmentsToFill=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<targetLen-sourceLen;i++)source.push(source[0]);return source}for(var _i3=0;_i3<targetLen;_i3++){var index=Math.floor(ratio*_i3);segmentsToFill[index]=(segmentsToFill[index]||0)+1}var filled=segmentsToFill.reduce(function(filled,count,i){return filled.concat(i===sourceLen?source[sourceLen]:function(start,end,count){if(1===count)return[[].concat(start)];var segments=[];if("L"===end[0]||"C"===end[0]||"Q"===end[0])segments=segments.concat(function(start,end,count){var points=[[start[1],start[2]]];count=count||2;var segments=[];"A"===end[0]?(points.push(end[6]),points.push(end[7])):"C"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]]),points.push([end[5],end[6]])):"S"===end[0]||"Q"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]])):points.push([end[1],end[2]]);for(var leftSegments=points,t=1/count,i=0;i<count-1;i++){var split=decasteljau(leftSegments,t/(1-t*i));segments.push(split.left),leftSegments=split.right}return segments.push(leftSegments),segments.map(function(segment){var cmd=[];return 4===segment.length&&(cmd.push("C"),cmd=cmd.concat(segment[2])),segment.length>=3&&(3===segment.length&&cmd.push("Q"),cmd=cmd.concat(segment[1])),2===segment.length&&cmd.push("L"),cmd.concat(segment[segment.length-1])})}(start,end,count));else{var temp=[].concat(start);"M"===temp[0]&&(temp[0]="L");for(var i=0;i<=count-1;i++)segments.push(temp)}return segments}(source[i],source[i+1],count))},[]);return filled.unshift(source[0]),"Z"!==target[targetLen]&&"z"!==target[targetLen]||filled.push("Z"),filled},fillPathByDiff:function(source,target){var diffMatrix=function(source,target){var sourceSegment,sourceLen=source.length,targetLen=target.length,temp=0;if(0===sourceLen||0===targetLen)return null;for(var dist=[],i=0;i<=sourceLen;i++)dist[i]=[],dist[i][0]={min:i};for(var j=0;j<=targetLen;j++)dist[0][j]={min:j};for(var _i4=1;_i4<=sourceLen;_i4++){sourceSegment=source[_i4-1];for(var _j2=1;_j2<=targetLen;_j2++)temp=isEqual(sourceSegment,target[_j2-1])?0:1,dist[_i4][_j2]=getMinDiff(dist[_i4-1][_j2].min+1,dist[_i4][_j2-1].min+1,dist[_i4-1][_j2-1].min+temp)}return dist}(source,target),sourceLen=source.length,targetLen=target.length,changes=[],index=1,minPos=1;if(diffMatrix[sourceLen][targetLen]!==sourceLen){for(var i=1;i<=sourceLen;i++){var min=diffMatrix[i][i].min;minPos=i;for(var j=index;j<=targetLen;j++)diffMatrix[i][j].min<min&&(min=diffMatrix[i][j].min,minPos=j);diffMatrix[i][index=minPos].type&&changes.push({index:i-1,type:diffMatrix[i][index].type})}for(var _i5=changes.length-1;_i5>=0;_i5--)index=changes[_i5].index,"add"===changes[_i5].type?source.splice(index,0,[].concat(source[index])):source.splice(index,1)}var diff=targetLen-(sourceLen=source.length);if(sourceLen<targetLen)for(var _i6=0;_i6<diff;_i6++)"z"===source[sourceLen-1][0]||"Z"===source[sourceLen-1][0]?source.splice(sourceLen-2,0,source[sourceLen-2]):source.push(source[sourceLen-1]),sourceLen+=1;return source},formatPath:function(fromPath,toPath){if(fromPath.length<=1)return fromPath;for(var points,i=0;i<toPath.length;i++)if(fromPath[i][0]!==toPath[i][0])switch(points=_getSegmentPoints(fromPath[i]),toPath[i][0]){case"M":fromPath[i]=["M"].concat(points[0]);break;case"L":fromPath[i]=["L"].concat(points[0]);break;case"A":fromPath[i]=[].concat(toPath[i]),fromPath[i][6]=points[0][0],fromPath[i][7]=points[0][1];break;case"Q":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["Q"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"T":fromPath[i]=["T"].concat(points[0]);break;case"C":if(points.length<3){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],2)}fromPath[i]=["C"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"S":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["S"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;default:fromPath[i]=toPath[i]}return fromPath},intersection:function(path1,path2){return function(path1,path2,justCount){var x1,y1,x2,y2,x1m,y1m,x2m,y2m,bez1,bez2;path1=pathTocurve(path1),path2=pathTocurve(path2);for(var res=[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if("M"===pi[0])x1=x1m=pi[1],y1=y1m=pi[2];else{"C"===pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if("M"===pj[0])x2=x2m=pj[1],y2=y2m=pj[2];else{"C"===pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);for(var intr=interHelper(bez1,bez2,void 0),k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,intr[k].bez2=bez2;res=res.concat(intr)}}}}return res}(path1,path2)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=now,__webpack_exports__.a=Timer,__webpack_exports__.c=timer,__webpack_exports__.d=timerFlush;var taskHead,taskTail,frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function timerFlush(){now(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,function(){for(var t0,t2,t1=taskHead,time=1/0;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function sleep(time){frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__rgb__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_2__array__=__webpack_require__(122),__WEBPACK_IMPORTED_MODULE_3__date__=__webpack_require__(123),__WEBPACK_IMPORTED_MODULE_4__number__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_5__object__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_6__string__=__webpack_require__(125),__WEBPACK_IMPORTED_MODULE_7__constant__=__webpack_require__(121);__webpack_exports__.a=function(a,b){var c,t=typeof b;return null==b||"boolean"===t?Object(__WEBPACK_IMPORTED_MODULE_7__constant__.a)(b):("number"===t?__WEBPACK_IMPORTED_MODULE_4__number__.a:"string"===t?(c=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.a)(b))?(b=c,__WEBPACK_IMPORTED_MODULE_1__rgb__.a):__WEBPACK_IMPORTED_MODULE_6__string__.a:b instanceof __WEBPACK_IMPORTED_MODULE_0_d3_color__.a?__WEBPACK_IMPORTED_MODULE_1__rgb__.a:b instanceof Date?__WEBPACK_IMPORTED_MODULE_3__date__.a:Array.isArray(b)?__WEBPACK_IMPORTED_MODULE_2__array__.a:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?__WEBPACK_IMPORTED_MODULE_5__object__.a:__WEBPACK_IMPORTED_MODULE_4__number__.a)(a,b)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=Color,__webpack_require__.d(__webpack_exports__,"d",function(){return darker}),__webpack_require__.d(__webpack_exports__,"c",function(){return brighter}),__webpack_exports__.e=color,__webpack_exports__.h=rgbConvert,__webpack_exports__.g=rgb,__webpack_exports__.b=Rgb,__webpack_exports__.f=hsl;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(61);function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(format){var m;return format=(format+"").trim().toLowerCase(),(m=reHex3.exec(format))?new Rgb((m=parseInt(m[1],16))>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):(m=reHex6.exec(format))?rgbn(parseInt(m[1],16)):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hsl(h,s,l,opacity){return 1===arguments.length?function(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Rgb,rgb,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hsl,hsl,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype},__webpack_exports__.a=function(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}},function(module,__webpack_exports__,__webpack_require__){"use strict";function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}__webpack_exports__.a=basis,__webpack_exports__.b=function(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1];return basis((t-i/n)*n,i>0?values[i-1]:2*v1-v2,v1,v2,i<n-1?values[i+2]:2*v2-v1)}}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isArrayLike=__webpack_require__(13);module.exports=function(arr,func){if(!isArrayLike(arr))return arr;var result=[];return each(arr,function(value,index){func(value,index)&&result.push(value)}),result}},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isArray=__webpack_require__(4),each=__webpack_require__(2);module.exports=function(data,name){for(var rst=[],tmpMap={},i=0;i<data.length;i++){var value=data[i][name];isNil(value)||(isArray(value)||(value=[value]),each(value,function(val){tmpMap[val]||(rst.push(val),tmpMap[val]=!0)}))}return rst}},function(module,exports,__webpack_require__){var Group=__webpack_require__(16).Group,Label=__webpack_require__(21).Label,Global=__webpack_require__(7),Util=__webpack_require__(0),IGNORE_ARR=["line","point","path"];module.exports=function(_Group){var subClass,superClass;function GeomLabels(){return _Group.apply(this,arguments)||this}superClass=_Group,(subClass=GeomLabels).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=GeomLabels.prototype;return _proto.getDefaultCfg=function(){return{label:Global.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_proto._renderUI=function(){_Group.prototype._renderUI.call(this),this.initLabelsCfg();var labelsGroup=this.addGroup(),lineGroup=this.addGroup({elCls:"x-line-group"}),labelRenderer=this.get("labelRenderer");this.set("labelsGroup",labelsGroup),this.set("lineGroup",lineGroup),this.get("labelRenderer").set("group",labelsGroup),labelRenderer.set("group",labelsGroup),labelRenderer.set("lineGroup",lineGroup)},_proto.initLabelsCfg=function(){var labelRenderer=new Label,labels=this.getDefaultLabelCfg(),labelCfg=this.get("labelCfg");Util.deepMix(labels,labelCfg.globalCfg||labelCfg.cfg),labelRenderer.set("config",!1),labels.labelLine&&labelRenderer.set("labelLine",labels.labelLine),labelRenderer.set("coord",this.get("coord")),this.set("labelRenderer",labelRenderer),this.set("label",labels)},_proto.getDefaultLabelCfg=function(){var labelCfg=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,geomType=this.get("geomType"),viewTheme=this.get("viewTheme")||Global;return"polygon"===geomType||labelCfg&&labelCfg.offset<0&&-1===Util.indexOf(IGNORE_ARR,geomType)?Util.deepMix({},this.get("label"),viewTheme.innerLabels,labelCfg):Util.deepMix({},this.get("label"),viewTheme.label,labelCfg)},_proto.getLabelsItems=function(points,shapes){var self=this,items=[],geom=self.get("geom"),coord=self.get("coord");self._getLabelCfgs(points,shapes);var labelCfg=self.get("labelItemCfgs");return Util.each(points,function(point,i){var origin=point._origin,label=labelCfg[i];if(label){Util.isArray(label.text)||(label.text=[label.text]);var total=label.length;Util.each(label.text,function(sub,subIndex){if(Util.isNil(sub)||""===sub)items.push(null);else{var obj=self.getLabelPoint(label,point,subIndex);(obj=Util.mix({},label,obj)).textAlign||(obj.textAlign=self.getLabelAlign(obj,subIndex,total)),geom&&(obj._id=geom._getShapeId(origin)+"-glabel-"+subIndex+"-"+obj.text),obj.coord=coord,items.push(obj)}})}else items.push(null)}),items},_proto.adjustItems=function(items){return Util.each(items,function(item){item&&(item.offsetX&&(item.x+=item.offsetX),item.offsetY&&(item.y+=item.offsetY))}),items},_proto.drawLines=function(items){var self=this;Util.each(items,function(point){point&&point.offset>0&&self.lineToLabel(point)})},_proto.lineToLabel=function(){},_proto.getLabelPoint=function(labelCfg,point,index){var coord=this.get("coord"),total=labelCfg.text.length;function getDimValue(value,idx){var arr,sum;return Util.isArray(value)&&(1===labelCfg.text.length?value.length<=2?value=value[value.length-1]:(sum=0,Util.each(arr=value,function(value){sum+=value}),value=sum/arr.length):value=value[idx]),value}var label={text:labelCfg.text[index]};if(point&&"polygon"===this.get("geomType")){var centroid=function(xs,ys){if(Util.isNumber(xs)&&Util.isNumber(ys))return[xs,ys];for(var former,diff,i=-1,x=0,y=0,current=xs.length-1,k=0;++i<xs.length;)k+=diff=xs[former=current]*ys[current=i]-xs[current]*ys[former],x+=(xs[former]+xs[current])*diff,y+=(ys[former]+ys[current])*diff;return[x/(k*=3),y/k]}(point.x,point.y);label.x=centroid[0],label.y=centroid[1]}else label.x=getDimValue(point.x,index),label.y=getDimValue(point.y,index);if(point&&point.nextPoints&&("funnel"===point.shape||"pyramid"===point.shape)){var maxX=-1/0;point.nextPoints.forEach(function(p){(p=coord.convert(p)).x>maxX&&(maxX=p.x)}),label.x=(label.x+maxX)/2}"pyramid"===point.shape&&!point.nextPoints&&point.points&&point.points.forEach(function(p){p=coord.convert(p),(Util.isArray(p.x)&&-1===point.x.indexOf(p.x)||Util.isNumber(p.x)&&point.x!==p.x)&&(label.x=(label.x+p.x)/2)}),labelCfg.position&&this.setLabelPosition(label,point,index,labelCfg.position);var offsetPoint=this.getLabelOffset(labelCfg,index,total);return labelCfg.offsetX&&(offsetPoint.x+=labelCfg.offsetX),labelCfg.offsetY&&(offsetPoint.y+=labelCfg.offsetY),this.transLabelPoint(label),label.start={x:label.x,y:label.y},label.x+=offsetPoint.x,label.y+=offsetPoint.y,label.color=point.color,label},_proto.setLabelPosition=function(){},_proto.transLabelPoint=function(point){var tmpPoint=this.get("coord").applyMatrix(point.x,point.y,1);point.x=tmpPoint[0],point.y=tmpPoint[1]},_proto.getOffsetVector=function(point){var offset=point.offset||0,coord=this.get("coord");return coord.isTransposed?coord.applyMatrix(offset,0):coord.applyMatrix(0,offset)},_proto.getDefaultOffset=function(point){var coord=this.get("coord"),vector=this.getOffsetVector(point);return coord.isTransposed?vector[0]:vector[1]},_proto.getLabelOffset=function(point,index,total){var offset=this.getDefaultOffset(point),transposed=this.get("coord").isTransposed,factor=transposed?1:-1,offsetPoint={x:0,y:0};return offsetPoint[transposed?"x":"y"]=index>0||1===total?offset*factor:offset*factor*-1,offsetPoint},_proto.getLabelAlign=function(point,index,total){var align="center";if(this.get("coord").isTransposed){var offset=this.getDefaultOffset(point);align=offset<0?"right":0===offset?"center":"left",total>1&&0===index&&("right"===align?align="left":"left"===align&&(align="right"))}return align},_proto._getLabelValue=function(origin,scales){Util.isArray(scales)||(scales=[scales]);var text=[];return Util.each(scales,function(scale){var value=origin[scale.field];if(Util.isArray(value)){var tmp=[];Util.each(value,function(subVal){tmp.push(scale.getText(subVal))}),value=tmp}else value=scale.getText(value);(Util.isNil(value)||""===value)&&text.push(null),text.push(value)}),text},_proto._getLabelCfgs=function(points){var self=this,labelCfg=this.get("labelCfg"),scales=labelCfg.scales,defaultCfg=this.get("label"),viewTheme=self.get("viewTheme")||Global,cfgs=[];labelCfg.globalCfg&&labelCfg.globalCfg.type&&self.set("type",labelCfg.globalCfg.type),Util.each(points,function(point,i){var cfg={},origin=point._origin,originText=self._getLabelValue(origin,scales);if(labelCfg.callback){var originValues=scales.map(function(scale){return origin[scale.field]});cfg=labelCfg.callback.apply(null,originValues.concat([point,i]))}if(cfg||0===cfg){if(Util.isString(cfg)||Util.isNumber(cfg)?cfg={text:cfg}:(cfg.text=cfg.content||originText[0],delete cfg.content),cfg=Util.mix({},defaultCfg,labelCfg.globalCfg||{},cfg),point.point=origin,cfg.point=origin,cfg.htmlTemplate&&(cfg.useHtml=!0,cfg.text=cfg.htmlTemplate.call(null,cfg.text,point,i),delete cfg.htmlTemplate),cfg.formatter&&(cfg.text=cfg.formatter.call(null,cfg.text,point,i),delete cfg.formatter),cfg.label){var label=cfg.label;delete cfg.label,cfg=Util.mix(cfg,label)}if(cfg.textStyle){delete cfg.textStyle.offset;var textStyle=cfg.textStyle;Util.isFunction(textStyle)&&(cfg.textStyle=textStyle.call(null,cfg.text,point,i))}cfg.labelLine&&(cfg.labelLine=Util.mix({},defaultCfg.labelLine,cfg.labelLine)),cfg.textStyle=Util.mix({},defaultCfg.textStyle,viewTheme.label.textStyle,cfg.textStyle),delete cfg.items,cfgs.push(cfg)}else cfgs.push(null)}),this.set("labelItemCfgs",cfgs)},_proto.showLabels=function(points,shapes){var labelRenderer=this.get("labelRenderer"),items=this.getLabelsItems(points,shapes);shapes=[].concat(shapes);var type=this.get("type");items=this.adjustItems(items,shapes),this.drawLines(items),labelRenderer.set("items",items.filter(function(item,i){return!!item||(shapes.splice(i,1),!1)})),type&&(labelRenderer.set("shapes",shapes),labelRenderer.set("type",type),labelRenderer.set("points",points)),labelRenderer.set("canvas",this.get("canvas")),labelRenderer.draw()},_proto.destroy=function(){this.get("labelRenderer").destroy(),_Group.prototype.destroy.call(this)},GeomLabels}(Group)},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var EventEmitter=__webpack_require__(53),Util=__webpack_require__(3);module.exports=function(_EventEmitter){var subClass,superClass;superClass=_EventEmitter,(subClass=Base).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Base.prototype;function Base(cfg){var _this,self=_assertThisInitialized(_assertThisInitialized(_this=_EventEmitter.call(this)||this)),attrs={visible:!0},defaultCfg=self.getDefaultCfg();return self._attrs=attrs,Util.deepMix(attrs,defaultCfg,cfg),_this}return _proto.getDefaultCfg=function(){return{}},_proto.get=function(name){return this._attrs[name]},_proto.set=function(name,value){this._attrs[name]=value},_proto.changeVisible=function(){},_proto.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},Base}(EventEmitter)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Legend=__webpack_require__(158),Slider=__webpack_require__(327),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY,Event=Util.Event,Group=Util.Group;module.exports=function(_Legend){var subClass,superClass;function Continuous(){return _Legend.apply(this,arguments)||this}superClass=_Legend,(subClass=Continuous).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Continuous.prototype;return _proto.getDefaultCfg=function(){var cfg=_Legend.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:FONT_FAMILY},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},_proto._calStartPoint=function(){var start={x:10,y:this.get("titleGap")-8},titleShape=this.get("titleShape");if(titleShape){var titleBox=titleShape.getBBox();start.y+=titleBox.height}return start},_proto.beforeRender=function(){var items=this.get("items");Util.isArray(items)&&!Util.isEmpty(items)&&(_Legend.prototype.beforeRender.call(this),this.set("firstItem",items[0]),this.set("lastItem",items[items.length-1]))},_proto._formatItemValue=function(value){var formatter=this.get("formatter")||this.get("itemFormatter");return formatter&&(value=formatter.call(this,value)),value},_proto.render=function(){_Legend.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},_proto._renderSlider=function(){var minHandleElement=new Group,maxHandleElement=new Group,backgroundElement=new Group,start=this._calStartPoint(),slider=this.get("group").addGroup(Slider,{minHandleElement:minHandleElement,maxHandleElement:maxHandleElement,backgroundElement:backgroundElement,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});slider.translate(start.x,start.y),this.set("slider",slider),this._renderSliderShape().attr("clip",slider.get("middleHandleElement")),this._renderTrigger()},_proto._addMiddleBar=function(parent,name,attrs){return parent.addShape(name,{attrs:Util.mix({},attrs,this.get("middleBackgroundStyle"))}),parent.addShape(name,{attrs:attrs})},_proto._renderTrigger=function(){var min=this.get("firstItem"),max=this.get("lastItem"),layout=this.get("layout"),textStyle=this.get("textStyle"),triggerAttr=this.get("triggerAttr"),minBlockAttr=Util.mix({},triggerAttr),maxBlockAttr=Util.mix({},triggerAttr),minTextAttr=Util.mix({text:this._formatItemValue(min.value)+""},textStyle),maxTextAttr=Util.mix({text:this._formatItemValue(max.value)+""},textStyle);"vertical"===layout?(this._addVerticalTrigger("min",minBlockAttr,minTextAttr),this._addVerticalTrigger("max",maxBlockAttr,maxTextAttr)):(this._addHorizontalTrigger("min",minBlockAttr,minTextAttr),this._addHorizontalTrigger("max",maxBlockAttr,maxTextAttr))},_proto._addVerticalTrigger=function(type,blockAttr,textAttr){var trigger=this.get("slider").get(type+"HandleElement"),width=this.get("width"),button=trigger.addShape("rect",{attrs:Util.mix({x:width/2-8-2,y:"min"===type?0:-8,width:18,height:8},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:width+this.get("textOffset"),y:"max"===type?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),trigerCursor="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._addHorizontalTrigger=function(type,blockAttr,textAttr){var trigger=this.get("slider").get(type+"HandleElement"),button=trigger.addShape("rect",{attrs:Util.mix({x:"min"===type?-8:0,y:-8-this.get("height")/2,width:8,height:16},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:"min"===type?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===type?"end":"start",textBaseline:"middle"})}),trigerCursor="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._bindEvents=function(){var _this=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(ev){var range=ev.range,firstItemValue=_this.get("firstItem").value,lastItemValue=_this.get("lastItem").value,minValue=firstItemValue+range[0]/100*(lastItemValue-firstItemValue),maxValue=firstItemValue+range[1]/100*(lastItemValue-firstItemValue);_this._updateElement(minValue,maxValue);var itemFiltered=new Event("itemfilter",ev,!0,!0);itemFiltered.range=[minValue,maxValue],_this.emit("itemfilter",itemFiltered)}),this.get("hoverable")&&(this.get("group").on("mousemove",Util.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",Util.wrapBehavior(this,"_onMouseLeave")))},_proto._updateElement=function(min,max){var minTextElement=this.get("minTextElement"),maxTextElement=this.get("maxTextElement");max>1&&(min=parseInt(min,10),max=parseInt(max,10)),minTextElement.attr("text",this._formatItemValue(min)+""),maxTextElement.attr("text",this._formatItemValue(max)+"")},_proto._onMouseLeave=function(){var hoverPointer=this.get("group").findById("hoverPointer");hoverPointer&&hoverPointer.destroy();var hoverText=this.get("group").findById("hoverText");hoverText&&hoverText.destroy(),this.get("canvas").draw()},_proto._onMouseMove=function(ev){var value,height=this.get("height"),width=this.get("width"),items=this.get("items"),el_bbox=this.get("canvas").get("el").getBoundingClientRect(),bbox=this.get("group").getBBox();if("vertical"===this.get("layout")){var valuePadding=5;"color-legend"===this.get("type")&&(valuePadding=30);var titleOffset=this.get("titleGap"),titleShape=this.get("titleShape");titleShape&&(titleOffset+=titleShape.getBBox().maxY-titleShape.getBBox().minY);var currentPage=ev.clientY||ev.event.clientY;currentPage=currentPage-el_bbox.y-this.get("group").attr("matrix")[7]+bbox.y-valuePadding+titleOffset,value=items[0].value+(1-currentPage/height)*(items[items.length-1].value-items[0].value)}else{var _currentPage=ev.clientX||ev.event.clientX;_currentPage=_currentPage-el_bbox.x-this.get("group").attr("matrix")[6],value=items[0].value+_currentPage/width*(items[items.length-1].value-items[0].value)}value=value.toFixed(2),this.activate(value),this.emit("mousehover",{value:value})},_proto.activate=function(value){if(value){var hoverPointer=this.get("group").findById("hoverPointer"),hoverText=this.get("group").findById("hoverText"),items=this.get("items");if(!(value<items[0].value||value>items[items.length-1].value)){var textStyle,height=this.get("height"),width=this.get("width"),titleShape=this.get("titleShape"),titleGap=this.get("titleGap"),points=[],page=(value-items[0].value)/(items[items.length-1].value-items[0].value);if("vertical"===this.get("layout")){var paddingY=0,paddingX=0;"color-legend"===this.get("type")&&(paddingY=titleGap,titleShape&&(paddingY+=titleShape.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?paddingY-=13:(paddingY=titleGap-15,titleShape&&(paddingY+=titleShape.getBBox().height)),paddingX+=10),points=[[paddingX,(page=(1-page)*height)+paddingY],[paddingX-10,page+paddingY-5],[paddingX-10,page+paddingY+5]],textStyle=Util.mix({},{x:width+this.get("textOffset")/2+paddingX,y:page+paddingY,text:this._formatItemValue(value)+""},this.get("textStyle"),{textAlign:"start"})}else{var _paddingY=0,_paddingX=0;"color-legend"===this.get("type")&&(_paddingY=titleGap,titleShape&&(_paddingY+=titleShape.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?_paddingY-=7:(_paddingY=titleGap,titleShape||(_paddingY-=7)),_paddingX+=10),points=[[(page*=width)+_paddingX,_paddingY],[page+_paddingX-5,_paddingY-10],[page+_paddingX+5,_paddingY-10]],textStyle=Util.mix({},{x:page-5,y:height+this.get("textOffset")+_paddingY,text:this._formatItemValue(value)+""},this.get("textStyle"))}var hoverTextStyle=Util.mix(textStyle,this.get("hoverTextStyle"));hoverText?hoverText.attr(hoverTextStyle):(hoverText=this.get("group").addShape("text",{attrs:hoverTextStyle})).set("id","hoverText"),hoverPointer?hoverPointer.attr(Util.mix({points:points},this.get("pointerStyle"))):(hoverPointer=this.get("group").addShape("Polygon",{attrs:Util.mix({points:points},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},_proto.deactivate=function(){var hoverPointer=this.get("group").findById("hoverPointer");hoverPointer&&hoverPointer.destroy();var hoverText=this.get("group").findById("hoverText");hoverText&&hoverText.destroy(),this.get("canvas").draw()},Continuous}(Legend)},function(module,exports,__webpack_require__){var Component=__webpack_require__(66),Util=__webpack_require__(3);module.exports=function(_Component){var subClass,superClass;function Tooltip(){return _Component.apply(this,arguments)||this}superClass=_Component,(subClass=Tooltip).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Tooltip.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},_proto.isContentChange=function(title,items){var titleContent=this.get("titleContent"),lastItems=this.get("items"),isChanged=!(title===titleContent&&lastItems.length===items.length);return isChanged||Util.each(items,function(item,index){var preItem=lastItems[index];for(var key in item)if(item.hasOwnProperty(key)&&!Util.isObject(item[key])&&item[key]!==preItem[key]){isChanged=!0;break}if(isChanged)return!1}),isChanged},_proto.setContent=function(title,items){var timeStamp=(new Date).valueOf();return this.set("items",items),this.set("titleContent",title),this.set("timeStamp",timeStamp),this.render(),this},_proto.setPosition=function(x,y){this.set("x",x),this.set("y",y)},_proto.render=function(){},_proto.clear=function(){},_proto.show=function(){this.set("visible",!0)},_proto.hide=function(){this.set("visible",!1)},_proto.destroy=function(){},Tooltip}(Component)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return root}),__webpack_exports__.a=Selection;var __WEBPACK_IMPORTED_MODULE_0__select__=__webpack_require__(402),__WEBPACK_IMPORTED_MODULE_1__selectAll__=__webpack_require__(403),__WEBPACK_IMPORTED_MODULE_2__filter__=__webpack_require__(404),__WEBPACK_IMPORTED_MODULE_3__data__=__webpack_require__(405),__WEBPACK_IMPORTED_MODULE_4__enter__=__webpack_require__(382),__WEBPACK_IMPORTED_MODULE_5__exit__=__webpack_require__(407),__WEBPACK_IMPORTED_MODULE_6__merge__=__webpack_require__(408),__WEBPACK_IMPORTED_MODULE_7__order__=__webpack_require__(409),__WEBPACK_IMPORTED_MODULE_8__sort__=__webpack_require__(410),__WEBPACK_IMPORTED_MODULE_9__call__=__webpack_require__(411),__WEBPACK_IMPORTED_MODULE_10__nodes__=__webpack_require__(412),__WEBPACK_IMPORTED_MODULE_11__node__=__webpack_require__(413),__WEBPACK_IMPORTED_MODULE_12__size__=__webpack_require__(414),__WEBPACK_IMPORTED_MODULE_13__empty__=__webpack_require__(415),__WEBPACK_IMPORTED_MODULE_14__each__=__webpack_require__(416),__WEBPACK_IMPORTED_MODULE_15__attr__=__webpack_require__(417),__WEBPACK_IMPORTED_MODULE_16__style__=__webpack_require__(384),__WEBPACK_IMPORTED_MODULE_17__property__=__webpack_require__(418),__WEBPACK_IMPORTED_MODULE_18__classed__=__webpack_require__(419),__WEBPACK_IMPORTED_MODULE_19__text__=__webpack_require__(420),__WEBPACK_IMPORTED_MODULE_20__html__=__webpack_require__(421),__WEBPACK_IMPORTED_MODULE_21__raise__=__webpack_require__(422),__WEBPACK_IMPORTED_MODULE_22__lower__=__webpack_require__(423),__WEBPACK_IMPORTED_MODULE_23__append__=__webpack_require__(424),__WEBPACK_IMPORTED_MODULE_24__insert__=__webpack_require__(425),__WEBPACK_IMPORTED_MODULE_25__remove__=__webpack_require__(426),__WEBPACK_IMPORTED_MODULE_26__clone__=__webpack_require__(427),__WEBPACK_IMPORTED_MODULE_27__datum__=__webpack_require__(428),__WEBPACK_IMPORTED_MODULE_28__on__=__webpack_require__(374),__WEBPACK_IMPORTED_MODULE_29__dispatch__=__webpack_require__(429),root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}Selection.prototype=selection.prototype={constructor:Selection,select:__WEBPACK_IMPORTED_MODULE_0__select__.a,selectAll:__WEBPACK_IMPORTED_MODULE_1__selectAll__.a,filter:__WEBPACK_IMPORTED_MODULE_2__filter__.a,data:__WEBPACK_IMPORTED_MODULE_3__data__.a,enter:__WEBPACK_IMPORTED_MODULE_4__enter__.b,exit:__WEBPACK_IMPORTED_MODULE_5__exit__.a,merge:__WEBPACK_IMPORTED_MODULE_6__merge__.a,order:__WEBPACK_IMPORTED_MODULE_7__order__.a,sort:__WEBPACK_IMPORTED_MODULE_8__sort__.a,call:__WEBPACK_IMPORTED_MODULE_9__call__.a,nodes:__WEBPACK_IMPORTED_MODULE_10__nodes__.a,node:__WEBPACK_IMPORTED_MODULE_11__node__.a,size:__WEBPACK_IMPORTED_MODULE_12__size__.a,empty:__WEBPACK_IMPORTED_MODULE_13__empty__.a,each:__WEBPACK_IMPORTED_MODULE_14__each__.a,attr:__WEBPACK_IMPORTED_MODULE_15__attr__.a,style:__WEBPACK_IMPORTED_MODULE_16__style__.a,property:__WEBPACK_IMPORTED_MODULE_17__property__.a,classed:__WEBPACK_IMPORTED_MODULE_18__classed__.a,text:__WEBPACK_IMPORTED_MODULE_19__text__.a,html:__WEBPACK_IMPORTED_MODULE_20__html__.a,raise:__WEBPACK_IMPORTED_MODULE_21__raise__.a,lower:__WEBPACK_IMPORTED_MODULE_22__lower__.a,append:__WEBPACK_IMPORTED_MODULE_23__append__.a,insert:__WEBPACK_IMPORTED_MODULE_24__insert__.a,remove:__WEBPACK_IMPORTED_MODULE_25__remove__.a,clone:__WEBPACK_IMPORTED_MODULE_26__clone__.a,datum:__WEBPACK_IMPORTED_MODULE_27__datum__.a,on:__WEBPACK_IMPORTED_MODULE_28__on__.b,dispatch:__WEBPACK_IMPORTED_MODULE_29__dispatch__.a},__webpack_exports__.b=selection},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return SCHEDULED}),__webpack_require__.d(__webpack_exports__,"d",function(){return STARTING}),__webpack_require__.d(__webpack_exports__,"b",function(){return ENDING}),__webpack_require__.d(__webpack_exports__,"a",function(){return ENDED}),__webpack_exports__.g=function(node,id){var schedule=get(node,id);if(schedule.state>CREATED)throw new Error("too late; already scheduled");return schedule},__webpack_exports__.h=function(node,id){var schedule=get(node,id);if(schedule.state>STARTING)throw new Error("too late; already started");return schedule},__webpack_exports__.f=get;var __WEBPACK_IMPORTED_MODULE_0_d3_dispatch__=__webpack_require__(438),__WEBPACK_IMPORTED_MODULE_1_d3_timer__=__webpack_require__(170),emptyOn=Object(__WEBPACK_IMPORTED_MODULE_0_d3_dispatch__.a)("start","end","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}__webpack_exports__.e=function(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function(node,id,self){var tween,schedules=node.__transition;function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(o.state===STARTED)return Object(__WEBPACK_IMPORTED_MODULE_1_d3_timer__.timeout)(start);o.state===RUNNING?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),delete schedules[i])}if(Object(__WEBPACK_IMPORTED_MODULE_1_d3_timer__.timeout)(function(){self.state===STARTED&&(self.state=RUNNING,self.timer.restart(tick,self.delay,self.time),tick(elapsed))}),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=STARTED,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(null,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=ENDED,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=Object(__WEBPACK_IMPORTED_MODULE_1_d3_timer__.timer)(function(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)},0,self.time)}(node,id,{name:name,index:index,group:group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:CREATED})}},function(module,exports,__webpack_require__){var isString=__webpack_require__(10),isDate=__webpack_require__(80);module.exports={toTimeStamp:function(value){return isString(value)&&(value=value.indexOf("T")>0?new Date(value).getTime():new Date(value.replace(/-/gi,"/")).getTime()),isDate(value)&&(value=value.getTime()),value}}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_create__=__webpack_require__(401);__webpack_require__.d(__webpack_exports__,"create",function(){return __WEBPACK_IMPORTED_MODULE_0__src_create__.a});var __WEBPACK_IMPORTED_MODULE_1__src_creator__=__webpack_require__(360);__webpack_require__.d(__webpack_exports__,"creator",function(){return __WEBPACK_IMPORTED_MODULE_1__src_creator__.a});var __WEBPACK_IMPORTED_MODULE_2__src_local__=__webpack_require__(430);__webpack_require__.d(__webpack_exports__,"local",function(){return __WEBPACK_IMPORTED_MODULE_2__src_local__.a});var __WEBPACK_IMPORTED_MODULE_3__src_matcher__=__webpack_require__(381);__webpack_require__.d(__webpack_exports__,"matcher",function(){return __WEBPACK_IMPORTED_MODULE_3__src_matcher__.a});var __WEBPACK_IMPORTED_MODULE_4__src_mouse__=__webpack_require__(431);__webpack_require__.d(__webpack_exports__,"mouse",function(){return __WEBPACK_IMPORTED_MODULE_4__src_mouse__.a});var __WEBPACK_IMPORTED_MODULE_5__src_namespace__=__webpack_require__(370);__webpack_require__.d(__webpack_exports__,"namespace",function(){return __WEBPACK_IMPORTED_MODULE_5__src_namespace__.a});var __WEBPACK_IMPORTED_MODULE_6__src_namespaces__=__webpack_require__(371);__webpack_require__.d(__webpack_exports__,"namespaces",function(){return __WEBPACK_IMPORTED_MODULE_6__src_namespaces__.a});var __WEBPACK_IMPORTED_MODULE_7__src_point__=__webpack_require__(361);__webpack_require__.d(__webpack_exports__,"clientPoint",function(){return __WEBPACK_IMPORTED_MODULE_7__src_point__.a});var __WEBPACK_IMPORTED_MODULE_8__src_select__=__webpack_require__(379);__webpack_require__.d(__webpack_exports__,"select",function(){return __WEBPACK_IMPORTED_MODULE_8__src_select__.a});var __WEBPACK_IMPORTED_MODULE_9__src_selectAll__=__webpack_require__(432);__webpack_require__.d(__webpack_exports__,"selectAll",function(){return __WEBPACK_IMPORTED_MODULE_9__src_selectAll__.a});var __WEBPACK_IMPORTED_MODULE_10__src_selection_index__=__webpack_require__(69);__webpack_require__.d(__webpack_exports__,"selection",function(){return __WEBPACK_IMPORTED_MODULE_10__src_selection_index__.b});var __WEBPACK_IMPORTED_MODULE_11__src_selector__=__webpack_require__(372);__webpack_require__.d(__webpack_exports__,"selector",function(){return __WEBPACK_IMPORTED_MODULE_11__src_selector__.a});var __WEBPACK_IMPORTED_MODULE_12__src_selectorAll__=__webpack_require__(380);__webpack_require__.d(__webpack_exports__,"selectorAll",function(){return __WEBPACK_IMPORTED_MODULE_12__src_selectorAll__.a});var __WEBPACK_IMPORTED_MODULE_13__src_selection_style__=__webpack_require__(384);__webpack_require__.d(__webpack_exports__,"style",function(){return __WEBPACK_IMPORTED_MODULE_13__src_selection_style__.b});var __WEBPACK_IMPORTED_MODULE_14__src_touch__=__webpack_require__(433);__webpack_require__.d(__webpack_exports__,"touch",function(){return __WEBPACK_IMPORTED_MODULE_14__src_touch__.a});var __WEBPACK_IMPORTED_MODULE_15__src_touches__=__webpack_require__(434);__webpack_require__.d(__webpack_exports__,"touches",function(){return __WEBPACK_IMPORTED_MODULE_15__src_touches__.a});var __WEBPACK_IMPORTED_MODULE_16__src_window__=__webpack_require__(373);__webpack_require__.d(__webpack_exports__,"window",function(){return __WEBPACK_IMPORTED_MODULE_16__src_window__.a});var __WEBPACK_IMPORTED_MODULE_17__src_selection_on__=__webpack_require__(374);__webpack_require__.d(__webpack_exports__,"event",function(){return __WEBPACK_IMPORTED_MODULE_17__src_selection_on__.c}),__webpack_require__.d(__webpack_exports__,"customEvent",function(){return __WEBPACK_IMPORTED_MODULE_17__src_selection_on__.a})},function(module,exports,__webpack_require__){module.exports={Position:__webpack_require__(292),Color:__webpack_require__(293),Shape:__webpack_require__(294),Size:__webpack_require__(295),Opacity:__webpack_require__(296),ColorUtil:__webpack_require__(149)}},function(module,exports,__webpack_require__){var lowerFirst=__webpack_require__(75),Base=__webpack_require__(17);Base.Linear=__webpack_require__(33),Base.Identity=__webpack_require__(175),Base.Cat=__webpack_require__(77),Base.Time=__webpack_require__(176),Base.TimeCat=__webpack_require__(178),Base.Log=__webpack_require__(179),Base.Pow=__webpack_require__(180);var _loop=function(k){if(Base.hasOwnProperty(k)){var methodName=lowerFirst(k);Base[methodName]=function(cfg){return new Base[k](cfg)}}};for(var k in Base)_loop(k);var CAT_ARR=["cat","timeCat"];Base.isCategory=function(type){return CAT_ARR.indexOf(type)>=0},module.exports=Base},function(module,exports,__webpack_require__){var toString=__webpack_require__(23);module.exports=function(value){var str=toString(value);return str.charAt(0).toLowerCase()+str.substring(1)}},function(module,exports){function arrayFloor(values,value){var length=values.length;if(0===length)return NaN;var pre=values[0];if(value<values[0])return NaN;if(value>=values[length-1])return values[length-1];for(var i=1;i<values.length&&!(value<values[i]);i++)pre=values[i];return pre}function arrayCeiling(values,value){var rst,length=values.length;if(0===length)return NaN;if(value>values[length-1])return NaN;if(value<values[0])return values[0];for(var i=1;i<values.length;i++)if(value<=values[i]){rst=values[i];break}return rst}var Util={snapFactorTo:function(v,arr,snapType){if(isNaN(v))return NaN;var factor=1;if(0!==v){v<0&&(factor=-1);var tmpFactor=function(v){var factor=1;if(v===1/0||v===-1/0)throw new Error("Not support Infinity!");if(v<1){for(var count=0;v<1;)factor/=10,v*=10,count++;factor.toString().length>12&&(factor=parseFloat(factor.toFixed(count)))}else for(;v>10;)factor*=10,v/=10;return factor}(v*=factor);factor*=tmpFactor,v/=tmpFactor}v="floor"===snapType?Util.snapFloor(arr,v):"ceil"===snapType?Util.snapCeiling(arr,v):Util.snapTo(arr,v);var rst=parseFloat((v*factor).toPrecision(12));return Math.abs(factor)<1&&rst.toString().length>12&&(rst=v/parseInt(1/factor)*(factor>0?1:-1)),rst},snapMultiple:function(v,base,snapType){return("ceil"===snapType?Math.ceil(v/base):"floor"===snapType?Math.floor(v/base):Math.round(v/base))*base},snapTo:function(values,value){var floorVal=arrayFloor(values,value),ceilingVal=arrayCeiling(values,value);if(isNaN(floorVal)||isNaN(ceilingVal)){if(values[0]>=value)return values[0];var last=values[values.length-1];if(last<=value)return last}return Math.abs(value-floorVal)<Math.abs(ceilingVal-value)?floorVal:ceilingVal},snapFloor:function(values,value){return arrayFloor(values,value)},snapCeiling:function(values,value){return arrayCeiling(values,value)},fixedBase:function(v,base){var str=base.toString(),index=str.indexOf(".");if(-1===index)return Math.round(v);var length=str.substr(index+1).length;return length>20&&(length=20),parseFloat(v.toFixed(length))}};module.exports=Util},function(module,exports,__webpack_require__){var Base=__webpack_require__(17),catAuto=__webpack_require__(78),each=__webpack_require__(2),isNumber=__webpack_require__(9),isString=__webpack_require__(10),Category=function(_Base){var subClass,superClass;function Category(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Category).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Category.prototype;return _proto._initDefaultCfg=function(){_Base.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},_proto.init=function(){var values=this.values,tickCount=this.tickCount;if(each(values,function(v,i){values[i]=v.toString()}),!this.ticks){var ticks=values;tickCount&&(ticks=catAuto({maxCount:tickCount,data:values,isRounding:this.isRounding}).ticks),this.ticks=ticks}},_proto.getText=function(value){return-1===this.values.indexOf(value)&&isNumber(value)&&(value=this.values[Math.round(value)]),_Base.prototype.getText.call(this,value)},_proto.translate=function(value){var index=this.values.indexOf(value);return-1===index&&isNumber(value)?index=value:-1===index&&(index=NaN),index},_proto.scale=function(value){var rangeMin=this.rangeMin(),rangeMax=this.rangeMax();return(isString(value)||-1!==this.values.indexOf(value))&&(value=this.translate(value)),rangeMin+(this.values.length>1?value/(this.values.length-1):value)*(rangeMax-rangeMin)},_proto.invert=function(value){if(isString(value))return value;var min=this.rangeMin(),max=this.rangeMax();value<min&&(value=min),value>max&&(value=max);var index=Math.round((value-min)/(max-min)*(this.values.length-1))%this.values.length;return this.values[index=index||0]},Category}(Base);Base.Cat=Category,module.exports=Category},function(module,exports,__webpack_require__){var each=__webpack_require__(2);module.exports=function(info){var arr,tickCount,rst={},ticks=[],isRounding=info.isRounding,categories=(arr=[],each(info.data,function(sub){arr=arr.concat(sub)}),arr),length=categories.length,maxCount=info.maxCount||8;if(isRounding?2===(tickCount=function(count,number){var i;for(i=number;i>0&&count%i!=0;i--);if(1===i)for(i=number;i>0&&(count-1)%i!=0;i--);return i}(length-1,maxCount-1)+1)?tickCount=maxCount:tickCount<maxCount-4&&(tickCount=maxCount-4):tickCount=maxCount,!isRounding&&length<=tickCount+tickCount/2)ticks=[].concat(categories);else{for(var step=parseInt(length/(tickCount-1),10),groups=categories.map(function(e,i){return i%step==0?categories.slice(i,i+step):null}).filter(function(e){return e}),i=1,groupLen=groups.length;i<groupLen&&(isRounding?i*step<length-step:i<tickCount-1);i++)ticks.push(groups[i][0]);if(categories.length){ticks.unshift(categories[0]);var last=categories[length-1];-1===ticks.indexOf(last)&&ticks.push(last)}}return rst.categories=categories,rst.ticks=ticks,rst}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(main){"use strict";var fecha={},token=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,twoDigits=/\d\d?/,word=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,literal=/\[([^]*?)\]/gm,noop=function(){};function shorten(arr,sLen){for(var newArr=[],i=0,len=arr.length;i<len;i++)newArr.push(arr[i].substr(0,sLen));return newArr}function monthUpdate(arrName){return function(d,v,i18n){var index=i18n[arrName].indexOf(v.charAt(0).toUpperCase()+v.substr(1).toLowerCase());~index&&(d.month=index)}}function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}var dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort=shorten(monthNames,3),dayNamesShort=shorten(dayNames,3);fecha.i18n={dayNamesShort:dayNamesShort,dayNames:dayNames,monthNamesShort:monthNamesShort,monthNames:monthNames,amPm:["am","pm"],DoFn:function(D){return D+["th","st","nd","rd"][D%10>3?0:(D-D%10!=10)*D%10]}};var formatFlags={D:function(dateObj){return dateObj.getDate()},DD:function(dateObj){return pad(dateObj.getDate())},Do:function(dateObj,i18n){return i18n.DoFn(dateObj.getDate())},d:function(dateObj){return dateObj.getDay()},dd:function(dateObj){return pad(dateObj.getDay())},ddd:function(dateObj,i18n){return i18n.dayNamesShort[dateObj.getDay()]},dddd:function(dateObj,i18n){return i18n.dayNames[dateObj.getDay()]},M:function(dateObj){return dateObj.getMonth()+1},MM:function(dateObj){return pad(dateObj.getMonth()+1)},MMM:function(dateObj,i18n){return i18n.monthNamesShort[dateObj.getMonth()]},MMMM:function(dateObj,i18n){return i18n.monthNames[dateObj.getMonth()]},YY:function(dateObj){return String(dateObj.getFullYear()).substr(2)},YYYY:function(dateObj){return pad(dateObj.getFullYear(),4)},h:function(dateObj){return dateObj.getHours()%12||12},hh:function(dateObj){return pad(dateObj.getHours()%12||12)},H:function(dateObj){return dateObj.getHours()},HH:function(dateObj){return pad(dateObj.getHours())},m:function(dateObj){return dateObj.getMinutes()},mm:function(dateObj){return pad(dateObj.getMinutes())},s:function(dateObj){return dateObj.getSeconds()},ss:function(dateObj){return pad(dateObj.getSeconds())},S:function(dateObj){return Math.round(dateObj.getMilliseconds()/100)},SS:function(dateObj){return pad(Math.round(dateObj.getMilliseconds()/10),2)},SSS:function(dateObj){return pad(dateObj.getMilliseconds(),3)},a:function(dateObj,i18n){return dateObj.getHours()<12?i18n.amPm[0]:i18n.amPm[1]},A:function(dateObj,i18n){return dateObj.getHours()<12?i18n.amPm[0].toUpperCase():i18n.amPm[1].toUpperCase()},ZZ:function(dateObj){var o=dateObj.getTimezoneOffset();return(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4)}},parseFlags={D:[twoDigits,function(d,v){d.day=v}],Do:[new RegExp(twoDigits.source+word.source),function(d,v){d.day=parseInt(v,10)}],M:[twoDigits,function(d,v){d.month=v-1}],YY:[twoDigits,function(d,v){var cent=+(""+(new Date).getFullYear()).substr(0,2);d.year=""+(v>68?cent-1:cent)+v}],h:[twoDigits,function(d,v){d.hour=v}],m:[twoDigits,function(d,v){d.minute=v}],s:[twoDigits,function(d,v){d.second=v}],YYYY:[/\d{4}/,function(d,v){d.year=v}],S:[/\d/,function(d,v){d.millisecond=100*v}],SS:[/\d{2}/,function(d,v){d.millisecond=10*v}],SSS:[/\d{3}/,function(d,v){d.millisecond=v}],d:[twoDigits,noop],ddd:[word,noop],MMM:[word,monthUpdate("monthNamesShort")],MMMM:[word,monthUpdate("monthNames")],a:[word,function(d,v,i18n){var val=v.toLowerCase();val===i18n.amPm[0]?d.isPm=!1:val===i18n.amPm[1]&&(d.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(d,v){"Z"===v&&(v="+00:00");var minutes,parts=(v+"").match(/([\+\-]|\d\d)/gi);parts&&(minutes=60*parts[1]+parseInt(parts[2],10),d.timezoneOffset="+"===parts[0]?minutes:-minutes)}]};parseFlags.dd=parseFlags.d,parseFlags.dddd=parseFlags.ddd,parseFlags.DD=parseFlags.D,parseFlags.mm=parseFlags.m,parseFlags.hh=parseFlags.H=parseFlags.HH=parseFlags.h,parseFlags.MM=parseFlags.M,parseFlags.ss=parseFlags.s,parseFlags.A=parseFlags.a,fecha.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},fecha.format=function(dateObj,mask,i18nSettings){var i18n=i18nSettings||fecha.i18n;if("number"==typeof dateObj&&(dateObj=new Date(dateObj)),"[object Date]"!==Object.prototype.toString.call(dateObj)||isNaN(dateObj.getTime()))throw new Error("Invalid Date in fecha.format");var literals=[];return(mask=(mask=(mask=fecha.masks[mask]||mask||fecha.masks.default).replace(literal,function($0,$1){return literals.push($1),"??"})).replace(token,function($0){return $0 in formatFlags?formatFlags[$0](dateObj,i18n):$0.slice(1,$0.length-1)})).replace(/\?\?/g,function(){return literals.shift()})},fecha.parse=function(dateStr,format,i18nSettings){var i18n=i18nSettings||fecha.i18n;if("string"!=typeof format)throw new Error("Invalid format in fecha.parse");if(dateStr.length>1e3)return!1;var isValid=!0,dateInfo={};if((format=fecha.masks[format]||format).replace(token,function($0){if(parseFlags[$0]){var info=parseFlags[$0],index=dateStr.search(info[0]);~index?dateStr.replace(info[0],function(result){return info[1](dateInfo,result,i18n),dateStr=dateStr.substr(index+result.length),result}):isValid=!1}return parseFlags[$0]?"":$0.slice(1,$0.length-1)}),!isValid)return!1;var date,today=new Date;return!0===dateInfo.isPm&&null!=dateInfo.hour&&12!=+dateInfo.hour?dateInfo.hour=+dateInfo.hour+12:!1===dateInfo.isPm&&12==+dateInfo.hour&&(dateInfo.hour=0),null!=dateInfo.timezoneOffset?(dateInfo.minute=+(dateInfo.minute||0)-+dateInfo.timezoneOffset,date=new Date(Date.UTC(dateInfo.year||today.getFullYear(),dateInfo.month||0,dateInfo.day||1,dateInfo.hour||0,dateInfo.minute||0,dateInfo.second||0,dateInfo.millisecond||0))):date=new Date(dateInfo.year||today.getFullYear(),dateInfo.month||0,dateInfo.day||1,dateInfo.hour||0,dateInfo.minute||0,dateInfo.second||0,dateInfo.millisecond||0),date},void 0!==module&&module.exports?module.exports=fecha:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return fecha}).call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(value){return isType(value,"Date")}},function(module,exports,__webpack_require__){module.exports={isFunction:__webpack_require__(11),isObject:__webpack_require__(24),isBoolean:__webpack_require__(82),isNil:__webpack_require__(5),isString:__webpack_require__(10),isArray:__webpack_require__(4),isNumber:__webpack_require__(9),isEmpty:__webpack_require__(83),uniqueId:__webpack_require__(86),clone:__webpack_require__(46),deepMix:__webpack_require__(47),assign:__webpack_require__(8),merge:__webpack_require__(47),upperFirst:__webpack_require__(87),each:__webpack_require__(2),isEqual:__webpack_require__(49),toArray:__webpack_require__(34),extend:__webpack_require__(88),augment:__webpack_require__(89),remove:__webpack_require__(90),isNumberEqual:__webpack_require__(35),toRadian:__webpack_require__(91),toDegree:__webpack_require__(92),mod:__webpack_require__(93),clamp:__webpack_require__(50),createDom:__webpack_require__(94),modifyCSS:__webpack_require__(95),requestAnimationFrame:__webpack_require__(96),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:__webpack_require__(51),vec2:__webpack_require__(97),vec3:__webpack_require__(98),transform:__webpack_require__(99)}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(value){return isType(value,"Boolean")}},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isArrayLike=__webpack_require__(13),getType=__webpack_require__(84),isPrototype=__webpack_require__(85),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value){if(isNil(value))return!0;if(isArrayLike(value))return!value.length;var type=getType(value);if("Map"===type||"Set"===type)return!value.size;if(isPrototype(value))return!Object.keys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},function(module,exports){var toString={}.toString;module.exports=function(value){return toString.call(value).replace(/^\[object /,"").replace(/\]$/,"")}},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports){var map,uniqueId=(map={},function(prefix){return map[prefix=prefix||"g"]?map[prefix]+=1:map[prefix]=1,prefix+map[prefix]});module.exports=uniqueId},function(module,exports,__webpack_require__){var toString=__webpack_require__(23);module.exports=function(value){var str=toString(value);return str.charAt(0).toUpperCase()+str.substring(1)}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),mix=__webpack_require__(8);module.exports=function(subclass,superclass,overrides,staticOverrides){isFunction(superclass)||(overrides=superclass,superclass=subclass,subclass=function(){});var create=Object.create?function(proto,c){return Object.create(proto,{constructor:{value:c}})}:function(proto,c){function Tmp(){}Tmp.prototype=proto;var o=new Tmp;return o.constructor=c,o},superObj=create(superclass.prototype,subclass);return subclass.prototype=mix(superObj,subclass.prototype),subclass.superclass=create(superclass.prototype,superclass),mix(superObj,overrides),mix(subclass,staticOverrides),subclass}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),toArray=__webpack_require__(34),mix=__webpack_require__(8);module.exports=function(c){for(var args=toArray(arguments),i=1;i<args.length;i++){var obj=args[i];isFunction(obj)&&(obj=obj.prototype),mix(c.prototype,obj)}}},function(module,exports){var arrPrototype=Array.prototype,splice=arrPrototype.splice,indexOf=arrPrototype.indexOf,slice=arrPrototype.slice;module.exports=function(arr){for(var values=slice.call(arguments,1),i=0;i<values.length;i++)for(var value=values[i],fromIndex=-1;(fromIndex=indexOf.call(arr,value))>-1;)splice.call(arr,fromIndex,1);return arr}},function(module,exports){var RADIAN=Math.PI/180;module.exports=function(degree){return RADIAN*degree}},function(module,exports){var DEGREE=180/Math.PI;module.exports=function(radian){return DEGREE*radian}},function(module,exports){module.exports=function(n,m){return(n%m+m)%m}},function(module,exports){var TABLE=document.createElement("table"),TABLE_TR=document.createElement("tr"),FRAGMENT_REG=/^\s*<(\w+|!)[^>]*>/,CONTAINERS={tr:document.createElement("tbody"),tbody:TABLE,thead:TABLE,tfoot:TABLE,td:TABLE_TR,th:TABLE_TR,"*":document.createElement("div")};module.exports=function(str){var name=FRAGMENT_REG.test(str)&&RegExp.$1;name in CONTAINERS||(name="*");var container=CONTAINERS[name];str=str.replace(/(^\s*)|(\s*$)/g,""),container.innerHTML=""+str;var dom=container.childNodes[0];return container.removeChild(dom),dom}},function(module,exports){module.exports=function(dom,css){if(dom)for(var key in css)css.hasOwnProperty(key)&&(dom.style[key]=css[key]);return dom}},function(module,exports){module.exports=function(fn){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return setTimeout(fn,16)})(fn)}},function(module,exports,__webpack_require__){var vec2=__webpack_require__(183),clamp=__webpack_require__(50);vec2.angle=function(v1,v2){var theta=vec2.dot(v1,v2)/(vec2.length(v1)*vec2.length(v2));return Math.acos(clamp(theta,-1,1))},vec2.direction=function(v1,v2){return v1[0]*v2[1]-v2[0]*v1[1]},vec2.angleTo=function(v1,v2,direct){var angle=vec2.angle(v1,v2),angleLargeThanPI=vec2.direction(v1,v2)>=0;return direct?angleLargeThanPI?2*Math.PI-angle:angle:angleLargeThanPI?angle:2*Math.PI-angle},vec2.vertical=function(out,v,flag){return flag?(out[0]=v[1],out[1]=-1*v[0]):(out[0]=-1*v[1],out[1]=v[0]),out},module.exports=vec2},function(module,exports,__webpack_require__){var vec3=__webpack_require__(184);module.exports=vec3},function(module,exports,__webpack_require__){var clone=__webpack_require__(46),each=__webpack_require__(2),mat3=__webpack_require__(51);module.exports=function(m,ts){return m=clone(m),each(ts,function(t){switch(t[0]){case"t":mat3.translate(m,m,[t[1],t[2]]);break;case"s":mat3.scale(m,m,[t[1],t[2]]);break;case"r":mat3.rotate(m,m,t[1]);break;case"m":mat3.multiply(m,m,t[1]);break;default:return!1}}),m}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Event=function(type,event,bubbles,cancelable){this.type=type,this.target=null,this.currentTarget=null,this.bubbles=bubbles,this.cancelable=cancelable,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=event};Util.augment(Event,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return Util.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),module.exports=Event},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Element=__webpack_require__(102),Shape=__webpack_require__(188),SHAPE_MAP={};function find(children,x,y){for(var rst,i=children.length-1;i>=0;i--){var child=children[i];if(child._cfg.visible&&child._cfg.capture&&(child.isGroup?rst=child.getShape(x,y):child.isHit(x,y)&&(rst=child)),rst)break}return rst}var Group=function Group(cfg){Group.superclass.constructor.call(this,cfg),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};Util.extend(Group,Element),Util.augment(Group,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function initClassCfgs(c){if(!c._cfg&&c!==Group){var superCon=c.superclass.constructor;superCon&&!superCon._cfg&&initClassCfgs(superCon),c._cfg={},Util.merge(c._cfg,superCon._cfg),Util.merge(c._cfg,c.CFG)}}(this.constructor),Util.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(type,cfg){var canvas=this.get("canvas");cfg=cfg||{};var shapeType=SHAPE_MAP[type];if(shapeType||(shapeType=Util.upperFirst(type),SHAPE_MAP[type]=shapeType),cfg.attrs&&canvas){var attrs=cfg.attrs;if("text"===type){var topFontFamily=canvas.get("fontFamily");topFontFamily&&(attrs.fontFamily=attrs.fontFamily?attrs.fontFamily:topFontFamily)}}cfg.canvas=canvas,cfg.type=type;var rst=new Shape[shapeType](cfg);return this.add(rst),rst},addGroup:function(param,cfg){var rst,canvas=this.get("canvas");if(cfg=Util.merge({},cfg),Util.isFunction(param))cfg?(cfg.canvas=canvas,cfg.parent=this,rst=new param(cfg)):rst=new param({canvas:canvas,parent:this}),this.add(rst);else if(Util.isObject(param))param.canvas=canvas,rst=new Group(param),this.add(rst);else{if(void 0!==param)return!1;rst=new Group,this.add(rst)}return rst},renderBack:function(padding,attrs){var backShape=this.get("backShape"),innerBox=this.getBBox();return Util.merge(attrs,{x:innerBox.minX-padding[3],y:innerBox.minY-padding[0],width:innerBox.width+padding[1]+padding[3],height:innerBox.height+padding[0]+padding[2]}),backShape?backShape.attr(attrs):backShape=this.addShape("rect",{zIndex:-1,attrs:attrs}),this.set("backShape",backShape),this.sort(),backShape},removeChild:function(item,destroy){if(arguments.length>=2)this.contain(item)&&item.remove(destroy);else{if(1===arguments.length){if(!Util.isBoolean(item))return this.contain(item)&&item.remove(!0),this;destroy=item}0===arguments.length&&(destroy=!0),Group.superclass.remove.call(this,destroy)}return this},add:function(items){var self=this,children=self.get("children");if(Util.isArray(items))Util.each(items,function(item){var parent=item.get("parent");parent&&parent.removeChild(item,!1),self._setCfgProperty(item)}),self._cfg.children=children.concat(items);else{var item=items,parent=item.get("parent");parent&&parent.removeChild(item,!1),self._setCfgProperty(item),children.push(item)}return self},_setCfgProperty:function(item){var cfg=this._cfg;item.set("parent",this),item.set("canvas",cfg.canvas),cfg.timeline&&item.set("timeline",cfg.timeline)},contain:function(item){return this.get("children").indexOf(item)>-1},getChildByIndex:function(index){return this.get("children")[index]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var lastIndex=this.get("children").length-1;return this.getChildByIndex(lastIndex)},getBBox:function(){var minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0,children=this.get("children");children.length>0?Util.each(children,function(child){if(child.get("visible")){if(child.isGroup&&0===child.get("children").length)return;var _box=child.getBBox();if(!_box)return!0;var leftTop=[_box.minX,_box.minY,1],leftBottom=[_box.minX,_box.maxY,1],rightTop=[_box.maxX,_box.minY,1],rightBottom=[_box.maxX,_box.maxY,1];child.apply(leftTop),child.apply(leftBottom),child.apply(rightTop),child.apply(rightBottom);var boxMinX=Math.min(leftTop[0],leftBottom[0],rightTop[0],rightBottom[0]),boxMaxX=Math.max(leftTop[0],leftBottom[0],rightTop[0],rightBottom[0]),boxMinY=Math.min(leftTop[1],leftBottom[1],rightTop[1],rightBottom[1]),boxMaxY=Math.max(leftTop[1],leftBottom[1],rightTop[1],rightBottom[1]);boxMinX<minX&&(minX=boxMinX),boxMaxX>maxX&&(maxX=boxMaxX),boxMinY<minY&&(minY=boxMinY),boxMaxY>maxY&&(maxY=boxMaxY)}}):(minX=0,maxX=0,minY=0,maxY=0);var box={minX:minX,minY:minY,maxX:maxX,maxY:maxY};return box.x=box.minX,box.y=box.minY,box.width=box.maxX-box.minX,box.height=box.maxY-box.minY,box},getCount:function(){return this.get("children").length},sort:function(){var compare,children=this.get("children");return Util.each(children,function(child,index){return child._INDEX=index,child}),children.sort((compare=function(obj1,obj2){return obj1.get("zIndex")-obj2.get("zIndex")},function(left,right){var result=compare(left,right);return 0===result?left._INDEX-right._INDEX:result})),this},findById:function(id){return this.find(function(item){return item.get("id")===id})},find:function(fn){if(Util.isString(fn))return this.findById(fn);var children=this.get("children"),rst=null;return Util.each(children,function(item){if(fn(item)?rst=item:item.find&&(rst=item.find(fn)),rst)return!1}),rst},findAll:function(fn){var children=this.get("children"),rst=[],childRst=[];return Util.each(children,function(item){fn(item)&&rst.push(item),item.findAllBy&&(childRst=item.findAllBy(fn),rst=rst.concat(childRst))}),rst},findBy:function(fn){var children=this.get("children"),rst=null;return Util.each(children,function(item){if(fn(item)?rst=item:item.findBy&&(rst=item.findBy(fn)),rst)return!1}),rst},findAllBy:function(fn){var children=this.get("children"),rst=[],childRst=[];return Util.each(children,function(item){fn(item)&&rst.push(item),item.findAllBy&&(childRst=item.findAllBy(fn),rst=rst.concat(childRst))}),rst},getShape:function(x,y){var rst,clip=this._attrs.clip,children=this._cfg.children;if(clip){var v=[x,y,1];clip.invert(v,this.get("canvas")),clip.isPointInPath(v[0],v[1])&&(rst=find(children,x,y))}else rst=find(children,x,y);return rst},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var children=this._cfg.children,i=0;i<children.length;i++)children[i].clearTotalMatrix()}},clear:function(delayRemove){for(var children=this._cfg.children,i=children.length-1;i>=0;i--)children[i].remove(!0,delayRemove);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),Group.superclass.destroy.call(this))},clone:function(){var children=this._cfg.children,clone=new Group;return Util.each(children,function(child){clone.add(child.clone())}),clone}}),module.exports=Group},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Attribute=__webpack_require__(185),Transform=__webpack_require__(186),Animate=__webpack_require__(187),EventEmitter=__webpack_require__(53),Element=function(cfg){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},Util.assign(this._cfg,this.getDefaultCfg(),cfg),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};Element.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},Util.augment(Element,Attribute,Transform,EventEmitter,Animate,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(name,value){return"zIndex"===name&&this._beforeSetZIndex&&this._beforeSetZIndex(value),"loading"===name&&this._beforeSetLoading&&this._beforeSetLoading(value),this._cfg[name]=value,this},setSilent:function(name,value){this._cfg[name]=value},get:function(name){return this._cfg[name]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(destroy,delayRemove){var cfg=this._cfg,parent=cfg.parent,el=cfg.el;return parent&&Util.remove(parent.get("children"),this),el&&(delayRemove?parent&&parent._cfg.tobeRemoved.push(el):el.parentNode.removeChild(el)),(destroy||void 0===destroy)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var cfg=this._cfg,parent=cfg.parent;if(parent){var children=parent._cfg.children,el=cfg.el,index=children.indexOf(this);children.splice(index,1),children.push(this),el&&(el.parentNode.removeChild(el),cfg.el=null)}},toBack:function(){var cfg=this._cfg,parent=cfg.parent;if(parent){var children=parent._cfg.children,el=cfg.el,index=children.indexOf(this);if(children.splice(index,1),children.unshift(this),el){var parentNode=el.parentNode;parentNode.removeChild(el),parentNode.insertBefore(el,parentNode.firstChild)}}},_beforeSetZIndex:function(zIndex){var parent=this._cfg.parent;this._cfg.zIndex=zIndex,Util.isNil(parent)||parent.sort();var el=this._cfg.el;if(el){var children=parent._cfg.children,index=children.indexOf(this),parentNode=el.parentNode;parentNode.removeChild(el),index===children.length-1?parentNode.appendChild(el):parentNode.insertBefore(el,parentNode.childNodes[index])}return zIndex},_setAttrs:function(attrs){return this.attr(attrs),attrs},setZIndex:function(zIndex){return this._cfg.zIndex=zIndex,this._beforeSetZIndex(zIndex)},clone:function(){return Util.clone(this)},getBBox:function(){}}),module.exports=Element},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),vec2=Util.vec2;function quadraticAt(p0,p1,p2,t){var onet=1-t;return onet*(onet*p0+2*t*p1)+t*t*p2}function quadraticProjectPoint(x1,y1,x2,y2,x3,y3,x,y,out){var t,d1,v1,v2,_t,d2,i,interval=.005,d=1/0,v0=[x,y];for(_t=0;_t<1;_t+=.05)v1=[quadraticAt(x1,x2,x3,_t),quadraticAt(y1,y2,y3,_t)],(d1=vec2.squaredDistance(v0,v1))<d&&(t=_t,d=d1);for(d=1/0,i=0;i<32&&!(interval<1e-4);i++){var prev=t-interval,next=t+interval;v1=[quadraticAt(x1,x2,x3,prev),quadraticAt(y1,y2,y3,prev)],d1=vec2.squaredDistance(v0,v1),prev>=0&&d1<d?(t=prev,d=d1):(v2=[quadraticAt(x1,x2,x3,next),quadraticAt(y1,y2,y3,next)],d2=vec2.squaredDistance(v0,v2),next<=1&&d2<d?(t=next,d=d2):interval*=.5)}return out&&(out.x=quadraticAt(x1,x2,x3,t),out.y=quadraticAt(y1,y2,y3,t)),Math.sqrt(d)}module.exports={at:quadraticAt,projectPoint:function(x1,y1,x2,y2,x3,y3,x,y){var rst={};return quadraticProjectPoint(x1,y1,x2,y2,x3,y3,x,y,rst),rst},pointDistance:quadraticProjectPoint,extrema:function(p0,p1,p2){var a=p0+p2-2*p1;if(Util.isNumberEqual(a,0))return[.5];var rst=(p0-p1)/a;return rst<=1&&rst>=0?[rst]:[]}}},function(module,exports){module.exports={xAt:function(psi,rx,ry,cx,t){return rx*Math.cos(psi)*Math.cos(t)-ry*Math.sin(psi)*Math.sin(t)+cx},yAt:function(psi,rx,ry,cy,t){return rx*Math.sin(psi)*Math.cos(t)+ry*Math.cos(psi)*Math.sin(t)+cy},xExtrema:function(psi,rx,ry){return Math.atan(-ry/rx*Math.tan(psi))},yExtrema:function(psi,rx,ry){return Math.atan(ry/(rx*Math.tan(psi)))}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),ArcMath=__webpack_require__(37),Arrow=__webpack_require__(38);function _getArcX(x,radius,angle){return x+radius*Math.cos(angle)}function _getArcY(y,radius,angle){return y+radius*Math.sin(angle)}var Arc=function Arc(cfg){Arc.superclass.constructor.call(this,cfg)};Arc.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},Util.extend(Arc,Shape),Util.augment(Arc,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,r=attrs.r,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,halfWidth=this.getHitLineWidth()/2,box=ArcMath.box(x,y,r,startAngle,endAngle,clockwise);return box.minX-=halfWidth,box.minY-=halfWidth,box.maxX+=halfWidth,box.maxY+=halfWidth,box},getStartTangent:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,startAngle=attrs.startAngle,r=attrs.r,diff=Math.PI/180;attrs.clockwise&&(diff*=-1);var result=[],x1=_getArcX(x,r,startAngle+diff),y1=_getArcY(y,r,startAngle+diff),x2=_getArcX(x,r,startAngle),y2=_getArcY(y,r,startAngle);return result.push([x1,y1]),result.push([x2,y2]),result},getEndTangent:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,endAngle=attrs.endAngle,r=attrs.r,diff=Math.PI/180,result=[];attrs.clockwise&&(diff*=-1);var x1=_getArcX(x,r,endAngle+diff),y1=_getArcY(y,r,endAngle+diff),x2=_getArcX(x,r,endAngle),y2=_getArcY(y,r,endAngle);return result.push([x2,y2]),result.push([x1,y1]),result},createPath:function(context){var attrs=this._attrs,x=attrs.x,y=attrs.y,r=attrs.r,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise;(context=context||self.get("context")).beginPath(),context.arc(x,y,r,startAngle,endAngle,clockwise)},afterPath:function(context){var attrs=this._attrs;if(context=context||this.get("context"),attrs.startArrow){var startPoints=this.getStartTangent();Arrow.addStartArrow(context,attrs,startPoints[0][0],startPoints[0][1],startPoints[1][0],startPoints[1][1])}if(attrs.endArrow){var endPoints=this.getEndTangent();Arrow.addEndArrow(context,attrs,endPoints[0][0],endPoints[0][1],endPoints[1][0],endPoints[1][1])}}}),module.exports=Arc},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Circle=function Circle(cfg){Circle.superclass.constructor.call(this,cfg)};Circle.ATTRS={x:0,y:0,r:0,lineWidth:1},Util.extend(Circle,Shape),Util.augment(Circle,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r,halfWidth=this.getHitLineWidth()/2+r;return{minX:cx-halfWidth,minY:cy-halfWidth,maxX:cx+halfWidth,maxY:cy+halfWidth}},createPath:function(context){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r;context.beginPath(),context.arc(cx,cy,r,0,2*Math.PI,!1),context.closePath()}}),module.exports=Circle},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Dom=function Dom(cfg){Dom.superclass.constructor.call(this,cfg)};Util.extend(Dom,Shape),Util.augment(Dom,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,width=attrs.width,height=attrs.height,halfWidth=this.getHitLineWidth()/2;return{minX:x-halfWidth,minY:y-halfWidth,maxX:x+width+halfWidth,maxY:y+height+halfWidth}}}),module.exports=Dom},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Ellipse=function Ellipse(cfg){Ellipse.superclass.constructor.call(this,cfg)};Ellipse.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},Util.extend(Ellipse,Shape),Util.augment(Ellipse,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rx=attrs.rx,ry=attrs.ry,lineWidth=this.getHitLineWidth(),halfXWidth=rx+lineWidth/2,halfYWidth=ry+lineWidth/2;return{minX:cx-halfXWidth,minY:cy-halfYWidth,maxX:cx+halfXWidth,maxY:cy+halfYWidth}},createPath:function(context){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rx=attrs.rx,ry=attrs.ry;context=context||self.get("context");var r=rx>ry?rx:ry,m=[1,0,0,0,1,0,0,0,1];Util.mat3.scale(m,m,[rx>ry?1:rx/ry,rx>ry?ry/rx:1]),Util.mat3.translate(m,m,[cx,cy]),context.beginPath(),context.save(),context.transform(m[0],m[1],m[3],m[4],m[6],m[7]),context.arc(0,0,r,0,2*Math.PI),context.restore(),context.closePath()}}),module.exports=Ellipse},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),ArcMath=__webpack_require__(37),Fan=function Fan(cfg){Fan.superclass.constructor.call(this,cfg)};Fan.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},Util.extend(Fan,Shape),Util.augment(Fan,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rs=attrs.rs,re=attrs.re,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,lineWidth=this.getHitLineWidth(),boxs=ArcMath.box(cx,cy,rs,startAngle,endAngle,clockwise),boxe=ArcMath.box(cx,cy,re,startAngle,endAngle,clockwise),halfWidth=lineWidth/2;return{minX:Math.min(boxs.minX,boxe.minX)-halfWidth,minY:Math.min(boxs.minY,boxe.minY)-halfWidth,maxX:Math.max(boxs.maxX,boxe.maxX)+halfWidth,maxY:Math.max(boxs.maxY,boxe.maxY)+halfWidth}},createPath:function(context){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rs=attrs.rs,re=attrs.re,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,ssp={x:Math.cos(startAngle)*rs+cx,y:Math.sin(startAngle)*rs+cy},sep={x:Math.cos(startAngle)*re+cx,y:Math.sin(startAngle)*re+cy},esp={x:Math.cos(endAngle)*rs+cx,y:Math.sin(endAngle)*rs+cy};(context=context||self.get("context")).beginPath(),context.moveTo(ssp.x,ssp.y),context.lineTo(sep.x,sep.y),context.arc(cx,cy,re,startAngle,endAngle,clockwise),context.lineTo(esp.x,esp.y),context.arc(cx,cy,rs,endAngle,startAngle,!clockwise),context.closePath()}}),module.exports=Fan},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),CImage=function CImage(cfg){CImage.superclass.constructor.call(this,cfg)};CImage.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},Util.extend(CImage,Shape),Util.augment(CImage,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var attrs=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===attrs.img||this._setAttrImg();var x=attrs.x,y=attrs.y;return{minX:x,minY:y,maxX:x+attrs.width,maxY:y+attrs.height}},_beforeSetLoading:function(loading){var canvas=this.get("canvas");return!1===loading&&!0===this.get("toDraw")&&(this._cfg.loading=!1,canvas.draw()),loading},_setAttrImg:function(){var self=this,attrs=self._attrs,img=attrs.img;if(!Util.isString(img))return img instanceof Image?(attrs.width||self.attr("width",img.width),attrs.height||self.attr("height",img.height),img):img instanceof HTMLElement&&Util.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase()?(attrs.width||self.attr("width",Number(img.getAttribute("width"))),attrs.height||self.attr("height",Number(img.getAttribute("height"))),img):img instanceof ImageData?(attrs.width||self.attr("width",img.width),attrs.height||self.attr("height",img.height),img):null;var image=new Image;image.onload=function(){if(self.get("destroyed"))return!1;self.attr("imgSrc",img),self.attr("img",image);var callback=self.get("callback");callback&&callback.call(self),self.set("loading",!1)},image.src=img,image.crossOrigin="Anonymous",self.set("loading",!0)},drawInner:function(context){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(context),this._cfg.hasUpdate=!1)},_drawImage:function(context){var attrs=this._attrs,x=attrs.x,y=attrs.y,image=attrs.img,width=attrs.width,height=attrs.height,sx=attrs.sx,sy=attrs.sy,swidth=attrs.swidth,sheight=attrs.sheight;this.set("toDraw",!1);var img=image;if(img instanceof ImageData&&((img=new Image).src=image),img instanceof Image||img instanceof HTMLElement&&Util.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase()){if(Util.isNil(sx)||Util.isNil(sy)||Util.isNil(swidth)||Util.isNil(sheight))return void context.drawImage(img,x,y,width,height);if(!(Util.isNil(sx)||Util.isNil(sy)||Util.isNil(swidth)||Util.isNil(sheight)))return void context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height)}}}),module.exports=CImage},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Arrow=__webpack_require__(38),LineMath=__webpack_require__(36),Line=function Line(cfg){Line.superclass.constructor.call(this,cfg)};Line.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},Util.extend(Line,Shape),Util.augment(Line,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2,lineWidth=this.getHitLineWidth();return LineMath.box(x1,y1,x2,y2,lineWidth)},createPath:function(context){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2;(context=context||self.get("context")).beginPath(),context.moveTo(x1,y1),context.lineTo(x2,y2)},afterPath:function(context){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2;context=context||this.get("context"),attrs.startArrow&&Arrow.addStartArrow(context,attrs,x2,y2,x1,y1),attrs.endArrow&&Arrow.addEndArrow(context,attrs,x1,y1,x2,y2)},getPoint:function(t){var attrs=this._attrs;return{x:LineMath.at(attrs.x1,attrs.x2,t),y:LineMath.at(attrs.y1,attrs.y2,t)}}}),module.exports=Line},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),PathSegment=__webpack_require__(39),Format=__webpack_require__(27),Arrow=__webpack_require__(38),PathUtil=__webpack_require__(57),CubicMath=__webpack_require__(55),Path=function Path(cfg){Path.superclass.constructor.call(this,cfg)};Path.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},Util.extend(Path,Shape),Util.augment(Path,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(path){if(Util.isNil(path))return this.setSilent("segments",null),void this.setSilent("box",void 0);var preSegment,pathArray=Format.parsePath(path),segments=[];if(Util.isArray(pathArray)&&0!==pathArray.length&&("M"===pathArray[0][0]||"m"===pathArray[0][0])){for(var count=pathArray.length,i=0;i<pathArray.length;i++)preSegment=new PathSegment(pathArray[i],preSegment,i===count-1),segments.push(preSegment);this.setSilent("segments",segments),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var segments=this.get("segments");if(!segments)return null;var lineWidth=this.getHitLineWidth(),minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;return Util.each(segments,function(segment){segment.getBBox(lineWidth);var box=segment.box;box&&(box.minX<minX&&(minX=box.minX),box.maxX>maxX&&(maxX=box.maxX),box.minY<minY&&(minY=box.minY),box.maxY>maxY&&(maxY=box.maxY))}),minX===1/0||minY===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:minX,minY:minY,maxX:maxX,maxY:maxY}},_setTcache:function(){var segmentT,segmentL,segmentN,l,totalLength=0,tempLength=0,tCache=[],curve=this._cfg.curve;curve&&(Util.each(curve,function(segment,i){l=segment.length,(segmentN=curve[i+1])&&(totalLength+=CubicMath.len(segment[l-2],segment[l-1],segmentN[1],segmentN[2],segmentN[3],segmentN[4],segmentN[5],segmentN[6]))}),Util.each(curve,function(segment,i){l=segment.length,(segmentN=curve[i+1])&&((segmentT=[])[0]=tempLength/totalLength,segmentL=CubicMath.len(segment[l-2],segment[l-1],segmentN[1],segmentN[2],segmentN[3],segmentN[4],segmentN[5],segmentN[6]),segmentT[1]=(tempLength+=segmentL)/totalLength,tCache.push(segmentT))}),this._cfg.tCache=tCache)},_calculateCurve:function(){this._cfg.curve=PathUtil.pathTocurve(this._attrs.path)},getStartTangent:function(){var startPoint,endPoint,tangent,result,segments=this.get("segments");if(segments.length>1)if(startPoint=segments[0].endPoint,endPoint=segments[1].endPoint,result=[],Util.isFunction(tangent=segments[1].startTangent)){var v=tangent();result.push([startPoint.x-v[0],startPoint.y-v[1]]),result.push([startPoint.x,startPoint.y])}else result.push([endPoint.x,endPoint.y]),result.push([startPoint.x,startPoint.y]);return result},getEndTangent:function(){var startPoint,endPoint,tangent,result,segments=this.get("segments"),segmentsLen=segments.length;if(segmentsLen>1)if(startPoint=segments[segmentsLen-2].endPoint,endPoint=segments[segmentsLen-1].endPoint,result=[],Util.isFunction(tangent=segments[segmentsLen-1].endTangent)){var v=tangent();result.push([endPoint.x-v[0],endPoint.y-v[1]]),result.push([endPoint.x,endPoint.y])}else result.push([startPoint.x,startPoint.y]),result.push([endPoint.x,endPoint.y]);return result},getPoint:function(t){var subt,index,tCache=this._cfg.tCache;tCache||(this._calculateCurve(),this._setTcache(),tCache=this._cfg.tCache);var curve=this._cfg.curve;if(!tCache)return curve?{x:curve[0][1],y:curve[0][2]}:null;Util.each(tCache,function(v,i){t>=v[0]&&t<=v[1]&&(subt=(t-v[0])/(v[1]-v[0]),index=i)});var seg=curve[index];if(Util.isNil(seg)||Util.isNil(index))return null;var l=seg.length,nextSeg=curve[index+1];return{x:CubicMath.at(seg[l-2],nextSeg[1],nextSeg[3],nextSeg[5],1-subt),y:CubicMath.at(seg[l-1],nextSeg[2],nextSeg[4],nextSeg[6],1-subt)}},createPath:function(context){var segments=this.get("segments");if(Util.isArray(segments)){(context=context||this.get("context")).beginPath();for(var segmentsLen=segments.length,i=0;i<segmentsLen;i++)segments[i].draw(context)}},afterPath:function(context){var attrs=this._attrs,segments=this.get("segments"),path=attrs.path;if(context=context||this.get("context"),Util.isArray(segments)&&1!==segments.length&&(attrs.startArrow||attrs.endArrow)&&"z"!==path[path.length-1]&&"Z"!==path[path.length-1]&&!attrs.fill){var startPoints=this.getStartTangent();Arrow.addStartArrow(context,attrs,startPoints[0][0],startPoints[0][1],startPoints[1][0],startPoints[1][1]);var endPoints=this.getEndTangent();Arrow.addEndArrow(context,attrs,endPoints[0][0],endPoints[0][1],endPoints[1][0],endPoints[1][1])}}}),module.exports=Path},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Polygon=function Polygon(cfg){Polygon.superclass.constructor.call(this,cfg)};Polygon.ATTRS={points:null,lineWidth:1},Util.extend(Polygon,Shape),Util.augment(Polygon,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var points=this._attrs.points,lineWidth=this.getHitLineWidth();if(!points||0===points.length)return null;var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;Util.each(points,function(point){var x=point[0],y=point[1];x<minX&&(minX=x),x>maxX&&(maxX=x),y<minY&&(minY=y),y>maxY&&(maxY=y)});var halfWidth=lineWidth/2;return{minX:minX-halfWidth,minY:minY-halfWidth,maxX:maxX+halfWidth,maxY:maxY+halfWidth}},createPath:function(context){var points=this._attrs.points;points.length<2||((context=context||this.get("context")).beginPath(),Util.each(points,function(point,index){0===index?context.moveTo(point[0],point[1]):context.lineTo(point[0],point[1])}),context.closePath())}}),module.exports=Polygon},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Arrow=__webpack_require__(38),LineMath=__webpack_require__(36),Polyline=function Polyline(cfg){Polyline.superclass.constructor.call(this,cfg)};Polyline.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},Util.extend(Polyline,Shape),Util.augment(Polyline,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var attrs=this._attrs,lineWidth=this.getHitLineWidth(),points=attrs.points;if(!points||0===points.length)return null;var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;Util.each(points,function(point){var x=point[0],y=point[1];x<minX&&(minX=x),x>maxX&&(maxX=x),y<minY&&(minY=y),y>maxY&&(maxY=y)});var halfWidth=lineWidth/2;return{minX:minX-halfWidth,minY:minY-halfWidth,maxX:maxX+halfWidth,maxY:maxY+halfWidth}},_setTcache:function(){var segmentT,segmentL,points=this._attrs.points,totalLength=0,tempLength=0,tCache=[];points&&0!==points.length&&(Util.each(points,function(p,i){points[i+1]&&(totalLength+=LineMath.len(p[0],p[1],points[i+1][0],points[i+1][1]))}),totalLength<=0||(Util.each(points,function(p,i){points[i+1]&&((segmentT=[])[0]=tempLength/totalLength,segmentL=LineMath.len(p[0],p[1],points[i+1][0],points[i+1][1]),segmentT[1]=(tempLength+=segmentL)/totalLength,tCache.push(segmentT))}),this.tCache=tCache))},createPath:function(context){var l,i,points=this._attrs.points;if(!(points.length<2)){for((context=context||this.get("context")).beginPath(),context.moveTo(points[0][0],points[0][1]),i=1,l=points.length-1;i<l;i++)context.lineTo(points[i][0],points[i][1]);context.lineTo(points[l][0],points[l][1])}},getStartTangent:function(){var points=this.__attrs.points,result=[];return result.push([points[1][0],points[1][1]]),result.push([points[0][0],points[0][1]]),result},getEndTangent:function(){var points=this.__attrs.points,l=points.length-1,result=[];return result.push([points[l-1][0],points[l-1][1]]),result.push([points[l][0],points[l][1]]),result},afterPath:function(context){var attrs=this._attrs,points=attrs.points,l=points.length-1;context=context||this.get("context"),attrs.startArrow&&Arrow.addStartArrow(context,attrs,points[1][0],points[1][1],points[0][0],points[0][1]),attrs.endArrow&&Arrow.addEndArrow(context,attrs,points[l-1][0],points[l-1][1],points[l][0],points[l][1])},getPoint:function(t){var subt,index,points=this._attrs.points,tCache=this.tCache;return tCache||(this._setTcache(),tCache=this.tCache),Util.each(tCache,function(v,i){t>=v[0]&&t<=v[1]&&(subt=(t-v[0])/(v[1]-v[0]),index=i)}),{x:LineMath.at(points[index][0],points[index+1][0],subt),y:LineMath.at(points[index][1],points[index+1][1],subt)}}}),module.exports=Polyline},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),parseRadius=__webpack_require__(27).parseRadius,Shape=__webpack_require__(6),Rect=function Rect(cfg){Rect.superclass.constructor.call(this,cfg)};Rect.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},Util.extend(Rect,Shape),Util.augment(Rect,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,width=attrs.width,height=attrs.height,halfWidth=this.getHitLineWidth()/2;return{minX:x-halfWidth,minY:y-halfWidth,maxX:x+width+halfWidth,maxY:y+height+halfWidth}},createPath:function(context){var attrs=this._attrs,x=attrs.x,y=attrs.y,width=attrs.width,height=attrs.height,radius=attrs.radius;if((context=context||this.get("context")).beginPath(),0===radius)context.rect(x,y,width,height);else{var r=parseRadius(radius);context.moveTo(x+r.r1,y),context.lineTo(x+width-r.r2,y),0!==r.r2&&context.arc(x+width-r.r2,y+r.r2,r.r2,-Math.PI/2,0),context.lineTo(x+width,y+height-r.r3),0!==r.r3&&context.arc(x+width-r.r3,y+height-r.r3,r.r3,0,Math.PI/2),context.lineTo(x+r.r4,y+height),0!==r.r4&&context.arc(x+r.r4,y+height-r.r4,r.r4,Math.PI/2,Math.PI),context.lineTo(x,y+r.r1),0!==r.r1&&context.arc(x+r.r1,y+r.r1,r.r1,Math.PI,1.5*Math.PI),context.closePath()}}}),module.exports=Rect},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),CText=function CText(cfg){CText.superclass.constructor.call(this,cfg)};CText.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},Util.extend(CText,Shape),Util.augment(CText,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var fontSize=this._attrs.fontSize;fontSize&&+fontSize<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+fontSize/12,+fontSize/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var attrs=this._attrs;attrs.font=[attrs.fontStyle,attrs.fontVariant,attrs.fontWeight,attrs.fontSize+"px",attrs.fontFamily].join(" ")},_setAttrText:function(){var attrs=this._attrs,text=attrs.text,textArr=null;Util.isString(text)&&-1!==text.indexOf("\n")&&(textArr=text.split("\n"),attrs.lineCount=textArr.length),attrs.textArr=textArr},_getTextHeight:function(){var attrs=this._attrs,lineCount=attrs.lineCount,fontSize=1*attrs.fontSize;return lineCount>1?fontSize*lineCount+this._getSpaceingY()*(lineCount-1):fontSize},isHitBox:function(){return!1},calculateBox:function(){var attrs=this._attrs,cfg=this._cfg;cfg.attrs&&!cfg.hasUpdate||(this._assembleFont(),this._setAttrText()),attrs.textArr||this._setAttrText();var x=attrs.x,y=attrs.y,width=this.measureText();if(!width)return{minX:x,minY:y,maxX:x,maxY:y};var height=this._getTextHeight(),textAlign=attrs.textAlign,textBaseline=attrs.textBaseline,lineWidth=this.getHitLineWidth(),point={x:x,y:y-height};textAlign&&("end"===textAlign||"right"===textAlign?point.x-=width:"center"===textAlign&&(point.x-=width/2)),textBaseline&&("top"===textBaseline?point.y+=height:"middle"===textBaseline&&(point.y+=height/2)),this.set("startPoint",point);var halfWidth=lineWidth/2;return{minX:point.x-halfWidth,minY:point.y-halfWidth,maxX:point.x+width+halfWidth,maxY:point.y+height+halfWidth}},_getSpaceingY:function(){var attrs=this._attrs,lineHeight=attrs.lineHeight,fontSize=1*attrs.fontSize;return lineHeight?lineHeight-fontSize:.14*fontSize},drawInner:function(context){var attrs=this._attrs,cfg=this._cfg;cfg.attrs&&!cfg.hasUpdate||(this._assembleFont(),this._setAttrText()),context.font=attrs.font;var text=attrs.text;if(text){var textArr=attrs.textArr,x=attrs.x,y=attrs.y;if(context.beginPath(),this.hasStroke()){var strokeOpacity=attrs.strokeOpacity;Util.isNil(strokeOpacity)||1===strokeOpacity||(context.globalAlpha=strokeOpacity),textArr?this._drawTextArr(context,!1):context.strokeText(text,x,y),context.globalAlpha=1}if(this.hasFill()){var fillOpacity=attrs.fillOpacity;Util.isNil(fillOpacity)||1===fillOpacity||(context.globalAlpha=fillOpacity),textArr?this._drawTextArr(context,!0):context.fillText(text,x,y)}cfg.hasUpdate=!1}},_drawTextArr:function(context,fill){var subY,textArr=this._attrs.textArr,textBaseline=this._attrs.textBaseline,fontSize=1*this._attrs.fontSize,spaceingY=this._getSpaceingY(),x=this._attrs.x,y=this._attrs.y,box=this.getBBox(),height=box.maxY-box.minY;Util.each(textArr,function(subText,index){subY=y+index*(spaceingY+fontSize)-height+fontSize,"middle"===textBaseline&&(subY+=height-fontSize-(height-fontSize)/2),"top"===textBaseline&&(subY+=height-fontSize),fill?context.fillText(subText,x,subY):context.strokeText(subText,x,subY)})},measureText:function(){var measureWidth,attrs=this._attrs,text=attrs.text,font=attrs.font,textArr=attrs.textArr,width=0;if(!Util.isNil(text)){var context=document.createElement("canvas").getContext("2d");return context.save(),context.font=font,textArr?Util.each(textArr,function(subText){measureWidth=context.measureText(subText).width,width<measureWidth&&(width=measureWidth),context.restore()}):(width=context.measureText(text).width,context.restore()),width}}}),module.exports=CText},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_value__=__webpack_require__(59);__webpack_require__.d(__webpack_exports__,"interpolate",function(){return __WEBPACK_IMPORTED_MODULE_0__src_value__.a});var __WEBPACK_IMPORTED_MODULE_1__src_array__=__webpack_require__(122);__webpack_require__.d(__webpack_exports__,"interpolateArray",function(){return __WEBPACK_IMPORTED_MODULE_1__src_array__.a});var __WEBPACK_IMPORTED_MODULE_2__src_basis__=__webpack_require__(62);__webpack_require__.d(__webpack_exports__,"interpolateBasis",function(){return __WEBPACK_IMPORTED_MODULE_2__src_basis__.b});var __WEBPACK_IMPORTED_MODULE_3__src_basisClosed__=__webpack_require__(120);__webpack_require__.d(__webpack_exports__,"interpolateBasisClosed",function(){return __WEBPACK_IMPORTED_MODULE_3__src_basisClosed__.a});var __WEBPACK_IMPORTED_MODULE_4__src_date__=__webpack_require__(123);__webpack_require__.d(__webpack_exports__,"interpolateDate",function(){return __WEBPACK_IMPORTED_MODULE_4__src_date__.a});var __WEBPACK_IMPORTED_MODULE_5__src_number__=__webpack_require__(40);__webpack_require__.d(__webpack_exports__,"interpolateNumber",function(){return __WEBPACK_IMPORTED_MODULE_5__src_number__.a});var __WEBPACK_IMPORTED_MODULE_6__src_object__=__webpack_require__(124);__webpack_require__.d(__webpack_exports__,"interpolateObject",function(){return __WEBPACK_IMPORTED_MODULE_6__src_object__.a});var __WEBPACK_IMPORTED_MODULE_7__src_round__=__webpack_require__(205);__webpack_require__.d(__webpack_exports__,"interpolateRound",function(){return __WEBPACK_IMPORTED_MODULE_7__src_round__.a});var __WEBPACK_IMPORTED_MODULE_8__src_string__=__webpack_require__(125);__webpack_require__.d(__webpack_exports__,"interpolateString",function(){return __WEBPACK_IMPORTED_MODULE_8__src_string__.a});var __WEBPACK_IMPORTED_MODULE_9__src_transform_index__=__webpack_require__(206);__webpack_require__.d(__webpack_exports__,"interpolateTransformCss",function(){return __WEBPACK_IMPORTED_MODULE_9__src_transform_index__.a}),__webpack_require__.d(__webpack_exports__,"interpolateTransformSvg",function(){return __WEBPACK_IMPORTED_MODULE_9__src_transform_index__.b});var __WEBPACK_IMPORTED_MODULE_10__src_zoom__=__webpack_require__(209);__webpack_require__.d(__webpack_exports__,"interpolateZoom",function(){return __WEBPACK_IMPORTED_MODULE_10__src_zoom__.a});var __WEBPACK_IMPORTED_MODULE_11__src_rgb__=__webpack_require__(119);__webpack_require__.d(__webpack_exports__,"interpolateRgb",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.a}),__webpack_require__.d(__webpack_exports__,"interpolateRgbBasis",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.b}),__webpack_require__.d(__webpack_exports__,"interpolateRgbBasisClosed",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.c});var __WEBPACK_IMPORTED_MODULE_12__src_hsl__=__webpack_require__(210);__webpack_require__.d(__webpack_exports__,"interpolateHsl",function(){return __WEBPACK_IMPORTED_MODULE_12__src_hsl__.a}),__webpack_require__.d(__webpack_exports__,"interpolateHslLong",function(){return __WEBPACK_IMPORTED_MODULE_12__src_hsl__.b});var __WEBPACK_IMPORTED_MODULE_13__src_lab__=__webpack_require__(211);__webpack_require__.d(__webpack_exports__,"interpolateLab",function(){return __WEBPACK_IMPORTED_MODULE_13__src_lab__.a});var __WEBPACK_IMPORTED_MODULE_14__src_hcl__=__webpack_require__(212);__webpack_require__.d(__webpack_exports__,"interpolateHcl",function(){return __WEBPACK_IMPORTED_MODULE_14__src_hcl__.a}),__webpack_require__.d(__webpack_exports__,"interpolateHclLong",function(){return __WEBPACK_IMPORTED_MODULE_14__src_hcl__.b});var __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__=__webpack_require__(213);__webpack_require__.d(__webpack_exports__,"interpolateCubehelix",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.b}),__webpack_require__.d(__webpack_exports__,"interpolateCubehelixLong",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.a});var __WEBPACK_IMPORTED_MODULE_16__src_quantize__=__webpack_require__(214);__webpack_require__.d(__webpack_exports__,"quantize",function(){return __WEBPACK_IMPORTED_MODULE_16__src_quantize__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return deg2rad}),__webpack_require__.d(__webpack_exports__,"b",function(){return rad2deg});var deg2rad=Math.PI/180,rad2deg=180/Math.PI},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return rgbBasis}),__webpack_require__.d(__webpack_exports__,"c",function(){return rgbBasisClosed});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__basis__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_2__basisClosed__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_3__color__=__webpack_require__(28);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.f)(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}__webpack_exports__.a=function rgbGamma(y){var color=Object(__WEBPACK_IMPORTED_MODULE_3__color__.b)(y);function rgb(start,end){var r=color((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.f)(start)).r,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.f)(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=Object(__WEBPACK_IMPORTED_MODULE_3__color__.a)(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);var rgbBasis=rgbSpline(__WEBPACK_IMPORTED_MODULE_1__basis__.b),rgbBasisClosed=rgbSpline(__WEBPACK_IMPORTED_MODULE_2__basisClosed__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__basis__=__webpack_require__(62);__webpack_exports__.a=function(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return Object(__WEBPACK_IMPORTED_MODULE_0__basis__.a)((t-i/n)*n,v0,v1,v2,v3)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(59);__webpack_exports__.a=function(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=Object(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){var d=new Date;return b-=a=+a,function(t){return d.setTime(a+b*t),d}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(59);__webpack_exports__.a=function(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=Object(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(40),reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");__webpack_exports__.a=function(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Action=__webpack_require__(290),defaultAnimationCfg={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},Animate={line:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.clipIn},leave:function(){return Action.leave.lineWidthOut}},path:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.clipIn},leave:function(){return Action.leave.lineWidthOut}},area:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.fadeIn},leave:function(){return Action.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return Action.appear.zoomIn},enter:function(){return Action.enter.zoomIn},leave:function(){return Action.leave.zoomOut}},edge:{appear:function(){return Action.appear.pathIn},enter:function(){return Action.enter.pathIn},leave:function(){return Action.leave.pathOut}},interval:{appear:function(coord){var result;return coord.isPolar?(result=Action.appear.zoomIn,(coord.isTransposed||"theta"===coord.type)&&(result=Action.appear.fanIn)):result=coord.isRect?coord.isTransposed?Action.appear.scaleInX:Action.appear.scaleInY:Action.appear.zoomIn,result},enter:function(coord){return coord.isRect||coord.isTransposed||"theta"===coord.type?Action.enter.fadeIn:Action.enter.zoomIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if("theta"===coord.type)return Action.update.fanIn}},point:{appear:function(){return Action.appear.zoomIn},enter:function(){return Action.enter.zoomIn},leave:function(){return Action.leave.zoomOut}},schema:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.clipIn},leave:function(){return Action.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return Action.appear.fadeIn},enter:function(){return Action.enter.fadeIn},leave:function(){return Action.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if(coord.isPolar)return Action.appear.fadeIn}},"axis-ticks":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if(coord.isPolar)return Action.appear.fadeIn}},"axis-grid":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if(coord.isPolar)return Action.appear.fadeIn}},"axis-grid-rect":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(){return Action.leave.fadeIn}},labelLine:{appear:function(){return Action.appear.pathIn},enter:function(){return Action.enter.pathIn},leave:function(){return Action.leave.pathOut}}};Animate.Action=Action,Animate.defaultCfg=defaultAnimationCfg,Animate.getAnimation=function(geomType,coord,animationType){var geomAnimateCfg=this[geomType];if(geomAnimateCfg){var animation=geomAnimateCfg[animationType];if(Util.isFunction(animation))return animation(coord)}return!1},Animate.getAnimateCfg=function(geomType,animationType){var defaultCfg=defaultAnimationCfg[animationType];return this[geomType]&&this[geomType].cfg&&this[geomType].cfg[animationType]?Util.deepMix({},defaultCfg,this[geomType].cfg[animationType]):defaultCfg},Animate.registerAnimation=function(animationType,animationName,animationFun){this.Action[animationType]||(this.Action[animationType]={}),this.Action[animationType][animationName]=animationFun},module.exports=Animate},function(module,exports,__webpack_require__){var each=__webpack_require__(2),mix=__webpack_require__(8),DOMUtil=__webpack_require__(228),arrayUtil=__webpack_require__(237),eventUtil=__webpack_require__(248),formatUtil=__webpack_require__(251),mathUtil=__webpack_require__(255),matrixUtil=__webpack_require__(43),objectUtil=__webpack_require__(264),pathUtil=__webpack_require__(268),stringUtil=__webpack_require__(274),typeUtil=__webpack_require__(278),util={DOMUtil:DOMUtil,DomUtil:DOMUtil,MatrixUtil:matrixUtil,PathUtil:pathUtil,arrayUtil:arrayUtil,domUtil:DOMUtil,eventUtil:eventUtil,formatUtil:formatUtil,mathUtil:mathUtil,matrixUtil:matrixUtil,objectUtil:objectUtil,stringUtil:stringUtil,pathUtil:pathUtil,typeUtil:typeUtil,augment:__webpack_require__(89),clone:__webpack_require__(46),debounce:__webpack_require__(284),deepMix:__webpack_require__(47),each:each,extend:__webpack_require__(88),filter:__webpack_require__(63),group:__webpack_require__(144),groupBy:__webpack_require__(146),groupToMap:__webpack_require__(145),indexOf:__webpack_require__(285),isEmpty:__webpack_require__(83),isEqual:__webpack_require__(49),isEqualWith:__webpack_require__(286),map:__webpack_require__(287),mix:mix,pick:__webpack_require__(288),throttle:__webpack_require__(289),toArray:__webpack_require__(34),toString:__webpack_require__(23),uniqueId:__webpack_require__(86)};each([DOMUtil,arrayUtil,eventUtil,formatUtil,mathUtil,matrixUtil,objectUtil,pathUtil,stringUtil,typeUtil],function(collection){mix(util,collection)}),module.exports=util},function(module,exports,__webpack_require__){var keys=__webpack_require__(129),isNil=__webpack_require__(5);module.exports=function(obj,attrs){var _keys=keys(attrs),length=_keys.length;if(isNil(obj))return!length;for(var i=0;i<length;i+=1){var key=_keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isFunction=__webpack_require__(11),keys=Object.keys?function(obj){return Object.keys(obj)}:function(obj){var result=[];return each(obj,function(value,key){isFunction(obj)&&"prototype"===key||result.push(key)}),result};module.exports=keys},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),splice=Array.prototype.splice;module.exports=function(arr,indexes){if(!isArrayLike(arr))return[];for(var length=arr?indexes.length:0,last=length-1;length--;){var previous=void 0,index=indexes[length];length!==last&&index===previous||(previous=index,splice.call(arr,index,1))}return arr}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),contains=__webpack_require__(41);module.exports=function(arr){var resultArr=[];return each(arr,function(item){contains(resultArr,item)||resultArr.push(item)}),resultArr}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isFunction=__webpack_require__(11),each=__webpack_require__(2);module.exports=function(arr,fn){if(isArray(arr)){var max=arr[0],maxData=void 0;maxData=isFunction(fn)?fn(arr[0]):arr[0][fn];var data=void 0;return each(arr,function(val){(data=isFunction(fn)?fn(val):val[fn])>maxData&&(max=val,maxData=data)}),max}}},function(module,exports){module.exports=parseInt},function(module,exports){module.exports=function(obj,key){return obj.hasOwnProperty(key)}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isFunction=__webpack_require__(11),values=Object.values?function(obj){return Object.values(obj)}:function(obj){var result=[];return each(obj,function(value,key){isFunction(obj)&&"prototype"===key||result.push(value)}),result};module.exports=values},function(module,exports,__webpack_require__){var parsePathArray=__webpack_require__(137);module.exports=function(x,y,w,h,r){if(r)return[["M",+x+ +r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]];var res=[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]];return res.parsePathArray=parsePathArray,res}},function(module,exports){var p2s=/,?([a-z]),?/gi;module.exports=function(path){return path.join(",").replace(p2s,"$1")}},function(module,exports,__webpack_require__){var pathToAbsolute=__webpack_require__(139),a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){rx===ry&&(rx+=1);var _120=120*Math.PI/180,rad=Math.PI/180*(+angle||0),res=[],xy=void 0,f1=void 0,f2=void 0,cx=void 0,cy=void 0,rotate=function(x,y,rad){return{x:x*Math.cos(rad)-y*Math.sin(rad),y:x*Math.sin(rad)+y*Math.cos(rad)}};if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{x1=(xy=rotate(x1,y1,-rad)).x,y1=xy.y,y2=(xy=rotate(x2,y2,-rad)).y,x1===(x2=xy.x)&&y1===y2&&(x2+=1,y2+=1);var x=(x1-x2)/2,y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(rx*=h=Math.sqrt(h),ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag===sweep_flag?-1:1)*Math.sqrt(Math.abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x)));cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=Math.asin(((y1-cy)/ry).toFixed(9)),f2=Math.asin(((y2-cy)/ry).toFixed(9)),f1=x1<cx?Math.PI-f1:f1,f2=x2<cx?Math.PI-f2:f2,f1<0&&(f1=2*Math.PI+f1),f2<0&&(f2=2*Math.PI+f2),sweep_flag&&f1>f2&&(f1-=2*Math.PI),!sweep_flag&&f2>f1&&(f2-=2*Math.PI)}var df=f2-f1;if(Math.abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),res=a2c(x2=cx+rx*Math.cos(f2),y2=cy+ry*Math.sin(f2),rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=Math.cos(f1),s1=Math.sin(f1),c2=Math.cos(f2),s2=Math.sin(f2),t=Math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4].concat(res);for(var newres=[],i=0,ii=(res=[m2,m3,m4].concat(res).join().split(",")).length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]};module.exports=function(path,path2){var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pcoms1=[],pcoms2=[],pfirst="",pcom="",ii=void 0,processPath=function(path,d,pcom){var nx=void 0,ny=void 0;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"].concat(a2c.apply(0,[d.x,d.y].concat(path.slice(1))));break;case"S":"C"===pcom||"S"===pcom?(nx=2*d.x-d.bx,ny=2*d.y-d.by):(nx=d.x,ny=d.y),path=["C",nx,ny].concat(path.slice(1));break;case"T":"Q"===pcom||"T"===pcom?(d.qx=2*d.x-d.qx,d.qy=2*d.y-d.qy):(d.qx=d.x,d.qy=d.y),path=["C"].concat(q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"].concat(q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"].concat(l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"].concat(l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"].concat(l2c(d.x,d.y,d.X,d.Y))}return path},fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pcoms1[i]="A",p2&&(pcoms2[i]="A"),pp.splice(i++,0,["C"].concat(pi.splice(0,6)));pp.splice(i,1),ii=Math.max(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"===path1[i][0]&&"M"!==path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=Math.max(p.length,p2&&p2.length||0))};ii=Math.max(p.length,p2&&p2.length||0);for(var i=0;i<ii;i++){p[i]&&(pfirst=p[i][0]),"C"!==pfirst&&(pcoms1[i]=pfirst,i&&(pcom=pcoms1[i-1])),p[i]=processPath(p[i],attrs,pcom),"A"!==pcoms1[i]&&"C"===pfirst&&(pcoms1[i]="C"),fixArc(p,i),p2&&(p2[i]&&(pfirst=p2[i][0]),"C"!==pfirst&&(pcoms2[i]=pfirst,i&&(pcom=pcoms2[i-1])),p2[i]=processPath(p2[i],attrs2,pcom),"A"!==pcoms2[i]&&"C"===pfirst&&(pcoms2[i]="C"),fixArc(p2,i)),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=parseFloat(seg[seglen-4])||attrs.x,attrs.by=parseFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(parseFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(parseFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2?[p,p2]:p}},function(module,exports,__webpack_require__){var parsePathString=__webpack_require__(140),catmullRom2bezier=__webpack_require__(141);function ellipsePath(x,y,rx,ry,a){var res=[];if(null===a&&null===ry&&(ry=rx),x=+x,y=+y,rx=+rx,ry=+ry,null!==a){var rad=Math.PI/180,x1=x+rx*Math.cos(-ry*rad),x2=x+rx*Math.cos(-a*rad);res=[["M",x1,y+rx*Math.sin(-ry*rad)],["A",rx,rx,0,+(a-ry>180),0,x2,y+rx*Math.sin(-a*rad)]]}else res=[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]];return res}module.exports=function(pathArray){if(!(pathArray=parsePathString(pathArray))||!pathArray.length)return[["M",0,0]];var res=[],x=0,y=0,mx=0,my=0,start=0,pa0=void 0,dots=void 0;"M"===pathArray[0][0]&&(mx=x=+pathArray[0][1],my=y=+pathArray[0][2],start++,res[0]=["M",x,y]);for(var r,pa,crz=3===pathArray.length&&"M"===pathArray[0][0]&&"R"===pathArray[1][0].toUpperCase()&&"Z"===pathArray[2][0].toUpperCase(),i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),(pa0=(pa=pathArray[i])[0])!==pa0.toUpperCase())switch(r[0]=pa0.toUpperCase(),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+pa[6]+x,r[7]=+pa[7]+y;break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":for(var j=2,jj=(dots=[x,y].concat(pa.slice(1))).length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res.concat(catmullRom2bezier(dots,crz));break;case"O":res.pop(),(dots=ellipsePath(x,y,pa[1],pa[2])).push(dots[0]),res=res.concat(dots);break;case"U":res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;break;default:for(var _j=1,_jj=pa.length;_j<_jj;_j++)r[_j]=+pa[_j]+(_j%2?x:y)}else if("R"===pa0)dots=[x,y].concat(pa.slice(1)),res.pop(),res=res.concat(catmullRom2bezier(dots,crz)),r=["R"].concat(pa.slice(-2));else if("O"===pa0)res.pop(),(dots=ellipsePath(x,y,pa[1],pa[2])).push(dots[0]),res=res.concat(dots);else if("U"===pa0)res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];if("O"!==(pa0=pa0.toUpperCase()))switch(r[0]){case"Z":x=+mx,y=+my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];break;default:x=r[r.length-2],y=r[r.length-1]}}return res}},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},SPACES="\t\n\v\f\r \u2028\u2029",PATH_COMMAND=new RegExp("([a-z])["+SPACES+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+SPACES+"]*,?["+SPACES+"]*)+)","ig"),PATH_VALUES=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+SPACES+"]*,?["+SPACES+"]*","ig");module.exports=function(pathString){if(!pathString)return null;if((void 0===pathString?"undefined":_typeof(pathString))===_typeof([]))return pathString;var paramCounts={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(pathString).replace(PATH_COMMAND,function(a,b,c){var params=[],name=b.toLowerCase();if(c.replace(PATH_VALUES,function(a,b){b&&params.push(+b)}),"m"===name&&params.length>2&&(data.push([b].concat(params.splice(0,2))),name="l",b="m"===b?"l":"L"),"o"===name&&1===params.length&&data.push([b,params[0]]),"r"===name)data.push([b].concat(params));else for(;params.length>=paramCounts[name]&&(data.push([b].concat(params.splice(0,paramCounts[name]))),paramCounts[name]););}),data}},function(module,exports){module.exports=function(crp,z){for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4===i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2===i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4===i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(6*p[1].x-p[0].x+p[2].x)/6,(6*p[1].y-p[0].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}},function(module,exports,__webpack_require__){var toString=__webpack_require__(23);module.exports=function(str){return toString(str).toLowerCase()}},function(module,exports,__webpack_require__){var toString=__webpack_require__(23);module.exports=function(str){return toString(str).toUpperCase()}},function(module,exports,__webpack_require__){var groupToMap=__webpack_require__(145);module.exports=function(data,condition){if(!condition)return[data];var groups=groupToMap(data,condition),array=[];for(var i in groups)array.push(groups[i]);return array}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),isArray=__webpack_require__(4),groupBy=__webpack_require__(146);module.exports=function(data,condition){if(!condition)return{0:data};if(!isFunction(condition)){var paramsCondition=isArray(condition)?condition:condition.replace(/\s+/g,"").split("*");condition=function(row){for(var unique="_",i=0,l=paramsCondition.length;i<l;i++)unique+=row[paramsCondition[i]]&&row[paramsCondition[i]].toString();return unique}}return groupBy(data,condition)}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isArray=__webpack_require__(4),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(data,condition){if(!condition||!isArray(data))return data;var result={},key=null;return each(data,function(item){key=condition(item),hasOwnProperty.call(result,key)?result[key].push(item):result[key]=[item]}),result}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),View=__webpack_require__(291),Canvas=__webpack_require__(16).Canvas,DomUtil=Util.DomUtil,Global=__webpack_require__(7),Plot=__webpack_require__(356),Controller=__webpack_require__(165),mergeBBox=__webpack_require__(167),bboxOfBackPlot=__webpack_require__(166),plotRange2BBox=__webpack_require__(168);function isEqualArray(arr1,arr2){return Util.isEqualWith(arr1,arr2,function(v1,v2){return v1===v2})}module.exports=function(_View){var subClass,superClass;function Chart(){return _View.apply(this,arguments)||this}superClass=_View,(subClass=Chart).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Chart.prototype;return _proto.getDefaultCfg=function(){var viewCfg=_View.prototype.getDefaultCfg.call(this);return Util.mix(viewCfg,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:Global.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:Global.renderer,views:[]})},_proto.init=function(){var viewTheme=this.get("viewTheme");this._initCanvas(),this._initPlot(),this._initEvents(),_View.prototype.init.call(this);var tooltipController=new Controller.Tooltip({chart:this,viewTheme:viewTheme,options:{}});this.set("tooltipController",tooltipController);var legendController=new Controller.Legend({chart:this,viewTheme:viewTheme});this.set("legendController",legendController),this.set("_id","chart"),this.emit("afterinit")},_proto._isAutoPadding=function(){var padding=this.get("padding");return Util.isArray(padding)?-1!==padding.indexOf("auto"):"auto"===padding},_proto._getAutoPadding=function(){for(var padding=this.get("padding"),frontBBox=this.get("frontPlot").getBBox(),backPlot=this.get("backPlot"),backBBox=bboxOfBackPlot(backPlot,plotRange2BBox(this.get("plotRange"))),box=mergeBBox(frontBBox,backBBox),outter=[0-box.minY,box.maxX-this.get("width"),box.maxY-this.get("height"),0-box.minX],autoPadding=Util.toAllPadding(padding),i=0;i<autoPadding.length;i++)if("auto"===autoPadding[i]){var tmp=Math.max(0,outter[i]);autoPadding[i]=tmp+this.get("autoPaddingAppend")}return autoPadding},_proto._initCanvas=function(){var container=this.get("container"),id=this.get("id");!container&&id&&(container=id,this.set("container",id));var width=this.get("width"),height=this.get("height");if(Util.isString(container)){if(!(container=document.getElementById(container)))throw new Error("Please specify the container for the chart!");this.set("container",container)}var wrapperEl=DomUtil.createDom('<div style="position:relative;"></div>');container.appendChild(wrapperEl),this.set("wrapperEl",wrapperEl),this.get("forceFit")&&(width=DomUtil.getWidth(container,width),this.set("width",width));var renderer=this.get("renderer"),canvas=new Canvas({containerDOM:wrapperEl,width:width,height:height,pixelRatio:"svg"===renderer?1:this.get("pixelRatio"),renderer:renderer});this.set("canvas",canvas)},_proto._initPlot=function(){this._initPlotBack();var canvas=this.get("canvas"),backPlot=canvas.addGroup({zIndex:1}),plotContainer=canvas.addGroup({zIndex:0}),frontPlot=canvas.addGroup({zIndex:3});this.set("backPlot",backPlot),this.set("middlePlot",plotContainer),this.set("frontPlot",frontPlot)},_proto._initPlotBack=function(){var canvas=this.get("canvas"),viewTheme=this.get("viewTheme"),plot=canvas.addGroup(Plot,{padding:this.get("padding"),plotBackground:Util.mix({},viewTheme.plotBackground,this.get("plotBackground")),background:Util.mix({},viewTheme.background,this.get("background"))});this.set("plot",plot),this.set("plotRange",plot.get("plotRange"))},_proto._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",Util.wrapBehavior(this,"_initForceFitEvent"))},_proto._initForceFitEvent=function(){var timer=setTimeout(Util.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",timer)},_proto._renderLegends=function(){var legendOptions=this.get("options").legends;if(Util.isNil(legendOptions)||!1!==legendOptions){var legendController=this.get("legendController");if(legendController.options=legendOptions||{},legendController.plotRange=this.get("plotRange"),legendOptions&&legendOptions.custom)legendController.addCustomLegend();else{var geoms=this.getAllGeoms(),scales=[];Util.each(geoms,function(geom){var view=geom.get("view"),attrs=geom.getAttrsForLegend();Util.each(attrs,function(attr){var scale=attr.getScale(attr.type);if(scale.field&&"identity"!==scale.type&&!function(scales,compareScale){var flag=!1;return Util.each(scales,function(scale){var scaleValues=[].concat(scale.values),compareScaleValues=[].concat(compareScale.values);scale.type!==compareScale.type||scale.field!==compareScale.field||scaleValues.sort().toString()!==compareScaleValues.sort().toString()||(flag=!0)}),flag}(scales,scale)){scales.push(scale);var filteredValues=view.getFilteredOutValues(scale.field);legendController.addLegend(scale,attr,geom,filteredValues)}})});var yScales=this.getYScales();0===scales.length&&yScales.length>1&&legendController.addMixedLegend(yScales,geoms)}legendController.alignLegends()}},_proto._renderTooltips=function(){var options=this.get("options");if(Util.isNil(options.tooltip)||!1!==options.tooltip){var tooltipController=this.get("tooltipController");tooltipController.options=options.tooltip||{},tooltipController.renderTooltip()}},_proto.getAllGeoms=function(){var geoms=[];geoms=geoms.concat(this.get("geoms"));var views=this.get("views");return Util.each(views,function(view){geoms=geoms.concat(view.get("geoms"))}),geoms},_proto.forceFit=function(){if(this&&!this.destroyed){var container=this.get("container"),oldWidth=this.get("width"),width=DomUtil.getWidth(container,oldWidth);if(0!==width&&width!==oldWidth){var height=this.get("height");this.changeSize(width,height)}return this}},_proto.resetPlot=function(){var plot=this.get("plot"),padding=this.get("padding");isEqualArray(padding,plot.get("padding"))||(plot.set("padding",padding),plot.repaint())},_proto.changeSize=function(width,height){this.get("canvas").changeSize(width,height);var plot=this.get("plot");return this.set("width",width),this.set("height",height),plot.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},_proto.changeWidth=function(width){return this.changeSize(width,this.get("height"))},_proto.changeHeight=function(height){return this.changeSize(this.get("width"),height)},_proto.view=function(cfg){(cfg=cfg||{}).theme=this.get("theme"),cfg.parent=this,cfg.backPlot=this.get("backPlot"),cfg.middlePlot=this.get("middlePlot"),cfg.frontPlot=this.get("frontPlot"),cfg.canvas=this.get("canvas"),Util.isNil(cfg.animate)&&(cfg.animate=this.get("animate")),cfg.options=Util.mix({},this._getSharedOptions(),cfg.options);var view=new View(cfg);return view.set("_id","view"+this.get("views").length),this.get("views").push(view),this.emit("addview",{view:view}),view},_proto.removeView=function(view){var views=this.get("views");Util.Array.remove(views,view),view.destroy()},_proto._getSharedOptions=function(){var options=this.get("options"),sharedOptions={};return Util.each(["scales","coord","axes"],function(name){sharedOptions[name]=Util.cloneDeep(options[name])}),sharedOptions},_proto.getViewRegion=function(){var plotRange=this.get("plotRange");return{start:plotRange.bl,end:plotRange.tr}},_proto.legend=function(field,cfg){var options=this.get("options");options.legends||(options.legends={});var legends={};return!1===field?options.legends=!1:Util.isObject(field)?legends=field:Util.isString(field)?legends[field]=cfg:legends=cfg,Util.mix(options.legends,legends),this},_proto.tooltip=function(visible,cfg){var options=this.get("options");return options.tooltip||(options.tooltip={}),!1===visible?options.tooltip=!1:Util.isObject(visible)?Util.mix(options.tooltip,visible):Util.mix(options.tooltip,cfg),this},_proto.clear=function(){this.emit("beforeclear");for(var views=this.get("views");views.length>0;)views.shift().destroy();_View.prototype.clear.call(this);var canvas=this.get("canvas");return this.resetPlot(),canvas.draw(),this.emit("afterclear"),this},_proto.clearInner=function(){var views=this.get("views");Util.each(views,function(view){view.clearInner()});var tooltipController=this.get("tooltipController");if(tooltipController&&tooltipController.clear(),!this.get("keepLegend")){var legendController=this.get("legendController");legendController&&legendController.clear()}_View.prototype.clearInner.call(this)},_proto.drawComponents=function(){_View.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},_proto.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var autoPadding=this._getAutoPadding(),plot=this.get("plot");isEqualArray(plot.get("padding"),autoPadding)||(plot.set("padding",autoPadding),plot.repaint())}var middlePlot=this.get("middlePlot");if(this.get("limitInPlot")&&!middlePlot.attr("clip")){var clip=Util.getClipByRange(this.get("plotRange"));middlePlot.attr("clip",clip)}_View.prototype.render.call(this),this._renderTooltips()},_proto.repaint=function(){this.get("keepPadding")||this.resetPlot(),_View.prototype.repaint.call(this)},_proto.changeVisible=function(visible){this.get("wrapperEl").style.display=visible?"":"none"},_proto.toDataURL=function(){var canvas=this.get("canvas"),renderer=this.get("renderer"),canvasDom=canvas.get("el"),dataURL="";if("svg"===renderer){var clone=canvasDom.cloneNode(!0),svgDocType=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),svgDoc=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",svgDocType);svgDoc.replaceChild(clone,svgDoc.documentElement);var svgData=(new XMLSerializer).serializeToString(svgDoc);dataURL="data:image/svg+xml;charset=utf8,"+encodeURIComponent(svgData)}else"canvas"===renderer&&(dataURL=canvasDom.toDataURL("image/png"));return dataURL},_proto.downloadImage=function(name){var chart=this,link=document.createElement("a"),renderer=chart.get("renderer"),filename=(name||"chart")+("svg"===renderer?".svg":".png");chart.get("canvas").get("timeline").stopAllAnimations(),setTimeout(function(){var dataURL=chart.toDataURL();if(window.Blob&&window.URL&&"svg"!==renderer){for(var arr=dataURL.split(","),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);var blobObj=new Blob([u8arr],{type:mime});window.navigator.msSaveBlob?window.navigator.msSaveBlob(blobObj,filename):link.addEventListener("click",function(){link.download=filename,link.href=window.URL.createObjectURL(blobObj)})}else link.addEventListener("click",function(){link.download=filename,link.href=dataURL});var e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),link.dispatchEvent(e)},16)},_proto.showTooltip=function(point){var views=this.getViewsByPoint(point);return views.length&&this.get("tooltipController").showTooltip(point,views),this},_proto.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},_proto.getTooltipItems=function(point){var views=this.getViewsByPoint(point),rst=[];return Util.each(views,function(view){var geoms=view.get("geoms");Util.each(geoms,function(geom){var dataArray=geom.get("dataArray"),items=[];Util.each(dataArray,function(data){var tmpPoint=geom.findPoint(point,data);if(tmpPoint){var subItems=geom.getTipItems(tmpPoint);items=items.concat(subItems)}}),rst=rst.concat(items)})}),rst},_proto.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var canvas=this.get("canvas"),wrapperEl=this.get("wrapperEl");wrapperEl.parentNode.removeChild(wrapperEl),_View.prototype.destroy.call(this),canvas.destroy(),window.removeEventListener("resize",Util.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},Chart}(View)},function(module,exports,__webpack_require__){var EventEmitter=__webpack_require__(53),Util=__webpack_require__(0);module.exports=function(_EventEmitter){var subClass,superClass;superClass=_EventEmitter,(subClass=Base).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Base.prototype;function Base(cfg){var _this,attrs={visible:!0},defaultCfg=(_this=_EventEmitter.call(this)||this).getDefaultCfg();return _this._attrs=attrs,Util.assign(attrs,defaultCfg,cfg),_this}return _proto.getDefaultCfg=function(){return{}},_proto.get=function(name){return this._attrs[name]},_proto.set=function(name,value){this._attrs[name]=value},_proto.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},_proto.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},_proto.changeVisible=function(){},_proto.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},Base}(EventEmitter)},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isString=__webpack_require__(10),each=__webpack_require__(2),RGB_REG=/rgba?\(([\s.,0-9]+)\)/;function getValue(start,end,percent,index){return start[index]+(end[index]-start[index])*percent}function arr2rgb(arr){return"#"+toHex(arr[0])+toHex(arr[1])+toHex(arr[2])}function toHex(value){return 1===(value=(value=Math.round(value)).toString(16)).length&&(value="0"+value),value}function rgb2arr(str){var arr=[];return arr.push(parseInt(str.substr(1,2),16)),arr.push(parseInt(str.substr(3,2),16)),arr.push(parseInt(str.substr(5,2),16)),arr}var colorCache={},iEl=null,ColorUtil={toRGB:function(color){return"#"===color[0]&&7===color.length?color:(iEl||((i=document.createElement("i")).title="Web Colour Picker",i.style.display="none",document.body.appendChild(i),iEl=i),colorCache[color]?rst=colorCache[color]:(iEl.style.color=color,rst=document.defaultView.getComputedStyle(iEl,"").getPropertyValue("color"),rst=arr2rgb(RGB_REG.exec(rst)[1].split(/\s*,\s*/)),colorCache[color]=rst),rst);var i,rst},rgb2arr:rgb2arr,gradient:function(colors){var points=[];return isString(colors)&&(colors=colors.split("-")),each(colors,function(color){-1===color.indexOf("#")&&(color=ColorUtil.toRGB(color)),points.push(rgb2arr(color))}),function(percent){return function(colors,percent){(isNaN(percent)||!isNumber(percent)||percent<0)&&(percent=0),percent>1&&(percent=1);var steps=colors.length-1,step=Math.floor(steps*percent),left=steps*percent-step,start=colors[step],end=step===steps?start:colors[step+1];return arr2rgb([getValue(start,end,left,0),getValue(start,end,left,1),getValue(start,end,left,2)])}(points,percent)}}};module.exports=ColorUtil},function(module,exports,__webpack_require__){var each=__webpack_require__(2),ArrayUtil={values:__webpack_require__(64)};module.exports={isAdjust:function(dimName){return this.adjustNames.indexOf(dimName)>=0},_getDimValues:function(mergeData){var valuesMap={},dims=[];return this.xField&&this.isAdjust("x")&&dims.push(this.xField),this.yField&&this.isAdjust("y")&&dims.push(this.yField),each(dims,function(dim){var values=ArrayUtil.values(mergeData,dim);values.sort(function(v1,v2){return v1-v2}),valuesMap[dim]=values}),!this.yField&&this.isAdjust("y")&&(valuesMap.y=[0,1]),valuesMap},adjustData:function(dataArray,mergeData){var self=this,valuesMap=self._getDimValues(mergeData);each(dataArray,function(data,index){each(valuesMap,function(values,dim){self.adjustDim(dim,values,data,dataArray.length,index)})})},getAdjustRange:function(dim,key,values){var pre,next,index=values.indexOf(key),length=values.length;return!this.yField&&this.isAdjust("y")?(pre=0,next=1):length>1?(pre=0===index?values[0]:values[index-1],next=index===length-1?values[length-1]:values[index+1],0!==index?pre+=(key-pre)/2:pre-=(next-key)/2,index!==length-1?next-=(next-key)/2:next+=(key-values[length-2])/2):(pre=0===key?0:key-.5,next=0===key?1:key+.5),{pre:pre,next:next}},groupData:function(data,dim){var groups={};return each(data,function(record){var value=record[dim];void 0===value&&(value=record[dim]=0),groups[value]||(groups[value]=[]),groups[value].push(record)}),groups}}},function(module,exports,__webpack_require__){var Theme={default:__webpack_require__(152),dark:__webpack_require__(304)};module.exports=Theme},function(module,exports){var _html,_tooltip,FONT_FAMILY='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',Theme={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:FONT_FAMILY,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:FONT_FAMILY}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:FONT_FAMILY}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:FONT_FAMILY}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:FONT_FAMILY}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:FONT_FAMILY}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},html:(_html={},_html["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",color:"#8C8C8C"},_html["g2-legend-title"]={marginBottom:"4px"},_html["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},_html["g2-legend-list-item"]={cursor:"pointer",marginBottom:"5px",marginRight:"24px"},_html["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},_html),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(_tooltip={useHtml:!0,crosshairs:!1,offset:15},_tooltip["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",padding:"10px 10px 6px 10px"},_tooltip["g2-tooltip-title"]={marginBottom:"4px"},_tooltip["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},_tooltip["g2-tooltip-list-item"]={marginBottom:"4px"},_tooltip["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},_tooltip["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},_tooltip),tooltipMarker:{symbol:function(x,y,r){return[["M",x,y],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:FONT_FAMILY,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:FONT_FAMILY}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};module.exports=Theme},function(module,exports,__webpack_require__){var Group=__webpack_require__(25).Group,Util=__webpack_require__(3);module.exports=function(_Group){var subClass,superClass;function Grid(){return _Group.apply(this,arguments)||this}superClass=_Group,(subClass=Grid).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Grid.prototype;return _proto.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},_proto._renderUI=function(){_Group.prototype._renderUI.call(this),this._drawLines()},_proto._drawLines=function(){var lineStyle=this.get("lineStyle"),items=this.get("items");items&&items.length&&(this._precessItems(items),this._drawGridLines(items,lineStyle))},_proto._precessItems=function(items){var preItem,self=this;Util.each(items,function(item,index){preItem&&self.get("alternateColor")&&self._drawAlternativeBg(item,preItem,index),preItem=item})},_proto._drawGridLines=function(items,lineStyle){var gridLine,path,cfg,points,self=this,type=this.get("type"),itemsLength=items.length;Util.each(items,"line"===type||"polygon"===type?function(item,idx){self.get("hideFirstLine")&&0===idx||self.get("hideLastLine")&&idx===itemsLength-1||(points=item.points,path=[],"line"===type?(path.push(["M",points[0].x,points[0].y]),path.push(["L",points[points.length-1].x,points[points.length-1].y])):Util.each(points,function(point,index){path.push(0===index?["M",point.x,point.y]:["L",point.x,point.y])}),cfg=self._drawZeroLine(type,idx)?Util.mix({},self.get("zeroLineStyle"),{path:path}):Util.mix({},lineStyle,{path:path}),(gridLine=self.addShape("path",{attrs:cfg})).name="axis-grid",gridLine._id=item._id,gridLine.set("coord",self.get("coord")),self.get("appendInfo")&&gridLine.setSilent("appendInfo",self.get("appendInfo")))}:function(item,idx){self.get("hideFirstLine")&&0===idx||self.get("hideLastLine")&&idx===itemsLength-1||(path=[],Util.each(points=item.points,function(point,index){var radius=point.radius;path.push(0===index?["M",point.x,point.y]:["A",radius,radius,0,0,point.flag,point.x,point.y])}),cfg=Util.mix({},lineStyle,{path:path}),(gridLine=self.addShape("path",{attrs:cfg})).name="axis-grid",gridLine._id=item._id,gridLine.set("coord",self.get("coord")),self.get("appendInfo")&&gridLine.setSilent("appendInfo",self.get("appendInfo")))})},_proto._drawZeroLine=function(type,idx){var tickValues=this.get("tickValues");return!("line"!==type||!tickValues||0!==tickValues[idx]||!this.get("hightLightZero"))},_proto._drawAlternativeBg=function(item,preItem,index){var attrs,oddColor,evenColor,alternateColor=this.get("alternateColor");Util.isString(alternateColor)?oddColor=alternateColor:Util.isArray(alternateColor)&&(oddColor=alternateColor[0],evenColor=alternateColor[1]),index%2==0?evenColor&&(attrs=this._getBackItem(preItem.points,item.points,evenColor)):oddColor&&(attrs=this._getBackItem(preItem.points,item.points,oddColor));var shape=this.addShape("Path",{attrs:attrs});shape.name="axis-grid-rect",shape._id=item._id&&item._id.replace("grid","grid-rect"),shape.set("coord",this.get("coord")),this.get("appendInfo")&&shape.setSilent("appendInfo",this.get("appendInfo"))},_proto._getBackItem=function(start,end,bgColor){var path=[],type=this.get("type");if("line"===type)path.push(["M",start[0].x,start[0].y]),path.push(["L",start[start.length-1].x,start[start.length-1].y]),path.push(["L",end[end.length-1].x,end[end.length-1].y]),path.push(["L",end[0].x,end[0].y]),path.push(["Z"]);else if("polygon"===type){Util.each(start,function(subItem,index){path.push(0===index?["M",subItem.x,subItem.y]:["L",subItem.x,subItem.y])});for(var i=end.length-1;i>=0;i--)path.push(["L",end[i].x,end[i].y]);path.push(["Z"])}else{var flag=start[0].flag;Util.each(start,function(subItem,index){var radius=subItem.radius;path.push(0===index?["M",subItem.x,subItem.y]:["A",radius,radius,0,0,subItem.flag,subItem.x,subItem.y])});for(var j=end.length-1;j>=0;j--){var endSubItem=end[j],endRadius=endSubItem.radius;path.push(j===end.length-1?["M",endSubItem.x,endSubItem.y]:["A",endRadius,endRadius,0,0,1===flag?0:1,endSubItem.x,endSubItem.y])}}return{fill:bgColor,path:path}},Grid}(Group)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),DomUtil=Util.DomUtil,Component=__webpack_require__(32),LAYOUTS={scatter:__webpack_require__(307),map:__webpack_require__(308),treemap:__webpack_require__(309)};module.exports=function(_Component){var subClass,superClass;function Label(){return _Component.apply(this,arguments)||this}superClass=_Component,(subClass=Label).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Label.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},_proto.clear=function(){var group=this.get("group"),container=this.get("container");group&&!group.get("destroyed")&&group.clear(),container&&(container.innerHTML=""),_Component.prototype.clear.call(this)},_proto.destroy=function(){var group=this.get("group"),container=this.get("container");group.destroy||group.destroy(),container&&(container.innerHTML="")},_proto.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},_proto._dryDraw=function(){var self=this,items=self.get("items"),children=self.getLabels(),count=children.length;Util.each(items,function(item,index){if(index<count)self.changeLabel(children[index],item);else{var labelShape=self._addLabel(item,index);labelShape&&(labelShape._id=item._id,labelShape.set("coord",item.coord))}});for(var i=count-1;i>=items.length;i--)children[i].remove();self._adjustLabels(),!self.get("labelLine")&&self.get("config")||self.drawLines()},_proto.draw=function(){this._dryDraw(),this.get("canvas").draw()},_proto.changeLabel=function(oldLabel,newLabel){if(oldLabel)if(oldLabel.tagName){var node=this._createDom(newLabel);oldLabel.innerHTML=node.innerHTML,this._setCustomPosition(newLabel,oldLabel)}else oldLabel._id=newLabel._id,oldLabel.attr("text",newLabel.text),oldLabel.attr("x")===newLabel.x&&oldLabel.attr("y")===newLabel.y||(oldLabel.resetMatrix(),newLabel.textStyle.rotate&&(oldLabel.rotateAtStart(newLabel.textStyle.rotate),delete newLabel.textStyle.rotate),oldLabel.attr(newLabel))},_proto.show=function(){var group=this.get("group"),container=this.get("container");group&&group.show(),container&&(container.style.opacity=1)},_proto.hide=function(){var group=this.get("group"),container=this.get("container");group&&group.hide(),container&&(container.style.opacity=0)},_proto.drawLines=function(){var self=this;"boolean"==typeof self.get("labelLine")&&self.set("labelLine",{});var lineGroup=self.get("lineGroup");!lineGroup||lineGroup.get("destroyed")?(lineGroup=self.get("group").addGroup({elCls:"x-line-group"}),self.set("lineGroup",lineGroup)):lineGroup.clear(),Util.each(self.get("items"),function(label){self.lineToLabel(label,lineGroup)})},_proto.lineToLabel=function(label,lineGroup){if(this.get("config")||label.labelLine){var lineStyle=label.labelLine||this.get("labelLine"),capture=void 0===label.capture?this.get("capture"):label.capture,path=lineStyle.path;if(path&&Util.isFunction(lineStyle.path)&&(path=lineStyle.path(label)),!path){var start=label.start||{x:label.x-label._offset.x,y:label.y-label._offset.y};path=[["M",start.x,start.y],["L",label.x,label.y]]}var stroke=label.color;stroke||(stroke=label.textStyle&&label.textStyle.fill?label.textStyle.fill:"#000");var lineShape=lineGroup.addShape("path",{attrs:Util.mix({path:path,fill:null,stroke:stroke},lineStyle),capture:capture});lineShape.name=this.get("name"),lineShape._id=label._id&&label._id.replace("glabel","glabelline"),lineShape.set("coord",this.get("coord"))}},_proto._adjustLabels=function(){var type=this.get("type"),labels=this.getLabels(),shapes=this.get("shapes"),layout=LAYOUTS[type];"default"!==type&&layout&&layout(labels,shapes)},_proto.getLabels=function(){var container=this.get("container");return container?Util.toArray(container.childNodes):this.get("group").get("children")},_proto._addLabel=function(item,index){var cfg=item;return this.get("config")&&(cfg=this._getLabelCfg(item,index)),this._createText(cfg)},_proto._getLabelCfg=function(item,index){var textStyle=this.get("textStyle")||{},formatter=this.get("formatter"),htmlTemplate=this.get("htmlTemplate");if(!Util.isObject(item)){var tmp=item;(item={}).text=tmp}return Util.isFunction(textStyle)&&(textStyle=textStyle(item.text,item,index)),formatter&&(item.text=formatter(item.text,item,index)),htmlTemplate&&(item.useHtml=!0,Util.isFunction(htmlTemplate)&&(item.text=htmlTemplate(item.text,item,index))),Util.isNil(item.text)&&(item.text=""),item.text=item.text+"",Util.mix({},item,{textStyle:textStyle},{x:item.x||0,y:item.y||0})},_proto._init=function(){if(!this.get("group")){var group=this.get("canvas").addGroup({id:"label-group"});this.set("group",group)}},_proto.initHtmlContainer=function(){var container=this.get("container");if(container)Util.isString(container)&&(container=document.getElementById(container))&&this.set("container",container);else{var containerTpl=this.get("containerTpl"),wrapper=this.get("canvas").get("el").parentNode;container=DomUtil.createDom(containerTpl),wrapper.style.position="relative",wrapper.appendChild(container),this.set("container",container)}return container},_proto._createText=function(config){var labelShape,cfg=Util.deepMix({},config),container=this.get("container"),capture=void 0===cfg.capture?this.get("capture"):cfg.capture;if(!cfg.useHtml&&!cfg.htmlTemplate){var name=this.get("name"),origin=cfg.point,group=this.get("group");delete cfg.point;var rotate=cfg.rotate;return cfg.textStyle&&(cfg.textStyle.rotate&&(rotate=cfg.textStyle.rotate,delete cfg.textStyle.rotate),cfg=Util.mix({x:cfg.x,y:cfg.y,textAlign:cfg.textAlign,text:cfg.text},cfg.textStyle)),labelShape=group.addShape("text",{attrs:cfg,capture:capture}),rotate&&(Math.abs(rotate)>2*Math.PI&&(rotate=rotate/180*Math.PI),labelShape.transform([["t",-cfg.x,-cfg.y],["r",rotate],["t",cfg.x,cfg.y]])),labelShape.setSilent("origin",origin||cfg),labelShape.name=name,this.get("appendInfo")&&labelShape.setSilent("appendInfo",this.get("appendInfo")),labelShape}container||(container=this.initHtmlContainer());var node=this._createDom(cfg);container.appendChild(node),this._setCustomPosition(cfg,node)},_proto._createDom=function(cfg){var itemTpl=this.get("itemTpl"),str=Util.substitute(itemTpl,{text:cfg.text});return DomUtil.createDom(str)},_proto._setCustomPosition=function(cfg,htmlDom){var textAlign=cfg.textAlign||"left",top=cfg.y,left=cfg.x,width=DomUtil.getOuterWidth(htmlDom);top-=DomUtil.getOuterHeight(htmlDom)/2,"center"===textAlign?left-=width/2:"right"===textAlign&&(left-=width),htmlDom.style.top=parseInt(top,10)+"px",htmlDom.style.left=parseInt(left,10)+"px"},Label}(Component)},function(module,exports){module.exports=function(){function Greedy(){this.bitmap=[]}var _proto=Greedy.prototype;return _proto.hasGap=function(bbox){for(var hasGap=!0,bitmap=this.bitmap,minX=Math.floor(bbox.minX),maxX=Math.ceil(bbox.maxX),minY=Math.floor(bbox.minY),maxY=Math.ceil(bbox.maxY)-1,i=minX;i<maxX;i++)if(bitmap[i]){if(i===minX||i===maxX-1){for(var j=minY;j<=maxY;j++)if(bitmap[i][j]){hasGap=!1;break}}else if(bitmap[i][minY]||bitmap[i][maxY]){hasGap=!1;break}}else bitmap[i]=[];return hasGap},_proto.fillGap=function(bbox){for(var bitmap=this.bitmap,minX=Math.floor(bbox.minX),maxX=Math.ceil(bbox.maxX)-1,minY=Math.floor(bbox.minY),maxY=Math.ceil(bbox.maxY)-1,i=minX;i<=maxX;i++){for(var j=minY;j<maxY;j+=8)bitmap[i]||(bitmap[i]=[]),bitmap[i][j]=!0;bitmap[i][maxY]=!0}for(var _i=minY;_i<=maxY;_i++)bitmap[minX][_i]=!0,bitmap[maxX][_i]=!0},Greedy}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(3);module.exports={getFirstScale:function(scales){var firstScale;return Util.each(scales,function(scale){if(scale)return firstScale=scale,!1}),firstScale}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Legend=__webpack_require__(158),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY,Event=Util.Event,Group=Util.Group;function findItem(items,refer){var rst=null,value=refer instanceof Group||"legendGroup"===refer.name?refer.get("value"):refer;return Util.each(items,function(item){if(item.value===value)return rst=item,!1}),rst}function findShapeByName(group,name){return group.findBy(function(node){return node.name===name})}module.exports=function(_Legend){var subClass,superClass;function Category(){return _Legend.apply(this,arguments)||this}superClass=_Legend,(subClass=Category).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Category.prototype;return _proto.getDefaultCfg=function(){var cfg=_Legend.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:FONT_FAMILY},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},_proto.render=function(){_Legend.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},_proto._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",Util.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",Util.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",Util.wrapBehavior(this,"_onClick"))},_proto._getLegendItem=function(target){var item=target.get("parent");return item&&"legendGroup"===item.name?item:null},_proto.activate=function(value){var _this=this,self=this,children=self.get("itemsGroup").get("children"),markerItem=void 0;children.forEach(function(child){if(markerItem=findShapeByName(child,"legend-marker")){var checked=child.get("checked");_this.get("highlight")?child.get("value")===value&&checked?markerItem.attr("stroke","#333"):markerItem.attr("stroke",null):child.get("value")===value&&markerItem.attr("fillOpacity",self.get("activeOpacity"))}}),this.get("canvas").draw()},_proto.deactivate=function(){var _this2=this,self=this,children=self.get("itemsGroup").get("children"),markerItem=void 0,unCheckColor=this.get("unCheckColor");children.forEach(function(child){if(markerItem=findShapeByName(child,"legend-marker"))if(_this2.get("highlight")){var oriStroke=markerItem.get("oriStroke"),checked=child.get("checked");markerItem.attr("stroke",oriStroke=oriStroke&&!checked?unCheckColor:"")}else markerItem.attr("fillOpacity",self.get("inactiveOpacity"))}),this.get("canvas").draw()},_proto._onMousemove=function(ev){var item=this._getLegendItem(ev.currentTarget);if(item&&item.get("checked")){var items=this.get("items"),itemhover=new Event("itemhover",ev,!0,!0);itemhover.item=findItem(items,item),itemhover.checked=item.get("checked"),itemhover.currentTarget=ev.currentTarget,this.deactivate(),this.activate(item.get("value")),this.emit("itemhover",itemhover)}else this.deactivate(),this.emit("itemunhover",ev);this.get("canvas").draw()},_proto._onMouseleave=function(ev){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",ev)},_proto._onClick=function(ev){var clickedItem=this._getLegendItem(ev.currentTarget),items=this.get("items");if(clickedItem&&!clickedItem.get("destroyed")){var checked=clickedItem.get("checked"),mode=this.get("selectedMode"),item=findItem(items,clickedItem),itemclick=new Event("itemclick",ev,!0,!0);if(itemclick.item=item,itemclick.currentTarget=clickedItem,itemclick.appendInfo=ev.currentTarget.get("appendInfo"),itemclick.checked="single"===mode||!checked,!this.get("allowAllCanceled")&&checked&&1===this.getCheckedCount())return void this.emit("clicklastitem",itemclick);var unCheckColor=this.get("unCheckColor"),checkColor=this.get("textStyle").fill,markerItem=void 0,textItem=void 0,legendItem=void 0;if("single"===mode){var children=this.get("itemsGroup").get("children");Util.each(children,function(child){markerItem=findShapeByName(child,"legend-marker"),textItem=findShapeByName(child,"legend-text"),legendItem=findShapeByName(child,"legend-item"),child!==clickedItem?(markerItem.attr("fill")&&markerItem.attr("fill",unCheckColor),markerItem.attr("stroke")&&markerItem.attr("stroke",unCheckColor),textItem.attr("fill",unCheckColor),markerItem.setSilent("checked",!1),textItem.setSilent("checked",!1),legendItem.setSilent("checked",!1),child.setSilent("checked",!1)):(markerItem.attr("fill")&&item&&item.marker&&markerItem.attr("fill",item.marker.fill),markerItem.attr("stroke")&&item&&item.marker&&markerItem.attr("stroke",item.marker.stroke),textItem.attr("fill",checkColor),markerItem.setSilent("checked",!0),textItem.setSilent("checked",!0),legendItem.setSilent("checked",!0),child.setSilent("checked",!0))})}else markerItem=findShapeByName(clickedItem,"legend-marker"),textItem=findShapeByName(clickedItem,"legend-text"),legendItem=findShapeByName(clickedItem,"legend-item"),markerItem.attr("fill")&&item&&item.marker&&markerItem.attr("fill",checked?unCheckColor:item.marker.fill),markerItem.attr("stroke")&&item&&item.marker&&markerItem.attr("stroke",checked?unCheckColor:item.marker.stroke),textItem.attr("fill",checked?unCheckColor:checkColor),clickedItem.setSilent("checked",!checked),markerItem.setSilent("checked",!checked),textItem.setSilent("checked",!checked),legendItem.setSilent("checked",!checked);this.emit("itemclick",itemclick)}this.get("canvas").draw()},_proto._renderItems=function(){var _this3=this,items=this.get("items");if(this.get("reversed")&&items.reverse(),Util.each(items,function(item,index){_this3._addItem(item,index)}),this.get("highlight")){var children=this.get("itemsGroup").get("children"),markerItem=void 0;children.forEach(function(child){(markerItem=findShapeByName(child,"legend-marker")).get("oriStroke")||(markerItem.attr("stroke")?markerItem.set("oriStroke",markerItem.attr("stroke")):markerItem.set("oriStroke",""))})}},_proto._formatItemValue=function(value){var formatter=this.get("formatter")||this.get("itemFormatter");return formatter&&(value=formatter.call(this,value)),value},_proto._getNextX=function(){var layout=this.get("layout"),itemGap=this.get("itemGap"),itemsGroup=this.get("itemsGroup"),itemWidth=this.get("itemWidth"),children=itemsGroup.get("children"),nextX=0;return"horizontal"===layout&&Util.each(children,function(v){nextX+=(itemWidth||v.getBBox().width)+itemGap}),nextX},_proto._getNextY=function(){var itemMarginBottom=this.get("itemMarginBottom"),titleGap=this.get("titleShape")?this.get("titleGap"):0,layout=this.get("layout"),itemsGroup=this.get("itemsGroup"),titleShape=this.get("titleShape"),children=itemsGroup.get("children"),nextY=titleGap;return titleShape&&(nextY+=titleShape.getBBox().height),"vertical"===layout&&Util.each(children,function(v){nextY+=v.getBBox().height+itemMarginBottom}),nextY},_proto._addItem=function(item){var itemsGroup=this.get("itemsGroup"),x=this._getNextX(),y=this._getNextY(),unCheckColor=this.get("unCheckColor"),itemGroup=itemsGroup.addGroup({x:x,y:y,value:item.value,checked:item.checked});itemGroup.set("viewId",this.get("viewId"));var textStyle=this.get("textStyle"),wordSpace=this.get("_wordSpaceing"),startX=0;if(item.marker){var markerAttrs=Util.mix({},item.marker,{x:item.marker.radius+x,y:y});item.checked||(markerAttrs.fill&&(markerAttrs.fill=unCheckColor),markerAttrs.stroke&&(markerAttrs.stroke=unCheckColor));var markerShape=itemGroup.addShape("marker",{type:"marker",attrs:markerAttrs});markerShape.attr("cursor","pointer"),markerShape.name="legend-marker",startX+=markerShape.getBBox().width+wordSpace}var textAttrs=Util.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:FONT_FAMILY},textStyle,{x:startX+x,y:y,text:this._formatItemValue(item.value)});item.checked||Util.mix(textAttrs,{fill:unCheckColor});var textShape=itemGroup.addShape("text",{attrs:textAttrs});textShape.attr("cursor","pointer"),textShape.name="legend-text",this.get("appendInfo")&&textShape.setSilent("appendInfo",this.get("appendInfo"));var bbox=itemGroup.getBBox(),itemWidth=this.get("itemWidth"),wrapperShape=itemGroup.addShape("rect",{attrs:{x:x,y:y-bbox.height/2,fill:"#fff",fillOpacity:0,width:itemWidth||bbox.width,height:bbox.height}});return wrapperShape.attr("cursor","pointer"),wrapperShape.setSilent("origin",item),wrapperShape.name="legend-item",this.get("appendInfo")&&wrapperShape.setSilent("appendInfo",this.get("appendInfo")),itemGroup.name="legendGroup",itemGroup},_proto._adjustHorizontal=function(){var itemsGroup=this.get("itemsGroup"),children=itemsGroup.get("children"),maxLength=this.get("maxLength"),itemGap=this.get("itemGap"),itemMarginBottom=this.get("itemMarginBottom"),titleGap=this.get("titleShape")?this.get("titleGap"):0,row=0,rowLength=0,width=void 0,box=void 0,itemWidth=this.get("itemWidth");itemsGroup.getBBox().width>maxLength&&Util.each(children,function(child){box=child.getBBox(),maxLength-rowLength<(width=itemWidth||box.width)&&(row++,rowLength=0),child.move(rowLength,row*(box.height+itemMarginBottom)+titleGap),rowLength+=width+itemGap})},_proto._adjustVertical=function(){var itemsGroup=this.get("itemsGroup"),titleShape=this.get("titleShape"),children=itemsGroup.get("children"),maxLength=this.get("maxLength"),itemGap=this.get("itemGap"),itemMarginBottom=this.get("itemMarginBottom"),titleGap=this.get("titleGap"),titleHeight=titleShape?titleShape.getBBox().height+titleGap:0,itemWidth=this.get("itemWidth"),colLength=titleHeight,width=void 0,height=void 0,box=void 0,maxItemWidth=0,totalLength=0;itemsGroup.getBBox().height>maxLength&&Util.each(children,function(v){box=v.getBBox(),width=box.width,itemWidth?maxItemWidth=itemWidth+itemGap:width>maxItemWidth&&(maxItemWidth=width+itemGap),maxLength-colLength<(height=box.height)?(colLength=titleHeight,v.move(totalLength+=maxItemWidth,titleHeight)):v.move(totalLength,colLength),colLength+=height+itemMarginBottom})},_proto._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},_proto.getWidth=function(){return _Legend.prototype.getWidth.call(this)},_proto.getHeight=function(){return _Legend.prototype.getHeight.call(this)},_proto.move=function(x,y){_Legend.prototype.move.call(this,x,y)},Category}(Legend)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Component=__webpack_require__(32),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY;module.exports=function(_Component){var subClass,superClass;superClass=_Component,(subClass=Legend).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Legend.prototype;function Legend(cfg){var _this;return(_this=_Component.call(this,cfg)||this)._init(),_this.beforeRender(),_this.render(),_this._adjustPositionOffset(),_this._bindEvents(),_this}return _proto.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},_proto._init=function(){var group=this.get("group"),container=this.get("container");this.set("canvas",container.get("canvas"));var position=this.get("position");group||(group=container.addGroup({x:0-position[0],y:0-position[1]})),this.set("group",group)},_proto._adjustPositionOffset=function(){var position=this.get("position"),offset=this.get("offset"),offsetX=this.get("offsetX"),offsetY=this.get("offsetY");Util.isArray(offset)||(offset="vertical"===this.get("layout")?[offset,0]:[0,offset]),offsetX&&(offset[0]=offsetX),offsetY&&(offset[1]=offsetY);var bbox=this.get("group").getBBox();this.move(-bbox.minX+position[0]+offset[0],-bbox.minY+position[1]+offset[1])},_proto.beforeRender=function(){var itemsGroup=this.get("group").addGroup();this.set("itemsGroup",itemsGroup)},_proto.render=function(){this._renderTitle()},_proto._renderTitle=function(){var title=this.get("title"),titleGap=this.get("titleGap");if(titleGap=titleGap||0,title&&title.text){var titleShape=this.get("group").addShape("text",{attrs:Util.mix({x:0,y:0-titleGap,fill:"#333",textBaseline:"middle",fontFamily:FONT_FAMILY},title)});titleShape.name="legend-title",this.get("appendInfo")&&titleShape.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",titleShape)}},_proto.getCheckedCount=function(){var items=this.get("itemsGroup").get("children");return Util.filter(items,function(item){return item.get("checked")}).length},_proto.setItems=function(items){this.set("items",items),this.clear(),this.render()},_proto.addItem=function(item){this.get("items").push(item),this.clear(),this.render()},_proto.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},_proto.destroy=function(){this.get("group").destroy(),this._attrs={},this.removeAllListeners(),this.destroyed=!0},_proto.getWidth=function(){return this.get("group").getBBox().width},_proto.getHeight=function(){return this.get("group").getBBox().height},_proto.move=function(x,y){this.get("group").move(x,y)},_proto.draw=function(){this.get("canvas").draw()},Legend}(Component)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Category=__webpack_require__(157),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY,DomUtil=Util.DomUtil,Group=Util.Group,CONTAINER_CLASS="g2-legend",LIST_CLASS="g2-legend-list",ITEM_CLASS="g2-legend-list-item",MARKER_CLASS="g2-legend-marker";function findNodeByClass(node,className){return node.getElementsByClassName(className)[0]}function getParentNode(node,className){var nodeClass=node.className;return Util.isNil(nodeClass)?node:(nodeClass=nodeClass.split(" ")).indexOf(className)>-1?node:node.parentNode?node.parentNode.className===CONTAINER_CLASS?node.parentNode:getParentNode(node.parentNode,className):null}function findItem(items,refer){var rst=null,value=refer instanceof Group?refer.get("value"):refer;return Util.each(items,function(item){if(item.value===value)return rst=item,!1}),rst}module.exports=function(_Category){var subClass,superClass;function CatHtml(){return _Category.apply(this,arguments)||this}superClass=_Category,(subClass=CatHtml).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=CatHtml.prototype;return _proto.getDefaultCfg=function(){var cfg=_Category.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"category-legend",container:null,containerTpl:'<div class="'+CONTAINER_CLASS+'"><h4 class="g2-legend-title"></h4><ul class="'+LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+ITEM_CLASS+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+MARKER_CLASS+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:FONT_FAMILY},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},_proto._init=function(){},_proto.beforeRender=function(){},_proto.render=function(){this._renderHTML()},_proto._bindEvents=function(){var _this=this,itemListDom=findNodeByClass(this.get("legendWrapper"),LIST_CLASS);this.get("hoverable")&&(itemListDom.onmousemove=function(ev){return _this._onMousemove(ev)},itemListDom.onmouseout=function(ev){return _this._onMouseleave(ev)}),this.get("clickable")&&(itemListDom.onclick=function(ev){return _this._onClick(ev)})},_proto._onMousemove=function(ev){var items=this.get("items"),target=ev.target,targetClass=target.className;if(!((targetClass=targetClass.split(" ")).indexOf(CONTAINER_CLASS)>-1||targetClass.indexOf(LIST_CLASS)>-1)){var parentDom=getParentNode(target,ITEM_CLASS),hoveredItem=findItem(items,parentDom.getAttribute("data-value"));hoveredItem?(this.deactivate(),this.activate(parentDom.getAttribute("data-value")),this.emit("itemhover",{item:hoveredItem,currentTarget:parentDom,checked:hoveredItem.checked})):hoveredItem||(this.deactivate(),this.emit("itemunhover",ev))}},_proto._onMouseleave=function(ev){this.deactivate(),this.emit("itemunhover",ev)},_proto._onClick=function(ev){var _this2=this,itemListDom=findNodeByClass(this.get("legendWrapper"),LIST_CLASS),unCheckedColor=this.get("unCheckColor"),items=this.get("items"),mode=this.get("selectedMode"),childNodes=itemListDom.childNodes,target=ev.target,targetClass=target.className;if(!((targetClass=targetClass.split(" ")).indexOf(CONTAINER_CLASS)>-1||targetClass.indexOf(LIST_CLASS)>-1)){var parentDom=getParentNode(target,ITEM_CLASS),textDom=findNodeByClass(parentDom,"g2-legend-text"),markerDom=findNodeByClass(parentDom,MARKER_CLASS),clickedItem=findItem(items,parentDom.getAttribute("data-value"));if(clickedItem){var domClass=parentDom.className,originColor=parentDom.getAttribute("data-color");if("single"===mode)clickedItem.checked=!0,Util.each(childNodes,function(child){child!==parentDom?(findNodeByClass(child,MARKER_CLASS).style.backgroundColor=unCheckedColor,child.className=child.className.replace("checked","unChecked"),child.style.color=unCheckedColor,findItem(items,child.getAttribute("data-value")).checked=!1):(textDom&&(textDom.style.color=_this2.get("textStyle").fill),markerDom&&(markerDom.style.backgroundColor=originColor),parentDom.className=domClass.replace("unChecked","checked"))});else{var clickedItemChecked=-1!==domClass.indexOf("checked"),count=0;if(Util.each(childNodes,function(child){-1!==child.className.indexOf("checked")&&count++}),!this.get("allowAllCanceled")&&clickedItemChecked&&1===count)return void this.emit("clicklastitem",{item:clickedItem,currentTarget:parentDom,checked:"single"===mode||clickedItem.checked});clickedItem.checked=!clickedItem.checked,clickedItemChecked?(markerDom&&(markerDom.style.backgroundColor=unCheckedColor),parentDom.className=domClass.replace("checked","unChecked"),parentDom.style.color=unCheckedColor):(markerDom&&(markerDom.style.backgroundColor=originColor),parentDom.className=domClass.replace("unChecked","checked"),parentDom.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:clickedItem,currentTarget:parentDom,checked:"single"===mode||clickedItem.checked})}}},_proto.activate=function(value){var _this3=this,self=this,items=self.get("items"),item=findItem(items,value);findNodeByClass(self.get("legendWrapper"),LIST_CLASS).childNodes.forEach(function(child){var childMarkerDom=findNodeByClass(child,MARKER_CLASS),childItem=findItem(items,child.getAttribute("data-value"));if(_this3.get("highlight")){if(childItem===item&&childItem.checked)return void(childMarkerDom.style.border="1px solid #333")}else childItem===item?childMarkerDom.style.opacity=self.get("activeOpacity"):childItem.checked&&(childMarkerDom.style.opacity=self.get("inactiveOpacity"))})},_proto.deactivate=function(){var _this4=this,self=this;findNodeByClass(self.get("legendWrapper"),LIST_CLASS).childNodes.forEach(function(child){var childMarkerDom=findNodeByClass(child,MARKER_CLASS);_this4.get("highlight")?childMarkerDom.style.border="1px solid #fff":childMarkerDom.style.opacity=self.get("inactiveOpacity")})},_proto._renderHTML=function(){var _this5=this,container=this.get("container"),title=this.get("title"),containerTpl=this.get("containerTpl"),legendWrapper=DomUtil.createDom(containerTpl),titleDom=findNodeByClass(legendWrapper,"g2-legend-title"),itemListDom=findNodeByClass(legendWrapper,LIST_CLASS),unCheckedColor=this.get("unCheckColor"),LEGEND_STYLE=Util.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:FONT_FAMILY},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(container)||"string"==typeof container&&container.constructor===String){var id=container.replace("#","");(container=document.getElementById(id)).appendChild(legendWrapper)}else{var rangeStyle,_position=this.get("position");rangeStyle="left"===_position||"right"===_position?{maxHeight:(this.get("maxLength")||container.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||container.offsetWidth)+"px"},DomUtil.modifyCSS(legendWrapper,Util.mix({},LEGEND_STYLE.CONTAINER_CLASS,rangeStyle,this.get(CONTAINER_CLASS))),container.appendChild(legendWrapper)}DomUtil.modifyCSS(itemListDom,Util.mix({},LEGEND_STYLE.LIST_CLASS,this.get(LIST_CLASS))),titleDom&&(title&&title.text?(titleDom.innerHTML=title.text,DomUtil.modifyCSS(titleDom,Util.mix({},LEGEND_STYLE.TITLE_CLASS,this.get("g2-legend-title"),title))):legendWrapper.removeChild(titleDom));var items=this.get("items"),itemTpl=this.get("itemTpl"),position=this.get("position"),layout=this.get("layout"),itemStyle=Util.mix({},LEGEND_STYLE.LIST_ITEM_CLASS,{display:"right"===position||"left"===position||"vertical"===layout?"block":"inline-block"},this.get(ITEM_CLASS)),markerStyle=Util.mix({},LEGEND_STYLE.MARKER_CLASS,this.get(MARKER_CLASS));if(Util.each(items,function(item,index){var domStr,checked=item.checked,value=_this5._formatItemValue(item.value),markerColor=item.marker.fill||item.marker.stroke,color=checked?markerColor:unCheckedColor;domStr=Util.isFunction(itemTpl)?itemTpl(value,color,checked,index):itemTpl;var itemDiv=Util.substitute(domStr,Util.mix({},item,{index:index,checked:checked?"checked":"unChecked",value:value,color:color,originColor:markerColor,originValue:item.value.replace(/\"/g,"&quot;")})),itemDom=DomUtil.createDom(itemDiv);itemDom.style.color=_this5.get("textStyle").fill;var markerDom=findNodeByClass(itemDom,MARKER_CLASS),textDom=findNodeByClass(itemDom,"g2-legend-text");if(DomUtil.modifyCSS(itemDom,itemStyle),markerDom&&DomUtil.modifyCSS(markerDom,markerStyle),checked||(itemDom.style.color=unCheckedColor,markerDom&&(markerDom.style.backgroundColor=unCheckedColor)),itemListDom.appendChild(itemDom),_this5.get("abridgeText")){var text=value,itemWidth=itemDom.offsetWidth,fs=_this5.get("textStyle").fontSize;isNaN(fs)&&(-1!==fs.indexOf("pt")?fs=1*parseFloat(fs.substr(0,fs.length-2))/72*96:-1!==fs.indexOf("px")&&(fs=parseFloat(fs.substr(0,fs.length-2))));var textWidth=fs*text.length,letterNum=Math.floor(itemWidth/fs);itemWidth<2*fs?text="":itemWidth<textWidth&&letterNum>1&&(text=text.substr(0,letterNum-1)+"..."),textDom.innerText=text,itemDom.addEventListener("mouseover",function(){var tipDom=findNodeByClass(legendWrapper.parentNode,"textTip");tipDom.style.display="block",tipDom.style.left=itemDom.offsetLeft+itemDom.offsetWidth+"px",tipDom.style.top=itemDom.offsetTop+15+"px",tipDom.innerText=value}),itemDom.addEventListener("mouseout",function(){findNodeByClass(legendWrapper.parentNode,"textTip").style.display="none"})}}),this.get("abridgeText")){var tipTpl=this.get("tipTpl"),tipDom=DomUtil.createDom(tipTpl),tipDomStyle=this.get("tipStyle");DomUtil.modifyCSS(tipDom,tipDomStyle),legendWrapper.parentNode.appendChild(tipDom),tipDom.addEventListener("mouseover",function(){tipDom.style.display="none"})}this.set("legendWrapper",legendWrapper)},_proto._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var position=this.get("position"),offset=this.get("offset"),offsetX=this.get("offsetX"),offsetY=this.get("offsetY");offsetX&&(offset[0]=offsetX),offsetY&&(offset[1]=offsetY);var legendWrapper=this.get("legendWrapper");legendWrapper.style.left=position[0]+"px",legendWrapper.style.top=position[1]+"px",legendWrapper.style.marginLeft=offset[0]+"px",legendWrapper.style.marginTop=offset[1]+"px"}},_proto.getWidth=function(){return DomUtil.getOuterWidth(this.get("legendWrapper"))},_proto.getHeight=function(){return DomUtil.getOuterHeight(this.get("legendWrapper"))},_proto.move=function(x,y){/^\#/.test(this.get("container"))?_Category.prototype.move.call(this,x,y):(DomUtil.modifyCSS(this.get("legendWrapper"),{left:x+"px",top:y+"px"}),this.set("x",x),this.set("y",y))},_proto.destroy=function(){var legendWrapper=this.get("legendWrapper");legendWrapper&&legendWrapper.parentNode&&legendWrapper.parentNode.removeChild(legendWrapper)},CatHtml}(Category)},function(module,exports,__webpack_require__){var Component=__webpack_require__(32),Util=__webpack_require__(3);module.exports=function(_Component){var subClass,superClass;superClass=_Component,(subClass=Crosshair).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Crosshair.prototype;function Crosshair(cfg){var _this;return(_this=_Component.call(this,cfg)||this)._init_(),_this.render(),_this}return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},_proto._init_=function(){var group,plot=this.get("plot");group="rect"===this.type?plot.addGroup({zIndex:0}):plot.addGroup(),this.set("container",group)},_proto._addLineShape=function(attrs,type){var shape=this.get("container").addShape("line",{capture:!1,attrs:attrs});return this.set("crossLineShape"+type,shape),shape},_proto._renderHorizontalLine=function(canvas,plotRange){var style=Util.mix(this.get("lineStyle"),this.get("style")),attrs=Util.mix({x1:plotRange?plotRange.bl.x:canvas.get("width"),y1:0,x2:plotRange?plotRange.br.x:0,y2:0},style);this._addLineShape(attrs,"X")},_proto._renderVerticalLine=function(canvas,plotRange){var style=Util.mix(this.get("lineStyle"),this.get("style")),attrs=Util.mix({x1:0,y1:plotRange?plotRange.bl.y:canvas.get("height"),x2:0,y2:plotRange?plotRange.tl.y:0},style);this._addLineShape(attrs,"Y")},_proto._renderBackground=function(canvas,plotRange){var style=Util.mix(this.get("rectStyle"),this.get("style")),container=this.get("container"),attrs=Util.mix({x:plotRange?plotRange.tl.x:0,y:plotRange?plotRange.tl.y:canvas.get("height"),width:plotRange?plotRange.br.x-plotRange.bl.x:canvas.get("width"),height:plotRange?Math.abs(plotRange.tl.y-plotRange.bl.y):canvas.get("height")},style),shape=container.addShape("rect",{attrs:attrs,capture:!1});return this.set("crosshairsRectShape",shape),shape},_proto._updateRectShape=function(items){var offset,crosshairsRectShape=this.get("crosshairsRectShape"),isTransposed=this.get("isTransposed"),firstItem=items[0],lastItem=items[items.length-1],dim=isTransposed?"y":"x",attr=isTransposed?"height":"width",startDim=firstItem[dim];if(items.length>1&&firstItem[dim]>lastItem[dim]&&(startDim=lastItem[dim]),this.get("width"))crosshairsRectShape.attr(dim,startDim-this.get("crosshairs").width/2),crosshairsRectShape.attr(attr,this.get("width"));else if(Util.isArray(firstItem.point[dim])&&!firstItem.size){var width=firstItem.point[dim][1]-firstItem.point[dim][0];crosshairsRectShape.attr(dim,firstItem.point[dim][0]),crosshairsRectShape.attr(attr,width)}else crosshairsRectShape.attr(dim,startDim-(offset=3*firstItem.size/4)),crosshairsRectShape.attr(attr,1===items.length?3*firstItem.size/2:Math.abs(lastItem[dim]-firstItem[dim])+2*offset)},_proto.render=function(){var canvas=this.get("canvas"),plotRange=this.get("plotRange"),isTransposed=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(canvas,plotRange);break;case"y":this._renderVerticalLine(canvas,plotRange);break;case"cross":this._renderHorizontalLine(canvas,plotRange),this._renderVerticalLine(canvas,plotRange);break;case"rect":this._renderBackground(canvas,plotRange);break;default:isTransposed?this._renderHorizontalLine(canvas,plotRange):this._renderVerticalLine(canvas,plotRange)}},_proto.show=function(){var container=this.get("container");_Component.prototype.show.call(this),container.show()},_proto.hide=function(){var container=this.get("container");_Component.prototype.hide.call(this),container.hide()},_proto.clear=function(){var container=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),_Component.prototype.clear.call(this),container.clear()},_proto.destroy=function(){var container=this.get("container");_Component.prototype.destroy.call(this),container.remove()},_proto.setPosition=function(x,y,items){var crossLineShapeX=this.get("crossLineShapeX"),crossLineShapeY=this.get("crossLineShapeY"),crosshairsRectShape=this.get("crosshairsRectShape");crossLineShapeY&&!crossLineShapeY.get("destroyed")&&crossLineShapeY.move(x,0),crossLineShapeX&&!crossLineShapeX.get("destroyed")&&crossLineShapeX.move(0,y),crosshairsRectShape&&!crosshairsRectShape.get("destroyed")&&this._updateRectShape(items)},Crosshair}(Component)},function(module,exports){module.exports={_calcTooltipPosition:function(x,y,position,containerWidth,containerHeight,target){var rectWidth=0,rectHeight=0,gap=20;if(target){var rect=target.getBBox();rectWidth=rect.width,rectHeight=rect.height,x=rect.x,y=rect.y,gap=5}switch(position){case"inside":x=x+rectWidth/2-containerWidth/2,y=y+rectHeight/2-containerHeight/2;break;case"top":x=x+rectWidth/2-containerWidth/2,y=y-containerHeight-gap;break;case"left":x=x-containerWidth-gap,y=y+rectHeight/2-containerHeight/2;break;case"right":x=x+rectWidth+gap,y=y+rectHeight/2-containerHeight/2;break;case"bottom":default:x=x+rectWidth/2-containerWidth/2,y=y+rectHeight+gap}return[x,y]},_constraintPositionInBoundary:function(x,y,width,height,viewWidth,viewHeight){return x+width+20>viewWidth?x=(x-=width+20)<0?0:x:x+20<0?x=20:x+=20,y+height+20>viewHeight?y=(y-=height+20)<0?0:y:y+20<0?y=20:y+=20,[x,y]},_constraintPositionInPlot:function(x,y,width,height,plotRange,onlyHorizontal){return x+width>plotRange.tr.x&&(x-=width+40),x<plotRange.tl.x&&(x=plotRange.tl.x),onlyHorizontal||(y+height>plotRange.bl.y&&(y-=height+40),y<plotRange.tl.y&&(y=plotRange.tl.y)),[x,y]}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(3);module.exports={setMarkers:function(markerItems,markerCfg){var markerGroup=this.get("markerGroup"),frontPlot=this.get("frontPlot");markerGroup?markerGroup.clear():(markerGroup=frontPlot.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",markerGroup)),Util.each(markerItems,function(item){markerGroup.addShape("marker",{color:item.color,attrs:Util.mix({fill:item.color,symbol:"circle",shadowColor:item.color},markerCfg,{x:item.x,y:item.y})})}),this.set("markerItems",markerItems)},clearMarkers:function(){var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.clear()}}},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var G=__webpack_require__(25),Crosshair=__webpack_require__(160),MarkerGroupMixin=__webpack_require__(162),PositionMixin=__webpack_require__(161),Tooltip=__webpack_require__(68),Util=__webpack_require__(3),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY,DomUtil=Util.DomUtil,MatrixUtil=Util.MatrixUtil;module.exports=function(_Tooltip){var subClass,superClass;superClass=_Tooltip,(subClass=CanvasTooltip).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=CanvasTooltip.prototype;function CanvasTooltip(cfg){var _this;_this=_Tooltip.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),PositionMixin),Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),MarkerGroupMixin);var crosshair=_this.get("crosshairs");if(crosshair){var plot=_this.get("rect"===crosshair.type?"backPlot":"frontPlot"),crosshairGroup=new Crosshair(Util.mix({plot:plot,plotRange:_this.get("plotRange"),canvas:_this.get("canvas")},_this.get("crosshairs")));crosshairGroup.hide(),_this.set("crosshairGroup",crosshairGroup)}return _this._init_(),_this.get("items")&&_this.render(),_this}return _proto.getDefaultCfg=function(){var cfg=_Tooltip.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:FONT_FAMILY,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:FONT_FAMILY,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:FONT_FAMILY,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},_proto._init_=function(){var padding=this.get("padding"),parent=this.get("frontPlot"),markerGroup=parent.addGroup({capture:!1});this.set("markerGroup",markerGroup);var container=parent.addGroup();container.hide(),this.set("container",container);var board=container.addShape("rect",{attrs:Util.mix({},this.get("boardStyle"))});this.set("board",board);var titleStyle=this.get("titleStyle");if(this.get("showTitle")){var titleShape=container.addShape("text",{attrs:Util.mix({x:padding.left,y:padding.top},titleStyle)});this.set("titleShape",titleShape),titleShape.name="tooltip-title"}var itemsGroup=container.addGroup();itemsGroup.move(padding.left,padding.top+titleStyle.lineHeight+titleStyle.padding),this.set("itemsGroup",itemsGroup)},_proto.render=function(){var self=this;self.clear();var container=self.get("container"),board=self.get("board"),showTitle=self.get("showTitle"),titleContent=self.get("titleContent"),titleShape=this.get("titleShape"),itemsGroup=this.get("itemsGroup"),items=self.get("items"),padding=self.get("padding");if(titleShape&&showTitle&&titleShape.attr("text",titleContent),itemsGroup){var itemGap=self.get("itemGap"),y=0;Util.each(items,function(item){var itemGroup=self._addItem(item);itemGroup.move(0,y),itemsGroup.add(itemGroup);var itemHeight=itemGroup.getBBox().height;y+=itemHeight+itemGap})}var bbox=container.getBBox(),width=bbox.width+padding.right,height=bbox.height+padding.bottom;board.attr("width",width),board.attr("height",height),self._alignToRight(width)},_proto.clear=function(){var titleShape=this.get("titleShape"),itemsGroup=this.get("itemsGroup"),board=this.get("board");titleShape.text="",itemsGroup.clear(),board.attr("width",0),board.attr("height",0)},_proto.show=function(){this.get("container").show();var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.show();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.show(),_Tooltip.prototype.show.call(this),this.get("canvas").draw()},_proto.hide=function(){this.get("container").hide();var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.hide();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.hide(),_Tooltip.prototype.hide.call(this),this.get("canvas").draw()},_proto.destroy=function(){var container=this.get("container"),crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.destroy();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.remove(),_Tooltip.prototype.destroy.call(this),container.remove()},_proto.setPosition=function(x,y,target){var position,container=this.get("container"),outterNode=this.get("canvas").get("el"),viewWidth=DomUtil.getWidth(outterNode),viewHeight=DomUtil.getHeight(outterNode),bbox=container.getBBox(),containerWidth=bbox.width,containerHeight=bbox.height,endx=x,endy=y;if(this.get("position")){var _containerWidth=bbox.width,_containerHeight=bbox.height;x=(position=this._calcTooltipPosition(x,y,this.get("position"),_containerWidth,_containerHeight,target))[0],y=position[1]}else x=(position=this._constraintPositionInBoundary(x,y,containerWidth,containerHeight,viewWidth,viewHeight))[0],y=position[1];if(this.get("inPlot")){var plotRange=this.get("plotRange");x=(position=this._constraintPositionInPlot(x,y,containerWidth,containerHeight,plotRange,this.get("enterable")))[0],y=position[1]}var markerItems=this.get("markerItems");Util.isEmpty(markerItems)||(endx=markerItems[0].x,endy=markerItems[0].y);var mat=MatrixUtil.transform([1,0,0,0,1,0,0,0,1],[["t",x,y]]);container.stopAnimate(),container.animate({matrix:mat},this.get("animationDuration"));var crosshairGroup=this.get("crosshairGroup");if(crosshairGroup){var items=this.get("items");crosshairGroup.setPosition(endx,endy,items)}_Tooltip.prototype.setPosition.call(this,x,y)},_proto._addItem=function(item){var group=new G.Group,markerRadius=this.get("markerStyle").radius;if(item.marker){var markerAttrs=Util.mix({},item.marker,{x:item.marker.radius/2,y:0});group.addShape("marker",{attrs:markerAttrs}),markerRadius=item.marker.radius}var nameStyle=this.get("nameStyle");group.addShape("text",{attrs:Util.mix({x:markerRadius+nameStyle.padding,y:0,text:item.name},nameStyle)});var valueStyle=this.get("valueStyle");return group.addShape("text",{attrs:Util.mix({x:group.getBBox().width+valueStyle.padding,y:0,text:item.value},valueStyle)}),group},_proto._alignToRight=function(width){var _this2=this,groups=this.get("itemsGroup").get("children");Util.each(groups,function(g){var valueText=g.get("children")[2],w=valueText.getBBox().width,x=width-w-2*_this2.get("padding").right;valueText.attr("x",x)})},CanvasTooltip}(Tooltip)},function(module,exports,__webpack_require__){var Labels=__webpack_require__(65),PathUtil=__webpack_require__(22),Util=__webpack_require__(0);module.exports=function(_Labels){var subClass,superClass;function PolarLabels(){return _Labels.apply(this,arguments)||this}superClass=_Labels,(subClass=PolarLabels).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=PolarLabels.prototype;return _proto.getPointRauis=function(coord,point){return PathUtil.getPointRadius(coord,point)},_proto.getCirclePoint=function(angle,offset,point){var coord=this.get("coord"),center=coord.getCenter(),labelEmit=this._isEmitLabels(),r=this.getPointRauis(coord,point);return 0===r?null:(coord.isTransposed&&r>offset&&!labelEmit?angle+=2*Math.asin(offset/(2*r)):r+=offset,{x:center.x+r*Math.cos(angle),y:center.y+r*Math.sin(angle),angle:angle,r:r})},_proto.getArcPoint=function(point,index){var outerPoint;return index=index||0,outerPoint=Util.isArray(point.x)||Util.isArray(point.y)?{x:Util.isArray(point.x)?point.x[index]:point.x,y:Util.isArray(point.y)?point.y[index]:point.y}:point,this.transLabelPoint(outerPoint),outerPoint},_proto.getPointAngle=function(point){var coord=this.get("coord");return PathUtil.getPointAngle(coord,point)},_proto.getMiddlePoint=function(points){var coord=this.get("coord"),count=points.length,middlePoint={x:0,y:0};return Util.each(points,function(point){middlePoint.x+=point.x,middlePoint.y+=point.y}),middlePoint.x/=count,middlePoint.y/=count,middlePoint=coord.convert(middlePoint)},_proto._isToMiddle=function(point){return point.x.length>2},_proto.getLabelPoint=function(label,point,index){var arcPoint,text=label.text[index],factor=1;this._isToMiddle(point)?arcPoint=this.getMiddlePoint(point.points):(1===label.text.length&&0===index?index=1:0===index&&(factor=-1),arcPoint=this.getArcPoint(point,index));var offset=this.getDefaultOffset(label);offset*=factor;var middleAngle=this.getPointAngle(arcPoint),labelPoint=this.getCirclePoint(middleAngle,offset,arcPoint);if(labelPoint?(labelPoint.text=text,labelPoint.angle=middleAngle,labelPoint.color=point.color):labelPoint={text:""},label.autoRotate||void 0===label.autoRotate){var rotate=labelPoint.textStyle?labelPoint.textStyle.rotate:null;rotate||(rotate=labelPoint.rotate||this.getLabelRotate(middleAngle,offset,point)),labelPoint.rotate=rotate}return labelPoint.start={x:arcPoint.x,y:arcPoint.y},labelPoint},_proto._isEmitLabels=function(){return this.get("label").labelEmit},_proto.getLabelRotate=function(angle){var rotate;return rotate=180*angle/Math.PI,rotate+=90,this._isEmitLabels()&&(rotate-=90),rotate&&(rotate>90?rotate-=180:rotate<-90&&(rotate+=180)),rotate/180*Math.PI},_proto.getLabelAlign=function(point){var align,coord=this.get("coord");if(this._isEmitLabels())align=point.angle<=Math.PI/2&&point.angle>-Math.PI/2?"left":"right";else if(coord.isTransposed){var center=coord.getCenter(),offset=this.getDefaultOffset(point);align=Math.abs(point.x-center.x)<1?"center":point.angle>Math.PI||point.angle<=0?offset>0?"left":"right":offset>0?"right":"left"}else align="center";return align},PolarLabels}(Labels)},function(module,exports,__webpack_require__){module.exports={Scale:__webpack_require__(341),Coord:__webpack_require__(342),Axis:__webpack_require__(347),Guide:__webpack_require__(348),Legend:__webpack_require__(351),Tooltip:__webpack_require__(353),Event:__webpack_require__(354)}},function(module,exports,__webpack_require__){var G=__webpack_require__(16),Util=__webpack_require__(0),mergeBBox=__webpack_require__(167);function applyMatrix(point,matrix,tag){void 0===tag&&(tag=1);var vector=[point.x,point.y,tag];return Util.vec3.transformMat3(vector,vector,matrix),{x:vector[0],y:vector[1]}}module.exports=function(backPlot,defaultBBox){var bbox=defaultBBox;return Util.each(backPlot.get("children"),function(element){if(element instanceof G.Group&&element.get("children").length||element instanceof G.Path)bbox=mergeBBox(bbox,element.getBBox());else if(element instanceof G.Text){var elementBBox=function(title){var bbox=title.getBBox(),leftTop={x:bbox.minX,y:bbox.minY},rightBottom={x:bbox.maxX,y:bbox.maxY},matrix=title.attr("matrix");return leftTop=applyMatrix(leftTop,matrix),rightBottom=applyMatrix(rightBottom,matrix),{minX:leftTop.x,minY:leftTop.y,maxX:rightBottom.x,maxY:rightBottom.y}}(element),dx=Math.abs(elementBBox.maxX-elementBBox.minX),dy=Math.abs(elementBBox.maxY-elementBBox.minY);bbox=mergeBBox(bbox,Util.mix(bbox,dx<dy?{minX:Math.min(bbox.minX,elementBBox.minX),maxX:Math.max(bbox.maxX,elementBBox.maxX)}:{minY:Math.min(bbox.minY,elementBBox.minY),maxY:Math.max(bbox.maxY,elementBBox.maxY)}))}}),bbox}},function(module,exports){module.exports=function(box1,box2){return{minX:Math.min(box1.minX,box2.minX),minY:Math.min(box1.minY,box2.minY),maxX:Math.max(box1.maxX,box2.maxX),maxY:Math.max(box1.maxY,box2.maxY)}}},function(module,exports){module.exports=function(plotRange){return{minX:plotRange.tl.x,minY:plotRange.tl.y,maxX:plotRange.br.x,maxY:plotRange.br.y}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=Transition,__webpack_exports__.b=transition,__webpack_exports__.c=function(){return++id};var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__attr__=__webpack_require__(441),__WEBPACK_IMPORTED_MODULE_2__attrTween__=__webpack_require__(442),__WEBPACK_IMPORTED_MODULE_3__delay__=__webpack_require__(443),__WEBPACK_IMPORTED_MODULE_4__duration__=__webpack_require__(444),__WEBPACK_IMPORTED_MODULE_5__ease__=__webpack_require__(445),__WEBPACK_IMPORTED_MODULE_6__filter__=__webpack_require__(446),__WEBPACK_IMPORTED_MODULE_7__merge__=__webpack_require__(447),__WEBPACK_IMPORTED_MODULE_8__on__=__webpack_require__(448),__WEBPACK_IMPORTED_MODULE_9__remove__=__webpack_require__(449),__WEBPACK_IMPORTED_MODULE_10__select__=__webpack_require__(450),__WEBPACK_IMPORTED_MODULE_11__selectAll__=__webpack_require__(451),__WEBPACK_IMPORTED_MODULE_12__selection__=__webpack_require__(452),__WEBPACK_IMPORTED_MODULE_13__style__=__webpack_require__(453),__WEBPACK_IMPORTED_MODULE_14__styleTween__=__webpack_require__(454),__WEBPACK_IMPORTED_MODULE_15__text__=__webpack_require__(455),__WEBPACK_IMPORTED_MODULE_16__transition__=__webpack_require__(456),__WEBPACK_IMPORTED_MODULE_17__tween__=__webpack_require__(362),id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function transition(name){return Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection)().transition(name)}var selection_prototype=__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype;Transition.prototype=transition.prototype={constructor:Transition,select:__WEBPACK_IMPORTED_MODULE_10__select__.a,selectAll:__WEBPACK_IMPORTED_MODULE_11__selectAll__.a,filter:__WEBPACK_IMPORTED_MODULE_6__filter__.a,merge:__WEBPACK_IMPORTED_MODULE_7__merge__.a,selection:__WEBPACK_IMPORTED_MODULE_12__selection__.a,transition:__WEBPACK_IMPORTED_MODULE_16__transition__.a,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:__WEBPACK_IMPORTED_MODULE_8__on__.a,attr:__WEBPACK_IMPORTED_MODULE_1__attr__.a,attrTween:__WEBPACK_IMPORTED_MODULE_2__attrTween__.a,style:__WEBPACK_IMPORTED_MODULE_13__style__.a,styleTween:__WEBPACK_IMPORTED_MODULE_14__styleTween__.a,text:__WEBPACK_IMPORTED_MODULE_15__text__.a,remove:__WEBPACK_IMPORTED_MODULE_9__remove__.a,tween:__WEBPACK_IMPORTED_MODULE_17__tween__.a,delay:__WEBPACK_IMPORTED_MODULE_3__delay__.a,duration:__WEBPACK_IMPORTED_MODULE_4__duration__.a,ease:__WEBPACK_IMPORTED_MODULE_5__ease__.a}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_timer__=__webpack_require__(58);__webpack_require__.d(__webpack_exports__,"now",function(){return __WEBPACK_IMPORTED_MODULE_0__src_timer__.b}),__webpack_require__.d(__webpack_exports__,"timer",function(){return __WEBPACK_IMPORTED_MODULE_0__src_timer__.c}),__webpack_require__.d(__webpack_exports__,"timerFlush",function(){return __WEBPACK_IMPORTED_MODULE_0__src_timer__.d});var __WEBPACK_IMPORTED_MODULE_1__src_timeout__=__webpack_require__(191);__webpack_require__.d(__webpack_exports__,"timeout",function(){return __WEBPACK_IMPORTED_MODULE_1__src_timeout__.a});var __WEBPACK_IMPORTED_MODULE_2__src_interval__=__webpack_require__(192);__webpack_require__.d(__webpack_exports__,"interval",function(){return __WEBPACK_IMPORTED_MODULE_2__src_interval__.a})},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),DomUtil=Util.DomUtil,EVENT_TYPES=["start","process","end","reset"];module.exports=function(){var _proto=Interaction.prototype;function Interaction(cfg,view){var me=this,defaultCfg=me.getDefaultCfg();Util.assign(me,defaultCfg,cfg),me.view=me.chart=view,me.canvas=view.get("canvas"),me._bindEvents()}return _proto.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},_proto._start=function(ev){var me=this;me.preStart&&me.preStart(ev),me.start(ev),me.onStart&&me.onStart(ev)},_proto._process=function(ev){var me=this;me.preProcess&&me.preProcess(ev),me.process(ev),me.onProcess&&me.onProcess(ev)},_proto._end=function(ev){var me=this;me.preEnd&&me.preEnd(ev),me.end(ev),me.onEnd&&me.onEnd(ev)},_proto._reset=function(ev){var me=this;me.preReset&&me.preReset(ev),me.reset(ev),me.onReset&&me.onReset(ev)},_proto.start=function(){},_proto.process=function(){},_proto.end=function(){},_proto.reset=function(){},_proto._bindEvents=function(){var me=this,canvasDOM=me.canvas.get("canvasDOM");me._clearEvents(),Util.each(EVENT_TYPES,function(type){var ucType=Util.upperFirst(type);me["_on"+ucType+"Listener"]=DomUtil.addEventListener(canvasDOM,me[type+"Event"],Util.wrapBehavior(me,"_"+type))})},_proto._clearEvents=function(){var me=this;Util.each(EVENT_TYPES,function(type){var listenerName="_on"+Util.upperFirst(type)+"Listener";me[listenerName]&&me[listenerName].remove()})},_proto.destroy=function(){this._clearEvents()},Interaction}()},function(module,exports,__webpack_require__){var Scale=__webpack_require__(74),G=__webpack_require__(16),Animate=__webpack_require__(126),Chart=__webpack_require__(147),Global=__webpack_require__(7),Shape=__webpack_require__(18),Util=__webpack_require__(0),G2={version:Global.version,Animate:Animate,Chart:Chart,Global:Global,Scale:Scale,Shape:Shape,Util:Util,G:G,DomUtil:Util.DomUtil,MatrixUtil:Util.MatrixUtil,PathUtil:Util.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+G2.version+"'s reference is 'window.G2_3'"):window.G2=G2),module.exports=G2},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_linear__=__webpack_require__(193);__webpack_require__.d(__webpack_exports__,"easeLinear",function(){return __WEBPACK_IMPORTED_MODULE_0__src_linear__.a});var __WEBPACK_IMPORTED_MODULE_1__src_quad__=__webpack_require__(194);__webpack_require__.d(__webpack_exports__,"easeQuad",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.b}),__webpack_require__.d(__webpack_exports__,"easeQuadIn",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.a}),__webpack_require__.d(__webpack_exports__,"easeQuadOut",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.c}),__webpack_require__.d(__webpack_exports__,"easeQuadInOut",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.b});var __WEBPACK_IMPORTED_MODULE_2__src_cubic__=__webpack_require__(195);__webpack_require__.d(__webpack_exports__,"easeCubic",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.b}),__webpack_require__.d(__webpack_exports__,"easeCubicIn",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.a}),__webpack_require__.d(__webpack_exports__,"easeCubicOut",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.c}),__webpack_require__.d(__webpack_exports__,"easeCubicInOut",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.b});var __WEBPACK_IMPORTED_MODULE_3__src_poly__=__webpack_require__(196);__webpack_require__.d(__webpack_exports__,"easePoly",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.b}),__webpack_require__.d(__webpack_exports__,"easePolyIn",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.a}),__webpack_require__.d(__webpack_exports__,"easePolyOut",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.c}),__webpack_require__.d(__webpack_exports__,"easePolyInOut",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.b});var __WEBPACK_IMPORTED_MODULE_4__src_sin__=__webpack_require__(197);__webpack_require__.d(__webpack_exports__,"easeSin",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.b}),__webpack_require__.d(__webpack_exports__,"easeSinIn",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.a}),__webpack_require__.d(__webpack_exports__,"easeSinOut",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.c}),__webpack_require__.d(__webpack_exports__,"easeSinInOut",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.b});var __WEBPACK_IMPORTED_MODULE_5__src_exp__=__webpack_require__(198);__webpack_require__.d(__webpack_exports__,"easeExp",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.b}),__webpack_require__.d(__webpack_exports__,"easeExpIn",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.a}),__webpack_require__.d(__webpack_exports__,"easeExpOut",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.c}),__webpack_require__.d(__webpack_exports__,"easeExpInOut",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.b});var __WEBPACK_IMPORTED_MODULE_6__src_circle__=__webpack_require__(199);__webpack_require__.d(__webpack_exports__,"easeCircle",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.b}),__webpack_require__.d(__webpack_exports__,"easeCircleIn",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.a}),__webpack_require__.d(__webpack_exports__,"easeCircleOut",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.c}),__webpack_require__.d(__webpack_exports__,"easeCircleInOut",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.b});var __WEBPACK_IMPORTED_MODULE_7__src_bounce__=__webpack_require__(200);__webpack_require__.d(__webpack_exports__,"easeBounce",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.c}),__webpack_require__.d(__webpack_exports__,"easeBounceIn",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.a}),__webpack_require__.d(__webpack_exports__,"easeBounceOut",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.c}),__webpack_require__.d(__webpack_exports__,"easeBounceInOut",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.b});var __WEBPACK_IMPORTED_MODULE_8__src_back__=__webpack_require__(201);__webpack_require__.d(__webpack_exports__,"easeBack",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.b}),__webpack_require__.d(__webpack_exports__,"easeBackIn",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.a}),__webpack_require__.d(__webpack_exports__,"easeBackOut",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.c}),__webpack_require__.d(__webpack_exports__,"easeBackInOut",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.b});var __WEBPACK_IMPORTED_MODULE_9__src_elastic__=__webpack_require__(202);__webpack_require__.d(__webpack_exports__,"easeElastic",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.c}),__webpack_require__.d(__webpack_exports__,"easeElasticIn",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.a}),__webpack_require__.d(__webpack_exports__,"easeElasticOut",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.c}),__webpack_require__.d(__webpack_exports__,"easeElasticInOut",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.b})},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isNumber=__webpack_require__(9),AutoUtil=__webpack_require__(76),SNAP_COUNT_ARRAY=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],SNAP_ARRAY=[0,1,2,4,5,10];module.exports=function(info){var min=info.min,max=info.max,interval=info.interval,minTickInterval=info.minTickInterval,ticks=[],minCount=info.minCount||5,maxCount=info.maxCount||7,isFixedCount=minCount===maxCount,minLimit=isNil(info.minLimit)?-1/0:info.minLimit,maxLimit=isNil(info.maxLimit)?1/0:info.maxLimit,avgCount=(minCount+maxCount)/2,count=avgCount,snapArray=info.snapArray?info.snapArray:isFixedCount?SNAP_COUNT_ARRAY:SNAP_ARRAY;if(min===minLimit&&max===maxLimit&&isFixedCount&&(interval=(max-min)/(count-1)),isNil(min)&&(min=0),isNil(max)&&(max=0),max===min&&(0===min?max=1:min>0?min=0:max=0,max-min<5&&!interval&&max-min>=1&&(interval=1)),isNil(interval)&&(interval=AutoUtil.snapFactorTo((max-min)/(avgCount-1),snapArray,"ceil"),maxCount!==minCount&&((count=parseInt((max-min)/interval,10))>maxCount&&(count=maxCount),count<minCount&&(count=minCount),interval=AutoUtil.snapFactorTo((max-min)/(count-1),snapArray,"floor"))),isNumber(minTickInterval)&&interval<minTickInterval&&(interval=minTickInterval),info.interval||maxCount!==minCount)max=Math.min(AutoUtil.snapMultiple(max,interval,"ceil"),maxLimit),min=Math.max(AutoUtil.snapMultiple(min,interval,"floor"),minLimit),count=Math.round((max-min)/interval),min=AutoUtil.fixedBase(min,interval),max=AutoUtil.fixedBase(max,interval);else{avgCount=parseInt(avgCount,10);var minTick,avgTick=AutoUtil.snapMultiple((max+min)/2,interval,"ceil"),sideCount=Math.floor((avgCount-2)/2),maxTick=avgTick+sideCount*interval;for(minTick=avgCount%2==0?avgTick-sideCount*interval:avgTick-(sideCount+1)*interval;maxTick<max;)maxTick=AutoUtil.fixedBase(maxTick+interval,interval);for(;minTick>min;)minTick=AutoUtil.fixedBase(minTick-interval,interval);max=maxTick,min=minTick}max=Math.min(max,maxLimit),min=Math.max(min,minLimit),ticks.push(min);for(var i=1;i<count;i++){var tickValue=AutoUtil.fixedBase(interval*i+min,interval);tickValue<max&&ticks.push(tickValue)}return ticks[ticks.length-1]<max&&ticks.push(max),{min:min,max:max,interval:interval,count:count,ticks:ticks}}},function(module,exports,__webpack_require__){var Base=__webpack_require__(17),isNumber=__webpack_require__(9),Identity=function(_Base){var subClass,superClass;function Identity(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Identity).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Identity.prototype;return _proto._initDefaultCfg=function(){_Base.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},_proto.getText=function(){return this.value.toString()},_proto.scale=function(value){return this.value!==value&&isNumber(value)?value:this.range[0]},_proto.invert=function(){return this.value},Identity}(Base);Base.Identity=Identity,module.exports=Identity},function(module,exports,__webpack_require__){var fecha=__webpack_require__(79),each=__webpack_require__(2),isNil=__webpack_require__(5),isString=__webpack_require__(10),Base=__webpack_require__(17),Linear=__webpack_require__(33),timeAuto=__webpack_require__(177),TimeUtil=__webpack_require__(71),Time=function(_Linear){var subClass,superClass;function Time(){return _Linear.apply(this,arguments)||this}superClass=_Linear,(subClass=Time).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Time.prototype;return _proto._initDefaultCfg=function(){_Linear.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},_proto.init=function(){var self=this,values=self.values;if(values&&values.length){var timeStamps=[],min=1/0,secondMin=min,max=0;each(values,function(v){var timeStamp=self._toTimeStamp(v);if(isNaN(timeStamp))throw new TypeError("Invalid Time: "+v);min>timeStamp?(secondMin=min,min=timeStamp):secondMin>timeStamp&&(secondMin=timeStamp),max<timeStamp&&(max=timeStamp),timeStamps.push(timeStamp)}),values.length>1&&(self.minTickInterval=secondMin-min),(isNil(self.min)||self._toTimeStamp(self.min)>min)&&(self.min=min),(isNil(self.max)||self._toTimeStamp(self.max)<max)&&(self.max=max)}_Linear.prototype.init.call(this)},_proto.calculateTicks=function(){var count=this.tickCount;return timeAuto({min:this.min,max:this.max,minCount:count,maxCount:count,interval:this.tickInterval,minInterval:this.minTickInterval}).ticks},_proto.getText=function(value){var formatter=this.formatter;return value=this.translate(value),formatter?formatter(value):fecha.format(value,this.mask)},_proto.scale=function(value){return isString(value)&&(value=this.translate(value)),_Linear.prototype.scale.call(this,value)},_proto.translate=function(value){return this._toTimeStamp(value)},_proto._toTimeStamp=function(value){return TimeUtil.toTimeStamp(value)},Time}(Linear);Base.Time=Time,module.exports=Time},function(module,exports,__webpack_require__){var AutoUtil=__webpack_require__(76),isNil=__webpack_require__(5),SNAP_ARRAY=[1,2,4,6,8,12];function getYear(date){return new Date(date).getFullYear()}function createYear(year){return new Date(year,0,1).getTime()}function getMonth(date){return new Date(date).getMonth()}function creatMonth(year,month){return new Date(year,month,1).getTime()}module.exports=function(info){var count,minInterval=info.minInterval,ticks=[],min=info.min,max=info.max,interval=info.interval;if(max===min&&(max=min+864e5),isNil(interval)){interval=parseInt((max-min)/(info.maxCount||6),10),minInterval&&minInterval>interval&&(interval=minInterval);var yfactor=interval/31536e6,minYear=getYear(min);if(yfactor>.51){for(var year=Math.ceil(yfactor),maxYear=getYear(max),i=minYear;i<=maxYear+year;i+=year)ticks.push(createYear(i));interval=null}else if(yfactor>.0834){for(var month=Math.ceil(yfactor/.0834),mmMoth=getMonth(min),dMonths=function(min,max){var minYear=getYear(min),maxYear=getYear(max),minMonth=getMonth(min);return 12*(maxYear-minYear)+(getMonth(max)-minMonth)%12}(min,max),_i=0;_i<=dMonths+month;_i+=month)ticks.push(creatMonth(minYear,_i+mmMoth));interval=null}else if(interval>432e5){var date=new Date(min),_year=date.getFullYear(),_month=date.getMonth(min),mday=date.getDate(),day=Math.ceil(interval/864e5),ddays=function(min,max){return Math.ceil((max-min)/864e5)}(min,max);interval=864e5*day;for(var _i2=0;_i2<ddays+day;_i2+=day)ticks.push(new Date(_year,_month,mday+_i2).getTime())}else if(interval>36e5){var _date=new Date(min),_year2=_date.getFullYear(),_month2=_date.getMonth(min),_day=_date.getDate(),hour=_date.getHours(),hours=AutoUtil.snapTo(SNAP_ARRAY,Math.ceil(interval/36e5)),dHours=function(min,max){return Math.ceil((max-min)/36e5)}(min,max);interval=36e5*hours;for(var _i3=0;_i3<=dHours+hours;_i3+=hours)ticks.push(new Date(_year2,_month2,_day,hour+_i3).getTime())}else if(interval>6e4){var dMinus=function(min,max){return Math.ceil((max-min)/6e4)}(min,max),minutes=Math.ceil(interval/6e4);interval=6e4*minutes;for(var _i4=0;_i4<=dMinus+minutes;_i4+=minutes)ticks.push(min+6e4*_i4)}else{interval<1e3&&(interval=1e3),min=1e3*Math.floor(min/1e3);var dSeconds=Math.ceil((max-min)/1e3),seconds=Math.ceil(interval/1e3);interval=1e3*seconds;for(var _i5=0;_i5<dSeconds+seconds;_i5+=seconds)ticks.push(min+1e3*_i5)}}if(!ticks.length){min=1e3*Math.floor(min/1e3),count=((max=1e3*Math.ceil(max/1e3))-min)/interval;for(var _i6=0;_i6<=count;_i6++)ticks.push(AutoUtil.fixedBase(interval*_i6+min,interval))}return{max:max,min:min,interval:interval,ticks:ticks,count:ticks.length}}},function(module,exports,__webpack_require__){var Base=__webpack_require__(17),Category=__webpack_require__(77),fecha=__webpack_require__(79),catAuto=__webpack_require__(78),TimeUtil=__webpack_require__(71),each=__webpack_require__(2),isNumber=__webpack_require__(9),isObject=__webpack_require__(24),isString=__webpack_require__(10),TimeCategory=function(_Category){var subClass,superClass;function TimeCategory(){return _Category.apply(this,arguments)||this}superClass=_Category,(subClass=TimeCategory).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=TimeCategory.prototype;return _proto._initDefaultCfg=function(){_Category.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},_proto.init=function(){var self=this,values=this.values;each(values,function(v,i){values[i]=self._toTimeStamp(v)}),this.sortable&&values.sort(function(v1,v2){return v1-v2}),self.ticks||(self.ticks=this.calculateTicks())},_proto.calculateTicks=function(){var count=this.tickCount;return count?catAuto({maxCount:count,data:this.values,isRounding:this.isRounding}).ticks:this.values},_proto.translate=function(value){value=this._toTimeStamp(value);var index=this.values.indexOf(value);return-1===index&&(index=isNumber(value)&&value<this.values.length?value:NaN),index},_proto.scale=function(value){var rangeMin=this.rangeMin(),rangeMax=this.rangeMax(),index=this.translate(value);return rangeMin+(1===this.values.length||isNaN(index)?index:index>-1?index/(this.values.length-1):0)*(rangeMax-rangeMin)},_proto.getText=function(value){var result="",index=this.translate(value);result=index>-1?this.values[index]:value;var formatter=this.formatter;return result=parseInt(result,10),formatter?formatter(result):fecha.format(result,this.mask)},_proto.getTicks=function(){var self=this,rst=[];return each(this.ticks,function(tick){var obj;obj=isObject(tick)?tick:{text:isString(tick)?tick:self.getText(tick),value:self.scale(tick),tickValue:tick},rst.push(obj)}),rst},_proto._toTimeStamp=function(value){return TimeUtil.toTimeStamp(value)},TimeCategory}(Category);Base.TimeCat=TimeCategory,module.exports=TimeCategory},function(module,exports,__webpack_require__){var each=__webpack_require__(2),Base=__webpack_require__(17);function log(a,b){return 1===a?1:Math.log(b)/Math.log(a)}var Log=function(_Linear){var subClass,superClass;function Log(){return _Linear.apply(this,arguments)||this}superClass=_Linear,(subClass=Log).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Log.prototype;return _proto._initDefaultCfg=function(){_Linear.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},_proto.calculateTicks=function(){var minTick,base=this.base;if(this.min<0)throw new Error("The minimum value must be greater than zero!");var maxTick=log(base,this.max);if(this.min>0)minTick=Math.floor(log(base,this.min));else{var positiveMin=this.max;each(this.values,function(value){value>0&&value<positiveMin&&(positiveMin=value)}),positiveMin===this.max&&(positiveMin=this.max/base),positiveMin>1&&(positiveMin=1),minTick=Math.floor(log(base,positiveMin)),this._minTick=minTick,this.positiveMin=positiveMin}for(var avg=Math.ceil((maxTick-minTick)/this.tickCount),ticks=[],i=minTick;i<maxTick+avg;i+=avg)ticks.push(Math.pow(base,i));return 0===this.min&&ticks.unshift(0),ticks},_proto._getScalePercent=function(value){var max=this.max,min=this.min;if(max===min)return 0;if(value<=0)return 0;var base=this.base,positiveMin=this.positiveMin;return positiveMin&&(min=1*positiveMin/base),value<positiveMin?value/positiveMin/(log(base,max)-log(base,min)):(log(base,value)-log(base,min))/(log(base,max)-log(base,min))},_proto.scale=function(value){var percent=this._getScalePercent(value),rangeMin=this.rangeMin();return rangeMin+percent*(this.rangeMax()-rangeMin)},_proto.invert=function(value){var min,base=this.base,max=log(base,this.max),rangeMin=this.rangeMin(),range=this.rangeMax()-rangeMin,positiveMin=this.positiveMin;if(positiveMin){if(0===value)return 0;var appendPercent=1/(max-(min=log(base,positiveMin/base)))*range;if(value<appendPercent)return value/appendPercent*positiveMin}else min=log(base,this.min);return Math.pow(base,(value-rangeMin)/range*(max-min)+min)},Log}(__webpack_require__(33));Base.Log=Log,module.exports=Log},function(module,exports,__webpack_require__){var Base=__webpack_require__(17);function calBase(a,b){var e=Math.E;return Math.pow(e,Math.log(b)/a)}var Pow=function(_Linear){var subClass,superClass;function Pow(){return _Linear.apply(this,arguments)||this}superClass=_Linear,(subClass=Pow).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Pow.prototype;return _proto._initDefaultCfg=function(){_Linear.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},_proto.calculateTicks=function(){var min,exponent=this.exponent,max=Math.ceil(calBase(exponent,this.max));if((min=this.min>=0?Math.floor(calBase(exponent,this.min)):0)>max){var tmp=max;max=min,min=tmp}for(var avg=Math.ceil((max-min)/this.tickCount),ticks=[],i=min;i<max+avg;i+=avg)ticks.push(Math.pow(i,exponent));return ticks},_proto._getScalePercent=function(value){var max=this.max,min=this.min;if(max===min)return 0;var exponent=this.exponent;return(calBase(exponent,value)-calBase(exponent,min))/(calBase(exponent,max)-calBase(exponent,min))},_proto.scale=function(value){var percent=this._getScalePercent(value),rangeMin=this.rangeMin();return rangeMin+percent*(this.rangeMax()-rangeMin)},_proto.invert=function(value){var percent=(value-this.rangeMin())/(this.rangeMax()-this.rangeMin()),exponent=this.exponent,max=calBase(exponent,this.max),min=calBase(exponent,this.min);return Math.pow(percent*(max-min)+min,exponent)},Pow}(__webpack_require__(33));Base.Pow=Pow,module.exports=Pow},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Event=__webpack_require__(100),Group=__webpack_require__(101),Timeline=__webpack_require__(190),renderers=__webpack_require__(215),Canvas=function Canvas(cfg){Canvas.superclass.constructor.call(this,cfg)};Canvas.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},Util.extend(Canvas,Group),Util.augment(Canvas,{init:function(){Canvas.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(element,event){if(element){if(!Util.isEmpty(element._getEvents()))return element;var parent=element.get("parent");if(parent&&!event.propagationStopped)return this.getEmitter(parent,event)}},_getEventObj:function(type,e,point,target){var event=new Event(type,e,!0,!0);return event.x=point.x,event.y=point.y,event.clientX=e.clientX,event.clientY=e.clientY,event.currentTarget=target,event.target=target,event},_triggerEvent:function(type,e){var emitObj,point=this.getPointByClient(e.clientX,e.clientY),shape=this.getShape(point.x,point.y,e),el=this.get("el");if("mousemove"===type){var preShape=this.get("preShape");if(preShape&&preShape!==shape){var mouseleave=this._getEventObj("mouseleave",e,point,preShape);(emitObj=this.getEmitter(preShape,e))&&emitObj.emit("mouseleave",mouseleave),el.style.cursor="default"}if(shape){var mousemove=this._getEventObj("mousemove",e,point,shape);if((emitObj=this.getEmitter(shape,e))&&emitObj.emit("mousemove",mousemove),preShape!==shape){var mouseenter=this._getEventObj("mouseenter",e,point,shape);emitObj&&emitObj.emit("mouseenter",mouseenter,e)}}else{var canvasmousemove=this._getEventObj("mousemove",e,point,this);this.emit("mousemove",canvasmousemove)}this.set("preShape",shape)}else{var event=this._getEventObj(type,e,point,shape||this);(emitObj=this.getEmitter(shape,e))&&emitObj!==this&&emitObj.emit(type,event),this.emit(type,event)}shape&&!shape.get("destroyed")&&(el.style.cursor=shape.attr("cursor")||"default")},_registEvents:function(){var self=this,el=self.get("el");Util.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(event){el.addEventListener(event,function(e){self._triggerEvent(event,e)},!1)}),el.addEventListener("touchstart",function(e){Util.isEmpty(e.touches)||self._triggerEvent("touchstart",e.touches[0])},!1),el.addEventListener("touchmove",function(e){Util.isEmpty(e.touches)||self._triggerEvent("touchmove",e.touches[0])},!1),el.addEventListener("touchend",function(e){Util.isEmpty(e.changedTouches)||self._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var pixelRatio=this.get("pixelRatio");this.scale(pixelRatio,pixelRatio)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",Util.getRatio());var renderer=renderers[this.get("renderer")||"canvas"];this._cfg.renderer=renderer,this._cfg.canvas=this;var timeline=new Timeline(this);this._cfg.timeline=timeline},_setContainer:function(){var containerId=this.get("containerId"),containerDOM=this.get("containerDOM");containerDOM||(containerDOM=document.getElementById(containerId),this.set("containerDOM",containerDOM)),Util.modifyCSS(containerDOM,{position:"relative"})},_initPainter:function(){var containerDOM=this.get("containerDOM"),painter=new this._cfg.renderer.painter(containerDOM);this._cfg.painter=painter,this._cfg.canvasDOM=this._cfg.el=painter.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var canvasDOM=this.get("canvasDOM"),widthCanvas=this.get("widthCanvas"),heightCanvas=this.get("heightCanvas"),widthStyle=this.get("widthStyle"),heightStyle=this.get("heightStyle");canvasDOM.style.width=widthStyle,canvasDOM.style.height=heightStyle,canvasDOM.setAttribute("width",widthCanvas),canvasDOM.setAttribute("height",heightCanvas)},getWidth:function(){var pixelRatio=this.get("pixelRatio");return this.get("width")*pixelRatio},getHeight:function(){var pixelRatio=this.get("pixelRatio");return this.get("height")*pixelRatio},changeSize:function(width,height){var pixelRatio=this.get("pixelRatio"),heightCanvas=height*pixelRatio;this.set("widthCanvas",width*pixelRatio),this.set("heightCanvas",heightCanvas),this.set("widthStyle",width+"px"),this.set("heightStyle",height+"px"),this.set("width",width),this.set("height",height),this._resize()},getPointByClient:function(clientX,clientY){var el=this.get("el"),pixelRatio=this.get("pixelRatio")||1,bbox=el.getBoundingClientRect();return{x:(clientX-bbox.left)*pixelRatio,y:(clientY-bbox.top)*pixelRatio}},getClientByPoint:function(x,y){var bbox=this.get("el").getBoundingClientRect(),pixelRatio=this.get("pixelRatio")||1;return{clientX:x/pixelRatio+bbox.left,clientY:y/pixelRatio+bbox.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(x,y,e){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,x,y,e):Canvas.superclass.getShape.call(this,x,y)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var cfg=this._cfg,containerDOM=cfg.containerDOM,canvasDOM=cfg.canvasDOM;canvasDOM&&containerDOM&&containerDOM.removeChild(canvasDOM),cfg.timeline.stop(),Canvas.superclass.destroy.call(this)}}),module.exports=Canvas},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=function(){var out=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out},exports.fromMat4=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out},exports.clone=function(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},exports.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},exports.fromValues=function(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out},exports.set=function(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out},exports.identity=function(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},exports.transpose=function(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out},exports.invert=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(out[0]=b01*(det=1/det),out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null},exports.adjoint=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out},exports.determinant=function(a){var a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a[0]*(a22*a11-a12*a21)+a[1]*(-a22*a10+a12*a20)+a[2]*(a21*a10-a11*a20)},exports.multiply=multiply,exports.translate=function(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out},exports.rotate=function(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out},exports.scale=function(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out},exports.fromTranslation=function(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out},exports.fromRotation=function(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},exports.fromScaling=function(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out},exports.fromMat2d=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out},exports.fromQuat=function(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out},exports.normalFromMat4=function(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(out[0]=(a11*b11-a12*b10+a13*b09)*(det=1/det),out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null},exports.projection=function(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out},exports.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},exports.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))},exports.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out},exports.subtract=subtract,exports.multiplyScalar=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out},exports.multiplyScalarAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out},exports.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]},exports.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))};var glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(52));function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0,exports.create=create,exports.clone=function(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out},exports.fromValues=function(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out},exports.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out},exports.set=function(out,x,y){return out[0]=x,out[1]=y,out},exports.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out},exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=function(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out},exports.floor=function(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out},exports.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out},exports.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out},exports.round=function(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out},exports.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out},exports.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out},exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out},exports.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out},exports.normalize=function(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out},exports.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},exports.cross=function(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out},exports.lerp=function(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out},exports.random=function(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out},exports.transformMat2=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out},exports.transformMat2d=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out},exports.transformMat3=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out},exports.transformMat4=function(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out},exports.rotate=function(out,a,b,c){var p0=a[0]-b[0],p1=a[1]-b[1],sinC=Math.sin(c),cosC=Math.cos(c);return out[0]=p0*cosC-p1*sinC+b[0],out[1]=p0*sinC+p1*cosC+b[1],out},exports.angle=function(a,b){var x1=a[0],y1=a[1],x2=b[0],y2=b[1],len1=x1*x1+y1*y1;len1>0&&(len1=1/Math.sqrt(len1));var len2=x2*x2+y2*y2;len2>0&&(len2=1/Math.sqrt(len2));var cosine=(x1*x2+y1*y2)*len1*len2;return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)},exports.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},exports.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]},exports.equals=function(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))};var vec,glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(52));function create(){var out=new glMatrix.ARRAY_TYPE(2);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0),out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}exports.len=length,exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.sqrLen=squaredLength,exports.forEach=(vec=create(),function(a,stride,offset,count,fn,arg){var l,i=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=function(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out},exports.length=length,exports.fromValues=fromValues,exports.copy=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out},exports.set=function(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out},exports.add=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out},exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=function(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out},exports.floor=function(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out},exports.min=function(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out},exports.max=function(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out},exports.round=function(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out},exports.scale=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out},exports.scaleAndAdd=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out},exports.distance=distance,exports.squaredDistance=squaredDistance,exports.squaredLength=squaredLength,exports.negate=function(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out},exports.inverse=function(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out},exports.normalize=normalize,exports.dot=dot,exports.cross=function(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out},exports.lerp=function(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out},exports.hermite=function(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out},exports.bezier=function(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out},exports.random=function(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out},exports.transformMat4=function(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/(w=w||1),out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out},exports.transformMat3=function(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out},exports.transformQuat=function(out,a,q){var qx=q[0],qy=q[1],qz=q[2],x=a[0],y=a[1],z=a[2],uvx=qy*z-qz*y,uvy=qz*x-qx*z,uvz=qx*y-qy*x,uuvx=qy*uvz-qz*uvy,uuvy=qz*uvx-qx*uvz,uuvz=qx*uvy-qy*uvx,w2=2*q[3];return uvy*=w2,uvz*=w2,uuvy*=2,uuvz*=2,out[0]=x+(uvx*=w2)+(uuvx*=2),out[1]=y+uvy+uuvy,out[2]=z+uvz+uuvz,out},exports.rotateX=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},exports.rotateY=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},exports.rotateZ=function(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out},exports.angle=function(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)},exports.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},exports.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},exports.equals=function(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))};var vec,glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(52));function create(){var out=new glMatrix.ARRAY_TYPE(3);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function fromValues(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=(vec=create(),function(a,stride,offset,count,fn,arg){var l,i=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a})},function(module,exports,__webpack_require__){var Util=__webpack_require__(1);module.exports={canFill:!1,canStroke:!1,initAttrs:function(attrs){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(Util.assign(this.getDefaultAttrs(),attrs)),this},getDefaultAttrs:function(){return{}},attr:function(name,value){var self=this;if(0===arguments.length)return self._attrs;if(Util.isObject(name)){for(var k in name)this._setAttr(k,name[k]);return self.clearBBox(),this._cfg.hasUpdate=!0,self}return 2===arguments.length?(this._setAttr(name,value),self.clearBBox(),this._cfg.hasUpdate=!0,self):self._attrs[name]},_setAttr:function(name,value){var attrs=this._attrs;attrs[name]=value,"fill"!==name&&"stroke"!==name?"opacity"!==name?"clip"===name&&value?this._setClip(value):"path"===name&&this._afterSetAttrPath?this._afterSetAttrPath(value):"transform"!==name?"rotate"===name&&this.rotateAtStart(value):this.transform(value):attrs.globalAlpha=value:attrs[name+"Style"]=value},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(item){item._cfg.renderer=this._cfg.renderer,item._cfg.canvas=this._cfg.canvas,item._cfg.parent=this._cfg.parent,item.hasFill=function(){return!0}}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1);function isUnchanged(m){return 1===m[0]&&0===m[1]&&0===m[3]&&1===m[4]&&0===m[6]&&0===m[7]}function isScale(m){return 0===m[1]&&0===m[3]&&0===m[6]&&0===m[7]}function multiple(m1,m2){isUnchanged(m2)||(isScale(m2)?(m1[0]*=m2[0],m1[4]*=m2[4]):Util.mat3.multiply(m1,m1,m2))}module.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(tx,ty){var matrix=this._attrs.matrix;return Util.mat3.translate(matrix,matrix,[tx,ty]),this.clearTotalMatrix(),this.attr("matrix",matrix),this},rotate:function(radian){var matrix=this._attrs.matrix;return Util.mat3.rotate(matrix,matrix,radian),this.clearTotalMatrix(),this.attr("matrix",matrix),this},scale:function(s1,s2){var matrix=this._attrs.matrix;return Util.mat3.scale(matrix,matrix,[s1,s2]),this.clearTotalMatrix(),this.attr("matrix",matrix),this},rotateAtStart:function(rotate){var x=this._attrs.x||this._cfg.attrs.x,y=this._attrs.y||this._cfg.attrs.y;return Math.abs(rotate)>2*Math.PI&&(rotate=rotate/180*Math.PI),this.transform([["t",-x,-y],["r",rotate],["t",x,y]])},move:function(x,y){var cx=this.get("x")||0,cy=this.get("y")||0;return this.translate(x-cx,y-cy),this.set("x",x),this.set("y",y),this},transform:function(ts){var self=this,matrix=this._attrs.matrix;return Util.each(ts,function(t){switch(t[0]){case"t":self.translate(t[1],t[2]);break;case"s":self.scale(t[1],t[2]);break;case"r":self.rotate(t[1]);break;case"m":self.attr("matrix",Util.mat3.multiply([],matrix,t[1])),self.clearTotalMatrix()}}),self},setTransform:function(ts){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(ts)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(m){return this.attr("matrix",m),this.clearTotalMatrix(),this},apply:function(v,root){var m;return m=root?this._getMatrixByRoot(root):this.attr("matrix"),Util.vec3.transformMat3(v,v,m),this},_getMatrixByRoot:function(root){root=root||this;for(var parent=this,parents=[];parent!==root;)parents.unshift(parent),parent=parent.get("parent");parents.unshift(parent);var m=[1,0,0,0,1,0,0,0,1];return Util.each(parents,function(child){Util.mat3.multiply(m,child.attr("matrix"),m)}),m},getTotalMatrix:function(){var m=this._cfg.totalMatrix;if(!m){m=[1,0,0,0,1,0,0,0,1];var parent=this._cfg.parent;parent&&multiple(m,parent.getTotalMatrix()),multiple(m,this.attr("matrix")),this._cfg.totalMatrix=m}return m},clearTotalMatrix:function(){},invert:function(v){var m=this.getTotalMatrix();if(isScale(m))v[0]/=m[0],v[1]/=m[4];else{var inm=Util.mat3.invert([],m);inm&&Util.vec3.transformMat3(v,v,inm)}return this},resetTransform:function(context){var mo=this.attr("matrix");isUnchanged(mo)||context.transform(mo[0],mo[1],mo[3],mo[4],mo[6],mo[7])}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),ReservedProps={delay:"delay",rotate:"rotate"},colorRalaredProps={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};function getFromAttrs(toAttrs,shape){var rst={},attrs=shape._attrs;for(var k in toAttrs.attrs)rst[k]=attrs[k];return rst}module.exports={animate:function(toProps,duration,easing,callback,delay){void 0===delay&&(delay=0),this.set("animating",!0);var timeline=this.get("timeline");timeline||(timeline=this.get("canvas").get("timeline"),this.setSilent("timeline",timeline));var animators=this.get("animators")||[];timeline._timer||timeline.initTimer(),Util.isNumber(callback)&&(delay=callback,callback=null),Util.isFunction(easing)?(callback=easing,easing="easeLinear"):easing=easing||"easeLinear";var formatProps=function(props,shape){var rst={matrix:null,attrs:{}},attrs=shape._attrs;for(var k in props)if("transform"===k)rst.matrix=Util.transform(shape.getMatrix(),props[k]);else if("rotate"===k)rst.matrix=Util.transform(shape.getMatrix(),[["r",props[k]]]);else if("matrix"===k)rst.matrix=props[k];else{if(colorRalaredProps[k]&&/^[r,R,L,l]{1}[\s]*\(/.test(props[k]))continue;ReservedProps[k]||attrs[k]===props[k]||(rst.attrs[k]=props[k])}return rst}(toProps,this),animator={fromAttrs:getFromAttrs(formatProps,this),toAttrs:formatProps.attrs,fromMatrix:Util.clone(this.getMatrix()),toMatrix:formatProps.matrix,duration:duration,easing:easing,callback:callback,delay:delay,startTime:timeline.getTime(),id:Util.uniqueId()};animators.length>0?animators=function(animators,animator){var delay=animator.delay,hasOwnProperty=Object.prototype.hasOwnProperty;return Util.each(animator.toAttrs,function(v,k){Util.each(animators,function(animator){delay<animator.startTime+animator.duration&&hasOwnProperty.call(animator.toAttrs,k)&&(delete animator.toAttrs[k],delete animator.fromAttrs[k])})}),animator.toMatrix&&Util.each(animators,function(animator){delay<animator.startTime+animator.duration&&animator.toMatrix&&delete animator.toMatrix}),animators}(animators,animator):timeline.addAnimator(this),animators.push(animator),this.setSilent("animators",animators),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var _this=this,animators=this.get("animators");Util.each(animators,function(animator){_this.attr(animator.toAttrs),animator.toMatrix&&_this.attr("matrix",animator.toMatrix),animator.callback&&animator.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var timeline=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:timeline.getTime()}),this},resumeAnimate:function(){var current=this.get("timeline").getTime(),animators=this.get("animators"),pauseTime=this.get("pause").pauseTime;return Util.each(animators,function(animator){animator.startTime=animator.startTime+(current-pauseTime),animator._paused=!1,animator._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",animators),this}}},function(module,exports,__webpack_require__){var Shape=__webpack_require__(6);Shape.Arc=__webpack_require__(105),Shape.Circle=__webpack_require__(106),Shape.Dom=__webpack_require__(107),Shape.Ellipse=__webpack_require__(108),Shape.Fan=__webpack_require__(109),Shape.Image=__webpack_require__(110),Shape.Line=__webpack_require__(111),Shape.Marker=__webpack_require__(56),Shape.Path=__webpack_require__(112),Shape.Polygon=__webpack_require__(113),Shape.Polyline=__webpack_require__(114),Shape.Rect=__webpack_require__(115),Shape.Text=__webpack_require__(116),module.exports=Shape},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Inside=__webpack_require__(54),mathUtl={arc:__webpack_require__(37),ellipse:__webpack_require__(104),line:__webpack_require__(36)},context=Util.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function isPointInPathByContext(x,y,ctx){return ctx.createPath(context),context.isPointInPath(x,y)}var shapes={arc:function(x,y){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,lineWidth=this.getHitLineWidth();return!!this.hasStroke()&&Inside.arcline(cx,cy,r,startAngle,endAngle,clockwise,lineWidth,x,y)},circle:function(x,y){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r,lineWidth=this.getHitLineWidth(),fill=this.hasFill(),stroke=this.hasStroke();return fill&&stroke?Inside.circle(cx,cy,r,x,y)||Inside.arcline(cx,cy,r,0,2*Math.PI,!1,lineWidth,x,y):fill?Inside.circle(cx,cy,r,x,y):!!stroke&&Inside.arcline(cx,cy,r,0,2*Math.PI,!1,lineWidth,x,y)},dom:function(x,y){if(!this._cfg.el)return!1;var box=this._cfg.el.getBBox();return Inside.box(box.x,box.x+box.width,box.y,box.y+box.height,x,y)},ellipse:function(x,y){var attrs=this._attrs,fill=this.hasFill(),stroke=this.hasStroke(),cx=attrs.x,cy=attrs.y,rx=attrs.rx,ry=attrs.ry,lineWidth=this.getHitLineWidth(),r=rx>ry?rx:ry,p=[x,y,1],m=[1,0,0,0,1,0,0,0,1];Util.mat3.scale(m,m,[rx>ry?1:rx/ry,rx>ry?ry/rx:1]),Util.mat3.translate(m,m,[cx,cy]);var inm=Util.mat3.invert([],m);return Util.vec3.transformMat3(p,p,inm),fill&&stroke?Inside.circle(0,0,r,p[0],p[1])||Inside.arcline(0,0,r,0,2*Math.PI,!1,lineWidth,p[0],p[1]):fill?Inside.circle(0,0,r,p[0],p[1]):!!stroke&&Inside.arcline(0,0,r,0,2*Math.PI,!1,lineWidth,p[0],p[1])},fan:function(x,y){var self=this,fill=self.hasFill(),stroke=self.hasStroke(),attrs=self._attrs,cx=attrs.x,cy=attrs.y,rs=attrs.rs,re=attrs.re,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,subv=[x-cx,y-cy],angle=Util.vec2.angleTo([1,0],subv);function _isPointInFill(){var angle1=mathUtl.arc.nearAngle(angle,startAngle,endAngle,clockwise);if(Util.isNumberEqual(angle,angle1)){var ls=Util.vec2.squaredLength(subv);if(rs*rs<=ls&&ls<=re*re)return!0}return!1}function _isPointInStroke(){var lineWidth=self.getHitLineWidth(),ssp={x:Math.cos(startAngle)*rs+cx,y:Math.sin(startAngle)*rs+cy},sep={x:Math.cos(startAngle)*re+cx,y:Math.sin(startAngle)*re+cy},esp={x:Math.cos(endAngle)*rs+cx,y:Math.sin(endAngle)*rs+cy},eep={x:Math.cos(endAngle)*re+cx,y:Math.sin(endAngle)*re+cy};return!!(Inside.line(ssp.x,ssp.y,sep.x,sep.y,lineWidth,x,y)||Inside.line(esp.x,esp.y,eep.x,eep.y,lineWidth,x,y)||Inside.arcline(cx,cy,rs,startAngle,endAngle,clockwise,lineWidth,x,y)||Inside.arcline(cx,cy,re,startAngle,endAngle,clockwise,lineWidth,x,y))}return fill&&stroke?_isPointInFill()||_isPointInStroke():fill?_isPointInFill():!!stroke&&_isPointInStroke()},image:function(x,y){var attrs=this._attrs;return!(this.get("toDraw")||!attrs.img)&&(this._cfg.attrs&&this._cfg.attrs.img===attrs.img||this._setAttrImg(),Inside.rect(attrs.x,attrs.y,attrs.width,attrs.height,x,y))},line:function(x,y){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2,lineWidth=this.getHitLineWidth();return!!this.hasStroke()&&Inside.line(x1,y1,x2,y2,lineWidth,x,y)},path:function(x,y){var self=this,segments=self.get("segments"),fill=self.hasFill(),stroke=self.hasStroke();function _isPointInStroke(){if(!Util.isEmpty(segments)){for(var lineWidth=self.getHitLineWidth(),i=0,l=segments.length;i<l;i++)if(segments[i].isInside(x,y,lineWidth))return!0;return!1}}return fill&&stroke?isPointInPathByContext(x,y,self)||_isPointInStroke():fill?isPointInPathByContext(x,y,self):!!stroke&&_isPointInStroke()},marker:function(x,y){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.radius||attrs.r,lineWidth=this.getHitLineWidth();return Inside.circle(cx,cy,r+lineWidth/2,x,y)},polygon:function(x,y){var self=this,fill=self.hasFill(),stroke=self.hasStroke();function _isPointInStroke(){var points=self._attrs.points;if(points.length<2)return!1;var lineWidth=self.getHitLineWidth(),outPoints=points.slice(0);return points.length>=3&&outPoints.push(points[0]),Inside.polyline(outPoints,lineWidth,x,y)}return fill&&stroke?isPointInPathByContext(x,y,self)||_isPointInStroke():fill?isPointInPathByContext(x,y,self):!!stroke&&_isPointInStroke()},polyline:function(x,y){var attrs=this._attrs;if(this.hasStroke()){var points=attrs.points;return!(points.length<2)&&Inside.polyline(points,attrs.lineWidth,x,y)}return!1},rect:function(x,y){var self=this,fill=self.hasFill(),stroke=self.hasStroke();function _isPointInStroke(){var attrs=self._attrs,rx=attrs.x,ry=attrs.y,width=attrs.width,height=attrs.height,radius=attrs.radius,lineWidth=self.getHitLineWidth();if(0===radius){var halfWidth=lineWidth/2;return Inside.line(rx-halfWidth,ry,rx+width+halfWidth,ry,lineWidth,x,y)||Inside.line(rx+width,ry-halfWidth,rx+width,ry+height+halfWidth,lineWidth,x,y)||Inside.line(rx+width+halfWidth,ry+height,rx-halfWidth,ry+height,lineWidth,x,y)||Inside.line(rx,ry+height+halfWidth,rx,ry-halfWidth,lineWidth,x,y)}return Inside.line(rx+radius,ry,rx+width-radius,ry,lineWidth,x,y)||Inside.line(rx+width,ry+radius,rx+width,ry+height-radius,lineWidth,x,y)||Inside.line(rx+width-radius,ry+height,rx+radius,ry+height,lineWidth,x,y)||Inside.line(rx,ry+height-radius,rx,ry+radius,lineWidth,x,y)||Inside.arcline(rx+width-radius,ry+radius,radius,1.5*Math.PI,2*Math.PI,!1,lineWidth,x,y)||Inside.arcline(rx+width-radius,ry+height-radius,radius,0,.5*Math.PI,!1,lineWidth,x,y)||Inside.arcline(rx+radius,ry+height-radius,radius,.5*Math.PI,Math.PI,!1,lineWidth,x,y)||Inside.arcline(rx+radius,ry+radius,radius,Math.PI,1.5*Math.PI,!1,lineWidth,x,y)}return fill&&stroke?isPointInPathByContext(x,y,self)||_isPointInStroke():fill?isPointInPathByContext(x,y,self):!!stroke&&_isPointInStroke()},text:function(x,y){var box=this.getBBox();if(this.hasFill()||this.hasStroke())return Inside.box(box.minX,box.maxX,box.minY,box.maxY,x,y)}};module.exports={isPointInPath:function(x,y){var shape=shapes[this.type];return!!shape&&shape.call(this,x,y)}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),PathUtil=__webpack_require__(57),d3Timer=__webpack_require__(170),d3Ease=__webpack_require__(173),_require=__webpack_require__(117),interpolate=_require.interpolate,interpolateArray=_require.interpolateArray,Timeline=function(canvas){this._animators=[],this._current=0,this._timer=null,this.canvas=canvas};function update(shape,animator,elapsed){var ratio,startTime=animator.startTime;if(elapsed<startTime+animator.delay||animator.isPaused)return!1;var duration=animator.duration,easing=animator.easing;if(elapsed=elapsed-startTime-animator.delay,animator.toAttrs.repeat)ratio=d3Ease[easing](ratio=elapsed%duration/duration);else{if(!((ratio=elapsed/duration)<1))return shape.attr(animator.toAttrs),animator.toMatrix&&shape.setMatrix(animator.toMatrix),!0;ratio=d3Ease[easing](ratio)}return function(self,animator,ratio){var cProps={},toAttrs=animator.toAttrs,fromAttrs=animator.fromAttrs,toMatrix=animator.toMatrix;if(!self.get("destroyed")){var interf;for(var k in toAttrs)if(!Util.isEqual(fromAttrs[k],toAttrs[k]))if("path"===k){var toPath=toAttrs[k],fromPath=fromAttrs[k];toPath.length>fromPath.length?(toPath=PathUtil.parsePathString(toAttrs[k]),fromPath=PathUtil.parsePathString(fromAttrs[k]),fromPath=PathUtil.fillPathByDiff(fromPath,toPath),fromPath=PathUtil.formatPath(fromPath,toPath),animator.fromAttrs.path=fromPath,animator.toAttrs.path=toPath):animator.pathFormatted||(toPath=PathUtil.parsePathString(toAttrs[k]),fromPath=PathUtil.parsePathString(fromAttrs[k]),fromPath=PathUtil.formatPath(fromPath,toPath),animator.fromAttrs.path=fromPath,animator.toAttrs.path=toPath,animator.pathFormatted=!0),cProps[k]=[];for(var i=0;i<toPath.length;i++){for(var toPathPoint=toPath[i],fromPathPoint=fromPath[i],cPathPoint=[],j=0;j<toPathPoint.length;j++)Util.isNumber(toPathPoint[j])&&fromPathPoint&&Util.isNumber(fromPathPoint[j])?(interf=interpolate(fromPathPoint[j],toPathPoint[j]),cPathPoint.push(interf(ratio))):cPathPoint.push(toPathPoint[j]);cProps[k].push(cPathPoint)}}else interf=interpolate(fromAttrs[k],toAttrs[k]),cProps[k]=interf(ratio);if(toMatrix){var cM=interpolateArray(animator.fromMatrix,toMatrix)(ratio);self.setMatrix(cM)}self.attr(cProps)}}(shape,animator,ratio),!1}Util.augment(Timeline,{initTimer:function(){var shape,animators,animator,_this=this,self=this;self._timer=d3Timer.timer(function(elapsed){if(self._current=elapsed,_this._animators.length>0){for(var i=_this._animators.length-1;i>=0;i--)if((shape=_this._animators[i]).get("destroyed"))self.removeAnimator(i);else{if(!shape.get("pause").isPaused)for(var j=(animators=shape.get("animators")).length-1;j>=0;j--)update(shape,animator=animators[j],elapsed)&&(animators.splice(j,1),animator.callback&&animator.callback());0===animators.length&&self.removeAnimator(i)}_this.canvas.draw()}})},addAnimator:function(shape){this._animators.push(shape)},removeAnimator:function(index){this._animators.splice(index,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(animator){animator.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),module.exports=Timeline},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__timer__=__webpack_require__(58);__webpack_exports__.a=function(callback,delay,time){var t=new __WEBPACK_IMPORTED_MODULE_0__timer__.a;return t.restart(function(elapsed){t.stop(),callback(elapsed+delay)},delay=null==delay?0:+delay,time),t}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__timer__=__webpack_require__(58);__webpack_exports__.a=function(callback,delay,time){var t=new __WEBPACK_IMPORTED_MODULE_0__timer__.a,total=delay;return null==delay?(t.restart(callback,delay,time),t):(delay=+delay,time=null==time?Object(__WEBPACK_IMPORTED_MODULE_0__timer__.b)():+time,t.restart(function tick(elapsed){elapsed+=total,t.restart(tick,total+=delay,time),callback(elapsed)},delay,time),t)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return+t}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return t*t},__webpack_exports__.c=function(t){return t*(2-t)},__webpack_exports__.b=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return t*t*t},__webpack_exports__.c=function(t){return--t*t*t+1},__webpack_exports__.b=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return polyIn}),__webpack_require__.d(__webpack_exports__,"c",function(){return polyOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return polyInOut});var polyIn=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),polyOut=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),polyInOut=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return 1-Math.cos(t*halfPi)},__webpack_exports__.c=function(t){return Math.sin(t*halfPi)},__webpack_exports__.b=function(t){return(1-Math.cos(pi*t))/2};var pi=Math.PI,halfPi=pi/2},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return Math.pow(2,10*t-10)},__webpack_exports__.c=function(t){return 1-Math.pow(2,-10*t)},__webpack_exports__.b=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return 1-Math.sqrt(1-t*t)},__webpack_exports__.c=function(t){return Math.sqrt(1- --t*t)},__webpack_exports__.b=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(t){return 1-bounceOut(1-t)},__webpack_exports__.c=bounceOut,__webpack_exports__.b=function(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2};var b1=4/11,b2=6/11,b3=8/11,b4=.75,b5=9/11,b6=10/11,b7=.9375,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return backIn}),__webpack_require__.d(__webpack_exports__,"c",function(){return backOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return backInOut});var backIn=function custom(s){function backIn(t){return t*t*((s+1)*t-s)}return s=+s,backIn.overshoot=custom,backIn}(1.70158),backOut=function custom(s){function backOut(t){return--t*t*((s+1)*t+s)+1}return s=+s,backOut.overshoot=custom,backOut}(1.70158),backInOut=function custom(s){function backInOut(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,backInOut.overshoot=custom,backInOut}(1.70158)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return elasticIn}),__webpack_require__.d(__webpack_exports__,"c",function(){return elasticOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return elasticInOut});var tau=2*Math.PI,elasticIn=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=tau);function elasticIn(t){return a*Math.pow(2,10*--t)*Math.sin((s-t)/p)}return elasticIn.amplitude=function(a){return custom(a,p*tau)},elasticIn.period=function(p){return custom(a,p)},elasticIn}(1,.3),elasticOut=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=tau);function elasticOut(t){return 1-a*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/p)}return elasticOut.amplitude=function(a){return custom(a,p*tau)},elasticOut.period=function(p){return custom(a,p)},elasticOut}(1,.3),elasticInOut=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=tau);function elasticInOut(t){return((t=2*t-1)<0?a*Math.pow(2,10*t)*Math.sin((s-t)/p):2-a*Math.pow(2,-10*t)*Math.sin((s+t)/p))/2}return elasticInOut.amplitude=function(a){return custom(a,p*tau)},elasticInOut.period=function(p){return custom(a,p)},elasticInOut}(1,.3)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=lab,__webpack_exports__.b=hcl;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(118),Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl){var h=o.h*__WEBPACK_IMPORTED_MODULE_2__math__.a;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.b||(o=Object(__WEBPACK_IMPORTED_MODULE_1__color__.h)(o));var b=rgb2xyz(o.r),a=rgb2xyz(o.g),l=rgb2xyz(o.b),x=xyz2lab((.4124564*b+.3575761*a+.1804375*l)/Xn),y=xyz2lab((.2126729*b+.7151522*a+.072175*l)/Yn);return new Lab(116*y-16,500*(x-y),200*(y-xyz2lab((.0193339*b+.119192*a+.9503041*l)/Zn)),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function xyz2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2xyz(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hcl(h,c,l,opacity){return 1===arguments.length?function(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o=labConvert(o));var h=Math.atan2(o.b,o.a)*__WEBPACK_IMPORTED_MODULE_2__math__.b;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Lab,lab,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return y=Yn*lab2xyz(y),x=Xn*lab2xyz(x),z=Zn*lab2xyz(z),new __WEBPACK_IMPORTED_MODULE_1__color__.b(xyz2rgb(3.2404542*x-1.5371385*y-.4985314*z),xyz2rgb(-.969266*x+1.8760108*y+.041556*z),xyz2rgb(.0556434*x-.2040259*y+1.0572252*z),this.opacity)}})),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hcl,hcl,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return labConvert(this).rgb()}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=cubehelix;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(118),A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelix(h,s,l,opacity){return 1===arguments.length?function(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.b||(o=Object(__WEBPACK_IMPORTED_MODULE_1__color__.h)(o));var g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*(o.r/255)-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*__WEBPACK_IMPORTED_MODULE_2__math__.b-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Cubehelix,cubehelix,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.c:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.c,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.d:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.d,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*__WEBPACK_IMPORTED_MODULE_2__math__.a,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new __WEBPACK_IMPORTED_MODULE_1__color__.b(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return b-=a=+a,function(t){return Math.round(a+b*t)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return interpolateTransformCss}),__webpack_require__.d(__webpack_exports__,"b",function(){return interpolateTransformSvg});var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__parse__=__webpack_require__(207);function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.a,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.b,", ",")",")")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(value){return"none"===value?__WEBPACK_IMPORTED_MODULE_0__decompose__.b:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),value=value.slice(7,-1).split(","),Object(__WEBPACK_IMPORTED_MODULE_0__decompose__.a)(+value[0],+value[1],+value[2],+value[3],+value[4],+value[5]))},__webpack_exports__.b=function(value){return null==value?__WEBPACK_IMPORTED_MODULE_0__decompose__.b:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?(value=value.matrix,Object(__WEBPACK_IMPORTED_MODULE_0__decompose__.a)(value.a,value.b,value.c,value.d,value.e,value.f)):__WEBPACK_IMPORTED_MODULE_0__decompose__.b)};var cssNode,cssRoot,cssView,svgNode,__WEBPACK_IMPORTED_MODULE_0__decompose__=__webpack_require__(208)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return identity});var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};__webpack_exports__.a=function(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var rho=Math.SQRT2;function cosh(x){return((x=Math.exp(x))+1/x)/2}__webpack_exports__.a=function(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],w1=p1[2],dx=p1[0]-ux0,dy=p1[1]-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+4*d2)/(2*w0*2*d1),b1=(w1*w1-w0*w0-4*d2)/(2*w1*2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var x,s=t*S,coshr0=cosh(r0),u=w0/(2*d1)*(coshr0*(x=rho*s+r0,((x=Math.exp(2*x))-1)/(x+1))-function(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S,i}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return hslLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28);function hsl(hue){return function(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.d)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.d)(end)).h),s=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}__webpack_exports__.a=hsl(__WEBPACK_IMPORTED_MODULE_1__color__.c);var hslLong=hsl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(start,end){var l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.e)(start)).l,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.e)(end)).l),a=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.a,end.a),b=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.b,end.b),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}};var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return hclLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28);function hcl(hue){return function(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.c)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.c)(end)).h),c=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.c,end.c),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}__webpack_exports__.a=hcl(__WEBPACK_IMPORTED_MODULE_1__color__.c);var hclLong=hcl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return cubehelixLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28);function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.b)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.b)(end)).h),s=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}__webpack_exports__.b=cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.c);var cubehelixLong=cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(interpolator,n){for(var samples=new Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}},function(module,exports,__webpack_require__){module.exports={canvas:__webpack_require__(216),svg:__webpack_require__(219)}},function(module,exports,__webpack_require__){module.exports={painter:__webpack_require__(217)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),renderUtil=__webpack_require__(218),SHAPE_ATTRS=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"];module.exports=function(){function Painter(dom){if(!dom)return null;var canvasId=Util.uniqueId("canvas_"),canvasDom=Util.createDom('<canvas id="'+canvasId+'"></canvas>');return dom.appendChild(canvasDom),this.type="canvas",this.canvas=canvasDom,this.context=canvasDom.getContext("2d"),this.toDraw=!1,this}var _proto=Painter.prototype;return _proto.beforeDraw=function(){var el=this.canvas;this.context&&this.context.clearRect(0,0,el.width,el.height)},_proto.draw=function(model){var self=this;self.animateHandler?self.toDraw=!0:function drawInner(){self.animateHandler=Util.requestAnimationFrame(function(){self.animateHandler=void 0,self.toDraw&&drawInner()}),self.beforeDraw();try{self._drawGroup(model)}catch(ev){console.warn("error in draw canvas, detail as:"),console.warn(ev),self.toDraw=!1}self.toDraw=!1}()},_proto.drawSync=function(model){this.beforeDraw(),this._drawGroup(model)},_proto._drawGroup=function(group){if(!group._cfg.removed&&!group._cfg.destroyed&&group._cfg.visible){var children=group._cfg.children,child=null;this.setContext(group);for(var i=0;i<children.length;i++)child=children[i],children[i].isGroup?this._drawGroup(child):this._drawShape(child);this.restoreContext(group)}},_proto._drawShape=function(shape){shape._cfg.removed||shape._cfg.destroyed||!shape._cfg.visible||(this.setContext(shape),shape.drawInner(this.context),this.restoreContext(shape),shape._cfg.attrs=shape._attrs,shape._cfg.hasUpdate=!1)},_proto.setContext=function(shape){var context=this.context,clip=shape._attrs.clip;context.save(),clip&&(clip.resetTransform(context),clip.createPath(context),context.clip()),this.resetContext(shape),shape.resetTransform(context)},_proto.restoreContext=function(){this.context.restore()},_proto.resetContext=function(shape){var context=this.context,elAttrs=shape._attrs;if(!shape.isGroup)for(var k in elAttrs)if(SHAPE_ATTRS.indexOf(k)>-1){var v=elAttrs[k];"fillStyle"===k&&(v=renderUtil.parseStyle(v,shape,context)),"strokeStyle"===k&&(v=renderUtil.parseStyle(v,shape,context)),"lineDash"===k&&context.setLineDash?Util.isArray(v)?context.setLineDash(v):Util.isString(v)&&context.setLineDash(v.split(" ")):context[k]=v}},Painter}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),regexTags=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,regexDot=/[^\s\,]+/gi,regexLG=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,regexRG=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,regexPR=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,regexColorStop=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,numColorCache={};function addStop(steps,gradient){var arr=steps.match(regexColorStop);Util.each(arr,function(item){item=item.split(":"),gradient.addColorStop(item[0],item[1])})}module.exports={parsePath:function(path){return Util.isArray(path=path||[])?path:Util.isString(path)?(path=path.match(regexTags),Util.each(path,function(item,index){if((item=item.match(regexDot))[0].length>1){var tag=item[0].charAt(0);item.splice(1,0,item[0].substr(1)),item[0]=tag}Util.each(item,function(sub,i){isNaN(sub)||(item[i]=+sub)}),path[index]=item}),path):void 0},parseStyle:function(color,self,context){if(Util.isString(color)){if("("===color[1]||"("===color[2]){if("l"===color[0])return function(color,self,context){var start,end,arr=regexLG.exec(color),angle=Util.mod(Util.toRadian(parseFloat(arr[1])),2*Math.PI),steps=arr[2],box=self.getBBox();angle>=0&&angle<.5*Math.PI?(start={x:box.minX,y:box.minY},end={x:box.maxX,y:box.maxY}):.5*Math.PI<=angle&&angle<Math.PI?(start={x:box.maxX,y:box.minY},end={x:box.minX,y:box.maxY}):Math.PI<=angle&&angle<1.5*Math.PI?(start={x:box.maxX,y:box.maxY},end={x:box.minX,y:box.minY}):(start={x:box.minX,y:box.maxY},end={x:box.maxX,y:box.minY});var tanTheta=Math.tan(angle),tanTheta2=tanTheta*tanTheta,gradient=context.createLinearGradient(start.x,start.y,(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.x,tanTheta*(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.y);return addStop(steps,gradient),gradient}(color,self,context);if("r"===color[0])return function(color,self,context){var arr=regexRG.exec(color),fx=parseFloat(arr[1]),fy=parseFloat(arr[2]),fr=parseFloat(arr[3]),steps=arr[4];if(0===fr){var colors=steps.match(regexColorStop);return colors[colors.length-1].split(":")[1]}var box=self.getBBox(),width=box.maxX-box.minX,height=box.maxY-box.minY,r=Math.sqrt(width*width+height*height)/2,gradient=context.createRadialGradient(box.minX+width*fx,box.minY+height*fy,fr*r,box.minX+width/2,box.minY+height/2,r);return addStop(steps,gradient),gradient}(color,self,context);if("p"===color[0])return function(color,self,context){if(self.get("patternSource")&&self.get("patternSource")===color)return self.get("pattern");var pattern,img,arr=regexPR.exec(color),repeat=arr[1],source=arr[2];function onload(){pattern=context.createPattern(img,repeat),self.setSilent("pattern",pattern),self.setSilent("patternSource",color)}switch(repeat){case"a":repeat="repeat";break;case"x":repeat="repeat-x";break;case"y":repeat="repeat-y";break;case"n":repeat="no-repeat";break;default:repeat="no-repeat"}return img=new Image,source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?onload():(img.onload=onload,img.src=img.src),pattern}(color,self,context)}return color}},numberToColor:function(num){var color=numColorCache[num];if(!color){for(var str=num.toString(16),i=str.length;i<6;i++)str="0"+str;numColorCache[num]=color="#"+str}return color}}},function(module,exports,__webpack_require__){module.exports={painter:__webpack_require__(220),getShape:__webpack_require__(227)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),parseRadius=__webpack_require__(27).parseRadius,Marker=__webpack_require__(56),Defs=__webpack_require__(221),SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},BASELINE_MAP={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ANCHOR_MAP={left:"left",start:"left",center:"middle",right:"end",end:"end"};module.exports=function(){function Painter(dom){if(!dom)return null;var svgId=Util.uniqueId("canvas_"),canvasDom=Util.createDom('<svg id="'+svgId+'"></svg>');return dom.appendChild(canvasDom),this.type="svg",this.canvas=canvasDom,this.context=new Defs(canvasDom),this.toDraw=!1,this}var _proto=Painter.prototype;return _proto.draw=function(model){var self=this;self.animateHandler?self.toDraw=!0:function drawInner(){self.animateHandler=Util.requestAnimationFrame(function(){self.animateHandler=void 0,self.toDraw&&drawInner()});try{model.resetMatrix(),self._drawGroup(model,!1)}catch(ev){console.warn("error in draw canvas, detail as:"),console.warn(ev),self.toDraw=!1}self.toDraw=!1}()},_proto.drawSync=function(model){this._drawChildren(model,!1)},_proto._drawGroup=function(model,redraw){var cfg=model._cfg;cfg.removed||cfg.destroyed||(!cfg.el&&cfg.attrs&&(redraw=!0),cfg.tobeRemoved&&(Util.each(cfg.tobeRemoved,function(item){item.parentNode&&item.parentNode.removeChild(item)}),cfg.tobeRemoved=[]),this._drawShape(model,redraw),cfg.children&&cfg.children.length>0&&this._drawChildren(model,redraw))},_proto._drawChildren=function(parent,redraw){var shape,children=parent._cfg.children;if(children){if(parent._cfg.el&&!redraw){var childLen=parent._cfg.el.childNodes.length+1;0!==childLen&&childLen!==children.length&&(redraw=!0)}for(var i=0;i<children.length;i++)(shape=children[i]).isGroup?this._drawGroup(shape,redraw):this._drawShape(shape,redraw)}},_proto._drawShape=function(model,redraw){var attrs=model._attrs,cfg=model._cfg,el=cfg.el;cfg.removed||cfg.destroyed?el&&el.parentNode.removeChild(cfg.el):(redraw&&el&&(el.parentNode&&el.parentNode.removeChild(el),el=null),!el&&cfg.parent&&(this._createDom(model),this._updateShape(model)),el=cfg.el,!1!==cfg.visible?(cfg.visible&&el.hasAttribute("visibility")&&el.removeAttribute("visibility"),cfg.hasUpdate&&this._updateShape(model),attrs.clip&&attrs.clip._cfg.hasUpdate&&this._updateShape(attrs.clip)):el.setAttribute("visibility","hidden"))},_proto._updateShape=function(model){var attrs=model._attrs,formerAttrs=model._cfg.attrs;if(formerAttrs)if(model._cfg.el||this._createDom(model),"clip"in attrs&&this._setClip(model,attrs.clip),("shadowOffsetX"in attrs||"shadowOffsetY"in attrs||"shadowBlur"in attrs||"shadowColor"in attrs)&&this._setShadow(model),"text"!==model.type){for(var key in"fan"===model.type&&this._updateFan(model),"marker"===model.type&&model._cfg.el.setAttribute("d",this._assembleMarker(attrs)),"rect"===model.type&&model._cfg.el.setAttribute("d",this._assembleRect(attrs)),attrs)attrs[key]!==formerAttrs[key]&&this._setAttribute(model,key,attrs[key]);model._cfg.attrs=Util.deepMix({},model._attrs),model._cfg.hasUpdate=!1}else this._updateText(model)},_proto._setAttribute=function(model,name,value){var type=model.type,attrs=model._attrs,el=model._cfg.el,defs=this.context;if("marker"!==type&&"rect"!==type||!~["x","y","radius","r"].indexOf(name))if(~["circle","ellipse"].indexOf(type)&&~["x","y"].indexOf(name))el.setAttribute("c"+name,parseInt(value,10));else{if("polygon"===type&&"points"===name)return value&&0!==value.length||(value=""),Util.isArray(value)&&(value=(value=value.map(function(point){return point[0]+","+point[1]})).join(" ")),void el.setAttribute("points",value);if("path"===name&&Util.isArray(value))el.setAttribute("d",this._formatPath(value));else if("img"!==name){if("transform"===name)return value?void this._setTransform(model):void el.removeAttribute("transform");if("rotate"===name)return value?void this._setTransform(model):void el.removeAttribute("transform");if("matrix"!==name)if("fillStyle"!==name&&"strokeStyle"!==name){if("clip"!==name)if(~name.indexOf("Arrow"))if(name=SVG_ATTR_MAP[name],value){var id;id="boolean"==typeof value?defs.getDefaultArrow(attrs,name):defs.addArrow(attrs,name),el.setAttribute(name,"url(#"+id+")"),model._cfg[name]=id}else model._cfg[name]=null,el.removeAttribute(name);else"html"===name&&("string"==typeof value?el.innerHTML=value:(el.innerHTML="",el.appendChild(value))),SVG_ATTR_MAP[name]&&el.setAttribute(SVG_ATTR_MAP[name],value)}else this._setColor(model,name,value);else this._setTransform(model)}else this._setImage(model,value)}},_proto._createDom=function(model){var type=SHAPE_TO_TAGS[model.type],attrs=model._attrs;if(!type)throw new Error("the type"+model.type+"is not supported by svg");var shape=document.createElementNS("http://www.w3.org/2000/svg",type);return model._cfg.el=shape,model._cfg.parent&&model._cfg.parent.get("el").appendChild(shape),model._cfg.attrs={},"text"===model.type?(shape.setAttribute("paint-order","stroke"),shape.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(attrs.stroke||attrs.strokeStyle||shape.setAttribute("stroke","none"),attrs.fill||attrs.fillStyle||shape.setAttribute("fill","none")),shape},_proto._assembleMarker=function(attrs){var r=attrs.r;if(void 0===attrs.r&&(r=attrs.radius),isNaN(Number(attrs.x))||isNaN(Number(attrs.y))||isNaN(Number(r)))return"";var d="";return d="function"==typeof attrs.symbol?attrs.symbol(attrs.x,attrs.y,r):Marker.Symbols[attrs.symbol||"circle"](attrs.x,attrs.y,r),Util.isArray(d)&&(d=d.map(function(path){return path.join(" ")}).join("")),d},_proto._assembleRect=function(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height,radius=attrs.radius;if(!radius)return"M "+x+","+y+" l "+w+",0 l 0,"+h+" l"+-w+" 0 z";var r=parseRadius(radius);return Util.isArray(radius)?1===radius.length?r.r1=r.r2=r.r3=r.r4=radius[0]:2===radius.length?(r.r1=r.r3=radius[0],r.r2=r.r4=radius[1]):3===radius.length?(r.r1=radius[0],r.r2=r.r4=radius[1],r.r3=radius[2]):(r.r1=radius[0],r.r2=radius[1],r.r3=radius[2],r.r4=radius[3]):r.r1=r.r2=r.r3=r.r4=radius,[["M "+(x+r.r1)+","+y],["l "+(w-r.r1-r.r2)+",0"],["a "+r.r2+","+r.r2+",0,0,1,"+r.r2+","+r.r2],["l 0,"+(h-r.r2-r.r3)],["a "+r.r3+","+r.r3+",0,0,1,"+-r.r3+","+r.r3],["l "+(r.r3+r.r4-w)+",0"],["a "+r.r4+","+r.r4+",0,0,1,"+-r.r4+","+-r.r4],["l 0,"+(r.r4+r.r1-h)],["a "+r.r1+","+r.r1+",0,0,1,"+r.r1+","+-r.r1],["z"]].join(" ")},_proto._formatPath=function(value){return~(value=value.map(function(path){return path.join(" ")}).join("")).indexOf("NaN")?"":value},_proto._setTransform=function(model){for(var matrix=model._attrs.matrix,el=model._cfg.el,transform=[],i=0;i<9;i+=3)transform.push(matrix[i]+","+matrix[i+1]);-1===(transform=transform.join(",")).indexOf("NaN")?el.setAttribute("transform","matrix("+transform+")"):console.warn("invalid matrix:",matrix)},_proto._setImage=function(model,img){var attrs=model._attrs,el=model._cfg.el;if(Util.isString(img))el.setAttribute("href",img);else if(img instanceof Image)attrs.width||(el.setAttribute("width",img.width),model._attrs.width=img.width),attrs.height||(el.setAttribute("height",img.height),model._attrs.height=img.height),el.setAttribute("href",img.src);else if(img instanceof HTMLElement&&Util.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase())el.setAttribute("href",img.toDataURL());else if(img instanceof ImageData){var canvas=document.createElement("canvas");canvas.setAttribute("width",img.width),canvas.setAttribute("height",img.height),canvas.getContext("2d").putImageData(img,0,0),attrs.width||(el.setAttribute("width",img.width),model._attrs.width=img.width),attrs.height||(el.setAttribute("height",img.height),model._attrs.height=img.height),el.setAttribute("href",canvas.toDataURL())}},_proto._updateFan=function(model){function getPoint(angle,radius,center){return{x:radius*Math.cos(angle)+center.x,y:radius*Math.sin(angle)+center.y}}var attrs=model._attrs,cfg=model._cfg,center={x:attrs.x,y:attrs.y},d=[],startAngle=attrs.startAngle,endAngle=attrs.endAngle;Util.isNumberEqual(endAngle-startAngle,2*Math.PI)&&(endAngle-=1e-5);var outerStart=getPoint(startAngle,attrs.re,center),outerEnd=getPoint(endAngle,attrs.re,center),fa=endAngle>startAngle?1:0,fs=Math.abs(endAngle-startAngle)>Math.PI?1:0,rs=attrs.rs,re=attrs.re,innerStart=getPoint(startAngle,attrs.rs,center),innerEnd=getPoint(endAngle,attrs.rs,center);attrs.rs>0?(d.push("M "+outerEnd.x+","+outerEnd.y),d.push("L "+innerEnd.x+","+innerEnd.y),d.push("A "+rs+","+rs+",0,"+fs+","+(1===fa?0:1)+","+innerStart.x+","+innerStart.y),d.push("L "+outerStart.x+" "+outerStart.y)):(d.push("M "+center.x+","+center.y),d.push("L "+outerStart.x+","+outerStart.y)),d.push("A "+re+","+re+",0,"+fs+","+fa+","+outerEnd.x+","+outerEnd.y),d.push(attrs.rs>0?"L "+innerEnd.x+","+innerEnd.y:"Z"),cfg.el.setAttribute("d",d.join(" "))},_proto._updateText=function(model){var attrs=model._attrs,formerAttrs=model._cfg.attrs,el=model._cfg.el;for(var attr in this._setFont(model),attrs)if(attrs[attr]!==formerAttrs[attr]){if("text"===attr){this._setText(model,""+attrs[attr]);continue}if("fillStyle"===attr||"strokeStyle"===attr){this._setColor(model,attr,attrs[attr]);continue}if("matrix"===attr){this._setTransform(model);continue}SVG_ATTR_MAP[attr]&&el.setAttribute(SVG_ATTR_MAP[attr],attrs[attr])}model._cfg.attrs=Object.assign({},model._attrs),model._cfg.hasUpdate=!1},_proto._setFont=function(model){var el=model.get("el"),attrs=model._attrs,fontSize=attrs.fontSize;el.setAttribute("alignment-baseline",BASELINE_MAP[attrs.textBaseline]||"baseline"),el.setAttribute("text-anchor",ANCHOR_MAP[attrs.textAlign]||"left"),fontSize&&+fontSize<12&&(attrs.matrix=[1,0,0,0,1,0,0,0,1],model.transform([["t",-attrs.x,-attrs.y],["s",+fontSize/12,+fontSize/12],["t",attrs.x,attrs.y]]))},_proto._setText=function(model,text){var el=model._cfg.el,baseline=model._attrs.textBaseline||"bottom";if(text)if(~text.indexOf("\n")){var x=model._attrs.x,textArr=text.split("\n"),textLen=textArr.length-1,arr="";Util.each(textArr,function(segment,i){0===i?"alphabetic"===baseline?arr+='<tspan x="'+x+'" dy="'+-textLen+'em">'+segment+"</tspan>":"top"===baseline?arr+='<tspan x="'+x+'" dy="0.9em">'+segment+"</tspan>":"middle"===baseline?arr+='<tspan x="'+x+'" dy="'+-(textLen-1)/2+'em">'+segment+"</tspan>":"bottom"===baseline?arr+='<tspan x="'+x+'" dy="-'+(textLen+.3)+'em">'+segment+"</tspan>":"hanging"===baseline&&(arr+='<tspan x="'+x+'" dy="'+(-(textLen-1)-.3)+'em">'+segment+"</tspan>"):arr+='<tspan x="'+x+'" dy="1em">'+segment+"</tspan>"}),el.innerHTML=arr}else el.innerHTML=text;else el.innerHTML=""},_proto._setClip=function(model,value){var el=model._cfg.el;if(value)if(el.hasAttribute("clip-path"))value._cfg.hasUpdate&&this._updateShape(value);else{this._createDom(value),this._updateShape(value);var id=this.context.addClip(value);el.setAttribute("clip-path","url(#"+id+")")}else el.removeAttribute("clip-path")},_proto._setColor=function(model,name,value){var el=model._cfg.el,defs=this.context;if(value)if(value=value.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(value)){var id=defs.find("gradient",value);id||(id=defs.addGradient(value)),el.setAttribute(SVG_ATTR_MAP[name],"url(#"+id+")")}else if(/^[p,P]{1}[\s]*\(/.test(value)){var _id=defs.find("pattern",value);_id||(_id=defs.addPattern(value)),el.setAttribute(SVG_ATTR_MAP[name],"url(#"+_id+")")}else el.setAttribute(SVG_ATTR_MAP[name],value);else el.setAttribute(SVG_ATTR_MAP[name],"none")},_proto._setShadow=function(model){var el=model._cfg.el,attrs=model._attrs,cfg={dx:attrs.shadowOffsetX,dy:attrs.shadowOffsetY,blur:attrs.shadowBlur,color:attrs.shadowColor};if(cfg.dx||cfg.dy||cfg.blur||cfg.color){var id=this.context.find("filter",cfg);id||(id=this.context.addShadow(cfg,this)),el.setAttribute("filter","url(#"+id+")")}else el.removeAttribute("filter")},Painter}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Gradient=__webpack_require__(222),Shadow=__webpack_require__(223),Arrow=__webpack_require__(224),Clip=__webpack_require__(225),Pattern=__webpack_require__(226);module.exports=function(){function Defs(canvas){var el=document.createElementNS("http://www.w3.org/2000/svg","defs"),id=Util.uniqueId("defs_");el.id=id,canvas.appendChild(el),this.children=[],this.defaultArrow={},this.el=el,this.canvas=canvas}var _proto=Defs.prototype;return _proto.find=function(type,attr){for(var children=this.children,result=null,i=0;i<children.length;i++)if(children[i].match(type,attr)){result=children[i].id;break}return result},_proto.findById=function(id){for(var children=this.children,flag=null,i=0;i<children.length;i++)if(children[i].id===id){flag=children[i];break}return flag},_proto.add=function(item){this.children.push(item),item.canvas=this.canvas,item.parent=this},_proto.getDefaultArrow=function(attrs,name){var stroke=attrs.stroke||attrs.strokeStyle;if(this.defaultArrow[stroke])return this.defaultArrow[stroke].id;var arrow=new Arrow(attrs,name);return this.defaultArrow[stroke]=arrow,this.el.appendChild(arrow.el),arrow.id},_proto.addGradient=function(cfg){var gradient=new Gradient(cfg);return this.el.appendChild(gradient.el),this.add(gradient),gradient.id},_proto.addArrow=function(attrs,name){var arrow=new Arrow(attrs,name);return this.el.appendChild(arrow.el),arrow.id},_proto.addShadow=function(cfg){var shadow=new Shadow(cfg);return this.el.appendChild(shadow.el),this.add(shadow),shadow.id},_proto.addPattern=function(cfg){var pattern=new Pattern(cfg);return this.el.appendChild(pattern.el),this.add(pattern),pattern.id},_proto.addClip=function(cfg){var clip=new Clip(cfg);return this.el.appendChild(clip.el),this.add(clip),clip.id},Defs}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),regexLG=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,regexRG=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,regexColorStop=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function addStop(steps){var arr=steps.match(regexColorStop);if(!arr)return"";var stops="";return arr.sort(function(a,b){return a=a.split(":"),b=b.split(":"),Number(a[0])-Number(b[0])}),Util.each(arr,function(item){item=item.split(":"),stops+='<stop offset="'+item[0]+'" stop-color="'+item[1]+'"></stop>'}),stops}module.exports=function(){function Gradient(cfg){var el=null,id=Util.uniqueId("gradient_");return"l"===cfg.toLowerCase()[0]?function(color,el){var start,end,arr=regexLG.exec(color),angle=Util.mod(Util.toRadian(parseFloat(arr[1])),2*Math.PI),steps=arr[2];angle>=0&&angle<.5*Math.PI?(start={x:0,y:0},end={x:1,y:1}):.5*Math.PI<=angle&&angle<Math.PI?(start={x:1,y:0},end={x:0,y:1}):Math.PI<=angle&&angle<1.5*Math.PI?(start={x:1,y:1},end={x:0,y:0}):(start={x:0,y:1},end={x:1,y:0});var tanTheta=Math.tan(angle),tanTheta2=tanTheta*tanTheta,x=(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.x,y=tanTheta*(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.y;el.setAttribute("x1",start.x),el.setAttribute("y1",start.y),el.setAttribute("x2",x),el.setAttribute("y2",y),el.innerHTML=addStop(steps)}(cfg,el=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(color,self){var arr=regexRG.exec(color),cx=parseFloat(arr[1]),cy=parseFloat(arr[2]),r=parseFloat(arr[3]),steps=arr[4];self.setAttribute("cx",cx),self.setAttribute("cy",cy),self.setAttribute("r",r),self.innerHTML=addStop(steps)}(cfg,el=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),el.setAttribute("id",id),this.el=el,this.id=id,this.cfg=cfg,this}return Gradient.prototype.match=function(type,attr){return this.cfg===attr},Gradient}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),ATTR_MAP={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},SHADOW_DIMENSION={x:"-40%",y:"-40%",width:"200%",height:"200%"};module.exports=function(){function Shadow(cfg){this.type="filter";var el=document.createElementNS("http://www.w3.org/2000/svg","filter");return Util.each(SHADOW_DIMENSION,function(v,k){el.setAttribute(k,v)}),this.el=el,this.id=Util.uniqueId("filter_"),this.el.id=this.id,this.cfg=cfg,this._parseShadow(cfg,el),this}var _proto=Shadow.prototype;return _proto.match=function(type,cfg){if(this.type!==type)return!1;var flag=!0,config=this.cfg;return Util.each(Object.keys(config),function(attr){if(config[attr]!==cfg[attr])return flag=!1,!1}),flag},_proto.update=function(name,value){var config=this.cfg;return config[ATTR_MAP[name]]=value,this._parseShadow(config,this.el),this},_proto._parseShadow=function(config,el){el.innerHTML='<feDropShadow \n      dx="'+(config.dx||0)+'" \n      dy="'+(config.dy||0)+'" \n      stdDeviation="'+(config.blur?config.blur/10:0)+'"\n      flood-color="'+(config.color?config.color:"#000")+'"\n      flood-opacity="'+(config.opacity?config.opacity:1)+'"\n      />'},Shadow}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1);module.exports=function(){function Arrow(attrs,type){var el=document.createElementNS("http://www.w3.org/2000/svg","marker"),id=Util.uniqueId("marker_");el.setAttribute("id",id);var shape=document.createElementNS("http://www.w3.org/2000/svg","path");return shape.setAttribute("stroke","none"),shape.setAttribute("fill",attrs.stroke||"#000"),el.appendChild(shape),el.setAttribute("overflow","visible"),el.setAttribute("orient","auto-start-reverse"),this.el=el,this.child=shape,this.id=id,this.cfg=attrs["marker-start"===type?"startArrow":"endArrow"],this.stroke=attrs.stroke||"#000",!0===this.cfg?this._setDefaultPath(type,shape):this._setMarker(attrs.lineWidth,shape),this}var _proto=Arrow.prototype;return _proto.match=function(){return!1},_proto._setDefaultPath=function(type,el){var parent=this.el;el.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),parent.setAttribute("refX",3),parent.setAttribute("refY",3)},_proto._setMarker=function(r,el){var parent=this.el,path=this.cfg.path,d=this.cfg.d;Util.isArray(path)&&(path=path.map(function(segment){return segment.join(" ")}).join("")),el.setAttribute("d",path),parent.appendChild(el),d&&parent.setAttribute("refX",d/r)},_proto.update=function(fill){var child=this.child;child.attr?child.attr("fill",fill):child.setAttribute("fill",fill)},Arrow}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1);module.exports=function(){function Clip(cfg){this.type="clip";var el=document.createElementNS("http://www.w3.org/2000/svg","clipPath");return this.el=el,this.id=Util.uniqueId("clip_"),el.id=this.id,el.appendChild(cfg._cfg.el.cloneNode(!0)),this.cfg=cfg,this}var _proto=Clip.prototype;return _proto.match=function(){return!1},_proto.remove=function(){var el=this.el;el.parentNode.removeChild(el)},Clip}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),regexPR=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i;module.exports=function(){function Pattern(cfg){var el=document.createElementNS("http://www.w3.org/2000/svg","pattern");el.setAttribute("patternUnits","userSpaceOnUse");var child=document.createElementNS("http://www.w3.org/2000/svg","image");el.appendChild(child);var id=Util.uniqueId("pattern_");el.id=id,this.el=el,this.id=id,this.cfg=cfg;var source=regexPR.exec(cfg)[2];child.setAttribute("href",source);var img=new Image;function onload(){console.log(img.width,img.height),el.setAttribute("width",img.width),el.setAttribute("height",img.height)}return source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?onload():(img.onload=onload,img.src=img.src),this}return Pattern.prototype.match=function(type,attr){return this.cfg===attr},Pattern}()},function(module,exports){var TAG_MAP={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};module.exports=function(x,y,e){var target=e.target||e.srcElement;if(!TAG_MAP[target.tagName]){for(var parent=target.parentNode;parent&&!TAG_MAP[parent.tagName];)parent=parent.parentNode;target=parent}return this._cfg.el===target?this:this.find(function(item){return item._cfg&&item._cfg.el===target})}},function(module,exports,__webpack_require__){module.exports={addEventListener:__webpack_require__(229),createDom:__webpack_require__(94),getBoundingClientRect:__webpack_require__(230),getHeight:__webpack_require__(231),getOuterHeight:__webpack_require__(232),getOuterWidth:__webpack_require__(233),getRatio:__webpack_require__(234),getStyle:__webpack_require__(235),getWidth:__webpack_require__(236),modifyCSS:__webpack_require__(95),requestAnimationFrame:__webpack_require__(96)}},function(module,exports){module.exports=function(target,eventType,callback){if(target){if(target.addEventListener)return target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}};if(target.attachEvent)return target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}}}},function(module,exports){module.exports=function(node,defaultValue){if(node&&node.getBoundingClientRect){var rect=node.getBoundingClientRect(),top=document.documentElement.clientTop,left=document.documentElement.clientLeft;return{top:rect.top-top,bottom:rect.bottom-top,left:rect.left-left,right:rect.right-left}}return defaultValue||null}},function(module,exports){module.exports=function(el,defaultValue){var height=this.getStyle(el,"height",defaultValue);return"auto"===height&&(height=el.offsetHeight),parseFloat(height)}},function(module,exports){module.exports=function(el,defaultValue){var height=this.getHeight(el,defaultValue),bTop=parseFloat(this.getStyle(el,"borderTopWidth"))||0,pTop=parseFloat(this.getStyle(el,"paddingTop"))||0,pBottom=parseFloat(this.getStyle(el,"paddingBottom"))||0;return height+bTop+(parseFloat(this.getStyle(el,"borderBottomWidth"))||0)+pTop+pBottom}},function(module,exports){module.exports=function(el,defaultValue){var width=this.getWidth(el,defaultValue),bLeft=parseFloat(this.getStyle(el,"borderLeftWidth"))||0,pLeft=parseFloat(this.getStyle(el,"paddingLeft"))||0,pRight=parseFloat(this.getStyle(el,"paddingRight"))||0;return width+bLeft+(parseFloat(this.getStyle(el,"borderRightWidth"))||0)+pLeft+pRight}},function(module,exports){module.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5);module.exports=function(dom,name,defaultValue){try{return window.getComputedStyle?window.getComputedStyle(dom,null)[name]:dom.currentStyle[name]}catch(e){return isNil(defaultValue)?null:defaultValue}}},function(module,exports){module.exports=function(el,defaultValue){var width=this.getStyle(el,"width",defaultValue);return"auto"===width&&(width=el.offsetWidth),parseFloat(width)}},function(module,exports,__webpack_require__){module.exports={contains:__webpack_require__(41),difference:__webpack_require__(238),find:__webpack_require__(239),firstValue:__webpack_require__(240),flatten:__webpack_require__(241),flattenDeep:__webpack_require__(242),getRange:__webpack_require__(243),merge:__webpack_require__(42),pull:__webpack_require__(90),pullAt:__webpack_require__(130),reduce:__webpack_require__(244),remove:__webpack_require__(245),sortBy:__webpack_require__(246),union:__webpack_require__(247),uniq:__webpack_require__(131),valuesOfKey:__webpack_require__(64)}},function(module,exports,__webpack_require__){var filter=__webpack_require__(63),contains=__webpack_require__(41);module.exports=function(arr){var values=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return filter(arr,function(value){return!contains(values,value)})}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),isPlainObject=__webpack_require__(26),isMatch=__webpack_require__(128);module.exports=function(arr,predicate){var _predicate=void 0;if(isFunction(predicate)&&(_predicate=predicate),isPlainObject(predicate)&&(_predicate=function(a){return isMatch(a,predicate)}),_predicate)for(var i=0;i<arr.length;i+=1)if(_predicate(arr[i]))return arr[i];return null}},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isArray=__webpack_require__(4);module.exports=function(data,name){for(var rst=null,i=0;i<data.length;i++){var value=data[i][name];if(!isNil(value)){rst=isArray(value)?value[0]:value;break}}return rst}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),each=__webpack_require__(2);module.exports=function(arr){if(!isArray(arr))return arr;var result=[];return each(arr,function(item){isArray(item)?each(item,function(subItem){result.push(subItem)}):result.push(item)}),result}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4);module.exports=function flattenDeep(arr){var result=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(isArray(arr))for(var i=0;i<arr.length;i+=1)flattenDeep(arr[i],result);else result.push(arr);return result}},function(module,exports,__webpack_require__){var filter=__webpack_require__(63),isArray=__webpack_require__(4);module.exports=function(values){if(!(values=filter(values,function(v){return!isNaN(v)})).length)return{min:0,max:0};if(isArray(values[0])){for(var tmp=[],i=0;i<values.length;i++)tmp=tmp.concat(values[i]);values=tmp}var max=Math.max.apply(null,values);return{min:Math.min.apply(null,values),max:max}}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isPlainObject=__webpack_require__(26),each=__webpack_require__(2);module.exports=function(arr,fn,init){if(!isArray(arr)&&!isPlainObject(arr))return arr;var result=init;return each(arr,function(data,i){result=fn(result,data,i)}),result}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),pullAt=__webpack_require__(130);module.exports=function(arr,predicate){var result=[];if(!isArrayLike(arr))return result;for(var i=-1,indexes=[],length=arr.length;++i<length;){var value=arr[i];predicate(value,i,arr)&&(result.push(value),indexes.push(i))}return pullAt(arr,indexes),result}},function(module,exports,__webpack_require__){var isString=__webpack_require__(10),isFunction=__webpack_require__(11),isArray=__webpack_require__(4);module.exports=function(arr,key){var comparer=void 0;if(isFunction(key))comparer=function(a,b){return key(a)-key(b)};else{var keys=[];isString(key)?keys.push(key):isArray(key)&&(keys=key),comparer=function(a,b){for(var i=0;i<keys.length;i+=1){var prop=keys[i];if(a[prop]>b[prop])return 1;if(a[prop]<b[prop])return-1}return 0}}return arr.sort(comparer),arr}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),toArray=__webpack_require__(34),uniq=__webpack_require__(131);module.exports=function(){var result=[],sources=toArray(arguments);return each(sources,function(arr){result=result.concat(arr)}),uniq(result)}},function(module,exports,__webpack_require__){module.exports={getWrapBehavior:__webpack_require__(249),wrapBehavior:__webpack_require__(250)}},function(module,exports){module.exports=function(obj,action){return obj["_wrap_"+action]}},function(module,exports){module.exports=function(obj,action){if(obj["_wrap_"+action])return obj["_wrap_"+action];var method=function(e){obj[action](e)};return obj["_wrap_"+action]=method,method}},function(module,exports,__webpack_require__){var number2color=__webpack_require__(252);module.exports={number2color:number2color,numberToColor:number2color,parsePath:__webpack_require__(253),parseRadius:__webpack_require__(254)}},function(module,exports){var numColorCache={};module.exports=function(num){var color=numColorCache[num];if(!color){for(var str=num.toString(16),i=str.length;i<6;i++)str="0"+str;numColorCache[num]=color="#"+str}return color}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isString=__webpack_require__(10),each=__webpack_require__(2),regexTags=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,regexDot=/[^\s\,]+/gi;module.exports=function(path){return isArray(path=path||[])?path:isString(path)?(path=path.match(regexTags),each(path,function(item,index){if((item=item.match(regexDot))[0].length>1){var tag=item[0].charAt(0);item.splice(1,0,item[0].substr(1)),item[0]=tag}each(item,function(sub,i){isNaN(sub)||(item[i]=+sub)}),path[index]=item}),path):void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4);module.exports=function(radius){var r1=0,r2=0,r3=0,r4=0;return isArray(radius)?1===radius.length?r1=r2=r3=r4=radius[0]:2===radius.length?(r1=r3=radius[0],r2=r4=radius[1]):3===radius.length?(r1=radius[0],r2=r4=radius[1],r3=radius[2]):(r1=radius[0],r2=radius[1],r3=radius[2],r4=radius[3]):r1=r2=r3=r4=radius,{r1:r1,r2:r2,r3:r3,r4:r4}}},function(module,exports,__webpack_require__){var isNumberEqual=__webpack_require__(35);module.exports={clamp:__webpack_require__(50),fixedBase:__webpack_require__(256),isDecimal:__webpack_require__(257),isEven:__webpack_require__(258),isInteger:__webpack_require__(259),isNegative:__webpack_require__(260),isNumberEqual:isNumberEqual,isOdd:__webpack_require__(261),isPositive:__webpack_require__(262),maxBy:__webpack_require__(132),minBy:__webpack_require__(263),mod:__webpack_require__(93),snapEqual:isNumberEqual,toDegree:__webpack_require__(92),toInt:__webpack_require__(133),toInteger:__webpack_require__(133),toRadian:__webpack_require__(91)}},function(module,exports){module.exports=function(v,base){var str=base.toString(),index=str.indexOf(".");if(-1===index)return Math.round(v);var length=str.substr(index+1).length;return length>20&&(length=20),parseFloat(v.toFixed(length))}},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9);module.exports=function(num){return isNumber(num)&&num%1!=0}},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9);module.exports=function(num){return isNumber(num)&&num%2==0}},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isInteger=Number.isInteger?Number.isInteger:function(num){return isNumber(num)&&num%1==0};module.exports=isInteger},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9);module.exports=function(num){return isNumber(num)&&num<0}},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9);module.exports=function(num){return isNumber(num)&&num%2!=0}},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9);module.exports=function(num){return isNumber(num)&&num>0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isFunction=__webpack_require__(11),each=__webpack_require__(2);module.exports=function(arr,fn){if(isArray(arr)){var min=arr[0],minData=void 0;minData=isFunction(fn)?fn(arr[0]):arr[0][fn];var data=void 0;return each(arr,function(val){(data=isFunction(fn)?fn(val):val[fn])<minData&&(min=val,minData=data)}),min}}},function(module,exports,__webpack_require__){module.exports={forIn:__webpack_require__(265),has:__webpack_require__(134),hasKey:__webpack_require__(266),hasValue:__webpack_require__(267),keys:__webpack_require__(129),isMatch:__webpack_require__(128),values:__webpack_require__(135)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(134)},function(module,exports,__webpack_require__){var contains=__webpack_require__(41),values=__webpack_require__(135);module.exports=function(obj,value){return contains(values(obj),value)}},function(module,exports,__webpack_require__){var pathIntersection=__webpack_require__(269),path2absolute=__webpack_require__(139),path2curve=__webpack_require__(138),catmullRom2Bezier=__webpack_require__(141);module.exports={catmullRom2Bezier:catmullRom2Bezier,catmullRomToBezier:catmullRom2Bezier,fillPath:__webpack_require__(270),fillPathByDiff:__webpack_require__(271),formatPath:__webpack_require__(273),intersection:pathIntersection,pathIntersection:pathIntersection,parsePathArray:__webpack_require__(137),parsePathString:__webpack_require__(140),pathToAbsolute:path2absolute,path2absolute:path2absolute,pathTocurve:path2curve,path2curve:path2curve,rectPath:__webpack_require__(136)}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),rectPath=__webpack_require__(136),pathTocurve=__webpack_require__(138),base3=function(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2},bezlen=function(x1,y1,x2,y2,x3,y3,x4,y4,z){null===z&&(z=1);for(var z2=(z=z>1?1:z<0?0:z)/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4);sum+=Cvalues[i]*Math.sqrt(xbase*xbase+ybase*ybase)}return z2*sum},curveDim=function(x0,y0,x1,y1,x2,y2,x3,y3){for(var tvalues=[],bounds=[[],[]],a=void 0,b=void 0,c=void 0,t=void 0,i=0;i<2;++i)if(0===i?(b=6*x0-12*x1+6*x2,a=-3*x0+9*x1-9*x2+3*x3,c=3*x1-3*x0):(b=6*y0-12*y1+6*y2,a=-3*y0+9*y1-9*y2+3*y3,c=3*y1-3*y0),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(t=-c/b)>0&&t<1&&tvalues.push(t)}else{var b2ac=b*b-4*c*a,sqrtb2ac=Math.sqrt(b2ac);if(!(b2ac<0)){var t1=(-b+sqrtb2ac)/(2*a);t1>0&&t1<1&&tvalues.push(t1);var t2=(-b-sqrtb2ac)/(2*a);t2>0&&t2<1&&tvalues.push(t2)}}for(var j=tvalues.length,jlen=j,mt=void 0;j--;)bounds[0][j]=(mt=1-(t=tvalues[j]))*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3,bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,{min:{x:Math.min.apply(0,bounds[0]),y:Math.min.apply(0,bounds[1])},max:{x:Math.max.apply(0,bounds[0]),y:Math.max.apply(0,bounds[1])}}},intersect=function(x1,y1,x2,y2,x3,y3,x4,y4){if(!(Math.max(x1,x2)<Math.min(x3,x4)||Math.min(x1,x2)>Math.max(x3,x4)||Math.max(y1,y2)<Math.min(y3,y4)||Math.min(y1,y2)>Math.max(y3,y4))){var denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(denominator){var px=((x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4))/denominator,py=((x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4))/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(!(px2<+Math.min(x1,x2).toFixed(2)||px2>+Math.max(x1,x2).toFixed(2)||px2<+Math.min(x3,x4).toFixed(2)||px2>+Math.max(x3,x4).toFixed(2)||py2<+Math.min(y1,y2).toFixed(2)||py2>+Math.max(y1,y2).toFixed(2)||py2<+Math.min(y3,y4).toFixed(2)||py2>+Math.max(y3,y4).toFixed(2)))return{x:px,y:py}}}},isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x+bbox.width&&y>=bbox.y&&y<=bbox.y+bbox.height},box=function(x,y,width,height){return null===x&&(x=y=width=height=0),null===y&&(y=x.y,width=x.width,height=x.height,x=x.x),{x:x,y:y,width:width,w:width,height:height,h:height,x2:x+width,y2:y+height,cx:x+width/2,cy:y+height/2,r1:Math.min(width,height)/2,r2:Math.max(width,height)/2,r0:Math.sqrt(width*width+height*height)/2,path:rectPath(x,y,width,height),vb:[x,y,width,height].join(" ")}},bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){isArray(p1x)||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return box(bbox.min.x,bbox.min.y,bbox.max.x-bbox.min.x,bbox.max.y-bbox.min.y)},findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=Math.pow(t1,3),t12=Math.pow(t1,2),t2=t*t,t3=t2*t,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y);return{x:t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y:t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:t1*p1x+t*c1x,y:t1*p1y+t*c1y},end:{x:t1*c2x+t*p2x,y:t1*c2y+t*p2y},alpha:90-180*Math.atan2(mx-nx,my-ny)/Math.PI}},interHelper=function(bez1,bez2,justCount){if(!function(bbox1,bbox2){return bbox1=box(bbox1),bbox2=box(bbox2),isPointInsideBBox(bbox2,bbox1.x,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x,bbox1.y2)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y2)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y2)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)}(bezierBBox(bez1),bezierBBox(bez2)))return justCount?0:[];for(var n1=~~(bezlen.apply(0,bez1)/8),n2=~~(bezlen.apply(0,bez2)/8),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var d=findDotsAtSegment.apply(0,bez1.concat(i/n1));dots1.push({x:d.x,y:d.y,t:i/n1})}for(var _i=0;_i<n2+1;_i++){var _d=findDotsAtSegment.apply(0,bez2.concat(_i/n2));dots2.push({x:_d.x,y:_d.y,t:_i/n2})}for(var _i2=0;_i2<n1;_i2++)for(var j=0;j<n2;j++){var di=dots1[_i2],di1=dots1[_i2+1],dj=dots2[j],dj1=dots2[j+1],ci=Math.abs(di1.x-di.x)<.001?"y":"x",cj=Math.abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]===is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+Math.abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+Math.abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1&&t2>=0&&t2<=1&&(justCount?res++:res.push({x:is.x,y:is.y,t1:t1,t2:t2}))}}return res};module.exports=function(path1,path2){return function(path1,path2,justCount){path1=pathTocurve(path1),path2=pathTocurve(path2);for(var x1=void 0,y1=void 0,x2=void 0,y2=void 0,x1m=void 0,y1m=void 0,x2m=void 0,y2m=void 0,bez1=void 0,bez2=void 0,res=[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if("M"===pi[0])x1=x1m=pi[1],y1=y1m=pi[2];else{"C"===pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if("M"===pj[0])x2=x2m=pj[1],y2=y2m=pj[2];else{"C"===pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);for(var intr=interHelper(bez1,bez2,void 0),k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,intr[k].bez2=bez2;res=res.concat(intr)}}}}return res}(path1,path2)}},function(module,exports){function decasteljau(points,t){var left=[],right=[];return points.length&&function recurse(points,t){if(1===points.length)left.push(points[0]),right.push(points[0]);else{for(var middlePoints=[],i=0;i<points.length-1;i++)0===i&&left.push(points[0]),i===points.length-2&&right.push(points[i+1]),middlePoints[i]=[(1-t)*points[i][0]+t*points[i+1][0],(1-t)*points[i][1]+t*points[i+1][1]];recurse(middlePoints,t)}}(points,t),{left:left,right:right.reverse()}}module.exports=function(source,target){if(1===source.length)return source;var sourceLen=source.length-1,targetLen=target.length-1,ratio=sourceLen/targetLen,segmentsToFill=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<targetLen-sourceLen;i++)source.push(source[0]);return source}for(var _i=0;_i<targetLen;_i++){var index=Math.floor(ratio*_i);segmentsToFill[index]=(segmentsToFill[index]||0)+1}var filled=segmentsToFill.reduce(function(filled,count,i){return filled.concat(i===sourceLen?source[sourceLen]:function(start,end,count){if(1===count)return[[].concat(start)];var segments=[];if("L"===end[0]||"C"===end[0]||"Q"===end[0])segments=segments.concat(function(start,end,count){var points=[[start[1],start[2]]];count=count||2;var segments=[];"A"===end[0]?(points.push(end[6]),points.push(end[7])):"C"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]]),points.push([end[5],end[6]])):"S"===end[0]||"Q"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]])):points.push([end[1],end[2]]);for(var leftSegments=points,t=1/count,i=0;i<count-1;i++){var split=decasteljau(leftSegments,t/(1-t*i));segments.push(split.left),leftSegments=split.right}return segments.push(leftSegments),segments.map(function(segment){var cmd=[];return 4===segment.length&&(cmd.push("C"),cmd=cmd.concat(segment[2])),segment.length>=3&&(3===segment.length&&cmd.push("Q"),cmd=cmd.concat(segment[1])),2===segment.length&&cmd.push("L"),cmd.concat(segment[segment.length-1])})}(start,end,count));else{var temp=[].concat(start);"M"===temp[0]&&(temp[0]="L");for(var i=0;i<=count-1;i++)segments.push(temp)}return segments}(source[i],source[i+1],count))},[]);return filled.unshift(source[0]),"Z"!==target[targetLen]&&"z"!==target[targetLen]||filled.push("Z"),filled}},function(module,exports,__webpack_require__){var isEqual=__webpack_require__(272);function getMinDiff(del,add,modify){var type=null,min=modify;return add<min&&(min=add,type="add"),del<min&&(min=del,type="del"),{type:type,min:min}}module.exports=function(source,target){var diffMatrix=function(source,target){var sourceLen=source.length,targetLen=target.length,sourceSegment=void 0,temp=0;if(0===sourceLen||0===targetLen)return null;for(var dist=[],i=0;i<=sourceLen;i++)dist[i]=[],dist[i][0]={min:i};for(var j=0;j<=targetLen;j++)dist[0][j]={min:j};for(var _i=1;_i<=sourceLen;_i++){sourceSegment=source[_i-1];for(var _j=1;_j<=targetLen;_j++)temp=isEqual(sourceSegment,target[_j-1])?0:1,dist[_i][_j]=getMinDiff(dist[_i-1][_j].min+1,dist[_i][_j-1].min+1,dist[_i-1][_j-1].min+temp)}return dist}(source,target),sourceLen=source.length,targetLen=target.length,changes=[],index=1,minPos=1;if(diffMatrix[sourceLen][targetLen]!==sourceLen){for(var i=1;i<=sourceLen;i++){var min=diffMatrix[i][i].min;minPos=i;for(var j=index;j<=targetLen;j++)diffMatrix[i][j].min<min&&(min=diffMatrix[i][j].min,minPos=j);diffMatrix[i][index=minPos].type&&changes.push({index:i-1,type:diffMatrix[i][index].type})}for(var _i2=changes.length-1;_i2>=0;_i2--)index=changes[_i2].index,"add"===changes[_i2].type?source.splice(index,0,[].concat(source[index])):source.splice(index,1)}if((sourceLen=source.length)<targetLen)for(var _i3=0;_i3<targetLen-sourceLen;_i3++)"z"===source[sourceLen-1][0]||"Z"===source[sourceLen-1][0]?source.splice(sourceLen-2,0,source[sourceLen-2]):source.push(source[sourceLen-1]);return source}},function(module,exports,__webpack_require__){var each=__webpack_require__(2);module.exports=function(obj1,obj2){if(obj1.length!==obj2.length)return!1;var result=!0;return each(obj1,function(item,i){if(item!==obj2[i])return result=!1,!1}),result}},function(module,exports){function _getSegmentPoints(segment){var points=[];switch(segment[0]){case"M":case"L":points.push([segment[1],segment[2]]);break;case"A":points.push([segment[6],segment[7]]);break;case"Q":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"T":points.push([segment[1],segment[2]]);break;case"C":points.push([segment[5],segment[6]]),points.push([segment[1],segment[2]]),points.push([segment[3],segment[4]]);break;case"S":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"H":case"V":points.push([segment[1],segment[1]])}return points}function _splitPoints(points,former,count){for(var result=[].concat(points),index=void 0,t=1/(count+1),formerEnd=_getSegmentPoints(former)[0],i=1;i<=count;i++)t*=i,0===(index=Math.floor(points.length*t))?result.unshift([formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]):result.splice(index,0,[formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]);return result}module.exports=function(fromPath,toPath){if(fromPath.length<=1)return fromPath;for(var points=void 0,i=0;i<toPath.length;i++)if(fromPath[i][0]!==toPath[i][0])switch(points=_getSegmentPoints(fromPath[i]),toPath[i][0]){case"M":fromPath[i]=["M"].concat(points[0]);break;case"L":fromPath[i]=["L"].concat(points[0]);break;case"A":fromPath[i]=[].concat(toPath[i]),fromPath[i][6]=points[0][0],fromPath[i][7]=points[0][1];break;case"Q":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["Q"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"T":fromPath[i]=["T"].concat(points[0]);break;case"C":if(points.length<3){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],2)}fromPath[i]=["C"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"S":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["S"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;default:fromPath[i]=toPath[i]}return fromPath}},function(module,exports,__webpack_require__){var strUtil={lc:__webpack_require__(275),lowerCase:__webpack_require__(142),lowerFirst:__webpack_require__(75),substitute:__webpack_require__(276),uc:__webpack_require__(277),upperCase:__webpack_require__(143),upperFirst:__webpack_require__(87)};module.exports=strUtil},function(module,exports,__webpack_require__){module.exports=__webpack_require__(142)},function(module,exports){module.exports=function(str,o){return str&&o?str.replace(/\\?\{([^{}]+)\}/g,function(match,name){return"\\"===match.charAt(0)?match.slice(1):void 0===o[name]?"":o[name]}):str}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(143)},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),checkType={getType:__webpack_require__(84),isArray:__webpack_require__(4),isArrayLike:__webpack_require__(13),isBoolean:__webpack_require__(82),isFunction:__webpack_require__(11),isNil:__webpack_require__(5),isNull:__webpack_require__(279),isNumber:__webpack_require__(9),isObject:__webpack_require__(24),isObjectLike:__webpack_require__(48),isPlainObject:__webpack_require__(26),isPrototype:__webpack_require__(85),isType:isType,isUndefined:__webpack_require__(280),isString:__webpack_require__(10),isRegExp:__webpack_require__(281),isDate:__webpack_require__(80),isArguments:__webpack_require__(282),isError:__webpack_require__(283)};module.exports=checkType},function(module,exports){module.exports=function(value){return null===value}},function(module,exports){module.exports=function(value){return void 0===value}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(str){return isType(str,"RegExp")}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(value){return isType(value,"Arguments")}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12);module.exports=function(value){return isType(value,"Error")}},function(module,exports){module.exports=function(func,wait,immediate){var timeout=void 0;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13);module.exports=function(arr,obj){if(!isArrayLike(arr))return-1;var m=Array.prototype.indexOf;if(m)return m.call(arr,obj);for(var index=-1,i=0;i<arr.length;i++)if(arr[i]===obj){index=i;break}return index}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),isEqual=__webpack_require__(49);module.exports=function(value,other,fn){return isFunction(fn)?!!fn(value,other):isEqual(value,other)}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isArrayLike=__webpack_require__(13);module.exports=function(arr,func){if(!isArrayLike(arr))return arr;var result=[];return each(arr,function(value,index){result.push(func(value,index))}),result}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isPlaineObject=__webpack_require__(26),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,keys){if(null===object||!isPlaineObject(object))return{};var result={};return each(keys,function(key){hasOwnProperty.call(object,key)&&(result[key]=object[key])}),result}},function(module,exports){module.exports=function(func,wait,options){var timeout=void 0,context=void 0,args=void 0,result=void 0,previous=0;options||(options={});var later=function(){previous=!1===options.leading?0:Date.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)},throttled=function(){var now=Date.now();previous||!1!==options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result};return throttled.cancel=function(){clearTimeout(timeout),previous=0,timeout=context=args=null},throttled}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),G=__webpack_require__(16),PathUtil=Util.PathUtil;function getAnimateParam(animateCfg,index,id){var result={};return animateCfg.delay&&(result.delay=Util.isFunction(animateCfg.delay)?animateCfg.delay(index,id):animateCfg.delay),result.easing=Util.isFunction(animateCfg.easing)?animateCfg.easing(index,id):animateCfg.easing,result.duration=Util.isFunction(animateCfg.duration)?animateCfg.duration(index,id):animateCfg.duration,result.callback=animateCfg.callback,result}function scaleInY(shape,animateCfg){var y,id=shape._id,index=shape.get("index"),box=shape.getBBox(),points=shape.get("origin").points,x=(box.minX+box.maxX)/2;shape.apply([x,y=points[0].y-points[1].y<=0?box.maxY:box.minY,1]),shape.attr("transform",[["t",-x,-y],["s",1,.01],["t",x,y]]);var endState={transform:[["t",-x,-y],["s",1,100],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function scaleInX(shape,animateCfg){var x,id=shape._id,index=shape.get("index"),box=shape.getBBox(),points=shape.get("origin").points,y=(box.minY+box.maxY)/2;shape.apply([x=points[0].y-points[1].y>0?box.maxX:box.minX,y,1]),shape.attr({transform:[["t",-x,-y],["s",.01,1],["t",x,y]]});var endState={transform:[["t",-x,-y],["s",100,1],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function zoomIn(shape,animateCfg,coord){var x,y,id=shape._id,index=shape.get("index");if(coord.isPolar&&"point"!==shape.name)x=coord.getCenter().x,y=coord.getCenter().y;else{var box=shape.getBBox();x=(box.minX+box.maxX)/2,y=(box.minY+box.maxY)/2}shape.apply([x,y,1]),shape.attr({transform:[["t",-x,-y],["s",.01,.01],["t",x,y]]});var endState={transform:[["t",-x,-y],["s",100,100],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function pathIn(shape,animateCfg){if("path"===shape.get("type")){var id=shape._id,index=shape.get("index"),path=PathUtil.pathToAbsolute(shape.attr("path"));shape.attr("path",[path[0]]);var endState={path:path},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}}function clipIn(shape,animateCfg,coord,startAngle,endAngle){var endState,clip=function(coord){var startAngle,endAngle,center,radius,clip,start=coord.start,end=coord.end,width=coord.getWidth(),height=coord.getHeight();return coord.isPolar?(radius=coord.getRadius(),center=coord.getCenter(),endAngle=coord.endAngle,(clip=new G.Fan({attrs:{x:center.x,y:center.y,rs:0,re:radius+200,startAngle:startAngle=coord.startAngle,endAngle:startAngle}})).endState={endAngle:endAngle}):(clip=new G.Rect({attrs:{x:start.x-200,y:end.y-200,width:coord.isTransposed?width+400:0,height:coord.isTransposed?0:height+400}})).endState=coord.isTransposed?{height:height+400}:{width:width+400},clip.isClip=!0,clip}(coord),canvas=shape.get("canvas"),id=shape._id,index=shape.get("index");startAngle?(clip.attr("startAngle",startAngle),clip.attr("endAngle",startAngle),endState={endAngle:endAngle}):endState=clip.endState,clip.set("canvas",canvas),shape.attr("clip",clip),shape.setSilent("animating",!0);var animateParam=getAnimateParam(animateCfg,index,id);clip.animate(endState,animateParam.duration,animateParam.easing,function(){shape&&!shape.get("destroyed")&&(shape.attr("clip",null),shape.setSilent("cacheShape",null),shape.setSilent("animating",!1),clip.remove())},animateParam.delay)}function fadeIn(shape,animateCfg){var id=shape._id,index=shape.get("index"),fillOpacity=Util.isNil(shape.attr("fillOpacity"))?1:shape.attr("fillOpacity"),strokeOpacity=Util.isNil(shape.attr("strokeOpacity"))?1:shape.attr("strokeOpacity");shape.attr("fillOpacity",0),shape.attr("strokeOpacity",0);var endState={fillOpacity:fillOpacity,strokeOpacity:strokeOpacity},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function fanIn(shape,animateCfg,coord){var angle=function(shape,coord){var endAngle,startAngle,box=function(points){if(Util.isEmpty(points))return null;var minX=points[0].x,maxX=points[0].x,minY=points[0].y,maxY=points[0].y;return Util.each(points,function(point){minX=minX>point.x?point.x:minX,maxX=maxX<point.x?point.x:maxX,minY=minY>point.y?point.y:minY,maxY=maxY<point.y?point.y:maxY}),{minX:minX,maxX:maxX,minY:minY,maxY:maxY,centerX:(minX+maxX)/2,centerY:(minY+maxY)/2}}(shape.points||shape.get("origin").points),coordStartAngle=coord.startAngle,diffAngle=coord.endAngle-coordStartAngle;return coord.isTransposed?(endAngle=box.maxY*diffAngle,startAngle=box.minY*diffAngle):(endAngle=box.maxX*diffAngle,startAngle=box.minX*diffAngle),{startAngle:startAngle+=coordStartAngle,endAngle:endAngle+=coordStartAngle}}(shape,coord);clipIn(shape,animateCfg,coord,angle.startAngle,angle.endAngle)}module.exports={enter:{clipIn:clipIn,zoomIn:zoomIn,pathIn:pathIn,scaleInY:scaleInY,scaleInX:scaleInX,fanIn:fanIn,fadeIn:fadeIn},leave:{lineWidthOut:function(shape,animateCfg){var id=shape._id,animateParam=getAnimateParam(animateCfg,shape.get("index"),id);shape.animate({lineWidth:0,opacity:0},animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)},zoomOut:function(shape,animateCfg,coord){var x,y,id=shape._id,index=shape.get("index");if(coord.isPolar&&"point"!==shape.name)x=coord.getCenter().x,y=coord.getCenter().y;else{var box=shape.getBBox();x=(box.minX+box.maxX)/2,y=(box.minY+box.maxY)/2}shape.apply([x,y,1]);var endState={transform:[["t",-x,-y],["s",.01,.01],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)},pathOut:function(shape,animateCfg){if("path"===shape.get("type")){var id=shape._id,index=shape.get("index"),endState={path:[PathUtil.pathToAbsolute(shape.attr("path"))[0]]},animateParam=getAnimateParam(animateCfg,index,id);shape.animate(endState,animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)}},fadeOut:function(shape,animateCfg){var id=shape._id,animateParam=getAnimateParam(animateCfg,shape.get("index"),id);shape.animate({fillOpacity:0,strokeOpacity:0},animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)}},appear:{clipIn:clipIn,zoomIn:zoomIn,pathIn:pathIn,scaleInY:scaleInY,scaleInX:scaleInX,fanIn:fanIn,fadeIn:fadeIn},update:{fadeIn:fadeIn,fanIn:fanIn}}},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Base=__webpack_require__(148),Geom=__webpack_require__(20),Util=__webpack_require__(0),Controller=__webpack_require__(165),Global=__webpack_require__(7),Theme=__webpack_require__(151),Animate=__webpack_require__(355);function isBetween(value,start,end){var tmp=(value-start)/(end-start);return tmp>=0&&tmp<=1}function isPointInCoord(coord,point){var result=!1;if(coord)if("theta"===coord.type){var start=coord.start,end=coord.end;result=isBetween(point.x,start.x,end.x)&&isBetween(point.y,start.y,end.y)}else{var invertPoint=coord.invert(point);result=invertPoint.x>=0&&invertPoint.y>=0&&invertPoint.x<=1&&invertPoint.y<=1}return result}var ViewGeoms={};Util.each(Geom,function(geomConstructor,className){var methodName=Util.lowerFirst(className);ViewGeoms[methodName]=function(cfg){var geom=new geomConstructor(cfg);return this.addGeom(geom),geom}}),module.exports=function(_Base){var subClass,superClass;superClass=_Base,(subClass=View).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=View.prototype;function View(cfg){var _this,self=_assertThisInitialized(_assertThisInitialized(_this=_Base.call(this,cfg)||this));return self._setTheme(),Util.each(Geom,function(GeomConstructor,className){var methodName=Util.lowerFirst(className);self[methodName]=function(cfg){void 0===cfg&&(cfg={}),cfg.viewTheme=self.get("viewTheme");var geom=new GeomConstructor(cfg);return self.addGeom(geom),geom}}),self.init(),_this}return _proto.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:Global.animate,visible:!0}},_proto._setTheme=function(){var theme=this.get("theme"),viewTheme={},newTheme={};Util.isObject(theme)?newTheme=theme:-1!==Util.indexOf(Object.keys(Theme),theme)&&(newTheme=Theme[theme]),Util.deepMix(viewTheme,Global,newTheme),this.set("viewTheme",viewTheme)},_proto.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},_proto._initOptions=function(){var self=this,options=Util.mix({},self.get("options"));options.scales||(options.scales={}),options.coord||(options.coord={}),!1===options.animate&&this.set("animate",!1),(!1===options.tooltip||Util.isNull(options.tooltip))&&this.set("tooltipEnable",!1),options.geoms&&options.geoms.length&&Util.each(options.geoms,function(geomOption){self._createGeom(geomOption)});var scaleController=self.get("scaleController");scaleController&&(scaleController.defs=options.scales);var coordController=self.get("coordController");coordController&&coordController.reset(options.coord),this.set("options",options)},_proto._createGeom=function(cfg){var geom,type=cfg.type;this[type]&&(geom=this[type](),Util.each(cfg,function(v,k){var _cfg;geom[k]&&(Util.isObject(v)&&v.field?"label"===v?geom[k](v.field,v.callback,v.cfg):(Util.each(v,function(value,key){"field"!==key&&(_cfg=value)}),geom[k](v.field,_cfg)):geom[k](v))}))},_proto._initControllers=function(){var options=this.get("options"),viewTheme=this.get("viewTheme"),canvas=this.get("canvas"),scaleController=new Controller.Scale({viewTheme:viewTheme,defs:options.scales}),coordController=new Controller.Coord(options.coord);this.set("scaleController",scaleController),this.set("coordController",coordController);var axisController=new Controller.Axis({canvas:canvas,viewTheme:viewTheme});this.set("axisController",axisController);var guideController=new Controller.Guide({viewTheme:viewTheme,options:options.guides||[]});this.set("guideController",guideController)},_proto._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},_proto._initGeoms=function(){for(var geoms=this.get("geoms"),filteredData=this.get("filteredData"),coord=this.get("coord"),viewId=this.get("_id"),i=0;i<geoms.length;i++){var geom=geoms[i];geom.set("data",filteredData),geom.set("coord",coord),geom.set("_id",viewId+"-geom"+i),geom.set("keyFields",this.get("keyFields")),geom.init()}},_proto._clearGeoms=function(){for(var geoms=this.get("geoms"),i=0;i<geoms.length;i++)geoms[i].clear()},_proto._removeGeoms=function(){for(var geoms=this.get("geoms");geoms.length>0;)geoms.shift().destroy()},_proto._drawGeoms=function(){this.emit("beforedrawgeoms");for(var geoms=this.get("geoms"),coord=this.get("coord"),i=0;i<geoms.length;i++){var geom=geoms[i];geom.setCoord(coord),geom.paint()}this.emit("afterdrawgeoms")},_proto.isShapeInView=function(shape){var id=this.get("_id"),shapeId=shape._id;if(shapeId)return shapeId.split("-")[0]===id;for(var parent=shape;parent;){if(parent.get("viewId")===id)return!0;parent=parent.get("parent")}return!1},_proto.getViewRegion=function(){var start,end,parent=this.get("parent");if(parent){var region=parent.getViewRegion(),viewRegion=this._getViewRegion(region.start,region.end);start=viewRegion.start,end=viewRegion.end}else start=this.get("start"),end=this.get("end");return{start:start,end:end}},_proto._getViewRegion=function(plotStart,plotEnd){var start=this.get("start"),end=this.get("end"),startX=start.x,startY=1-end.y,endX=end.x,endY=1-start.y,padding=this.get("padding"),allPadding=Util.toAllPadding(padding);return{start:{x:startX*(plotEnd.x-plotStart.x)+plotStart.x+allPadding[3],y:startY*(plotEnd.y-plotStart.y)+plotStart.y-allPadding[2]},end:{x:endX*(plotEnd.x-plotStart.x)+plotStart.x-allPadding[1],y:endY*(plotEnd.y-plotStart.y)+plotStart.y+allPadding[0]}}},_proto._createCoord=function(){var coordController=this.get("coordController"),region=this.getViewRegion(),coord=coordController.createCoord(region.start,region.end);this.set("coord",coord)},_proto._renderAxes=function(){var axesOptions=this.get("options").axes;if(!1!==axesOptions){var axisController=this.get("axisController");axisController.container=this.get("backPlot"),axisController.coord=this.get("coord"),axisController.options=axesOptions||{};var xScale=this.getXScale(),yScales=this.getYScales(),viewId=this.get("_id");axisController.createAxis(xScale,yScales,viewId)}},_proto._renderGuides=function(){var guideController=this.get("guideController");if(!Util.isEmpty(guideController.options)){var coord=this.get("coord");guideController.view=this,guideController.backContainer=this.get("backPlot"),guideController.frontContainer=this.get("frontPlot"),guideController.xScales=this._getScales("x"),guideController.yScales=this._getScales("y"),guideController.render(coord)}},_proto._bindEvents=function(){var eventController=new Controller.Event({view:this,canvas:this.get("canvas")});eventController.bindEvents(),this.set("eventController",eventController)},_proto._clearEvents=function(){var eventController=this.get("eventController");eventController&&eventController.clearEvents()},_proto._getScales=function(dimType){for(var geoms=this.get("geoms"),result={},i=0;i<geoms.length;i++){var geom=geoms[i],scale="x"===dimType?geom.getXScale():geom.getYScale();scale&&!result[scale.field]&&(result[scale.field]=scale)}return result},_proto._adjustScale=function(){this._setCatScalesRange();for(var geoms=this.get("geoms"),colDefs=this.get("scaleController").defs,i=0;i<geoms.length;i++){var geom=geoms[i];if("interval"===geom.get("type")){var yScale=geom.getYScale(),field=yScale.field,max=yScale.max;colDefs[field]&&colDefs[field].min||"time"===yScale.type||(yScale.min>0?yScale.change({min:0}):max<=0&&yScale.change({max:0}))}}},_proto._setCatScalesRange=function(){var coord=this.get("coord"),viewTheme=this.get("viewTheme"),xScale=this.getXScale(),yScales=this.getYScales(),scales=[];xScale&&scales.push(xScale),scales=scales.concat(yScales);var inFullCircle=coord.isPolar&&function(coord){var startAngle=coord.startAngle,endAngle=coord.endAngle;return!(!Util.isNil(startAngle)&&!Util.isNil(endAngle)&&endAngle-startAngle<2*Math.PI)}(coord),colDefs=this.get("scaleController").defs;Util.each(scales,function(scale){if((scale.isCategory||scale.isIdentity)&&scale.values&&(!colDefs[scale.field]||!colDefs[scale.field].range)){var range,count=scale.values.length;if(1===count)range=[.5,1];else{var offset=0;range=inFullCircle?coord.isTransposed?[(offset=1/count*viewTheme.widthRatio.multiplePie)/2,1-offset/2]:[0,1-1/count]:[offset=1/count*1/2,1-offset]}scale.range=range}})},_proto.getXScale=function(){var geoms=this.get("geoms"),xScale=null;return Util.isEmpty(geoms)||(xScale=geoms[0].getXScale()),xScale},_proto.getYScales=function(){for(var geoms=this.get("geoms"),rst=[],i=0;i<geoms.length;i++){var yScale=geoms[i].getYScale();yScale&&-1===Util.indexOf(rst,yScale)&&rst.push(yScale)}return rst},_proto.getXY=function(item){var x,y,coord=this.get("coord"),xScales=this._getScales("x"),yScales=this._getScales("y");for(var field in item)xScales[field]&&(x=xScales[field].scale(item[field])),yScales[field]&&(y=yScales[field].scale(item[field]));return Util.isNil(x)||Util.isNil(y)?null:coord.convert({x:x,y:y})},_proto.getSnapRecords=function(point){var geoms=this.get("geoms"),rst=[];return Util.each(geoms,function(geom){var record,dataArray=geom.get("dataArray");Util.each(dataArray,function(data){(record=geom.findPoint(point,data))&&rst.push(record)})}),rst},_proto.addGeom=function(geom){this.get("geoms").push(geom),geom.set("view",this);var container=this.get("viewContainer");geom.set("container",container),geom.set("animate",this.get("animate")),geom.bindEvents()},_proto.removeGeom=function(geom){var geoms=this.get("geoms");Util.Array.remove(geoms,geom),geom.destroy()},_proto.createScale=function(field,data){var scales=this.get("scales"),parent=this.get("parent"),scale=scales[field];if(!data){var filteredData=this.get("filteredData"),legendFields=this._getFieldsForLegend();data=filteredData.length&&-1===legendFields.indexOf(field)?filteredData:this.get("data")}var scaleController=this.get("scaleController");if(scale){if(scale.sync){var newScale=scaleController.createScale(field,data);this._syncScale(scale,newScale)}}else{if((scale=scaleController.createScale(field,data)).sync&&parent){var parentScale=parent.createScale(field,data);scale=this._getSyncScale(parentScale,scale)}scales[field]=scale}return scale},_proto._getFieldsForLegend=function(){var fields=[],geoms=this.get("geoms");return Util.each(geoms,function(geom){var geomFields=geom.getFieldsForLegend();fields=fields.concat(geomFields)}),Util.uniq(fields)},_proto._getSyncScale=function(parentScale,scale){return parentScale.type!==scale.type?scale:(this._syncScale(parentScale,scale),parentScale)},_proto._syncScale=function(distScale,sourceScale){var mergeValues=Util.union(distScale.values,sourceScale.values);if(sourceScale.isLinear){var max=Math.max(distScale.max,sourceScale.max),min=Math.min(distScale.min,sourceScale.min);distScale.max===max&&distScale.min===min||distScale.change({min:min,max:max,values:mergeValues})}mergeValues.length!==distScale.values.length&&distScale.change({values:mergeValues})},_proto.getFilteredValues=function(field){var values=this.get("scales")[field].values,filters=this._getFilters();return filters&&filters[field]?values.filter(filters[field]):values.slice(0)},_proto.getFilteredOutValues=function(field){var values=this.get("scales")[field].values,filters=this._getFilters();return filters&&filters[field]?values.filter(function(v){return!filters[field](v)}):[]},_proto.filter=function(field,condition){var options=this.get("options");options.filters||(options.filters={}),options.filters[field]=condition,this.get("scaleController").filters=options.filters},_proto._getFilters=function(){return this.get("options").filters},_proto.execFilter=function(data){var filters=this._getFilters();return filters&&(data=data.filter(function(obj){var rst=!0;return Util.each(filters,function(fn,k){if(fn&&!(rst=fn(obj[k],obj)))return!1}),rst})),data},_proto.axis=function(field,cfg){var options=this.get("options");return!1===field?options.axes=!1:(options.axes||(options.axes={}),options.axes[field]=cfg),this},_proto.guide=function(){return this.get("guideController")},_proto._getKeyFields=function(scaleDefs){var keyFields=[];Util.each(scaleDefs,function(def,field){def.key&&keyFields.push(field)}),this.set("keyFields",keyFields)},_proto.scale=function(field,cfg){var scaleDefs=this.get("options").scales;return Util.isObject(field)?Util.mix(scaleDefs,field):scaleDefs[field]=cfg,this._getKeyFields(scaleDefs),this},_proto.tooltip=function(visible){return this.set("tooltipEnable",visible),this},_proto.animate=function(enable){return this.get("options").animate=enable,this.set("animate",enable),this},_proto.changeOptions=function(options){return this.set("options",options),this._initOptions(options),this},_proto.getViewsByPoint=function(point){var rst=[],views=this.get("views");return isPointInCoord(this.get("coord"),point)&&rst.push(this),Util.each(views,function(view){view.get("visible")&&isPointInCoord(view.get("coord"),point)&&rst.push(view)}),rst},_proto.eachShape=function(fn){var self=this,views=self.get("views"),canvas=self.get("canvas");Util.each(views,function(view){view.eachShape(fn)});var geoms=this.get("geoms");return Util.each(geoms,function(geom){var shapes=geom.getShapes();Util.each(shapes,function(shape){var origin=shape.get("origin");if(Util.isArray(origin)){var arr=origin.map(function(subOrigin){return subOrigin._origin});fn(arr,shape,geom,self)}else fn(origin._origin,shape,geom,self)})}),canvas.draw(),this},_proto.filterShape=function(fn){return this.eachShape(function(record,shape,geom,view){fn(record,shape,geom,view)?shape.show():shape.hide()}),this},_proto.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},_proto.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},_proto.coord=function(type,cfg){var coordController=this.get("coordController");return coordController.reset({type:type,cfg:cfg}),coordController},_proto.resetCoord=function(){this._createCoord()},_proto.source=function(data,scales){return this._initData(data),scales&&this.scale(scales),this.emit("setdata"),this},_proto.changeData=function(data){return this.emit("beforechangedata"),this._initData(data),this.emit("afterchangedata"),this.repaint(),this},_proto._initData=function(data){var dataView=this.get("dataView");dataView&&(dataView.off("change",Util.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),data&&data.isDataView&&(data.on("change",Util.wrapBehavior(this,"_onViewChange")),this.set("dataView",data),data=data.rows),this.set("data",data)},_proto._onViewChange=function(){this.emit("beforechangedata");var dataView=this.get("dataView");this.set("data",dataView.rows),this.emit("afterchangedata"),this.repaint()},_proto.beforeRender=function(){var views=this.get("views");Util.each(views,function(view){view.beforeRender()}),this.initView()},_proto.drawComponents=function(){var views=this.get("views");Util.each(views,function(view){view.drawComponents()}),this._renderAxes(),this._renderGuides()},_proto.drawCanvas=function(stopDraw){if(!stopDraw){var views=this.get("views");this.get("backPlot").sort();var canvas=this.get("canvas");if(this.get("animate")){var isUpdate=this.get("isUpdate");Util.each(views,function(view){Animate.execAnimation(view,isUpdate)}),Animate.execAnimation(this,isUpdate)}else canvas.draw()}},_proto.render=function(stopDraw){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(stopDraw),this.emit("afterrender"),this.set("rendered",!0),this},_proto.initView=function(){var data=this.get("data")||[],filteredData=this.execFilter(data);this.set("filteredData",filteredData),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},_proto.paint=function(){var views=this.get("views");Util.each(views,function(view){view.paint()});var data=this.get("data");Util.isEmpty(data)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},_proto.changeVisible=function(visible,stopDraw){var geoms=this.get("geoms");Util.each(geoms,function(geom){geom.changeVisible(visible,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(visible),this.get("guideController")&&this.get("guideController").changeVisible(visible),stopDraw||this.get("canvas").draw()},_proto.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},_proto.destroy=function(){this._clearEvents();var dataView=this.get("dataView");dataView&&dataView.off("change",Util.getWrapBehavior(this,"_onViewChange")),this.clear(),_Base.prototype.destroy.call(this)},View}(Base)},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isArray=__webpack_require__(4),each=__webpack_require__(2),Base=__webpack_require__(29);module.exports=function(_Base){var subClass,superClass;function Position(cfg){var _this;return(_this=_Base.call(this,cfg)||this).names=["x","y"],_this.type="position",_this}return superClass=_Base,(subClass=Position).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,Position.prototype.mapping=function(x,y){var rstX,rstY,obj,scales=this.scales,coord=this.coord,scaleX=scales[0],scaleY=scales[1];if(isNil(x)||isNil(y))return[];if(isArray(y)&&isArray(x)){rstX=[],rstY=[];for(var i=0,j=0,xLen=x.length,yLen=y.length;i<xLen&&j<yLen;i++,j++)obj=coord.convertPoint({x:scaleX.scale(x[i]),y:scaleY.scale(y[j])}),rstX.push(obj.x),rstY.push(obj.y)}else if(isArray(y))x=scaleX.scale(x),rstY=[],each(y,function(yVal){yVal=scaleY.scale(yVal),obj=coord.convertPoint({x:x,y:yVal}),rstX&&rstX!==obj.x?(isArray(rstX)||(rstX=[rstX]),rstX.push(obj.x)):rstX=obj.x,rstY.push(obj.y)});else if(isArray(x))y=scaleY.scale(y),rstX=[],each(x,function(xVal){xVal=scaleX.scale(xVal),obj=coord.convertPoint({x:xVal,y:y}),rstY&&rstY!==obj.y?(isArray(rstY)||(rstY=[rstY]),rstY.push(obj.y)):rstY=obj.y,rstX.push(obj.x)});else{x=scaleX.scale(x),y=scaleY.scale(y);var point=coord.convertPoint({x:x,y:y});rstX=point.x,rstY=point.y}return[rstX,rstY]},Position}(Base)},function(module,exports,__webpack_require__){var isString=__webpack_require__(10),ColorUtil=__webpack_require__(149),Base=__webpack_require__(29);module.exports=function(_Base){var subClass,superClass;function Color(cfg){var _this;return(_this=_Base.call(this,cfg)||this).names=["color"],_this.type="color",_this.gradient=null,isString(_this.values)&&(_this.linear=!0),_this}return superClass=_Base,(subClass=Color).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,Color.prototype.getLinearValue=function(percent){var gradient=this.gradient;return gradient||(gradient=ColorUtil.gradient(this.values),this.gradient=gradient),gradient(percent)},Color}(Base)},function(module,exports,__webpack_require__){var Base=__webpack_require__(29);module.exports=function(_Base){var subClass,superClass;function Shape(cfg){var _this;return(_this=_Base.call(this,cfg)||this).names=["shape"],_this.type="shape",_this.gradient=null,_this}return superClass=_Base,(subClass=Shape).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,Shape.prototype.getLinearValue=function(percent){var values=this.values;return values[Math.round((values.length-1)*percent)]},Shape}(Base)},function(module,exports,__webpack_require__){var Base=__webpack_require__(29);module.exports=function(_Base){var subClass,superClass;function Size(cfg){var _this;return(_this=_Base.call(this,cfg)||this).names=["size"],_this.type="size",_this.gradient=null,_this}return superClass=_Base,(subClass=Size).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,Size}(Base)},function(module,exports,__webpack_require__){var Base=__webpack_require__(29);module.exports=function(_Base){var subClass,superClass;function Opacity(cfg){var _this;return(_this=_Base.call(this,cfg)||this).names=["opacity"],_this.type="opacity",_this.gradient=null,_this}return superClass=_Base,(subClass=Opacity).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,Opacity}(Base)},function(module,exports,__webpack_require__){var mix=__webpack_require__(8),Adjust=__webpack_require__(30),Dodge=__webpack_require__(298),Stack=__webpack_require__(299),AdjustMixin=__webpack_require__(150),DodgeMixin=__webpack_require__(300),StackMixin=__webpack_require__(301);mix(Adjust.prototype,AdjustMixin),mix(Dodge.prototype,AdjustMixin,DodgeMixin),mix(Stack.prototype,StackMixin),Adjust.Jitter=__webpack_require__(302),Adjust.Symmetric=__webpack_require__(303),Adjust.Dodge=Dodge,Adjust.Stack=Stack,module.exports=Adjust},function(module,exports,__webpack_require__){var Adjust=__webpack_require__(30),each=__webpack_require__(2),Dodge=function(_Adjust){var subClass,superClass;function Dodge(){return _Adjust.apply(this,arguments)||this}superClass=_Adjust,(subClass=Dodge).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Dodge.prototype;return _proto._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},_proto.getDodgeOffset=function(range,index,count){var pre=range.pre,next=range.next,tickLength=next-pre,width=tickLength*this.dodgeRatio/count,margin=this.marginRatio*width;return(pre+next)/2+(.5*(tickLength-count*width-(count-1)*margin)+((index+1)*width+index*margin)-.5*width-.5*tickLength)},_proto.processAdjust=function(dataArray){var self=this,count=dataArray.length,xField=self.xField;each(dataArray,function(data,index){for(var i=0,len=data.length;i<len;i++){var obj=data[i],value=obj[xField],dodgeValue=self.getDodgeOffset({pre:value-.5,next:value+.5},index,count);obj[xField]=dodgeValue}})},Dodge}(Adjust);Adjust.Dodge=Dodge,module.exports=Dodge},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isNil=__webpack_require__(5),Adjust=__webpack_require__(30),Stack=function(_Adjust){var subClass,superClass;function Stack(){return _Adjust.apply(this,arguments)||this}superClass=_Adjust,(subClass=Stack).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Stack.prototype;return _proto._initDefaultCfg=function(){this.xField=null,this.yField=null},_proto.processAdjust=function(dataArray){this.processStack(dataArray)},_proto.processStack=function(dataArray){var xField=this.xField,yField=this.yField,count=dataArray.length,stackCache={positive:{},negative:{}};this.reverseOrder&&(dataArray=dataArray.slice(0).reverse());for(var i=0;i<count;i++)for(var data=dataArray[i],j=0,len=data.length;j<len;j++){var item=data[j],y=item[yField],xkey=(item[xField]||0).toString();if(y=isArray(y)?y[1]:y,!isNil(y)){var direction=y>=0?"positive":"negative";stackCache[direction][xkey]||(stackCache[direction][xkey]=0),item[yField]=[stackCache[direction][xkey],y+stackCache[direction][xkey]],stackCache[direction][xkey]+=y}}},Stack}(Adjust);Adjust.Stack=Stack,module.exports=Stack},function(module,exports,__webpack_require__){var ArrayUtil={merge:__webpack_require__(42),values:__webpack_require__(64)},group=__webpack_require__(144),each=__webpack_require__(2);module.exports={processAdjust:function(dataArray){var mergeData=ArrayUtil.merge(dataArray),dodgeDim=this.dodgeBy,adjDataArray=dataArray;dodgeDim&&(adjDataArray=group(mergeData,dodgeDim)),this.cacheMap={},this.adjDataArray=adjDataArray,this.mergeData=mergeData,this.adjustData(adjDataArray,mergeData),this.adjDataArray=null,this.mergeData=null},getDistribution:function(dim){var cacheMap=this.cacheMap,map=cacheMap[dim];return map||(map={},each(this.adjDataArray,function(data,index){var values=ArrayUtil.values(data,dim);values.length||values.push(0),each(values,function(val){map[val]||(map[val]=[]),map[val].push(index)})}),cacheMap[dim]=map),map},adjustDim:function(dim,values,data,frameCount,frameIndex){var self=this,map=self.getDistribution(dim),groupData=self.groupData(data,dim);each(groupData,function(group,key){var range;key=parseFloat(key),range=1===values.length?{pre:values[0]-1,next:values[0]+1}:self.getAdjustRange(dim,key,values),each(group,function(record){var valueArr=map[record[dim]],valIndex=valueArr.indexOf(frameIndex);record[dim]=self.getDodgeOffset(range,valIndex,valueArr.length)})})}}},function(module,exports){module.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(dataArray){var xField=this.xField,yField=this.yField||"y",height=this.height,stackY={};this.reverseOrder&&(dataArray=dataArray.slice(0).reverse());for(var i=0,len=dataArray.length;i<len;i++)for(var data=dataArray[i],j=0,dataLen=data.length;j<dataLen;j++){var item=data[j],stackHeight=2*(item.size||this.size)/height,x=item[xField];stackY[x]||(stackY[x]=stackHeight/2),item[yField]=stackY[x],stackY[x]+=stackHeight}},processAdjust:function(dataArray){this.yField?this.processStack(dataArray):this.processOneDimStack(dataArray)}}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),mix=__webpack_require__(8),ArrayUtil={merge:__webpack_require__(42)},Adjust=__webpack_require__(30),AdjustMixin=__webpack_require__(150),Jitter=function(_Adjust){var subClass,superClass;function Jitter(){return _Adjust.apply(this,arguments)||this}superClass=_Adjust,(subClass=Jitter).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Jitter.prototype;return _proto._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},_proto.processAdjust=function(dataArray){var mergeData=ArrayUtil.merge(dataArray);this.adjDataArray=dataArray,this.mergeData=mergeData,this.adjustData(dataArray,mergeData),this.adjFrames=null,this.mergeData=null},_proto.getAdjustOffset=function(pre,next){var avg=next-pre;return pre+.05*avg+.9*avg*Math.random()},_proto._adjustGroup=function(group,dim,key,values){var self=this,range=self.getAdjustRange(dim,key,values);each(group,function(record){record[dim]=self.getAdjustOffset(range.pre,range.next)})},_proto.adjustDim=function(dim,values,data){var self=this,groupData=self.groupData(data,dim);each(groupData,function(group,key){key=parseFloat(key),self._adjustGroup(group,dim,key,values)})},Jitter}(Adjust);mix(Jitter.prototype,AdjustMixin),Adjust.Jitter=Jitter,module.exports=Jitter},function(module,exports,__webpack_require__){var each=__webpack_require__(2),maxBy=__webpack_require__(132),isArray=__webpack_require__(4),ArrayUtil={merge:__webpack_require__(42)},Adjust=__webpack_require__(30),Symmetric=function(_Adjust){var subClass,superClass;function Symmetric(){return _Adjust.apply(this,arguments)||this}superClass=_Adjust,(subClass=Symmetric).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Symmetric.prototype;return _proto._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},_proto._getMax=function(dim){var maxValue=maxBy(this.mergeData,function(obj){var value=obj[dim];return isArray(value)?Math.max.apply(null,value):value})[dim];return isArray(maxValue)?Math.max.apply(null,maxValue):maxValue},_proto._getXValuesMax=function(){var yField=this.yField,xField=this.xField,cache={};return each(this.mergeData,function(obj){var xValue=obj[xField],yValue=obj[yField],max=isArray(yValue)?Math.max.apply(null,yValue):yValue;cache[xValue]=cache[xValue]||0,cache[xValue]<max&&(cache[xValue]=max)}),cache},_proto.processAdjust=function(dataArray){var mergeData=ArrayUtil.merge(dataArray);this.mergeData=mergeData,this._processSymmetric(dataArray),this.mergeData=null},_proto._processSymmetric=function(dataArray){var cache,xField=this.xField,yField=this.yField,max=this._getMax(yField),first=dataArray[0][0];first&&isArray(first[yField])&&(cache=this._getXValuesMax()),each(dataArray,function(data){each(data,function(obj){var offset,value=obj[yField];if(isArray(value)){offset=(max-cache[obj[xField]])/2;var tmp=[];each(value,function(subVal){tmp.push(offset+subVal)}),obj[yField]=tmp}else obj[yField]=[offset=(max-value)/2,value+offset]})})},Symmetric}(Adjust);Adjust.Symmetric=Symmetric,module.exports=Symmetric},function(module,exports,__webpack_require__){var _html,_tooltip,Util=__webpack_require__(0),BasicTheme=__webpack_require__(152),DarkTheme=Util.deepMix({},BasicTheme,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(_html={},_html["g2-legend"]={color:"#D9D9D9"},_html),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(_tooltip={},_tooltip["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},_tooltip),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});module.exports=DarkTheme},function(module,exports,__webpack_require__){var GeomLabels=__webpack_require__(65),PolarLabels=__webpack_require__(164),PieLabels=__webpack_require__(335),IntervalLabels=__webpack_require__(336);module.exports={getLabelsClass:function(coordType,type){var rst=GeomLabels;return"polar"===coordType?rst=PolarLabels:"theta"===coordType?rst=PieLabels:"interval"!==type&&"polygon"!==type||(rst=IntervalLabels),rst}}},function(module,exports,__webpack_require__){var Axis=__webpack_require__(31);Axis.Base=Axis,Axis.Circle=__webpack_require__(310),Axis.Grid=__webpack_require__(153),Axis.Helix=__webpack_require__(311),Axis.Line=__webpack_require__(312),Axis.Polyline=__webpack_require__(313),module.exports=Axis},function(module,exports,__webpack_require__){var Greedy=__webpack_require__(155);function adjustLabelPosition(label,x,y,index){var bbox=label.getBBox(),width=bbox.width,height=bbox.height,attrs={x:x,y:y,textAlign:"center"};switch(index){case 0:attrs.y-=height/2,attrs.textAlign="left";break;case 1:attrs.y-=height/2,attrs.textAlign="right";break;case 2:attrs.y+=height/2,attrs.textAlign="right";break;case 3:attrs.y+=height/2,attrs.textAlign="left";break;case 5:attrs.y-=height/2;break;case 6:attrs.y+=height/2;break;case 7:attrs.x+=width/2,attrs.textAlign="left";break;case 8:attrs.x-=width/2,attrs.textAlign="right"}return label.attr(attrs),label.getBBox()}module.exports=function(labels){for(var bbox,label,x,y,canFill,greedy=new Greedy,toBeRemoved=[],i=0;i<labels.length;i++){x=(label=labels[i]).attr("x"),y=label.attr("y"),canFill=!1;for(var _i=0;_i<8;_i++)if(bbox=adjustLabelPosition(label,x,y,_i),greedy.hasGap(bbox)){greedy.fillGap(bbox),canFill=!0;break}canFill||toBeRemoved.push(label)}for(var _i2=0;_i2<toBeRemoved.length;_i2++)toBeRemoved[_i2].remove();return canFill}},function(module,exports,__webpack_require__){var Greedy=__webpack_require__(155),MAX_TIMES=20;function spiralFill(label,greedy){var dxdy,x=label.attr("x"),y=label.attr("y"),bbox=label.getBBox(),maxDelta=Math.sqrt(bbox.width*bbox.width+bbox.height*bbox.height),t=1,dx=0,dy=0,f=function(t){return[(t*=.1)*Math.cos(t),t*Math.sin(t)]};if(greedy.hasGap(bbox))return greedy.fillGap(bbox),!0;for(var canFill=!1,times=0;Math.min(Math.abs(dx),Math.abs(dy))<maxDelta&&times<MAX_TIMES;)if(dxdy=f(t+=-1),label.attr({x:x+(dx=~~dxdy[0]),y:y+(dy=~~dxdy[1])}),times++,greedy.hasGap(label.getBBox())){greedy.fillGap(bbox),canFill=!0;break}return canFill}module.exports=function(labels){for(var label,greedy=new Greedy,toBeRemoved=[],i=0;i<labels.length;i++)spiralFill(label=labels[i],greedy)||toBeRemoved.push(label);for(var _i=0;_i<toBeRemoved.length;_i++)toBeRemoved[_i].remove()}},function(module,exports){module.exports=function(labels,shapes){for(var labelBBox,shapeBBox,toBeRemoved=[],i=0;i<labels.length;i++)labelBBox=labels[i].getBBox(),shapeBBox=shapes[i].getBBox(),labelBBox.width>shapeBBox.width||labelBBox.height>shapeBBox.height?toBeRemoved.push(labels[i]):labelBBox.width*labelBBox.height>shapeBBox.width*shapeBBox.height&&toBeRemoved.push(labels[i]);for(var _i=0;_i<toBeRemoved.length;_i++)toBeRemoved[_i].remove()}},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Base=__webpack_require__(31),vec2=Util.MatrixUtil.vec2;module.exports=function(_Base){var subClass,superClass;function Circle(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Circle).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Circle.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},_proto.parseTick=function(tick,index,length){return{text:tick,value:index/length}},_proto._getCirclePoint=function(angle,radius){var center=this.get("center");return radius=radius||this.get("radius"),{x:center.x+Math.cos(angle)*radius,y:center.y+Math.sin(angle)*radius}},_proto.getTickPoint=function(value){var startAngle=this.get("startAngle"),endAngle=this.get("endAngle");return this._getCirclePoint(startAngle+(endAngle-startAngle)*value)},_proto.getSideVector=function(offset,point){var center=this.get("center"),vector=[point.x-center.x,point.y-center.y];if(!Util.isNil(offset)){var vecLen=vec2.length(vector);vec2.scale(vector,vector,offset/vecLen)}return vector},_proto.getSidePoint=function(point,offset){var vector=this.getSideVector(offset,point);return{x:point.x+vector[0],y:point.y+vector[1]}},_proto.getTickEnd=function(start,length){var tickLine=this.get("tickLine");return this.getSidePoint(start,length=length||tickLine.length)},_proto.getTextAnchor=function(vector){var align;return Util.snapEqual(vector[0],0)?align="center":vector[0]>0?align="left":vector[0]<0&&(align="right"),align},_proto.getLinePath=function(){var center=this.get("center"),x=center.x,y=center.y,rx=this.get("radius"),ry=rx,startAngle=this.get("startAngle"),endAngle=this.get("endAngle"),inner=this.get("inner"),path=[];if(Math.abs(endAngle-startAngle)===2*Math.PI)path=[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]];else{var startPoint=this._getCirclePoint(startAngle),endPoint=this._getCirclePoint(endAngle),large=Math.abs(endAngle-startAngle)>Math.PI?1:0,sweep=startAngle>endAngle?0:1;if(inner){var innerStartVector=this.getSideVector(inner*rx,startPoint),innerEndVector=this.getSideVector(inner*rx,endPoint),innerStartPoint={x:innerStartVector[0]+x,y:innerStartVector[1]+y},innerEndPoint={x:innerEndVector[0]+x,y:innerEndVector[1]+y};path=[["M",innerStartPoint.x,innerStartPoint.y],["L",startPoint.x,startPoint.y],["A",rx,ry,0,large,sweep,endPoint.x,endPoint.y],["L",innerEndPoint.x,innerEndPoint.y],["A",rx*inner,ry*inner,0,large,Math.abs(sweep-1),innerStartPoint.x,innerStartPoint.y]]}else path=[["M",x,y],["L",startPoint.x,startPoint.y],["A",rx,ry,0,large,sweep,endPoint.x,endPoint.y],["L",x,y]]}return path},_proto.addLabel=function(tick,point,index){var offset=this.get("label").offset||this.get("_labelOffset")||.001;point=this.getSidePoint(point,offset),_Base.prototype.addLabel.call(this,tick,point,index)},_proto.autoRotateLabels=function(){var ticks=this.get("ticks"),labelRenderer=this.get("labelRenderer");if(labelRenderer&&ticks.length>12){var radius=this.get("radius"),startAngle=this.get("startAngle"),totalAngle=this.get("endAngle")-startAngle,avgWidth=Math.sin(totalAngle/(ticks.length-1)/2)*radius*2,maxLength=this.getMaxLabelWidth(labelRenderer);Util.each(labelRenderer.get("group").get("children"),function(label,index){var angle=ticks[index].value*totalAngle+startAngle,mode=angle%(2*Math.PI);maxLength<avgWidth?(mode<=0&&(angle+=Math.PI),mode>Math.PI&&(angle-=Math.PI),angle-=Math.PI/2,label.attr("textAlign","center")):mode>Math.PI/2?angle-=Math.PI:mode<Math.PI/2*-1&&(angle+=Math.PI),label.rotateAtStart(angle)})}},Circle}(Base)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Base=__webpack_require__(31),PathUtil=Util.PathUtil,vec2=Util.MatrixUtil.vec2;module.exports=function(_Base){var subClass,superClass;function Helix(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Helix).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Helix.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},_proto.getLinePath=function(){var crp=this.get("crp"),axisStart=this.get("axisStart"),path=PathUtil.catmullRomToBezier(crp);return path.unshift(["M",axisStart.x,axisStart.y]),path},_proto.getTickPoint=function(value){var startAngle=this.get("startAngle"),endAngle=this.get("endAngle");return this._getHelixPoint(startAngle+(endAngle-startAngle)*value)},_proto._getHelixPoint=function(angle){var center=this.get("center"),radius=this.get("a")*angle+this.get("inner");return{x:center.x+Math.cos(angle)*radius,y:center.y+Math.sin(angle)*radius}},_proto.getSideVector=function(offset,point){var center=this.get("center"),vector=[point.x-center.x,point.y-center.y];if(offset){var vecLen=vec2.length(vector);vec2.scale(vector,vector,offset/vecLen)}return vector},_proto.getSidePoint=function(point,offset){var vector=this.getSideVector(offset,point);return{x:point.x+vector[0],y:point.y+vector[1]}},_proto.getTickEnd=function(start,length){var tickLine=this.get("tickLine");return this.getSidePoint(start,length=length||tickLine.length)},Helix}(Base)},function(module,exports,__webpack_require__){var Base=__webpack_require__(31),Util=__webpack_require__(3),vec2=Util.MatrixUtil.vec2;module.exports=function(_Base){var subClass,superClass;function Line(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Line).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Line.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},_proto._getAvgLabelLength=function(labelRenderer){var labels=labelRenderer.get("group").get("children");return labels[1].attr("x")-labels[0].attr("x")},_proto._getAvgLabelHeightSpace=function(labelRenderer){var labels=labelRenderer.get("group").get("children");return labels[1].attr("y")-labels[0].attr("y")},_proto.getSideVector=function(offset){var isVertical=this.get("isVertical"),factor=this.get("factor");if(!Util.isNumber(offset))return[0,0];var start=this.get("start"),end=this.get("end"),axisVector=this.getAxisVector(),normal=vec2.normalize([],axisVector),direction=!1;(isVertical&&start.y<end.y||!isVertical&&start.x>end.x)&&(direction=!0);var verticalVector=vec2.vertical([],normal,direction);return vec2.scale([],verticalVector,offset*factor)},_proto.getAxisVector=function(){var start=this.get("start"),end=this.get("end");return[end.x-start.x,end.y-start.y]},_proto.getLinePath=function(){var start=this.get("start"),end=this.get("end"),path=[];return path.push(["M",start.x,start.y]),path.push(["L",end.x,end.y]),path},_proto.getTickEnd=function(start,value){var offsetVector=this.getSideVector(value);return{x:start.x+offsetVector[0],y:start.y+offsetVector[1]}},_proto.getTickPoint=function(tickValue){var start=this.get("start"),end=this.get("end");return{x:start.x+(end.x-start.x)*tickValue,y:start.y+(end.y-start.y)*tickValue}},_proto.renderTitle=function(){var title=this.get("title"),offsetPoint=this.getTickPoint(.5),titleOffset=title.offset;if(Util.isNil(titleOffset)){titleOffset=20;var labelsGroup=this.get("labelsGroup");labelsGroup&&(titleOffset+=this.getMaxLabelWidth(labelsGroup)+(this.get("label").offset||this.get("_labelOffset")))}var textStyle=title.textStyle,cfg=Util.mix({},textStyle);if(title.text){var vector=this.getAxisVector();if(title.autoRotate&&Util.isNil(textStyle.rotate)){var angle=0;Util.snapEqual(vector[1],0)||(angle=vec2.angleTo([vector[0],vector[1]],[1,0],!0)),cfg.rotate=angle*(180/Math.PI)}else Util.isNil(textStyle.rotate)||(cfg.rotate=textStyle.rotate/180*Math.PI);var point,sideVector=this.getSideVector(titleOffset),position=title.position;point="start"===position?{x:this.get("start").x+sideVector[0],y:this.get("start").y+sideVector[1]}:"end"===position?{x:this.get("end").x+sideVector[0],y:this.get("end").y+sideVector[1]}:{x:offsetPoint.x+sideVector[0],y:offsetPoint.y+sideVector[1]},cfg.x=point.x,cfg.y=point.y,cfg.text=title.text;var titleShape=this.get("group").addShape("Text",{zIndex:2,attrs:cfg});titleShape.name="axis-title",this.get("appendInfo")&&titleShape.setSilent("appendInfo",this.get("appendInfo"))}},_proto.autoRotateLabels=function(){var labelRenderer=this.get("labelRenderer"),title=this.get("title");if(labelRenderer){var labels=labelRenderer.get("group").get("children"),offset=this.get("label").offset,titleOffset=title?title.offset:48;if(titleOffset<0)return;var angle,maxWidth,vector=this.getAxisVector();if(Util.snapEqual(vector[0],0)&&title&&title.text)(maxWidth=this.getMaxLabelWidth(labelRenderer))>titleOffset-offset-12&&(angle=-1*Math.acos((titleOffset-offset-12)/maxWidth));else if(Util.snapEqual(vector[1],0)&&labels.length>1){var avgWidth=Math.abs(this._getAvgLabelLength(labelRenderer));(maxWidth=this.getMaxLabelWidth(labelRenderer))>avgWidth&&(angle=Math.asin(1.25*(titleOffset-offset-12)/maxWidth))}if(angle){var factor=this.get("factor");Util.each(labels,function(label){label.rotateAtStart(angle),Util.snapEqual(vector[1],0)&&label.attr("textAlign",factor>0?"left":"right")})}}},_proto.autoHideLabels=function(){var labelSpace,tickStep,labelRenderer=this.get("labelRenderer");if(labelRenderer){var labels=labelRenderer.get("group").get("children"),vector=this.getAxisVector();if(labels.length<2)return;if(Util.snapEqual(vector[0],0)){var maxHeight=this.getMaxLabelHeight(labelRenderer)+8,avgHeight=Math.abs(this._getAvgLabelHeightSpace(labelRenderer));maxHeight>avgHeight&&(labelSpace=maxHeight,tickStep=avgHeight)}else if(Util.snapEqual(vector[1],0)&&labels.length>1){var maxWidth=this.getMaxLabelWidth(labelRenderer)+8,avgWidth=Math.abs(this._getAvgLabelLength(labelRenderer));maxWidth>avgWidth&&(labelSpace=maxWidth,tickStep=avgWidth)}if(labelSpace&&tickStep){var ratio=Math.ceil(labelSpace/tickStep);Util.each(labels,function(label,i){i%ratio!=0&&label.attr("text","")})}}},Line}(Base)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Base=__webpack_require__(31),PathUtil=Util.PathUtil,vec2=Util.MatrixUtil.vec2;module.exports=function(_Base){var subClass,superClass;function Polyline(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Polyline).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Polyline.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"polyline"})},_proto.getLinePath=function(){var tickPoints=this.get("tickPoints"),start=this.get("start"),end=this.get("end"),points=[];points.push(start.x),points.push(start.y),Util.each(tickPoints,function(tick){points.push(tick.x),points.push(tick.y)}),points.push(end.x),points.push(end.y);var path=PathUtil.catmullRomToBezier(points);return path.unshift(["M",start.x,start.y]),path},_proto.getTickPoint=function(value,index){return this.get("tickPoints")[index]},_proto.getTickEnd=function(start,value,index){var lineAttrs=this.get("tickLine"),offsetVector=this.getSideVector(value||lineAttrs.length,start,index);return{x:start.x+offsetVector[0],y:start.y+offsetVector[1]}},_proto.getSideVector=function(offset,point,index){var preTickPoint;if(0===index){if((preTickPoint=this.get("start")).x===point.x&&preTickPoint.y===point.y)return[0,0]}else preTickPoint=this.get("tickPoints")[index-1];var normal=vec2.normalize([],[point.x-preTickPoint.x,point.y-preTickPoint.y]),verticalVector=vec2.vertical([],normal,!1);return vec2.scale([],verticalVector,offset)},Polyline}(Base)},function(module,exports,__webpack_require__){module.exports={Guide:__webpack_require__(15),Arc:__webpack_require__(315),DataMarker:__webpack_require__(316),DataRegion:__webpack_require__(317),Html:__webpack_require__(318),Image:__webpack_require__(319),Line:__webpack_require__(320),Region:__webpack_require__(321),Text:__webpack_require__(322)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Guide=__webpack_require__(15),PI=Math.PI,atan=Math.atan;function calculateAngle(point,center){var deg,x=point.x-center.x,y=point.y-center.y;return 0===y?deg=x<0?PI/2:270*PI/180:x>=0&&y>0?deg=2*PI-atan(x/y):x<=0&&y<0?deg=PI-atan(x/y):x>0&&y<0?deg=PI+atan(-x/y):x<0&&y>0&&(deg=atan(x/-y)),deg}module.exports=function(_Guide){var subClass,superClass;function Arc(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=Arc).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Arc.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},_proto.render=function(coord,group){var path,start=this.parsePoint(coord,this.get("start")),end=this.parsePoint(coord,this.get("end")),coordCenter=coord.getCenter(),radius=Math.sqrt((start.x-coordCenter.x)*(start.x-coordCenter.x)+(start.y-coordCenter.y)*(start.y-coordCenter.y)),startAngle=calculateAngle(start,coordCenter),endAngle=calculateAngle(end,coordCenter);endAngle<startAngle&&(endAngle+=2*PI),path=Util.isNumberEqual(start.x,end.x)&&Util.isNumberEqual(start.y,end.y)&&(this.get("start")[0]!==this.get("end")[0]||this.get("start")[1]!==this.get("end")[1])?[["M",start.x,start.y],["A",radius,radius,0,1,1,2*coordCenter.x-start.x,2*coordCenter.y-start.y],["A",radius,radius,0,1,1,start.x,start.y]]:[["M",start.x,start.y],["A",radius,radius,0,(endAngle-startAngle)%(2*PI)>PI?1:0,1,end.x,end.y]];var arcShape=group.addShape("path",{zIndex:this.get("zIndex"),attrs:Util.mix({path:path},this.get("style"))});arcShape.name="guide-arc",this.get("appendInfo")&&arcShape.setSilent("appendInfo",this.get("appendInfo")),this.set("el",arcShape)},Arc}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Guide=__webpack_require__(15);module.exports=function(_Guide){var subClass,superClass;function DataMarker(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=DataMarker).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=DataMarker.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},_proto.render=function(coord,group){var point=this.parsePoint(coord,this.get("position")),markerGroup=group.addGroup();markerGroup.name="guide-data-marker";var lineShape,textShape,positions=this._getElementPosition(point),display=this.get("display");if(display.line&&(lineShape=this._drawLine(positions.line,markerGroup)),display.text&&this.get("content")&&(textShape=this._drawText(positions.text,markerGroup)),display.point&&this._drawPoint(positions.point,markerGroup),this.get("autoAdjust")){var bbox=markerGroup.getBBox(),minY=bbox.minY,maxX=bbox.maxX,maxY=bbox.maxY,start=coord.start,end=coord.end;if(textShape){bbox.minX<=start.x&&textShape.attr("textAlign","start"),maxX>=end.x&&textShape.attr("textAlign","end");var direction=this.get("direction");if("upward"===direction&&minY<=end.y||"upward"!==direction&&maxY>=start.y){var textBaseline,dir;"upward"===direction&&minY<=end.y?(textBaseline="top",dir=1):(textBaseline="bottom",dir=-1),textShape.attr("textBaseline",textBaseline);var lineLength=0;this.get("display").line&&(lineLength=this.get("lineLength"),lineShape.attr("path",[["M",point.x,point.y],["L",point.x,point.y+lineLength*dir]])),textShape.attr("y",point.y+(lineLength+2)*dir)}}}this.get("appendInfo")&&markerGroup.setSilent("appendInfo",this.get("appendInfo")),this.set("el",markerGroup)},_proto._getElementPosition=function(position){var x=position.x,y=position.y,lineLength=this.get("display").line?this.get("lineLength"):0,direction=this.get("direction");this.get("style").text.textBaseline="upward"===direction?"bottom":"top";var dir="upward"===direction?-1:1;return{point:{x:x,y:y},line:[{x:x,y:y},{x:x,y:lineLength*dir+y}],text:{x:x,y:(lineLength+2)*dir+y}}},_proto._drawLine=function(lineData,g){var lineStyle=this.get("style").line;return g.addShape("path",{attrs:Util.mix({path:[["M",lineData[0].x,lineData[0].y],["L",lineData[1].x,lineData[1].y]]},lineStyle)})},_proto._drawText=function(position,g){var textStyle=this.get("style").text;return g.addShape("text",{attrs:Util.mix({text:this.get("content")},textStyle,position)})},_proto._drawPoint=function(position,g){var pointStyle=this.get("style").point;return g.addShape("circle",{attrs:Util.mix({},pointStyle,position)})},DataMarker}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Helper=__webpack_require__(156),Guide=__webpack_require__(15);module.exports=function(_Guide){var subClass,superClass;function DataRegion(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=DataRegion).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=DataRegion.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},_proto.render=function(coord,group,data){var lineLength=this.get("lineLength")||0,regionData=this._getRegionData(coord,data);if(regionData.length){var regionBBox=this._getBBox(regionData),path=[];path.push(["M",regionData[0].x,regionBBox.yMin-lineLength]);for(var i=0,len=regionData.length;i<len;i++)path.push(["L",regionData[i].x,regionData[i].y]);path.push(["L",regionData[regionData.length-1].x,regionBBox.yMin-lineLength]);var style=this.get("style"),regionStyle=style.region,textStyle=style.text,regionGroup=group.addGroup();regionGroup.name="guide-data-region",regionGroup.addShape("path",{attrs:Util.mix({path:path},regionStyle)});var content=this.get("content");content&&regionGroup.addShape("Text",{attrs:Util.mix({x:(regionBBox.xMin+regionBBox.xMax)/2,y:regionBBox.yMin-lineLength,text:content},textStyle)}),this.get("appendInfo")&&regionGroup.setSilent("appendInfo",this.get("appendInfo")),this.set("el",regionGroup)}},_proto._getRegionData=function(coord,data){for(var startIndex,start=this.get("start"),end=this.get("end"),xField=Helper.getFirstScale(this.get("xScales")).field,yField=Helper.getFirstScale(this.get("yScales")).field,startXValue=Util.isArray(start)?start[0]:start[xField],endXValue=Util.isArray(end)?end[0]:end[xField],arr=[],i=0,len=data.length;i<len;i++){var item=data[i];if(item[xField]===startXValue&&(startIndex=i),i>=startIndex&&arr.push(this.parsePoint(coord,[item[xField],item[yField]])),item[xField]===endXValue)break}return arr},_proto._getBBox=function(data){for(var xs=[],ys=[],i=0;i<data.length;i++)xs.push(data[i].x),ys.push(data[i].y);var xRange=Util.arrayUtil.getRange(xs),yRange=Util.arrayUtil.getRange(ys);return{xMin:xRange.min,xMax:xRange.max,yMin:yRange.min,yMax:yRange.max}},DataRegion}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),DomUtil=Util.DomUtil,Guide=__webpack_require__(15);module.exports=function(_Guide){var subClass,superClass;function Html(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=Html).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Html.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},_proto.render=function(coord,container){var position=this.parsePoint(coord,this.get("position")),parentNode=container.get("canvas").get("el").parentNode,wrapperNode=DomUtil.createDom('<div class="g-guide"></div>');parentNode.appendChild(wrapperNode);var html=this.get("htmlContent")||this.get("html");Util.isFunction(html)&&(html=html(this.get("xScales"),this.get("yScales")));var htmlNode=DomUtil.createDom(html);wrapperNode.appendChild(htmlNode),DomUtil.modifyCSS(wrapperNode,{position:"absolute"}),this._setDomPosition(wrapperNode,htmlNode,position),this.set("el",wrapperNode)},_proto._setDomPosition=function(parentDom,childDom,point){var alignX=this.get("alignX"),alignY=this.get("alignY"),domWidth=DomUtil.getOuterWidth(childDom),domHeight=DomUtil.getOuterHeight(childDom),position={x:point.x,y:point.y};"middle"===alignX&&"top"===alignY?position.x-=Math.round(domWidth/2):"middle"===alignX&&"bottom"===alignY?(position.x-=Math.round(domWidth/2),position.y-=Math.round(domHeight)):"left"===alignX&&"bottom"===alignY?position.y-=Math.round(domHeight):"left"===alignX&&"middle"===alignY?position.y-=Math.round(domHeight/2):"left"===alignX&&"top"===alignY?(position.x=point.x,position.y=point.y):"right"===alignX&&"bottom"===alignY?(position.x-=Math.round(domWidth),position.y-=Math.round(domHeight)):"right"===alignX&&"middle"===alignY?(position.x-=Math.round(domWidth),position.y-=Math.round(domHeight/2)):"right"===alignX&&"top"===alignY?position.x-=Math.round(domWidth):(position.x-=Math.round(domWidth/2),position.y-=Math.round(domHeight/2));var offsetX=this.get("offsetX");offsetX&&(position.x+=offsetX);var offsetY=this.get("offsetY");offsetY&&(position.y+=offsetY),DomUtil.modifyCSS(parentDom,{top:Math.round(position.y)+"px",left:Math.round(position.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},_proto.clear=function(){var el=this.get("el");el&&el.parentNode&&el.parentNode.removeChild(el)},Html}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Guide=__webpack_require__(15);module.exports=function(_Guide){var subClass,superClass;function Image(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=Image).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Image.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},_proto.render=function(coord,group){var start=this.parsePoint(coord,this.get("start")),cfg={x:start.x,y:start.y};if(cfg.img=this.get("src"),this.get("end")){var end=this.parsePoint(coord,this.get("end"));cfg.width=end.x-start.x,cfg.height=end.y-start.y}else cfg.width=this.get("width")||32,cfg.height=this.get("height")||32;this.get("offsetX")&&(cfg.x+=this.get("offsetX")),this.get("offsetY")&&(cfg.y+=this.get("offsetY"));var imgGuide=group.addShape("Image",{zIndex:1,attrs:cfg});imgGuide.name="guide-image",this.get("appendInfo")&&imgGuide.setSilent("appendInfo",this.get("appendInfo")),this.set("el",imgGuide)},Image}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Guide=__webpack_require__(15),vec2=Util.MatrixUtil.vec2,FONT_FAMILY=__webpack_require__(14).FONT_FAMILY;module.exports=function(_Guide){var subClass,superClass;function Line(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=Line).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Line.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:FONT_FAMILY},content:null}})},_proto.render=function(coord,group){var start=this.parsePoint(coord,this.get("start")),end=this.parsePoint(coord,this.get("end")),guideLineGroup=group.addGroup({viewId:group.get("viewId")});this._drawLines(start,end,guideLineGroup);var text=this.get("text");text&&text.content&&this._drawText(start,end,guideLineGroup),this.set("el",guideLineGroup)},_proto._drawLines=function(start,end,group){var guideLine=group.addShape("Path",{attrs:Util.mix({path:[["M",start.x,start.y],["L",end.x,end.y]]},this.get("lineStyle"))});guideLine.name="guide-line",this.get("appendInfo")&&guideLine.setSilent("appendInfo",this.get("appendInfo"))},_proto._drawText=function(start,end,group){var percent,textCfg=this.get("text"),position=textCfg.position,textStyle=textCfg.style||{};((percent="start"===position?0:"center"===position?.5:Util.isString(position)&&-1!==position.indexOf("%")?parseInt(position,10)/100:Util.isNumber(position)?position:1)>1||percent<0)&&(percent=1);var cfg={x:start.x+(end.x-start.x)*percent,y:start.y+(end.y-start.y)*percent};if(textCfg.offsetX&&(cfg.x+=textCfg.offsetX),textCfg.offsetY&&(cfg.y+=textCfg.offsetY),cfg.text=textCfg.content,cfg=Util.mix({},cfg,textStyle),textCfg.autoRotate&&Util.isNil(textStyle.rotate)){var angle=vec2.angleTo([end.x-start.x,end.y-start.y],[1,0],1);cfg.rotate=angle}else Util.isNil(textStyle.rotate)||(cfg.rotate=textStyle.rotate*Math.PI/180);var shape=group.addShape("Text",{attrs:cfg});shape.name="guide-line-text",this.get("appendInfo")&&shape.setSilent("appendInfo",this.get("appendInfo"))},Line}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Guide=__webpack_require__(15);module.exports=function(_Guide){var subClass,superClass;function Region(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=Region).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Region.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},_proto.render=function(coord,group){var rectStyle=this.get("style"),path=this._getPath(coord),regionGroup=group.addShape("path",{zIndex:this.get("zIndex"),attrs:Util.mix({path:path},rectStyle)});regionGroup.name="guide-region",this.get("appendInfo")&&regionGroup.setSilent("appendInfo",this.get("appendInfo")),this.set("el",regionGroup)},_proto._getPath=function(coord){var start=this.parsePoint(coord,this.get("start")),end=this.parsePoint(coord,this.get("end"));return[["M",start.x,start.y],["L",end.x,start.y],["L",end.x,end.y],["L",start.x,end.y],["z"]]},Region}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Guide=__webpack_require__(15);module.exports=function(_Guide){var subClass,superClass;function Text(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=Text).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Text.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},_proto.render=function(coord,group){var point=this.parsePoint(coord,this.get("position")),textStyle=Util.mix({},this.get("style")),offsetX=this.get("offsetX"),offsetY=this.get("offsetY");offsetX&&(point.x+=offsetX),offsetY&&(point.y+=offsetY),textStyle.rotate&&(textStyle.rotate=textStyle.rotate*Math.PI/180);var guideText=group.addShape("Text",{zIndex:this.get("zIndex"),attrs:Util.mix({text:this.get("content")},textStyle,point)});guideText.name="guide-text",this.get("appendInfo")&&guideText.setSilent("appendInfo",this.get("appendInfo")),this.set("el",guideText)},Text}(Guide)},function(module,exports,__webpack_require__){var Label=__webpack_require__(154);module.exports=Label},function(module,exports,__webpack_require__){module.exports={Category:__webpack_require__(157),CatHtml:__webpack_require__(159),CatPageHtml:__webpack_require__(325),Color:__webpack_require__(326),Size:__webpack_require__(328),CircleSize:__webpack_require__(329)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),CatHtml=__webpack_require__(159),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY,DomUtil=Util.DomUtil;function findNodeByClass(node,className){return node.getElementsByClassName(className)[0]}module.exports=function(_CatHtml){var subClass,superClass;function CatPageHtml(){return _CatHtml.apply(this,arguments)||this}superClass=_CatHtml,(subClass=CatPageHtml).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=CatPageHtml.prototype;return _proto.getDefaultCfg=function(){var cfg=_CatHtml.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:FONT_FAMILY,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;">1</p><p class="next-pagenum" style = "display:inline-block;">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},_proto.render=function(){_CatHtml.prototype._renderHTML.call(this),this._renderFlipPage()},_proto._renderFlipPage=function(){var legendWrapper=document.getElementsByClassName("g2-legend")[0],itemListDom=findNodeByClass(legendWrapper,"g2-legend-list"),position=this.get("position"),layout=this.get("layout"),itemDisplay="right"===position||"left"===position||"vertical"===layout?"block":"inline-block";if(legendWrapper.scrollHeight>legendWrapper.offsetHeight){var slipTpl=this.get("slipTpl"),slipDom=DomUtil.createDom(slipTpl),caretUpDom=findNodeByClass(slipDom,"g2-caret-up"),caretDownDom=findNodeByClass(slipDom,"g2-caret-down");DomUtil.modifyCSS(caretUpDom,this.get("caretStyle")),DomUtil.modifyCSS(caretUpDom,{fill:"rgba(0,0,0,0.25)"}),DomUtil.modifyCSS(caretDownDom,this.get("caretStyle"));var curPageNumDom=findNodeByClass(slipDom,"cur-pagenum"),totalPageNumDom=findNodeByClass(slipDom,"next-pagenum"),pageNumStyle=this.get("pageNumStyle");DomUtil.modifyCSS(curPageNumDom,Util.mix({},pageNumStyle,{paddingLeft:"10px"})),DomUtil.modifyCSS(totalPageNumDom,Util.mix({},pageNumStyle,{opacity:.3,paddingRight:"10px"})),DomUtil.modifyCSS(slipDom,Util.mix({},this.get("slipDomStyle"),{top:legendWrapper.offsetHeight+"px"})),legendWrapper.style.overflow=this.get("legendOverflow"),legendWrapper.appendChild(slipDom);for(var li=itemListDom.childNodes,curHeight=0,pages=1,blockLi=[],i=0;i<li.length;i++)li[i].style.display=itemDisplay,(curHeight=li[i].offsetTop+li[i].offsetHeight)>=legendWrapper.offsetHeight&&(pages++,blockLi.forEach(function(bl){bl.style.display="none"}),blockLi=[]),blockLi.push(li[i]);totalPageNumDom.innerText="/"+pages,li.forEach(function(l){l.style.display=itemDisplay,(curHeight=l.offsetTop+l.offsetHeight)>legendWrapper.offsetHeight&&(l.style.display="none")}),caretUpDom.addEventListener("click",function(){if(li[0].style.display!==itemDisplay){var firstDisplayItemIdx=-1;li.forEach(function(l,i){l.style.display===itemDisplay&&(firstDisplayItemIdx=-1===firstDisplayItemIdx?i:firstDisplayItemIdx,l.style.display="none")});for(var _i=firstDisplayItemIdx-1;_i>=0&&(li[_i].style.display=itemDisplay,curHeight=li[firstDisplayItemIdx-1].offsetTop+li[firstDisplayItemIdx-1].offsetHeight,li[_i].style.display="none",curHeight<legendWrapper.offsetHeight);_i--)li[_i].style.display=itemDisplay;var currentPage=Number.parseInt(curPageNumDom.innerText,10)-1;caretUpDom.style.fill=1===currentPage?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",caretDownDom.style.fill="rgba(0,0,0,0.65)",curPageNumDom.innerText=currentPage}}),caretDownDom.addEventListener("click",function(){if(li[li.length-1].style.display!==itemDisplay){var lastDisplayItemIdx=-1;li.forEach(function(l,i){l.style.display===itemDisplay&&(lastDisplayItemIdx=i,l.style.display="none")});for(var _i2=lastDisplayItemIdx+1;_i2<li.length&&(li[_i2].style.display=itemDisplay,curHeight=li[_i2].offsetTop+li[_i2].offsetHeight,li[_i2].style.display="none",curHeight<legendWrapper.offsetHeight);_i2++)li[_i2].style.display=itemDisplay;var currentPage=Number.parseInt(curPageNumDom.innerText,10)+1;caretDownDom.style.fill=currentPage===itemDisplay?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",caretUpDom.style.fill="rgba(0,0,0,0.65)",curPageNumDom.innerText=currentPage}}),this.set("slipDom",slipDom)}},_proto.destroy=function(){_CatHtml.prototype.destroy.call(this);var slipDom=this.get("slipDom");slipDom&&slipDom.parentNode&&slipDom.parentNode.removeChild(slipDom)},CatPageHtml}(CatHtml)},function(module,exports,__webpack_require__){var ColorUtil=__webpack_require__(73).ColorUtil,Util=__webpack_require__(3),Continuous=__webpack_require__(67);module.exports=function(_Continuous){var subClass,superClass;function Color(){return _Continuous.apply(this,arguments)||this}superClass=_Continuous,(subClass=Color).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Color.prototype;return _proto.getDefaultCfg=function(){var cfg=_Continuous.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},_proto._setPercentage=function(){var items=this.get("items");if(!items[0].percentage){var min=items[0].value,max=items[items.length-1].value;Util.each(items,function(it){it.percentage=(it.value-min)/(max-min)})}},_proto._renderSliderShape=function(){this._setPercentage();var rgbColor,backgroundElement=this.get("slider").get("backgroundElement"),width=this.get("width"),height=this.get("height"),layout=this.get("layout"),items=this.get("items"),fill="";return"vertical"===layout?(fill+="l (90) ",Util.each(items,function(v){rgbColor=ColorUtil.toRGB(v.color),fill+=1-v.percentage+":"+rgbColor+" "})):(fill+="l (0) ",Util.each(items,function(v){rgbColor=ColorUtil.toRGB(v.color),fill+=v.percentage+":"+rgbColor+" "})),this._addMiddleBar(backgroundElement,"Rect",{x:0,y:0,width:width,height:height,fill:fill,strokeOpacity:0})},_proto._renderUnslidable=function(){this._setPercentage();var titleShape=this.get("titleShape"),titleGap=this.get("titleGap");titleGap=titleShape?titleShape.getBBox().height+titleGap:titleGap;var rgbColor,width=this.get("width"),height=this.get("height"),layout=this.get("layout"),items=this.get("items"),fill="",path=[],bgGroup=this.get("group").addGroup(),isize=items.length;if("vertical"===layout){fill+="l (90) ";for(var i=0;i<isize;i+=1){if(0!==i&&i!==isize-1&&(path.push(["M",0,height-items[i].percentage*height]),path.push(["L",width,height-items[i].percentage*height])),rgbColor=ColorUtil.toRGB(items[i].color),fill+=1-items[i].percentage+":"+rgbColor+" ",this.get("isSegment")&&i>0){var preRgbColor=ColorUtil.toRGB(items[i-1].color);fill+=1-items[i].percentage+":"+preRgbColor+" "}bgGroup.addShape("text",{attrs:Util.mix({},{x:width+this.get("textOffset")/2,y:height-items[i].percentage*height,text:this._formatItemValue(items[i].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{fill+="l (0) ";for(var _i=0;_i<isize;_i+=1){if(0!==_i&&_i!==isize-1&&(path.push(["M",items[_i].percentage*width,0]),path.push(["L",items[_i].percentage*width,height])),rgbColor=ColorUtil.toRGB(items[_i].color),this.get("isSegment")&&_i>0){var _preRgbColor=ColorUtil.toRGB(items[_i-1].color);fill+=items[_i].percentage+":"+_preRgbColor+" "}fill+=items[_i].percentage+":"+rgbColor+" ",bgGroup.addShape("text",{attrs:Util.mix({},{x:items[_i].percentage*width,y:height+5+this.get("textOffset"),text:this._formatItemValue(items[_i].value)+""},this.get("textStyle"))})}}bgGroup.addShape("rect",{attrs:{x:0,y:0,width:width,height:height,fill:fill,strokeOpacity:0}}),bgGroup.addShape("path",{attrs:Util.mix({path:path},this.get("lineStyle"))}),bgGroup.move(0,titleGap)},Color}(Continuous)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),DomUtil=Util.DomUtil;module.exports=function(_Group){var subClass,superClass;function Slider(){return _Group.apply(this,arguments)||this}superClass=_Group,(subClass=Slider).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Slider.prototype;return _proto.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_proto._beforeRenderUI=function(){var layout=this.get("layout"),backgroundElement=this.get("backgroundElement"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.addShape("rect",{attrs:this.get("middleAttr")}),trigerCursor="vertical"===layout?"ns-resize":"ew-resize";this.add([backgroundElement,minHandleElement,maxHandleElement]),this.set("middleHandleElement",middleHandleElement),backgroundElement.set("zIndex",0),middleHandleElement.set("zIndex",1),minHandleElement.set("zIndex",2),maxHandleElement.set("zIndex",2),middleHandleElement.attr("cursor","move"),minHandleElement.attr("cursor",trigerCursor),maxHandleElement.attr("cursor",trigerCursor),this.sort()},_proto._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_proto._transform=function(layout){var range=this.get("range"),minRatio=range[0]/100,maxRatio=range[1]/100,width=this.get("width"),height=this.get("height"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.get("middleHandleElement");minHandleElement.resetMatrix(),maxHandleElement.resetMatrix(),"horizontal"===layout?(middleHandleElement.attr({x:width*minRatio,y:0,width:(maxRatio-minRatio)*width,height:height}),minHandleElement.translate(minRatio*width,height),maxHandleElement.translate(maxRatio*width,height)):(middleHandleElement.attr({x:0,y:height*(1-maxRatio),width:width,height:(maxRatio-minRatio)*height}),minHandleElement.translate(1,(1-minRatio)*height),maxHandleElement.translate(1,(1-maxRatio)*height))},_proto._renderHorizontal=function(){this._transform("horizontal")},_proto._renderVertical=function(){this._transform("vertical")},_proto._bindUI=function(){this.on("mousedown",Util.wrapBehavior(this,"_onMouseDown"))},_proto._isElement=function(target,name){var element=this.get(name);return target===element||!!element.isGroup&&element.get("children").indexOf(target)>-1},_proto._getRange=function(diff,range){var rst=diff+range;return(rst=rst>100?100:rst)<0?0:rst},_proto._updateStatus=function(dim,ev){var totalLength=this.get("x"===dim?"width":"height");dim=Util.upperFirst(dim);var diffStashRange,range=this.get("range"),page=this.get("page"+dim),currentTarget=this.get("currentTarget"),rangeStash=this.get("rangeStash"),layout=this.get("layout"),currentPage=ev["page"+dim],diffRange=(currentPage-page)/totalLength*100*("vertical"===layout?-1:1);range[1]<=range[0]?(this._isElement(currentTarget,"minHandleElement")||this._isElement(currentTarget,"maxHandleElement"))&&(range[0]=this._getRange(diffRange,range[0]),range[1]=this._getRange(diffRange,range[0])):(this._isElement(currentTarget,"minHandleElement")&&(range[0]=this._getRange(diffRange,range[0])),this._isElement(currentTarget,"maxHandleElement")&&(range[1]=this._getRange(diffRange,range[1]))),this._isElement(currentTarget,"middleHandleElement")&&(diffStashRange=rangeStash[1]-rangeStash[0],range[0]=this._getRange(diffRange,range[0]),range[1]=range[0]+diffStashRange,range[1]>100&&(range[1]=100,range[0]=range[1]-diffStashRange)),this.emit("sliderchange",{range:range}),this.set("page"+dim,currentPage),this._renderUI(),this.get("canvas").draw()},_proto._onMouseDown=function(ev){var currentTarget=ev.currentTarget,originEvent=ev.event,range=this.get("range");originEvent.stopPropagation(),originEvent.preventDefault(),this.set("pageX",originEvent.pageX),this.set("pageY",originEvent.pageY),this.set("currentTarget",currentTarget),this.set("rangeStash",[range[0],range[1]]),this._bindCanvasEvents()},_proto._bindCanvasEvents=function(){var containerDOM=this.get("canvas").get("containerDOM");this.onMouseMoveListener=DomUtil.addEventListener(containerDOM,"mousemove",Util.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=DomUtil.addEventListener(containerDOM,"mouseup",Util.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=DomUtil.addEventListener(containerDOM,"mouseleave",Util.wrapBehavior(this,"_onCanvasMouseUp"))},_proto._onCanvasMouseMove=function(ev){if(!this._mouseOutArea(ev)){var layout=this.get("layout");this._updateStatus("horizontal"===layout?"x":"y",ev)}},_proto._onCanvasMouseUp=function(){this._removeDocumentEvents()},_proto._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},_proto._mouseOutArea=function(ev){var el_bbox=this.get("canvas").get("el").getBoundingClientRect(),parent=this.get("parent"),bbox=parent.getBBox(),left=parent.attr("matrix")[6],top=parent.attr("matrix")[7],mouseX=ev.clientX-el_bbox.x,mouseY=ev.clientY-el_bbox.y;return mouseX<left||mouseX>left+bbox.width||mouseY<top||mouseY>top+bbox.height},Slider}(Util.Group)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Continuous=__webpack_require__(67);module.exports=function(_Continuous){var subClass,superClass;function Size(){return _Continuous.apply(this,arguments)||this}superClass=_Continuous,(subClass=Size).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Size.prototype;return _proto.getDefaultCfg=function(){var cfg=_Continuous.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},_proto._renderSliderShape=function(){var backgroundElement=this.get("slider").get("backgroundElement"),layout=this.get("layout"),width=this.get("width"),height=this.get("height"),y=this.get("height")/2,frontMiddleBarStyle=this.get("frontMiddleBarStyle");return this._addMiddleBar(backgroundElement,"Polygon",Util.mix({points:"vertical"===layout?[[0,0],[width,0],[width,height],[width-4,height]]:[[0,y+height/2],[0,y+height/2-4],[width,y-height/2],[width,y+height/2]]},frontMiddleBarStyle))},_proto._renderUnslidable=function(){var layout=this.get("layout"),width=this.get("width"),height=this.get("height"),frontMiddleBarStyle=this.get("frontMiddleBarStyle"),points="vertical"===layout?[[0,0],[width,0],[width,height],[width-4,height]]:[[0,height],[0,height-4],[width,0],[width,height]];this.get("group").addGroup().addShape("Polygon",{attrs:Util.mix({points:points},frontMiddleBarStyle)});var minText=this._formatItemValue(this.get("firstItem").value),maxText=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(width+10,height-3,minText),this._addText(width+10,3,maxText)):(this._addText(0,height,minText),this._addText(width,height,maxText))},_proto._addText=function(x,y,text){var textGroup=this.get("group").addGroup(),textStyle=this.get("textStyle"),titleShape=this.get("titleShape"),titleGap=this.get("titleGap");titleShape&&(titleGap+=titleShape.getBBox().height),"vertical"===this.get("layout")?textGroup.addShape("text",{attrs:Util.mix({x:x+this.get("textOffset"),y:y,text:0===text?"0":text},textStyle)}):(y+=titleGap+this.get("textOffset")-20,titleShape||(y+=10),textGroup.addShape("text",{attrs:Util.mix({x:x,y:y,text:0===text?"0":text},textStyle)}))},Size}(Continuous)},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),Continuous=__webpack_require__(67);module.exports=function(_Continuous){var subClass,superClass;function CircleSize(){return _Continuous.apply(this,arguments)||this}superClass=_Continuous,(subClass=CircleSize).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=CircleSize.prototype;return _proto.getDefaultCfg=function(){var cfg=_Continuous.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},_proto._renderSliderShape=function(){var backgroundElement=this.get("slider").get("backgroundElement"),layout=this.get("layout"),width="vertical"===layout?2:this.get("width"),height="vertical"===layout?this.get("height"):2,y=this.get("height")/2,frontMiddleBarStyle=this.get("frontMiddleBarStyle");return this._addMiddleBar(backgroundElement,"Polygon",Util.mix({points:"vertical"===layout?[[0,0],[width,0],[width,height],[0,height]]:[[0,y+height],[0,y-height],[5+width-4,y-height],[5+width-4,y+height]]},frontMiddleBarStyle))},_proto._addHorizontalTrigger=function(type,blockAttr,textAttr,radius){var trigger=this.get("slider").get(type+"HandleElement"),y=-this.get("height")/2,button=trigger.addShape("circle",{attrs:Util.mix({x:0,y:y,r:radius},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:0,y:y+radius+10,textAlign:"center",textBaseline:"middle"})}),trigerCursor="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._addVerticalTrigger=function(type,blockAttr,textAttr,radius){var trigger=this.get("slider").get(type+"HandleElement"),button=trigger.addShape("circle",{attrs:Util.mix({x:0,y:0,r:radius},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:radius+10,y:0,textAlign:"start",textBaseline:"middle"})}),trigerCursor="vertical"===this.get("layout")?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._renderTrigger=function(){var min=this.get("firstItem"),max=this.get("lastItem"),layout=this.get("layout"),textStyle=this.get("textStyle"),triggerAttr=this.get("triggerAttr"),minBlockAttr=Util.mix({},triggerAttr),maxBlockAttr=Util.mix({},triggerAttr),minTextAttr=Util.mix({text:this._formatItemValue(min.value)+""},textStyle),maxTextAttr=Util.mix({text:this._formatItemValue(max.value)+""},textStyle);"vertical"===layout?(this._addVerticalTrigger("min",minBlockAttr,minTextAttr,5),this._addVerticalTrigger("max",maxBlockAttr,maxTextAttr,16)):(this._addHorizontalTrigger("min",minBlockAttr,minTextAttr,5),this._addHorizontalTrigger("max",maxBlockAttr,maxTextAttr,16))},_proto._bindEvents=function(){var _this=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(ev){var range=ev.range,firstItemValue=_this.get("firstItem").value,lastItemValue=_this.get("lastItem").value,minValue=firstItemValue+range[0]/100*(lastItemValue-firstItemValue),maxValue=firstItemValue+range[1]/100*(lastItemValue-firstItemValue);_this._updateElement(minValue,maxValue,5+range[0]/100*11,5+range[1]/100*11);var itemFiltered=new Event("itemfilter",ev,!0,!0);itemFiltered.range=[minValue,maxValue],_this.emit("itemfilter",itemFiltered)})},_proto._updateElement=function(min,max,minR,maxR){_Continuous.prototype._updateElement.call(this,min,max);var minTextElement=this.get("minTextElement"),maxTextElement=this.get("maxTextElement"),minCircleElement=this.get("minButtonElement"),maxCircleElement=this.get("maxButtonElement");if(minCircleElement.attr("r",minR),maxCircleElement.attr("r",maxR),"vertical"===this.get("layout"))minTextElement.attr("x",minR+10),maxTextElement.attr("x",maxR+10);else{var y=-this.get("height")/2;minTextElement.attr("y",y+minR+10),maxTextElement.attr("y",y+maxR+10)}},_proto._addCircle=function(x,y,r,text,maxWidth){var circleGroup=this.get("group").addGroup(),circleStyle=this.get("_unslidableCircleStyle"),textStyle=this.get("textStyle"),titleShape=this.get("titleShape"),titleGap=this.get("titleGap");titleShape&&(titleGap+=titleShape.getBBox().height),circleGroup.addShape("circle",{attrs:Util.mix({x:x,y:y+titleGap,r:0===r?1:r},circleStyle)}),"vertical"===this.get("layout")?circleGroup.addShape("text",{attrs:Util.mix({x:maxWidth+20+this.get("textOffset"),y:y+titleGap,text:0===text?"0":text},textStyle)}):circleGroup.addShape("text",{attrs:Util.mix({x:x,y:y+titleGap+maxWidth+13+this.get("textOffset"),text:0===text?"0":text},textStyle)})},_proto._renderUnslidable=function(){var firstItemValue=this.get("firstItem").value,lastItemValue=this.get("lastItem").value;if(firstItemValue>lastItemValue){var tmp=lastItemValue;lastItemValue=firstItemValue,firstItemValue=tmp}var minText=this._formatItemValue(firstItemValue),maxText=this._formatItemValue(lastItemValue),minRadius=firstItemValue<5?5:firstItemValue,maxRadius=lastItemValue>16?16:lastItemValue;minRadius>maxRadius&&(minRadius=5,maxRadius=16),"vertical"===this.get("layout")?(this._addCircle(maxRadius,maxRadius,minRadius,minText,2*maxRadius),this._addCircle(maxRadius,2*maxRadius+16+minRadius,maxRadius,maxText,2*maxRadius)):(this._addCircle(maxRadius,maxRadius,minRadius,minText,2*maxRadius),this._addCircle(2*maxRadius+16+minRadius,maxRadius,maxRadius,maxText,2*maxRadius))},_proto.activate=function(value){this.get("slidable")&&_Continuous.prototype.activate.call(this,value)},CircleSize}(Continuous)},function(module,exports,__webpack_require__){var Tooltip=__webpack_require__(68);Tooltip.Html=__webpack_require__(331),Tooltip.Canvas=__webpack_require__(163),Tooltip.Mini=__webpack_require__(333),module.exports=Tooltip},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Tooltip=__webpack_require__(68),Util=__webpack_require__(3),DomUtil=Util.DomUtil,TooltipTheme=__webpack_require__(332),Crosshair=__webpack_require__(160),PositionMixin=__webpack_require__(161),MarkerGroupMixin=__webpack_require__(162);function find(dom,cls){return dom.getElementsByClassName(cls)[0]}module.exports=function(_Tooltip){var subClass,superClass;superClass=_Tooltip,(subClass=HtmlTooltip).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=HtmlTooltip.prototype;function HtmlTooltip(cfg){var _this;_this=_Tooltip.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),PositionMixin),Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),MarkerGroupMixin),_this.style=function(styles,cfg){return Object.keys(styles).forEach(function(k){cfg[k]&&(styles[k]=Util.mix(styles[k],cfg[k]))}),styles}(TooltipTheme,cfg),_this._init_(),_this.get("items")&&_this.render();var crosshair=_this.get("crosshairs");if(crosshair){var plot=_this.get("rect"===crosshair.type?"backPlot":"frontPlot"),crosshairGroup=new Crosshair(Util.mix({plot:plot,plotRange:_this.get("plotRange"),canvas:_this.get("canvas")},_this.get("crosshairs")));crosshairGroup.hide(),_this.set("crosshairGroup",crosshairGroup)}return _this}return _proto.getDefaultCfg=function(){var cfg=_Tooltip.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}><span style="background-color:{color};" class=g2-tooltip-marker></span>{name}<span class=g2-tooltip-value>{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},_proto._init_=function(){var container,containerTpl=this.get("containerTpl"),outterNode=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(containerTpl)){var id=containerTpl.replace("#","");container=document.getElementById(id)}else container=DomUtil.createDom(containerTpl),DomUtil.modifyCSS(container,this.style["g2-tooltip"]),outterNode.appendChild(container),outterNode.style.position="relative";this.set("container",container)}},_proto.render=function(){if(this.clear(),this.get("htmlContent")){var outterNode=this.get("canvas").get("el").parentNode,container=this._getHtmlContent();outterNode.appendChild(container),this.set("container",container)}else this._renderTpl()},_proto._renderTpl=function(){var self=this,showTitle=self.get("showTitle"),titleContent=self.get("titleContent"),container=self.get("container"),titleDom=find(container,"g2-tooltip-title"),listDom=find(container,"g2-tooltip-list"),items=self.get("items");titleDom&&showTitle&&(DomUtil.modifyCSS(titleDom,self.style["g2-tooltip-title"]),titleDom.innerHTML=titleContent),listDom&&(DomUtil.modifyCSS(listDom,self.style["g2-tooltip-list"]),Util.each(items,function(item,index){listDom.appendChild(self._addItem(item,index))}))},_proto.clear=function(){var container=this.get("container");if(this.get("htmlContent"))container&&container.remove();else{var titleDom=find(container,"g2-tooltip-title"),listDom=find(container,"g2-tooltip-list");titleDom&&(titleDom.innerHTML=""),listDom&&(listDom.innerHTML="")}},_proto.show=function(){var container=this.get("container");if(container){container.style.visibility="visible",container.style.display="block";var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.show();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.show(),_Tooltip.prototype.show.call(this),this.get("canvas").draw()}},_proto.hide=function(){var container=this.get("container");if(container){container.style.visibility="hidden",container.style.display="none";var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.hide();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.hide(),_Tooltip.prototype.hide.call(this),this.get("canvas").draw()}},_proto.destroy=function(){var container=this.get("container"),containerTpl=this.get("containerTpl");container&&!/^\#/.test(containerTpl)&&container.parentNode.removeChild(container);var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.destroy();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.remove(),_Tooltip.prototype.destroy.call(this)},_proto._addItem=function(item,index){var itemTpl=this.get("itemTpl"),itemDiv=Util.substitute(itemTpl,Util.mix({index:index},item)),itemDOM=DomUtil.createDom(itemDiv);DomUtil.modifyCSS(itemDOM,this.style["g2-tooltip-list-item"]);var markerDom=find(itemDOM,"g2-tooltip-marker");markerDom&&DomUtil.modifyCSS(markerDom,this.style["g2-tooltip-marker"]);var valueDom=find(itemDOM,"g2-tooltip-value");return valueDom&&DomUtil.modifyCSS(valueDom,this.style["g2-tooltip-value"]),itemDOM},_proto._getHtmlContent=function(){var htmlString=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return DomUtil.createDom(htmlString)},_proto.setPosition=function(x,y,target){var position,container=this.get("container"),outterNode=this.get("canvas").get("el"),viewWidth=DomUtil.getWidth(outterNode),viewHeight=DomUtil.getHeight(outterNode),containerWidth=container.clientWidth,containerHeight=container.clientHeight,endx=x,endy=y,prePosition=this.get("prePosition")||{x:0,y:0};if(this.get("enterable"))position=[x,y-=container.clientHeight/2],prePosition&&x-prePosition.x>0?x-=container.clientWidth+1:x+=1;else if(this.get("position")){var _containerWidth=container.clientWidth,_containerHeight=container.clientHeight;x=(position=this._calcTooltipPosition(x,y,this.get("position"),_containerWidth,_containerHeight,target))[0],y=position[1]}else x=(position=this._constraintPositionInBoundary(x,y,containerWidth,containerHeight,viewWidth,viewHeight))[0],y=position[1];if(this.get("inPlot")){var plotRange=this.get("plotRange");x=(position=this._constraintPositionInPlot(x,y,containerWidth,containerHeight,plotRange,this.get("enterable")))[0],y=position[1]}var markerItems=this.get("markerItems");Util.isEmpty(markerItems)||(endx=markerItems[0].x,endy=markerItems[0].y),this.set("prePosition",position),this.get("follow")&&(container.style.left=x+"px",container.style.top=y+"px");var crosshairGroup=this.get("crosshairGroup");if(crosshairGroup){var items=this.get("items");crosshairGroup.setPosition(endx,endy,items)}_Tooltip.prototype.setPosition.call(this,x,y)},HtmlTooltip}(Tooltip)},function(module,exports,__webpack_require__){var _TooltipTheme,_require=__webpack_require__(14),TooltipTheme=((_TooltipTheme={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:_require.FONT_FAMILY,lineHeight:"20px",padding:"10px 10px 6px 10px"},_TooltipTheme["g2-tooltip-title"]={marginBottom:"4px"},_TooltipTheme["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},_TooltipTheme["g2-tooltip-list-item"]={marginBottom:"4px"},_TooltipTheme["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},_TooltipTheme["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},_TooltipTheme);module.exports=TooltipTheme},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),CanvasTooltip=__webpack_require__(163),FONT_FAMILY=__webpack_require__(14).FONT_FAMILY,DomUtil=Util.DomUtil,MatrixUtil=Util.MatrixUtil;module.exports=function(_CanvasTooltip){var subClass,superClass;function MiniTooltip(){return _CanvasTooltip.apply(this,arguments)||this}superClass=_CanvasTooltip,(subClass=MiniTooltip).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=MiniTooltip.prototype;return _proto.getDefaultCfg=function(){var cfg=_CanvasTooltip.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:FONT_FAMILY,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},_proto._init_=function(){var padding=this.get("padding"),container=this.get("frontPlot").addGroup();this.set("container",container);var board=container.addShape("rect",{attrs:Util.mix({},this.get("boardStyle"))});this.set("board",board);var triangleShape=container.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",triangleShape);var itemGroup=container.addGroup();itemGroup.move(padding.left,padding.top);var valueShape=itemGroup.addShape("text",{attrs:Util.mix({},this.get("valueStyle"))});this.set("valueShape",valueShape)},_proto.render=function(){this.clear();var board=this.get("board"),valueShape=this.get("valueShape"),padding=this.get("padding"),item=this.get("items")[0];valueShape&&valueShape.attr("text",item.value);var bbox=valueShape?valueShape.getBBox():{width:80,height:30},height=padding.top+bbox.height+padding.bottom;board.attr("width",padding.left+bbox.width+padding.right),board.attr("height",height),this._centerTriangleShape()},_proto.clear=function(){this.get("valueShape").attr("text","")},_proto.setPosition=function(x,y,target){var container=this.get("container"),plotRange=this.get("plotRange"),bbox=container.getBBox(),width=bbox.width,height=bbox.height;if(x-=width/2,!target||"point"!==target.name&&"interval"!==target.name||(y=target.getBBox().y),y-=height,this.get("inPlot"))x<plotRange.tl.x?(x=plotRange.tl.x,this._leftTriangleShape()):x+width/2>plotRange.tr.x?(x=plotRange.tr.x-width,this._rightTriangleShape()):this._centerTriangleShape(),y<plotRange.tl.y?y=plotRange.tl.y:y+height>plotRange.bl.y&&(y=plotRange.bl.y-height);else{var outterNode=this.get("canvas").get("el"),viewWidth=DomUtil.getWidth(outterNode),viewHeight=DomUtil.getHeight(outterNode);x<0?(x=0,this._leftTriangleShape()):x+width/2>viewWidth?(x=viewWidth-width,this._rightTriangleShape()):this._centerTriangleShape(),y<0?y=0:y+height>viewHeight&&(y=viewHeight-height)}var mat=MatrixUtil.transform([1,0,0,0,1,0,0,0,1],[["t",x,y]]);container.stopAnimate(),container.animate({matrix:mat},this.get("animationDuration"))},_proto._centerTriangleShape=function(){var triangle=this.get("triangleShape"),width=this.get("triangleWidth"),height=this.get("triangleHeight"),boardBBox=this.get("board").getBBox(),boardWidth=boardBBox.width,boardHeight=boardBBox.height;triangle.attr("path",[["M",0,0],["L",width,0],["L",width/2,height],["L",0,0],["Z"]]),triangle.move(boardWidth/2-width/2,boardHeight-1)},_proto._leftTriangleShape=function(){var triangle=this.get("triangleShape"),width=this.get("triangleWidth"),height=this.get("triangleHeight"),boardHeight=this.get("board").getBBox().height;triangle.attr("path",[["M",0,0],["L",width,0],["L",0,height+3],["L",0,0],["Z"]]),triangle.move(0,boardHeight-3)},_proto._rightTriangleShape=function(){var triangle=this.get("triangleShape"),width=this.get("triangleWidth"),height=this.get("triangleHeight"),boardBBox=this.get("board").getBBox(),boardWidth=boardBBox.width,boardHeight=boardBBox.height;triangle.attr("path",[["M",0,0],["L",width,0],["L",width,height+4],["L",0,0],["Z"]]),triangle.move(boardWidth-width-1,boardHeight-4)},MiniTooltip}(CanvasTooltip)},function(module,exports,__webpack_require__){var Vector2=__webpack_require__(0).MatrixUtil.vec2;module.exports={catmullRom2bezier:function(crp,z,constraint){for(var isLoop=!!z,pointList=[],i=0,l=crp.length;i<l;i+=2)pointList.push([crp[i],crp[i+1]]);for(var cp1,cp2,p,controlPointList=function(points,smooth,isLoop,constraint){var prevPoint,nextPoint,min,max,cps=[],hasConstraint=!!constraint;if(hasConstraint){min=[1/0,1/0],max=[-1/0,-1/0];for(var i=0,l=points.length;i<l;i++){var point=points[i];min=Vector2.min([],min,point),max=Vector2.max([],max,point)}min=Vector2.min([],min,constraint[0]),max=Vector2.max([],max,constraint[1])}for(var _i=0,len=points.length;_i<len;_i++){var _point=points[_i];if(isLoop)prevPoint=points[_i?_i-1:len-1],nextPoint=points[(_i+1)%len];else{if(0===_i||_i===len-1){cps.push(_point);continue}prevPoint=points[_i-1],nextPoint=points[_i+1]}var v=[];v=Vector2.sub(v,nextPoint,prevPoint),v=Vector2.scale(v,v,.4);var d0=Vector2.distance(_point,prevPoint),d1=Vector2.distance(_point,nextPoint),sum=d0+d1;0!==sum&&(d0/=sum,d1/=sum);var v1=Vector2.scale([],v,-d0),v2=Vector2.scale([],v,d1),cp0=Vector2.add([],_point,v1),cp1=Vector2.add([],_point,v2);hasConstraint&&(cp0=Vector2.max([],cp0,min),cp0=Vector2.min([],cp0,max),cp1=Vector2.max([],cp1,min),cp1=Vector2.min([],cp1,max)),cps.push(cp0),cps.push(cp1)}return isLoop&&cps.push(cps.shift()),cps}(pointList,0,isLoop,constraint),len=pointList.length,d1=[],_i2=0;_i2<len-1;_i2++)d1.push(["C",(cp1=controlPointList[2*_i2])[0],cp1[1],(cp2=controlPointList[2*_i2+1])[0],cp2[1],(p=pointList[_i2+1])[0],p[1]]);return isLoop&&d1.push(["C",(cp1=controlPointList[len])[0],cp1[1],(cp2=controlPointList[len+1])[0],cp2[1],(p=pointList[0])[0],p[1]]),d1}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),PolarLabels=__webpack_require__(164),PathUtil=__webpack_require__(22),Global=__webpack_require__(7);function getEndPoint(center,angle,r){return{x:center.x+r*Math.cos(angle),y:center.y+r*Math.sin(angle)}}module.exports=function(_PolarLabels){var subClass,superClass;function PieLabels(){return _PolarLabels.apply(this,arguments)||this}superClass=_PolarLabels,(subClass=PieLabels).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=PieLabels.prototype;return _proto.getDefaultCfg=function(){return{label:Global.thetaLabels}},_proto.getDefaultOffset=function(point){return point.offset||0},_proto.adjustItems=function(items){var offset=items[0]?items[0].offset:0;return offset>0&&(items=this._distribute(items,offset)),_PolarLabels.prototype.adjustItems.call(this,items)},_proto._distribute=function(labels,offset){var coord=this.get("coord"),radius=coord.getRadius(),lineHeight=this.get("label").labelHeight,center=coord.getCenter(),totalHeight=2*(radius+offset)+2*lineHeight,plotRange={start:coord.start,end:coord.end},geom=this.get("geom");if(geom){var view=geom.get("view");plotRange=view.getViewRegion()}var halves=[[],[]];return labels.forEach(function(label){label&&("right"===label.textAlign?halves[0].push(label):halves[1].push(label))}),halves.forEach(function(half,index){var maxLabelsCountForOneSide=parseInt(totalHeight/lineHeight,10);half.length>maxLabelsCountForOneSide&&(half.sort(function(a,b){return b["..percent"]-a["..percent"]}),half.splice(maxLabelsCountForOneSide,half.length-maxLabelsCountForOneSide)),half.sort(function(a,b){return a.y-b.y}),function(labels,lineHeight,plotRange,center,isRight){var i,overlapping=!0,start=plotRange.start,end=plotRange.end,startY=Math.min(start.y,end.y),totalHeight=Math.abs(start.y-end.y),maxY=0,minY=Number.MIN_VALUE,boxes=labels.map(function(label){return label.y>maxY&&(maxY=label.y),label.y<minY&&(minY=label.y),{size:lineHeight,targets:[label.y-startY]}});for(minY-=startY,maxY-startY>totalHeight&&(totalHeight=maxY-startY);overlapping;)for(boxes.forEach(function(box){var target=(Math.min.apply(minY,box.targets)+Math.max.apply(minY,box.targets))/2;box.pos=Math.min(Math.max(minY,target-box.size/2),totalHeight-box.size)}),overlapping=!1,i=boxes.length;i--;)if(i>0){var previousBox=boxes[i-1],box=boxes[i];previousBox.pos+previousBox.size>box.pos&&(previousBox.size+=box.size,previousBox.targets=previousBox.targets.concat(box.targets),previousBox.pos+previousBox.size>totalHeight&&(previousBox.pos=totalHeight-previousBox.size),boxes.splice(i,1),overlapping=!0)}i=0,boxes.forEach(function(b){var posInCompositeBox=startY+lineHeight/2;b.targets.forEach(function(){labels[i].y=b.pos+posInCompositeBox,posInCompositeBox+=lineHeight,i++})}),labels.forEach(function(label){var rPow2=label.r*label.r,dyPow2=Math.pow(Math.abs(label.y-center.y),2);if(rPow2<dyPow2)label.x=center.x;else{var dx=Math.sqrt(rPow2-dyPow2);label.x=isRight?center.x+dx:center.x-dx}})}(half,lineHeight,plotRange,center,index)}),halves[0].concat(halves[1])},_proto.lineToLabel=function(label){var coord=this.get("coord"),r=coord.getRadius(),distance=label.offset,angle=label.orignAngle||label.angle,center=coord.getCenter(),start=getEndPoint(center,angle,r+2.5),inner=getEndPoint(center,angle,r+distance/2);label.labelLine||(label.labelLine=this.get("label").labelLine||{}),label.labelLine.path=["M"+start.x,start.y+" Q"+inner.x,inner.y+" "+label.x,label.y].join(",")},_proto.getLabelRotate=function(angle,offset){var rotate;return offset<0&&((rotate=180*angle/Math.PI)>90&&(rotate-=180),rotate<-90&&(rotate+=180)),rotate/180*Math.PI},_proto.getLabelAlign=function(point){var align,center=this.get("coord").getCenter();return align=point.angle<=Math.PI/2&&point.x>=center.x?"left":"right",this.getDefaultOffset(point)<=0&&(align="right"===align?"left":"right"),align},_proto.getArcPoint=function(point){return point},_proto.getPointAngle=function(point){var coord=this.get("coord"),startPoint={x:Util.isArray(point.x)?point.x[0]:point.x,y:point.y[0]};this.transLabelPoint(startPoint);var angle,endPoint={x:Util.isArray(point.x)?point.x[1]:point.x,y:point.y[1]};this.transLabelPoint(endPoint);var startAngle=PathUtil.getPointAngle(coord,startPoint);if(point.points&&point.points[0].y===point.points[1].y)angle=startAngle;else{var endAngle=PathUtil.getPointAngle(coord,endPoint);startAngle>=endAngle&&(endAngle+=2*Math.PI),angle=startAngle+(endAngle-startAngle)/2}return angle},_proto.getCirclePoint=function(angle,offset){var coord=this.get("coord"),center=coord.getCenter(),r=coord.getRadius()+offset,point=getEndPoint(center,angle,r);return point.angle=angle,point.r=r,point},PieLabels}(PolarLabels)},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),GeomLabels=__webpack_require__(65);module.exports=function(_GeomLabels){var subClass,superClass;function IntervalLabels(){return _GeomLabels.apply(this,arguments)||this}return superClass=_GeomLabels,(subClass=IntervalLabels).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,IntervalLabels.prototype.setLabelPosition=function(point,originPoint,index,position){Util.isFunction(position)&&(position=position(point.text,originPoint._origin,index));var coord=this.get("coord"),transposed=coord.isTransposed,point0=coord.convertPoint(originPoint.points[0]),point1=coord.convertPoint(originPoint.points[2]),width=(point0.x-point1.x)/2*(transposed?-1:1),height=(point0.y-point1.y)/2*(transposed?-1:1);switch(position){case"right":transposed?(point.x-=width,point.y+=height,point.textAlign=point.textAlign||"center"):(point.x-=width,point.y+=height,point.textAlign=point.textAlign||"left");break;case"left":transposed?(point.x-=width,point.y-=height,point.textAlign=point.textAlign||"center"):(point.x+=width,point.y+=height,point.textAlign=point.textAlign||"right");break;case"bottom":transposed?(point.x-=2*width,point.textAlign=point.textAlign||"left"):(point.y+=2*height,point.textAlign=point.textAlign||"center");break;case"middle":transposed?point.x-=width:point.y+=height,point.textAlign=point.textAlign||"center";break;case"top":point.textAlign=transposed?point.textAlign||"left":point.textAlign||"center"}},IntervalLabels}(GeomLabels)},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),defaultColor=__webpack_require__(7).defaultColor;function getScaleName(scale){return scale.alias||scale.field}module.exports={_getIntervalSize:function(obj){var size=null,type=this.get("type"),coord=this.get("coord");if(coord.isRect&&("interval"===type||"schema"===type)){size=this.getSize(obj._origin);var dim=coord.isTransposed?"y":"x";Util.isArray(obj[dim])&&(size=size<Math.abs(obj[dim][1]-obj[dim][0])?null:size)}return size},_snapEqual:function(v1,v2,scale){return v1=scale.translate(v1),v2=scale.translate(v2),scale.isCategory?v1===v2:Util.snapEqual(v1,v2)},_getScaleValueByPoint:function(point){var result=0,coord=this.get("coord"),xScale=this.getXScale(),xValue=coord.invert(point).x;return this.isInCircle()&&xValue>(1+xScale.rangeMax())/2&&(xValue=xScale.rangeMin()),result=xScale.invert(xValue),xScale.isCategory&&(result=xScale.translate(result)),result},_getOriginByPoint:function(point){var xScale=this.getXScale(),yScale=this.getYScale(),xField=xScale.field,yField=yScale.field,invertPoint=this.get("coord").invert(point),xValue=xScale.invert(invertPoint.x),yValue=yScale.invert(invertPoint.y),result={};return result[xField]=xValue,result[yField]=yValue,result},_getScale:function(field){var scales=this.get("scales"),rst=null;return Util.each(scales,function(scale){if(scale.field===field)return rst=scale,!1}),rst},_getTipValueScale:function(){var scale,attrs=this.getAttrsForLegend();Util.each(attrs,function(attr){var tmpScale=attr.getScale(attr.type);if(tmpScale.isLinear)return scale=tmpScale,!1});var xScale=this.getXScale(),yScale=this.getYScale();return!scale&&yScale&&"..y"===yScale.field?xScale:scale||yScale||xScale},_getTipTitleScale:function(titleField){if(titleField)return this._getScale(titleField);var tmpField,fields=this.getAttr("position").getFields();return Util.each(fields,function(field){if(-1===field.indexOf(".."))return tmpField=field,!1}),this._getScale(tmpField)},_filterValue:function(arr,point){var coord=this.get("coord"),yScale=this.getYScale(),yField=yScale.field,yValue=coord.invert(point).y;yValue=yScale.invert(yValue);var rst=arr[arr.length-1];return Util.each(arr,function(obj){var origin=obj._origin;if(origin[yField][0]<=yValue&&origin[yField][1]>=yValue)return rst=obj,!1}),rst},getXDistance:function(){var distance=this.get("xDistance");if(!distance){var xScale=this.getXScale();if(xScale.isCategory)distance=1;else{var values=xScale.values,min=xScale.translate(values[0]),max=min;Util.each(values,function(value){(value=xScale.translate(value))<min&&(min=value),value>max&&(max=value)}),distance=(max-min)/(values.length-1)}this.set("xDistance",distance)}return distance},findPoint:function(point,dataArray){var self=this,type=self.get("type"),xScale=self.getXScale(),yScale=self.getYScale(),xField=xScale.field,yField=yScale.field,rst=null;if(Util.indexOf(["heatmap","point"],type)>-1){var invertPoint=self.get("coord").invert(point),xValue=xScale.invert(invertPoint.x),yValue=yScale.invert(invertPoint.y),min=1/0;return Util.each(dataArray,function(obj){var distance=Math.pow(obj._origin[xField]-xValue,2)+Math.pow(obj._origin[yField]-yValue,2);distance<min&&(min=distance,rst=obj)}),rst}var first=dataArray[0],last=dataArray[dataArray.length-1];if(!first)return rst;var value=self._getScaleValueByPoint(point),firstXValue=first._origin[xField],lastXValue=last._origin[xField],isYRange=yScale.isLinear&&Util.isArray(first._origin[yField]);if(Util.isArray(firstXValue))Util.each(dataArray,function(record){var origin=record._origin;if(xScale.translate(origin[xField][0])<=value&&xScale.translate(origin[xField][1])>=value){if(!isYRange)return rst=record,!1;Util.isArray(rst)||(rst=[]),rst.push(record)}}),Util.isArray(rst)&&(rst=this._filterValue(rst,point));else{var next;if(xScale.isLinear||"timeCat"===xScale.type){if((value>xScale.translate(lastXValue)||value<xScale.translate(firstXValue))&&(value>xScale.max||value<xScale.min))return null;for(var middleIdx,firstIdx=0,lastIdx=dataArray.length-1;firstIdx<=lastIdx;){middleIdx=Math.floor((firstIdx+lastIdx)/2);var item=dataArray[middleIdx]._origin[xField];if(self._snapEqual(item,value,xScale))return dataArray[middleIdx];xScale.translate(item)<=xScale.translate(value)?(firstIdx=middleIdx+1,last=dataArray[middleIdx],next=dataArray[middleIdx+1]):(0===lastIdx&&(last=dataArray[0]),lastIdx=middleIdx-1)}}else Util.each(dataArray,function(record,index){var origin=record._origin;if(self._snapEqual(origin[xField],value,xScale)){if(!isYRange)return rst=record,!1;Util.isArray(rst)||(rst=[]),rst.push(record)}else xScale.translate(origin[xField])<=value&&(last=record,next=dataArray[index+1])}),Util.isArray(rst)&&(rst=this._filterValue(rst,point));last&&next&&Math.abs(xScale.translate(last._origin[xField])-value)>Math.abs(xScale.translate(next._origin[xField])-value)&&(last=next)}var distance=self.getXDistance();return!rst&&Math.abs(xScale.translate(last._origin[xField])-value)<=distance/2&&(rst=last),rst},getTipTitle:function(origin,titleField){var tipTitle="",titleScale=this._getTipTitleScale(titleField);if(titleScale)tipTitle=titleScale.getText(origin[titleScale.field]);else if("heatmap"===this.get("type")){var xScale=this.getXScale(),yScale=this.getYScale();tipTitle="( "+xScale.getText(origin[xScale.field])+", "+yScale.getText(origin[yScale.field])+" )"}return tipTitle},getTipValue:function(origin,valueScale){var value,key=origin.key;if(Util.isArray(value=origin[valueScale.field])){var tmp=[];Util.each(value,function(sub){tmp.push(valueScale.getText(sub))}),value=tmp.join("-")}else value=valueScale.getText(value,key);return value},getTipName:function(origin){var nameScale,groupScales=this._getGroupScales();return groupScales.length&&Util.each(groupScales,function(scale){return nameScale=scale,!1}),nameScale?nameScale.getText(origin[nameScale.field]):getScaleName(this._getTipValueScale())},getTipItems:function(point,titleField){var name,value,self=this,origin=point._origin,tipTitle=self.getTipTitle(origin,titleField),tooltipCfg=self.get("tooltipCfg"),items=[];function addItem(itemName,itemValue,cfg){if(!Util.isNil(itemValue)&&""!==itemValue){var item={title:tipTitle,point:point,name:itemName||tipTitle,value:itemValue,color:point.color||defaultColor,marker:!0};item.size=self._getIntervalSize(point),items.push(Util.mix({},item,cfg))}}if(tooltipCfg){var fields=tooltipCfg.fields,cfg=tooltipCfg.cfg,callbackParams=[];if(Util.each(fields,function(field){callbackParams.push(origin[field])}),cfg){Util.isFunction(cfg)&&(cfg=cfg.apply(null,callbackParams));var itemCfg=Util.mix({},{point:point,title:tipTitle,color:point.color||defaultColor,marker:!0},cfg);itemCfg.size=self._getIntervalSize(point),items.push(itemCfg)}else Util.each(fields,function(field){if(!Util.isNil(origin[field])){var scale=self._getScale(field);name=getScaleName(scale),value=scale.getText(origin[field]),addItem(name,value)}})}else{var valueScale=self._getTipValueScale();Util.isNil(origin[valueScale.field])||(value=self.getTipValue(origin,valueScale),addItem(name=self.getTipName(origin),value))}return items},isShareTooltip:function(){var options,shareTooltip=this.get("shareTooltip"),type=this.get("type"),view=this.get("view");if(options=view.get("parent")?view.get("parent").get("options"):view.get("options"),"interval"===type){var coord=this.get("coord"),coordType=coord.type;("theta"===coordType||"polar"===coordType&&coord.isTransposed)&&(shareTooltip=!1)}else this.getYScale()&&!Util.inArray(["contour","point","polygon","edge"],type)||(shareTooltip=!1);return options.tooltip&&Util.isBoolean(options.tooltip.shared)&&(shareTooltip=options.tooltip.shared),shareTooltip}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0);function isChange(preShapes,shapes){if(!preShapes)return!0;if(preShapes.length!==shapes.length)return!0;var rst=!1;return Util.each(shapes,function(shape,index){if(!function(shape1,shape2){if(Util.isNil(shape1)||Util.isNil(shape2))return!1;var shape1Origin=shape1.get("origin"),shape2Origin=shape2.get("origin");return Util.isEqual(shape1Origin,shape2Origin)}(shape,preShapes[index]))return rst=!0,!1}),rst}function getOriginAttrs(activeCfg,shape){var originAttrs={};return Util.each(activeCfg,function(v,k){var originValue=shape.attr(k);Util.isArray(originValue)&&(originValue=Util.cloneDeep(originValue)),originAttrs[k]=originValue}),originAttrs}module.exports={_isAllowActive:function(){var allowActive=this.get("allowActive");if(!Util.isNil(allowActive))return allowActive;var view=this.get("view"),isShareTooltip=this.isShareTooltip();return!1===view.get("options").tooltip||!isShareTooltip},_onMouseenter:function(ev){var shape=ev.shape,shapeContainer=this.get("shapeContainer");shape&&shapeContainer.contain(shape)&&this._isAllowActive()&&this.setShapesActived(shape)},_onMouseleave:function(){var canvas=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),canvas.draw())},_bindActiveAction:function(){var view=this.get("view"),type=this.get("type");view.on(type+":mouseenter",Util.wrapBehavior(this,"_onMouseenter")),view.on(type+":mouseleave",Util.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var view=this.get("view"),type=this.get("type");view.off(type+":mouseenter",Util.getWrapBehavior(this,"_onMouseenter")),view.off(type+":mouseleave",Util.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(shape){var activedOptions=this.get("activedOptions")||{},shapeData=shape.get("origin"),shapeName=shapeData.shape||this.getDefaultValue("shape");Util.isArray(shapeName)&&(shapeName=shapeName[0]);var shapeFactory=this.get("shapeFactory"),shapeCfg=Util.mix({},shape.attr(),{origin:shapeData}),activeCfg=shapeFactory.getActiveCfg(shapeName,shapeCfg);activedOptions.style&&Util.mix(activeCfg,activedOptions.style);var originAttrs=getOriginAttrs(activeCfg,shape);shape.setSilent("_originAttrs",originAttrs),activedOptions.animate?shape.animate(activeCfg,300):shape.attr(activeCfg),shape.set("zIndex",1)},setShapesActived:function(shapes){var self=this;Util.isArray(shapes)||(shapes=[shapes]);var preShapes=self.get("activeShapes");if(isChange(preShapes,shapes)){var canvas=self.get("view").get("canvas"),shapeContainer=self.get("shapeContainer"),activedOptions=self.get("activedOptions");activedOptions&&activedOptions.highlight?(Util.each(shapes,function(shape){shape.get("animating")&&shape.stopAnimate()}),self.highlightShapes(shapes)):(preShapes&&self.clearActivedShapes(),Util.each(shapes,function(shape){shape.get("animating")&&shape.stopAnimate(),shape.get("visible")&&!shape.get("selected")&&self._setActiveShape(shape)})),self.set("activeShapes",shapes),shapeContainer.sort(),canvas.draw()}},clearActivedShapes:function(){var shapeContainer=this.get("shapeContainer"),activedOptions=this.get("activedOptions"),activeAnimate=activedOptions&&activedOptions.animate;if(shapeContainer&&!shapeContainer.get("destroyed")){var activeShapes=this.get("activeShapes");if(Util.each(activeShapes,function(activeShape){if(!activeShape.get("selected")){var originAttrs=activeShape.get("_originAttrs");activeAnimate?(activeShape.stopAnimate(),activeShape.animate(originAttrs,300)):activeShape.attr(originAttrs),activeShape.setZIndex(0),activeShape.set("_originAttrs",null)}}),this.get("preHighlightShapes")){var shapes=shapeContainer.get("children");Util.each(shapes,function(shape){if(!shape.get("selected")){var originAttrs=shape.get("_originAttrs");originAttrs&&(activeAnimate?(shape.stopAnimate(),shape.animate(originAttrs,300)):shape.attr(originAttrs),shape.setZIndex(0),shape.set("_originAttrs",null))}})}shapeContainer.get("children").sort(function(obj1,obj2){return obj1._INDEX-obj2._INDEX}),this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(point){var shapeContainer=this.get("shapeContainer"),activeShapes=[];if(shapeContainer){var xField=this.getXScale().field,shapes=this.getShapes(),originObj=this._getOriginByPoint(point);Util.each(shapes,function(shape){var origin=shape.get("origin");shape.get("visible")&&origin&&origin._origin[xField]===originObj[xField]&&activeShapes.push(shape)})}return activeShapes},getSingleShapeByPoint:function(point){var result,shapeContainer=this.get("shapeContainer"),pixelRatio=shapeContainer.get("canvas").get("pixelRatio");if(shapeContainer&&(result=shapeContainer.getShape(point.x*pixelRatio,point.y*pixelRatio)),result&&result.get("origin"))return result},highlightShapes:function(_highlightShapes,highlightCfg){Util.isArray(_highlightShapes)||(_highlightShapes=[_highlightShapes]);var preHighlightShapes=this.get("activeShapes");if(isChange(preHighlightShapes,_highlightShapes)){preHighlightShapes&&this.clearActivedShapes();var shapes=this.getShapes(),activedOptions=this.get("activedOptions"),activeAnimate=activedOptions&&activedOptions.animate,activeStyle=activedOptions&&activedOptions.style;Util.each(shapes,function(shape){var changeAttrs={};shape.stopAnimate(),-1!==Util.indexOf(_highlightShapes,shape)?(Util.mix(changeAttrs,activeStyle,highlightCfg),shape.setZIndex(1)):(Util.mix(changeAttrs,{fillOpacity:.3,opacity:.3}),shape.setZIndex(0));var originAttrs=getOriginAttrs(changeAttrs,shape);shape.setSilent("_originAttrs",originAttrs),activeAnimate?shape.animate(changeAttrs,300):shape.attr(changeAttrs)}),this.set("preHighlightShapes",_highlightShapes),this.set("activeShapes",_highlightShapes)}}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0);function isSameShape(shape1,shape2){if(Util.isNil(shape1)||Util.isNil(shape2))return!1;var shape1Origin=shape1.get("origin"),shape2Origin=shape2.get("origin");return Util.isEqual(shape1Origin,shape2Origin)}module.exports={_isAllowSelect:function(){var isAllowSelect=this.get("allowSelect");if(!Util.isNil(isAllowSelect))return isAllowSelect;var type=this.get("type"),coord=this.get("coord");return"interval"===type&&"theta"===(coord&&coord.type)},_onClick:function(ev){if(this._isAllowSelect()){this.clearActivedShapes();var shape=ev.shape,shapeContainer=this.get("shapeContainer");shape&&!shape.get("animating")&&shapeContainer.contain(shape)&&this.setShapeSelected(shape)}},_bindSelectedAction:function(){var view=this.get("view"),type=this.get("type");view.on(type+":click",Util.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var view=this.get("view"),type=this.get("type");view.off(type+":click",Util.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(shape,status){var view=this.get("view"),selectedOptions=this.get("selectedOptions")||{},animate=!1!==selectedOptions.animate,canvas=view.get("canvas");shape.set("selected",status);var shapeData=shape.get("origin");if(status){var shapeName=shapeData.shape||this.getDefaultValue("shape");Util.isArray(shapeName)&&(shapeName=shapeName[0]);var shapeFactory=this.get("shapeFactory"),cfg=Util.mix({geom:this,point:shapeData},selectedOptions),selectedStyle=shapeFactory.getSelectedCfg(shapeName,cfg);Util.mix(selectedStyle,cfg.style),shape.get("_originAttrs")||(shape.get("animating")&&shape.stopAnimate(),shape.set("_originAttrs",function(selectedCfg,shape){var originAttrs={};return Util.each(selectedStyle,function(v,k){"transform"===k&&(k="matrix");var originValue=shape.attr(k);Util.isArray(originValue)&&(originValue=Util.cloneDeep(originValue)),originAttrs[k]=originValue}),originAttrs}(0,shape))),animate?shape.animate(selectedStyle,300):(shape.attr(selectedStyle),canvas.draw())}else{var originAttrs=shape.get("_originAttrs");shape.set("_originAttrs",null),animate?shape.animate(originAttrs,300):(shape.attr(originAttrs),canvas.draw())}},setShapeSelected:function(shape){var selectedShapes=this._getSelectedShapes(),selectedOptions=this.get("selectedOptions")||{},cancelable=!1!==selectedOptions.cancelable;if("multiple"===selectedOptions.mode)-1===Util.indexOf(selectedShapes,shape)?(selectedShapes.push(shape),this._setShapeStatus(shape,!0)):cancelable&&(Util.Array.remove(selectedShapes,shape),this._setShapeStatus(shape,!1));else{var selectedShape=selectedShapes[0];cancelable&&(shape=isSameShape(selectedShape,shape)?null:shape),isSameShape(selectedShape,shape)||(selectedShape&&this._setShapeStatus(selectedShape,!1),shape&&this._setShapeStatus(shape,!0))}},clearSelected:function(){var self=this,shapeContainer=self.get("shapeContainer");if(shapeContainer&&!shapeContainer.get("destroyed")){var selectedShapes=self._getSelectedShapes();Util.each(selectedShapes,function(shape){self._setShapeStatus(shape,!1),shape.set("_originAttrs",null)})}},setSelected:function(record){var self=this,shapes=self.getShapes();return Util.each(shapes,function(shape){var origin=shape.get("origin");origin&&origin._origin===record&&self.setShapeSelected(shape)}),this},_getSelectedShapes:function(){var shapes=this.getShapes(),selectedShapes=[];return Util.each(shapes,function(shape){shape.get("selected")&&selectedShapes.push(shape)}),this.set("selectedShapes",selectedShapes),selectedShapes}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0);module.exports=function(field){return Util.isArray(field)?field:Util.isString(field)?field.split("*"):[field]}},function(module,exports,__webpack_require__){var Scale=__webpack_require__(74),Util=__webpack_require__(0),dateRegex=/^(?:(?!0000)[0-9]{4}([-\/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-\/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;module.exports=function(){function ScaleController(cfg){this.defs={},this.viewTheme={scales:{}},this.filters={},Util.assign(this,cfg)}var _proto=ScaleController.prototype;return _proto._getDef=function(field){var defs=this.defs,viewTheme=this.viewTheme,def=null;return(viewTheme.scales[field]||defs[field])&&(def=Util.mix({},viewTheme.scales[field]),Util.each(defs[field],function(v,k){Util.isNil(v)?delete def[k]:def[k]=v}),this.filters[field]&&(delete def.min,delete def.max)),def},_proto._getDefaultType=function(field,data){var type="linear",value=Util.Array.firstValue(data,field);return Util.isArray(value)&&(value=value[0]),dateRegex.test(value)?type="time":Util.isString(value)&&(type="cat"),type},_proto._getScaleCfg=function(type,field,data){var cfg={field:field},values=Util.Array.values(data,field);if(cfg.values=values,!Scale.isCategory(type)&&"time"!==type){var range=Util.Array.getRange(values);cfg.min=range.min,cfg.max=range.max,cfg.nice=!0}return"time"===type&&(cfg.nice=!1),cfg},_proto.createScale=function(field,data){var scale,def=this._getDef(field),validData=data||[],firstValue=Util.Array.firstValue(validData,field);if(Util.isNumber(field)||Util.isNil(firstValue)&&!def)scale=Scale.identity({value:field,field:field.toString(),values:[field]});else{var type;def&&(type=def.type),type=type||this._getDefaultType(field,validData);var cfg=this._getScaleCfg(type,field,validData);def&&Util.mix(cfg,def),scale=Scale[type](cfg)}return scale},ScaleController}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Coord=__webpack_require__(343);module.exports=function(){function CoordController(option){this.type="rect",this.actions=[],this.cfg={},Util.mix(this,option),this.option=option||{}}var _proto=CoordController.prototype;return _proto.reset=function(coordOption){return this.actions=coordOption.actions||[],this.type=coordOption.type,this.cfg=coordOption.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},_proto._execActions=function(coord){Util.each(this.actions,function(action){coord[action[0]](action[1],action[2])})},_proto.hasAction=function(actionName){var rst=!1;return Util.each(this.actions,function(action){if(actionName===action[0])return rst=!0,!1}),rst},_proto.createCoord=function(start,end){var C,coord,type=this.type,coordCfg=Util.mix({start:start,end:end},this.cfg);return"theta"===type?(C=Coord.Polar,this.hasAction("transpose")||this.transpose(),(coord=new C(coordCfg)).type=type):coord=new(C=Coord[Util.upperFirst(type||"")]||Coord.Rect)(coordCfg),this._execActions(coord),coord},_proto.rotate=function(angle){return angle=angle*Math.PI/180,this.actions.push(["rotate",angle]),this},_proto.reflect=function(dim){return this.actions.push(["reflect",dim]),this},_proto.scale=function(sx,sy){return this.actions.push(["scale",sx,sy]),this},_proto.transpose=function(){return this.actions.push(["transpose"]),this},CoordController}()},function(module,exports,__webpack_require__){"use strict";var Coord=__webpack_require__(44);Coord.Cartesian=__webpack_require__(344),Coord.Rect=Coord.Cartesian,Coord.Polar=__webpack_require__(345),Coord.Helix=__webpack_require__(346),module.exports=Coord},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var mix=__webpack_require__(8),Base=__webpack_require__(44);module.exports=function(_Base){function Cartesian(cfg){var _this;return function(instance,Constructor){if(!(instance instanceof Cartesian))throw new TypeError("Cannot call a class as a function")}(this),(_this=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(Cartesian).call(this,cfg)))._init(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Cartesian,Base),_createClass(Cartesian,[{key:"getDefaultCfg",value:function(){var cfg=_get(_getPrototypeOf(Cartesian.prototype),"getDefaultCfg",this).call(this);return mix({},cfg,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),_createClass(Cartesian,[{key:"_init",value:function(){var start=this.start,end=this.end,y={start:start.y,end:end.y};this.x={start:start.x,end:end.x},this.y=y}},{key:"convertPoint",value:function(point){var x,y;return this.isTransposed?(x=point.y,y=point.x):(x=point.x,y=point.y),{x:this.convertDim(x,"x"),y:this.convertDim(y,"y")}}},{key:"invertPoint",value:function(point){var x=this.invertDim(point.x,"x"),y=this.invertDim(point.y,"y");return this.isTransposed?{x:y,y:x}:{x:x,y:y}}}]),Cartesian}()},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MatrixUtil=__webpack_require__(43),isNumberEqual=__webpack_require__(35),mix=__webpack_require__(8),Base=__webpack_require__(44),mat3=MatrixUtil.mat3,vec2=MatrixUtil.vec2,vec3=MatrixUtil.vec3;module.exports=function(_Base){function Polar(cfg){var _this;return function(instance,Constructor){if(!(instance instanceof Polar))throw new TypeError("Cannot call a class as a function")}(this),(_this=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(Polar).call(this,cfg)))._init(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Polar,Base),_createClass(Polar,[{key:"getDefaultCfg",value:function(){var cfg=_get(_getPrototypeOf(Polar.prototype),"getDefaultCfg",this).call(this);return mix({},cfg,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),_createClass(Polar,[{key:"_init",value:function(){for(var radius=this.radius,innerRadius=this.innerRadius,center=this.center,startAngle=this.startAngle,endAngle=this.endAngle;endAngle<startAngle;)endAngle+=2*Math.PI;this.endAngle=endAngle;var maxRadius,circleCentre,oneBox=this.getOneBox(),oneWidth=oneBox.maxX-oneBox.minX,oneHeight=oneBox.maxY-oneBox.minY,left=Math.abs(oneBox.minX)/oneWidth,top=Math.abs(oneBox.minY)/oneHeight,width=this.width,height=this.height;circleCentre=height/oneHeight>width/oneWidth?{x:center.x-(.5-left)*width,y:center.y-(.5-top)*(maxRadius=width/oneWidth)*oneHeight}:{x:center.x-(.5-left)*(maxRadius=height/oneHeight)*oneWidth,y:center.y-(.5-top)*height},radius?radius>0&&radius<=1?radius*=maxRadius:(radius<=0||radius>maxRadius)&&(radius=maxRadius):radius=maxRadius;var y={start:innerRadius*radius,end:radius};this.x={start:startAngle,end:endAngle},this.y=y,this.radius=radius,this.circleCentre=circleCentre,this.center=circleCentre}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var startAngle=this.startAngle,endAngle=this.endAngle;if(Math.abs(endAngle-startAngle)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var xs=[0,Math.cos(startAngle),Math.cos(endAngle)],ys=[0,Math.sin(startAngle),Math.sin(endAngle)],i=Math.min(startAngle,endAngle);i<Math.max(startAngle,endAngle);i+=Math.PI/18)xs.push(Math.cos(i)),ys.push(Math.sin(i));return{minX:Math.min.apply(Math,xs),maxX:Math.max.apply(Math,xs),minY:Math.min.apply(Math,ys),maxY:Math.max.apply(Math,ys)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(point){var center=this.getCenter(),x=this.isTransposed?point.y:point.x,y=this.isTransposed?point.x:point.y;return x=this.convertDim(x,"x"),y=this.convertDim(y,"y"),{x:center.x+Math.cos(x)*y,y:center.y+Math.sin(x)*y}}},{key:"invertPoint",value:function(point){var center=this.getCenter(),vPoint=[point.x-center.x,point.y-center.y],x=this.x,m=[1,0,0,0,1,0,0,0,1];mat3.rotate(m,m,x.start);var vStart=[1,0,0];vec3.transformMat3(vStart,vStart,m);var angle=vec2.angleTo(vStart=[vStart[0],vStart[1]],vPoint,x.end<x.start);isNumberEqual(angle,2*Math.PI)&&(angle=0);var radius=vec2.length(vPoint),xPercent=angle/(x.end-x.start);xPercent=x.end-x.start>0?xPercent:-xPercent;var yPercent=this.invertDim(radius,"y"),rst={};return rst.x=this.isTransposed?yPercent:xPercent,rst.y=this.isTransposed?xPercent:yPercent,rst}}]),Polar}()},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MatrixUtil=__webpack_require__(43),isNumberEqual=__webpack_require__(35),mix=__webpack_require__(8),Base=__webpack_require__(44),vec2=MatrixUtil.vec2;module.exports=function(_Base){function Helix(cfg){var _this;return function(instance,Constructor){if(!(instance instanceof Helix))throw new TypeError("Cannot call a class as a function")}(this),(_this=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}(this,_getPrototypeOf(Helix).call(this,cfg)))._init(),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Helix,Base),_createClass(Helix,[{key:"getDefaultCfg",value:function(){var cfg=_get(_getPrototypeOf(Helix.prototype),"getDefaultCfg",this).call(this);return mix({},cfg,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),_createClass(Helix,[{key:"_init",value:function(){var radius=this.radius,innerRadius=this.innerRadius,startAngle=this.startAngle,endAngle=this.endAngle,index=(endAngle-startAngle)/(2*Math.PI)+1,maxRadius=Math.min(this.width,this.height)/2;radius&&radius>=0&&radius<=1&&(maxRadius*=radius);var d=Math.floor(maxRadius*(1-innerRadius)/index),a=d/(2*Math.PI),x={start:startAngle,end:endAngle},y={start:innerRadius*maxRadius,end:innerRadius*maxRadius+.99*d};this.a=a,this.d=d,this.x=x,this.y=y}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(point){var x,y,a=this.a,center=this.center;this.isTransposed?(x=point.y,y=point.x):(x=point.x,y=point.y);var thi=this.convertDim(x,"x"),r=a*thi,newY=this.convertDim(y,"y");return{x:center.x+Math.cos(thi)*(r+newY),y:center.y+Math.sin(thi)*(r+newY)}}},{key:"invertPoint",value:function(point){var center=this.center,a=this.a,d=this.d+this.y.start,v=vec2.subtract([],[point.x,point.y],[center.x,center.y]),thi=vec2.angleTo(v,[1,0],!0),rMin=thi*a;vec2.length(v)<rMin&&(rMin=vec2.length(v));var r=a*(thi=2*Math.floor((vec2.length(v)-rMin)/d)*Math.PI+thi),newY=vec2.length(v)-r;newY=isNumberEqual(newY,0)?0:newY;var x=this.invertDim(thi,"x"),y=this.invertDim(newY,"y");x=isNumberEqual(x,0)?0:x,y=isNumberEqual(y,0)?0:y;var rst={};return rst.x=this.isTransposed?y:x,rst.y=this.isTransposed?x:y,rst}}]),Helix}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Axis=__webpack_require__(21).Axis,vec2=Util.MatrixUtil.vec2;function getDefaultValueFromPosition(position,val){return void 0===val&&(val=0),"middle"===position&&(val=.5),-1!==position.indexOf("%")&&(val=parseInt(position,10)/100),val}module.exports=function(){function AxisController(cfg){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],Util.mix(this,cfg)}var _proto=AxisController.prototype;return _proto._isHide=function(field){var options=this.options;return!(!options||!1!==options[field])},_proto._getMiddleValue=function(curValue,ticks,index,isLinear){if(0===curValue&&!isLinear)return 0;if(1===curValue)return 1;var nextValue=ticks[index+1].value;return isLinear||1!==nextValue?(curValue+nextValue)/2:1},_proto._getLineRange=function(coord,scale,dimType,index){var start,end,isVertical,field=scale.field,options=this.options,position="";if(options[field]&&options[field].position&&(position=options[field].position),"x"===dimType){var y="top"===position?1:0;start={x:0,y:y=getDefaultValueFromPosition(position,y)},end={x:1,y:y},isVertical=!1}else{if(index){var x="left"===position?0:1;start={x:x=getDefaultValueFromPosition(position,x),y:0},end={x:x,y:1}}else{var _x="right"===position?1:0;start={x:_x=getDefaultValueFromPosition(position,_x),y:0},end={x:_x,y:1}}isVertical=!0}return{start:start=coord.convert(start),end:end=coord.convert(end),isVertical:isVertical}},_proto._getLineCfg=function(coord,scale,dimType,index){var range=this._getLineRange(coord,scale,dimType,index),isVertical=range.isVertical,start=range.start,center=coord.center;return coord.isTransposed&&(isVertical=!isVertical),{isVertical:isVertical,factor:isVertical&&start.x>center.x||!isVertical&&start.y>center.y?1:-1,start:start,end:range.end}},_proto._getCircleCfg=function(coord){var start,circleCfg={},rangeX=coord.x,rangeY=coord.y,isReflectY=rangeY.start>rangeY.end;start=coord.convert(start=coord.isTransposed?{x:isReflectY?0:1,y:0}:{x:0,y:isReflectY?0:1});var startAngle,center=coord.circleCentre,startVector=[start.x-center.x,start.y-center.y],normalVector=[1,0],endAngle=(startAngle=start.y>center.y?vec2.angle(startVector,normalVector):-1*vec2.angle(startVector,normalVector))+(rangeX.end-rangeX.start);return circleCfg.startAngle=startAngle,circleCfg.endAngle=endAngle,circleCfg.center=center,circleCfg.radius=Math.sqrt(Math.pow(start.x-center.x,2)+Math.pow(start.y-center.y,2)),circleCfg.inner=coord.innerRadius||0,circleCfg},_proto._getRadiusCfg=function(coord){var start,end;return coord.isTransposed?(start={x:0,y:0},end={x:1,y:0}):(start={x:0,y:0},end={x:0,y:1}),{factor:coord.x.start<0?-1:1,start:coord.convert(start),end:coord.convert(end)}},_proto._getAxisPosition=function(coord,dimType,index,field){var position="",options=this.options;return options[field]&&options[field].position?position=options[field].position:coord.isRect?"x"===dimType?position="bottom":"y"===dimType&&(position=index?"right":"left"):position="helix"===coord.type?"helix":"x"===dimType?coord.isTransposed?"radius":"circle":coord.isTransposed?"circle":"radius",position},_proto._getAxisDefaultCfg=function(coord,scale,type,position){var viewTheme=this.viewTheme,cfg={},options=this.options,field=scale.field;if((cfg=Util.deepMix({},viewTheme.axis[position],cfg,options[field])).viewTheme=viewTheme,cfg.title){var title=Util.isPlainObject(cfg.title)?cfg.title:{};title.text=title.text||scale.alias||field,Util.deepMix(cfg,{title:title})}return cfg.ticks=scale.getTicks(),coord.isPolar&&!scale.isCategory&&"x"===type&&Math.abs(coord.endAngle-coord.startAngle)===2*Math.PI&&cfg.ticks.pop(),cfg.coord=coord,cfg.label&&Util.isNil(cfg.label.autoRotate)&&(cfg.label.autoRotate=!0),options.hasOwnProperty("xField")&&options.xField.hasOwnProperty("grid")&&"left"===cfg.position&&Util.deepMix(cfg,options.xField),cfg},_proto._getAxisCfg=function(coord,scale,verticalScale,dimType,index,viewId){void 0===index&&(index="");var self=this,position=self._getAxisPosition(coord,dimType,index,scale.field),cfg=self._getAxisDefaultCfg(coord,scale,dimType,position);if(!Util.isEmpty(cfg.grid)&&verticalScale){var gridPoints=[],tickValues=[],verticalTicks=function(ticks){var tmp=[];if(ticks.length>0){var last=(tmp=ticks.slice(0))[tmp.length-1];0!==tmp[0].value&&tmp.unshift({value:0}),1!==last.value&&tmp.push({value:1})}return tmp}(verticalScale.getTicks());if(verticalTicks.length){var ticks=function(ticks,isLinear,gridCentering){var result=[];return ticks.length<1?result:(ticks.length>=2&&scale.isLinear&&"center"===cfg.grid.align&&result.push({text:"",tickValue:"",value:0}),0!==ticks[0].value&&result.push({text:"",tickValue:"",value:0}),1!==(result=result.concat(ticks))[result.length-1].value&&result.push({text:"",tickValue:"",value:1}),result)}(cfg.ticks);Util.each(ticks,function(tick,idx){tickValues.push(tick.tickValue);var subPoints=[],value=tick.value;if("center"===cfg.grid.align&&(value=self._getMiddleValue(value,ticks,idx,scale.isLinear)),!Util.isNil(value)){var rangeX=coord.x,rangeY=coord.y;Util.each(verticalTicks,function(verticalTick){var y="x"===dimType?verticalTick.value:value,point=coord.convert({x:"x"===dimType?value:verticalTick.value,y:y});if(coord.isPolar){var center=coord.circleCentre;rangeY.start>rangeY.end&&(y=1-y),point.flag=rangeX.start>rangeX.end?0:1,point.radius=Math.sqrt(Math.pow(point.x-center.x,2)+Math.pow(point.y-center.y,2))}subPoints.push(point)}),gridPoints.push({_id:viewId+"-"+dimType+index+"-grid-"+tick.tickValue,points:subPoints})}})}cfg.grid.items=gridPoints,cfg.grid.tickValues=tickValues}return cfg.type=scale.type,cfg},_proto._getHelixCfg=function(coord){for(var helixCfg={},a=coord.a,startAngle=coord.startAngle,endAngle=coord.endAngle,crp=[],i=0;i<=100;i++){var point=coord.convert({x:i/100,y:0});crp.push(point.x),crp.push(point.y)}var axisStart=coord.convert({x:0,y:0});return helixCfg.a=a,helixCfg.startAngle=startAngle,helixCfg.endAngle=endAngle,helixCfg.crp=crp,helixCfg.axisStart=axisStart,helixCfg.center=coord.center,helixCfg.inner=coord.y.start,helixCfg},_proto._drawAxis=function(coord,scale,verticalScale,dimType,viewId,xAxis,index){var C,appendCfg,container=this.container,canvas=this.canvas;"cartesian"===coord.type?(C=Axis.Line,appendCfg=this._getLineCfg(coord,scale,dimType,index)):"helix"===coord.type&&"x"===dimType?(C=Axis.Helix,appendCfg=this._getHelixCfg(coord)):"x"===dimType?(C=Axis.Circle,appendCfg=this._getCircleCfg(coord)):(C=Axis.Line,appendCfg=this._getRadiusCfg(coord));var cfg=this._getAxisCfg(coord,scale,verticalScale,dimType,index,viewId);cfg=Util.mix({},cfg,appendCfg),"y"===dimType&&xAxis&&"circle"===xAxis.get("type")&&(cfg.circle=xAxis),cfg._id=viewId+"-"+dimType,Util.isNil(index)||(cfg._id=viewId+"-"+dimType+index),Util.mix(cfg,{canvas:canvas,group:container});var axis=new C(cfg);return axis.render(),this.axes.push(axis),axis},_proto.createAxis=function(xScale,yScales,viewId){var xAxis,self=this,coord=this.coord,coordType=coord.type;"theta"===coordType||"polar"===coordType&&coord.isTransposed||(xScale&&!self._isHide(xScale.field)&&(xAxis=self._drawAxis(coord,xScale,yScales[0],"x",viewId)),Util.isEmpty(yScales)||"helix"===coordType||Util.each(yScales,function(yScale,index){self._isHide(yScale.field)||self._drawAxis(coord,yScale,xScale,"y",viewId,xAxis,index)}))},_proto.changeVisible=function(visible){Util.each(this.axes,function(axis){axis.set("visible",visible)})},_proto.clear=function(){Util.each(this.axes,function(axis){axis.clear()}),this.axes=[]},AxisController}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Guide=__webpack_require__(349);module.exports=function(){function GuideController(cfg){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,Util.mix(this,cfg)}var _proto=GuideController.prototype;return _proto._creatGuides=function(){var self=this,options=this.options,xScales=this.xScales,yScales=this.yScales,view=this.view,viewTheme=this.viewTheme;return this.backContainer&&view&&(this.backGroup=this.backContainer.addGroup({viewId:view.get("_id")})),this.frontContainer&&view&&(this.frontGroup=this.frontContainer.addGroup({viewId:view.get("_id")})),options.forEach(function(option){var type=option.type,config=Util.deepMix({xScales:xScales,yScales:yScales,viewTheme:viewTheme},viewTheme?viewTheme.guide[type]:{},option);type=Util.upperFirst(type);var guide=new Guide[type](config);self.guides.push(guide)}),self.guides},_proto.line=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"line"},cfg)),this},_proto.arc=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"arc"},cfg)),this},_proto.text=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"text"},cfg)),this},_proto.image=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"image"},cfg)),this},_proto.region=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"region"},cfg)),this},_proto.regionFilter=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"regionFilter"},cfg)),this},_proto.dataMarker=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"dataMarker"},cfg)),this},_proto.dataRegion=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"dataRegion"},cfg)),this},_proto.html=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"html"},cfg)),this},_proto.render=function(coord){var self=this,view=self.view,viewData=view&&view.get("data"),guides=self._creatGuides();Util.each(guides,function(guide){var container;container=guide.get("top")?self.frontGroup||self.frontContainer:self.backGroup||self.backContainer,guide.render(coord,container,viewData,view)})},_proto.clear=function(){this.options=[],this.reset()},_proto.changeVisible=function(visible){Util.each(this.guides,function(guide){guide.changeVisible(visible)})},_proto.reset=function(){Util.each(this.guides,function(guide){guide.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},GuideController}()},function(module,exports,__webpack_require__){var Guide=__webpack_require__(21).Guide,RegionFilter=__webpack_require__(350);Guide.RegionFilter=RegionFilter,module.exports=Guide},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Guide=__webpack_require__(15),Path=__webpack_require__(25).Path;module.exports=function(_Guide){var subClass,superClass;function RegionFilter(){return _Guide.apply(this,arguments)||this}superClass=_Guide,(subClass=RegionFilter).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=RegionFilter.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},_proto.render=function(coord,group,viewData,view){var self=this,layer=group.addGroup();layer.name="guide-region-filter",view.once("afterpaint",function(){if(!layer.get("destroyed")){self._drawShapes(view,layer);var clip=self._drawClip(coord);layer.attr({clip:clip}),self.set("clip",clip),self.get("appendInfo")&&layer.setSilent("appendInfo",self.get("appendInfo")),self.set("el",layer)}})},_proto._drawShapes=function(view,layer){var self=this,output=[];return view.getAllGeoms().map(function(geom){var shapes=geom.getShapes(),geomType=geom.get("type");return self._geomFilter(geomType)&&shapes.map(function(shape){var shapeType=shape.type,shapeAttr=Util.cloneDeep(shape.attr());self._adjustDisplay(shapeAttr);var s=layer.addShape(shapeType,{attrs:shapeAttr});return output.push(s),shape}),geom}),output},_proto._drawClip=function(coord){var start=this.parsePoint(coord,this.get("start")),end=this.parsePoint(coord,this.get("end"));return new Path({attrs:{path:[["M",start.x,start.y],["L",end.x,start.y],["L",end.x,end.y],["L",start.x,end.y],["z"]],opacity:1}})},_proto._adjustDisplay=function(attr){var color=this.get("color");attr.fill&&(attr.fill=attr.fillStyle=color),attr.stroke=attr.strokeStyle=color},_proto._geomFilter=function(geomType){var apply=this.get("apply");return!apply||Util.contains(apply,geomType)},_proto.clear=function(){_Guide.prototype.clear.call(this);var clip=this.get("clip");clip&&clip.remove()},RegionFilter}(Guide)},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Legend=__webpack_require__(21).Legend,Tail=__webpack_require__(352),Shape=__webpack_require__(18),bboxOfBackPlot=__webpack_require__(166),plotRange2BBox=__webpack_require__(168),requireAnimationFrameFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,STROKE_MARKERS=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"];module.exports=function(){function LegendController(cfg){this.options={},Util.mix(this,cfg),this.clear();var chart=this.chart;this.container=chart.get("frontPlot"),this.plotRange=chart.get("plotRange")}var _proto=LegendController.prototype;return _proto.clear=function(){var legends=this.legends;this.backRange=null,Util.each(legends,function(legendItems){Util.each(legendItems,function(legend){legend.destroy()})}),this.legends={}},_proto.getBackRange=function(){var backRange=this.backRange;if(!backRange){var backPlot=this.chart.get("backPlot");backRange=bboxOfBackPlot(backPlot,plotRange2BBox(this.chart.get("plotRange")));var plotRange=this.plotRange;backRange.maxX-backRange.minX<plotRange.br.x-plotRange.tl.x&&backRange.maxY-backRange.minY<plotRange.br.y-plotRange.tl.y&&(backRange={minX:plotRange.tl.x,minY:plotRange.tl.y,maxX:plotRange.br.x,maxY:plotRange.br.y}),this.backRange=backRange}return backRange},_proto._isFieldInView=function(field,value,view){var flag=!1,fieldScale=view.get("scales")[field];return fieldScale&&fieldScale.values&&(flag=Util.inArray(fieldScale.values,value)),flag},_proto._bindClickEvent=function(legend,scale,filterVals){var self=this,chart=self.chart,views=chart.get("views"),field=scale.field,options=self.options;legend.on("itemclick",function(ev){if(options.onClick&&!0!==options.defaultClickHandlerEnabled)options.onClick(ev);else{var item=ev.item,checked=ev.checked,isSingleSelected="single"===legend.get("selectedMode"),clickedValue=item.dataValue;checked?(Util.Array.remove(filterVals,clickedValue),self._isFieldInView(field,clickedValue,chart)&&chart.filter(field,function(field){return isSingleSelected?field===clickedValue:!Util.inArray(filterVals,field)}),Util.each(views,function(view){self._isFieldInView(field,clickedValue,view)&&view.filter(field,function(field){return isSingleSelected?field===clickedValue:!Util.inArray(filterVals,field)})})):isSingleSelected||(filterVals.push(clickedValue),self._isFieldInView(field,clickedValue,chart)&&chart.filter(field,function(field){return!Util.inArray(filterVals,field)}),Util.each(views,function(view){self._isFieldInView(field,clickedValue,view)&&view.filter(field,function(field){return!Util.inArray(filterVals,field)})})),options.onClick&&options.onClick(ev),chart.set("keepLegend",!0),chart.set("keepPadding",!0),chart.repaint(),chart.set("keepPadding",!1),chart.set("keepLegend",!1)}})},_proto._bindClickEventForMix=function(legend){var geoms=this.chart.getAllGeoms();legend.on("itemclick",function(ev){var itemField=ev.item.field;Util.each(geoms,ev.checked?function(geom){geom.getYScale().field===itemField&&geom.show()}:function(geom){geom.getYScale().field===itemField&&geom.hide()})})},_proto._filterLabels=function(shape,geom,visible){if(shape.get("gLabel"))shape.get("gLabel").set("visible",visible);else{var labelCfg=geom.get("labelCfg");if(labelCfg&&labelCfg.fields&&labelCfg.fields.length>0){var xScale=geom.getXScale(),yScale=geom.getYScale(),xField=xScale.field,yField=yScale.field,shapeData=shape.get("origin")._origin,labels=geom.get("labelContainer").get("labelsGroup").get("children");Util.each(labels,function(label){var labelData=label.get("origin")||[];labelData[xField]===shapeData[xField]&&labelData[yField]===shapeData[yField]&&(label.set("visible",visible),shape.set("gLabel",label))})}}},_proto._bindFilterEvent=function(legend,scale){var self=this,chart=this.chart,field=scale.field;legend.on("itemfilter",function(ev){var range=ev.range;chart.filterShape(function(obj,shape,geom){if(!Util.isNil(obj[field])){var filtered=obj[field]>=range[0]&&obj[field]<=range[1];return self._filterLabels(shape,geom,filtered),filtered}return!0});for(var geoms=chart.getAllGeoms()||[],_loop=function(i){var geom=geoms[i];"heatmap"===geom.get("type")&&requireAnimationFrameFn(function(){geom.drawWithRange(range)})},i=0;i<geoms.length;i++)_loop(i)})},_proto._getShapeData=function(shape){var originData=shape.get("origin");return Util.isArray(originData)&&(originData=originData[0]),originData._origin},_proto._bindHoverEvent=function(legend,field){var self=this,chart=self.chart,geoms=chart.getAllGeoms(),options=self.options,canvas=chart.get("canvas");legend.on("itemhover",function(ev){var value=ev.item.value,pre=self.pre;if(pre){if(pre===value)return}else Util.each(geoms,function(geom){var shapeContainer=geom.get("shapeContainer"),shapes=geom.getShapes(),activeShapes=[];if(field){var scale=geom.get("scales")[field];Util.each(shapes,function(shape){var origin=self._getShapeData(shape);origin&&function(v1,v2,scale){return!Util.isNil(scale)&&(v1=scale.translate(v1),v2=scale.translate(v2),scale.isCategory?v1===v2:Math.abs(v1-v2)<=1)}(origin[field],value,scale)&&activeShapes.push(shape)})}else geom.getYScale().field===value&&(activeShapes=shapes);Util.isEmpty(activeShapes)||(ev.shapes=activeShapes,ev.geom=geom,options.onHover?(options.onHover(ev),shapeContainer.sort(),canvas.draw()):geom.setShapesActived(activeShapes))}),self.pre=value}),legend.on("itemunhover",function(ev){self.pre=null,options.onUnhover&&options.onUnhover(ev),Util.each(geoms,function(geom){geom.get("activeShapes")&&(geom.clearActivedShapes(),canvas.draw())})})},_proto._isFiltered=function(scale,filterVals,scaleValue){if(!scale.isCategory)return!0;var rst=!0;return scaleValue=scale.invert(scaleValue),Util.each(filterVals,function(val){if(scale.getText(val)===scale.getText(scaleValue))return rst=!1,!1}),rst},_proto._alignLegend=function(legend,pre,region,position){var viewTheme=this.viewTheme,canvas=this.container.get("canvas"),width=canvas.get("width"),height=canvas.get("height"),totalRegion=this.totalRegion,plotRange=this.plotRange,backRange=this.getBackRange(),offsetX=legend.get("offset")[0]||0,offsetY=legend.get("offset")[1]||0,legendHeight=legend.getHeight(),legendWidth=legend.getWidth(),borderMargin=viewTheme.legend.margin,innerMargin=viewTheme.legend.legendMargin,legendNum=this.legends[position].length,posArray=position.split("-"),x=0,y=0,tempoRegion=legendNum>1?totalRegion:region;if("left"===posArray[0]||"right"===posArray[0])height=plotRange.br.y,x=this._getXAlign(posArray[0],width,region,backRange,legendWidth,borderMargin),y=pre?(pre.get("y")||pre.get("group").get("y"))+pre.getHeight()+innerMargin:this._getYAlignVertical(posArray[1],height,tempoRegion,backRange,0,borderMargin,canvas.get("height"));else if("top"===posArray[0]||"bottom"===posArray[0])if(y=this._getYAlignHorizontal(posArray[0],height,region,backRange,legendHeight,borderMargin),pre){var preWidth=pre.getWidth();x=(pre.get("x")||pre.get("group").get("x"))+preWidth+innerMargin}else x=this._getXAlign(posArray[1],width,tempoRegion,backRange,0,borderMargin),"right"===posArray[1]&&(x=plotRange.br.x-tempoRegion.totalWidth);legend.move(x+offsetX,y+offsetY)},_proto._getXAlign=function(pos,width,region,backRange,legendWidth,borderMargin){var x="left"===pos?backRange.minX-legendWidth-borderMargin[3]:backRange.maxX+borderMargin[1];return"center"===pos&&(x=(width-region.totalWidth)/2),x},_proto._getYAlignHorizontal=function(pos,height,region,backRange,legendHeight,borderMargin){return"top"===pos?backRange.minY-legendHeight-borderMargin[0]:backRange.maxY+borderMargin[2]},_proto._getYAlignVertical=function(pos,height,region,backRange,legendHeight,borderMargin,canvasHeight){var y="top"===pos?backRange.minY-legendHeight-borderMargin[0]:height-region.totalHeight;return"center"===pos&&(y=(canvasHeight-region.totalHeight)/2),y},_proto._getSubRegion=function(legends){var maxWidth=0,maxHeight=0,totalWidth=0,totalHeight=0;return Util.each(legends,function(legend){var width=legend.getWidth(),height=legend.getHeight();maxWidth<width&&(maxWidth=width),totalWidth+=width,maxHeight<height&&(maxHeight=height),totalHeight+=height}),{maxWidth:maxWidth,totalWidth:totalWidth,maxHeight:maxHeight,totalHeight:totalHeight}},_proto._getRegion=function(){var self=this,innerMargin=self.viewTheme.legend.legendMargin,subs=[],totalWidth=0,totalHeight=0;return Util.each(self.legends,function(legendItems){var subRegion=self._getSubRegion(legendItems);subs.push(subRegion),totalWidth+=subRegion.totalWidth+innerMargin,totalHeight+=subRegion.totalHeight+innerMargin}),{totalWidth:totalWidth,totalHeight:totalHeight,subs:subs}},_proto._addCategoryLegend=function(scale,attr,geom,filterVals,position){var self=this,field=scale.field,legendOptions=self.options,fieldOption=legendOptions[field];fieldOption&&(legendOptions=fieldOption);var legends=self.legends;legends[position]=legends[position]||[];var container=self.container,items=[],ticks=scale.getTicks(),isByAttr=!0,shapeType=geom.get("shapeType")||"point",shape=geom.getDefaultValue("shape")||"circle";legendOptions[field]&&legendOptions[field].marker?(shape=legendOptions[field].marker,shapeType="point",isByAttr=!1):legendOptions.marker&&(shape=legendOptions.marker,shapeType="point",isByAttr=!1);var chart=self.chart,viewTheme=self.viewTheme,canvas=chart.get("canvas"),plotRange=self.plotRange,posArray=position.split("-"),maxLength="right"===posArray[0]||"left"===posArray[0]?plotRange.bl.y-plotRange.tr.y:canvas.get("width");Util.each(ticks,function(tick){var name=tick.text,scaleValue=tick.value,value=scale.invert(scaleValue),cfg={isInCircle:geom.isInCircle()},checked=!filterVals||self._isFiltered(scale,filterVals,scaleValue),colorAttr=geom.getAttr("color"),shapeAttr=geom.getAttr("shape");if(colorAttr)if(colorAttr.callback&&colorAttr.callback.length>1){var restArgs=Array(colorAttr.callback.length-1).fill("");cfg.color=colorAttr.mapping.apply(colorAttr,[value].concat(restArgs)).join("")||viewTheme.defaultColor}else cfg.color=colorAttr.mapping(value).join("")||viewTheme.defaultColor;if(isByAttr&&shapeAttr)if(shapeAttr.callback&&shapeAttr.callback.length>1){var _restArgs=Array(shapeAttr.callback.length-1).fill("");shape=shapeAttr.mapping.apply(shapeAttr,[value].concat(_restArgs)).join("")}else shape=shapeAttr.mapping(value).join("");var marker=Shape.getShapeFactory(shapeType).getMarkerCfg(shape,cfg);Util.isFunction(shape)&&(marker.symbol=shape),items.push({value:name,dataValue:value,checked:checked,marker:marker})});var legend,legendCfg=Util.deepMix({},viewTheme.legend[posArray[0]],legendOptions[field]||legendOptions,{viewId:chart.get("_id"),maxLength:maxLength,items:items,container:container,position:[0,0]});if(legendCfg.title&&Util.deepMix(legendCfg,{title:{text:scale.alias||scale.field}}),self._isTailLegend(legendOptions,geom))legendCfg.chart=self.chart,legendCfg.geom=geom,legend=new Tail(legendCfg);else if(legendOptions.useHtml){var canvasEle=container.get("canvas").get("el");if(Util.isString(container=legendOptions.container)&&/^\#/.test(container)){var id=container.replace("#","");container=document.getElementById(id)}container||(container=canvasEle.parentNode),legendCfg.container=container,void 0===legendCfg.legendStyle&&(legendCfg.legendStyle={}),legendCfg.legendStyle.CONTAINER_CLASS={position:"absolute",overflow:"auto","z-index":""===canvasEle.style.zIndex?1:parseInt(canvasEle.style.zIndex,10)+1},legendOptions.flipPage?(legendCfg.legendStyle.CONTAINER_CLASS.height="right"===posArray[0]||"left"===posArray[0]?maxLength+"px":"auto",legendCfg.legendStyle.CONTAINER_CLASS.width="right"!==posArray[0]&&"left"!==posArray[0]?maxLength+"px":"auto",legend=new Legend.CatPageHtml(legendCfg)):legend=new Legend.CatHtml(legendCfg)}else legend=new Legend.Category(legendCfg);return self._bindClickEvent(legend,scale,filterVals),legends[position].push(legend),legend},_proto._bindChartMove=function(scale){var legends=this.legends;this.chart.on("plotmove",function(ev){var selected=!1;if(ev.target){var origin=ev.target.get("origin");if(origin){var data=origin._origin||origin[0]._origin;if(data){var value=data[scale.field];Util.each(legends,function(legendItems){Util.each(legendItems,function(legend){selected=!0,!legend.destroyed&&legend.activate(value)})})}}}selected||Util.each(legends,function(legendItems){Util.each(legendItems,function(legend){!legend.destroyed&&legend.deactivate()})})})},_proto._addContinuousLegend=function(scale,attr,position){var legends=this.legends;legends[position]=legends[position]||[];var legend,minValue,maxValue,container=this.container,field=scale.field,ticks=scale.getTicks(),items=[],viewTheme=this.viewTheme;Util.each(ticks,function(tick){var scaleValue=tick.value,invertValue=scale.invert(scaleValue),attrValue=attr.mapping(invertValue).join("");items.push({value:tick.tickValue,attrValue:attrValue,color:attrValue,scaleValue:scaleValue}),0===scaleValue&&(minValue=!0),1===scaleValue&&(maxValue=!0)}),minValue||items.push({value:scale.min,attrValue:attr.mapping(0).join(""),color:attr.mapping(0).join(""),scaleValue:0}),maxValue||items.push({value:scale.max,attrValue:attr.mapping(1).join(""),color:attr.mapping(1).join(""),scaleValue:1});var options=this.options,posArray=position.split("-"),defaultCfg=viewTheme.legend[posArray[0]];(options&&!1===options.slidable||options[field]&&!1===options[field].slidable)&&(defaultCfg=Util.mix({},defaultCfg,viewTheme.legend.gradient));var legendCfg=Util.deepMix({},defaultCfg,options[field]||options,{items:items,attr:attr,formatter:scale.formatter,container:container,position:[0,0]});if(legendCfg.title&&Util.deepMix(legendCfg,{title:{text:scale.alias||scale.field}}),"color"===attr.type)legend=new Legend.Color(legendCfg);else{if("size"!==attr.type)return;legend=options&&"circle"===options.sizeType?new Legend.CircleSize(legendCfg):new Legend.Size(legendCfg)}return this._bindFilterEvent(legend,scale),legends[position].push(legend),legend},_proto._isTailLegend=function(opt,geom){if(opt.hasOwnProperty("attachLast")&&opt.attachLast){var geomType=geom.get("type");if("line"===geomType||"lineStack"===geomType||"area"===geomType||"areaStack"===geomType)return!0}return!1},_proto._adjustPosition=function(position,isTailLegend){var pos;if(isTailLegend)pos="right-top";else if(Util.isArray(position))pos=String(position[0])+"-"+String(position[1]);else{var posArr=position.split("-");1===posArr.length?("left"===posArr[0]&&(pos="left-bottom"),"right"===posArr[0]&&(pos="right-bottom"),"top"===posArr[0]&&(pos="top-center"),"bottom"===posArr[0]&&(pos="bottom-center")):pos=position}return pos},_proto.addLegend=function(scale,attr,geom,filterVals){var legendOptions=this.options,field=scale.field,fieldOption=legendOptions[field],viewTheme=this.viewTheme;if(!1===fieldOption)return null;if(fieldOption&&fieldOption.custom)this.addCustomLegend(field);else{var legend,position=legendOptions.position||viewTheme.defaultLegendPosition;position=this._adjustPosition(position,this._isTailLegend(legendOptions,geom)),fieldOption&&fieldOption.position&&(position=this._adjustPosition(fieldOption.position,this._isTailLegend(fieldOption,geom))),(legend=scale.isLinear?this._addContinuousLegend(scale,attr,position):this._addCategoryLegend(scale,attr,geom,filterVals,position))&&(this._bindHoverEvent(legend,field),legendOptions.reactive&&this._bindChartMove(scale))}},_proto.addCustomLegend=function(field){var chart=this.chart,viewTheme=this.viewTheme,container=this.container,legendOptions=this.options;field&&(legendOptions=legendOptions[field]);var position=legendOptions.position||viewTheme.defaultLegendPosition;position=this._adjustPosition(position);var legends=this.legends;legends[position]=legends[position]||[];var items=legendOptions.items;if(items){var geoms=chart.getAllGeoms();Util.each(items,function(item){var geom=function(geoms,value){var rst;return Util.each(geoms,function(geom){geom.get("visible")&&geom.getYScale().field===value&&(rst=geom)}),rst}(geoms,item.value);Util.isPlainObject(item.marker)?item.marker.radius=item.marker.radius||4.5:(item.marker={symbol:item.marker||"circle",radius:4.5},-1!==Util.indexOf(STROKE_MARKERS,item.marker.symbol)?item.marker.stroke=item.fill:item.marker.fill=item.fill);var symbol=item.marker.symbol;Util.isString(symbol)&&-1!==symbol.indexOf("hollow")&&(item.marker.symbol=Util.lowerFirst(symbol.substr(6))),item.checked=!!Util.isNil(item.checked)||item.checked,item.geom=geom});var legend,canvas=chart.get("canvas"),plotRange=this.plotRange,posArray=position.split("-"),maxLength="right"===posArray[0]||"left"===posArray[0]?plotRange.bl.y-plotRange.tr.y:canvas.get("width"),legendCfg=Util.deepMix({},viewTheme.legend[posArray[0]],legendOptions,{maxLength:maxLength,items:items,container:container,position:[0,0]});if(legendOptions.useHtml){var htmlContainer=legendOptions.container;if(/^\#/.test(container)){var id=htmlContainer.replace("#","");htmlContainer=document.getElementById(id)}else htmlContainer||(htmlContainer=container.get("canvas").get("el").parentNode);legendCfg.container=htmlContainer,void 0===legendCfg.legendStyle&&(legendCfg.legendStyle={}),legendCfg.legendStyle.CONTAINER_CLASS||(legendCfg.legendStyle.CONTAINER_CLASS={height:"right"===posArray[0]||"left"===posArray[0]?maxLength+"px":"auto",width:"right"!==posArray[0]&&"left"!==posArray[0]?maxLength+"px":"auto",position:"absolute",overflow:"auto"}),legend=legendOptions.flipPage?new Legend.CatPageHtml(legendCfg):new Legend.CatHtml(legendCfg)}else legend=new Legend.Category(legendCfg);return legends[position].push(legend),legend.on("itemclick",function(ev){legendOptions.onClick&&legendOptions.onClick(ev)}),this._bindHoverEvent(legend),legend}},_proto.addMixedLegend=function(scales,geoms){var items=[];Util.each(scales,function(scale){var value=scale.alias||scale.field;Util.each(geoms,function(geom){if(geom.getYScale()===scale&&scale.values&&scale.values.length>0){var shapeType=geom.get("shapeType")||"point",shape=geom.getDefaultValue("shape")||"circle",shapeObject=Shape.getShapeFactory(shapeType),cfg={color:geom.getDefaultValue("color")},marker=shapeObject.getMarkerCfg(shape,cfg);items.push({value:value,marker:marker,field:scale.field})}})}),this.options=Util.deepMix({},{custom:!0,items:items},this.options);var legend=this.addCustomLegend();this._bindClickEventForMix(legend)},_proto.alignLegends=function(){var self=this,legends=self.legends,totalRegion=self._getRegion(legends);self.totalRegion=totalRegion;var i=0;return Util.each(legends,function(legendItems,position){var region=totalRegion.subs[i];Util.each(legendItems,function(legend,index){var pre=legendItems[index-1];legend.get("useHtml")&&!legend.get("autoPosition")||self._alignLegend(legend,pre,region,position)}),i++}),this},LegendController}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Components=__webpack_require__(21),Global=__webpack_require__(7);module.exports=function(_Category){var subClass,superClass;function Tail(){return _Category.apply(this,arguments)||this}superClass=_Category,(subClass=Tail).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Tail.prototype;return _proto.getDefaultCfg=function(){var cfg=_Category.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"tail-legend",layout:"vertical",autoLayout:!0})},_proto._addItem=function(item){var itemsGroup=this.get("itemsGroup"),x=this._getNextX(),unCheckColor=this.get("unCheckColor"),itemGroup=itemsGroup.addGroup({x:0,y:0,value:item.value,scaleValue:item.scaleValue,checked:item.checked});itemGroup.translate(x,0),itemGroup.set("viewId",itemsGroup.get("viewId"));var textStyle=this.get("textStyle"),wordSpace=this.get("_wordSpaceing"),startX=0;if(item.marker){var markerAttrs=Util.mix({},item.marker,{x:item.marker.radius,y:0});item.checked||(markerAttrs.fill&&(markerAttrs.fill=unCheckColor),markerAttrs.stroke&&(markerAttrs.stroke=unCheckColor));var markerShape=itemGroup.addShape("marker",{type:"marker",attrs:markerAttrs});markerShape.attr("cursor","pointer"),markerShape.name="legend-marker",startX+=markerShape.getBBox().width+wordSpace}var textAttrs=Util.mix({},textStyle,{x:startX,y:0,text:this._formatItemValue(item.value)});item.checked||Util.mix(textAttrs,{fill:unCheckColor});var textShape=itemGroup.addShape("text",{attrs:textAttrs});textShape.attr("cursor","pointer"),textShape.name="legend-text",this.get("appendInfo")&&textShape.setSilent("appendInfo",this.get("appendInfo"));var bbox=itemGroup.getBBox(),itemWidth=this.get("itemWidth"),wrapperShape=itemGroup.addShape("rect",{attrs:{x:x,y:0-bbox.height/2,fill:"#fff",fillOpacity:0,width:itemWidth||bbox.width,height:bbox.height}});return wrapperShape.attr("cursor","pointer"),wrapperShape.setSilent("origin",item),wrapperShape.name="legend-item",this.get("appendInfo")&&wrapperShape.setSilent("appendInfo",this.get("appendInfo")),itemGroup.name="legendGroup",itemGroup},_proto._adjust=function(){if(this.get("geom")){this.get("group").attr("matrix")[7]=0;var dataArray=this.get("geom").get("dataArray"),groups=this.get("itemsGroup").get("children"),index=0;Util.each(groups,function(groupItem){var dArray=dataArray[index],lastY=dArray[dArray.length-1].y;Util.isArray(lastY)&&(lastY=lastY[1]);var groupHeight=groupItem.getBBox().height,x=groupItem.get("x");groupItem.translate(x,lastY-groupHeight/2),index++}),this.get("autoLayout")&&this._antiCollision(groups)}},_proto.render=function(){var _this=this;_Category.prototype.render.call(this),this.get("chart").once("afterpaint",function(){_this._adjust()})},_proto._getPreviousY=function(item){return item.attr("matrix")[7]+item.getBBox().height},_proto._adjustDenote=function(group,start,end){group.addShape("path",{attrs:{path:"M-2,"+start+"L"+2*-Global.legend.legendMargin+","+(end+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},_proto._antiCollision=function(items){if(void 0===items&&(items=[]),items.length){var self=this;items.sort(function(a,b){return a.attr("matrix")[7]-b.attr("matrix")[7]});var overlapping=!0,plotRange=self.get("chart").get("plotRange"),startY=plotRange.tl.y,totalHeight=Math.abs(startY-plotRange.bl.y),elementHeight=items[0].getBBox().height,minY=Number.MIN_VALUE,maxY=0,boxes=items.map(function(item){var y=item.attr("matrix")[7];return y>maxY&&(maxY=y),y<minY&&(minY=y),{size:item.getBBox().height,targets:[y-startY]}});minY-=startY;for(var i=0;overlapping;){for(var _i=0;_i<boxes.length;_i++){var box=boxes[_i],target=(Math.min.apply(minY,box.targets)+Math.max.apply(minY,box.targets))/2;box.pos=Math.min(Math.max(minY,target-box.size/2),totalHeight-box.size)}for(overlapping=!1,i=boxes.length;i--;)if(i>0){var previous=boxes[i-1],current=boxes[i];previous.pos+previous.size>current.pos&&(previous.size+=current.size,previous.targets=previous.targets.concat(current.targets),boxes.splice(i,1),overlapping=!0)}}i=0;var group=this.get("itemsGroup").addGroup();boxes.forEach(function(b){var posInCompositeBox=startY+elementHeight;b.targets.forEach(function(){var origin_y=items[i].attr("matrix")[7],y=b.pos+posInCompositeBox-elementHeight/2;Math.abs(origin_y-y)>elementHeight/2&&self._adjustDenote(group,y,origin_y-self.get("group").attr("matrix")[7]/2),items[i].translate(0,-origin_y),items[i].translate(0,y),posInCompositeBox+=elementHeight,i++})})}},Tail}(Components.Legend.Category)},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),Tooltip=__webpack_require__(21).Tooltip,Vector2=Util.MatrixUtil.vec2,TYPE_SHOW_MARKERS=["line","area","path","areaStack"],TYPE_SHOW_CROSSHAIRS=["line","area"],IGNORE_TOOLTIP_ITEM_PROPERTIES=["marker","showMarker"];function _hasClass(dom,className){return!!dom&&!!dom.className&&-1!==(Util.isNil(dom.className.baseVal)?dom.className:dom.className.baseVal).indexOf(className)}module.exports=function(){function TooltipController(cfg){Util.assign(this,cfg),this.timeStamp=0}var _proto=TooltipController.prototype;return _proto._normalizeEvent=function(event){var chart=this.chart,canvas=this._getCanvas(),point=canvas.getPointByClient(event.clientX,event.clientY),pixelRatio=canvas.get("pixelRatio");point.x=point.x/pixelRatio,point.y=point.y/pixelRatio;var views=chart.getViewsByPoint(point);return point.views=views,point},_proto._getCanvas=function(){return this.chart.get("canvas")},_proto._getTriggerEvent=function(){var eventName,triggerOn=this.options.triggerOn;return triggerOn&&"mousemove"!==triggerOn?"click"===triggerOn?eventName="plotclick":"none"===triggerOn&&(eventName=null):eventName="plotmove",eventName},_proto._getDefaultTooltipCfg=function(){var chart=this.chart,viewTheme=this.viewTheme,options=this.options,defaultCfg=Util.mix({},viewTheme.tooltip),geoms=chart.getAllGeoms().filter(function(geom){return geom.get("visible")}),shapes=[];Util.each(geoms,function(geom){var type=geom.get("type"),adjusts=geom.get("adjusts"),isSymmetric=!1;adjusts&&Util.each(adjusts,function(adjust){if("symmetric"===adjust.type||"Symmetric"===adjust.type)return isSymmetric=!0,!1}),-1!==Util.indexOf(shapes,type)||isSymmetric||shapes.push(type)});var crosshairsCfg,isTransposed=!(!geoms.length||!geoms[0].get("coord"))&&geoms[0].get("coord").isTransposed;if(geoms.length&&geoms[0].get("coord")&&"cartesian"===geoms[0].get("coord").type)if("interval"===shapes[0]&&!1!==options.shared){var crosshairs=Util.mix({},viewTheme.tooltipCrosshairsRect);crosshairs.isTransposed=isTransposed,crosshairsCfg={zIndex:0,crosshairs:crosshairs}}else if(Util.indexOf(TYPE_SHOW_CROSSHAIRS,shapes[0])>-1){var _crosshairs=Util.mix({},viewTheme.tooltipCrosshairsLine);_crosshairs.isTransposed=isTransposed,crosshairsCfg={crosshairs:_crosshairs}}return Util.mix(defaultCfg,crosshairsCfg,{})},_proto._bindEvent=function(){var chart=this.chart,triggerEvent=this._getTriggerEvent();triggerEvent&&(chart.on(triggerEvent,Util.wrapBehavior(this,"onMouseMove")),chart.on("plotleave",Util.wrapBehavior(this,"onMouseOut")))},_proto._offEvent=function(){var chart=this.chart,triggerEvent=this._getTriggerEvent();triggerEvent&&(chart.off(triggerEvent,Util.getWrapBehavior(this,"onMouseMove")),chart.off("plotleave",Util.getWrapBehavior(this,"onMouseOut")))},_proto._setTooltip=function(point,items,markersItems,target){var tooltip=this.tooltip,prePoint=this.prePoint;if(!prePoint||prePoint.x!==point.x||prePoint.y!==point.y){items=function(items){var tmp=[];return Util.each(items,function(item){var index=function(items,item){var rst=-1;return Util.each(tmp,function(sub,index){var isEqual=!0;for(var key in item)if(item.hasOwnProperty(key)&&-1===IGNORE_TOOLTIP_ITEM_PROPERTIES.indexOf(key)&&!Util.isObject(item[key])&&item[key]!==sub[key]){isEqual=!1;break}if(isEqual)return rst=index,!1}),rst}(0,item);-1===index?tmp.push(item):tmp[index]=item}),tmp}(items),this.prePoint=point;var chart=this.chart,viewTheme=this.viewTheme,x=Util.isArray(point.x)?point.x[point.x.length-1]:point.x,y=Util.isArray(point.y)?point.y[point.y.length-1]:point.y;tooltip.get("visible")||chart.emit("tooltip:show",{x:x,y:y,tooltip:tooltip});var first=items[0],title=first.title||first.name;tooltip.isContentChange(title,items)&&(chart.emit("tooltip:change",{tooltip:tooltip,x:x,y:y,items:items}),tooltip.setContent(title=items[0].title||items[0].name,items),Util.isEmpty(markersItems)?(tooltip.clearMarkers(),tooltip.set("markerItems",[])):!0===this.options.hideMarkers?tooltip.set("markerItems",markersItems):tooltip.setMarkers(markersItems,viewTheme.tooltipMarker)),target===this._getCanvas()&&"mini"===tooltip.get("type")?tooltip.hide():(tooltip.setPosition(x,y,target),tooltip.show())}},_proto.hideTooltip=function(){var tooltip=this.tooltip,chart=this.chart,canvas=this._getCanvas();this.prePoint=null,tooltip.hide(),chart.emit("tooltip:hide",{tooltip:tooltip}),canvas.draw()},_proto.onMouseMove=function(ev){if(!Util.isEmpty(ev.views)){var lastTimeStamp=this.timeStamp,timeStamp=+new Date,point={x:ev.x,y:ev.y};timeStamp-lastTimeStamp>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(point,ev.views,ev.shape),this.timeStamp=timeStamp)}},_proto.onMouseOut=function(ev){var tooltip=this.tooltip;tooltip.get("visible")&&tooltip.get("follow")&&(ev&&ev.toElement&&(_hasClass(ev.toElement,"g2-tooltip")||function(dom,cls){for(var parent=ev.toElement.parentNode,rst=!1;parent&&parent!==document.body;){if(_hasClass(parent,"g2-tooltip")){rst=!0;break}parent=parent.parentNode}return rst}())||this.hideTooltip())},_proto.renderTooltip=function(){var self=this;if(!self.tooltip){var tooltip,chart=self.chart,viewTheme=self.viewTheme,canvas=self._getCanvas(),defaultCfg=self._getDefaultTooltipCfg(),options=self.options;(options=Util.deepMix({plotRange:chart.get("plotRange"),capture:!1,canvas:canvas,frontPlot:chart.get("frontPlot"),viewTheme:viewTheme.tooltip,backPlot:chart.get("backPlot")},defaultCfg,options)).crosshairs&&"rect"===options.crosshairs.type&&(options.zIndex=0),options.visible=!1,"mini"===options.type?(options.crosshairs=!1,options.position="top",tooltip=new Tooltip.Mini(options)):tooltip=options.useHtml?new Tooltip.Html(options):new Tooltip.Canvas(options),self.tooltip=tooltip;var triggerEvent=self._getTriggerEvent();if(!tooltip.get("enterable")&&"plotmove"===triggerEvent){var tooltipContainer=tooltip.get("container");tooltipContainer&&(tooltipContainer.onmousemove=function(e){var eventObj=self._normalizeEvent(e);chart.emit(triggerEvent,eventObj)})}self._bindEvent()}},_proto.showTooltip=function(point,views,target){var self=this;if(!Util.isEmpty(views)&&point){this.tooltip||this.renderTooltip();var options=self.options,markersItems=[],items=[];if(Util.each(views,function(view){if(!view.get("tooltipEnable"))return!0;var geoms=view.get("geoms"),coord=view.get("coord");Util.each(geoms,function(geom){var type=geom.get("type");if(geom.get("visible")&&!1!==geom.get("tooltipCfg")){var dataArray=geom.get("dataArray");if(geom.isShareTooltip()||!1===options.shared&&Util.inArray(["area","line","path","polygon"],type))Util.each(dataArray,function(obj){var tmpPoint=geom.findPoint(point,obj);if(tmpPoint){var subItems=geom.getTipItems(tmpPoint,options.title);Util.each(subItems,function(v){var point=v.point;if(point&&point.x&&point.y){var x=Util.isArray(point.x)?point.x[point.x.length-1]:point.x,y=Util.isArray(point.y)?point.y[point.y.length-1]:point.y;point=coord.applyMatrix(x,y,1),v.x=point[0],v.y=point[1],v.showMarker=!0;var itemMarker=self._getItemMarker(geom,v.color);v.marker=itemMarker,-1!==Util.indexOf(TYPE_SHOW_MARKERS,type)&&markersItems.push(v)}}),items=items.concat(subItems)}});else{var geomContainer=geom.get("shapeContainer"),pixelRatio=geomContainer.get("canvas").get("pixelRatio"),shape=geomContainer.getShape(point.x*pixelRatio,point.y*pixelRatio);shape&&shape.get("visible")&&shape.get("origin")&&(items=geom.getTipItems(shape.get("origin"),options.title))}}}),Util.each(items,function(item){var point=item.point,x=Util.isArray(point.x)?point.x[point.x.length-1]:point.x,y=Util.isArray(point.y)?point.y[point.y.length-1]:point.y;point=coord.applyMatrix(x,y,1),item.x=point[0],item.y=point[1]})}),items.length){var first=items[0];if(!items.every(function(item){return item.title===first.title})){var nearestItem=first,nearestDistance=1/0;items.forEach(function(item){var distance=Vector2.distance([point.x,point.y],[item.x,item.y]);distance<nearestDistance&&(nearestDistance=distance,nearestItem=item)}),items=items.filter(function(item){return item.title===nearestItem.title}),markersItems=markersItems.filter(function(item){return item.title===nearestItem.title})}if(!1===options.shared&&items.length>1){var snapItem=items[0],min=Math.abs(point.y-snapItem.y);Util.each(items,function(aItem){Math.abs(point.y-aItem.y)<=min&&(snapItem=aItem,min=Math.abs(point.y-aItem.y))}),snapItem&&snapItem.x&&snapItem.y&&(markersItems=[snapItem]),items=[snapItem]}self._setTooltip(point,items,markersItems,target)}else self.hideTooltip()}},_proto.clear=function(){var tooltip=this.tooltip;tooltip&&tooltip.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},_proto._getItemMarker=function(geom,color){var shapeType=geom.get("shapeType")||"point",shape=geom.getDefaultValue("shape")||"circle";return Shape.getShapeFactory(shapeType).getMarkerCfg(shape,{color:color})},TooltipController}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0);function isSameShape(shape1,shape2){if(Util.isNil(shape1)||Util.isNil(shape2))return!1;var shape1Origin=shape1.get("origin"),shape2Origin=shape2.get("origin");return Util.isNil(shape1Origin)&&Util.isNil(shape2Origin)?Util.isEqual(shape1,shape2):Util.isEqual(shape1Origin,shape2Origin)}function registerData(eventObj){eventObj.shape&&eventObj.shape.get("origin")&&(eventObj.data=eventObj.shape.get("origin"))}module.exports=function(){function EventController(cfg){this.view=null,this.canvas=null,Util.assign(this,cfg),this._init()}var _proto=EventController.prototype;return _proto._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},_proto._getShapeEventObj=function(ev){return{x:ev.x/this.pixelRatio,y:ev.y/this.pixelRatio,target:ev.target,toElement:ev.event.toElement||ev.event.relatedTarget}},_proto._getShape=function(x,y){return this.view.get("canvas").getShape(x,y)},_proto._getPointInfo=function(ev){var point={x:ev.x/this.pixelRatio,y:ev.y/this.pixelRatio},views=this.view.getViewsByPoint(point);return point.views=views,point},_proto._getEventObj=function(ev,point,views){return{x:point.x,y:point.y,target:ev.target,toElement:ev.event.toElement||ev.event.relatedTarget,views:views}},_proto.bindEvents=function(){var canvas=this.canvas;canvas.on("mousedown",Util.wrapBehavior(this,"onDown")),canvas.on("mousemove",Util.wrapBehavior(this,"onMove")),canvas.on("mouseleave",Util.wrapBehavior(this,"onOut")),canvas.on("mouseup",Util.wrapBehavior(this,"onUp")),canvas.on("click",Util.wrapBehavior(this,"onClick")),canvas.on("dblclick",Util.wrapBehavior(this,"onClick")),canvas.on("touchstart",Util.wrapBehavior(this,"onTouchstart")),canvas.on("touchmove",Util.wrapBehavior(this,"onTouchmove")),canvas.on("touchend",Util.wrapBehavior(this,"onTouchend"))},_proto._triggerShapeEvent=function(shape,eventName,eventObj){if(shape&&shape.name&&!shape.get("destroyed")){var view=this.view;if(view.isShapeInView(shape)){var name=shape.name+":"+eventName;eventObj.view=view,eventObj.appendInfo=shape.get("appendInfo"),view.emit(name,eventObj);var parent=view.get("parent");parent&&parent.emit(name,eventObj)}}},_proto.onDown=function(ev){var view=this.view,eventObj=this._getShapeEventObj(ev);eventObj.shape=this.currentShape,registerData(eventObj),view.emit("mousedown",eventObj),this._triggerShapeEvent(this.currentShape,"mousedown",eventObj)},_proto.onMove=function(ev){var view=this.view,currentShape=this.currentShape;currentShape&&currentShape.get("destroyed")&&(currentShape=null,this.currentShape=null);var shape=this._getShape(ev.x,ev.y)||ev.currentTarget,eventObj=this._getShapeEventObj(ev);if(eventObj.shape=shape,registerData(eventObj),view.emit("mousemove",eventObj),this._triggerShapeEvent(shape,"mousemove",eventObj),currentShape&&!isSameShape(currentShape,shape)){var leaveObj=this._getShapeEventObj(ev);leaveObj.shape=currentShape,leaveObj.toShape=shape,registerData(leaveObj),this._triggerShapeEvent(currentShape,"mouseleave",leaveObj)}if(shape&&!isSameShape(currentShape,shape)){var enterObj=this._getShapeEventObj(ev);enterObj.shape=shape,enterObj.fromShape=currentShape,registerData(enterObj),this._triggerShapeEvent(shape,"mouseenter",enterObj)}this.currentShape=shape;var point=this._getPointInfo(ev),preViews=this.curViews||[];0===preViews.length&&point.views.length&&view.emit("plotenter",this._getEventObj(ev,point,point.views)),preViews.length&&0===point.views.length&&view.emit("plotleave",this._getEventObj(ev,point,preViews)),point.views.length&&((eventObj=this._getEventObj(ev,point,point.views)).shape=shape,registerData(eventObj),view.emit("plotmove",eventObj)),this.curViews=point.views},_proto.onOut=function(ev){var view=this.view,point=this._getPointInfo(ev),evtObj=this._getEventObj(ev,point,this.curViews||[]);!this.curViews||0===this.curViews.length||evtObj.toElement&&"CANVAS"===evtObj.toElement.tagName||(view.emit("plotleave",evtObj),this.curViews=[])},_proto.onUp=function(ev){var view=this.view,eventObj=this._getShapeEventObj(ev);eventObj.shape=this.currentShape,view.emit("mouseup",eventObj),this._triggerShapeEvent(this.currentShape,"mouseup",eventObj)},_proto.onClick=function(ev){var view=this.view,shape=this._getShape(ev.x,ev.y)||ev.currentTarget,shapeEventObj=this._getShapeEventObj(ev);shapeEventObj.shape=shape,registerData(shapeEventObj),view.emit("click",shapeEventObj),this._triggerShapeEvent(shape,ev.type,shapeEventObj),this.currentShape=shape;var point=this._getPointInfo(ev),views=point.views;if(!Util.isEmpty(views)){var eventObj=this._getEventObj(ev,point,views);this.currentShape&&(eventObj.shape=this.currentShape,registerData(eventObj)),"dblclick"===ev.type?(view.emit("plotdblclick",eventObj),view.emit("dblclick",shapeEventObj)):view.emit("plotclick",eventObj)}},_proto.onTouchstart=function(ev){var view=this.view,shape=this._getShape(ev.x,ev.y)||ev.currentTarget,eventObj=this._getShapeEventObj(ev);eventObj.shape=shape,registerData(eventObj),view.emit("touchstart",eventObj),this._triggerShapeEvent(shape,"touchstart",eventObj),this.currentShape=shape},_proto.onTouchmove=function(ev){var view=this.view,shape=this._getShape(ev.x,ev.y)||ev.currentTarget,eventObj=this._getShapeEventObj(ev);eventObj.shape=shape,registerData(eventObj),view.emit("touchmove",eventObj),this._triggerShapeEvent(shape,"touchmove",eventObj),this.currentShape=shape},_proto.onTouchend=function(ev){var view=this.view,eventObj=this._getShapeEventObj(ev);eventObj.shape=this.currentShape,registerData(eventObj),view.emit("touchend",eventObj),this._triggerShapeEvent(this.currentShape,"touchend",eventObj)},_proto.clearEvents=function(){var canvas=this.canvas;canvas.off("mousemove",Util.getWrapBehavior(this,"onMove")),canvas.off("mouseleave",Util.getWrapBehavior(this,"onOut")),canvas.off("mousedown",Util.getWrapBehavior(this,"onDown")),canvas.off("mouseup",Util.getWrapBehavior(this,"onUp")),canvas.off("click",Util.getWrapBehavior(this,"onClick")),canvas.off("dblclick",Util.getWrapBehavior(this,"onClick")),canvas.off("touchstart",Util.getWrapBehavior(this,"onTouchstart")),canvas.off("touchmove",Util.getWrapBehavior(this,"onTouchmove")),canvas.off("touchend",Util.getWrapBehavior(this,"onTouchend"))},EventController}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Animate=__webpack_require__(126),mat3=Util.MatrixUtil.mat3;function getShapes(container,viewId){var shapes=[];if(!1===container.get("animate"))return[];var children=container.get("children");return Util.each(children,function(child){if(child.isGroup)shapes=shapes.concat(getShapes(child,viewId));else if(child.isShape&&child._id){var id=child._id;(id=id.split("-")[0])===viewId&&shapes.push(child)}}),shapes}function getAnimate(geomType,coord,animationType,animationName){return animationName?Animate.Action[animationType][animationName]:Animate.getAnimation(geomType,coord,animationType)}function getAnimateCfg(geomType,animationType,animateCfg){var defaultCfg=Animate.getAnimateCfg(geomType,animationType);return animateCfg&&animateCfg[animationType]?Util.deepMix({},defaultCfg,animateCfg[animationType]):defaultCfg}module.exports={execAnimation:function(view,isUpdate){var viewContainer=view.get("middlePlot"),axisContainer=view.get("backPlot"),viewId=view.get("_id"),canvas=view.get("canvas"),caches=canvas.get(viewId+"caches")||[];0===caches.length&&(isUpdate=!1);var rst,shapes=getShapes(viewContainer,viewId),axisShapes=getShapes(axisContainer,viewId),cacheShapes=shapes.concat(axisShapes);canvas.setSilent(viewId+"caches",(rst={},Util.each(cacheShapes,function(shape){if(shape._id&&!shape.isClip){var id=shape._id;rst[id]={_id:id,type:shape.get("type"),attrs:Util.cloneDeep(shape.attr()),name:shape.name,index:shape.get("index"),animateCfg:shape.get("animateCfg"),coord:shape.get("coord")}}}),rst)),function(cache,shapes,canvas,isUpdate){var animate,animateCfg,canvasDrawn=!1;if(isUpdate){var updateShapes=[],newShapes=[];Util.each(shapes,function(shape){var result=cache[shape._id];result?(shape.setSilent("cacheShape",result),updateShapes.push(shape),delete cache[shape._id]):newShapes.push(shape)}),Util.each(cache,function(deletedShape){var name=deletedShape.name,coord=deletedShape.coord,_id=deletedShape._id,attrs=deletedShape.attrs,index=deletedShape.index,type=deletedShape.type;if(animateCfg=getAnimateCfg(name,"leave",deletedShape.animateCfg),animate=getAnimate(name,coord,"leave",animateCfg.animation),Util.isFunction(animate)){var tempShape=canvas.addShape(type,{attrs:attrs,index:index});if(tempShape._id=_id,tempShape.name=name,coord&&"label"!==name){var tempShapeMatrix=tempShape.getMatrix(),finalMatrix=mat3.multiply([],tempShapeMatrix,coord.matrix);tempShape.setMatrix(finalMatrix)}canvasDrawn=!0,animate(tempShape,animateCfg,coord)}}),Util.each(updateShapes,function(updateShape){var name=updateShape.name,coord=updateShape.get("coord"),cacheAttrs=updateShape.get("cacheShape").attrs;if(!Util.isEqual(cacheAttrs,updateShape.attr())){if(animateCfg=getAnimateCfg(name,"update",updateShape.get("animateCfg")),animate=getAnimate(name,coord,"update",animateCfg.animation),Util.isFunction(animate))animate(updateShape,animateCfg,coord);else{var endState=Util.cloneDeep(updateShape.attr());updateShape.attr(cacheAttrs),updateShape.animate(endState,animateCfg.duration,animateCfg.easing,function(){updateShape.setSilent("cacheShape",null)})}canvasDrawn=!0}}),Util.each(newShapes,function(newShape){var name=newShape.name,coord=newShape.get("coord");animateCfg=getAnimateCfg(name,"enter",newShape.get("animateCfg")),animate=getAnimate(name,coord,"enter",animateCfg.animation),Util.isFunction(animate)&&(animate(newShape,animateCfg,coord),canvasDrawn=!0)})}else Util.each(shapes,function(shape){var name=shape.name,coord=shape.get("coord");animateCfg=getAnimateCfg(name,"appear",shape.get("animateCfg")),animate=getAnimate(name,coord,"appear",animateCfg.animation),Util.isFunction(animate)&&(animate(shape,animateCfg,coord),canvasDrawn=!0)});return canvasDrawn}(caches,isUpdate?cacheShapes:shapes,canvas,isUpdate)||canvas.draw()}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),_require=__webpack_require__(16);module.exports=function(_Group){var subClass,superClass;function PlotBack(){return _Group.apply(this,arguments)||this}superClass=_Group,(subClass=PlotBack).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=PlotBack.prototype;return _proto.getDefaultCfg=function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_proto._beforeRenderUI=function(){this._calculateRange()},_proto._renderUI=function(){this._renderBackground(),this._renderPlotBackground()},_proto._renderBackground=function(){var background=this.get("background");if(background){var canvas=this.get("canvas"),cfg={x:0,y:0,width:this.get("width")||canvas.get("width"),height:this.get("height")||canvas.get("height")},rect=this.get("backgroundShape");rect?rect.attr(cfg):(rect=this.addShape("rect",{attrs:Util.mix(cfg,background)}),this.set("backgroundShape",rect))}},_proto._renderPlotBackground=function(){var plotBackground=this.get("plotBackground");if(plotBackground){var plotRange=this.get("plotRange"),tl=plotRange.tl,cfg={x:tl.x,y:tl.y,width:plotRange.br.x-plotRange.bl.x,height:plotRange.br.y-plotRange.tr.y},plotBackShape=this.get("plotBackShape");plotBackShape?plotBackShape.attr(cfg):(plotBackground.image?(cfg.img=plotBackground.image,plotBackShape=this.addShape("image",{attrs:cfg})):(Util.mix(cfg,plotBackground),plotBackShape=this.addShape("rect",{attrs:cfg})),this.set("plotBackShape",plotBackShape))}},_proto._convert=function(val,isHorizontal){if(Util.isString(val))if("auto"===val)val=0;else if(-1!==val.indexOf("%")){var canvas=this.get("canvas"),width=this.get("width")||canvas.get("width"),height=this.get("height")||canvas.get("height");val=parseInt(val,10)/100,val=isHorizontal?val*width:val*height}return val},_proto._calculateRange=function(){var plotRange=this.get("plotRange");Util.isNil(plotRange)&&(plotRange={});var padding=this.get("padding"),canvas=this.get("canvas"),width=this.get("width")||canvas.get("width"),height=this.get("height")||canvas.get("height"),allPadding=Util.toAllPadding(padding),top=this._convert(allPadding[0],!1),right=this._convert(allPadding[1],!0),bottom=this._convert(allPadding[2],!1),left=this._convert(allPadding[3],!0),minX=Math.min(left,width-right),maxX=Math.max(left,width-right),minY=Math.min(height-bottom,top),maxY=Math.max(height-bottom,top);plotRange.tl={x:minX,y:minY},plotRange.tr={x:maxX,y:minY},plotRange.bl={x:minX,y:maxY},plotRange.br={x:maxX,y:maxY},plotRange.cc={x:(maxX+minX)/2,y:(maxY+minY)/2},this.set("plotRange",plotRange)},_proto.repaint=function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this},PlotBack}(_require.Group)},function(module,exports,__webpack_require__){var Global=__webpack_require__(7),Util=__webpack_require__(0);module.exports={getDefaultSize:function(){var defaultSize=this.get("defaultSize"),viewTheme=this.get("viewTheme")||Global;if(!defaultSize){var count,coord=this.get("coord"),xScale=this.getXScale(),xValues=xScale.values,dataArray=this.get("dataArray");if(xScale.isLinear&&xValues.length>1){xValues.sort();var interval=function(arr,scale){var count=arr.length;Util.isString(arr[0])&&(arr=arr.map(function(v){return scale.translate(v)}));for(var distance=arr[1]-arr[0],i=2;i<count;i++){var tmp=arr[i]-arr[i-1];distance>tmp&&(distance=tmp)}return distance}(xValues,xScale);xValues.length>(count=(xScale.max-xScale.min)/interval)&&(count=xValues.length)}else count=xValues.length;var range=xScale.range,normalizeSize=1/count,widthRatio=1;this.isInCircle()?widthRatio=coord.isTransposed&&count>1?viewTheme.widthRatio.multiplePie:viewTheme.widthRatio.rose:(xScale.isLinear&&(normalizeSize*=range[1]-range[0]),widthRatio=viewTheme.widthRatio.column),normalizeSize*=widthRatio,this.hasAdjust("dodge")&&(normalizeSize/=this._getDodgeCount(dataArray)),this.set("defaultSize",defaultSize=normalizeSize)}return defaultSize},_getDodgeCount:function(dataArray){var dodgeBy,adjusts=this.get("adjusts"),count=dataArray.length;if(Util.each(adjusts,function(adjust){"dodge"===adjust.type&&(dodgeBy=adjust.dodgeBy)}),dodgeBy){var mergeData=Util.Array.merge(dataArray);count=Util.Array.values(mergeData,dodgeBy).length}return count},getDimWidth:function(dimName){var coord=this.get("coord"),start=coord.convertPoint({x:0,y:0}),end=coord.convertPoint({x:"x"===dimName?1:0,y:"x"===dimName?0:1}),width=0;return start&&end&&(width=Math.sqrt(Math.pow(end.x-start.x,2)+Math.pow(end.y-start.y,2))),width},_getWidth:function(){var coord=this.get("coord");return this.isInCircle()&&!coord.isTransposed?(coord.endAngle-coord.startAngle)*coord.radius:this.getDimWidth("x")},_toNormalizedSize:function(size){return size/this._getWidth()},_toCoordSize:function(normalizeSize){return this._getWidth()*normalizeSize},getNormalizedSize:function(obj){var size=this.getAttrValue("size",obj);return Util.isNil(size)?this.getDefaultSize():this._toNormalizedSize(size)},getSize:function(obj){var size=this.getAttrValue("size",obj);if(Util.isNil(size)){var normalizeSize=this.getDefaultSize();size=this._toCoordSize(normalizeSize)}return size}}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Global=__webpack_require__(7);module.exports={splitData:function(data){var viewTheme=this.get("viewTheme")||Global;if(!data.length)return[];var yValue,arr=[],tmp=[],yDim=this.getYScale().field;return Util.each(data,function(obj){yValue=obj._origin?obj._origin[yDim]:obj[yDim],viewTheme.connectNulls?Util.isNil(yValue)||tmp.push(obj):Util.isArray(yValue)&&Util.isNil(yValue[0])||Util.isNil(yValue)?tmp.length&&(arr.push(tmp),tmp=[]):tmp.push(obj)}),tmp.length&&arr.push(tmp),arr}}},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),SplitMixin=__webpack_require__(358),Util=__webpack_require__(0),Path=function(_GeomBase){var subClass,superClass;superClass=_GeomBase,(subClass=Path).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Path.prototype;function Path(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SplitMixin),_this}return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="path",cfg.shapeType="line",cfg},_proto.getDrawCfg=function(obj){var cfg=_GeomBase.prototype.getDrawCfg.call(this,obj);return cfg.isStack=this.hasStack(),cfg},_proto.draw=function(data,container,shapeFactory,index){var self=this,splitArray=this.splitData(data),cfg=this.getDrawCfg(data[0]);self._applyViewThemeShapeStyle(cfg,cfg.shape,shapeFactory),cfg.origin=data,Util.each(splitArray,function(subData,splitedIndex){if(!Util.isEmpty(subData)){cfg.splitedIndex=splitedIndex,cfg.points=subData;var geomShape=shapeFactory.drawShape(cfg.shape,cfg,container);self.appendShapeInfo(geomShape,index+splitedIndex)}})},Path}(GeomBase);GeomBase.Path=Path,module.exports=Path},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__namespace__=__webpack_require__(370),__WEBPACK_IMPORTED_MODULE_1__namespaces__=__webpack_require__(371);function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===__WEBPACK_IMPORTED_MODULE_1__namespaces__.b&&document.documentElement.namespaceURI===__WEBPACK_IMPORTED_MODULE_1__namespaces__.b?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}__webpack_exports__.a=function(name){var fullname=Object(__WEBPACK_IMPORTED_MODULE_0__namespace__.a)(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(node,event){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=function(transition,name,value){var id=transition._id;return transition.each(function(){var schedule=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)}),function(node){return Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(node,id).value[name]}};var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name:name,value:value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}__webpack_exports__.a=function(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))}},function(module,exports,__webpack_require__){var Global=__webpack_require__(7),Util=__webpack_require__(0),assign=Util.assign,isNil=Util.isNil,isArray=Util.isArray,cloneDeep=Util.cloneDeep,wrapBehavior=Util.wrapBehavior,getWrapBehavior=Util.getWrapBehavior;module.exports=function(){var _proto=Base.prototype;function Base(cfg){var defaultCfg=this.getDefaultCfg();assign(this,defaultCfg,cfg),this.init()}return _proto.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:Global.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:Global.fontFamily}}}},_proto.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},_proto.initContainer=function(){var group=this.chart.get("frontPlot").addGroup();this.group=group},_proto.initViews=function(){for(var chart=this.chart,data=chart.get("data"),eachView=this.eachView,facets=this.generateFacets(data),i=0;i<facets.length;i++){var facet=facets[i],region=facet.region,view=chart.view({start:region.start,end:region.end,padding:this.padding});view.source(facet.data),this.beforeProcessView(view,facet),eachView&&eachView(view,facet),this.afterProcessView(view,facet),facet.view=view}this.facets=facets},_proto.beforeProcessView=function(){},_proto.afterProcessView=function(view,facet){this.autoSetAxis&&this.processAxis(view,facet)},_proto.processAxis=function(view,facet){var viewOptions=view.get("options"),geoms=view.get("geoms");if((!viewOptions.coord.type||"rect"===viewOptions.coord.type)&&geoms.length){var field=geoms[0].get("attrOptions").position.field,fields=isArray(field)?field:field.split("*").map(function(str){return str.trim()}),xField=fields[0],yField=fields[1];isNil(viewOptions.axes)&&(viewOptions.axes={});var axes=viewOptions.axes;!1!==axes&&(xField&&!1!==axes[xField]&&(axes[xField]=axes[xField]||{},this.setXAxis(xField,axes,facet)),yField&&!1!==axes[yField]&&(axes[yField]=axes[yField]||{},this.setYAxis(yField,axes,facet)))}},_proto.setXAxis=function(){},_proto.setYAxis=function(){},_proto.renderTitle=function(view,facet){this.drawColTitle(view,facet)},_proto.getScaleText=function(field,value,view){var rst;if(field){var scale=view.get("scales")[field];scale||(scale=view.createScale(field)),rst=scale.getText(value)}else rst=value;return rst},_proto.drawColTitle=function(view,facet){var text=this.getScaleText(facet.colField,facet.colValue,view),colTextCfg=assign({position:["50%","0%"],content:text},this.colTitle);view.guide().text(colTextCfg)},_proto.drawRowTitle=function(view,facet){var text=this.getScaleText(facet.rowField,facet.rowValue,view),rowTextCfg=assign({position:["100%","50%"],content:text},cloneDeep(this.rowTitle));view.guide().text(rowTextCfg)},_proto.getFilter=function(conditions){return function(obj){var filtered=!0;return conditions.forEach(function(cond){var field=cond.field,value=cond.value,tmp=!0;!isNil(value)&&field&&(tmp=obj[field]===value),filtered=filtered&&tmp}),filtered}},_proto.getFieldValues=function(field,data){for(var rst=[],tmpMap={},i=0;i<data.length;i++){var value=data[i][field];isNil(value)||tmpMap[value]||(rst.push(value),tmpMap[value]=!0)}return rst},_proto.getRegion=function(rows,cols,xIndex,yIndex){var xWidth=1/cols,yWidth=1/rows,start={x:xWidth*xIndex,y:yWidth*yIndex};return{start:start,end:{x:start.x+xWidth,y:start.y+yWidth}}},_proto.generateFacets=function(){return[]},_proto._bindEvent=function(){var chart=this.chart;chart.on("afterchangedata",wrapBehavior(this,"onDataChange")),chart.on("beforeclear",wrapBehavior(this,"onClear")),chart.on("beforedestroy",wrapBehavior(this,"destroy")),chart.on("beforepaint",wrapBehavior(this,"onPaint")),chart.on("setdata",wrapBehavior(this,"onDataChange"))},_proto._clearEvent=function(){var chart=this.chart;chart&&(chart.off("afterchangedata",getWrapBehavior(this,"onDataChange")),chart.off("beforeclear",getWrapBehavior(this,"onClear")),chart.off("beforedestroy",getWrapBehavior(this,"destroy")),chart.off("beforepaint",getWrapBehavior(this,"onPaint")),chart.off("setdata",getWrapBehavior(this,"onDataChange")))},_proto._clearFacets=function(){var facets=this.facets,chart=this.chart;if(facets)for(var i=0;i<facets.length;i++)chart.removeView(facets[i].view);this.facets=null},_proto.onClear=function(){this.onRemove()},_proto.onPaint=function(){if(this.showTitle)for(var facets=this.facets,i=0;i<facets.length;i++){var facet=facets[i];this.renderTitle(facet.view,facet)}},_proto.onDataChange=function(){this._clearFacets(),this.initViews()},_proto.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},_proto.destroy=function(){this.onRemove(),this.destroyed=!0},Base}()},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),SizeMixin=__webpack_require__(357);__webpack_require__(365);var Interval=function(_GeomBase){_inheritsLoose(Interval,_GeomBase);var _proto=Interval.prototype;function Interval(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SizeMixin),_this}return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="interval",cfg.shapeType="interval",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj);return cfg.size=this.getNormalizedSize(obj),cfg},_proto.clearInner=function(){_GeomBase.prototype.clearInner.call(this),this.set("defaultSize",null)},Interval}(GeomBase),IntervalStack=function(_Interval){function IntervalStack(){return _Interval.apply(this,arguments)||this}return _inheritsLoose(IntervalStack,_Interval),IntervalStack.prototype.getDefaultCfg=function(){var cfg=_Interval.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},IntervalStack}(Interval),IntervalDodge=function(_Interval2){function IntervalDodge(){return _Interval2.apply(this,arguments)||this}return _inheritsLoose(IntervalDodge,_Interval2),IntervalDodge.prototype.getDefaultCfg=function(){var cfg=_Interval2.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"dodge"}],cfg},IntervalDodge}(Interval),IntervalSymmetric=function(_Interval3){function IntervalSymmetric(){return _Interval3.apply(this,arguments)||this}return _inheritsLoose(IntervalSymmetric,_Interval3),IntervalSymmetric.prototype.getDefaultCfg=function(){var cfg=_Interval3.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"symmetric"}],cfg},IntervalSymmetric}(Interval);Interval.Stack=IntervalStack,Interval.Dodge=IntervalDodge,Interval.Symmetric=IntervalSymmetric,GeomBase.Interval=Interval,GeomBase.IntervalStack=IntervalStack,GeomBase.IntervalDodge=IntervalDodge,GeomBase.IntervalSymmetric=IntervalSymmetric,module.exports=Interval},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),PathUtil=__webpack_require__(22),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),G=__webpack_require__(16),GPathUtil=Util.PathUtil;function getRectPoints(cfg,isPyramid){var xmin,xmax,x=cfg.x,y=cfg.y,width=cfg.size,ymin=cfg.y0,ymax=y;Util.isArray(y)&&(ymax=y[1],ymin=y[0]),Util.isArray(x)?(xmin=x[0],xmax=x[1]):(xmin=x-width/2,xmax=x+width/2);var points=[];return points.push({x:xmin,y:ymin},{x:xmin,y:ymax}),isPyramid?points.push({x:xmax,y:(ymax+ymin)/2}):points.push({x:xmax,y:ymax},{x:xmax,y:ymin}),points}function getRectPath(points){for(var path=[],i=0;i<points.length;i++){var point=points[i];point&&path.push([0===i?"M":"L",point.x,point.y])}var first=points[0];return path.push(["L",first.x,first.y]),path.push(["z"]),path}function getFillAttrs(cfg){var attrs=Util.mix({},Global.shape.interval,cfg.style);return ShapeUtil.addFillAttrs(attrs,cfg),cfg.color&&(attrs.stroke=attrs.stroke||cfg.color),attrs}function getLineAttrs(cfg){var attrs=Util.mix({},Global.shape.hollowInterval,cfg.style);return ShapeUtil.addStrokeAttrs(attrs,cfg),attrs}function getFunnelPath(cfg,isFunnel){var path=[],points=cfg.points,nextPoints=cfg.nextPoints;return Util.isNil(nextPoints)?path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["L",points[2].x,points[2].y],isFunnel?["L",points[3].x,points[3].y]:["L",points[2].x,points[2].y],["Z"]):path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["L",nextPoints[1].x,nextPoints[1].y],["L",nextPoints[0].x,nextPoints[0].y],["Z"]),path}var Interval=Shape.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(type,cfg){return!type||Util.inArray(["rect","funnel","pyramid"],type)?{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.15}:{lineWidth:(cfg.lineWidth||0)+1}},getDefaultPoints:function(pointInfo){return getRectPoints(pointInfo)},getSelectedCfg:function(type,cfg){return function(type,cfg){var selectedCfg,coord=cfg.geom.get("coord");if(coord&&"theta"===coord.type){var thetaCfg=function(point,coord){var startAngle,endAngle,endPoint,r=coord.getRadius(),ir=r*coord.innerRadius;return!Util.isArray(point.x)&&Util.isArray(point.y)&&(point.x=[point.x,point.x]),Util.isArray(point.x)?(endPoint={x:point.x[1],y:point.y[1]},startAngle=PathUtil.getPointAngle(coord,{x:point.x[0],y:point.y[0]}),(endAngle=PathUtil.getPointAngle(coord,endPoint))<=startAngle&&(endAngle+=2*Math.PI)):(startAngle=coord.startAngle,endAngle=PathUtil.getPointAngle(coord,endPoint=point)),{r:r,ir:ir,startAngle:startAngle,endAngle:endAngle}}(cfg.point,coord),middleAngle=(thetaCfg.endAngle-thetaCfg.startAngle)/2+thetaCfg.startAngle;selectedCfg={transform:[["t",7.5*Math.cos(middleAngle),7.5*Math.sin(middleAngle)]]}}return Util.mix({},selectedCfg)}(0,cfg)}});function getWaterWavePositions(x,stage,waveLength,amplitude){return 0===stage?[[x+.5*waveLength/Math.PI/2,amplitude/2],[x+.5*waveLength/Math.PI,amplitude],[x+waveLength/4,amplitude]]:1===stage?[[x+.5*waveLength/Math.PI/2*(Math.PI-2),amplitude],[x+.5*waveLength/Math.PI/2*(Math.PI-1),amplitude/2],[x+waveLength/4,0]]:2===stage?[[x+.5*waveLength/Math.PI/2,-amplitude/2],[x+.5*waveLength/Math.PI,-amplitude],[x+waveLength/4,-amplitude]]:[[x+.5*waveLength/Math.PI/2*(Math.PI-2),-amplitude],[x+.5*waveLength/Math.PI/2*(Math.PI-1),-amplitude/2],[x+waveLength/4,0]]}function getWaterWavePath(radius,waterLevel,waveLength,phase,amplitude,cx,cy){for(var curves=2*Math.ceil(2*radius/waveLength*4),path=[];phase<2*-Math.PI;)phase+=2*Math.PI;for(;phase>0;)phase-=2*Math.PI;var left=cx-radius+(phase=phase/Math.PI/2*waveLength)-2*radius;path.push(["M",left,waterLevel]);for(var waveRight=0,c=0;c<curves;++c){var pos=getWaterWavePositions(c*waveLength/4,c%4,waveLength,amplitude);path.push(["C",pos[0][0]+left,-pos[0][1]+waterLevel,pos[1][0]+left,-pos[1][1]+waterLevel,pos[2][0]+left,-pos[2][1]+waterLevel]),c===curves-1&&(waveRight=pos[2][0])}return path.push(["L",waveRight+left,cy+radius]),path.push(["L",left,cy+radius]),path.push(["L",left,waterLevel]),path}function addWaterWave(x,y,level,waveCount,colors,group,clip,radius){for(var bbox=clip.getBBox(),width=bbox.maxX-bbox.minX,height=bbox.maxY-bbox.minY,i=0;i<waveCount;i++){var wave=group.addShape("path",{attrs:{path:getWaterWavePath(radius,bbox.minY+height*level,width/4,0,width/64,x,y),fill:colors[i],clip:clip}});"canvas"===Global.renderer&&wave.animate({transform:[["t",width/2,0]],repeat:!0},5e3-300*i)}}Shape.registerShape("interval","rect",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getRectPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var rectCfg=getFillAttrs(cfg),isInCircle=cfg.isInCircle;return Util.mix({symbol:isInCircle?"circle":"square",radius:isInCircle?4.5:4},rectCfg)}}),Shape.registerShape("interval","hollowRect",{draw:function(cfg,container){var attrs=getLineAttrs(cfg),path=getRectPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var rectCfg=getLineAttrs(cfg),isInCircle=cfg.isInCircle;return Util.mix({symbol:isInCircle?"circle":"square",radius:isInCircle?4.5:4},rectCfg)}}),Shape.registerShape("interval","line",{getPoints:function(pointInfo){return x=(cfg=pointInfo).x,y0=cfg.y0,points=[],Util.isArray(y=cfg.y)?Util.each(y,function(yItem,idx){points.push({x:Util.isArray(x)?x[idx]:x,y:yItem})}):points.push({x:x,y:y},{x:x,y:y0}),points;var cfg,x,y,y0,points},draw:function(cfg,container){var attrs=getLineAttrs(cfg);attrs.lineWidth=cfg.size||1;var path=getRectPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var lineCfg=getLineAttrs(cfg);return Util.mix({symbol:"line",radius:5},lineCfg)}}),Shape.registerShape("interval","tick",{getPoints:function(pointInfo){return x=(cfg=pointInfo).x,y=Util.isArray(cfg.y)?cfg.y[1]:cfg.y,y0=Util.isArray(cfg.y)?cfg.y[0]:cfg.y0,(points=[]).push({x:x-(barWidth=cfg.size)/2,y:y},{x:x+barWidth/2,y:y},{x:x,y:y},{x:x,y:y0},{x:x-barWidth/2,y:y0},{x:x+barWidth/2,y:y0}),points;var cfg,x,y,y0,barWidth,points},draw:function(cfg,container){var attrs=getLineAttrs(cfg);attrs.lineWidth||(attrs.lineWidth=2);var path=function(points){var path=[];return path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["M",points[4].x,points[4].y],["L",points[5].x,points[5].y]),path}(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var lineCfg=getLineAttrs(cfg);return Util.mix({symbol:"tick",radius:5},lineCfg)}}),Shape.registerShape("interval","funnel",{getPoints:function(pointInfo){return pointInfo.size=2*pointInfo.size,getRectPoints(pointInfo)},draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getFunnelPath(cfg,!0);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var funnelCfg=getFillAttrs(cfg);return Util.mix({symbol:"square",radius:4},funnelCfg)}}),Shape.registerShape("interval","pyramid",{getPoints:function(pointInfo){return pointInfo.size=2*pointInfo.size,getRectPoints(pointInfo,!0)},draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getFunnelPath(cfg,!1);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var funnelCfg=getFillAttrs(cfg);return Util.mix({symbol:"square",radius:4},funnelCfg)}}),Shape.registerShape("interval","liquid-fill-gauge",{draw:function(cfg,container){var sumX=0,minX=1/0;Util.each(cfg.points,function(p){p.x<minX&&(minX=p.x),sumX+=p.x});var cp=this.parsePoint({x:sumX/cfg.points.length,y:.5}),minP=this.parsePoint({x:minX,y:.5}),radius=Math.min(cp.x-minP.x,minP.y),attrs=getFillAttrs(cfg),clipCircle=new G.Circle({attrs:{x:cp.x,y:cp.y,r:radius}});return addWaterWave(cp.x,cp.y,cfg.y/(2*cp.y),1,[attrs.fill],container,clipCircle,4*radius),container.addShape("circle",{attrs:Util.mix(getLineAttrs(cfg),{x:cp.x,y:cp.y,r:radius+radius/8})})}});var pathMetaCache={};Shape.registerShape("interval","liquid-fill-path",{draw:function(cfg,container){var attrs=Util.mix({},getFillAttrs(cfg)),path=cfg.shape[1],sumX=0,minX=1/0;Util.each(cfg.points,function(p){p.x<minX&&(minX=p.x),sumX+=p.x});var pathMeta,cp=this.parsePoint({x:sumX/cfg.points.length,y:.5}),minP=this.parsePoint({x:minX,y:.5}),radius=Math.min(cp.x-minP.x,minP.y);if(pathMetaCache[path])pathMeta=pathMetaCache[path];else{var segments=GPathUtil.parsePathString(path);pathMetaCache[path]=pathMeta={segments:segments}}var transform=[];attrs.rotate&&(transform.push(["r",attrs.rotate/180*Math.PI]),delete attrs.rotate);var shape=container.addShape("path",{attrs:Util.mix(attrs,{fillOpacity:0,path:pathMeta.segments})}),bbox=Util.cloneDeep(shape.getBBox()),rangeX=bbox.maxX-bbox.minX,rangeY=bbox.maxY-bbox.minY,scale=2*radius/Math.max(rangeX,rangeY);shape.transform(transform.concat([["s",scale,scale]]));var dw=scale*rangeX/2,dh=scale*rangeY/2;shape.transform([["t",cp.x-dw,cp.y-dh]]),addWaterWave(cp.x,cp.y,cfg.y/(2*cp.y),1,[attrs.fill],container,shape,4*minP.y);var keyShape=container.addShape("path",{attrs:Util.mix(getLineAttrs(cfg),{path:pathMeta.segments})});return keyShape.transform(transform.concat([["s",scale,scale],["t",cp.x-dw,cp.y-dh]])),keyShape}}),Shape.registerShape("interval","top-line",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),style=cfg.style||{},lineAttrs={stroke:style.stroke||"white",lineWidth:style.lineWidth||1,path:this.parsePath([["M",cfg.points[1].x,cfg.points[1].y],["L",cfg.points[2].x,cfg.points[2].y]])},path=getRectPath(cfg.points);path=this.parsePath(path),delete attrs.stroke;var rectShape=container.addShape("path",{attrs:Util.mix(attrs,{zIndex:0,path:path})});return container.addShape("path",{zIndex:1,attrs:lineAttrs}),rectShape},getMarkerCfg:function(cfg){var rectCfg=getFillAttrs(cfg),isInCircle=cfg.isInCircle;return Util.mix({symbol:isInCircle?"circle":"square",radius:isInCircle?4.5:4},rectCfg)}}),module.exports=Interval},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20),Path=__webpack_require__(359);__webpack_require__(367);var Line=function(_Path){function Line(){return _Path.apply(this,arguments)||this}return _inheritsLoose(Line,_Path),Line.prototype.getDefaultCfg=function(){var cfg=_Path.prototype.getDefaultCfg.call(this);return cfg.type="line",cfg.sortable=!0,cfg},Line}(Path),LineStack=function(_Line){function LineStack(){return _Line.apply(this,arguments)||this}return _inheritsLoose(LineStack,_Line),LineStack.prototype.getDefaultCfg=function(){var cfg=_Line.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},LineStack}(Line);Line.Stack=LineStack,GeomBase.Line=Line,GeomBase.LineStack=LineStack,module.exports=Line},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),PathUtil=__webpack_require__(22),ShapeUtil=__webpack_require__(45),Shape=__webpack_require__(18),Global=__webpack_require__(7),DOT_ARR=[1,1],DASH_ARR=[5.5,1];function getAttrs(cfg){var lineAttrs=Util.mix({},Global.shape.line,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),cfg.size&&(lineAttrs.lineWidth=cfg.size),lineAttrs}function getMarkerAttrs(cfg){var lineAttrs=Util.mix({lineWidth:2,radius:6},Global.shape.line,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),lineAttrs}function getSinglePath(points,smooth,isInCircle,cfg){var path;if(smooth){var constraint=cfg.constraint;isInCircle&&points.length&&points.push({x:points[0].x,y:points[0].y}),path=PathUtil.getSplinePath(points,!1,constraint)}else path=PathUtil.getLinePath(points,!1),isInCircle&&path.push(["Z"]);return path}function getPath(cfg,smooth){var points=cfg.points,isInCircle=cfg.isInCircle;return Util.isArray(points[0].y)?function(points,smooth,isInCircle,cfg){for(var topPoints=[],isStack=cfg.isStack,bottomPoints=[],i=0;i<points.length;i++){var tmp=ShapeUtil.splitPoints(points[i]);bottomPoints.push(tmp[0]),topPoints.push(tmp[1])}var topPath=getSinglePath(topPoints,smooth,isInCircle,cfg),bottomPath=getSinglePath(bottomPoints,smooth,isInCircle,cfg);return isStack?topPath:topPath.concat(bottomPath)}(points,smooth,isInCircle,cfg):getSinglePath(points,smooth,isInCircle,cfg)}function _getInterPointShapeCfg(cfg,fn){return function(points){var path=[];return Util.each(points,function(point,index){path.push(0===index?["M",point.x,point.y]:["L",point.x,point.y])}),path}(function(points,fn){var tmpPoints=[];return Util.each(points,function(point,index){var nextPoint=points[index+1];tmpPoints.push(point),nextPoint&&(tmpPoints=tmpPoints.concat(fn(point,nextPoint)))}),tmpPoints}(cfg.points,fn))}function _markerFn(x,y,r){return[["M",x-r,y],["L",x+r,y]]}function _smoothMarkerFn(x,y,r){return[["M",x-r,y],["A",r/2,r/2,0,1,1,x,y],["A",r/2,r/2,0,1,0,x+r,y]]}function _getMarkerCfg(cfg,smooth){return Util.mix({symbol:smooth?_smoothMarkerFn:_markerFn},getMarkerAttrs(cfg))}function _getInterMarkerCfg(cfg,fn){return Util.mix({symbol:fn},getMarkerAttrs(cfg))}var Line=Shape.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(type,cfg){return{lineWidth:(cfg.lineWidth||0)+1}},getDefaultPoints:function(pointInfo){return ShapeUtil.splitPoints(pointInfo)},drawShape:function(type,cfg,container){var gShape,shape=this.getShape(type);return(gShape=1===cfg.points.length&&Global.showSinglePoint?function(shapeObj,cfg,container){var point=cfg.points[0];return container.addShape("circle",{attrs:Util.mix({x:point.x,y:point.y,r:2,fill:cfg.color},cfg.style)})}(0,cfg,container):shape.draw(cfg,container))&&(gShape.set("origin",cfg.origin),gShape._id=cfg.splitedIndex?cfg._id+cfg.splitedIndex:cfg._id,gShape.name=this.name),gShape}});Shape.registerShape("line","line",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getPath(cfg,!1);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("line","dot",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getPath(cfg,!1);return container.addShape("path",{attrs:Util.mix(attrs,{path:path,lineDash:DOT_ARR})})},getMarkerCfg:function(cfg){var tmp=_getMarkerCfg(cfg,!1);return tmp.lineDash=DOT_ARR,tmp}}),Shape.registerShape("line","dash",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getPath(cfg,!1);return container.addShape("path",{attrs:Util.mix({path:path,lineDash:DASH_ARR},attrs)})},getMarkerCfg:function(cfg){var tmp=_getMarkerCfg(cfg,!1);return tmp.lineDash=tmp.lineDash||DASH_ARR,tmp}}),Shape.registerShape("line","smooth",{draw:function(cfg,container){var attrs=getAttrs(cfg),coord=this._coord;cfg.constraint=[[coord.start.x,coord.end.y],[coord.end.x,coord.start.y]];var path=getPath(cfg,!0);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg,!0)}}),Shape.registerShape("line","hv",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[];return tmp.push({x:nextPoint.x,y:point.y}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y,r){return[["M",x-r-1,y-2.5],["L",x,y-2.5],["L",x,y+2.5],["L",x+r+1,y+2.5]]})}}),Shape.registerShape("line","vh",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[];return tmp.push({x:point.x,y:nextPoint.y}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y,r){return[["M",x-r-1,y+2.5],["L",x,y+2.5],["L",x,y-2.5],["L",x+r+1,y-2.5]]})}}),Shape.registerShape("line","hvh",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[],middlex=(nextPoint.x-point.x)/2+point.x;return tmp.push({x:middlex,y:point.y}),tmp.push({x:middlex,y:nextPoint.y}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y,r){return[["M",x-(r+1),y+2.5],["L",x-r/2,y+2.5],["L",x-r/2,y-2.5],["L",x+r/2,y-2.5],["L",x+r/2,y+2.5],["L",x+r+1,y+2.5]]})}}),Shape.registerShape("line","vhv",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[],middley=(nextPoint.y-point.y)/2+point.y;return tmp.push({x:point.x,y:middley}),tmp.push({x:nextPoint.x,y:middley}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y){return[["M",x-5,y+2.5],["L",x-5,y],["L",x,y],["L",x,y-3],["L",x,y+3],["L",x+6.5,y+3]]})}}),Line.spline=Line.smooth,module.exports=Line},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0);__webpack_require__(369);var Point=function(_GeomBase){function Point(){return _GeomBase.apply(this,arguments)||this}_inheritsLoose(Point,_GeomBase);var _proto=Point.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="point",cfg.shapeType="point",cfg.generatePoints=!0,cfg},_proto.drawPoint=function(obj,container,shapeFactory,index){var geomShape,self=this,shape=obj.shape,cfg=self.getDrawCfg(obj);if(self._applyViewThemeShapeStyle(cfg,shape,shapeFactory),Util.isArray(obj.y)){var hasAdjust=self.hasStack();Util.each(obj.y,function(y,idx){cfg.y=y,cfg.yIndex=idx,hasAdjust&&0===idx||(geomShape=shapeFactory.drawShape(shape,cfg,container),self.appendShapeInfo(geomShape,index+idx))})}else Util.isNil(obj.y)||(geomShape=shapeFactory.drawShape(shape,cfg,container),self.appendShapeInfo(geomShape,index))},Point}(GeomBase),PointJitter=function(_Point){function PointJitter(){return _Point.apply(this,arguments)||this}return _inheritsLoose(PointJitter,_Point),PointJitter.prototype.getDefaultCfg=function(){var cfg=_Point.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"jitter"}],cfg},PointJitter}(Point),PointStack=function(_Point2){function PointStack(){return _Point2.apply(this,arguments)||this}return _inheritsLoose(PointStack,_Point2),PointStack.prototype.getDefaultCfg=function(){var cfg=_Point2.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},PointStack}(Point);Point.Jitter=PointJitter,Point.Stack=PointStack,GeomBase.Point=Point,GeomBase.PointJitter=PointJitter,GeomBase.PointStack=PointStack,module.exports=Point},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),Shape=__webpack_require__(18),Marker=__webpack_require__(16).Marker,PathUtil=Util.PathUtil,HOLLOW_SHAPES=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],SQRT_3=Math.sqrt(3);function getFillAttrs(cfg){var pointAttrs=Util.mix({},Global.shape.point,cfg.style);return ShapeUtil.addFillAttrs(pointAttrs,cfg),Util.isNumber(cfg.size)&&(pointAttrs.radius=cfg.size),pointAttrs}function getLineAttrs(cfg){var pointAttrs=Util.mix({},Global.shape.hollowPoint,cfg.style);return ShapeUtil.addStrokeAttrs(pointAttrs,cfg),Util.isNumber(cfg.size)&&(pointAttrs.radius=cfg.size),pointAttrs}Util.mix(Marker.Symbols,{hexagon:function(x,y,r){var diffX=r/2*SQRT_3;return[["M",x,y-r],["L",x+diffX,y-r/2],["L",x+diffX,y+r/2],["L",x,y+r],["L",x-diffX,y+r/2],["L",x-diffX,y-r/2],["Z"]]},bowtie:function(x,y,r){var diffY=r-1.5;return[["M",x-r,y-diffY],["L",x+r,y+diffY],["L",x+r,y-diffY],["L",x-r,y+diffY],["Z"]]},cross:function(x,y,r){return[["M",x-r,y-r],["L",x+r,y+r],["M",x+r,y-r],["L",x-r,y+r]]},tick:function(x,y,r){return[["M",x-r/2,y-r],["L",x+r/2,y-r],["M",x,y-r],["L",x,y+r],["M",x-r/2,y+r],["L",x+r/2,y+r]]},plus:function(x,y,r){return[["M",x-r,y],["L",x+r,y],["M",x,y-r],["L",x,y+r]]},hyphen:function(x,y,r){return[["M",x-r,y],["L",x+r,y]]},line:function(x,y,r){return[["M",x,y-r],["L",x,y+r]]}});var Point=Shape.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(type,cfg){var color,radius=cfg.radius;return{radius:radius+1,shadowBlur:radius,shadowColor:color=type&&(0===type.indexOf("hollow")||-1!==Util.indexOf(HOLLOW_SHAPES,type))||!type?cfg.stroke||cfg.strokeStyle:cfg.fill||cfg.fillStyle,stroke:color,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(pointInfo){return ShapeUtil.splitPoints(pointInfo)}});Shape.registerShape("point","rect",{draw:function(cfg,container){var rectAttrs=getFillAttrs(cfg),path=function(cfg){var x=cfg.points[0].x,y=cfg.points[0].y,w=cfg.size[0],h=cfg.size[1];return[["M",x-.5*w,y-.5*h],["L",x+.5*w,y-.5*h],["L",x+.5*w,y+.5*h],["L",x-.5*w,y+.5*h],["z"]]}(cfg);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(rectAttrs,{path:path})})},getMarkerCfg:function(cfg){var attrs=getFillAttrs(cfg);return attrs.symbol="rect",attrs.radius=4.5,attrs}}),Util.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],function(shape){Shape.registerShape("point",shape,{draw:function(cfg,container){var attrs=getFillAttrs(cfg);return container.addShape("Marker",{attrs:Util.mix(attrs,{symbol:shape,x:cfg.x,y:cfg.y})})},getMarkerCfg:function(cfg){var attrs=getFillAttrs(cfg);return attrs.symbol=shape,attrs.radius=4.5,attrs}}),Shape.registerShape("point","hollow"+Util.upperFirst(shape),{draw:function(cfg,container){var attrs=getLineAttrs(cfg);return container.addShape("Marker",{attrs:Util.mix(attrs,{symbol:shape,x:cfg.x,y:cfg.y})})},getMarkerCfg:function(cfg){var attrs=getLineAttrs(cfg);return attrs.symbol=shape,attrs.radius=4.5,attrs}})}),Util.each(HOLLOW_SHAPES,function(shape){Shape.registerShape("point",shape,{draw:function(cfg,container){var attrs=getLineAttrs(cfg);return container.addShape("Marker",{attrs:Util.mix(attrs,{symbol:shape,x:cfg.x,y:cfg.y})})},getMarkerCfg:function(cfg){var attrs=getLineAttrs(cfg);return attrs.symbol=shape,attrs.radius=4.5,attrs}})}),Shape.registerShape("point","image",{draw:function(cfg,container){return cfg.points=this.parsePoints(cfg.points),container.addShape("image",{attrs:{x:cfg.points[0].x-cfg.size/2,y:cfg.points[0].y-cfg.size,width:cfg.size,height:cfg.size,img:cfg.shape[1]}})}});var pathMetaCache={};Shape.registerShape("point","path",{draw:function(cfg,container){var pathMeta,attrs=Util.mix({},getLineAttrs(cfg),getFillAttrs(cfg)),path=cfg.shape[1],size=cfg.size||10;if(pathMetaCache[path])pathMeta=pathMetaCache[path];else{var segments=PathUtil.parsePathString(path),nums=Util.flatten(segments).filter(function(num){return Util.isNumber(num)});pathMetaCache[path]=pathMeta={range:Math.max.apply(null,nums)-Math.min.apply(null,nums),segments:segments}}var scale=size/pathMeta.range,transform=[];attrs.rotate&&(transform.push(["r",attrs.rotate/180*Math.PI]),delete attrs.rotate);var shape=container.addShape("path",{attrs:Util.mix(attrs,{path:pathMeta.segments})});return transform.push(["s",scale,scale],["t",cfg.x,cfg.y]),shape.transform(transform),shape}}),module.exports=Point},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__namespaces__=__webpack_require__(371);__webpack_exports__.a=function(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),__WEBPACK_IMPORTED_MODULE_0__namespaces__.a.hasOwnProperty(prefix)?{space:__WEBPACK_IMPORTED_MODULE_0__namespaces__.a[prefix],local:name}:name}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return xhtml});var xhtml="http://www.w3.org/1999/xhtml";__webpack_exports__.a={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function none(){}__webpack_exports__.a=function(selector){return null==selector?none:function(){return this.querySelector(selector)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return event}),__webpack_exports__.a=function(event1,listener,that,args){var event0=event;event1.sourceEvent=event,event=event1;try{return listener.apply(that,args)}finally{event=event0}};var filterEvents={},event=null;function filterContextListener(listener,index,group){return listener=contextListener(listener,index,group),function(event){var related=event.relatedTarget;related&&(related===this||8&related.compareDocumentPosition(this))||listener.call(this,event)}}function contextListener(listener,index,group){return function(event1){var event0=event;event=event1;try{listener.call(this,this.__data__,index,group)}finally{event=event0}}}function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map(function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name:name}})}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,capture){var wrap=filterEvents.hasOwnProperty(typename.type)?filterContextListener:contextListener;return function(d,i,group){var o,on=this.__on,listener=wrap(value,i,group);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=listener,o.capture=capture),void(o.value=value);this.addEventListener(typename.type,listener,capture),o={type:typename.type,name:typename.name,value:value,listener:listener,capture:capture},on?on.push(o):this.__on=[o]}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})),__webpack_exports__.b=function(typename,value,capture){var i,t,typenames=parseTypenames(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,null==capture&&(capture=!1),i=0;i<n;++i)this.each(on(typenames[i],value,capture));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__selection_on__=__webpack_require__(374);__webpack_exports__.a=function(){for(var source,current=__WEBPACK_IMPORTED_MODULE_0__selection_on__.c;source=current.sourceEvent;)current=source;return current}},function(module,exports){module.exports=function(chart){return(chart.get("scaleController")||{}).defs}},function(module,exports,__webpack_require__){var getColDefs=__webpack_require__(376);module.exports=function(chart,field){var colDefs=getColDefs(chart);if(colDefs&&colDefs[field])return colDefs[field]}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),TimeUtil=__webpack_require__(71);module.exports=function(data,scale){var result,type=scale.type,values=Util.Array.values(data,scale.field);return"linear"===type?(result=Util.Array.getRange(values),scale.min<result.min&&(result.min=scale.min),scale.max>result.max&&(result.max=scale.max)):"timeCat"===type?(Util.each(values,function(v,i){values[i]=TimeUtil.toTimeStamp(v)}),values.sort(function(v1,v2){return v1-v2}),result=values):result=values,result}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__selection_index__=__webpack_require__(69);__webpack_exports__.a=function(selector){return"string"==typeof selector?new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([[document.querySelector(selector)]],[document.documentElement]):new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([[selector]],__WEBPACK_IMPORTED_MODULE_0__selection_index__.c)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function empty(){return[]}__webpack_exports__.a=function(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var matcher=function(selector){return function(){return this.matches(selector)}};if("undefined"!=typeof document){var element=document.documentElement;if(!element.matches){var vendorMatches=element.webkitMatchesSelector||element.msMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector;matcher=function(selector){return function(){return vendorMatches.call(this,selector)}}}}__webpack_exports__.a=matcher},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=EnterNode;var __WEBPACK_IMPORTED_MODULE_0__sparse__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(69);function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}__webpack_exports__.b=function(){return new __WEBPACK_IMPORTED_MODULE_1__index__.a(this._enter||this._groups.map(__WEBPACK_IMPORTED_MODULE_0__sparse__.a),this._parents)},EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(update){return new Array(update.length)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.b=styleValue;var __WEBPACK_IMPORTED_MODULE_0__window__=__webpack_require__(373);function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||Object(__WEBPACK_IMPORTED_MODULE_0__window__.a)(node).getComputedStyle(node,null).getPropertyValue(name)}__webpack_exports__.a=function(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transition_schedule__=__webpack_require__(70);__webpack_exports__.a=function(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>__WEBPACK_IMPORTED_MODULE_0__transition_schedule__.d&&schedule.state<__WEBPACK_IMPORTED_MODULE_0__transition_schedule__.b,schedule.state=__WEBPACK_IMPORTED_MODULE_0__transition_schedule__.a,schedule.timer.stop(),active&&schedule.on.call("interrupt",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(117);__webpack_exports__.a=function(a,b){var c;return("number"==typeof b?__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateNumber:b instanceof __WEBPACK_IMPORTED_MODULE_0_d3_color__.a?__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateRgb:(c=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.a)(b))?(b=c,__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateRgb):__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateString)(a,b)}},function(module,exports,__webpack_require__){var Base=__webpack_require__(363);module.exports=function(_Base){var subClass,superClass;function Rect(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Rect).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Rect.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="rect",cfg},_proto.generateFacets=function(data){var self=this,fields=self.fields,rst=[],rows=1,cols=1,colField=fields[0],rowField=fields[1],colValues=[""],rowValues=[""];return colField&&(colValues=self.getFieldValues(colField,data),cols=colValues.length),rowField&&(rowValues=self.getFieldValues(rowField,data),rows=rowValues.length),colValues.forEach(function(xVal,xIndex){rowValues.forEach(function(yVal,yIndex){var filter=self.getFilter([{field:colField,value:xVal,values:colValues},{field:rowField,value:yVal,values:rowValues}]),subData=data.filter(filter),facet={type:self.type,colValue:xVal,rowValue:yVal,colField:colField,rowField:rowField,colIndex:xIndex,rowIndex:yIndex,cols:cols,rows:rows,data:subData,region:self.getRegion(rows,cols,xIndex,yIndex)};rst.push(facet)})}),rst},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1?(axes[xField].title=null,axes[xField].label=null):facet.colIndex!==parseInt((facet.cols-1)/2)&&(axes[xField].title=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.colIndex?(axes[yField].title=null,axes[yField].label=null):facet.rowIndex!==parseInt((facet.rows-1)/2)&&(axes[yField].title=null)},_proto.renderTitle=function(view,facet){0===facet.rowIndex&&this.drawColTitle(view,facet),facet.colIndex===facet.cols-1&&this.drawRowTitle(view,facet)},Rect}(Base)},function(module,exports,__webpack_require__){var Base=__webpack_require__(363);module.exports=function(_Base){var subClass,superClass;function List(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=List).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=List.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="list",cfg.cols=null,cfg},_proto.generateFacets=function(data){var self=this,colField=self.fields[0];if(!colField)throw"Please specify for the field for facet!";var colValues=self.getFieldValues(colField,data),count=colValues.length,cols=self.cols||count,rows=parseInt((count+cols-1)/cols),rst=[];return colValues.forEach(function(xVal,index){var row=parseInt(index/cols),col=index%cols,filter=self.getFilter([{field:colField,value:xVal,values:colValues}]),subData=data.filter(filter),facet={type:self.type,count:count,colValue:xVal,colField:colField,rowField:null,rowValue:xVal,colIndex:col,rowIndex:row,cols:cols,rows:rows,data:subData,region:self.getRegion(rows,cols,col,row)};rst.push(facet)}),rst},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1&&facet.cols*facet.rowIndex+facet.colIndex+1+facet.cols<=facet.count&&(axes[xField].label=null,axes[xField].title=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.colIndex&&(axes[yField].title=null,axes[yField].label=null)},List}(Base)},function(module,exports,__webpack_require__){var G2=__webpack_require__(172);__webpack_require__(390),__webpack_require__(392),__webpack_require__(394),__webpack_require__(364),__webpack_require__(366),__webpack_require__(359),__webpack_require__(368),__webpack_require__(395),__webpack_require__(397),__webpack_require__(399),__webpack_require__(459),__webpack_require__(461),__webpack_require__(466),module.exports=G2},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),SplitMixin=__webpack_require__(358),Util=__webpack_require__(0);__webpack_require__(391);var Area=function(_GeomBase){_inheritsLoose(Area,_GeomBase);var _proto=Area.prototype;function Area(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SplitMixin),_this}return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="area",cfg.shapeType="area",cfg.generatePoints=!0,cfg.sortable=!0,cfg},_proto.draw=function(data,container,shapeFactory,index){var self=this,cfg=this.getDrawCfg(data[0]);self._applyViewThemeShapeStyle(cfg,cfg.shape,shapeFactory);var splitArray=this.splitData(data);cfg.origin=data,Util.each(splitArray,function(subData,splitedIndex){cfg.splitedIndex=splitedIndex;var points=subData.map(function(obj){return obj.points});cfg.points=points;var geomShape=shapeFactory.drawShape(cfg.shape,cfg,container);self.appendShapeInfo(geomShape,index+splitedIndex)})},Area}(GeomBase),AreaStack=function(_Area){function AreaStack(){return _Area.apply(this,arguments)||this}return _inheritsLoose(AreaStack,_Area),AreaStack.prototype.getDefaultCfg=function(){var cfg=_Area.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},AreaStack}(Area);Area.Stack=AreaStack,GeomBase.Area=Area,GeomBase.AreaStack=AreaStack,module.exports=Area},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),PathUtil=__webpack_require__(22),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7);function getLineAttrs(cfg){var lineAttrs=Util.mix({},Global.shape.hollowArea,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),Util.isNumber(cfg.size)&&(lineAttrs.lineWidth=cfg.size),lineAttrs}function getFillAttrs(cfg){var areaAttrs=Util.mix({},Global.shape.area,cfg.style);return ShapeUtil.addFillAttrs(areaAttrs,cfg),cfg.color&&(areaAttrs.stroke=areaAttrs.stroke||cfg.color),Util.isNumber(cfg.size)&&(areaAttrs.lineWidth=cfg.size),areaAttrs}function getPath(cfg,smooth,shape){var path=[],pointsArr=[],topLinePoints=[],bottomLinePoints=[],isInCircle=cfg.isInCircle;return Util.each(cfg.points,function(point){topLinePoints.push(point[1]),bottomLinePoints.push(point[0])}),bottomLinePoints=bottomLinePoints.reverse(),pointsArr.push(topLinePoints,bottomLinePoints),Util.each(pointsArr,function(points,index){var subPath=[],p1=(points=shape.parsePoints(points))[0];isInCircle&&points.push({x:p1.x,y:p1.y}),subPath=smooth?PathUtil.getSplinePath(points,!1,cfg.constraint):PathUtil.getLinePath(points,!1),index>0&&(subPath[0][0]="L"),path=path.concat(subPath)}),path.push(["Z"]),path}function _getMarkerCfg(cfg){return{symbol:function(x,y){return[["M",x-5.5,y-4],["L",x+5.5,y-4],["L",x+5.5,y+4],["L",x-5.5,y+4],["Z"]]},radius:5,fill:cfg.color,fillOpacity:.6}}var Area=Shape.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(pointInfo){var points=[],x=pointInfo.x,y=pointInfo.y,y0=pointInfo.y0;return y=Util.isArray(y)?y:[y0,y],Util.each(y,function(yItem){points.push({x:x,y:yItem})}),points},getActiveCfg:function(type,cfg){return function(type,cfg){if("line"===type||"smoothLine"===type)return{lineWidth:(cfg.lineWidth||0)+1};var opacity=cfg.fillOpacity||cfg.opacity||1;return{fillOpacity:opacity-.15,strokeOpacity:opacity-.15}}(type,cfg)},drawShape:function(type,cfg,container){var gShape,shape=this.getShape(type);return(gShape=1===cfg.points.length&&Global.showSinglePoint?function(shapeObj,cfg,container){var point=shapeObj._coord.convertPoint(cfg.points[0][1]);return container.addShape("circle",{attrs:Util.mix({x:point.x,y:point.y,r:2,fill:cfg.color},cfg.style)})}(this,cfg,container):shape.draw(cfg,container))&&(gShape.set("origin",cfg.origin),gShape._id=cfg.splitedIndex?cfg._id+cfg.splitedIndex:cfg._id,gShape.name=this.name),gShape},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("area","area",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getPath(cfg,!1,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("area","smooth",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),coord=this._coord;cfg.constraint=[[coord.start.x,coord.end.y],[coord.end.x,coord.start.y]];var path=getPath(cfg,!0,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("area","line",{draw:function(cfg,container){var attrs=getLineAttrs(cfg),path=getPath(cfg,!1,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("area","smoothLine",{draw:function(cfg,container){var attrs=getLineAttrs(cfg),path=getPath(cfg,!0,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Area.spline=Area.smooth,module.exports=Area},function(module,exports,__webpack_require__){var GeomBase=__webpack_require__(20);__webpack_require__(393);var Edge=function(_GeomBase){var subClass,superClass;function Edge(){return _GeomBase.apply(this,arguments)||this}return superClass=_GeomBase,(subClass=Edge).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass,Edge.prototype.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="edge",cfg.shapeType="edge",cfg.generatePoints=!0,cfg},Edge}(GeomBase);GeomBase.Edge=Edge,module.exports=Edge},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),PathUtil=__webpack_require__(22);function getAttrs(cfg){var lineAttrs=Util.mix({},Global.shape.edge,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),lineAttrs}var Edge=Shape.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(pointInfo){return ShapeUtil.splitPoints(pointInfo)},getActiveCfg:function(type,cfg){return{lineWidth:(cfg.lineWidth||0)+1}}});function getCPath(from,to){var points=[];points.push({x:from.x,y:.5*from.y+1*to.y/2}),points.push({y:.5*from.y+1*to.y/2,x:to.x}),points.push(to);var sub=["C"];return Util.each(points,function(point){sub.push(point.x,point.y)}),sub}function getQPath(to,center){var points=[];points.push({x:center.x,y:center.y}),points.push(to);var sub=["Q"];return Util.each(points,function(point){sub.push(point.x,point.y)}),sub}Shape.registerShape("edge","line",{draw:function(cfg,container){var points=this.parsePoints(cfg.points),attrCfg=getAttrs(cfg),path=PathUtil.getLinePath(points);return container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),Shape.registerShape("edge","vhv",{draw:function(cfg,container){var points=cfg.points,attrCfg=getAttrs(cfg),path=function(from,to){var points=[];points.push({y:from.y*(1-1/3)+to.y*(1/3),x:from.x}),points.push({y:from.y*(1-1/3)+to.y*(1/3),x:to.x}),points.push(to);var path=[["M",from.x,from.y]];return Util.each(points,function(point){path.push(["L",point.x,point.y])}),path}(points[0],points[1]);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),Shape.registerShape("edge","smooth",{draw:function(cfg,container){var points=cfg.points,attrCfg=getAttrs(cfg),path=function(from,to){var sub=getCPath(from,points[1]),path=[["M",from.x,from.y]];return path.push(sub),path}(points[0]);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),Shape.registerShape("edge","arc",{draw:function(cfg,container){var line,path,points=cfg.points,type=points.length>2?"weight":"normal",attrCfg=getAttrs(cfg);if(cfg.isInCircle){var center={x:0,y:1};"normal"===type?path=function(from,to,center){var sub=getQPath(points[1],center),path=[["M",from.x,from.y]];return path.push(sub),path}(points[0],0,center):(attrCfg.fill=attrCfg.stroke,path=function(points,center){var arc1=getQPath(points[1],center),arc2=getQPath(points[3],center),path=[["M",points[0].x,points[0].y]];return path.push(arc2),path.push(["L",points[3].x,points[3].y]),path.push(["L",points[2].x,points[2].y]),path.push(arc1),path.push(["L",points[1].x,points[1].y]),path.push(["L",points[0].x,points[0].y]),path.push(["Z"]),path}(points,center)),path=this.parsePath(path),line=container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})}else if("normal"===type)points=this.parsePoints(points),line=container.addShape("arc",{attrs:Util.mix(attrCfg,{x:(points[1].x+points[0].x)/2,y:points[0].y,r:Math.abs(points[1].x-points[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{path=[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y]];var c1=getCPath(points[1],points[3]),c2=getCPath(points[2],points[0]);path.push(c1),path.push(["L",points[3].x,points[3].y]),path.push(["L",points[2].x,points[2].y]),path.push(c2),path.push(["Z"]),path=this.parsePath(path),attrCfg.fill=attrCfg.stroke,line=container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})}return line},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),module.exports=Edge},function(module,exports,__webpack_require__){var ColorUtil=__webpack_require__(73).ColorUtil,GeomBase=__webpack_require__(20),Util=__webpack_require__(0),Heatmap=function(_GeomBase){var subClass,superClass;function Heatmap(){return _GeomBase.apply(this,arguments)||this}superClass=_GeomBase,(subClass=Heatmap).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Heatmap.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="heatmap",cfg.paletteCache={},cfg},_proto._prepareRange=function(){var data=this.get("mappedData"),colorField=this.getAttr("color").field,min=1/0,max=-1/0;data.forEach(function(row){var value=row._origin[colorField];value>max&&(max=value),value<min&&(min=value)}),min===max&&(min=max-1),this.set("valueRange",[min,max])},_proto._prepareSize=function(){var radius=this.getDefaultValue("size");Util.isNumber(radius)||(radius=this._getDefaultSize());var styleOptions=this.get("styleOptions"),blur=styleOptions&&Util.isObject(styleOptions.style)?styleOptions.style.blur:null;Util.isFinite(blur)&&null!==blur||(blur=radius/2),this.set("heatmapSize",{blur:blur,radius:radius})},_proto._getDefaultSize=function(){var position=this.getAttr("position"),coord=this.get("coord");return Math.min(coord.width/(4*position.scales[0].ticks.length),coord.height/(4*position.scales[1].ticks.length))},_proto._colorize=function(img){for(var colorAttr=this.getAttr("color"),pixels=img.data,paletteCache=this.get("paletteCache"),i=3;i<pixels.length;i+=4){var alpha=pixels[i];if(alpha){var palette=void 0;paletteCache[alpha]?palette=paletteCache[alpha]:(palette=ColorUtil.rgb2arr(colorAttr.gradient(alpha/256)),paletteCache[alpha]=palette),pixels[i-3]=palette[0],pixels[i-2]=palette[1],pixels[i-1]=palette[2],pixels[i]=alpha}}},_proto._prepareGreyScaleBlurredCircle=function(r,blur){var circleCanvas=this.get("grayScaleBlurredCanvas");circleCanvas||(circleCanvas=document.createElement("canvas"),this.set("grayScaleBlurredCanvas",circleCanvas));var r2=r+blur,ctx=circleCanvas.getContext("2d");circleCanvas.width=circleCanvas.height=2*r2,ctx.clearRect(0,0,circleCanvas.width,circleCanvas.height),ctx.shadowOffsetX=ctx.shadowOffsetY=2*r2,ctx.shadowBlur=blur,ctx.shadowColor="black",ctx.beginPath(),ctx.arc(-r2,-r2,r,0,2*Math.PI,!0),ctx.closePath(),ctx.fill()},_proto._drawGrayScaleBlurredCircle=function(x,y,r,alpha,ctx){var circleCanvas=this.get("grayScaleBlurredCanvas");ctx.globalAlpha=alpha,ctx.drawImage(circleCanvas,x-r,y-r)},_proto._getShadowCanvasCtx=function(){var canvas=this.get("shadowCanvas");canvas||(canvas=document.createElement("canvas"),this.set("shadowCanvas",canvas));var coord=this.get("coord");return coord&&(canvas.width=coord.width,canvas.height=coord.height),canvas.getContext("2d")},_proto._clearShadowCanvasCtx=function(){var ctx=this._getShadowCanvasCtx();ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)},_proto._getImageShape=function(){var imageShape=this.get("imageShape");return imageShape||(imageShape=this.get("container").addShape("Image",{}),this.set("imageShape",imageShape),imageShape)},_proto.clear=function(){this._clearShadowCanvasCtx(),_GeomBase.prototype.clear.call(this)},_proto.drawWithRange=function(range){var _self$get=this.get("coord"),start=_self$get.start,end=_self$get.end,width=_self$get.width,height=_self$get.height,valueField=this.getAttr("color").field,size=this.get("heatmapSize");this._clearShadowCanvasCtx();var ctx=this._getShadowCanvasCtx(),data=this.get("mappedData");range&&(data=data.filter(function(row){return row._origin[valueField]<=range[1]&&row._origin[valueField]>=range[0]}));for(var scale=this._getScale(valueField),i=0;i<data.length;i++){var obj=data[i],cfg=this.getDrawCfg(obj),alpha=scale.scale(obj._origin[valueField]);this._drawGrayScaleBlurredCircle(cfg.x-start.x,cfg.y-end.y,size.radius+size.blur,alpha,ctx)}var colored=ctx.getImageData(0,0,width,height);this._clearShadowCanvasCtx(),this._colorize(colored),ctx.putImageData(colored,0,0);var imageShape=this._getImageShape();imageShape.attr("x",start.x),imageShape.attr("y",end.y),imageShape.attr("width",width),imageShape.attr("height",height),imageShape.attr("img",ctx.canvas)},_proto.draw=function(data){this.set("mappedData",data),this._prepareRange(),this._prepareSize();var size=this.get("heatmapSize");this._prepareGreyScaleBlurredCircle(size.radius,size.blur);var range=this.get("valueRange");this.drawWithRange(range)},Heatmap}(GeomBase);GeomBase.Heatmap=Heatmap,module.exports=Heatmap},function(module,exports,__webpack_require__){var GeomBase=__webpack_require__(20),Util=__webpack_require__(0);__webpack_require__(396);var Polygon=function(_GeomBase){var subClass,superClass;function Polygon(){return _GeomBase.apply(this,arguments)||this}superClass=_GeomBase,(subClass=Polygon).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Polygon.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="polygon",cfg.shapeType="polygon",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var temp,cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj),x=cfg.x,y=cfg.y;if(!Util.isArray(x)||!Util.isArray(y)){var xScale=this.getXScale(),yScale=this.getYScale(),xOffset=.5/(xScale.values?xScale.values.length:xScale.ticks.length),yOffset=.5/(yScale.values?yScale.values.length:yScale.ticks.length);xScale.isCategory&&yScale.isCategory?(x=[x-xOffset,x-xOffset,x+xOffset,x+xOffset],y=[y-yOffset,y+yOffset,y+yOffset,y-yOffset]):Util.isArray(x)?(x=[(temp=x)[0],temp[0],temp[1],temp[1]],y=[y-yOffset/2,y+yOffset/2,y+yOffset/2,y-yOffset/2]):Util.isArray(y)&&(y=[(temp=y)[0],temp[1],temp[1],temp[0]],x=[x-xOffset/2,x-xOffset/2,x+xOffset/2,x+xOffset/2]),cfg.x=x,cfg.y=y}return cfg},Polygon}(GeomBase);GeomBase.Polygon=Polygon,module.exports=Polygon},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7);function getAttrs(cfg){var pathAttrs=Util.mix({},Global.shape.polygon,cfg.style);return ShapeUtil.addFillAttrs(pathAttrs,cfg),pathAttrs}function getPath(points){for(var flag=points[0],i=1,path=[["M",flag.x,flag.y]];i<points.length;){var c=points[i];c.x===points[i-1].x&&c.y===points[i-1].y||(path.push(["L",c.x,c.y]),c.x===flag.x&&c.y===flag.y&&i<points.length-1&&(flag=points[i+1],path.push(["Z"]),path.push(["M",flag.x,flag.y]),i++)),i++}return Util.isEqual(path[path.length-1],flag)||path.push(["L",flag.x,flag.y]),path.push(["Z"]),path}var Polygon=Shape.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(pointInfo){var points=[];return Util.each(pointInfo.x,function(subX,index){points.push({x:subX,y:pointInfo.y[index]})}),points},getActiveCfg:function(type,cfg){return"hollow"===type?{lineWidth:(cfg.lineWidth||1)+1}:{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.08}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("polygon","polygon",{draw:function(cfg,container){if(!Util.isEmpty(cfg.points)){var attrs=getAttrs(cfg),path=getPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})}},getMarkerCfg:function(cfg){return Util.mix({symbol:"square",radius:4},getAttrs(cfg))}}),Shape.registerShape("polygon","hollow",{draw:function(cfg,container){if(!Util.isEmpty(cfg.points)){var attrs=function(cfg){var pathAttrs=Util.mix({},Global.shape.hollowPolygon,cfg.style);return ShapeUtil.addStrokeAttrs(pathAttrs,cfg),pathAttrs}(cfg),path=getPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})}},getMarkerCfg:function(cfg){return Util.mix({symbol:"square",radius:4},getAttrs(cfg))}}),module.exports=Polygon},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),SizeMixin=__webpack_require__(357);__webpack_require__(398);var Schema=function(_GeomBase){_inheritsLoose(Schema,_GeomBase);var _proto=Schema.prototype;function Schema(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SizeMixin),_this}return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="schema",cfg.shapeType="schema",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj);return cfg.size=this.getNormalizedSize(obj),cfg},Schema}(GeomBase),SchemaDodge=function(_Schema){function SchemaDodge(){return _Schema.apply(this,arguments)||this}return _inheritsLoose(SchemaDodge,_Schema),SchemaDodge.prototype.getDefaultCfg=function(){var cfg=_Schema.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"dodge"}],cfg},SchemaDodge}(Schema);Schema.Dodge=SchemaDodge,GeomBase.Schema=Schema,GeomBase.SchemaDodge=SchemaDodge,module.exports=Schema},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7);function _parseValue(value){Util.isArray(value)||(value=[value]);var min=value[0],max=value[value.length-1],min1=value.length>1?value[1]:min;return{min:min,max:max,min1:min1,max1:value.length>3?value[3]:max,median:value.length>2?value[2]:min1}}function getBoxPoints(x,y,width){var pointsArray,obj,to,points=[];return Util.isArray(y)?pointsArray=[[x-width/2,(obj=_parseValue(y)).max],[x+width/2,obj.max],[x,obj.max],[x,obj.max1],[x-width/2,obj.min1],[x-width/2,obj.max1],[x+width/2,obj.max1],[x+width/2,obj.min1],[x,obj.min1],[x,obj.min],[x-width/2,obj.min],[x+width/2,obj.min],[x-width/2,obj.median],[x+width/2,obj.median]]:(y=y||.5,pointsArray=[[(obj=_parseValue(x)).min,y-width/2],[obj.min,y+width/2],[obj.min,y],[obj.min1,y],[obj.min1,y-width/2],[obj.min1,y+width/2],[obj.max1,y+width/2],[obj.max1,y-width/2],[obj.max1,y],[obj.max,y],[obj.max,y-width/2],[obj.max,y+width/2],[obj.median,y-width/2],[obj.median,y+width/2]]),to=points,Util.each(pointsArray,function(subArr){to.push({x:subArr[0],y:subArr[1]})}),points}function getCandlePoints(x,y,width){var yValues=function(value){Util.isArray(value)||(value=[value]);var sorted=value.sort(function(a,b){return a<b?1:-1}),length=sorted.length;if(length<4)for(var min=sorted[length-1],i=0;i<4-length;i++)sorted.push(min);return sorted}(y);return[{x:x,y:yValues[0]},{x:x,y:yValues[1]},{x:x-width/2,y:yValues[2]},{x:x-width/2,y:yValues[1]},{x:x+width/2,y:yValues[1]},{x:x+width/2,y:yValues[2]},{x:x,y:yValues[2]},{x:x,y:yValues[3]}]}var Schema=Shape.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(type,cfg){if("box"===type)return{lineWidth:(cfg.lineWidth||1)+1};var opacity=cfg.fillOpacity||cfg.opacity||1;return{fillOpacity:opacity-.15,strokeOpacity:opacity-.15}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("schema","box",{getPoints:function(pointInfo){return getBoxPoints(pointInfo.x,pointInfo.y,pointInfo.size)},draw:function(cfg,container){var points,attrs=function(cfg){var lineAttrs=Util.mix({},Global.shape.schema,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),lineAttrs}(cfg),path=[["M",(points=cfg.points)[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["M",points[4].x,points[4].y],["L",points[5].x,points[5].y],["L",points[6].x,points[6].y],["L",points[7].x,points[7].y],["L",points[4].x,points[4].y],["Z"],["M",points[8].x,points[8].y],["L",points[9].x,points[9].y],["M",points[10].x,points[10].y],["L",points[11].x,points[11].y],["M",points[12].x,points[12].y],["L",points[13].x,points[13].y]];return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return{symbol:function(x,y,r){var points=getBoxPoints(x,[y-6,y-3,y,y+3,y+6],r);return[["M",points[0].x+1,points[0].y],["L",points[1].x-1,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["M",points[4].x,points[4].y],["L",points[5].x,points[5].y],["L",points[6].x,points[6].y],["L",points[7].x,points[7].y],["L",points[4].x,points[4].y],["Z"],["M",points[8].x,points[8].y],["L",points[9].x,points[9].y],["M",points[10].x+1,points[10].y],["L",points[11].x-1,points[11].y],["M",points[12].x,points[12].y],["L",points[13].x,points[13].y]]},radius:6,lineWidth:1,stroke:cfg.color}}}),Shape.registerShape("schema","candle",{getPoints:function(pointInfo){return getCandlePoints(pointInfo.x,pointInfo.y,pointInfo.size)},draw:function(cfg,container){var points,attrs=function(cfg){var lineAttrs=Util.mix({},Global.shape.schema,cfg.style);return ShapeUtil.addFillAttrs(lineAttrs,cfg),cfg.color&&(lineAttrs.stroke=cfg.color||lineAttrs.stroke),lineAttrs}(cfg),path=[["M",(points=cfg.points)[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["L",points[4].x,points[4].y],["L",points[5].x,points[5].y],["Z"],["M",points[6].x,points[6].y],["L",points[7].x,points[7].y]];return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return{symbol:function(x,y,r){var points=getCandlePoints(x,y=[y+7.5,y+3,y-3,y-7.5],r);return[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["L",points[4].x,points[4].y],["L",points[5].x,points[5].y],["Z"],["M",points[6].x,points[6].y],["L",points[7].x,points[7].y]]},lineWidth:1,stroke:cfg.color,fill:cfg.color,radius:6}}}),module.exports=Schema},function(module,exports,__webpack_require__){var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),_require=__webpack_require__(400),venn=_require.venn,scaleSolution=_require.scaleSolution,circlePath=_require.circlePath,intersectionAreaPath=_require.intersectionAreaPath,computeTextCentres=_require.computeTextCentres;__webpack_require__(458);var Venn=function(_GeomBase){var subClass,superClass;function Venn(){return _GeomBase.apply(this,arguments)||this}superClass=_GeomBase,(subClass=Venn).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Venn.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="venn",cfg.shapeType="venn",cfg.generatePoints=!1,cfg},_proto._getAttrValues=function(attr,record){return"position"===attr.type?[record.x,record.y]:_GeomBase.prototype._getAttrValues.call(this,attr,record)},_proto.sets=function(field){return this.set("setsField",field),this},_proto._initAttrs=function(){_GeomBase.prototype._initAttrs.call(this);var attrOptions=this.get("attrOptions"),setsField=this.get("setsField")||"sets",data=this.get("data"),sizeField=attrOptions.size?attrOptions.size.field:"size";data.forEach(function(row){row.sets=row[setsField],row._sets=row[setsField].join("&"),row.size=row[sizeField]});var solution=venn(data),coord=this.get("coord"),xRange=[Math.min(coord.x.end,coord.x.start),Math.max(coord.x.end,coord.x.start)],yRange=[Math.min(coord.y.end,coord.y.start),Math.max(coord.y.end,coord.y.start)],width=xRange[1]-xRange[0],height=yRange[1]-yRange[0],styleOptions=this.get("styleOptions"),padding=styleOptions&&Util.isObject(styleOptions.style)?styleOptions.style.padding:0;Util.isFinite(padding)||(padding=0);var circles=scaleSolution(solution,width,height,padding),textCenters=computeTextCentres(circles,data);data.forEach(function(row){var sets=row.sets,id=sets.join(",");if(row.id=id,1===sets.length){var circle=circles[id];row.path=circlePath(circle.x,circle.y,circle.radius),Util.assign(row,circle)}else{var setCircles=sets.map(function(set){return circles[set]}),path=intersectionAreaPath(setCircles);/[zZ]$/.test(path)||(path+="Z"),row.path=path,Util.assign(row,textCenters[id]||{x:0,y:0})}})},Venn}(GeomBase);GeomBase.Venn=Venn,module.exports=Venn},function(module,exports,__webpack_require__){!function(exports,d3Selection,d3Transition){"use strict";var SMALL=1e-10;function intersectionArea(circles,stats){var i,intersectionPoints=function(circles){for(var ret=[],i=0;i<circles.length;++i)for(var j=i+1;j<circles.length;++j)for(var intersect=circleCircleIntersection(circles[i],circles[j]),k=0;k<intersect.length;++k){var p=intersect[k];p.parentIndex=[i,j],ret.push(p)}return ret}(circles),innerPoints=intersectionPoints.filter(function(p){return function(point,circles){for(var i=0;i<circles.length;++i)if(distance(point,circles[i])>circles[i].radius+SMALL)return!1;return!0}(p,circles)}),arcArea=0,polygonArea=0,arcs=[];if(innerPoints.length>1){var center=getCenter(innerPoints);for(i=0;i<innerPoints.length;++i){var p=innerPoints[i];p.angle=Math.atan2(p.x-center.x,p.y-center.y)}innerPoints.sort(function(a,b){return b.angle-a.angle});var p2=innerPoints[innerPoints.length-1];for(i=0;i<innerPoints.length;++i){var p1=innerPoints[i];polygonArea+=(p2.x+p1.x)*(p1.y-p2.y);for(var midPoint={x:(p1.x+p2.x)/2,y:(p1.y+p2.y)/2},arc=null,j=0;j<p1.parentIndex.length;++j)if(p2.parentIndex.indexOf(p1.parentIndex[j])>-1){var circle=circles[p1.parentIndex[j]],a1=Math.atan2(p1.x-circle.x,p1.y-circle.y),a2=Math.atan2(p2.x-circle.x,p2.y-circle.y),angleDiff=a2-a1;angleDiff<0&&(angleDiff+=2*Math.PI);var a=a2-angleDiff/2,width=distance(midPoint,{x:circle.x+circle.radius*Math.sin(a),y:circle.y+circle.radius*Math.cos(a)});width>2*circle.radius&&(width=2*circle.radius),(null===arc||arc.width>width)&&(arc={circle:circle,width:width,p1:p1,p2:p2})}null!==arc&&(arcs.push(arc),arcArea+=circleArea(arc.circle.radius,arc.width),p2=p1)}}else{var smallest=circles[0];for(i=1;i<circles.length;++i)circles[i].radius<smallest.radius&&(smallest=circles[i]);var disjoint=!1;for(i=0;i<circles.length;++i)if(distance(circles[i],smallest)>Math.abs(smallest.radius-circles[i].radius)){disjoint=!0;break}disjoint?arcArea=polygonArea=0:(arcArea=smallest.radius*smallest.radius*Math.PI,arcs.push({circle:smallest,p1:{x:smallest.x,y:smallest.y+smallest.radius},p2:{x:smallest.x-SMALL,y:smallest.y+smallest.radius},width:2*smallest.radius}))}return polygonArea/=2,stats&&(stats.area=arcArea+polygonArea,stats.arcArea=arcArea,stats.polygonArea=polygonArea,stats.arcs=arcs,stats.innerPoints=innerPoints,stats.intersectionPoints=intersectionPoints),arcArea+polygonArea}function circleArea(r,width){return r*r*Math.acos(1-width/r)-(r-width)*Math.sqrt(width*(2*r-width))}function distance(p1,p2){return Math.sqrt((p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y))}function circleOverlap(r1,r2,d){if(d>=r1+r2)return 0;if(d<=Math.abs(r1-r2))return Math.PI*Math.min(r1,r2)*Math.min(r1,r2);var w2=r2-(d*d-r1*r1+r2*r2)/(2*d);return circleArea(r1,r1-(d*d-r2*r2+r1*r1)/(2*d))+circleArea(r2,w2)}function circleCircleIntersection(p1,p2){var d=distance(p1,p2),r1=p1.radius,r2=p2.radius;if(d>=r1+r2||d<=Math.abs(r1-r2))return[];var a=(r1*r1-r2*r2+d*d)/(2*d),h=Math.sqrt(r1*r1-a*a),x0=p1.x+a*(p2.x-p1.x)/d,y0=p1.y+a*(p2.y-p1.y)/d,rx=h/d*-(p2.y-p1.y),ry=h/d*-(p2.x-p1.x);return[{x:x0+rx,y:y0-ry},{x:x0-rx,y:y0+ry}]}function getCenter(points){for(var center={x:0,y:0},i=0;i<points.length;++i)center.x+=points[i].x,center.y+=points[i].y;return center.x/=points.length,center.y/=points.length,center}function zeros(x){for(var r=new Array(x),i=0;i<x;++i)r[i]=0;return r}function zerosM(x,y){return zeros(x).map(function(){return zeros(y)})}function dot(a,b){for(var ret=0,i=0;i<a.length;++i)ret+=a[i]*b[i];return ret}function norm2(a){return Math.sqrt(dot(a,a))}function scale(ret,value,c){for(var i=0;i<value.length;++i)ret[i]=value[i]*c}function weightedSum(ret,w1,v1,w2,v2){for(var j=0;j<ret.length;++j)ret[j]=w1*v1[j]+w2*v2[j]}function nelderMead(f,x0,parameters){var maxDiff,maxIterations=(parameters=parameters||{}).maxIterations||200*x0.length,nonZeroDelta=parameters.nonZeroDelta||1.05,zeroDelta=parameters.zeroDelta||.001,minErrorDelta=parameters.minErrorDelta||1e-6,minTolerance=parameters.minErrorDelta||1e-5,rho=void 0!==parameters.rho?parameters.rho:1,chi=void 0!==parameters.chi?parameters.chi:2,psi=void 0!==parameters.psi?parameters.psi:-.5,sigma=void 0!==parameters.sigma?parameters.sigma:.5,N=x0.length,simplex=new Array(N+1);simplex[0]=x0,simplex[0].fx=f(x0),simplex[0].id=0;for(var i=0;i<N;++i){var point=x0.slice();point[i]=point[i]?point[i]*nonZeroDelta:zeroDelta,simplex[i+1]=point,simplex[i+1].fx=f(point),simplex[i+1].id=i+1}function updateSimplex(value){for(var i=0;i<value.length;i++)simplex[N][i]=value[i];simplex[N].fx=value.fx}for(var sortOrder=function(a,b){return a.fx-b.fx},centroid=x0.slice(),reflected=x0.slice(),contracted=x0.slice(),expanded=x0.slice(),iteration=0;iteration<maxIterations;++iteration){if(simplex.sort(sortOrder),parameters.history){var sortedSimplex=simplex.map(function(x){var state=x.slice();return state.fx=x.fx,state.id=x.id,state});sortedSimplex.sort(function(a,b){return a.id-b.id}),parameters.history.push({x:simplex[0].slice(),fx:simplex[0].fx,simplex:sortedSimplex})}for(maxDiff=0,i=0;i<N;++i)maxDiff=Math.max(maxDiff,Math.abs(simplex[0][i]-simplex[1][i]));if(Math.abs(simplex[0].fx-simplex[N].fx)<minErrorDelta&&maxDiff<minTolerance)break;for(i=0;i<N;++i){centroid[i]=0;for(var j=0;j<N;++j)centroid[i]+=simplex[j][i];centroid[i]/=N}var worst=simplex[N];if(weightedSum(reflected,1+rho,centroid,-rho,worst),reflected.fx=f(reflected),reflected.fx<simplex[0].fx)weightedSum(expanded,1+chi,centroid,-chi,worst),expanded.fx=f(expanded),updateSimplex(expanded.fx<reflected.fx?expanded:reflected);else if(reflected.fx>=simplex[N-1].fx){var shouldReduce=!1;if(reflected.fx>worst.fx?(weightedSum(contracted,1+psi,centroid,-psi,worst),contracted.fx=f(contracted),contracted.fx<worst.fx?updateSimplex(contracted):shouldReduce=!0):(weightedSum(contracted,1-psi*rho,centroid,psi*rho,worst),contracted.fx=f(contracted),contracted.fx<reflected.fx?updateSimplex(contracted):shouldReduce=!0),shouldReduce){if(sigma>=1)break;for(i=1;i<simplex.length;++i)weightedSum(simplex[i],1-sigma,simplex[0],sigma,simplex[i]),simplex[i].fx=f(simplex[i])}}else updateSimplex(reflected)}return simplex.sort(sortOrder),{fx:simplex[0].fx,x:simplex[0]}}function wolfeLineSearch(f,pk,current,next,a,c1,c2){var phi0=current.fx,phiPrime0=dot(current.fxprime,pk),phi=phi0,phi_old=phi0,phiPrime=phiPrime0,a0=0;function zoom(a_lo,a_high,phi_lo){for(var iteration=0;iteration<16;++iteration)if(weightedSum(next.x,1,current.x,a=(a_lo+a_high)/2,pk),phi=next.fx=f(next.x,next.fxprime),phiPrime=dot(next.fxprime,pk),phi>phi0+c1*a*phiPrime0||phi>=phi_lo)a_high=a;else{if(Math.abs(phiPrime)<=-c2*phiPrime0)return a;phiPrime*(a_high-a_lo)>=0&&(a_high=a_lo),a_lo=a,phi_lo=phi}return 0}a=a||1,c1=c1||1e-6,c2=c2||.1;for(var iteration=0;iteration<10;++iteration){if(weightedSum(next.x,1,current.x,a,pk),phi=next.fx=f(next.x,next.fxprime),phiPrime=dot(next.fxprime,pk),phi>phi0+c1*a*phiPrime0||iteration&&phi>=phi_old)return zoom(a0,a,phi_old);if(Math.abs(phiPrime)<=-c2*phiPrime0)return a;if(phiPrime>=0)return zoom(a,a0,phi);phi_old=phi,a0=a,a*=2}return a}function conjugateGradient(f,initial,params){var pk,temp,maxIterations,current={x:initial.slice(),fx:0,fxprime:initial.slice()},next={x:initial.slice(),fx:0,fxprime:initial.slice()},yk=initial.slice(),a=1;maxIterations=(params=params||{}).maxIterations||20*initial.length,current.fx=f(current.x,current.fxprime),scale(pk=current.fxprime.slice(),current.fxprime,-1);for(var i=0;i<maxIterations;++i){if(a=wolfeLineSearch(f,pk,current,next,a),params.history&&params.history.push({x:current.x.slice(),fx:current.fx,fxprime:current.fxprime.slice(),alpha:a}),a){weightedSum(yk,1,next.fxprime,-1,current.fxprime);var delta_k=dot(current.fxprime,current.fxprime);weightedSum(pk,Math.max(0,dot(yk,next.fxprime)/delta_k),pk,-1,next.fxprime),temp=current,current=next,next=temp}else scale(pk,current.fxprime,-1);if(norm2(current.fxprime)<=1e-5)break}return params.history&&params.history.push({x:current.x.slice(),fx:current.fx,fxprime:current.fxprime.slice(),alpha:a}),current}function venn(areas,parameters){(parameters=parameters||{}).maxIterations=parameters.maxIterations||500;var setid,loss=parameters.lossFunction||lossFunction,circles=(parameters.initialLayout||bestInitialLayout)(areas=function(areas){areas=areas.slice();var i,j,a,b,ids=[],pairs={};for(i=0;i<areas.length;++i){var area=areas[i];1==area.sets.length?ids.push(area.sets[0]):2==area.sets.length&&(pairs[[a=area.sets[0],b=area.sets[1]]]=!0,pairs[[b,a]]=!0)}for(ids.sort(function(a,b){return a>b}),i=0;i<ids.length;++i)for(a=ids[i],j=i+1;j<ids.length;++j)[a,b=ids[j]]in pairs||areas.push({sets:[a,b],size:0});return areas}(areas),parameters),initial=[],setids=[];for(setid in circles)circles.hasOwnProperty(setid)&&(initial.push(circles[setid].x),initial.push(circles[setid].y),setids.push(setid));for(var positions=nelderMead(function(values){for(var current={},i=0;i<setids.length;++i){var setid=setids[i];current[setid]={x:values[2*i],y:values[2*i+1],radius:circles[setid].radius}}return loss(current,areas)},initial,parameters).x,i=0;i<setids.length;++i)circles[setid=setids[i]].x=positions[2*i],circles[setid].y=positions[2*i+1];return circles}var SMALL$1=1e-10;function distanceFromIntersectArea(r1,r2,overlap){return Math.min(r1,r2)*Math.min(r1,r2)*Math.PI<=overlap+SMALL$1?Math.abs(r1-r2):function(f,a,b,parameters){var maxIterations=(parameters=parameters||{}).maxIterations||100,tolerance=parameters.tolerance||1e-10,fA=f(a),fB=f(b),delta=b-a;if(fA*fB>0)throw"Initial bisect points must have opposite signs";if(0===fA)return a;if(0===fB)return b;for(var i=0;i<maxIterations;++i){var mid=a+(delta/=2),fMid=f(mid);if(fMid*fA>=0&&(a=mid),Math.abs(delta)<tolerance||0===fMid)return mid}return a+delta}(function(distance$$1){return circleOverlap(r1,r2,distance$$1)-overlap},0,r1+r2)}function bestInitialLayout(areas,params){var initial=greedyLayout(areas,params),loss=params.lossFunction||lossFunction;if(areas.length>=8){var constrained=function(areas,params){var i,restarts=(params=params||{}).restarts||10,sets=[],setids={};for(i=0;i<areas.length;++i){var area=areas[i];1==area.sets.length&&(setids[area.sets[0]]=sets.length,sets.push(area))}var matrices=function(areas,sets,setids){var distances=zerosM(sets.length,sets.length),constraints=zerosM(sets.length,sets.length);return areas.filter(function(x){return 2==x.sets.length}).map(function(current){var left=setids[current.sets[0]],right=setids[current.sets[1]],distance$$1=distanceFromIntersectArea(Math.sqrt(sets[left].size/Math.PI),Math.sqrt(sets[right].size/Math.PI),current.size);distances[left][right]=distances[right][left]=distance$$1;var c=0;current.size+1e-10>=Math.min(sets[left].size,sets[right].size)?c=1:current.size<=1e-10&&(c=-1),constraints[left][right]=constraints[right][left]=c}),{distances:distances,constraints:constraints}}(areas,sets,setids),distances=matrices.distances,constraints=matrices.constraints,norm=norm2(distances.map(norm2))/distances.length;distances=distances.map(function(row){return row.map(function(value){return value/norm})});var best,current,obj=function(x,fxprime){return function(x,fxprime,distances,constraints){var i,loss=0;for(i=0;i<fxprime.length;++i)fxprime[i]=0;for(i=0;i<distances.length;++i)for(var xi=x[2*i],yi=x[2*i+1],j=i+1;j<distances.length;++j){var xj=x[2*j],yj=x[2*j+1],dij=distances[i][j],constraint=constraints[i][j],squaredDistance=(xj-xi)*(xj-xi)+(yj-yi)*(yj-yi),distance$$1=Math.sqrt(squaredDistance),delta=squaredDistance-dij*dij;constraint>0&&distance$$1<=dij||constraint<0&&distance$$1>=dij||(loss+=2*delta*delta,fxprime[2*i]+=4*delta*(xi-xj),fxprime[2*i+1]+=4*delta*(yi-yj),fxprime[2*j]+=4*delta*(xj-xi),fxprime[2*j+1]+=4*delta*(yj-yi))}return loss}(x,fxprime,distances,constraints)};for(i=0;i<restarts;++i)current=conjugateGradient(obj,zeros(2*distances.length).map(Math.random),params),(!best||current.fx<best.fx)&&(best=current);var positions=best.x,circles={};for(i=0;i<sets.length;++i){var set=sets[i];circles[set.sets[0]]={x:positions[2*i]*norm,y:positions[2*i+1]*norm,radius:Math.sqrt(set.size/Math.PI)}}if(params.history)for(i=0;i<params.history.length;++i)scale(params.history[i].x,norm);return circles}(areas,params);loss(constrained,areas)+1e-8<loss(initial,areas)&&(initial=constrained)}return initial}function greedyLayout(areas,params){for(var set,loss=params&&params.lossFunction?params.lossFunction:lossFunction,circles={},setOverlaps={},i=0;i<areas.length;++i){var area=areas[i];1==area.sets.length&&(circles[set=area.sets[0]]={x:1e10,y:1e10,rowid:circles.length,size:area.size,radius:Math.sqrt(area.size/Math.PI)},setOverlaps[set]=[])}for(areas=areas.filter(function(a){return 2==a.sets.length}),i=0;i<areas.length;++i){var current=areas[i],weight=current.hasOwnProperty("weight")?current.weight:1,left=current.sets[0],right=current.sets[1];current.size+SMALL$1>=Math.min(circles[left].size,circles[right].size)&&(weight=0),setOverlaps[left].push({set:right,size:current.size,weight:weight}),setOverlaps[right].push({set:left,size:current.size,weight:weight})}var mostOverlapped=[];for(set in setOverlaps)if(setOverlaps.hasOwnProperty(set)){var size=0;for(i=0;i<setOverlaps[set].length;++i)size+=setOverlaps[set][i].size*setOverlaps[set][i].weight;mostOverlapped.push({set:set,size:size})}function sortOrder(a,b){return b.size-a.size}mostOverlapped.sort(sortOrder);var positioned={};function isPositioned(element){return element.set in positioned}function positionSet(point,index){circles[index].x=point.x,circles[index].y=point.y,positioned[index]=!0}for(positionSet({x:0,y:0},mostOverlapped[0].set),i=1;i<mostOverlapped.length;++i){var setIndex=mostOverlapped[i].set,overlap=setOverlaps[setIndex].filter(isPositioned);if(set=circles[setIndex],overlap.sort(sortOrder),0===overlap.length)throw"ERROR: missing pairwise overlap information";for(var points=[],j=0;j<overlap.length;++j){var p1=circles[overlap[j].set],d1=distanceFromIntersectArea(set.radius,p1.radius,overlap[j].size);points.push({x:p1.x+d1,y:p1.y}),points.push({x:p1.x-d1,y:p1.y}),points.push({y:p1.y+d1,x:p1.x}),points.push({y:p1.y-d1,x:p1.x});for(var k=j+1;k<overlap.length;++k)for(var p2=circles[overlap[k].set],d2=distanceFromIntersectArea(set.radius,p2.radius,overlap[k].size),extraPoints=circleCircleIntersection({x:p1.x,y:p1.y,radius:d1},{x:p2.x,y:p2.y,radius:d2}),l=0;l<extraPoints.length;++l)points.push(extraPoints[l])}var bestLoss=1e50,bestPoint=points[0];for(j=0;j<points.length;++j){circles[setIndex].x=points[j].x,circles[setIndex].y=points[j].y;var localLoss=loss(circles,areas);localLoss<bestLoss&&(bestLoss=localLoss,bestPoint=points[j])}positionSet(bestPoint,setIndex)}return circles}function lossFunction(sets,overlaps){for(var output=0,i=0;i<overlaps.length;++i){var overlap,area=overlaps[i];if(1!=area.sets.length){if(2==area.sets.length){var left=sets[area.sets[0]],right=sets[area.sets[1]];overlap=circleOverlap(left.radius,right.radius,distance(left,right))}else overlap=intersectionArea(area.sets.map(function(i){return sets[i]}));output+=(area.hasOwnProperty("weight")?area.weight:1)*(overlap-area.size)*(overlap-area.size)}}return output}function orientateCircles(circles,orientation,orientationOrder){var i;if(circles.sort(null===orientationOrder?function(a,b){return b.radius-a.radius}:orientationOrder),circles.length>0){var largestX=circles[0].x,largestY=circles[0].y;for(i=0;i<circles.length;++i)circles[i].x-=largestX,circles[i].y-=largestY}if(2==circles.length&&distance(circles[0],circles[1])<Math.abs(circles[1].radius-circles[0].radius)&&(circles[1].x=circles[0].x+circles[0].radius-circles[1].radius-1e-10,circles[1].y=circles[0].y),circles.length>1){var x,y,rotation=Math.atan2(circles[1].x,circles[1].y)-orientation,c=Math.cos(rotation),s=Math.sin(rotation);for(i=0;i<circles.length;++i)circles[i].x=c*(x=circles[i].x)-s*(y=circles[i].y),circles[i].y=s*x+c*y}if(circles.length>2){for(var angle=Math.atan2(circles[2].x,circles[2].y)-orientation;angle<0;)angle+=2*Math.PI;for(;angle>2*Math.PI;)angle-=2*Math.PI;if(angle>Math.PI){var slope=circles[1].y/(1e-10+circles[1].x);for(i=0;i<circles.length;++i){var d=(circles[i].x+slope*circles[i].y)/(1+slope*slope);circles[i].x=2*d-circles[i].x,circles[i].y=2*d*slope-circles[i].y}}}}function disjointCluster(circles){function find(circle){return circle.parent!==circle&&(circle.parent=find(circle.parent)),circle.parent}circles.map(function(circle){circle.parent=circle});for(var i=0;i<circles.length;++i)for(var j=i+1;j<circles.length;++j){var maxDistance=circles[i].radius+circles[j].radius;distance(circles[i],circles[j])+1e-10<maxDistance&&(y=circles[i],xRoot=void 0,xRoot=find(circles[j]),yRoot=find(y),xRoot.parent=yRoot)}var y,xRoot,yRoot,setid,disjointClusters={};for(i=0;i<circles.length;++i)(setid=find(circles[i]).parent.setid)in disjointClusters||(disjointClusters[setid]=[]),disjointClusters[setid].push(circles[i]);circles.map(function(circle){delete circle.parent});var ret=[];for(setid in disjointClusters)disjointClusters.hasOwnProperty(setid)&&ret.push(disjointClusters[setid]);return ret}function getBoundingBox(circles){var minMax=function(d){return{max:Math.max.apply(null,circles.map(function(c){return c[d]+c.radius})),min:Math.min.apply(null,circles.map(function(c){return c[d]-c.radius}))}};return{xRange:minMax("x"),yRange:minMax("y")}}function normalizeSolution(solution,orientation,orientationOrder){null===orientation&&(orientation=Math.PI/2);var i,setid,circles=[];for(setid in solution)if(solution.hasOwnProperty(setid)){var previous=solution[setid];circles.push({x:previous.x,y:previous.y,radius:previous.radius,setid:setid})}var clusters=disjointCluster(circles);for(i=0;i<clusters.length;++i){orientateCircles(clusters[i],orientation,orientationOrder);var bounds=getBoundingBox(clusters[i]);clusters[i].size=(bounds.xRange.max-bounds.xRange.min)*(bounds.yRange.max-bounds.yRange.min),clusters[i].bounds=bounds}clusters.sort(function(a,b){return b.size-a.size});var returnBounds=(circles=clusters[0]).bounds,spacing=(returnBounds.xRange.max-returnBounds.xRange.min)/50;function addCluster(cluster,right,bottom){if(cluster){var xOffset,yOffset,centreing,bounds=cluster.bounds;right?xOffset=returnBounds.xRange.max-bounds.xRange.min+spacing:(xOffset=returnBounds.xRange.max-bounds.xRange.max,(centreing=(bounds.xRange.max-bounds.xRange.min)/2-(returnBounds.xRange.max-returnBounds.xRange.min)/2)<0&&(xOffset+=centreing)),bottom?yOffset=returnBounds.yRange.max-bounds.yRange.min+spacing:(yOffset=returnBounds.yRange.max-bounds.yRange.max,(centreing=(bounds.yRange.max-bounds.yRange.min)/2-(returnBounds.yRange.max-returnBounds.yRange.min)/2)<0&&(yOffset+=centreing));for(var j=0;j<cluster.length;++j)cluster[j].x+=xOffset,cluster[j].y+=yOffset,circles.push(cluster[j])}}for(var index=1;index<clusters.length;)addCluster(clusters[index],!0,!1),addCluster(clusters[index+1],!1,!0),addCluster(clusters[index+2],!0,!0),index+=3,returnBounds=getBoundingBox(circles);var ret={};for(i=0;i<circles.length;++i)ret[circles[i].setid]=circles[i];return ret}function scaleSolution(solution,width,height,padding){var circles=[],setids=[];for(var setid in solution)solution.hasOwnProperty(setid)&&(setids.push(setid),circles.push(solution[setid]));width-=2*padding,height-=2*padding;var bounds=getBoundingBox(circles),xRange=bounds.xRange,yRange=bounds.yRange;if(xRange.max==xRange.min||yRange.max==yRange.min)return console.log("not scaling solution: zero size detected"),solution;for(var scaling=Math.min(height/(yRange.max-yRange.min),width/(xRange.max-xRange.min)),xOffset=(width-(xRange.max-xRange.min)*scaling)/2,yOffset=(height-(yRange.max-yRange.min)*scaling)/2,scaled={},i=0;i<circles.length;++i){var circle=circles[i];scaled[setids[i]]={radius:scaling*circle.radius,x:padding+xOffset+(circle.x-xRange.min)*scaling,y:padding+yOffset+(circle.y-yRange.min)*scaling}}return scaled}function wrapText(circles,labeller){return function(){for(var joined,text=d3Selection.select(this),data=text.datum(),width=circles[data.sets[0]].radius||50,label=labeller(data)||"",words=label.split(/\s+/).reverse(),minChars=(label.length+words.length)/3,word=words.pop(),line=[word],lineNumber=0,tspan=text.text(null).append("tspan").text(word);word=words.pop();)line.push(word),joined=line.join(" "),tspan.text(joined),joined.length>minChars&&tspan.node().getComputedTextLength()>width&&(line.pop(),tspan.text(line.join(" ")),line=[word],tspan=text.append("tspan").text(word),lineNumber++);var initial=.35-1.1*lineNumber/2,x=text.attr("x"),y=text.attr("y");text.selectAll("tspan").attr("x",x).attr("y",y).attr("dy",function(d,i){return initial+1.1*i+"em"})}}function circleMargin(current,interior,exterior){var i,m,margin=interior[0].radius-distance(interior[0],current);for(i=1;i<interior.length;++i)(m=interior[i].radius-distance(interior[i],current))<=margin&&(margin=m);for(i=0;i<exterior.length;++i)(m=distance(exterior[i],current)-exterior[i].radius)<=margin&&(margin=m);return margin}function computeTextCentre(interior,exterior){var i,points=[];for(i=0;i<interior.length;++i){var c=interior[i];points.push({x:c.x,y:c.y}),points.push({x:c.x+c.radius/2,y:c.y}),points.push({x:c.x-c.radius/2,y:c.y}),points.push({x:c.x,y:c.y+c.radius/2}),points.push({x:c.x,y:c.y-c.radius/2})}var initial=points[0],margin=circleMargin(points[0],interior,exterior);for(i=1;i<points.length;++i){var m=circleMargin(points[i],interior,exterior);m>=margin&&(initial=points[i],margin=m)}var solution=nelderMead(function(p){return-1*circleMargin({x:p[0],y:p[1]},interior,exterior)},[initial.x,initial.y],{maxIterations:500,minErrorDelta:1e-10}).x,ret={x:solution[0],y:solution[1]},valid=!0;for(i=0;i<interior.length;++i)if(distance(ret,interior[i])>interior[i].radius){valid=!1;break}for(i=0;i<exterior.length;++i)if(distance(ret,exterior[i])<exterior[i].radius){valid=!1;break}if(!valid)if(1==interior.length)ret={x:interior[0].x,y:interior[0].y};else{var areaStats={};intersectionArea(interior,areaStats),ret=0===areaStats.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==areaStats.arcs.length?{x:areaStats.arcs[0].circle.x,y:areaStats.arcs[0].circle.y}:exterior.length?computeTextCentre(interior,[]):getCenter(areaStats.arcs.map(function(a){return a.p1}))}return ret}function getOverlappingCircles(circles){var ret={},circleids=[];for(var circleid in circles)circleids.push(circleid),ret[circleid]=[];for(var i=0;i<circleids.length;i++)for(var a=circles[circleids[i]],j=i+1;j<circleids.length;++j){var b=circles[circleids[j]],d=distance(a,b);d+b.radius<=a.radius+1e-10?ret[circleids[j]].push(circleids[i]):d+a.radius<=b.radius+1e-10&&ret[circleids[i]].push(circleids[j])}return ret}function computeTextCentres(circles,areas){for(var ret={},overlapped=getOverlappingCircles(circles),i=0;i<areas.length;++i){for(var area=areas[i].sets,areaids={},exclude={},j=0;j<area.length;++j){areaids[area[j]]=!0;for(var overlaps=overlapped[area[j]],k=0;k<overlaps.length;++k)exclude[overlaps[k]]=!0}var interior=[],exterior=[];for(var setid in circles)setid in areaids?interior.push(circles[setid]):setid in exclude||exterior.push(circles[setid]);var centre=computeTextCentre(interior,exterior);ret[area]=centre,centre.disjoint&&areas[i].size>0&&console.log("WARNING: area "+area+" not represented on screen")}return ret}function circlePath(x,y,r){var ret=[];return ret.push("\nM",x,y),ret.push("\nm",-r,0),ret.push("\na",r,r,0,1,0,2*r,0),ret.push("\na",r,r,0,1,0,2*-r,0),ret.join(" ")}function circleFromPath(path){var tokens=path.split(" ");return{x:parseFloat(tokens[1]),y:parseFloat(tokens[2]),radius:-parseFloat(tokens[4])}}function intersectionAreaPath(circles){var stats={};intersectionArea(circles,stats);var arcs=stats.arcs;if(0===arcs.length)return"M 0 0";if(1==arcs.length){var circle=arcs[0].circle;return circlePath(circle.x,circle.y,circle.radius)}for(var ret=["\nM",arcs[0].p2.x,arcs[0].p2.y],i=0;i<arcs.length;++i){var arc=arcs[i],r=arc.circle.radius;ret.push("\nA",r,r,0,arc.width>r?1:0,1,arc.p1.x,arc.p1.y)}return ret.join(" ")}exports.intersectionArea=intersectionArea,exports.circleCircleIntersection=circleCircleIntersection,exports.circleOverlap=circleOverlap,exports.circleArea=circleArea,exports.distance=distance,exports.venn=venn,exports.greedyLayout=greedyLayout,exports.scaleSolution=scaleSolution,exports.normalizeSolution=normalizeSolution,exports.bestInitialLayout=bestInitialLayout,exports.lossFunction=lossFunction,exports.disjointCluster=disjointCluster,exports.distanceFromIntersectArea=distanceFromIntersectArea,exports.VennDiagram=function(){var width=600,height=350,padding=15,duration=1e3,orientation=Math.PI/2,normalize=!0,wrap=!0,styled=!0,fontSize=null,orientationOrder=null,colourMap={},colourScheme=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],colourIndex=0,colours=function(key){if(key in colourMap)return colourMap[key];var ret=colourMap[key]=colourScheme[colourIndex];return(colourIndex+=1)>=colourScheme.length&&(colourIndex=0),ret},layoutFunction=venn,loss=lossFunction;function chart(selection){var data=selection.datum(),toremove={};data.forEach(function(datum){0==datum.size&&1==datum.sets.length&&(toremove[datum.sets[0]]=1)}),data=data.filter(function(datum){return!datum.sets.some(function(set){return set in toremove})});var circles={},textCentres={};if(data.length>0){var solution=layoutFunction(data,{lossFunction:loss});normalize&&(solution=normalizeSolution(solution,orientation,orientationOrder)),circles=scaleSolution(solution,width,height,padding),textCentres=computeTextCentres(circles,data)}var labels={};function label(d){return d.sets in labels?labels[d.sets]:1==d.sets.length?""+d.sets[0]:void 0}data.forEach(function(datum){datum.label&&(labels[datum.sets]=datum.label)}),selection.selectAll("svg").data([circles]).enter().append("svg");var svg=selection.select("svg").attr("width",width).attr("height",height),previous={},hasPrevious=!1;svg.selectAll(".venn-area path").each(function(d){var path=d3Selection.select(this).attr("d");1==d.sets.length&&path&&(hasPrevious=!0,previous[d.sets[0]]=circleFromPath(path))});var pathTween=function(d){return function(t){return intersectionAreaPath(d.sets.map(function(set){var start=previous[set],end=circles[set];return start||(start={x:width/2,y:height/2,radius:1}),end||(end={x:width/2,y:height/2,radius:1}),{x:start.x*(1-t)+end.x*t,y:start.y*(1-t)+end.y*t,radius:start.radius*(1-t)+end.radius*t}}))}},nodes=svg.selectAll(".venn-area").data(data,function(d){return d.sets}),enter=nodes.enter().append("g").attr("class",function(d){return"venn-area venn-"+(1==d.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(d){return d.sets.join("_")}),enterPath=enter.append("path"),enterText=enter.append("text").attr("class","label").text(function(d){return label(d)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",width/2).attr("y",height/2);styled&&(enterPath.style("fill-opacity","0").filter(function(d){return 1==d.sets.length}).style("fill",function(d){return colours(d.sets)}).style("fill-opacity",".25"),enterText.style("fill",function(d){return 1==d.sets.length?colours(d.sets):"#444"}));var update=selection;hasPrevious?(update=selection.transition("venn").duration(duration)).selectAll("path").attrTween("d",pathTween):update.selectAll("path").attr("d",function(d){return intersectionAreaPath(d.sets.map(function(set){return circles[set]}))});var updateText=update.selectAll("text").filter(function(d){return d.sets in textCentres}).text(function(d){return label(d)}).attr("x",function(d){return Math.floor(textCentres[d.sets].x)}).attr("y",function(d){return Math.floor(textCentres[d.sets].y)});wrap&&(hasPrevious?"on"in updateText?updateText.on("end",wrapText(circles,label)):updateText.each("end",wrapText(circles,label)):updateText.each(wrapText(circles,label)));var exit=nodes.exit().transition("venn").duration(duration).remove();exit.selectAll("path").attrTween("d",pathTween);var exitText=exit.selectAll("text").attr("x",width/2).attr("y",height/2);return null!==fontSize&&(enterText.style("font-size","0px"),updateText.style("font-size",fontSize),exitText.style("font-size","0px")),{circles:circles,textCentres:textCentres,nodes:nodes,enter:enter,update:update,exit:exit}}return chart.wrap=function(_){return arguments.length?(wrap=_,chart):wrap},chart.width=function(_){return arguments.length?(width=_,chart):width},chart.height=function(_){return arguments.length?(height=_,chart):height},chart.padding=function(_){return arguments.length?(padding=_,chart):padding},chart.colours=function(_){return arguments.length?(colours=_,chart):colours},chart.fontSize=function(_){return arguments.length?(fontSize=_,chart):fontSize},chart.duration=function(_){return arguments.length?(duration=_,chart):duration},chart.layoutFunction=function(_){return arguments.length?(layoutFunction=_,chart):layoutFunction},chart.normalize=function(_){return arguments.length?(normalize=_,chart):normalize},chart.styled=function(_){return arguments.length?(styled=_,chart):styled},chart.orientation=function(_){return arguments.length?(orientation=_,chart):orientation},chart.orientationOrder=function(_){return arguments.length?(orientationOrder=_,chart):orientationOrder},chart.lossFunction=function(_){return arguments.length?(loss=_,chart):loss},chart},exports.wrapText=wrapText,exports.computeTextCentres=computeTextCentres,exports.computeTextCentre=computeTextCentre,exports.sortAreas=function(div,relativeTo){for(var overlaps=getOverlappingCircles(div.selectAll("svg").datum()),exclude={},i=0;i<relativeTo.sets.length;++i){var check=relativeTo.sets[i];for(var setid in overlaps)for(var overlap=overlaps[setid],j=0;j<overlap.length;++j)if(overlap[j]==check){exclude[setid]=!0;break}}function shouldExclude(sets){for(var i=0;i<sets.length;++i)if(!(sets[i]in exclude))return!1;return!0}div.selectAll("g").sort(function(a,b){return a.sets.length!=b.sets.length?a.sets.length-b.sets.length:a==relativeTo?shouldExclude(b.sets)?-1:1:b==relativeTo?shouldExclude(a.sets)?1:-1:b.size-a.size})},exports.circlePath=circlePath,exports.circleFromPath=circleFromPath,exports.intersectionAreaPath=intersectionAreaPath,Object.defineProperty(exports,"__esModule",{value:!0})}(exports,__webpack_require__(72),__webpack_require__(435))},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__creator__=__webpack_require__(360),__WEBPACK_IMPORTED_MODULE_1__select__=__webpack_require__(379);__webpack_exports__.a=function(name){return Object(__WEBPACK_IMPORTED_MODULE_1__select__.a)(Object(__WEBPACK_IMPORTED_MODULE_0__creator__.a)(name).call(document.documentElement))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__selector__=__webpack_require__(372);__webpack_exports__.a=function(select){"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_1__selector__.a)(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new __WEBPACK_IMPORTED_MODULE_0__index__.a(subgroups,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__selectorAll__=__webpack_require__(380);__webpack_exports__.a=function(select){"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_1__selectorAll__.a)(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new __WEBPACK_IMPORTED_MODULE_0__index__.a(subgroups,parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__matcher__=__webpack_require__(381);__webpack_exports__.a=function(match){"function"!=typeof match&&(match=Object(__WEBPACK_IMPORTED_MODULE_1__matcher__.a)(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new __WEBPACK_IMPORTED_MODULE_0__index__.a(subgroups,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__enter__=__webpack_require__(382),__WEBPACK_IMPORTED_MODULE_2__constant__=__webpack_require__(406),keyPrefix="$";function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new __WEBPACK_IMPORTED_MODULE_1__enter__.a(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue={},groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=keyPrefix+key.call(node,node.__data__,i,group),keyValue in nodeByKeyValue?exit[i]=node:nodeByKeyValue[keyValue]=node);for(i=0;i<dataLength;++i)(node=nodeByKeyValue[keyValue=keyPrefix+key.call(parent,data[i],i,data)])?(update[i]=node,node.__data__=data[i],nodeByKeyValue[keyValue]=null):enter[i]=new __WEBPACK_IMPORTED_MODULE_1__enter__.a(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue[keyValues[i]]===node&&(exit[i]=node)}__webpack_exports__.a=function(value,key){if(!value)return data=new Array(this.size()),j=-1,this.each(function(d){data[++j]=d}),data;var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=value.call(parent,parent&&parent.__data__,j,parents),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new __WEBPACK_IMPORTED_MODULE_0__index__.a(update,parents))._enter=enter,update._exit=exit,update}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sparse__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(69);__webpack_exports__.a=function(){return new __WEBPACK_IMPORTED_MODULE_1__index__.a(this._exit||this._groups.map(__WEBPACK_IMPORTED_MODULE_0__sparse__.a),this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69);__webpack_exports__.a=function(selection){for(var groups0=this._groups,groups1=selection._groups,m0=groups0.length,m=Math.min(m0,groups1.length),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new __WEBPACK_IMPORTED_MODULE_0__index__.a(merges,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node);return this}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69);function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}__webpack_exports__.a=function(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new __WEBPACK_IMPORTED_MODULE_0__index__.a(sortgroups,this._parents).order()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){var nodes=new Array(this.size()),i=-1;return this.each(function(){nodes[++i]=this}),nodes}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){var size=0;return this.each(function(){++size}),size}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){return!this.node()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__namespace__=__webpack_require__(370);function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}__webpack_exports__.a=function(name,value){var fullname=Object(__WEBPACK_IMPORTED_MODULE_0__namespace__.a)(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}__webpack_exports__.a=function(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]}},function(module,__webpack_exports__,__webpack_require__){"use strict";function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}},__webpack_exports__.a=function(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}__webpack_exports__.a=function(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent}},function(module,__webpack_exports__,__webpack_require__){"use strict";function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}__webpack_exports__.a=function(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML}},function(module,__webpack_exports__,__webpack_require__){"use strict";function raise(){this.nextSibling&&this.parentNode.appendChild(this)}__webpack_exports__.a=function(){return this.each(raise)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}__webpack_exports__.a=function(){return this.each(lower)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__creator__=__webpack_require__(360);__webpack_exports__.a=function(name){var create="function"==typeof name?name:Object(__WEBPACK_IMPORTED_MODULE_0__creator__.a)(name);return this.select(function(){return this.appendChild(create.apply(this,arguments))})}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__creator__=__webpack_require__(360),__WEBPACK_IMPORTED_MODULE_1__selector__=__webpack_require__(372);function constantNull(){return null}__webpack_exports__.a=function(name,before){var create="function"==typeof name?name:Object(__WEBPACK_IMPORTED_MODULE_0__creator__.a)(name),select=null==before?constantNull:"function"==typeof before?before:Object(__WEBPACK_IMPORTED_MODULE_1__selector__.a)(before);return this.select(function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}__webpack_exports__.a=function(){return this.each(remove)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}__webpack_exports__.a=function(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(value){return arguments.length?this.property("__data__",value):this.node().__data__}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__window__=__webpack_require__(373);function dispatchEvent(node,type,params){var window=Object(__WEBPACK_IMPORTED_MODULE_0__window__.a)(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}__webpack_exports__.a=function(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=local;var nextId=0;function local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}Local.prototype=local.prototype={constructor:Local,get:function(node){for(var id=this._;!(id in node);)if(!(node=node.parentNode))return;return node[id]},set:function(node,value){return node[this._]=value},remove:function(node){return this._ in node&&delete node[this._]},toString:function(){return this._}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sourceEvent__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_1__point__=__webpack_require__(361);__webpack_exports__.a=function(node){var event=Object(__WEBPACK_IMPORTED_MODULE_0__sourceEvent__.a)();return event.changedTouches&&(event=event.changedTouches[0]),Object(__WEBPACK_IMPORTED_MODULE_1__point__.a)(node,event)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__selection_index__=__webpack_require__(69);__webpack_exports__.a=function(selector){return"string"==typeof selector?new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([document.querySelectorAll(selector)],[document.documentElement]):new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([null==selector?[]:selector],__WEBPACK_IMPORTED_MODULE_0__selection_index__.c)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sourceEvent__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_1__point__=__webpack_require__(361);__webpack_exports__.a=function(node,touches,identifier){arguments.length<3&&(identifier=touches,touches=Object(__WEBPACK_IMPORTED_MODULE_0__sourceEvent__.a)().changedTouches);for(var touch,i=0,n=touches?touches.length:0;i<n;++i)if((touch=touches[i]).identifier===identifier)return Object(__WEBPACK_IMPORTED_MODULE_1__point__.a)(node,touch);return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sourceEvent__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_1__point__=__webpack_require__(361);__webpack_exports__.a=function(node,touches){null==touches&&(touches=Object(__WEBPACK_IMPORTED_MODULE_0__sourceEvent__.a)().touches);for(var i=0,n=touches?touches.length:0,points=new Array(n);i<n;++i)points[i]=Object(__WEBPACK_IMPORTED_MODULE_1__point__.a)(node,touches[i]);return points}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__(436);var __WEBPACK_IMPORTED_MODULE_1__src_transition_index__=__webpack_require__(169);__webpack_require__.d(__webpack_exports__,"transition",function(){return __WEBPACK_IMPORTED_MODULE_1__src_transition_index__.b});var __WEBPACK_IMPORTED_MODULE_2__src_active__=__webpack_require__(457);__webpack_require__.d(__webpack_exports__,"active",function(){return __WEBPACK_IMPORTED_MODULE_2__src_active__.a});var __WEBPACK_IMPORTED_MODULE_3__src_interrupt__=__webpack_require__(385);__webpack_require__.d(__webpack_exports__,"interrupt",function(){return __WEBPACK_IMPORTED_MODULE_3__src_interrupt__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__interrupt__=__webpack_require__(437),__WEBPACK_IMPORTED_MODULE_2__transition__=__webpack_require__(440);__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype.interrupt=__WEBPACK_IMPORTED_MODULE_1__interrupt__.a,__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype.transition=__WEBPACK_IMPORTED_MODULE_2__transition__.a},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interrupt__=__webpack_require__(385);__webpack_exports__.a=function(name){return this.each(function(){Object(__WEBPACK_IMPORTED_MODULE_0__interrupt__.a)(this,name)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_dispatch__=__webpack_require__(439);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_dispatch__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var noop={value:function(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _)throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map(function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:name}})}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name:name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=parseTypenames(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}},__webpack_exports__.a=dispatch},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transition_index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1__transition_schedule__=__webpack_require__(70),__WEBPACK_IMPORTED_MODULE_2_d3_ease__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_3_d3_timer__=__webpack_require__(170),defaultTiming={time:null,delay:0,duration:250,ease:__WEBPACK_IMPORTED_MODULE_2_d3_ease__.easeCubicInOut};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))return defaultTiming.time=Object(__WEBPACK_IMPORTED_MODULE_3_d3_timer__.now)(),defaultTiming;return timing}__webpack_exports__.a=function(name){var id,timing;name instanceof __WEBPACK_IMPORTED_MODULE_0__transition_index__.a?(id=name._id,name=name._name):(id=Object(__WEBPACK_IMPORTED_MODULE_0__transition_index__.c)(),(timing=defaultTiming).time=Object(__WEBPACK_IMPORTED_MODULE_3_d3_timer__.now)(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&Object(__WEBPACK_IMPORTED_MODULE_1__transition_schedule__.e)(node,name,id,i,group,timing||inherit(node,id));return new __WEBPACK_IMPORTED_MODULE_0__transition_index__.a(groups,this._parents,name,id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_interpolate__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_1_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2__tween__=__webpack_require__(362),__WEBPACK_IMPORTED_MODULE_3__interpolate__=__webpack_require__(386);function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,interpolate,value1){var value00,interpolate0;return function(){var value0=this.getAttribute(name);return value0===value1?null:value0===value00?interpolate0:interpolate0=interpolate(value00=value0,value1)}}function attrConstantNS(fullname,interpolate,value1){var value00,interpolate0;return function(){var value0=this.getAttributeNS(fullname.space,fullname.local);return value0===value1?null:value0===value00?interpolate0:interpolate0=interpolate(value00=value0,value1)}}function attrFunction(name,interpolate,value){var value00,value10,interpolate0;return function(){var value0,value1=value(this);if(null!=value1)return(value0=this.getAttribute(name))===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1);this.removeAttribute(name)}}function attrFunctionNS(fullname,interpolate,value){var value00,value10,interpolate0;return function(){var value0,value1=value(this);if(null!=value1)return(value0=this.getAttributeNS(fullname.space,fullname.local))===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1);this.removeAttributeNS(fullname.space,fullname.local)}}__webpack_exports__.a=function(name,value){var fullname=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.namespace)(name),i="transform"===fullname?__WEBPACK_IMPORTED_MODULE_0_d3_interpolate__.interpolateTransformSvg:__WEBPACK_IMPORTED_MODULE_3__interpolate__.a;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS:attrFunction)(fullname,i,Object(__WEBPACK_IMPORTED_MODULE_2__tween__.b)(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS:attrRemove)(fullname):(fullname.local?attrConstantNS:attrConstant)(fullname,i,value+""))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72);function attrTweenNS(fullname,value){function tween(){var node=this,i=value.apply(node,arguments);return i&&function(t){node.setAttributeNS(fullname.space,fullname.local,i(t))}}return tween._value=value,tween}function attrTween(name,value){function tween(){var node=this,i=value.apply(node,arguments);return i&&function(t){node.setAttribute(name,i(t))}}return tween._value=value,tween}__webpack_exports__.a=function(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.namespace)(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);function delayFunction(id,value){return function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.g)(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.g)(this,id).delay=value}}__webpack_exports__.a=function(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).delay}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);function durationFunction(id,value){return function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id).duration=value}}__webpack_exports__.a=function(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).duration}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id).ease=value}}__webpack_exports__.a=function(value){var id=this._id;return arguments.length?this.each(easeConstant(id,value)):Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).ease}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(169);__webpack_exports__.a=function(match){"function"!=typeof match&&(match=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.matcher)(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new __WEBPACK_IMPORTED_MODULE_1__index__.a(subgroups,this._parents,this._name,this._id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(169);__webpack_exports__.a=function(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m=Math.min(m0,groups1.length),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new __WEBPACK_IMPORTED_MODULE_0__index__.a(merges,this._parents,this._name,this._id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);function onFunction(id,name,listener){var on0,on1,sit=function(name){return(name+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t})}(name)?__WEBPACK_IMPORTED_MODULE_0__schedule__.g:__WEBPACK_IMPORTED_MODULE_0__schedule__.h;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}__webpack_exports__.a=function(name,listener){var id=this._id;return arguments.length<2?Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).on.on(name):this.each(onFunction(id,name,listener))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){return this.on("end.remove",(id=this._id,function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}));var id}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_2__schedule__=__webpack_require__(70);__webpack_exports__.a=function(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selector)(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.e)(subgroup[i],name,id,i,subgroup,Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.f)(node,id)));return new __WEBPACK_IMPORTED_MODULE_1__index__.a(subgroups,this._parents,name,id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_2__schedule__=__webpack_require__(70);__webpack_exports__.a=function(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selectorAll)(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.f)(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.e)(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new __WEBPACK_IMPORTED_MODULE_1__index__.a(subgroups,parents,name,id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var Selection=__webpack_require__(72).selection.prototype.constructor;__webpack_exports__.a=function(){return new Selection(this._groups,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_interpolate__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_1_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2__tween__=__webpack_require__(362),__WEBPACK_IMPORTED_MODULE_3__interpolate__=__webpack_require__(386);__webpack_exports__.a=function(name,value,priority){var i="transform"==(name+="")?__WEBPACK_IMPORTED_MODULE_0_d3_interpolate__.interpolateTransformCss:__WEBPACK_IMPORTED_MODULE_3__interpolate__.a;return null==value?this.styleTween(name,function(name,interpolate){var value00,value10,interpolate0;return function(){var value0=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name),value1=(this.style.removeProperty(name),Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name));return value0===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1)}}(name,i)).on("end.style."+name,function(name){return function(){this.style.removeProperty(name)}}(name)):this.styleTween(name,"function"==typeof value?function(name,interpolate,value){var value00,value10,interpolate0;return function(){var value0=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name),value1=value(this);return null==value1&&(this.style.removeProperty(name),value1=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name)),value0===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1)}}(name,i,Object(__WEBPACK_IMPORTED_MODULE_2__tween__.b)(this,"style."+name,value)):function(name,interpolate,value1){var value00,interpolate0;return function(){var value0=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name);return value0===value1?null:value0===value00?interpolate0:interpolate0=interpolate(value00=value0,value1)}}(name,i,value+""),priority)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function styleTween(name,value,priority){function tween(){var node=this,i=value.apply(node,arguments);return i&&function(t){node.style.setProperty(name,i(t),priority)}}return tween._value=value,tween}__webpack_exports__.a=function(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,styleTween(name,value,null==priority?"":priority))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__tween__=__webpack_require__(362);__webpack_exports__.a=function(value){return this.tween("text","function"==typeof value?function(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(Object(__WEBPACK_IMPORTED_MODULE_0__tween__.b)(this,"text",value)):function(value){return function(){this.textContent=value}}(null==value?"":value+""))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1__schedule__=__webpack_require__(70);__webpack_exports__.a=function(){for(var name=this._name,id0=this._id,id1=Object(__WEBPACK_IMPORTED_MODULE_0__index__.c)(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=Object(__WEBPACK_IMPORTED_MODULE_1__schedule__.f)(node,id0);Object(__WEBPACK_IMPORTED_MODULE_1__schedule__.e)(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new __WEBPACK_IMPORTED_MODULE_0__index__.a(groups,this._parents,name,id1)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transition_index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1__transition_schedule__=__webpack_require__(70),root=[null];__webpack_exports__.a=function(node,name){var schedule,i,schedules=node.__transition;if(schedules)for(i in name=null==name?null:name+"",schedules)if((schedule=schedules[i]).state>__WEBPACK_IMPORTED_MODULE_1__transition_schedule__.c&&schedule.name===name)return new __WEBPACK_IMPORTED_MODULE_0__transition_index__.a([[node]],root,name,+i);return null}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),PathUtil=Util.PathUtil;function getAttrs(cfg){var pathAttrs=Util.mix({},Global.shape.venn,cfg.style);return ShapeUtil.addFillAttrs(pathAttrs,cfg),pathAttrs}var Venn=Shape.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(type,cfg){return"hollow"===type?{lineWidth:(cfg.lineWidth||1)+1}:{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.08}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("venn","venn",{draw:function(cfg,container){var path=cfg.origin._origin.path,attrs=getAttrs(cfg),segments=PathUtil.parsePathString(path);return container.addShape("path",{attrs:Util.mix(attrs,{path:segments})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),Shape.registerShape("venn","hollow",{draw:function(cfg,container){var path=cfg.origin._origin.path,attrs=function(cfg){var pathAttrs=Util.mix({},Global.shape.hollowVenn,cfg.style);return ShapeUtil.addStrokeAttrs(pathAttrs,cfg),pathAttrs}(cfg),segments=PathUtil.parsePathString(path);return container.addShape("path",{attrs:Util.mix(attrs,{path:segments})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),module.exports=Venn},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),SizeMixin=__webpack_require__(357);__webpack_require__(460);var Violin=function(_GeomBase){_inheritsLoose(Violin,_GeomBase);var _proto=Violin.prototype;function Violin(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SizeMixin),_this}return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="violin",cfg.shapeType="violin",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj);cfg.size=this.getNormalizedSize(obj);var sizeField=this.get("_sizeField");return cfg._size=obj._origin[sizeField],cfg},_proto.clearInner=function(){_GeomBase.prototype.clearInner.call(this),this.set("defaultSize",null)},_proto._initAttrs=function(){var attrOptions=this.get("attrOptions"),sizeField=attrOptions.size?attrOptions.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",sizeField),delete attrOptions.size,_GeomBase.prototype._initAttrs.call(this)},Violin}(GeomBase),ViolinDodge=function(_Violin){function ViolinDodge(){return _Violin.apply(this,arguments)||this}return _inheritsLoose(ViolinDodge,_Violin),ViolinDodge.prototype.getDefaultCfg=function(){var cfg=_Violin.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"dodge"}],cfg},ViolinDodge}(Violin);Violin.Dodge=ViolinDodge,GeomBase.Violin=Violin,GeomBase.ViolinDodge=ViolinDodge,module.exports=Violin},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),PathUtil=__webpack_require__(22);function getAttrs(cfg){var pathAttrs=Util.mix({},Global.shape.venn,cfg.style);return ShapeUtil.addFillAttrs(pathAttrs,cfg),cfg.color&&(pathAttrs.stroke=pathAttrs.stroke||cfg.color),pathAttrs}function getHollowAttrs(cfg){var pathAttrs=Util.mix({},Global.shape.hollowVenn,cfg.style);return ShapeUtil.addStrokeAttrs(pathAttrs,cfg),pathAttrs}function getViolinPath(points){for(var path=[],i=0;i<points.length;i++){var point=points[i];point&&path.push([0===i?"M":"L",point.x,point.y])}var first=points[0];return first&&(path.push(["L",first.x,first.y]),path.push(["z"])),path}function getSmoothViolinPath(points){for(var half=points.length/2,leftPoints=[],rightPoints=[],i=0;i<points.length;i++)i<half?leftPoints.push(points[i]):rightPoints.push(points[i]);var leftPath=PathUtil.getSplinePath(leftPoints,!1),rightPath=PathUtil.getSplinePath(rightPoints,!1);rightPoints.length&&leftPath.push(["L",rightPoints[0].x,rightPoints[0].y]),rightPath.shift();var path=leftPath.concat(rightPath);return leftPoints.length&&path.push(["L",leftPoints[0].x,leftPoints[0].y]),path.push(["z"]),path}var Violin=Shape.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(pointInfo){var arr,max,radius=pointInfo.size/2,points=[],sizeArr=(arr=pointInfo._size,max=Math.max.apply(null,arr),arr.map(function(num){return num/max}));return Util.each(pointInfo.y,function(y,index){var offset=sizeArr[index]*radius,isMin=0===index,isMax=index===pointInfo.y.length-1;points.push({isMin:isMin,isMax:isMax,x:pointInfo.x-offset,y:y}),points.unshift({isMin:isMin,isMax:isMax,x:pointInfo.x+offset,y:y})}),points},getActiveCfg:function(type,cfg){return"hollow"===type?{lineWidth:(cfg.lineWidth||1)+1}:{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.08}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("violin","violin",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),Shape.registerShape("violin","smooth",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getSmoothViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),Shape.registerShape("violin","hollow",{draw:function(cfg,container){var attrs=getHollowAttrs(cfg),path=getViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getHollowAttrs(cfg))}}),Shape.registerShape("violin","smoothHollow",{draw:function(cfg,container){var attrs=getHollowAttrs(cfg),path=getSmoothViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getHollowAttrs(cfg))}}),module.exports=Violin},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Chart=__webpack_require__(147),Facets={};Facets.Rect=__webpack_require__(387),Facets.List=__webpack_require__(388),Facets.Circle=__webpack_require__(462),Facets.Tree=__webpack_require__(463),Facets.Mirror=__webpack_require__(464),Facets.Matrix=__webpack_require__(465),Chart.prototype.facet=function(type,cfg){var cls=Facets[Util.upperFirst(type)];if(!cls)throw new Error("Not support such type of facets as: "+type);var preFacets=this.get("facets");preFacets&&preFacets.destroy(),cfg.chart=this;var facets=new cls(cfg);this.set("facets",facets)},module.exports=Facets},function(module,exports,__webpack_require__){var Base=__webpack_require__(363);function getPoint(center,r,angle){return{x:center.x+r*Math.cos(angle),y:center.y+r*Math.sin(angle)}}module.exports=function(_Base){var subClass,superClass;function Circle(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Circle).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Circle.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="circle",cfg},_proto.getRegion=function(count,index){var avgAngle=2*Math.PI/count,angle=-1*Math.PI/2+avgAngle*index,facetR=.5/(1+1/Math.sin(avgAngle/2)),middle=getPoint({x:.5,y:.5},.5-facetR,angle),startAngle=5*Math.PI/4,endAngle=1*Math.PI/4;return{start:getPoint(middle,facetR,startAngle),end:getPoint(middle,facetR,endAngle)}},_proto.generateFacets=function(data){var self=this,field=self.fields[0];if(!field)throw"Please specify for the field for facet!";var values=self.getFieldValues(field,data),count=values.length,rst=[];return values.forEach(function(value,index){var filter=self.getFilter([{field:field,value:value,values:values}]),subData=data.filter(filter),facet={type:self.type,colValue:value,colField:field,colIndex:index,cols:count,rows:1,rowIndex:0,data:subData,region:self.getRegion(count,index)};rst.push(facet)}),rst},Circle}(Base)},function(module,exports,__webpack_require__){var Base=__webpack_require__(363),assign=__webpack_require__(0).assign;module.exports=function(_Base){var subClass,superClass;function Tree(){return _Base.apply(this,arguments)||this}superClass=_Base,(subClass=Tree).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Tree.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="tree",cfg.line={lineWidth:1,stroke:"#ddd"},cfg.lineSmooth=!1,cfg},_proto.generateFacets=function(data){if(!this.fields.length)throw"Please specify for the fields for facet!";var rst=[],root=this.getRootFacet(data);return rst.push(root),root.children=this.getChildFacets(data,1,rst),this.setRegion(rst),rst},_proto.getRootFacet=function(data){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:data}},_proto.getRows=function(){return this.fields.length+1},_proto.getChildFacets=function(data,level,arr){var self=this,fields=self.fields;if(!(fields.length<level)){var rst=[],field=fields[level-1],values=self.getFieldValues(field,data);return values.forEach(function(value,index){var filter=self.getFilter([{field:field,value:value,values:values}]),subData=data.filter(filter);if(subData.length){var facet={type:self.type,colValue:value,colField:field,colIndex:index,rows:self.getRows(),rowIndex:level,data:subData,children:self.getChildFacets(subData,level+1,arr)};rst.push(facet),arr.push(facet)}}),rst}},_proto.setRegion=function(facets){var self=this;self.forceColIndex(facets),facets.forEach(function(facet){facet.region=self.getRegion(facet.rows,facet.cols,facet.colIndex,facet.rowIndex)})},_proto.forceColIndex=function(facets){var self=this,leafs=[],index=0;facets.forEach(function(facet){self.isLeaf(facet)&&(leafs.push(facet),facet.colIndex=index,index++)}),leafs.forEach(function(facet){facet.cols=leafs.length});for(var i=self.fields.length-1;i>=0;i--)for(var levelFacets=self.getFacetsByLevel(facets,i),j=0;j<levelFacets.length;j++){var facet=levelFacets[j];self.isLeaf(facet)||(facet.originColIndex=facet.colIndex,facet.colIndex=self.getRegionIndex(facet.children),facet.cols=leafs.length)}},_proto.getFacetsByLevel=function(facets,level){var rst=[];return facets.forEach(function(facet){facet.rowIndex===level&&rst.push(facet)}),rst},_proto.getRegion=function(rows,cols,xIndex,yIndex){var xWidth=1/cols,yWidth=1/rows,start={x:xWidth*xIndex,y:yWidth*yIndex};return{start:start,end:{x:start.x+xWidth,y:start.y+2*yWidth/3}}},_proto.getRegionIndex=function(children){var first=children[0];return(children[children.length-1].colIndex-first.colIndex)/2+first.colIndex},_proto.isLeaf=function(facet){return!facet.children||!facet.children.length},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1&&(axes[xField].label=null,axes[xField].title=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.originColIndex&&0!==facet.colIndex&&(axes[yField].title=null,axes[yField].label=null)},_proto.onPaint=function(){_Base.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},_proto.drawLines=function(facets,group){var self=this,lineGroup=group.addGroup();facets.forEach(function(facet){self.isLeaf(facet)||self._addFacetLines(facet,facet.children,lineGroup)})},_proto._addFacetLines=function(facet,children,group){var self=this,region=facet.view.getViewRegion(),start={x:region.start.x+(region.end.x-region.start.x)/2,y:region.start.y};children.forEach(function(subFacet){var subRegion=subFacet.view.getViewRegion(),end={x:subRegion.start.x+(subRegion.end.x-subRegion.start.x)/2,y:subRegion.end.y},middle1={x:start.x,y:start.y+(end.y-start.y)/2};self._drawLine([start,middle1,{x:end.x,y:middle1.y},end],group)})},_proto._getPath=function(points){var path=[];return this.lineSmooth?(path.push(["M",points[0].x,points[0].y]),path.push(["C",points[1].x,points[1].y,points[2].x,points[2].y,points[3].x,points[3].y])):points.forEach(function(point,index){path.push(0===index?["M",point.x,point.y]:["L",point.x,point.y])}),path},_proto._drawLine=function(points,group){var path=this._getPath(points);group.addShape("path",{attrs:assign({path:path},this.line)})},Tree}(Base)},function(module,exports,__webpack_require__){var List=__webpack_require__(388);module.exports=function(_List){var subClass,superClass;function Mirror(){return _List.apply(this,arguments)||this}superClass=_List,(subClass=Mirror).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Mirror.prototype;return _proto.getDefaultCfg=function(){var cfg=_List.prototype.getDefaultCfg.call(this);return cfg.type="mirror",this.transpose=!1,cfg},_proto.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),_List.prototype.init.call(this)},_proto.beforeProcessView=function(view,facet){this.transpose?facet.colIndex%2==0?view.coord().transpose().scale(-1,1):view.coord().transpose():facet.rowIndex%2!=0&&view.coord().scale(1,-1)},_proto.renderTitle=function(view,facet){this.transpose?this.drawColTitle(view,facet):this.drawRowTitle(view,facet)},_proto.setXAxis=function(xField,axes,facet){1!==facet.colIndex&&1!==facet.rowIndex||(axes[xField].label=null,axes[xField].title=null)},_proto.setYAxis=function(){},Mirror}(List)},function(module,exports,__webpack_require__){var Rect=__webpack_require__(387);module.exports=function(_Rect){var subClass,superClass;function Matrix(){return _Rect.apply(this,arguments)||this}superClass=_Rect,(subClass=Matrix).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Matrix.prototype;return _proto.getDefaultCfg=function(){var cfg=_Rect.prototype.getDefaultCfg.call(this);return cfg.type="matrix",cfg.showTitle=!1,cfg},_proto.generateFacets=function(data){for(var fields=this.fields,rows=fields.length,cols=rows,rst=[],i=0;i<cols;i++)for(var colField=fields[i],j=0;j<rows;j++){var rowField=fields[j],facet={type:this.type,colValue:colField,rowValue:rowField,colField:colField,rowField:rowField,colIndex:i,rowIndex:j,cols:cols,rows:rows,data:data,region:this.getRegion(rows,cols,i,j)};rst.push(facet)}return rst},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1&&(axes[xField].title=null,axes[xField].label=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.colIndex&&(axes[yField].title=null,axes[yField].label=null)},Matrix}(Rect)},function(module,exports,__webpack_require__){var G2=__webpack_require__(172),Chart=__webpack_require__(147),Util=__webpack_require__(0),Interactions={Base:__webpack_require__(171),Brush:__webpack_require__(467),Drag:__webpack_require__(468),ScrollBar:__webpack_require__(470),ShapeSelect:__webpack_require__(472),Slider:__webpack_require__(473),Zoom:__webpack_require__(475)};G2._Interactions={},G2.registerInteraction=function(type,constructor){G2._Interactions[type]=constructor},G2.getInteraction=function(type){return G2._Interactions[type]},Chart.prototype.getInteractions=function(){return this._interactions||(this._interactions={}),this._interactions},Chart.prototype._setInteraction=function(type,interaction){var interactions=this.getInteractions();interactions[type]&&interactions[type]!==interaction&&interactions[type].destroy(),interactions[type]=interaction},Chart.prototype.clearInteraction=function(type){var interactions=this.getInteractions();type?(interactions[type]&&(interactions[type]._reset(),interactions[type].destroy()),delete interactions[type]):Util.each(interactions,function(interaction,key){interaction._reset(),interaction.destroy(),delete interactions[key]})},Chart.prototype.interact=Chart.prototype.interaction=function(type,cfg){var interaction=new(G2.getInteraction(type))(cfg,this);return this._setInteraction(type,interaction),this},G2.registerInteraction("brush",Interactions.Brush),G2.registerInteraction("Brush",Interactions.Brush),G2.registerInteraction("drag",Interactions.Drag),G2.registerInteraction("Drag",Interactions.Drag),G2.registerInteraction("zoom",Interactions.Zoom),G2.registerInteraction("Zoom",Interactions.Zoom),G2.registerInteraction("scroll-bar",Interactions.ScrollBar),G2.registerInteraction("ScrollBar",Interactions.ScrollBar),G2.registerInteraction("shape-select",Interactions.ShapeSelect),G2.registerInteraction("ShapeSelect",Interactions.ShapeSelect),G2.registerInteraction("slider",Interactions.Slider),G2.registerInteraction("Slider",Interactions.Slider),module.exports=Interactions},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),BRUSH_TYPES=["X","Y","XY","POLYGON"],DEFAULT_TYPE="XY";module.exports=function(_Interaction){var subClass,superClass;superClass=_Interaction,(subClass=Brush).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Brush.prototype;function Brush(cfg,view){var _this,me=_assertThisInitialized(_assertThisInitialized(_this=_Interaction.call(this,cfg,view)||this));me.filter=!me.draggable,me.type=me.type.toUpperCase(),me.chart=view,-1===BRUSH_TYPES.indexOf(me.type)&&(me.type=DEFAULT_TYPE);var plotRange,canvas=me.canvas;if(canvas&&(canvas.get("children").map(function(child){return"plotBack"===child.get("type")?(plotRange=child.get("plotRange"),!1):child}),me.plot={start:plotRange.bl,end:plotRange.tr}),view){var coord=view.get("coord");me.plot={start:coord.start,end:coord.end};var xScales=view._getScales("x"),yScales=view._getScales("y");me.xScale=me.xField?xScales[me.xField]:view.getXScale(),me.yScale=me.yField?yScales[me.yField]:view.getYScales()[0]}return _this}return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:DEFAULT_TYPE,startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},_proto.start=function(ev){var me=this,canvas=me.canvas,type=me.type,brushShape=me.brushShape;if(type){var startPoint={x:ev.offsetX,y:ev.offsetY};if(startPoint.x){var isInPlot=me.plot&&me.inPlot,canvasDOM=canvas.get("canvasDOM"),pixelRatio=canvas.get("pixelRatio");if(me.selection&&(me.selection=null),me.draggable&&brushShape&&!brushShape.get("destroyed")){if(brushShape.isHit(startPoint.x*pixelRatio,startPoint.y*pixelRatio)){if(canvasDOM.style.cursor="move",me.selection=brushShape,me.dragging=!0,"X"===type)me.dragoffX=startPoint.x-brushShape.attr("x"),me.dragoffY=0;else if("Y"===type)me.dragoffX=0,me.dragoffY=startPoint.y-brushShape.attr("y");else if("XY"===type)me.dragoffX=startPoint.x-brushShape.attr("x"),me.dragoffY=startPoint.y-brushShape.attr("y");else if("POLYGON"===type){var box=brushShape.getBBox();me.dragoffX=startPoint.x-box.minX,me.dragoffY=startPoint.y-box.minY}me.onDragstart&&me.onDragstart(ev)}me.prePoint=startPoint}if(!me.dragging){me.onBrushstart&&me.onBrushstart(startPoint);var container=me.container;if(isInPlot){var _me$plot=me.plot,start=_me$plot.start,end=_me$plot.end;if(startPoint.x<start.x||startPoint.x>end.x||startPoint.y<end.y||startPoint.y>start.y)return}canvasDOM.style.cursor="crosshair",me.startPoint=startPoint,me.brushShape=null,me.brushing=!0,container?container.clear():(container=canvas.addGroup({zIndex:5})).initTransform(),me.container=container,"POLYGON"===type&&(me.polygonPath="M "+startPoint.x+" "+startPoint.y)}}}},_proto.process=function(ev){var me=this,brushing=me.brushing,dragging=me.dragging,type=me.type,plot=me.plot,startPoint=me.startPoint,xScale=me.xScale,yScale=me.yScale,canvas=me.canvas;if(brushing||dragging){var currentPoint={x:ev.offsetX,y:ev.offsetY},canvasDOM=canvas.get("canvasDOM");if(brushing){canvasDOM.style.cursor="crosshair";var rectStartX,rectStartY,rectWidth,rectHeight,start=plot.start,end=plot.end,polygonPath=me.polygonPath,brushShape=me.brushShape,container=me.container;me.plot&&me.inPlot&&(currentPoint=me._limitCoordScope(currentPoint)),"Y"===type?(rectStartX=start.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y,rectWidth=Math.abs(start.x-end.x),rectHeight=Math.abs(startPoint.y-currentPoint.y)):"X"===type?(rectStartX=currentPoint.x>=startPoint.x?startPoint.x:currentPoint.x,rectStartY=end.y,rectWidth=Math.abs(startPoint.x-currentPoint.x),rectHeight=Math.abs(end.y-start.y)):"XY"===type?(currentPoint.x>=startPoint.x?(rectStartX=startPoint.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y):(rectStartX=currentPoint.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y),rectWidth=Math.abs(startPoint.x-currentPoint.x),rectHeight=Math.abs(startPoint.y-currentPoint.y)):"POLYGON"===type&&(me.polygonPath=polygonPath+="L "+currentPoint.x+" "+currentPoint.y,brushShape?!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape._attrs,{path:polygonPath})):brushShape=container.addShape("path",{attrs:Util.mix(me.style,{path:polygonPath})})),"POLYGON"!==type&&(brushShape?!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape._attrs,{x:rectStartX,y:rectStartY,width:rectWidth,height:rectHeight})):brushShape=container.addShape("rect",{attrs:Util.mix(me.style,{x:rectStartX,y:rectStartY,width:rectWidth,height:rectHeight})})),me.brushShape=brushShape}else if(dragging){canvasDOM.style.cursor="move";var selection=me.selection;if(selection&&!selection.get("destroyed"))if("POLYGON"===type){var prePoint=me.prePoint;me.selection.translate(currentPoint.x-prePoint.x,currentPoint.y-prePoint.y)}else me.dragoffX&&selection.attr("x",currentPoint.x-me.dragoffX),me.dragoffY&&selection.attr("y",currentPoint.y-me.dragoffY)}me.prePoint=currentPoint,canvas.draw();var _me$_getSelected=me._getSelected(),yValues=_me$_getSelected.yValues,eventObj={data:_me$_getSelected.data,shapes:_me$_getSelected.shapes,x:currentPoint.x,y:currentPoint.y};xScale&&(eventObj[xScale.field]=_me$_getSelected.xValues),yScale&&(eventObj[yScale.field]=yValues),me.onDragmove&&me.onDragmove(eventObj),me.onBrushmove&&me.onBrushmove(eventObj)}},_proto.end=function(ev){var me=this,data=me.data,shapes=me.shapes,xValues=me.xValues,yValues=me.yValues,canvas=me.canvas,type=me.type,startPoint=me.startPoint,chart=me.chart,container=me.container,xScale=me.xScale,yScale=me.yScale,offsetX=ev.offsetX,offsetY=ev.offsetY;if(canvas.get("canvasDOM").style.cursor="default",Math.abs(startPoint.x-offsetX)<=1&&Math.abs(startPoint.y-offsetY)<=1)return me.brushing=!1,void(me.dragging=!1);var eventObj={data:data,shapes:shapes,x:offsetX,y:offsetY};if(xScale&&(eventObj[xScale.field]=xValues),yScale&&(eventObj[yScale.field]=yValues),me.dragging)me.dragging=!1,me.onDragend&&me.onDragend(eventObj);else if(me.brushing){me.brushing=!1;var brushShape=me.brushShape,polygonPath=me.polygonPath;"POLYGON"===type&&(polygonPath+="z",brushShape&&!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape._attrs,{path:polygonPath})),me.polygonPath=polygonPath,canvas.draw()),me.onBrushend?me.onBrushend(eventObj):chart&&me.filter&&(container.clear(),"X"===type?xScale&&chart.filter(xScale.field,function(val){return xValues.indexOf(val)>-1}):"Y"===type?yScale&&chart.filter(yScale.field,function(val){return yValues.indexOf(val)>-1}):(xScale&&chart.filter(xScale.field,function(val){return xValues.indexOf(val)>-1}),yScale&&chart.filter(yScale.field,function(val){return yValues.indexOf(val)>-1})),chart.repaint())}},_proto.reset=function(){var chart=this.chart,brushShape=this.brushShape,canvas=this.canvas;chart&&this.filter&&(chart.get("options").filters={},chart.repaint()),brushShape&&(brushShape.destroy(),canvas.draw())},_proto._limitCoordScope=function(point){var plot=this.plot,start=plot.start,end=plot.end;return point.x<start.x&&(point.x=start.x),point.x>end.x&&(point.x=end.x),point.y<end.y&&(point.y=end.y),point.y>start.y&&(point.y=start.y),point},_proto._getSelected=function(){var me=this,chart=me.chart,xScale=me.xScale,yScale=me.yScale,brushShape=me.brushShape,canvas=me.canvas,pixelRatio=canvas.get("pixelRatio"),selectedShapes=[],xValues=[],yValues=[],selectedData=[];return chart&&chart.get("geoms").map(function(geom){return geom.getShapes().map(function(shape){var shapeData=shape.get("origin");return Array.isArray(shapeData)||(shapeData=[shapeData]),shapeData.map(function(each){if(brushShape.isHit(each.x*pixelRatio,each.y*pixelRatio)){selectedShapes.push(shape);var origin=each._origin;selectedData.push(origin),xScale&&xValues.push(origin[xScale.field]),yScale&&yValues.push(origin[yScale.field])}return each}),shape}),geom}),me.shapes=selectedShapes,me.xValues=xValues,me.yValues=yValues,me.data=selectedData,canvas.draw(),{data:selectedData,xValues:xValues,yValues:yValues,shapes:selectedShapes}},Brush}(Interaction)},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),filterData=__webpack_require__(469),getColDef=__webpack_require__(377),getLimitRange=__webpack_require__(378),DRAGGING_TYPES=["X","Y","XY"],DEFAULT_TYPE="X";module.exports=function(_Interaction){var subClass,superClass;superClass=_Interaction,(subClass=Drag).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Drag.prototype;function Drag(cfg,chart){var _this,me=_assertThisInitialized(_assertThisInitialized(_this=_Interaction.call(this,cfg,chart)||this));me.type=me.type.toUpperCase(),me.chart=chart,me.coord=chart.get("coord");var data=me.data=chart.get("data");filterData(chart);var scales=chart.getYScales(),xScale=chart.getXScale();scales.push(xScale);var scaleController=chart.get("scaleController");return scales.forEach(function(scale){var field=scale.field;me.limitRange[field]=getLimitRange(data,scale);var def=scaleController.defs[field]||{};me.originScaleDefsByField[field]=Util.mix(def,{nice:!!def.nice}),scale.isLinear&&(me.stepByField[field]=(scale.max-scale.min)*me.stepRatio)}),-1===DRAGGING_TYPES.indexOf(me.type)&&(me.type=DEFAULT_TYPE),me._disableTooltip(),_this}return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:DEFAULT_TYPE,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},_proto._disableTooltip=function(){var chart=this.chart;chart.get("tooltipController")&&(this._showTooltip=!0,chart.tooltip(!1))},_proto._enableTooltip=function(ev){var chart=this.chart;this._showTooltip&&(chart.tooltip(!0),chart.showTooltip(ev))},_proto._applyTranslate=function(scale,offset,total){void 0===offset&&(offset=0),scale.isLinear?this._translateLinearScale(scale,offset,total):this._translateCatScale(scale,offset,total)},_proto._translateCatScale=function(scale,offset,total){var chart=this.chart,type=scale.type,field=scale.field,values=scale.values,ticks=scale.ticks,colDef=getColDef(chart,field),originValues=this.limitRange[field],valueLength=values.length,deltaCount=Math.max(1,Math.abs(parseInt(offset/total*valueLength))),firstIndex=originValues.indexOf(values[0]),lastIndex=originValues.indexOf(values[valueLength-1]);if(offset>0&&firstIndex>=0){for(var i=0;i<deltaCount&&firstIndex>0;i++)firstIndex-=1,lastIndex-=1;var newValues=originValues.slice(firstIndex,lastIndex+1),newTicks=null;if("timeCat"===type){for(var tickGap=ticks.length>2?ticks[1]-ticks[0]:864e5,_i=ticks[0]-tickGap;_i>=newValues[0];_i-=tickGap)ticks.unshift(_i);newTicks=ticks}chart.scale(field,Util.mix({},colDef,{values:newValues,ticks:newTicks}))}else if(offset<0&&lastIndex<=originValues.length-1){for(var _i2=0;_i2<deltaCount&&lastIndex<originValues.length-1;_i2++)firstIndex+=1,lastIndex+=1;var _newValues=originValues.slice(firstIndex,lastIndex+1),_newTicks=null;if("timeCat"===type){for(var _tickGap=ticks.length>2?ticks[1]-ticks[0]:864e5,_i3=ticks[ticks.length-1]+_tickGap;_i3<=_newValues[_newValues.length-1];_i3+=_tickGap)ticks.push(_i3);_newTicks=ticks}chart.scale(field,Util.mix({},colDef,{values:_newValues,ticks:_newTicks}))}},_proto._translateLinearScale=function(scale,offset,total){var chart=this.chart,limitRange=this.limitRange,min=scale.min,max=scale.max,field=scale.field;if(min!==limitRange[field].min||max!==limitRange[field].max){var ratio=offset/total,range=max-min,colDef=getColDef(chart,field);chart.scale(field,Util.mix({},colDef,{nice:!1,min:min+ratio*range,max:max+ratio*range}))}},_proto.start=function(ev){this.canvas.get("canvasDOM").style.cursor="pointer",this.isDragging=!0,this.previousPoint={x:ev.x,y:ev.y},this._disableTooltip()},_proto.process=function(ev){var me=this;if(me.isDragging){var chart=me.chart,type=me.type,coord=me.coord,threshold=me.threshold;me.canvas.get("canvasDOM").style.cursor="move";var previousPoint=me.previousPoint,currentPoint=ev,deltaX=currentPoint.x-previousPoint.x,deltaY=currentPoint.y-previousPoint.y,modified=!1;if(Math.abs(deltaX)>threshold&&type.indexOf("X")>-1){modified=!0;var xScale=chart.getXScale();me._applyTranslate(xScale,xScale.isLinear?-deltaX:deltaX,coord.width)}Math.abs(deltaY)>threshold&&type.indexOf("Y")>-1&&(modified=!0,chart.getYScales().forEach(function(yScale){me._applyTranslate(yScale,currentPoint.y-previousPoint.y,coord.height)})),modified&&(me.previousPoint=currentPoint,chart.repaint())}},_proto.end=function(ev){this.isDragging=!1,this.canvas.get("canvasDOM").style.cursor="default",this._enableTooltip(ev)},_proto.reset=function(){var view=this.view,originScaleDefsByField=this.originScaleDefsByField,scales=view.getYScales(),xScale=view.getXScale();scales.push(xScale),scales.forEach(function(scale){if(scale.isLinear){var field=scale.field;view.scale(field,originScaleDefsByField[field])}}),view.repaint(),this._disableTooltip()},Drag}(Interaction)},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),TimeUtil=__webpack_require__(71),getColDefs=__webpack_require__(376);module.exports=function(chart){chart.on("beforeinitgeoms",function(){chart.set("limitInPlot",!0);var data=chart.get("data"),colDefs=getColDefs(chart);if(!colDefs)return data;var geoms=chart.get("geoms"),isSpecialGeom=!1;Util.each(geoms,function(geom){if(-1!==["area","line","path"].indexOf(geom.get("type")))return isSpecialGeom=!0,!1});var fields=[];if(Util.each(colDefs,function(def,key){!isSpecialGeom&&def&&(def.values||def.min||def.max)&&fields.push(key)}),0===fields.length)return data;var geomData=[];Util.each(data,function(obj){var flag=!0;Util.each(fields,function(field){var value=obj[field];if(value){var colDef=colDefs[field];"timeCat"===colDef.type&&Util.isNumber(colDef.values[0])&&(value=TimeUtil.toTimeStamp(value)),(colDef.values&&-1===colDef.values.indexOf(value)||colDef.min&&value<colDef.min||colDef.max&&value>colDef.max)&&(flag=!1)}}),flag&&geomData.push(obj)}),chart.set("filteredData",geomData)})}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Interaction=__webpack_require__(171),getFieldRange=__webpack_require__(471),getLimitRange=__webpack_require__(378);module.exports=function(_Interaction){var subClass,superClass;superClass=_Interaction,(subClass=ScrollBar).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=ScrollBar.prototype;function ScrollBar(cfg,chart){var _this,defaultCfg=(_this=_Interaction.call(this,cfg,chart)||this).getDefaultCfg();return chart.set("_scrollBarCfg",Util.deepMix({},defaultCfg,cfg)),chart.set("_limitRange",{}),chart.get("_horizontalBar")||chart.get("_verticalBar")||_this._renderScrollBars(),_this}return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},_proto._renderScrollBars=function(){var chart=this.chart,scrollBarCfg=chart.get("_scrollBarCfg");if(scrollBarCfg){var data=chart.get("data"),plotRange=chart.get("plotRange");plotRange.width=Math.abs(plotRange.br.x-plotRange.bl.x),plotRange.height=Math.abs(plotRange.tl.y-plotRange.bl.y);var backPlot=chart.get("backPlot"),canvasHeight=chart.get("canvas").get("height"),limitRange=chart.get("_limitRange"),type=scrollBarCfg.type;if(type.indexOf("X")>-1){var _scrollBarCfg$xStyle=scrollBarCfg.xStyle,offsetX=_scrollBarCfg$xStyle.offsetX,offsetY=_scrollBarCfg$xStyle.offsetY,lineCap=_scrollBarCfg$xStyle.lineCap,backgroundColor=_scrollBarCfg$xStyle.backgroundColor,fillerColor=_scrollBarCfg$xStyle.fillerColor,size=_scrollBarCfg$xStyle.size,xScale=chart.getXScale(),xLimitRange=limitRange[xScale.field];xLimitRange||(xLimitRange=getLimitRange(data,xScale),limitRange[xScale.field]=xLimitRange);var currentRange=getFieldRange(xScale,xLimitRange,xScale.type),horizontalBar=chart.get("_horizontalBar"),yPos=canvasHeight-size/2+offsetY;horizontalBar?horizontalBar.get("children")[1].attr({x1:Math.max(plotRange.bl.x+plotRange.width*currentRange[0]+offsetX,plotRange.bl.x),x2:Math.min(plotRange.bl.x+plotRange.width*currentRange[1]+offsetX,plotRange.br.x)}):((horizontalBar=backPlot.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:plotRange.bl.x+offsetX,y1:yPos,x2:plotRange.br.x+offsetX,y2:yPos,lineWidth:size,stroke:backgroundColor,lineCap:lineCap}}),horizontalBar.addShape("line",{attrs:{x1:Math.max(plotRange.bl.x+plotRange.width*currentRange[0]+offsetX,plotRange.bl.x),y1:yPos,x2:Math.min(plotRange.bl.x+plotRange.width*currentRange[1]+offsetX,plotRange.br.x),y2:yPos,lineWidth:size,stroke:fillerColor,lineCap:lineCap}}),chart.set("_horizontalBar",horizontalBar))}if(type.indexOf("Y")>-1){var _scrollBarCfg$yStyle=scrollBarCfg.yStyle,_offsetX=_scrollBarCfg$yStyle.offsetX,_offsetY=_scrollBarCfg$yStyle.offsetY,_lineCap=_scrollBarCfg$yStyle.lineCap,_backgroundColor=_scrollBarCfg$yStyle.backgroundColor,_fillerColor=_scrollBarCfg$yStyle.fillerColor,_size=_scrollBarCfg$yStyle.size,yScale=chart.getYScales()[0],yLimitRange=limitRange[yScale.field];yLimitRange||(yLimitRange=getLimitRange(data,yScale),limitRange[yScale.field]=yLimitRange);var _currentRange=getFieldRange(yScale,yLimitRange,yScale.type),verticalBar=chart.get("_verticalBar"),xPos=_size/2+_offsetX;verticalBar?verticalBar.get("children")[1].attr({y1:Math.max(plotRange.tl.y+plotRange.height*_currentRange[0]+_offsetY,plotRange.tl.y),y2:Math.min(plotRange.tl.y+plotRange.height*_currentRange[1]+_offsetY,plotRange.bl.y)}):((verticalBar=backPlot.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:xPos,y1:plotRange.tl.y+_offsetY,x2:xPos,y2:plotRange.bl.y+_offsetY,lineWidth:_size,stroke:_backgroundColor,lineCap:_lineCap}}),verticalBar.addShape("line",{attrs:{x1:xPos,y1:Math.max(plotRange.tl.y+plotRange.height*_currentRange[0]+_offsetY,plotRange.tl.y),x2:xPos,y2:Math.min(plotRange.tl.y+plotRange.height*_currentRange[1]+_offsetY,plotRange.bl.y),lineWidth:_size,stroke:_fillerColor,lineCap:_lineCap}}),chart.set("_verticalBar",verticalBar))}}},_proto._clear=function(){var chart=this.chart;if(chart){var hBar=chart.get("_horizontalBar"),vBar=chart.get("_verticalBar");hBar&&hBar.remove(!0),vBar&&vBar.remove(!0),chart.set("_horizontalBar",null),chart.set("_verticalBar",null)}},_proto._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var chart=this.chart;chart.on("afterclear",this._onAfterclearOrBeforechangedata),chart.on("beforechangedata",this._onAfterclearOrBeforechangedata),chart.on("afterclearinner",this._onAfterclearinner),chart.on("afterdrawgeoms",this._onAfterdrawgeoms)},_proto._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},_proto._onAfterclearinner=function(){this._clear()},_proto._onAfterdrawgeoms=function(){this._renderScrollBars()},_proto._clearEvents=function(){var chart=this.chart;chart&&(chart.off("afterclear",this._onAfterclearOrBeforechangedata),chart.off("beforechangedata",this._onAfterclearOrBeforechangedata),chart.off("afterclearinner",this._onAfterclearinner),chart.off("afterdrawgeoms",this._onAfterdrawgeoms))},_proto.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},ScrollBar}(Interaction)},function(module,exports){module.exports=function(scale,limitRange,type){if(!scale)return[0,1];var minRatio=0,maxRatio=0;if("linear"===type){var min=limitRange.min,range=limitRange.max-min;minRatio=(scale.min-min)/range,maxRatio=(scale.max-min)/range}else{var originValues=limitRange,values=scale.values,firstIndex=originValues.indexOf(values[0]),lastIndex=originValues.indexOf(values[values.length-1]);minRatio=firstIndex/(originValues.length-1),maxRatio=lastIndex/(originValues.length-1)}return[minRatio,maxRatio]}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Interaction=__webpack_require__(171);function getOriginalAttrs(attrs,styles){var origin={};for(var style in styles)origin[style]=attrs[style];return origin}module.exports=function(_Interaction){var subClass,superClass;function Select(){return _Interaction.apply(this,arguments)||this}superClass=_Interaction,(subClass=Select).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Select.prototype;return _proto.getDefaultCfg=function(){var defaultCfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},defaultCfg,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},_proto.start=function(ev){var selectedShape,unSelectedShapes=[];if(this.view.eachShape(function(obj,shape){shape.isPointInPath(ev.x,ev.y)?selectedShape=shape:unSelectedShapes.push(shape)}),selectedShape)if(selectedShape.get("_selected")){if(!this.cancelable)return;this.reset()}else{var selectStyle=this.selectStyle,unSelectStyle=this.unSelectStyle,originAttrs=getOriginalAttrs(selectedShape.attr(),selectedShape);selectedShape.set("_originAttrs",originAttrs),selectedShape.attr(selectStyle),Util.each(unSelectedShapes,function(child){var originAttrs=child.get("_originAttrs");originAttrs&&child.attr(originAttrs),child.set("_selected",!1),unSelectStyle&&(originAttrs=getOriginalAttrs(child.attr(),unSelectStyle),child.set("_originAttrs",originAttrs),child.attr(unSelectStyle))}),selectedShape.set("_selected",!0),this.selectedShape=selectedShape,this.canvas.draw()}else this.reset()},_proto.end=function(ev){var selectedShape=this.selectedShape;selectedShape&&!selectedShape.get("destroyed")&&selectedShape.get("origin")&&(ev.data=selectedShape.get("origin")._origin,ev.shapeInfo=selectedShape.get("origin"),ev.shape=selectedShape,ev.selected=!!selectedShape.get("_selected"))},_proto.reset=function(){if(this.selectedShape){var children=this.view.get("geoms")[0].get("container").get("children")[0].get("children");Util.each(children,function(child){var originAttrs=child.get("_originAttrs");originAttrs&&(child._attrs=originAttrs,child.set("_originAttrs",null)),child.set("_selected",!1)}),this.canvas.draw()}},Select}(Interaction)},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Range=__webpack_require__(474),Chart=__webpack_require__(147),Util=__webpack_require__(0),G=__webpack_require__(16),Global=__webpack_require__(7),Interaction=__webpack_require__(171),getColDef=__webpack_require__(377),getColDefs=__webpack_require__(376),Canvas=G.Canvas,DomUtil=Util.DomUtil,isNumber=Util.isNumber;module.exports=function(_Interaction){var subClass,superClass;superClass=_Interaction,(subClass=Slider).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Slider.prototype;function Slider(cfg,chart){var _this,me=_assertThisInitialized(_assertThisInitialized(_this=_Interaction.call(this,cfg,chart)||this));return me._initContainer(),me._initStyle(),me.render(),_this}return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:Global.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},_proto._initContainer=function(){var container=this.container;if(!container)throw new Error("Please specify the container for the Slider!");this.domContainer=Util.isString(container)?document.getElementById(container):container},_proto.forceFit=function(){var me=this;if(me&&!me.destroyed){var width=DomUtil.getWidth(me.domContainer);if(width!==me.domWidth){var canvas=me.canvas;canvas.changeSize(width,me.height),me.bgChart&&me.bgChart.changeWidth(width),canvas.clear(),me._initWidth(),me._initSlider(),me._bindEvent(),canvas.draw()}}},_proto._initForceFitEvent=function(){var timer=setTimeout(Util.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=timer},_proto._initStyle=function(){var me=this;me.handleStyle=Util.mix({width:me.height,height:me.height},me.handleStyle),"auto"===me.width&&window.addEventListener("resize",Util.wrapBehavior(me,"_initForceFitEvent"))},_proto._initWidth=function(){var width,me=this;width="auto"===me.width?DomUtil.getWidth(me.domContainer):me.width,me.domWidth=width;var padding=Util.toAllPadding(me.padding);"horizontal"===me.layout?(me.plotWidth=width-padding[1]-padding[3],me.plotPadding=padding[3],me.plotHeight=me.height):"vertical"===me.layout&&(me.plotWidth=me.width,me.plotHeight=me.height-padding[0]-padding[2],me.plotPadding=padding[0])},_proto._initCanvas=function(){var canvas=new Canvas({width:this.domWidth,height:this.height,containerDOM:this.domContainer,capture:!1}),node=canvas.get("el");node.style.position="absolute",node.style.top=0,node.style.left=0,node.style.zIndex=3,this.canvas=canvas},_proto._initBackground=function(){var _Util$deepMix,me=this,chart=this.chart,geom=chart.getAllGeoms[0],data=me.data=me.data||chart.get("data"),xScale=chart.getXScale(),xAxis=me.xAxis||xScale.field,yAxis=me.yAxis||chart.getYScales()[0].field,scales=Util.deepMix(((_Util$deepMix={})[""+xAxis]={range:[0,1]},_Util$deepMix),getColDefs(chart),me.scales);if(delete scales[xAxis].min,delete scales[xAxis].max,!data)throw new Error("Please specify the data!");if(!xAxis)throw new Error("Please specify the xAxis!");if(!yAxis)throw new Error("Please specify the yAxis!");var backgroundChart=me.backgroundChart,type=backgroundChart.type||geom.get("type"),color=backgroundChart.color||"grey",shape=backgroundChart.shape;Util.isArray(type)||(type=[type]);var padding=Util.toAllPadding(me.padding),bgChart=new Chart({container:me.container,width:me.domWidth,height:me.height,padding:[0,padding[1],0,padding[3]],animate:!1});bgChart.source(data),bgChart.scale(scales),bgChart.axis(!1),bgChart.tooltip(!1),bgChart.legend(!1),Util.each(type,function(eachType,index){var bgGeom=bgChart[eachType]().position(xAxis+"*"+yAxis).opacity(1),colorItem=Util.isArray(color)?color[index]:color;colorItem&&(Util.isObject(colorItem)?colorItem.field&&bgGeom.color(colorItem.field,colorItem.colors):bgGeom.color(colorItem));var shapeItem=Util.isArray(shape)?shape[index]:shape;shapeItem&&(Util.isObject(shapeItem)?shapeItem.field&&bgGeom.shape(shapeItem.field,shapeItem.callback||shapeItem.shapes):bgGeom.shape(shapeItem))}),bgChart.render(),me.bgChart=bgChart,me.scale="horizontal"===me.layout?bgChart.getXScale():bgChart.getYScales()[0],"vertical"===me.layout&&bgChart.destroy()},_proto._initRange=function(){var me=this,startRadio=me.startRadio,endRadio=me.endRadio,start=me._startValue,end=me._endValue,scale=me.scale,min=0,max=1;isNumber(startRadio)?min=startRadio:start&&(min=scale.scale(scale.translate(start))),isNumber(endRadio)?max=endRadio:end&&(max=scale.scale(scale.translate(end)));var minSpan=me.minSpan,maxSpan=me.maxSpan,totalSpan=0;if("time"===scale.type||"timeCat"===scale.type){var values=scale.values;totalSpan=values[values.length-1]-values[0]}else scale.isLinear&&(totalSpan=scale.max-scale.min);totalSpan&&minSpan&&(me.minRange=minSpan/totalSpan*100),totalSpan&&maxSpan&&(me.maxRange=maxSpan/totalSpan*100);var range=[100*min,100*max];return me.range=range,range},_proto._getHandleValue=function(type){var me=this,range=me.range,max=range[1]/100,scale=me.scale;return"min"===type?me._startValue?me._startValue:scale.invert(range[0]/100):me._endValue?me._endValue:scale.invert(max)},_proto._initSlider=function(){var me=this,canvas=me.canvas,range=me._initRange(),scale=me.scale,rangeElement=canvas.addGroup(Range,{middleAttr:me.fillerStyle,range:range,minRange:me.minRange,maxRange:me.maxRange,layout:me.layout,width:me.plotWidth,height:me.plotHeight,backgroundStyle:me.backgroundStyle,textStyle:me.textStyle,handleStyle:me.handleStyle,minText:scale.getText(me._getHandleValue("min")),maxText:scale.getText(me._getHandleValue("max"))});"horizontal"===me.layout?rangeElement.translate(me.plotPadding,0):"vertical"===me.layout&&rangeElement.translate(0,me.plotPadding),me.rangeElement=rangeElement},_proto._updateElement=function(minRatio,maxRatio){var me=this,chart=me.chart,scale=me.scale,rangeElement=me.rangeElement,field=scale.field,minTextElement=rangeElement.get("minTextElement"),maxTextElement=rangeElement.get("maxTextElement"),min=scale.invert(minRatio),max=scale.invert(maxRatio),minText=scale.getText(min),maxText=scale.getText(max);minTextElement.attr("text",minText),maxTextElement.attr("text",maxText),me._startValue=minText,me._endValue=maxText,me.onChange&&me.onChange({startText:minText,endText:maxText,startValue:min,endValue:max,startRadio:minRatio,endRadio:maxRatio}),chart.scale(field,Util.mix({},getColDef(chart,field),{nice:!1,min:min,max:max})),chart.repaint()},_proto._bindEvent=function(){var me=this;me.rangeElement.on("sliderchange",function(ev){var range=ev.range;me._updateElement(range[0]/100,range[1]/100)})},_proto.clear=function(){var me=this;me.canvas.clear(),me.bgChart&&me.bgChart.destroy(),me.bgChart=null,me.scale=null,me.canvas.draw()},_proto.repaint=function(){this.clear(),this.render()},_proto.render=function(){var me=this;me._initWidth(),me._initCanvas(),me._initBackground(),me._initSlider(),me._bindEvent(),me.canvas.draw()},_proto.destroy=function(){var me=this;clearTimeout(me.resizeTimer),me.rangeElement.off("sliderchange"),me.bgChart&&me.bgChart.destroy(),me.canvas.destroy();for(var container=me.domContainer;container.hasChildNodes();)container.removeChild(container.firstChild);window.removeEventListener("resize",Util.getWrapBehavior(me,"_initForceFitEvent")),me.destroyed=!0},Slider}(Interaction)},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),G=__webpack_require__(16),DomUtil=Util.DomUtil;module.exports=function(_Group){var subClass,superClass;function Range(){return _Group.apply(this,arguments)||this}superClass=_Group,(subClass=Range).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Range.prototype;return _proto.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_proto._initHandle=function(type){var text,handleIcon,triggerCursor,handle=this.addGroup(),layout=this.get("layout"),handleStyle=this.get("handleStyle"),img=handleStyle.img,iconWidth=handleStyle.width,iconHeight=handleStyle.height;if("horizontal"===layout){var _iconWidth=handleStyle.width;handleIcon=handle.addShape("Image",{attrs:{x:-_iconWidth/2,y:0,width:_iconWidth,height:iconHeight,img:img,cursor:triggerCursor="ew-resize"}}),text=handle.addShape("Text",{attrs:Util.mix({x:"min"===type?-(_iconWidth/2+5):_iconWidth/2+5,y:iconHeight/2,textAlign:"min"===type?"end":"start",textBaseline:"middle",text:this.get("min"===type?"minText":"maxText"),cursor:triggerCursor},this.get("textStyle"))})}else handleIcon=handle.addShape("Image",{attrs:{x:0,y:-iconHeight/2,width:iconWidth,height:iconHeight,img:img,cursor:triggerCursor="ns-resize"}}),text=handle.addShape("Text",{attrs:Util.mix({x:iconWidth/2,y:"min"===type?iconHeight/2+5:-(iconHeight/2+5),textAlign:"center",textBaseline:"middle",text:this.get("min"===type?"minText":"maxText"),cursor:triggerCursor},this.get("textStyle"))});return this.set(type+"TextElement",text),this.set(type+"IconElement",handleIcon),handle},_proto._initSliderBackground=function(){var backgroundElement=this.addGroup();return backgroundElement.initTransform(),backgroundElement.translate(0,0),backgroundElement.addShape("Rect",{attrs:Util.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),backgroundElement},_proto._beforeRenderUI=function(){var backgroundElement=this._initSliderBackground(),minHandleElement=this._initHandle("min"),maxHandleElement=this._initHandle("max"),middleHandleElement=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",middleHandleElement),this.set("minHandleElement",minHandleElement),this.set("maxHandleElement",maxHandleElement),this.set("backgroundElement",backgroundElement),backgroundElement.set("zIndex",0),middleHandleElement.set("zIndex",1),minHandleElement.set("zIndex",2),maxHandleElement.set("zIndex",2),middleHandleElement.attr("cursor","move"),this.sort()},_proto._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_proto._transform=function(layout){var range=this.get("range"),minRatio=range[0]/100,maxRatio=range[1]/100,width=this.get("width"),height=this.get("height"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.get("middleHandleElement");minHandleElement.resetMatrix?(minHandleElement.resetMatrix(),maxHandleElement.resetMatrix()):(minHandleElement.initTransform(),maxHandleElement.initTransform()),"horizontal"===layout?(middleHandleElement.attr({x:width*minRatio,y:0,width:(maxRatio-minRatio)*width,height:height}),minHandleElement.translate(minRatio*width,0),maxHandleElement.translate(maxRatio*width,0)):(middleHandleElement.attr({x:0,y:height*(1-maxRatio),width:width,height:(maxRatio-minRatio)*height}),minHandleElement.translate(0,(1-minRatio)*height),maxHandleElement.translate(0,(1-maxRatio)*height))},_proto._renderHorizontal=function(){this._transform("horizontal")},_proto._renderVertical=function(){this._transform("vertical")},_proto._bindUI=function(){this.on("mousedown",Util.wrapBehavior(this,"_onMouseDown"))},_proto._isElement=function(target,name){var element=this.get(name);return target===element||!!element.isGroup&&element.get("children").indexOf(target)>-1},_proto._getRange=function(diff,range){var rst=diff+range;return(rst=rst>100?100:rst)<0?0:rst},_proto._limitRange=function(diff,limit,range){range[0]=this._getRange(diff,range[0]),range[1]=range[0]+limit,range[1]>100&&(range[1]=100,range[0]=range[1]-limit)},_proto._updateStatus=function(dim,ev){var totalLength=this.get("x"===dim?"width":"height");dim=Util.upperFirst(dim);var range=this.get("range"),page=this.get("page"+dim),currentTarget=this.get("currentTarget"),rangeStash=this.get("rangeStash"),layout=this.get("layout"),currentPage=ev["page"+dim],diffRange=(currentPage-page)/totalLength*100*("vertical"===layout?-1:1),minRange=this.get("minRange"),maxRange=this.get("maxRange");range[1]<=range[0]?(this._isElement(currentTarget,"minHandleElement")||this._isElement(currentTarget,"maxHandleElement"))&&(range[0]=this._getRange(diffRange,range[0]),range[1]=this._getRange(diffRange,range[0])):(this._isElement(currentTarget,"minHandleElement")&&(range[0]=this._getRange(diffRange,range[0]),minRange&&range[1]-range[0]<=minRange&&this._limitRange(diffRange,minRange,range),maxRange&&range[1]-range[0]>=maxRange&&this._limitRange(diffRange,maxRange,range)),this._isElement(currentTarget,"maxHandleElement")&&(range[1]=this._getRange(diffRange,range[1]),minRange&&range[1]-range[0]<=minRange&&this._limitRange(diffRange,minRange,range),maxRange&&range[1]-range[0]>=maxRange&&this._limitRange(diffRange,maxRange,range))),this._isElement(currentTarget,"middleHandleElement")&&this._limitRange(diffRange,rangeStash[1]-rangeStash[0],range),this.emit("sliderchange",{range:range}),this.set("page"+dim,currentPage),this._renderUI(),this.get("canvas").draw()},_proto._onMouseDown=function(ev){var currentTarget=ev.currentTarget,originEvent=ev.event,range=this.get("range");originEvent.stopPropagation(),originEvent.preventDefault(),this.set("pageX",originEvent.pageX),this.set("pageY",originEvent.pageY),this.set("currentTarget",currentTarget),this.set("rangeStash",[range[0],range[1]]),this._bindCanvasEvents()},_proto._bindCanvasEvents=function(){var containerDOM=this.get("canvas").get("containerDOM");this.onMouseMoveListener=DomUtil.addEventListener(containerDOM,"mousemove",Util.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=DomUtil.addEventListener(containerDOM,"mouseup",Util.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=DomUtil.addEventListener(containerDOM,"mouseleave",Util.wrapBehavior(this,"_onCanvasMouseUp"))},_proto._onCanvasMouseMove=function(ev){var layout=this.get("layout");this._updateStatus("horizontal"===layout?"x":"y",ev)},_proto._onCanvasMouseUp=function(){this._removeDocumentEvents()},_proto._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},Range}(G.Group)},function(module,exports,__webpack_require__){function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),getColDef=__webpack_require__(377),getLimitRange=__webpack_require__(378),ZOOMING_TYPES=["X","Y","XY"],DEFAULT_TYPE="X";module.exports=function(_Interaction){var subClass,superClass;superClass=_Interaction,(subClass=Zoom).prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass;var _proto=Zoom.prototype;function Zoom(cfg,chart){var _this,me=_assertThisInitialized(_assertThisInitialized(_this=_Interaction.call(this,cfg,chart)||this));me.chart=chart,me.type=me.type.toUpperCase();var data=me.data=chart.get("data"),scales=chart.getYScales(),xScale=chart.getXScale();scales.push(xScale);var scaleController=chart.get("scaleController");return scales.forEach(function(scale){var field=scale.field,def=scaleController.defs[field]||{};me.limitRange[field]=getLimitRange(data,scale),me.originScaleDefsByField[field]=Util.mix(def,{nice:!!def.nice}),me.stepByField[field]=scale.isLinear?(scale.max-scale.min)*me.stepRatio:me.catStep}),-1===ZOOMING_TYPES.indexOf(me.type)&&(me.type=DEFAULT_TYPE),_this}return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{processEvent:"mousewheel",type:DEFAULT_TYPE,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},_proto._applyScale=function(scale,delta,minOffset,center){void 0===minOffset&&(minOffset=0);var me=this,chart=me.chart;if(scale.isLinear){var field=scale.field,step=me.stepByField[field]*delta,newMin=scale.min+step*minOffset,newMax=scale.max-step*(1-minOffset);if(newMax>newMin){var colDef=getColDef(chart,field);chart.scale(field,Util.mix({},colDef,{nice:!1,min:newMin,max:newMax}))}}else{var _field=scale.field,values=scale.values,_chart=me.chart,coord=_chart.get("coord"),_colDef=getColDef(_chart,_field),originValues=me.limitRange[_field],originValuesLen=originValues.length,minCount=originValuesLen/me.maxScale,maxCount=originValuesLen/me.minScale,valuesLength=values.length,offsetPoint=coord.invertPoint(center),deltaCount=valuesLength-delta*this.catStep,minDelta=parseInt(deltaCount*offsetPoint.x),maxDelta=deltaCount+minDelta;if(delta>0&&valuesLength>=minCount){var _min=minDelta,_max=maxDelta;maxDelta>valuesLength&&(_max=valuesLength-1,_min=valuesLength-deltaCount);var newValues=values.slice(_min,_max);_chart.scale(_field,Util.mix({},_colDef,{values:newValues}))}else if(delta<0&&valuesLength<=maxCount){var firstIndex=originValues.indexOf(values[0]),lastIndex=originValues.indexOf(values[valuesLength-1]),minIndex=Math.max(0,firstIndex-minDelta),maxIndex=Math.min(lastIndex+maxDelta,originValuesLen),_newValues=originValues.slice(minIndex,maxIndex);_chart.scale(_field,Util.mix({},_colDef,{values:_newValues}))}}},_proto.process=function(ev){var me=this,chart=me.chart,type=me.type,coord=chart.get("coord"),deltaY=ev.deltaY,offsetPoint=coord.invertPoint(ev);if(deltaY){me.onZoom&&me.onZoom(deltaY,offsetPoint,me),deltaY>0?me.onZoomin&&me.onZoomin(deltaY,offsetPoint,me):me.onZoomout&&me.onZoomout(deltaY,offsetPoint,me);var delta=deltaY/Math.abs(deltaY);type.indexOf("X")>-1&&me._applyScale(chart.getXScale(),delta,offsetPoint.x,ev),type.indexOf("Y")>-1&&chart.getYScales().forEach(function(yScale){me._applyScale(yScale,delta,offsetPoint.y,ev)})}chart.repaint()},_proto.reset=function(){var view=this.view,originScaleDefsByField=this.originScaleDefsByField,scales=view.getYScales(),xScale=view.getXScale();scales.push(xScale),scales.forEach(function(scale){if(scale.isLinear){var field=scale.field;view.scale(field,originScaleDefsByField[field])}}),view.repaint()},Zoom}(Interaction)}])}),function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.DataSet=n():t.DataSet=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=195)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(103);e.d(n,"geoArea",function(){return r.c});var i=e(197);e.d(n,"geoBounds",function(){return i.a});var o=e(198);e.d(n,"geoCentroid",function(){return o.a});var u=e(104);e.d(n,"geoCircle",function(){return u.b});var a=e(65);e.d(n,"geoClipExtent",function(){return a.b});var c=e(217);e.d(n,"geoContains",function(){return c.a});var f=e(122);e.d(n,"geoDistance",function(){return f.a});var s=e(218);e.d(n,"geoGraticule",function(){return s.a}),e.d(n,"geoGraticule10",function(){return s.b});var l=e(219);e.d(n,"geoInterpolate",function(){return l.a});var h=e(123);e.d(n,"geoLength",function(){return h.a});var p=e(220);e.d(n,"geoPath",function(){return p.a});var v=e(125);e.d(n,"geoAlbers",function(){return v.a});var d=e(230);e.d(n,"geoAlbersUsa",function(){return d.a});var g=e(231);e.d(n,"geoAzimuthalEqualArea",function(){return g.b}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return g.a});var b=e(232);e.d(n,"geoAzimuthalEquidistant",function(){return b.b}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return b.a});var y=e(233);e.d(n,"geoConicConformal",function(){return y.b}),e.d(n,"geoConicConformalRaw",function(){return y.a});var j=e(68);e.d(n,"geoConicEqualArea",function(){return j.b}),e.d(n,"geoConicEqualAreaRaw",function(){return j.a});var O=e(234);e.d(n,"geoConicEquidistant",function(){return O.b}),e.d(n,"geoConicEquidistantRaw",function(){return O.a});var _=e(127);e.d(n,"geoEquirectangular",function(){return _.a}),e.d(n,"geoEquirectangularRaw",function(){return _.b});var m=e(235);e.d(n,"geoGnomonic",function(){return m.a}),e.d(n,"geoGnomonicRaw",function(){return m.b});var w=e(236);e.d(n,"geoIdentity",function(){return w.a});var x=e(17);e.d(n,"geoProjection",function(){return x.a}),e.d(n,"geoProjectionMutator",function(){return x.b});var E=e(71);e.d(n,"geoMercator",function(){return E.a}),e.d(n,"geoMercatorRaw",function(){return E.c});var M=e(237);e.d(n,"geoOrthographic",function(){return M.a}),e.d(n,"geoOrthographicRaw",function(){return M.b});var T=e(238);e.d(n,"geoStereographic",function(){return T.a}),e.d(n,"geoStereographicRaw",function(){return T.b});var S=e(239);e.d(n,"geoTransverseMercator",function(){return S.a}),e.d(n,"geoTransverseMercatorRaw",function(){return S.b});var k=e(50);e.d(n,"geoRotation",function(){return k.a});var C=e(22);e.d(n,"geoStream",function(){return C.a});var P=e(51);e.d(n,"geoTransform",function(){return P.a})},function(t,n,e){"use strict";function r(t){return t>0?Math.sqrt(t):0}e.d(n,"a",function(){return i}),e.d(n,"f",function(){return o}),e.d(n,"g",function(){return u}),e.d(n,"h",function(){return a}),e.d(n,"m",function(){return c}),e.d(n,"n",function(){return f}),e.d(n,"p",function(){return s}),e.d(n,"q",function(){return l}),e.d(n,"r",function(){return h}),e.d(n,"t",function(){return p}),e.d(n,"w",function(){return v}),e.d(n,"x",function(){return d}),e.d(n,"y",function(){return g}),e.d(n,"F",function(){return b}),e.d(n,"k",function(){return y}),e.d(n,"l",function(){return j}),e.d(n,"s",function(){return O}),e.d(n,"o",function(){return _}),e.d(n,"u",function(){return m}),e.d(n,"C",function(){return w}),e.d(n,"D",function(){return x}),e.d(n,"E",function(){return E}),e.d(n,"H",function(){return M}),e.d(n,"j",function(){return T}),e.d(n,"v",function(){return S}),n.z=function(t){return t?t/Math.sin(t):1},n.e=function(t){return t>1?_:t<-1?-_:Math.asin(t)},n.b=function(t){return t>1?0:t<-1?O:Math.acos(t)},n.B=r,n.G=function(t){return((t=c(2*t))-1)/(t+1)},n.A=function(t){return(c(t)-c(-t))/2},n.i=function(t){return(c(t)+c(-t))/2},n.d=function(t){return s(t+r(t*t+1))},n.c=function(t){return s(t+r(t*t-1))};var i=Math.abs,o=Math.atan,u=Math.atan2,a=(Math,Math.cos),c=Math.exp,f=Math.floor,s=Math.log,l=Math.max,h=Math.min,p=Math.pow,v=Math.round,d=Math.sign||function(t){return t>0?1:t<0?-1:0},g=Math.sin,b=Math.tan,y=1e-6,j=1e-12,O=Math.PI,_=O/2,m=O/4,w=Math.SQRT1_2,x=r(2),E=r(O),M=2*O,T=180/O,S=O/180},function(t,n,e){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=e(3),o=e(77),u=e(76),a=e(356),c=e(139),f=e(39),s=e(84),l=function(t){function n(e){var o;void 0===e&&(e={state:{}});var u=r(r(o=t.call(this)||this));return i(u,{_onChangeTimer:null,DataSet:n,isDataSet:!0,views:{}},e),o}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e._getUniqueViewName=function(){for(var t=a("view_");this.views[t];)t=a("view_");return t},e.createView=function(t,n){void 0===n&&(n={});var e=this;if(o(t)&&(t=e._getUniqueViewName()),u(t)&&(n=t,t=e._getUniqueViewName()),e.views[t])throw new Error("data view exists: "+t);var r=new f(e,n);return e.views[t]=r,r},e.getView=function(t){return this.views[t]},e.setView=function(t,n){this.views[t]=n},e.setState=function(t,n){var e=this;e.state[t]=n,e._onChangeTimer&&(clearTimeout(e._onChangeTimer),e._onChangeTimer=null),e._onChangeTimer=setTimeout(function(){e.emit("statechange",t,n)},16)},n}(c);i(l,{CONSTANTS:s,DataSet:l,DataView:f,View:f,connectors:{},transforms:{},registerConnector:function(t,n){l.connectors[t]=n},getConnector:function(t){return l.connectors[t]||l.connectors.default},registerTransform:function(t,n){l.transforms[t]=n},getTransform:function(t){return l.transforms[t]||l.transforms.default}},s),f.DataSet=l,i(l.prototype,{view:l.prototype.createView}),l.version="0.10.2",t.exports=l},function(t,n){function e(t,n){for(var e in n)n.hasOwnProperty(e)&&"constructor"!==e&&void 0!==n[e]&&(t[e]=n[e])}t.exports=function(t,n,r,i){return n&&e(t,n),r&&e(t,r),i&&e(t,i),t}},function(t,n,e){"use strict";e.d(n,"i",function(){return r}),e.d(n,"j",function(){return i}),e.d(n,"o",function(){return o}),e.d(n,"l",function(){return u}),e.d(n,"q",function(){return a}),e.d(n,"w",function(){return c}),e.d(n,"h",function(){return f}),e.d(n,"r",function(){return s}),e.d(n,"a",function(){return l}),e.d(n,"d",function(){return h}),e.d(n,"e",function(){return p}),e.d(n,"g",function(){return v}),e.d(n,"f",function(){return d}),e.d(n,"k",function(){return g}),e.d(n,"n",function(){return b}),e.d(n,"p",function(){return y}),e.d(n,"t",function(){return j}),e.d(n,"s",function(){return O}),e.d(n,"u",function(){return _}),e.d(n,"v",function(){return m}),n.b=function(t){return t>1?0:t<-1?o:Math.acos(t)},n.c=function(t){return t>1?u:t<-1?-u:Math.asin(t)},n.m=function(t){return(t=j(t/2))*t};var r=1e-6,i=1e-12,o=Math.PI,u=o/2,a=o/4,c=2*o,f=180/o,s=o/180,l=Math.abs,h=Math.atan,p=Math.atan2,v=Math.cos,d=Math.ceil,g=Math.exp,b=(Math,Math.log),y=Math.pow,j=Math.sin,O=Math.sign||function(t){return t>0?1:t<0?-1:0},_=Math.sqrt,m=Math.tan},function(t,n,e){"use strict";e.d(n,"i",function(){return r}),e.d(n,"j",function(){return i}),e.d(n,"o",function(){return o}),e.d(n,"l",function(){return u}),e.d(n,"q",function(){return a}),e.d(n,"w",function(){return c}),e.d(n,"h",function(){return f}),e.d(n,"r",function(){return s}),e.d(n,"a",function(){return l}),e.d(n,"d",function(){return h}),e.d(n,"e",function(){return p}),e.d(n,"g",function(){return v}),e.d(n,"f",function(){return d}),e.d(n,"k",function(){return g}),e.d(n,"n",function(){return b}),e.d(n,"p",function(){return y}),e.d(n,"t",function(){return j}),e.d(n,"s",function(){return O}),e.d(n,"u",function(){return _}),e.d(n,"v",function(){return m}),n.b=function(t){return t>1?0:t<-1?o:Math.acos(t)},n.c=function(t){return t>1?u:t<-1?-u:Math.asin(t)},n.m=function(t){return(t=j(t/2))*t};var r=1e-6,i=1e-12,o=Math.PI,u=o/2,a=o/4,c=2*o,f=180/o,s=o/180,l=Math.abs,h=Math.atan,p=Math.atan2,v=Math.cos,d=Math.ceil,g=Math.exp,b=(Math,Math.log),y=Math.pow,j=Math.sin,O=Math.sign||function(t){return t>0?1:t<0?-1:0},_=Math.sqrt,m=Math.tan},function(t,n,e){var r=e(41),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,n,e){var r=e(6),i=e(10),o="Invalid fields: it must be an array!";t.exports={getField:function(t,n){var e=t.field,o=t.fields;if(i(e))return e;if(r(e))return console.warn("Invalid field: it must be a string!"),e[0];if(console.warn("Invalid field: it must be a string! will try to get fields instead."),i(o))return o;if(r(o)&&o.length)return o[0];if(n)return n;throw new TypeError("Invalid field: it must be a string!")},getFields:function(t,n){var e=t.field,u=t.fields;if(r(u))return u;if(i(u))return console.warn(o),[u];if(console.warn(o+" will try to get field instead."),i(e))return console.warn(o),[e];if(r(e)&&e.length)return console.warn(o),e;if(n)return n;throw new TypeError(o)}}},function(t,n,e){var r;try{r=e(169)}catch(t){}r||(r=window._),t.exports=r},function(t,n,e){var r=e(76),i=e(6);t.exports=function(t,n){if(t)if(i(t))for(var e=0,o=t.length;e<o&&!1!==n(t[e],e);e++);else if(r(t))for(var u in t)if(t.hasOwnProperty(u)&&!1===n(t[u],u))break}},function(t,n,e){var r=e(41);t.exports=function(t){return r(t,"String")}},function(t,n,e){var r=e(41);t.exports=function(t){return r(t,"Function")}},function(t,n,e){"use strict";function r(t,n,e,r){var i;do{i=o.uniqueId(r)}while(t.hasNode(i));return e.dummy=n,t.setNode(i,e),i}function i(t){return o.max(o.map(t.nodes(),function(n){var e=t.node(n).rank;if(!o.isUndefined(e))return e}))}var o=e(8),u=e(16).Graph;t.exports={addDummyNode:r,simplify:function(t){var n=(new u).setGraph(t.graph());return o.forEach(t.nodes(),function(e){n.setNode(e,t.node(e))}),o.forEach(t.edges(),function(e){var r=n.edge(e.v,e.w)||{weight:0,minlen:1},i=t.edge(e);n.setEdge(e.v,e.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),n},asNonCompoundGraph:function(t){var n=new u({multigraph:t.isMultigraph()}).setGraph(t.graph());return o.forEach(t.nodes(),function(e){t.children(e).length||n.setNode(e,t.node(e))}),o.forEach(t.edges(),function(e){n.setEdge(e,t.edge(e))}),n},successorWeights:function(t){var n=o.map(t.nodes(),function(n){var e={};return o.forEach(t.outEdges(n),function(n){e[n.w]=(e[n.w]||0)+t.edge(n).weight}),e});return o.zipObject(t.nodes(),n)},predecessorWeights:function(t){var n=o.map(t.nodes(),function(n){var e={};return o.forEach(t.inEdges(n),function(n){e[n.v]=(e[n.v]||0)+t.edge(n).weight}),e});return o.zipObject(t.nodes(),n)},intersectRect:function(t,n){var c,f,e=t.x,r=t.y,i=n.x-e,o=n.y-r,u=t.width/2,a=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(o)*u>Math.abs(i)*a?(o<0&&(a=-a),c=a*i/o,f=a):(i<0&&(u=-u),c=u,f=u*o/i),{x:e+c,y:r+f}},buildLayerMatrix:function(t){var n=o.map(o.range(i(t)+1),function(){return[]});return o.forEach(t.nodes(),function(e){var r=t.node(e),i=r.rank;o.isUndefined(i)||(n[i][r.order]=e)}),n},normalizeRanks:function(t){var n=o.minBy(o.map(t.nodes(),function(n){return t.node(n).rank}));o.forEach(t.nodes(),function(e){var r=t.node(e);o.has(r,"rank")&&(r.rank-=n)})},removeEmptyRanks:function(t){var n=o.minBy(o.map(t.nodes(),function(n){return t.node(n).rank})),e=[];o.forEach(t.nodes(),function(r){var i=t.node(r).rank-n;e[i]||(e[i]=[]),e[i].push(r)});var r=0,i=t.graph().nodeRankFactor;o.forEach(e,function(n,e){o.isUndefined(n)&&e%i!=0?--r:r&&o.forEach(n,function(n){t.node(n).rank+=r})})},addBorderNode:function(t,n,e,i){var o={width:0,height:0};return arguments.length>=4&&(o.rank=e,o.order=i),r(t,"border",o,n)},maxRank:i,partition:function(t,n){var e={lhs:[],rhs:[]};return o.forEach(t,function(t){n(t)?e.lhs.push(t):e.rhs.push(t)}),e},time:function(t,n){var e=o.now();try{return n()}finally{console.log(t+" time: "+(o.now()-e)+"ms")}},notime:function(t,n){return n()}}},function(t,n,e){var r;try{r=e(169)}catch(t){}r||(r=window._),t.exports=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(109);e.d(n,"bisect",function(){return r.c}),e.d(n,"bisectRight",function(){return r.b}),e.d(n,"bisectLeft",function(){return r.a});var i=e(30);e.d(n,"ascending",function(){return i.a});var o=e(110);e.d(n,"bisector",function(){return o.a});var u=e(201);e.d(n,"cross",function(){return u.a});var a=e(202);e.d(n,"descending",function(){return a.a});var c=e(112);e.d(n,"deviation",function(){return c.a});var f=e(114);e.d(n,"extent",function(){return f.a});var s=e(203);e.d(n,"histogram",function(){return s.a});var l=e(206);e.d(n,"thresholdFreedmanDiaconis",function(){return l.a});var h=e(207);e.d(n,"thresholdScott",function(){return h.a});var p=e(118);e.d(n,"thresholdSturges",function(){return p.a});var v=e(208);e.d(n,"max",function(){return v.a});var d=e(209);e.d(n,"mean",function(){return d.a});var g=e(210);e.d(n,"median",function(){return g.a});var b=e(211);e.d(n,"merge",function(){return b.a});var y=e(119);e.d(n,"min",function(){return y.a});var j=e(111);e.d(n,"pairs",function(){return j.a});var O=e(212);e.d(n,"permute",function(){return O.a});var _=e(66);e.d(n,"quantile",function(){return _.a});var m=e(116);e.d(n,"range",function(){return m.a});var w=e(213);e.d(n,"scan",function(){return w.a});var x=e(214);e.d(n,"shuffle",function(){return x.a});var E=e(215);e.d(n,"sum",function(){return E.a});var M=e(117);e.d(n,"ticks",function(){return M.a}),e.d(n,"tickIncrement",function(){return M.b}),e.d(n,"tickStep",function(){return M.c});var T=e(120);e.d(n,"transpose",function(){return T.a});var S=e(113);e.d(n,"variance",function(){return S.a});var k=e(216);e.d(n,"zip",function(){return k.a})},function(t,n,e){var r=e(6),i=e(11),o=e(10),u=e(352),a=e(353);t.exports=function(t,n,e){void 0===e&&(e=[]);var f,c=t;return e&&e.length&&(c=a(t,e)),i(n)?f=n:r(n)?f=function(t){return"_"+n.map(function(n){return t[n]}).join("-")}:o(n)&&(f=function(t){return"_"+t[n]}),u(c,f)}},function(t,n,e){var r;try{r=e(433)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,n,e){"use strict";function r(t){function n(t){return[(t=j(t[0]*f.r,t[1]*f.r))[0]*E+g,b-t[1]*E]}function e(t,n){return[(t=d(t,n))[0]*E+g,b-t[1]*E]}function r(){j=Object(a.a)(y=Object(s.b)(C,P,N),d);var t=d(S,k);return g=M-t[0]*E,b=T+t[1]*E,l()}function l(){return w=x=null,n}var d,g,b,y,j,O,_,m,w,x,E=150,M=480,T=250,S=0,k=0,C=0,P=0,N=0,R=null,B=i.a,A=null,I=c.a,L=.5,z=Object(p.a)(e,L);return n.stream=function(t){return w&&x===t?w:w=v(B(y,z(I(x=t))))},n.clipAngle=function(t){return arguments.length?(B=+t?Object(o.a)(R=t*f.r,6*f.r):(R=null,i.a),l()):R*f.h},n.clipExtent=function(t){return arguments.length?(I=null==t?(A=O=_=m=null,c.a):Object(u.a)(A=+t[0][0],O=+t[0][1],_=+t[1][0],m=+t[1][1]),l()):null==A?null:[[A,O],[_,m]]},n.scale=function(t){return arguments.length?(E=+t,r()):E},n.translate=function(t){return arguments.length?(M=+t[0],T=+t[1],r()):[M,T]},n.center=function(t){return arguments.length?(S=t[0]%360*f.r,k=t[1]%360*f.r,r()):[S*f.h,k*f.h]},n.rotate=function(t){return arguments.length?(C=t[0]%360*f.r,P=t[1]%360*f.r,N=t.length>2?t[2]%360*f.r:0,r()):[C*f.h,P*f.h,N*f.h]},n.precision=function(t){return arguments.length?(z=Object(p.a)(e,L=t*t),l()):Object(f.u)(L)},n.fitExtent=function(t,e){return Object(h.a)(n,t,e)},n.fitSize=function(t,e){return Object(h.b)(n,t,e)},function(){return d=t.apply(this,arguments),n.invert=d.invert&&function(t){return(t=j.invert((t[0]-g)/E,(b-t[1])/E))&&[t[0]*f.h,t[1]*f.h]},r()}}n.a=function(t){return r(function(){return t})()},n.b=r;var i=e(226),o=e(227),u=e(65),a=e(105),c=e(67),f=e(4),s=e(50),l=e(51),h=e(70),p=e(228),v=Object(l.b)({point:function(t,n){this.stream.point(t*f.r,n*f.r)}})},function(t,n,e){"use strict";function r(t){function n(t){return[(t=j(t[0]*f.r,t[1]*f.r))[0]*E+g,b-t[1]*E]}function e(t,n){return[(t=d(t,n))[0]*E+g,b-t[1]*E]}function r(){j=Object(a.a)(y=Object(s.b)(C,P,N),d);var t=d(S,k);return g=M-t[0]*E,b=T+t[1]*E,l()}function l(){return w=x=null,n}var d,g,b,y,j,O,_,m,w,x,E=150,M=480,T=250,S=0,k=0,C=0,P=0,N=0,R=null,B=i.a,A=null,I=c.a,L=.5,z=Object(p.a)(e,L);return n.stream=function(t){return w&&x===t?w:w=v(B(y,z(I(x=t))))},n.clipAngle=function(t){return arguments.length?(B=+t?Object(o.a)(R=t*f.r,6*f.r):(R=null,i.a),l()):R*f.h},n.clipExtent=function(t){return arguments.length?(I=null==t?(A=O=_=m=null,c.a):Object(u.a)(A=+t[0][0],O=+t[0][1],_=+t[1][0],m=+t[1][1]),l()):null==A?null:[[A,O],[_,m]]},n.scale=function(t){return arguments.length?(E=+t,r()):E},n.translate=function(t){return arguments.length?(M=+t[0],T=+t[1],r()):[M,T]},n.center=function(t){return arguments.length?(S=t[0]%360*f.r,k=t[1]%360*f.r,r()):[S*f.h,k*f.h]},n.rotate=function(t){return arguments.length?(C=t[0]%360*f.r,P=t[1]%360*f.r,N=t.length>2?t[2]%360*f.r:0,r()):[C*f.h,P*f.h,N*f.h]},n.precision=function(t){return arguments.length?(z=Object(p.a)(e,L=t*t),l()):Object(f.u)(L)},n.fitExtent=Object(h.a)(n),n.fitSize=Object(h.b)(n),function(){return d=t.apply(this,arguments),n.invert=d.invert&&function(t){return(t=j.invert((t[0]-g)/E,(b-t[1])/E))&&[t[0]*f.h,t[1]*f.h]},r()}}n.a=function(t){return r(function(){return t})()},n.b=r;var i=e(336),o=e(338),u=e(145),a=e(144),c=e(150),f=e(5),s=e(78),l=e(81),h=e(154),p=e(339),v=Object(l.b)({point:function(t,n){this.stream.point(t*f.r,n*f.r)}})},function(t,n,e){!function(t){"use strict";function n(t){if(0===t.length)return 0;for(var n,e=t[0],r=0,i=1;i<t.length;i++)n=e+t[i],Math.abs(e)>=Math.abs(t[i])?r+=e-n+t[i]:r+=t[i]-n+e,e=n;return e+r}function e(t){if(0===t.length)throw new Error("mean requires at least one data point");return n(t)/t.length}function r(t,n){var r,i,o=e(t),u=0;if(2===n)for(i=0;i<t.length;i++)u+=(r=t[i]-o)*r;else for(i=0;i<t.length;i++)u+=Math.pow(t[i]-o,n);return u}function i(t){if(0===t.length)throw new Error("variance requires at least one data point");return r(t,2)/t.length}function o(t){if(1===t.length)return 0;var n=i(t);return Math.sqrt(n)}function u(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var n=t[0],e=NaN,r=0,i=1,o=1;o<t.length+1;o++)t[o]!==n?(r<i&&(r=i,e=n),i=1,n=t[o]):i++;return e}function a(t){return t.slice().sort(function(t,n){return t-n})}function c(t){if(0===t.length)throw new Error("min requires at least one data point");for(var n=t[0],e=1;e<t.length;e++)t[e]<n&&(n=t[e]);return n}function f(t){if(0===t.length)throw new Error("max requires at least one data point");for(var n=t[0],e=1;e<t.length;e++)t[e]>n&&(n=t[e]);return n}function s(t,n){var e=t.length*n;if(0===t.length)throw new Error("quantile requires at least one data point.");if(n<0||1<n)throw new Error("quantiles must be between 0 and 1");return 1===n?t[t.length-1]:0===n?t[0]:e%1!=0?t[Math.ceil(e)-1]:t.length%2==0?(t[e-1]+t[e])/2:t[e]}function l(t,n,e,r){for(e=e||0,r=r||t.length-1;e<r;){if(600<r-e){var i=r-e+1,o=n-e+1,u=Math.log(i),a=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*a*(i-a)/i);o-i/2<0&&(c*=-1),l(t,n,Math.max(e,Math.floor(n-o*a/i+c)),Math.min(r,Math.floor(n+(i-o)*a/i+c)))}var f=t[n],s=e,p=r;for(h(t,e,n),t[r]>f&&h(t,e,r);s<p;){for(h(t,s,p),s++,p--;t[s]<f;)s++;for(;t[p]>f;)p--}t[e]===f?h(t,e,p):h(t,++p,r),p<=n&&(e=p+1),n<=p&&(r=p-1)}}function h(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function p(t,n){var e=t.slice();if(Array.isArray(n)){!function(t,n){for(var e=[0],r=0;r<n.length;r++)e.push(g(t.length,n[r]));e.push(t.length-1),e.sort(d);for(var i=[0,e.length-1];i.length;){var o=Math.ceil(i.pop()),u=Math.floor(i.pop());if(!(o-u<=1)){var a=Math.floor((u+o)/2);v(t,e[a],e[u],e[o]),i.push(u,a,a,o)}}}(e,n);for(var r=[],i=0;i<n.length;i++)r[i]=s(e,n[i]);return r}return v(e,g(e.length,n),0,e.length-1),s(e,n)}function v(t,n,e,r){n%1==0?l(t,n,e,r):(l(t,n=Math.floor(n),e,r),l(t,n+1,n+1,r))}function d(t,n){return t-n}function g(t,n){var e=t*n;return 1===n?t-1:0===n?0:e%1!=0?Math.ceil(e)-1:t%2==0?e-.5:e}function b(t,n){if(n<t[0])return 0;if(n>t[t.length-1])return 1;var e=function(t,n){for(var e=0,r=0,i=t.length;r<i;)n<=t[e=r+i>>>1]?i=e:r=-~e;return r}(t,n);if(t[e]!==n)return e/t.length;e++;var r=function(t,n){for(var e=0,r=0,i=t.length;r<i;)n>=t[e=r+i>>>1]?r=-~e:i=e;return r}(t,n);if(r===e)return e/t.length;var i=r-e+1;return i*(r+e)/2/i/t.length}function y(t){var n=p(t,.75),e=p(t,.25);if("number"==typeof n&&"number"==typeof e)return n-e}function j(t){return+p(t,.5)}function O(t){for(var n=j(t),e=[],r=0;r<t.length;r++)e.push(Math.abs(t[r]-n));return j(e)}function _(t,n){n=n||Math.random;for(var e,r,i=t.length;0<i;)r=Math.floor(n()*i--),e=t[i],t[i]=t[r],t[r]=e;return t}function m(t,n){return _(t.slice().slice(),n)}function w(t){for(var n,e=0,r=0;r<t.length;r++)0!==r&&t[r]===n||(n=t[r],e++);return e}function x(t,n){for(var e=[],r=0;r<t;r++){for(var i=[],o=0;o<n;o++)i.push(0);e.push(i)}return e}function E(t,n,e,r){var i;if(0<t){var o=(e[n]-e[t-1])/(n-t+1);i=r[n]-r[t-1]-(n-t+1)*o*o}else i=r[n]-e[n]*e[n]/(n+1);return i<0?0:i}function M(t,n,e,r,i,o,u){if(!(n<t)){var a=Math.floor((t+n)/2);r[e][a]=r[e-1][a-1],i[e][a]=a;var c=e;e<t&&(c=Math.max(c,i[e][t-1]||0)),c=Math.max(c,i[e-1][a]||0);var f,s,l,h=a-1;n<r.length-1&&(h=Math.min(h,i[e][n+1]||0));for(var p=h;c<=p&&!((f=E(p,a,o,u))+r[e-1][c-1]>=r[e][a]);--p)(s=E(c,a,o,u)+r[e-1][c-1])<r[e][a]&&(r[e][a]=s,i[e][a]=c),c++,(l=f+r[e-1][p-1])<r[e][a]&&(r[e][a]=l,i[e][a]=p);M(t,a-1,e,r,i,o,u),M(a+1,n,e,r,i,o,u)}}function T(t,n){if(t.length!==n.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=e(t),i=e(n),o=0,u=0;u<t.length;u++)o+=(t[u]-r)*(n[u]-i);return o/(t.length-1)}function S(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return r(t,2)/(t.length-1)}function k(t){var n=S(t);return Math.sqrt(n)}function C(t,n,e,r){return(t*n+e*r)/(n+r)}function P(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var n=0,e=0;e<t.length;e++)n+=Math.pow(t[e],2);return Math.sqrt(n/t.length)}function N(){this.totalCount=0,this.data={}}function R(){this.weights=[],this.bias=0}function B(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var n=1,e=2;e<=t;e++)n*=e;return n}function A(t,n,e){var r,i;if(void 0===n)r=V.gaussian;else if("string"==typeof n){if(!V[n])throw new Error('Unknown kernel "'+n+'"');r=V[n]}else r=n;if(void 0===e)i=W.nrd(t);else if("string"==typeof e){if(!W[e])throw new Error('Unknown bandwidth method "'+e+'"');i=W[e](t)}else i=e;return function(n){var e=0,o=0;for(e=0;e<t.length;e++)o+=r((n-t[e])/i);return o/i/t.length}}function I(t){for(var n=t,e=t,r=1;r<15;r++)n+=e*=t*t/(2*r+1);return Math.round(1e4*(.5+n/Y*Math.exp(-t*t/2)))/1e4}function L(t){var n=1/(1+.5*Math.abs(t)),e=n*Math.exp(-Math.pow(t,2)-1.26551223+1.00002368*n+.37409196*Math.pow(n,2)+.09678418*Math.pow(n,3)-.18628806*Math.pow(n,4)+.27886807*Math.pow(n,5)-1.13520398*Math.pow(n,6)+1.48851587*Math.pow(n,7)-.82215223*Math.pow(n,8)+.17087277*Math.pow(n,9));return 0<=t?1-e:e-1}function z(t){var n=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),e=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*n)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/n)-(2/(Math.PI*n)+Math.log(1-t*t)/2));return 0<=t?e:-e}function q(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}N.prototype.train=function(t,n){for(var e in this.data[n]||(this.data[n]={}),t){var r=t[e];void 0===this.data[n][e]&&(this.data[n][e]={}),void 0===this.data[n][e][r]&&(this.data[n][e][r]=0),this.data[n][e][r]++}this.totalCount++},N.prototype.score=function(t){var n,e={};for(var r in t){var i=t[r];for(n in this.data)e[n]={},e[n][r+"_"+i]=this.data[n][r]?(this.data[n][r][i]||0)/this.totalCount:0}var o={};for(n in e)for(var u in o[n]=0,e[n])o[n]+=e[n][u];return o},R.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var n=0,e=0;e<this.weights.length;e++)n+=this.weights[e]*t[e];return 0<(n+=this.bias)?1:0},R.prototype.train=function(t,n){if(0!==n&&1!==n)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var e=this.predict(t);if(e!==n){for(var r=n-e,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this};for(var F=1e-4,D=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],G=Math.log(Math.sqrt(2*Math.PI)),H={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},U=Math.sqrt(2*Math.PI),V={gaussian:function(t){return Math.exp(-.5*t*t)/U}},W={nrd:function(t){var n=k(t),e=y(t);return"number"==typeof e&&(n=Math.min(n,e/1.34)),1.06*n*Math.pow(t.length,-.2)}},Y=Math.sqrt(2*Math.PI),$=[],J=0;J<=3.09;J+=.01)$.push(I(J));t.linearRegression=function(t){var n,e,r=t.length;if(1===r)e=t[n=0][1];else{for(var i,o,u,a=0,c=0,f=0,s=0,l=0;l<r;l++)a+=o=(i=t[l])[0],c+=u=i[1],f+=o*o,s+=o*u;e=c/r-(n=(r*s-a*c)/(r*f-a*a))*a/r}return{m:n,b:e}},t.linearRegressionLine=function(t){return function(n){return t.b+t.m*n}},t.standardDeviation=o,t.rSquared=function(t,n){if(t.length<2)return 1;for(var e,r=0,i=0;i<t.length;i++)r+=t[i][1];e=r/t.length;for(var o=0,u=0;u<t.length;u++)o+=Math.pow(e-t[u][1],2);for(var a=0,c=0;c<t.length;c++)a+=Math.pow(t[c][1]-n(t[c][0]),2);return 1-a/o},t.mode=function(t){return u(a(t))},t.modeFast=function(t){for(var n,e=new Map,r=0,i=0;i<t.length;i++){var o=e.get(t[i]);void 0===o?o=1:o++,r<o&&(n=t[i],r=o),e.set(t[i],o)}if(0===r)throw new Error("mode requires at last one data point");return n},t.modeSorted=u,t.min=c,t.max=f,t.extent=function(t){if(0===t.length)throw new Error("extent requires at least one data point");for(var n=t[0],e=t[0],r=1;r<t.length;r++)t[r]>e&&(e=t[r]),t[r]<n&&(n=t[r]);return[n,e]},t.minSorted=function(t){return t[0]},t.maxSorted=function(t){return t[t.length-1]},t.extentSorted=function(t){return[t[0],t[t.length-1]]},t.sum=n,t.sumSimple=function(t){for(var n=0,e=0;e<t.length;e++)n+=t[e];return n},t.product=function(t){for(var n=1,e=0;e<t.length;e++)n*=t[e];return n},t.quantile=p,t.quantileSorted=s,t.quantileRank=function(t,n){return b(a(t),n)},t.quantileRankSorted=b,t.interquartileRange=y,t.iqr=y,t.medianAbsoluteDeviation=O,t.mad=O,t.chunk=function(t,n){var e=[];if(n<1)throw new Error("chunk size must be a positive number");if(Math.floor(n)!==n)throw new Error("chunk size must be an integer");for(var r=0;r<t.length;r+=n)e.push(t.slice(r,r+n));return e},t.sampleWithReplacement=function(t,n,e){if(0===t.length)return[];e=e||Math.random;for(var r=t.length,i=[],o=0;o<n;o++){var u=Math.floor(e()*r);i.push(t[u])}return i},t.shuffle=m,t.shuffleInPlace=_,t.sample=function(t,n,e){return m(t,e).slice(0,n)},t.ckmeans=function(t,n){if(n>t.length)throw new Error("cannot generate more classes than there are data values");var e=a(t);if(1===w(e))return[e];var r=x(n,e.length),i=x(n,e.length);!function(t,n,e){for(var r,i=n[0].length,o=t[Math.floor(i/2)],u=[],a=[],c=0;c<i;++c)r=t[c]-o,0===c?(u.push(r),a.push(r*r)):(u.push(u[c-1]+r),a.push(a[c-1]+r*r)),n[0][c]=E(0,c,u,a),e[0][c]=0;for(var f=1;f<n.length;++f)M(f<n.length-1?f:i-1,i-1,f,n,e,u,a)}(e,r,i);for(var o=[],u=i[0].length-1,c=i.length-1;0<=c;c--){var f=i[c][u];o[c]=e.slice(f,u+1),0<c&&(u=f-1)}return o},t.uniqueCountSorted=w,t.sumNthPowerDeviations=r,t.equalIntervalBreaks=function(t,n){if(t.length<2)return t;for(var e=c(t),r=f(t),i=[e],o=(r-e)/n,u=1;u<n;u++)i.push(i[0]+o*u);return i.push(r),i},t.sampleCovariance=T,t.sampleCorrelation=function(t,n){return T(t,n)/k(t)/k(n)},t.sampleVariance=S,t.sampleStandardDeviation=k,t.sampleSkewness=function(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var n,r=e(t),i=0,o=0,u=0;u<t.length;u++)i+=(n=t[u]-r)*n,o+=n*n*n;var c=Math.sqrt(i/(t.length-1)),f=t.length;return f*o/((f-1)*(f-2)*Math.pow(c,3))},t.sampleKurtosis=function(t){var n=t.length;if(n<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,i=e(t),o=0,u=0,a=0;a<n;a++)o+=(r=t[a]-i)*r,u+=r*r*r*r;return(n-1)/((n-2)*(n-3))*(n*(n+1)*u/(o*o)-3*(n-1))},t.permutationsHeap=function(t){for(var n=new Array(t.length),e=[t.slice()],r=0;r<t.length;r++)n[r]=0;for(r=0;r<t.length;)if(n[r]<r){var i=0;r%2!=0&&(i=n[r]);var o=t[i];t[i]=t[r],t[r]=o,e.push(t.slice()),n[r]++,r=0}else n[r]=0,r++;return e},t.combinations=function t(n,e){var r,i,o,u,a=[];for(r=0;r<n.length;r++)if(1===e)a.push([n[r]]);else for(o=t(n.slice(r+1,n.length),e-1),i=0;i<o.length;i++)(u=o[i]).unshift(n[r]),a.push(u);return a},t.combinationsReplacement=function t(n,e){for(var r=[],i=0;i<n.length;i++)if(1===e)r.push([n[i]]);else for(var o=t(n.slice(i,n.length),e-1),u=0;u<o.length;u++)r.push([n[i]].concat(o[u]));return r},t.addToMean=function(t,n,e){return t+(e-t)/(n+1)},t.combineMeans=C,t.combineVariances=function(t,n,e,r,i,o){var u=C(n,e,i,o);return(e*(t+Math.pow(n-u,2))+o*(r+Math.pow(i-u,2)))/(e+o)},t.geometricMean=function(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var n=1,e=0;e<t.length;e++){if(t[e]<=0)throw new Error("geometricMean requires only positive numbers as input");n*=t[e]}return Math.pow(n,1/t.length)},t.harmonicMean=function(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var n=0,e=0;e<t.length;e++){if(t[e]<=0)throw new Error("harmonicMean requires only positive numbers as input");n+=1/t[e]}return t.length/n},t.average=e,t.mean=e,t.median=j,t.medianSorted=function(t){return s(t,.5)},t.subtractFromMean=function(t,n,e){return(t*n-e)/(n-1)},t.rootMeanSquare=P,t.rms=P,t.variance=i,t.tTest=function(t,n){return(e(t)-n)/(o(t)/Math.sqrt(t.length))},t.tTestTwoSample=function(t,n,r){var i=t.length,o=n.length;if(!i||!o)return null;r||(r=0);var u=e(t),a=e(n),c=S(t),f=S(n);return"number"==typeof u&&"number"==typeof a&&"number"==typeof c&&"number"==typeof f?(u-a-r)/Math.sqrt(((i-1)*c+(o-1)*f)/(i+o-2)*(1/i+1/o)):void 0},t.BayesianClassifier=N,t.bayesian=N,t.PerceptronModel=R,t.perceptron=R,t.epsilon=F,t.factorial=B,t.gamma=function t(n){if("number"==typeof(e=n)&&isFinite(e)&&Math.floor(e)===e)return n<=0?NaN:B(n-1);var e;if(--n<0)return Math.PI/(Math.sin(Math.PI*-n)*t(-n));var r=n+.25;return Math.pow(n/Math.E,n)*Math.sqrt(2*Math.PI*(n+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},t.gammaln=function(t){if(t<=0)return 1/0;t--;for(var n=D[0],e=1;e<15;e++)n+=D[e]/(t+e);var r=5.2421875+t;return G+Math.log(n)-r+(t+.5)*Math.log(r)},t.bernoulliDistribution=function(t){if(t<0||1<t)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]},t.binomialDistribution=function(t,n){if(!(n<0||1<n||t<=0||t%1!=0)){for(var e=0,r=0,i=[],o=1;i[e]=o*Math.pow(n,e)*Math.pow(1-n,t-e),r+=i[e],o=o*(t-++e+1)/e,r<1-F;);return i}},t.poissonDistribution=function(t){if(!(t<=0)){for(var n=0,e=0,r=[],i=1;r[n]=Math.exp(-t)*Math.pow(t,n)/i,e+=r[n],i*=++n,e<1-F;);return r}},t.chiSquaredDistributionTable=H,t.chiSquaredGoodnessOfFit=function(t,n,r){for(var o,u=0,a=n(e(t)),c=[],f=[],s=0;s<t.length;s++)void 0===c[t[s]]&&(c[t[s]]=0),c[t[s]]++;for(s=0;s<c.length;s++)void 0===c[s]&&(c[s]=0);for(o in a)o in c&&(f[+o]=a[o]*t.length);for(o=f.length-1;0<=o;o--)f[o]<3&&(f[o-1]+=f[o],f.pop(),c[o-1]+=c[o],c.pop());for(o=0;o<c.length;o++)u+=Math.pow(c[o]-f[o],2)/f[o];return H[c.length-1-1][r]<u},t.kernelDensityEstimation=A,t.kde=A,t.zScore=function(t,n,e){return(t-n)/e},t.cumulativeStdNormalProbability=function(t){var n=Math.abs(t),e=Math.min(Math.round(100*n),$.length-1);return 0<=t?$[e]:+(1-$[e]).toFixed(4)},t.standardNormalTable=$,t.errorFunction=L,t.erf=L,t.inverseErrorFunction=z,t.probit=function(t){return 0===t?t=F:1<=t&&(t=1-F),Math.sqrt(2)*z(2*t-1)},t.permutationTest=function(t,n,r,i){if(void 0===i&&(i=1e4),void 0===r&&(r="two_side"),"two_side"!==r&&"greater"!==r&&"less"!==r)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=e(t)-e(n),u=new Array(i),a=t.concat(n),c=Math.floor(a.length/2),f=0;f<i;f++){_(a);var s=a.slice(0,c),l=a.slice(c,a.length),h=e(s)-e(l);u[f]=h}var p=0;if("two_side"===r)for(f=0;f<=i;f++)Math.abs(u[f])>=Math.abs(o)&&(p+=1);else if("greater"===r)for(f=0;f<=i;f++)u[f]>=o&&(p+=1);else for(f=0;f<=i;f++)u[f]<=o&&(p+=1);return p/i},t.bisect=function(t,n,e,r,i){if("function"!=typeof t)throw new TypeError("func must be a function");for(var o=0;o<r;o++){var u=(n+e)/2;if(0===t(u)||Math.abs((e-n)/2)<i)return u;q(t(u))===q(t(n))?n=u:e=u}throw new Error("maximum number of iterations exceeded")},t.quickselect=l,t.sign=q,t.numericSort=a,Object.defineProperty(t,"__esModule",{value:!0})}(n)},function(t,n,e){"use strict";n.a=function(){}},function(t,n,e){"use strict";function r(t,n){var e,r=t*Object(u.y)(n),i=30;do{n-=e=(n+Object(u.y)(n)-r)/(1+Object(u.h)(n))}while(Object(u.a)(e)>u.k&&--i>0);return n/2}function i(t,n,e){function i(i,o){return[t*i*Object(u.h)(o=r(e,o)),n*Object(u.y)(o)]}return i.invert=function(r,i){return i=Object(u.e)(i/n),[r/(t*Object(u.h)(i)),Object(u.e)((2*i+Object(u.y)(2*i))/e)]},i}n.c=r,n.b=i,e.d(n,"d",function(){return a});var o=e(0),u=e(1),a=i(u.D/u.o,u.D,u.s);n.a=function(){return Object(o.geoProjection)(a).scale(169.529)}},function(t,n,e){"use strict";function r(t,n){t&&a.hasOwnProperty(t.type)&&a[t.type](t,n)}function i(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)n.point((r=t[i])[0],r[1],r[2]);n.lineEnd()}function o(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)i(t[e],n,1);n.polygonEnd()}var u={Feature:function(t,n){r(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,o=e.length;++i<o;)r(e[i].geometry,n)}},a={Sphere:function(t,n){n.sphere()},Point:function(t,n){n.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)n.point((t=e[r])[0],t[1],t[2])},LineString:function(t,n){i(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)i(e[r],n,0)},Polygon:function(t,n){o(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)o(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,o=e.length;++i<o;)r(e[i],n)}};n.a=function(t,n){t&&u.hasOwnProperty(t.type)?u[t.type](t,n):r(t,n)}},function(t,n,e){"use strict";function r(t,n){return Object(a.a)(t[0]-n[0])<a.k&&Object(a.a)(t[1]-n[1])<a.k}function i(t,n){for(var e,r,i,o=-1,u=t.length,a=t[0],c=[];++o<u;){r=((e=t[o])[0]-a[0])/n,i=(e[1]-a[1])/n;for(var f=0;f<n;++f)c.push([a[0]+f*r,a[1]+f*i]);a=e}return c.push(e),c}var o=e(14),u=e(0),a=e(1);n.a=function(t,n){function e(e,r){for(var i=r<0?-1:1,o=n[+(r<0)],u=0,a=o.length-1;u<a&&e>o[u][2][0];++u);var c=t(e-o[u][1][0],r);return c[0]+=t(o[u][1][0],i*r>i*o[u][0][1]?o[u][0][1]:r)[0],c}var c=function(t){var n,e,u,c,s,l=[],h=t[0].length;for(s=0;s<h;++s)e=(n=t[0][s])[0][0],l.push(i([[e+a.k,n[0][1]+a.k],[e+a.k,(u=n[1][1])-a.k],[(c=n[2][0])-a.k,u-a.k],[c-a.k,n[2][1]+a.k]],30));for(s=t[1].length-1;s>=0;--s)e=(n=t[1][s])[0][0],l.push(i([[(c=n[2][0])-a.k,n[2][1]-a.k],[c-a.k,(u=n[1][1])+a.k],[e+a.k,u+a.k],[e+a.k,n[0][1]-a.k]],30));return{type:"Polygon",coordinates:[Object(o.merge)(l)]}}(n),f=(n=n.map(function(t){return t.map(function(t){return[[t[0][0]*a.v,t[0][1]*a.v],[t[1][0]*a.v,t[1][1]*a.v],[t[2][0]*a.v,t[2][1]*a.v]]})})).map(function(n){return n.map(function(n){var e,r=t(n[0][0],n[0][1])[0],i=t(n[2][0],n[2][1])[0],o=t(n[1][0],n[0][1])[1],u=t(n[1][0],n[1][1])[1];return o>u&&(e=o,o=u,u=e),[[r,o],[i,u]]})});t.invert&&(e.invert=function(i,o){for(var u=f[+(o<0)],a=n[+(o<0)],c=0,s=u.length;c<s;++c){var l=u[c];if(l[0][0]<=i&&i<l[1][0]&&l[0][1]<=o&&o<l[1][1]){var h=t.invert(i-t(a[c][1][0],0)[0],o);return h[0]+=a[c][1][0],r(e(h[0],h[1]),[i,o])?h:null}}});var s=Object(u.geoProjection)(e),l=s.stream;return s.stream=function(t){var n=s.rotate(),e=l(t),r=(s.rotate([0,0]),l(t));return s.rotate(n),e.sphere=function(){Object(u.geoStream)(c,r)},e},s}},function(t,n,e){var r=e(9),i=e(11),o=Object.keys?function(t){return Object.keys(t)}:function(t){var n=[];return r(t,function(e,r){i(t)&&"prototype"===r||n.push(r)}),n};t.exports=o},function(t,n,e){"use strict";n.a=function(){}},function(t,n,e){"use strict";function r(t,n){t&&a.hasOwnProperty(t.type)&&a[t.type](t,n)}function i(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)n.point((r=t[i])[0],r[1],r[2]);n.lineEnd()}function o(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)i(t[e],n,1);n.polygonEnd()}var u={Feature:function(t,n){r(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,o=e.length;++i<o;)r(e[i].geometry,n)}},a={Sphere:function(t,n){n.sphere()},Point:function(t,n){n.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)n.point((t=e[r])[0],t[1],t[2])},LineString:function(t,n){i(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)i(e[r],n,0)},Polygon:function(t,n){o(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)o(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,o=e.length;++i<o;)r(e[i],n)}};n.a=function(t,n){t&&u.hasOwnProperty(t.type)?u[t.type](t,n):r(t,n)}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){var r=e(3);t.exports={assign:r}},function(t,n,e){"use strict";function r(){this.reset()}function i(t,n,e){var r=t.s=n+e,i=r-n;t.t=n-(r-i)+(e-i)}n.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(o,t,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r},function(t,n,e){"use strict";n.a=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}},function(t,n,e){"use strict";var r=e(0),i=e(1);n.a=function(t){var n=0,e=Object(r.geoProjectionMutator)(t),o=e(n);return o.parallel=function(t){return arguments.length?e(n=t*i.v):n*i.j},o}},function(t,n,e){var r=e(9),i=e(54),o=Object.prototype.hasOwnProperty;t.exports=function(t,n){if(null===t||!i(t))return{};var e={};return r(n,function(n){o.call(t,n)&&(e[n]=t[n])}),e}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(349);e.d(n,"path",function(){return r.a})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(369);e.d(n,"cluster",function(){return r.a});var i=e(86);e.d(n,"hierarchy",function(){return i.c});var o=e(381);e.d(n,"pack",function(){return o.a});var u=e(160);e.d(n,"packSiblings",function(){return u.a});var a=e(161);e.d(n,"packEnclose",function(){return a.a});var c=e(383);e.d(n,"partition",function(){return c.a});var f=e(384);e.d(n,"stratify",function(){return f.a});var s=e(385);e.d(n,"tree",function(){return s.a});var l=e(386);e.d(n,"treemap",function(){return l.a});var h=e(387);e.d(n,"treemapBinary",function(){return h.a});var p=e(45);e.d(n,"treemapDice",function(){return p.a});var v=e(55);e.d(n,"treemapSlice",function(){return v.a});var d=e(388);e.d(n,"treemapSliceDice",function(){return d.a});var g=e(88);e.d(n,"treemapSquarify",function(){return g.a});var b=e(389);e.d(n,"treemapResquarify",function(){return b.a})},function(t,n,e){"use strict";n.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},n.a=function(t){var n=t[0],e=t[1],i=Object(r.g)(e);return[i*Object(r.g)(n),i*Object(r.t)(n),Object(r.t)(e)]},n.d=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},n.c=function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},n.b=function(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]},n.f=function(t,n){return[t[0]*n,t[1]*n,t[2]*n]},n.e=function(t){var n=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n};var r=e(4)},function(t,n,e){"use strict";n.a=function(t){return null===t?NaN:+t}},function(t,n,e){"use strict";n.b=function(t){return function(n,e){var i=Object(r.g)(n),o=Object(r.g)(e),u=t(i*o);return[u*o*Object(r.t)(n),u*Object(r.t)(e)]}},n.a=function(t){return function(n,e){var i=Object(r.u)(n*n+e*e),o=t(i),u=Object(r.t)(o),a=Object(r.g)(o);return[Object(r.e)(n*u,i*a),Object(r.c)(i&&e*u/i)]}};var r=e(4)},function(t,n,e){"use strict";function r(t,n){return[t*Object(o.h)(n),n]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){return[t/Object(o.h)(n),n]},n.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,n,e){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=e(139),o=e(3),u=e(40),a=e(40),c=e(320),f=e(9),s=e(6),l=e(54),h=e(140),p=e(76),v=e(10),d=e(24),g=e(32),b=function(t){function n(n,e){var i,u=r(r(i=t.call(this)||this));if(e=e||{},(n=n||{}).isDataSet||(e=n,n=null),o(u,{dataSet:n,loose:!n,dataType:"table",isView:!0,isDataView:!0,origin:[],rows:[],transforms:[],watchingStates:null},e),!u.loose){var a=u.watchingStates;n.on("statechange",function(t){s(a)?a.indexOf(t)>-1&&u._reExecute():u._reExecute()})}return i}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var e=n.prototype;return e._parseStateExpression=function(t){var n=this.dataSet,e=/^\$state\.(\w+)/.exec(t);return e?n.state[e[1]]:t},e._preparseOptions=function(t){var n=this,e=function(t){var n={};return f(t,function(t,e){n[e]=p(t)&&t.isView?t:s(t)?t.concat([]):l(t)?u(t):t}),n}(t);return n.loose?e:(f(e,function(t,r){v(t)&&/^\$state\./.test(t)&&(e[r]=n._parseStateExpression(t))}),e)},e._prepareSource=function(t,e){var r=this,i=n.DataSet;if(r._source={source:t,options:e},e)e=r._preparseOptions(e),r.origin=i.getConnector(e.type)(t,e,r);else if(t instanceof n||v(t))r.origin=i.getConnector("default")(t,r.dataSet);else if(s(t))r.origin=t;else{if(!p(t)||!t.type)throw new TypeError("Invalid source");e=r._preparseOptions(t),r.origin=i.getConnector(e.type)(e,r)}return r.rows=a(r.origin),r},e.source=function(t,n){return this._prepareSource(t,n),this._reExecuteTransforms(),this.trigger("change"),this},e.transform=function(t){return void 0===t&&(t={}),this.transforms.push(t),this._executeTransform(t),this},e._executeTransform=function(t){t=this._preparseOptions(t),n.DataSet.getTransform(t.type)(this,t)},e._reExecuteTransforms=function(){var t=this;t.transforms.forEach(function(n){t._executeTransform(n)})},e.addRow=function(t){this.rows.push(t)},e.removeRow=function(t){this.rows.splice(t,1)},e.updateRow=function(t,n){o(this.rows[t],n)},e.findRows=function(t){return this.rows.filter(function(n){return h(n,t)})},e.findRow=function(t){return c(this.rows,t)},e.getColumnNames=function(){var t=this.rows[0];return t?d(t):[]},e.getColumnName=function(t){return this.getColumnNames()[t]},e.getColumnIndex=function(t){return this.getColumnNames().indexOf(t)},e.getColumn=function(t){return this.rows.map(function(n){return n[t]})},e.getColumnData=function(t){return this.getColumn(t)},e.getSubset=function(t,n,e){for(var r=[],i=t;i<=n;i++)r.push(g(this.rows[i],e));return r},e.toString=function(t){return t?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},e._reExecute=function(){var t=this._source;this._prepareSource(t.source,t.options),this._reExecuteTransforms(),this.trigger("change")},n}(i);t.exports=b},function(t,n,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=e(6);t.exports=function t(n){if("object"!==(void 0===n?"undefined":r(n))||null===n)return n;var e=void 0;if(i(n)){e=[];for(var o=0,u=n.length;o<u;o++)e[o]="object"===r(n[o])&&null!=n[o]?t(n[o]):n[o]}else for(var a in e={},n)e[a]="object"===r(n[a])&&null!=n[a]?t(n[a]):n[a];return e}},function(t,n){var e={}.toString;t.exports=function(t,n){return e.call(t)==="[object "+n+"]"}},function(t,n,e){"use strict";function r(){this.reset()}function i(t,n,e){var r=t.s=n+e,i=r-n;t.t=n-(r-i)+(e-i)}n.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(o,t,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r},function(t,n,e){"use strict";n.g=function(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]},n.a=function(t){var n=t[0],e=t[1],i=Object(r.g)(e);return[i*Object(r.g)(n),i*Object(r.t)(n),Object(r.t)(e)]},n.d=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},n.c=function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]},n.b=function(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]},n.f=function(t,n){return[t[0]*n,t[1]*n,t[2]*n]},n.e=function(t){var n=Object(r.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n};var r=e(5)},function(t,n,e){"use strict";n.b=function(t){return function(n,e){var i=Object(r.g)(n),o=Object(r.g)(e),u=t(i*o);return[u*o*Object(r.t)(n),u*Object(r.t)(e)]}},n.a=function(t){return function(n,e){var i=Object(r.u)(n*n+e*e),o=t(i),u=Object(r.t)(o),a=Object(r.g)(o);return[Object(r.e)(n*u,i*a),Object(r.c)(i&&e*u/i)]}};var r=e(5)},function(t,n,e){"use strict";n.a=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,f=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*f}},function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"d",function(){return i}),e.d(n,"e",function(){return o}),e.d(n,"h",function(){return u}),e.d(n,"i",function(){return a}),e.d(n,"k",function(){return c}),e.d(n,"l",function(){return f}),e.d(n,"f",function(){return s}),e.d(n,"j",function(){return l}),e.d(n,"g",function(){return h}),e.d(n,"m",function(){return p}),n.b=function(t){return t>1?0:t<-1?l:Math.acos(t)},n.c=function(t){return t>=1?h:t<=-1?-h:Math.asin(t)};var r=Math.abs,i=Math.atan2,o=Math.cos,u=Math.max,a=Math.min,c=Math.sin,f=Math.sqrt,s=1e-12,l=Math.PI,h=l/2,p=2*l},function(t,n,e){"use strict";n.a=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}},function(t,n,e){"use strict";n.a=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}},function(t,n,e){"use strict";function r(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function i(t,n){return n[1]-t[1]||n[0]-t[0]}function o(t,n){var e,r,o,d=t.sort(i).pop();for(f=[],a=new Array(t.length),u=new v.b,c=new v.b;;)if(o=h.c,d&&(!o||d[1]<o.y||d[1]===o.y&&d[0]<o.x))d[0]===e&&d[1]===r||(Object(s.a)(d),e=d[0],r=d[1]),d=t.pop();else{if(!o)break;Object(s.b)(o.arc)}if(Object(l.d)(),n){var g=+n[0][0],b=+n[0][1],y=+n[1][0],j=+n[1][1];Object(p.a)(g,b,y,j),Object(l.b)(g,b,y,j)}this.edges=f,this.cells=a,u=c=f=a=null}e.d(n,"f",function(){return d}),e.d(n,"g",function(){return g}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return c}),e.d(n,"e",function(){return f}),n.d=o;var u,a,c,f,s=e(513),l=e(191),h=e(192),p=e(100),v=e(99),d=1e-6,g=1e-12;o.prototype={constructor:o,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return Object(l.a)(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,i){if(u=(o=e.halfedges).length)for(var o,u,a,c=e.site,f=-1,s=n[o[u-1]],l=s.left===c?s.right:s.left;++f<u;)a=l,l=(s=n[o[f]]).left===c?s.right:s.left,a&&l&&i<a.index&&i<l.index&&r(c,a,l)<0&&t.push([c.data,a.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],f=n-i.site[1],s=c*c+f*f;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],f=n-a[1],l=c*c+f*f;l<s&&(s=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||s<=e*e?i.site:null}}},function(t,n,e){"use strict";function r(t,n){return[t>f.o?t-f.w:t<-f.o?t+f.w:t,n]}function i(t,n,e){return(t%=f.w)?n||e?Object(c.a)(u(t),a(n,e)):u(t):n||e?a(n,e):r}function o(t){return function(n,e){return[(n+=t)>f.o?n-f.w:n<-f.o?n+f.w:n,e]}}function u(t){var n=o(t);return n.invert=o(-t),n}function a(t,n){function e(t,n){var e=Object(f.g)(n),a=Object(f.g)(t)*e,c=Object(f.t)(t)*e,s=Object(f.t)(n),l=s*r+a*i;return[Object(f.e)(c*o-l*u,a*r-s*i),Object(f.c)(l*o+c*u)]}var r=Object(f.g)(t),i=Object(f.t)(t),o=Object(f.g)(n),u=Object(f.t)(n);return e.invert=function(t,n){var e=Object(f.g)(n),a=Object(f.g)(t)*e,c=Object(f.t)(t)*e,s=Object(f.t)(n),l=s*o-c*u;return[Object(f.e)(c*o+s*u,a*r+l*i),Object(f.c)(l*r-a*i)]},e}n.b=i;var c=e(105),f=e(4);r.invert=r,n.a=function(t){function n(n){return(n=t(n[0]*f.r,n[1]*f.r))[0]*=f.h,n[1]*=f.h,n}return t=i(t[0]*f.r,t[1]*f.r,t.length>2?t[2]*f.r:0),n.invert=function(n){return(n=t.invert(n[0]*f.r,n[1]*f.r))[0]*=f.h,n[1]*=f.h,n},n}},function(t,n,e){"use strict";function r(t){return function(n){var e=new i;for(var r in t)e[r]=t[r];return e.stream=n,e}}function i(){}n.b=r,n.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,n,e){"use strict";var r=e(1);n.a=function(t,n,e,i,o,u,a,c){function f(f,s){if(!s)return[t*f/r.s,0];var l=s*s,h=t+l*(n+l*(e+l*i)),p=s*(o-1+l*(u-c+l*a)),v=(h*h+p*p)/(2*p),d=f*Object(r.e)(h/v)/r.s;return[v*Object(r.y)(d),s*(1+l*c)+v*(1-Object(r.h)(d))]}return arguments.length<8&&(c=0),f.invert=function(f,s){var l,h,p=r.s*f/t,v=s,d=50;do{var g=v*v,b=t+g*(n+g*(e+g*i)),y=v*(o-1+g*(u-c+g*a)),j=b*b+y*y,O=2*y,_=j/O,m=_*_,w=Object(r.e)(b/_)/r.s,x=p*w,E=b*b,M=(2*n+g*(4*e+6*g*i))*v,T=o+g*(3*u+5*g*a),S=(2*(b*M+y*(T-1))*O-j*(2*(T-1)))/(O*O),k=Object(r.h)(x),C=Object(r.y)(x),P=_*k,N=_*C,R=p/r.s*(1/Object(r.B)(1-E/m))*(M*_-b*S)/m,B=N-f,A=v*(1+g*c)+_-P-s,I=S*C+P*R,L=P*w,z=1+S-(S*k-N*R),q=N*w,F=I*q-z*L;if(!F)break;p-=l=(A*I-B*z)/F,v-=h=(B*q-A*L)/F}while((Object(r.a)(l)>r.k||Object(r.a)(h)>r.k)&&--d>0);return[p,v]},f}},function(t,n,e){"use strict";function i(t,n){return t&&n&&t[0]===n[0]&&t[1]===n[1]}function o(t){return t.project.invert||t.children&&t.children.some(o)}var u=e(0),a=e(1),c=e(294);n.a=function(t,n,e){function s(t,e){var r,i=n(t,e),o=i.project([t*a.j,e*a.j]);return(r=i.transform)?[r[0]*o[0]+r[1]*o[1]+r[2],-(r[3]*o[0]+r[4]*o[1]+r[5])]:(o[1]=-o[1],o)}function l(t,e){var r=t.project.invert,i=t.transform,o=e;if(i&&(o=[(i=Object(c.b)(i))[0]*o[0]+i[1]*o[1]+i[2],i[3]*o[0]+i[4]*o[1]+i[5]]),r&&t===function(t){return n(t[0]*a.v,t[1]*a.v)}(u=r(o)))return u;for(var u,f=t.children,s=0,h=f&&f.length;s<h;++s)if(u=l(f[s],e))return u}e=null==e?-a.s/6:e,function f(t,n){if(t.edges=function(t){for(var n=t.length,e=[],r=t[n-1],i=0;i<n;++i)e.push([r,r=t[i]]);return e}(t.face),n.face){var e=t.shared=function(t,n){for(var e,r,i=t.length,o=null,u=0;u<i;++u){e=t[u];for(var a=n.length;--a>=0;)if(e[0]===(r=n[a])[0]&&e[1]===r[1]){if(o)return[o,e];o=e}}}(t.face,n.face),r=Object(c.a)(e.map(n.project),e.map(t.project));t.transform=n.transform?Object(c.c)(n.transform,r):r;for(var o=n.edges,u=0,a=o.length;u<a;++u)i(e[0],o[u][1])&&i(e[1],o[u][0])&&(o[u]=t),i(e[0],o[u][0])&&i(e[1],o[u][1])&&(o[u]=t);for(u=0,a=(o=t.edges).length;u<a;++u)i(e[0],o[u][0])&&i(e[1],o[u][1])&&(o[u]=n),i(e[0],o[u][1])&&i(e[1],o[u][0])&&(o[u]=n)}else t.transform=n.transform;return t.children&&t.children.forEach(function(n){f(n,t)}),t}(t,{transform:[Object(a.h)(e),Object(a.y)(e),0,-Object(a.y)(e),Object(a.h)(e),0]}),o(t)&&(s.invert=function(n,e){var r=l(t,[n,-e]);return r&&(r[0]*=a.v,r[1]*=a.v,r)});var h=Object(u.geoProjection)(s),p=h.stream;return h.stream=function(n){var e=h.rotate(),i=p(n),o=(h.rotate([0,0]),p(n));return h.rotate(e),i.sphere=function(){o.polygonStart(),o.lineStart(),function r(t,n,e){var i,o,c=n.edges,f=c.length,s={type:"MultiPoint",coordinates:n.face},l=n.face.filter(function(t){return 90!==Object(a.a)(t[1])}),h=Object(u.geoBounds)({type:"MultiPoint",coordinates:l}),p=!1,v=-1,d=h[1][0]-h[0][0],g=180===d||360===d?[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2]:Object(u.geoCentroid)(s);if(e)for(;++v<f&&c[v]!==e;);++v;for(var b=0;b<f;++b)o=c[(b+v)%f],Array.isArray(o)?(p||(t.point((i=Object(u.geoInterpolate)(o[0],g)(a.k))[0],i[1]),p=!0),t.point((i=Object(u.geoInterpolate)(o[1],g)(a.k))[0],i[1])):(p=!1,o!==e&&r(t,o,n))}(o,t),o.lineEnd(),o.polygonEnd()},i},h}},function(t,n,e){var r=e(321),i=e(41);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}},function(t,n,e){"use strict";n.a=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,f=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*f}},function(t,n,e){var r=e(41);t.exports=function(t){return r(t,"Number")}},function(t,n){t.exports=function(t,n){for(var e=n||1,i=t[1],o=[],u=t[0];u<i;)o.push(u),u+=e;return o.push(i),o}},function(t,n,e){var r=e(19),i=r.standardDeviation,o=r.interquartileRange;t.exports={silverman:function(t){var n=i(t),e=4*Math.pow(n,5);return Math.pow(e/(3*t.length),.2)},nrd:function(t){var n=i(t),e=o(t);return"number"==typeof e&&(n=Math.min(n,e/1.34)),1.06*n*Math.pow(t.length,-.2)}}},function(t,n,e){"use strict";var r=e(8);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var u=r.minBy(r.map(t.outEdges(i),function(e){return n(e.w)-t.edge(e).minlen}));return u!==Number.POSITIVE_INFINITY&&null!=u||(u=0),o.rank=u})},slack:function(t,n){return t.node(n.w).rank-t.node(n.v).rank-t.edge(n).minlen}}},function(t,n,e){"use strict";function r(t){this._context=t}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},n.a=function(t){return new r(t)}},function(t,n,e){"use strict";n.a=function(){}},function(t,n,e){"use strict";function r(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function i(t){this._context=t}n.b=r,n.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}}},function(t,n,e){"use strict";function r(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function i(t,n){this._context=t,this._k=(1-n)/6}n.b=r,n.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:r(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new i(t,n)}return e.tension=function(n){return t(+n)},e}(0)},function(t,n,e){var r=e(193),i=function(){function t(t,n){void 0===n&&(n={}),this.options=n,this.rootNode=r(t,n)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,n,e){"use strict";function r(t,n,e,r){function l(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function h(i,o,u,a){var c=0,f=0;if(null==i||(c=p(i,u))!==(f=p(o,u))||d(i,o)<0^u>0)do{a.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+u+4)%4)!==f);else a.point(o[0],o[1])}function p(r,o){return Object(i.a)(r[0]-t)<i.i?o>0?0:3:Object(i.a)(r[0]-e)<i.i?o>0?2:1:Object(i.a)(r[1]-n)<i.i?o>0?1:0:o>0?3:2}function v(t,n){return d(t.x,n.x)}function d(t,n){var e=p(t,1),r=p(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(i){function p(t,n){l(t,n)&&T.point(t,n)}function d(i,o){var a=l(i,o);if(b&&y.push([i,o]),E)j=i,O=o,_=a,E=!1,a&&(T.lineStart(),T.point(i,o));else if(a&&x)T.point(i,o);else{var c=[m=Math.max(s,Math.min(f,m)),w=Math.max(s,Math.min(f,w))],h=[i=Math.max(s,Math.min(f,i)),o=Math.max(s,Math.min(f,o))];Object(u.a)(c,h,t,n,e,r)?(x||(T.lineStart(),T.point(c[0],c[1])),T.point(h[0],h[1]),a||T.lineEnd(),M=!1):a&&(T.lineStart(),T.point(i,o),M=!1)}m=i,w=o,x=a}var g,b,y,j,O,_,m,w,x,E,M,T=i,S=Object(o.a)(),k={point:p,lineStart:function(){k.point=d,b&&b.push(y=[]),E=!0,x=!1,m=w=NaN},lineEnd:function(){g&&(d(j,O),_&&x&&S.rejoin(),g.push(S.result())),k.point=p,x&&T.lineEnd()},polygonStart:function(){T=S,g=[],b=[],M=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=b.length;e<i;++e)for(var o,u,a=b[e],c=1,f=a.length,s=a[0],l=s[0],h=s[1];c<f;++c)o=l,u=h,l=(s=a[c])[0],h=s[1],u<=r?h>r&&(l-o)*(r-u)>(h-u)*(t-o)&&++n:h<=r&&(l-o)*(r-u)<(h-u)*(t-o)&&--n;return n}(),e=M&&n,o=(g=Object(c.merge)(g)).length;(e||o)&&(i.polygonStart(),e&&(i.lineStart(),h(null,null,1,i),i.lineEnd()),o&&Object(a.a)(g,v,n,h,i),i.polygonEnd()),T=i,g=b=y=null}};return k}}n.a=r;var i=e(4),o=e(106),u=e(200),a=e(107),c=e(14),f=1e9,s=-f;n.b=function(){var t,n,e,i=0,o=0,u=960,a=500;return e={stream:function(e){return t&&n===e?t:t=r(i,o,u,a)(n=e)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],u=+r[1][0],a=+r[1][1],t=n=null,e):[[i,o],[u,a]]}}}},function(t,n,e){"use strict";var r=e(36);n.a=function(t,n,e){if(null==e&&(e=r.a),i=t.length){if((n=+n)<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,o=(i-1)*n,u=Math.floor(o),a=+e(t[u],u,t);return a+(+e(t[u+1],u+1,t)-a)*(o-u)}}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";function r(t,n){function e(t,n){var e=Object(i.u)(a-2*o*Object(i.t)(n))/o;return[e*Object(i.t)(t*=o),c-e*Object(i.g)(t)]}var r=Object(i.t)(t),o=(r+Object(i.t)(n))/2;if(Object(i.a)(o)<i.i)return Object(u.a)(t);var a=1+r*(2*o-r),c=Object(i.u)(a)/o;return e.invert=function(t,n){var e=c-n;return[Object(i.e)(t,Object(i.a)(e))/o*Object(i.s)(e),Object(i.c)((a-(t*t+e*e)*o*o)/(2*o))]},e}n.a=r;var i=e(4),o=e(69),u=e(229);n.b=function(){return Object(o.a)(r).scale(155.424).center([0,33.6442])}},function(t,n,e){"use strict";n.a=function(t){var n=0,e=r.o/3,o=Object(i.b)(t),u=o(n,e);return u.parallels=function(t){return arguments.length?o(n=t[0]*r.r,e=t[1]*r.r):[n*r.h,e*r.h]},u};var r=e(4),i=e(17)},function(t,n,e){"use strict";function r(t,n,e){var r=n[1][0]-n[0][0],u=n[1][1]-n[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),Object(i.a)(e,t.stream(o.a));var c=o.a.result(),f=Math.min(r/(c[1][0]-c[0][0]),u/(c[1][1]-c[0][1])),s=+n[0][0]+(r-f*(c[1][0]+c[0][0]))/2,l=+n[0][1]+(u-f*(c[1][1]+c[0][1]))/2;return null!=a&&t.clipExtent(a),t.scale(150*f).translate([s,l])}n.a=r,n.b=function(t,n,e){return r(t,[[0,0],n],e)};var i=e(22),o=e(124)},function(t,n,e){"use strict";function r(t,n){return[t,Object(o.n)(Object(o.v)((o.l+n)/2))]}function i(t){function n(){var n=o.o*l(),a=f(Object(u.a)(f.rotate()).invert([0,0]));return p(null==v?[[a[0]-n,a[1]-n],[a[0]+n,a[1]+n]]:t===r?[[Math.max(a[0]-n,v),e],[Math.min(a[0]+n,i),c]]:[[v,Math.max(a[1]-n,e)],[i,Math.min(a[1]+n,c)]])}var e,i,c,f=Object(a.a)(t),s=f.center,l=f.scale,h=f.translate,p=f.clipExtent,v=null;return f.scale=function(t){return arguments.length?(l(t),n()):l()},f.translate=function(t){return arguments.length?(h(t),n()):h()},f.center=function(t){return arguments.length?(s(t),n()):s()},f.clipExtent=function(t){return arguments.length?(null==t?v=e=i=c=null:(v=+t[0][0],e=+t[0][1],i=+t[1][0],c=+t[1][1]),n()):null==v?null:[[v,e],[i,c]]},n()}n.c=r,n.b=i;var o=e(4),u=e(50),a=e(17);r.invert=function(t,n){return[t,2*Object(o.d)(Object(o.k)(n))-o.l]},n.a=function(){return i(r).scale(961/o.w)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.B)(1-Object(o.y)(n));return[2/o.E*t*e,o.E*(1-e)]}n.a=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=(e=n/o.E-1)*e;return[e>0?t*Object(o.B)(o.s/e)/2:0,Object(o.e)(1-e)]},n.b=function(){return Object(i.geoProjection)(r).scale(95.6464).center([0,30])}},function(t,n,e){"use strict";function r(t,n){return n>-a?((t=Object(o.d)(t,n))[1]+=c,t):Object(u.b)(t,n)}e.d(n,"b",function(){return a}),e.d(n,"d",function(){return c}),n.c=r;var i=e(0),o=e(21),u=e(38),a=.7109889596207567,c=.0528035274542;r.invert=function(t,n){return n>-a?o.d.invert(t,n-c):u.b.invert(t,n)},n.a=function(){return Object(i.geoProjection)(r).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}},function(t,n,e){"use strict";var r=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]];n.a=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(t){return r[t]})})},function(t,n,e){"use strict";var r=e(0),i=e(1);n.a=function(t){function n(n,r){var o=Object(i.a)(n)<i.o,u=t(o?n:n>0?n-i.s:n+i.s,r),a=(u[0]-u[1])*i.C,c=(u[0]+u[1])*i.C;if(o)return[a,c];var f=e*i.C,s=a>0^c>0?-1:1;return[s*a-Object(i.x)(c)*f,s*c-Object(i.x)(a)*f]}var e=t(i.o,0)[0]-t(-i.o,0)[0];return t.invert&&(n.invert=function(n,r){var o=(n+r)*i.C,u=(r-n)*i.C,a=Object(i.a)(o)<.5*e&&Object(i.a)(u)<.5*e;if(!a){var c=e*i.C,f=o>0^u>0?-1:1,s=-f*n+(u>0?1:-1)*c,l=-f*r+(o>0?1:-1)*c;o=(-s-l)*i.C,u=(s-l)*i.C}var h=t.invert(o,u);return a||(h[0]+=o>0?i.s:-i.s),h}),Object(r.geoProjection)(n).rotate([-90,-90,45]).clipAngle(179.999)}},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var n=void 0===t?"undefined":e(t);return null!==t&&"object"===n||"function"===n}},function(t,n){t.exports=function(t){return null==t}},function(t,n,e){"use strict";function r(t,n){return[t>f.o?t-f.w:t<-f.o?t+f.w:t,n]}function i(t,n,e){return(t%=f.w)?n||e?Object(c.a)(u(t),a(n,e)):u(t):n||e?a(n,e):r}function o(t){return function(n,e){return[(n+=t)>f.o?n-f.w:n<-f.o?n+f.w:n,e]}}function u(t){var n=o(t);return n.invert=o(-t),n}function a(t,n){function e(t,n){var e=Object(f.g)(n),a=Object(f.g)(t)*e,c=Object(f.t)(t)*e,s=Object(f.t)(n),l=s*r+a*i;return[Object(f.e)(c*o-l*u,a*r-s*i),Object(f.c)(l*o+c*u)]}var r=Object(f.g)(t),i=Object(f.t)(t),o=Object(f.g)(n),u=Object(f.t)(n);return e.invert=function(t,n){var e=Object(f.g)(n),a=Object(f.g)(t)*e,c=Object(f.t)(t)*e,s=Object(f.t)(n),l=s*o-c*u;return[Object(f.e)(c*o+s*u,a*r+l*i),Object(f.c)(l*r-a*i)]},e}n.b=i;var c=e(144),f=e(5);r.invert=r,n.a=function(t){function n(n){return(n=t(n[0]*f.r,n[1]*f.r))[0]*=f.h,n[1]*=f.h,n}return t=i(t[0]*f.r,t[1]*f.r,t.length>2?t[2]*f.r:0),n.invert=function(n){return(n=t.invert(n[0]*f.r,n[1]*f.r))[0]*=f.h,n[1]*=f.h,n},n}},function(t,n,e){"use strict";function r(t,n){function e(t,n){var e=Object(i.u)(u-2*o*Object(i.t)(n))/o;return[e*Object(i.t)(t*=o),a-e*Object(i.g)(t)]}var r=Object(i.t)(t),o=(r+Object(i.t)(n))/2,u=1+r*(2*o-r),a=Object(i.u)(u)/o;return e.invert=function(t,n){var e=a-n;return[Object(i.e)(t,e)/o,Object(i.c)((u-(t*t+e*e)*o*o)/(2*o))]},e}n.a=r;var i=e(5),o=e(80);n.b=function(){return Object(o.a)(r).scale(155.424).center([0,33.6442])}},function(t,n,e){"use strict";n.a=function(t){var n=0,e=r.o/3,o=Object(i.b)(t),u=o(n,e);return u.parallels=function(t){return arguments.length?o(n=t[0]*r.r,e=t[1]*r.r):[n*r.h,e*r.h]},u};var r=e(5),i=e(18)},function(t,n,e){"use strict";function r(t){function n(){}var e=n.prototype=Object.create(i.prototype);for(var r in t)e[r]=t[r];return function(t){var e=new n;return e.stream=t,e}}function i(){}n.b=r,n.a=function(t){return{stream:r(t)}},i.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,n,e){"use strict";function r(t,n){return[t,Object(u.n)(Object(u.v)((u.l+n)/2))]}function i(t){var n,e=Object(o.a)(t),r=e.scale,i=e.translate,a=e.clipExtent;return e.scale=function(t){return arguments.length?(r(t),n&&e.clipExtent(null),e):r()},e.translate=function(t){return arguments.length?(i(t),n&&e.clipExtent(null),e):i()},e.clipExtent=function(t){if(!arguments.length)return n?null:a();if(n=null==t){var o=u.o*r(),c=i();t=[[c[0]-o,c[1]-o],[c[0]+o,c[1]+o]]}return a(t),e},e.clipExtent(null)}n.c=r,n.b=i;var o=e(18),u=e(5);r.invert=function(t,n){return[t,2*Object(u.d)(Object(u.k)(n))-u.l]},n.a=function(){return i(r).scale(961/u.w)}},function(t,n,e){var r=e(9),i=e(11),o=Object.values?function(t){return Object.values(t)}:function(t){var n=[];return r(t,function(e,r){i(t)&&"prototype"===r||n.push(e)}),n};t.exports=o},function(t,n){t.exports={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},function(t,n,e){"use strict";function r(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var i={},o={},u=34,a=10,c=13;n.a=function(t){function n(t,n){function e(){if(v)return o;if(d)return d=!1,i;var n,e,r=h;if(t.charCodeAt(r)===u){for(;h++<s&&t.charCodeAt(h)!==u||t.charCodeAt(++h)===u;);return(n=h)>=s?v=!0:(e=t.charCodeAt(h++))===a?d=!0:e===c&&(d=!0,t.charCodeAt(h)===a&&++h),t.slice(r+1,n-1).replace(/""/g,'"')}for(;h<s;){if((e=t.charCodeAt(n=h++))===a)d=!0;else if(e===c)d=!0,t.charCodeAt(h)===a&&++h;else if(e!==l)continue;return t.slice(r,n)}return v=!0,t.slice(r,s)}var r,f=[],s=t.length,h=0,p=0,v=s<=0,d=!1;for(t.charCodeAt(s-1)===a&&--s,t.charCodeAt(s-1)===c&&--s;(r=e())!==o;){for(var g=[];r!==i&&r!==o;)g.push(r),r=e();n&&null==(g=n(g,p++))||f.push(g)}return f}function e(n){return n.map(f).join(t)}function f(t){return null==t?"":s.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n\r]"),l=t.charCodeAt(0);return{parse:function(t,e){var i,o,u=n(t,function(t,n){if(i)return i(t,n-1);o=t,i=e?function(t,n){var e=r(t);return function(r,i){return n(e(r),i,t)}}(t,e):r(t)});return u.columns=o||[],u},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(f).join(t)].concat(n.map(function(n){return e.map(function(t){return f(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}},function(t,n,e){"use strict";function r(t,n){var e,r,o,c,f,s=new a(t),l=+t.value&&(s.value=t.value),h=[s];for(null==n&&(n=i);e=h.pop();)if(l&&(e.value=+e.data.value),(o=n(e.data))&&(f=o.length))for(e.children=new Array(f),c=f-1;c>=0;--c)h.push(r=e.children[c]=new a(o[c])),r.parent=e,r.depth=e.depth+1;return s.eachBefore(u)}function i(t){return t.children}function o(t){t.data=t.data.data}function u(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function a(t){this.data=t,this.depth=this.height=0,this.parent=null}n.c=r,n.b=u,n.a=a;var c=e(370),f=e(371),s=e(372),l=e(373),h=e(374),p=e(375),v=e(376),d=e(377),g=e(378),b=e(379),y=e(380);a.prototype=r.prototype={constructor:a,count:c.a,each:f.a,eachAfter:l.a,eachBefore:s.a,sum:h.a,sort:p.a,path:v.a,ancestors:d.a,descendants:g.a,leaves:b.a,links:y.a,copy:function(){return r(this).eachBefore(o)}}},function(t,n,e){"use strict";function r(t){if("function"!=typeof t)throw new Error;return t}n.a=function(t){return null==t?null:r(t)},n.b=r},function(t,n,e){"use strict";function r(t,n,e,r,u,a){for(var c,f,s,l,h,p,v,d,g,b,y,j=[],O=n.children,_=0,m=0,w=O.length,x=n.value;_<w;){s=u-e,l=a-r;do{h=O[m++].value}while(!h&&m<w);for(p=v=h,y=h*h*(b=Math.max(l/s,s/l)/(x*t)),g=Math.max(v/y,y/p);m<w;++m){if(h+=f=O[m].value,f<p&&(p=f),f>v&&(v=f),y=h*h*b,(d=Math.max(v/y,y/p))>g){h-=f;break}g=d}j.push(c={value:h,dice:s<l,children:O.slice(_,m)}),c.dice?Object(i.a)(c,e,r,u,x?r+=l*h/x:a):Object(o.a)(c,e,r,x?e+=s*h/x:u,a),x-=h,_=m}return j}e.d(n,"b",function(){return u}),n.c=r;var i=e(45),o=e(55),u=(1+Math.sqrt(5))/2;n.a=function t(n){function e(t,e,i,o,u){r(n,t,e,i,o,u)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(u)},function(t,n,e){"use strict";var r=e(165);n.a=function(t){if(null==t)return r.a;var n,e,i=t.scale[0],o=t.scale[1],u=t.translate[0],a=t.translate[1];return function(t,r){r||(n=e=0);var c=2,f=t.length,s=new Array(f);for(s[0]=(n+=t[0])*i+u,s[1]=(e+=t[1])*o+a;c<f;)s[c]=t[c],++c;return s}}},function(t,n,e){"use strict";function r(t,n){var e=n.id,r=n.bbox,o=null==n.properties?{}:n.properties,u=i(t,n);return null==e&&null==r?{type:"Feature",properties:o,geometry:u}:null==r?{type:"Feature",id:e,properties:o,geometry:u}:{type:"Feature",id:e,bbox:r,properties:o,geometry:u}}function i(t,n){function e(t,n){n.length&&n.pop();for(var e=l[t<0?~t:t],r=0,i=e.length;r<i;++r)n.push(s(e[r],r));t<0&&Object(o.a)(n,i)}function r(t){return s(t)}function i(t){for(var n=[],r=0,i=t.length;r<i;++r)e(t[r],n);return n.length<2&&n.push(n[0]),n}function a(t){for(var n=i(t);n.length<4;)n.push(n[0]);return n}function c(t){return t.map(a)}var s=Object(u.a)(t.transform),l=t.arcs;return function f(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(f)};case"Point":n=r(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(r);break;case"LineString":n=i(t.arcs);break;case"MultiLineString":n=t.arcs.map(i);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:e,coordinates:n}}(n)}n.b=i;var o=e(392),u=e(89);n.a=function(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return r(t,n)})}:r(t,n)}},function(t,n){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,n){function e(t){return Math.abs(t)<=1?.5:0}t.exports={boxcar:e,cosine:function(t){return Math.abs(t)<=1?Math.PI/4*Math.cos(Math.PI/2*t):0},epanechnikov:function(t){return Math.abs(t)<1?.75*(1-t*t):0},gaussian:function(t){return.3989422804*Math.exp(-.5*t*t)},quartic:function(t){if(Math.abs(t)<1){var n=1-t*t;return.9375*n*n}return 0},triangular:function(t){var n=Math.abs(t);return n<1?1-n:0},tricube:function(t){return Math.abs(t)<1?70/81*function(t){var n=1-Math.pow(Math.abs(t),3);return Math.pow(n,3)}(t):0},triweight:function(t){if(Math.abs(t)<1){var n=1-t*t;return 35/32*n*n*n}return 0},uniform:e}},function(t,n,e){"use strict";function r(t){this._isDirected=!c.has(t,"directed")||t.directed,this._isMultigraph=!!c.has(t,"multigraph")&&t.multigraph,this._isCompound=!!c.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=c.constant(void 0),this._defaultEdgeLabelFn=c.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[s]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,n){t[n]?t[n]++:t[n]=1}function o(t,n){--t[n]||delete t[n]}function u(t,n,e,r){var i=""+n,o=""+e;if(!t&&i>o){var u=i;i=o,o=u}return i+l+o+l+(c.isUndefined(r)?f:r)}function a(t,n){return u(t,n.v,n.w,n.name)}var c=e(13);t.exports=r;var f="\0",s="\0",l="";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(t){return this._label=t,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(t){return c.isFunction(t)||(t=c.constant(t)),this._defaultNodeLabelFn=t,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return c.keys(this._nodes)},r.prototype.sources=function(){var t=this;return c.filter(this.nodes(),function(n){return c.isEmpty(t._in[n])})},r.prototype.sinks=function(){var t=this;return c.filter(this.nodes(),function(n){return c.isEmpty(t._out[n])})},r.prototype.setNodes=function(t,n){var e=arguments,r=this;return c.each(t,function(t){e.length>1?r.setNode(t,n):r.setNode(t)}),this},r.prototype.setNode=function(t,n){return c.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=s,this._children[t]={},this._children[s][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},r.prototype.node=function(t){return this._nodes[t]},r.prototype.hasNode=function(t){return c.has(this._nodes,t)},r.prototype.removeNode=function(t){var n=this;if(c.has(this._nodes,t)){var e=function(t){n.removeEdge(n._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],c.each(this.children(t),function(t){n.setParent(t)}),delete this._children[t]),c.each(c.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],c.each(c.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},r.prototype.setParent=function(t,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(c.isUndefined(n))n=s;else{for(var e=n+="";!c.isUndefined(e);e=this.parent(e))if(e===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this},r.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},r.prototype.parent=function(t){if(this._isCompound){var n=this._parent[t];if(n!==s)return n}},r.prototype.children=function(t){if(c.isUndefined(t)&&(t=s),this._isCompound){var n=this._children[t];if(n)return c.keys(n)}else{if(t===s)return this.nodes();if(this.hasNode(t))return[]}},r.prototype.predecessors=function(t){var n=this._preds[t];if(n)return c.keys(n)},r.prototype.successors=function(t){var n=this._sucs[t];if(n)return c.keys(n)},r.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return c.union(n,this.successors(t))},r.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},r.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;c.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),c.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))});var i={};return this._isCompound&&c.each(e.nodes(),function(t){e.setParent(t,function n(t){var o=r.parent(t);return void 0===o||e.hasNode(o)?(i[t]=o,o):o in i?i[o]:n(o)}(t))}),e},r.prototype.setDefaultEdgeLabel=function(t){return c.isFunction(t)||(t=c.constant(t)),this._defaultEdgeLabelFn=t,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return c.values(this._edgeObjs)},r.prototype.setPath=function(t,n){var e=this,r=arguments;return c.reduce(t,function(t,i){return r.length>1?e.setEdge(t,i,n):e.setEdge(t,i),i}),this},r.prototype.setEdge=function(){var t,n,e,r,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(t=a.v,n=a.w,e=a.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=a,n=arguments[1],e=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,n=""+n,c.isUndefined(e)||(e=""+e);var f=u(this._isDirected,t,n,e);if(c.has(this._edgeLabels,f))return o&&(this._edgeLabels[f]=r),this;if(!c.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[f]=o?r:this._defaultEdgeLabelFn(t,n,e);var s=function(t,n,e,r){var i=""+n,o=""+e;if(!t&&i>o){var u=i;i=o,o=u}var a={v:i,w:o};return r&&(a.name=r),a}(this._isDirected,t,n,e);return t=s.v,n=s.w,Object.freeze(s),this._edgeObjs[f]=s,i(this._preds[n],t),i(this._sucs[t],n),this._in[n][f]=s,this._out[t][f]=s,this._edgeCount++,this},r.prototype.edge=function(t,n,e){var r=1===arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,n,e);return this._edgeLabels[r]},r.prototype.hasEdge=function(t,n,e){var r=1===arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,n,e);return c.has(this._edgeLabels,r)},r.prototype.removeEdge=function(t,n,e){var r=1===arguments.length?a(this._isDirected,arguments[0]):u(this._isDirected,t,n,e),i=this._edgeObjs[r];return i&&(t=i.v,n=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[n],t),o(this._sucs[t],n),delete this._in[n][r],delete this._out[t][r],this._edgeCount--),this},r.prototype.inEdges=function(t,n){var e=this._in[t];if(e){var r=c.values(e);return n?c.filter(r,function(t){return t.v===n}):r}},r.prototype.outEdges=function(t,n){var e=this._out[t];if(e){var r=c.values(e);return n?c.filter(r,function(t){return t.w===n}):r}},r.prototype.nodeEdges=function(t,n){var e=this.inEdges(t,n);if(e)return e.concat(this.outEdges(t,n))}},function(t,n,e){"use strict";function r(){}function i(t,n){var e=new r;if(t instanceof r)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var i,o=-1,u=t.length;if(null==n)for(;++o<u;)e.set(o,t[o]);else for(;++o<u;)e.set(n(i=t[o],o,t),i)}else if(t)for(var a in t)e.set(a,t[a]);return e}e.d(n,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(t){return o+t in this},get:function(t){return this[o+t]},set:function(t,n){return this[o+t]=n,this},remove:function(t){var n=o+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===o&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===o&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===o&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===o&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===o&&++t;return t},empty:function(){for(var t in this)if(t[0]===o)return!1;return!0},each:function(t){for(var n in this)n[0]===o&&t(this[n],n.slice(1),this)}},n.a=i},function(t,n,e){"use strict";var r=e(33),i=e(27),o=e(60),u=e(96);n.a=function(){function t(t){var i,o,u,l=t.length,h=!1;for(null==c&&(s=f(u=Object(r.path)())),i=0;i<=l;++i)!(i<l&&a(o=t[i],i,t))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+n(o,i,t),+e(o,i,t));if(u)return s=null,u+""||null}var n=u.a,e=u.b,a=Object(i.a)(!0),c=null,f=o.a,s=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(i.a)(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),t):e},t.defined=function(n){return arguments.length?(a="function"==typeof n?n:Object(i.a)(!!n),t):a},t.curve=function(n){return arguments.length?(f=n,null!=c&&(s=f(c)),t):f},t.context=function(n){return arguments.length?(null==n?c=s=null:s=f(c=n),t):c},t}},function(t,n,e){"use strict";n.a=function(t){return t[0]},n.b=function(t){return t[1]}},function(t,n,e){"use strict";function r(t,n,e){var r=t._x1,i=t._y1,u=t._x2,a=t._y2;if(t._l01_a>o.f){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>o.f){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);u=(u*s+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,u,a,t._x2,t._y2)}function i(t,n){this._context=t,this._alpha=n}n.a=r;var o=e(46),u=e(63);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,i=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new i(t,n):new u.a(t,0)}return e.alpha=function(n){return t(+n)},e}(.5)},function(t,n,e){"use strict";function r(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}n.b=r;var i=e(48);n.a=function(t){var n=t.map(r);return Object(i.a)(t).sort(function(t,e){return n[t]-n[e]})}},function(t,n,e){"use strict";function r(){this._=null}function i(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function o(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function u(t){for(;t.L;)t=t.L;return t}n.a=function(t){t.U=t.C=t.L=t.R=t.P=t.N=null},r.prototype={constructor:r,insert:function(t,n){var e,r,a;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=u(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(a=r.R)&&a.C?(e.C=a.C=!1,r.C=!0,t=r):(t===e.R&&(i(this,e),e=(t=e).U),e.C=!1,r.C=!0,o(this,r)):(a=r.L)&&a.C?(e.C=a.C=!1,r.C=!0,t=r):(t===e.L&&(o(this,e),e=(t=e).U),e.C=!1,r.C=!0,i(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,a=t.U,c=t.L,f=t.R;if(e=c?f?u(f):c:f,a?a.L===t?a.L=e:a.R=e:this._=e,c&&f?(r=e.C,e.C=t.C,e.L=c,c.U=e,e!==f?(a=e.U,e.U=t.U,a.L=t=e.R,e.R=f,f.U=e):(e.U=a,a=e,t=e.R)):(r=t.C,t=e),t&&(t.U=a),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===a.L){if((n=a.R).C&&(n.C=!1,a.C=!0,i(this,a),n=a.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,o(this,n),n=a.R),n.C=a.C,a.C=n.R.C=!1,i(this,a),t=this._;break}}else if((n=a.L).C&&(n.C=!1,a.C=!0,o(this,a),n=a.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,i(this,n),n=a.L),n.C=a.C,a.C=n.L.C=!1,o(this,a),t=this._;break}n.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},n.b=r},function(t,n,e){"use strict";function r(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function i(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],f=u[1],s=0,l=1,h=a[0]-c,p=a[1]-f;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<s)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>s&&(s=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>s&&(s=o)}else if(h>0){if(o<s)return;o<l&&(l=o)}if(o=e-f,p||!(o>0)){if(o/=p,p<0){if(o<s)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>s&&(s=o)}if(o=i-f,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>s&&(s=o)}else if(p>0){if(o<s)return;o<l&&(l=o)}return!(s>0||l<1)||(s>0&&(t[0]=[c+s*h,f+s*p]),l<1&&(t[1]=[c+l*h,f+l*p]),!0)}}}}}function o(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],f=t.left,s=t.right,l=f[0],h=f[1],p=s[0],v=s[1],d=(l+p)/2;if(v===h){if(d<n||d>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[d,e];o=[d,i]}else{if(c){if(c[1]<e)return}else c=[d,i];o=[d,e]}}else if(a=(h+v)/2-(u=(l-p)/(v-h))*d,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<v){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}n.c=function(t,n,e,i){var o=[null,null],a=u.e.push(o)-1;return o.left=t,o.right=n,e&&r(o,t,n,e),i&&r(o,n,t,i),u.b[t.index].halfedges.push(a),u.b[n.index].halfedges.push(a),o},n.b=function(t,n,e){var r=[n,e];return r.left=t,r},n.d=r,n.a=function(t,n,e,r){for(var a,c=u.e.length;c--;)o(a=u.e[c],t,n,e,r)&&i(a,t,n,e,r)&&(Math.abs(a[0][0]-a[1][0])>u.f||Math.abs(a[0][1]-a[1][1])>u.f)||delete u.e[c]};var u=e(49)},function(t,n,e){var r={compactBox:e(516),dendrogram:e(518),indented:e(520),mindmap:e(522)};t.exports=r},function(t,n,e){var r=e(194),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],u=i[0];t.exports=function(t,n,e){var a=n.direction||u;if(n.isHorizontal=o.indexOf(a)>-1,a&&-1===i.indexOf(a))throw new TypeError("Invalid direction: "+a);if(a===i[0])e(t,n);else if(a===i[1])e(t,n),t.right2left();else if(a===i[2])e(t,n);else if(a===i[3])e(t,n),t.bottom2top();else if(a===i[4]||a===i[5]){var c=r(t,n),f=c.left,s=c.right;e(f,n),e(s,n),n.isHorizontal?f.right2left():f.bottom2top(),s.translate(f.x-s.x,f.y-s.y),t.x=f.x,t.y=s.y;var l=t.getBoundingBox();n.isHorizontal?l.top<0&&t.translate(0,-l.top):l.left<0&&t.translate(-l.left,0)}return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,n,e){"use strict";function r(){y.point=o}function i(){u(a,c)}function o(t,n){y.point=u,a=t,c=n,n*=p.r,f=t*=p.r,s=Object(p.g)(n=n/2+p.q),l=Object(p.t)(n)}function u(t,n){n=(n*=p.r)/2+p.q;var e=(t*=p.r)-f,r=e>=0?1:-1,i=r*e,o=Object(p.g)(n),u=Object(p.t)(n),a=l*u,c=s*o+a*Object(p.g)(i),h=a*r*Object(p.t)(i);g.add(Object(p.e)(h,c)),f=t,s=o,l=u}e.d(n,"a",function(){return g}),e.d(n,"b",function(){return y});var a,c,f,s,l,h=e(29),p=e(4),v=e(20),d=e(22),g=Object(h.a)(),b=Object(h.a)(),y={point:v.a,lineStart:v.a,lineEnd:v.a,polygonStart:function(){g.reset(),y.lineStart=r,y.lineEnd=i},polygonEnd:function(){var t=+g;b.add(t<0?p.w+t:t),this.lineStart=this.lineEnd=this.point=v.a},sphere:function(){b.add(p.w)}};n.c=function(t){return b.reset(),Object(d.a)(t,y),2*b}},function(t,n,e){"use strict";function r(t,n,e,r,u,c){if(e){var f=Object(a.g)(n),s=Object(a.t)(n),l=r*e;null==u?(u=n+r*a.w,c=n-l/2):(u=i(f,u),c=i(f,c),(r>0?u<c:u>c)&&(u+=r*a.w));for(var h,p=u;r>0?p>c:p<c;p-=l)h=Object(o.g)([f,-s*Object(a.g)(p),-s*Object(a.t)(p)]),t.point(h[0],h[1])}}function i(t,n){(n=Object(o.a)(n))[0]-=t,Object(o.e)(n);var e=Object(a.b)(-n[1]);return((-n[2]<0?-e:e)+a.w-a.i)%a.w}n.a=r;var o=e(35),u=e(199),a=e(4),c=e(50);n.b=function(){function t(){var t=i.apply(this,arguments),u=o.apply(this,arguments)*a.r,l=f.apply(this,arguments)*a.r;return n=[],e=Object(c.b)(-t[0]*a.r,-t[1]*a.r,0).invert,r(s,u,l,1),t={type:"Polygon",coordinates:[n]},n=e=null,t}var n,e,i=Object(u.a)([0,0]),o=Object(u.a)(90),f=Object(u.a)(6),s={point:function(t,r){n.push(t=e(t,r)),t[0]*=a.h,t[1]*=a.h}};return t.center=function(n){return arguments.length?(i="function"==typeof n?n:Object(u.a)([+n[0],+n[1]]),t):i},t.radius=function(n){return arguments.length?(o="function"==typeof n?n:Object(u.a)(+n),t):o},t.precision=function(n){return arguments.length?(f="function"==typeof n?n:Object(u.a)(+n),t):f},t}},function(t,n,e){"use strict";n.a=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}},function(t,n,e){"use strict";var r=e(20);n.a=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:r.a,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}},function(t,n,e){"use strict";function r(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function i(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var o=e(108);n.a=function(t,n,e,u,a){var c,f,s=[],l=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],u=t[n];if(Object(o.a)(i,u)){for(a.lineStart(),c=0;c<n;++c)a.point((i=t[c])[0],i[1]);a.lineEnd()}else s.push(e=new r(i,t,null,!0)),l.push(e.o=new r(i,null,e,!1)),s.push(e=new r(u,t,null,!1)),l.push(e.o=new r(u,null,e,!0))}}),s.length){for(l.sort(n),i(s),i(l),c=0,f=l.length;c<f;++c)l[c].e=e=!e;for(var h,p,v=s[0];;){for(var d=v,g=!0;d.v;)if((d=d.n)===v)return;h=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(c=0,f=h.length;c<f;++c)a.point((p=h[c])[0],p[1]);else u(d.x,d.n.x,1,a);d=d.n}else{if(g)for(c=(h=d.p.z).length-1;c>=0;--c)a.point((p=h[c])[0],p[1]);else u(d.x,d.p.x,-1,a);d=d.p}h=(d=d.o).z,g=!g}while(!d.v);a.lineEnd()}}}},function(t,n,e){"use strict";var r=e(4);n.a=function(t,n){return Object(r.a)(t[0]-n[0])<r.i&&Object(r.a)(t[1]-n[1])<r.i}},function(t,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"a",function(){return a});var r=e(30),i=e(110),o=Object(i.a)(r.a),u=o.right,a=o.left;n.c=u},function(t,n,e){"use strict";var r=e(30);n.a=function(t){return 1===t.length&&(t=function(t){return function(n,e){return Object(r.a)(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}},function(t,n,e){"use strict";function r(t,n){return[t,n]}n.b=r,n.a=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);e<i;)u[e]=n(o,o=t[++e]);return u}},function(t,n,e){"use strict";var r=e(113);n.a=function(t,n){var e=Object(r.a)(t,n);return e?Math.sqrt(e):e}},function(t,n,e){"use strict";var r=e(36);n.a=function(t,n){var e,i,o=t.length,u=0,a=-1,c=0,f=0;if(null==n)for(;++a<o;)isNaN(e=Object(r.a)(t[a]))||(f+=(i=e-c)*(e-(c+=i/++u)));else for(;++a<o;)isNaN(e=Object(r.a)(n(t[a],a,t)))||(f+=(i=e-c)*(e-(c+=i/++u)));if(u>1)return f/(u-1)}},function(t,n,e){"use strict";n.a=function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}},function(t,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(t,n,e){"use strict";n.a=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}},function(t,n,e){"use strict";function r(t,n,e){var r=(n-t)/Math.max(0,e),a=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,a);return a>=0?(c>=i?10:c>=o?5:c>=u?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(c>=i?10:c>=o?5:c>=u?2:1)}n.b=r,n.c=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/a;return c>=i?a*=10:c>=o?a*=5:c>=u&&(a*=2),n<t?-a:a};var i=Math.sqrt(50),o=Math.sqrt(10),u=Math.sqrt(2);n.a=function(t,n,e){var i,o,u,a,c=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((i=n<t)&&(o=t,t=n,n=o),0===(a=r(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),u=new Array(o=Math.ceil(n-t+1));++c<o;)u[c]=(t+c)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),u=new Array(o=Math.ceil(t-n+1));++c<o;)u[c]=(t-c)/a;return i&&u.reverse(),u}},function(t,n,e){"use strict";n.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,n,e){"use strict";n.a=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}},function(t,n,e){"use strict";function r(t){return t.length}var i=e(119);n.a=function(t){if(!(u=t.length))return[];for(var n=-1,e=Object(i.a)(t,r),o=new Array(e);++n<e;)for(var u,a=-1,c=o[n]=new Array(u);++a<u;)c[a]=t[a][n];return o}},function(t,n,e){"use strict";var r=e(29),i=e(35),o=e(4),u=Object(r.a)();n.a=function(t,n){var e=n[0],r=n[1],a=[Object(o.t)(e),-Object(o.g)(e),0],c=0,f=0;u.reset();for(var s=0,l=t.length;s<l;++s)if(p=(h=t[s]).length)for(var h,p,v=h[p-1],d=v[0],g=v[1]/2+o.q,b=Object(o.t)(g),y=Object(o.g)(g),j=0;j<p;++j,d=_,b=w,y=x,v=O){var O=h[j],_=O[0],m=O[1]/2+o.q,w=Object(o.t)(m),x=Object(o.g)(m),E=_-d,M=E>=0?1:-1,T=M*E,S=T>o.o,k=b*w;if(u.add(Object(o.e)(k*M*Object(o.t)(T),y*x+k*Object(o.g)(T))),c+=S?E+M*o.w:E,S^d>=e^_>=e){var C=Object(i.c)(Object(i.a)(v),Object(i.a)(O));Object(i.e)(C);var P=Object(i.c)(a,C);Object(i.e)(P);var N=(S^E>=0?-1:1)*Object(o.c)(P[2]);(r>N||r===N&&(C[0]||C[1]))&&(f+=S^E>=0?1:-1)}}return(c<-o.i||c<o.i&&u<-o.i)^1&f}},function(t,n,e){"use strict";var r=e(123),i=[null,null],o={type:"LineString",coordinates:i};n.a=function(t,n){return i[0]=t,i[1]=n,Object(r.a)(o)}},function(t,n,e){"use strict";function r(){v.point=v.lineEnd=l.a}function i(t,n){n*=s.r,u=t*=s.r,a=Object(s.t)(n),c=Object(s.g)(n),v.point=o}function o(t,n){t*=s.r,n*=s.r;var e=Object(s.t)(n),r=Object(s.g)(n),i=Object(s.a)(t-u),o=Object(s.g)(i),f=r*Object(s.t)(i),l=c*e-a*r*o,h=a*e+c*r*o;p.add(Object(s.e)(Object(s.u)(f*f+l*l),h)),u=t,a=e,c=r}var u,a,c,f=e(29),s=e(4),l=e(20),h=e(22),p=Object(f.a)(),v={sphere:l.a,point:l.a,lineStart:function(){v.point=i,v.lineEnd=r},lineEnd:l.a,polygonStart:l.a,polygonEnd:l.a};n.a=function(t){return p.reset(),Object(h.a)(t,v),+p}},function(t,n,e){"use strict";var r=e(20),i=1/0,o=i,u=-i,a=u;n.a={point:function(t,n){t<i&&(i=t),t>u&&(u=t),n<o&&(o=n),n>a&&(a=n)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[u,a]];return u=a=-(o=i=1/0),t}}},function(t,n,e){"use strict";var r=e(68);n.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,n,e){"use strict";function r(t){return t.length>1}function i(t,n){return((t=t.x)[0]<0?t[1]-a.l-a.i:a.l-t[1])-((n=n.x)[0]<0?n[1]-a.l-a.i:a.l-n[1])}var o=e(106),u=e(107),a=e(4),c=e(121),f=e(14);n.a=function(t,n,e,a){return function(s,l){function h(n,e){var r=s(n,e);t(n=r[0],e=r[1])&&l.point(n,e)}function p(t,n){var e=s(t,n);m.point(e[0],e[1])}function v(){T.point=p,m.lineStart()}function d(){T.point=h,m.lineEnd()}function g(t,n){_.push([t,n]);var e=s(t,n);E.point(e[0],e[1])}function b(){E.lineStart(),_=[]}function y(){g(_[0][0],_[0][1]),E.lineEnd();var t,n,e,i,o=E.clean(),u=x.result(),a=u.length;if(_.pop(),j.push(_),_=null,a)if(1&o){if((n=(e=u[0]).length-1)>0){for(M||(l.polygonStart(),M=!0),l.lineStart(),t=0;t<n;++t)l.point((i=e[t])[0],i[1]);l.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),O.push(u.filter(r))}var j,O,_,m=n(l),w=s.invert(a[0],a[1]),x=Object(o.a)(),E=n(x),M=!1,T={point:h,lineStart:v,lineEnd:d,polygonStart:function(){T.point=g,T.lineStart=b,T.lineEnd=y,O=[],j=[]},polygonEnd:function(){T.point=h,T.lineStart=v,T.lineEnd=d,O=Object(f.merge)(O);var t=Object(c.a)(j,w);O.length?(M||(l.polygonStart(),M=!0),Object(u.a)(O,i,t,e,l)):t&&(M||(l.polygonStart(),M=!0),l.lineStart(),e(null,null,1,l),l.lineEnd()),M&&(l.polygonEnd(),M=!1),O=j=null},sphere:function(){l.polygonStart(),l.lineStart(),e(null,null,1,l),l.lineEnd(),l.polygonEnd()}};return T}}},function(t,n,e){"use strict";function r(t,n){return[t,n]}n.b=r;var i=e(17);r.invert=r,n.a=function(){return Object(i.a)(r).scale(152.63)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(240);e.d(n,"geoAiry",function(){return r.b}),e.d(n,"geoAiryRaw",function(){return r.a});var i=e(129);e.d(n,"geoAitoff",function(){return i.b}),e.d(n,"geoAitoffRaw",function(){return i.a});var o=e(241);e.d(n,"geoArmadillo",function(){return o.b}),e.d(n,"geoArmadilloRaw",function(){return o.a});var u=e(130);e.d(n,"geoAugust",function(){return u.b}),e.d(n,"geoAugustRaw",function(){return u.a});var a=e(242);e.d(n,"geoBaker",function(){return a.b}),e.d(n,"geoBakerRaw",function(){return a.a});var c=e(243);e.d(n,"geoBerghaus",function(){return c.b}),e.d(n,"geoBerghausRaw",function(){return c.a});var f=e(131);e.d(n,"geoBoggs",function(){return f.b}),e.d(n,"geoBoggsRaw",function(){return f.a});var s=e(244);e.d(n,"geoBonne",function(){return s.b}),e.d(n,"geoBonneRaw",function(){return s.a});var l=e(245);e.d(n,"geoBottomley",function(){return l.b}),e.d(n,"geoBottomleyRaw",function(){return l.a});var h=e(246);e.d(n,"geoBromley",function(){return h.b}),e.d(n,"geoBromleyRaw",function(){return h.a});var p=e(247);e.d(n,"geoChamberlin",function(){return p.c}),e.d(n,"geoChamberlinRaw",function(){return p.b}),e.d(n,"geoChamberlinAfrica",function(){return p.a});var v=e(72);e.d(n,"geoCollignon",function(){return v.b}),e.d(n,"geoCollignonRaw",function(){return v.a});var d=e(248);e.d(n,"geoCraig",function(){return d.b}),e.d(n,"geoCraigRaw",function(){return d.a});var g=e(249);e.d(n,"geoCraster",function(){return g.b}),e.d(n,"geoCrasterRaw",function(){return g.a});var b=e(132);e.d(n,"geoCylindricalEqualArea",function(){return b.b}),e.d(n,"geoCylindricalEqualAreaRaw",function(){return b.a});var y=e(250);e.d(n,"geoCylindricalStereographic",function(){return y.b}),e.d(n,"geoCylindricalStereographicRaw",function(){return y.a});var j=e(251);e.d(n,"geoEckert1",function(){return j.a}),e.d(n,"geoEckert1Raw",function(){return j.b});var O=e(252);e.d(n,"geoEckert2",function(){return O.a}),e.d(n,"geoEckert2Raw",function(){return O.b});var _=e(253);e.d(n,"geoEckert3",function(){return _.a}),e.d(n,"geoEckert3Raw",function(){return _.b});var m=e(254);e.d(n,"geoEckert4",function(){return m.a}),e.d(n,"geoEckert4Raw",function(){return m.b});var w=e(255);e.d(n,"geoEckert5",function(){return w.a}),e.d(n,"geoEckert5Raw",function(){return w.b});var x=e(256);e.d(n,"geoEckert6",function(){return x.a}),e.d(n,"geoEckert6Raw",function(){return x.b});var E=e(257);e.d(n,"geoEisenlohr",function(){return E.a}),e.d(n,"geoEisenlohrRaw",function(){return E.b});var M=e(258);e.d(n,"geoFahey",function(){return M.a}),e.d(n,"geoFaheyRaw",function(){return M.b});var T=e(259);e.d(n,"geoFoucaut",function(){return T.a}),e.d(n,"geoFoucautRaw",function(){return T.b});var S=e(260);e.d(n,"geoGilbert",function(){return S.a});var k=e(261);e.d(n,"geoGingery",function(){return k.a}),e.d(n,"geoGingeryRaw",function(){return k.b});var C=e(262);e.d(n,"geoGinzburg4",function(){return C.a}),e.d(n,"geoGinzburg4Raw",function(){return C.b});var P=e(263);e.d(n,"geoGinzburg5",function(){return P.a}),e.d(n,"geoGinzburg5Raw",function(){return P.b});var N=e(264);e.d(n,"geoGinzburg6",function(){return N.a}),e.d(n,"geoGinzburg6Raw",function(){return N.b});var R=e(265);e.d(n,"geoGinzburg8",function(){return R.a}),e.d(n,"geoGinzburg8Raw",function(){return R.b});var B=e(266);e.d(n,"geoGinzburg9",function(){return B.a}),e.d(n,"geoGinzburg9Raw",function(){return B.b});var A=e(133);e.d(n,"geoGringorten",function(){return A.a}),e.d(n,"geoGringortenRaw",function(){return A.b});var I=e(135);e.d(n,"geoGuyou",function(){return I.a}),e.d(n,"geoGuyouRaw",function(){return I.b});var L=e(268);e.d(n,"geoHammer",function(){return L.a}),e.d(n,"geoHammerRaw",function(){return L.b});var z=e(269);e.d(n,"geoHammerRetroazimuthal",function(){return z.a}),e.d(n,"geoHammerRetroazimuthalRaw",function(){return z.b});var q=e(270);e.d(n,"geoHealpix",function(){return q.a}),e.d(n,"geoHealpixRaw",function(){return q.b});var F=e(271);e.d(n,"geoHill",function(){return F.a}),e.d(n,"geoHillRaw",function(){return F.b});var D=e(136);e.d(n,"geoHomolosine",function(){return D.a}),e.d(n,"geoHomolosineRaw",function(){return D.b});var G=e(23);e.d(n,"geoInterrupt",function(){return G.a});var H=e(272);e.d(n,"geoInterruptedBoggs",function(){return H.a});var U=e(273);e.d(n,"geoInterruptedHomolosine",function(){return U.a});var V=e(274);e.d(n,"geoInterruptedMollweide",function(){return V.a});var W=e(275);e.d(n,"geoInterruptedMollweideHemispheres",function(){return W.a});var Y=e(276);e.d(n,"geoInterruptedSinuMollweide",function(){return Y.a});var $=e(277);e.d(n,"geoInterruptedSinusoidal",function(){return $.a});var J=e(278);e.d(n,"geoKavrayskiy7",function(){return J.a}),e.d(n,"geoKavrayskiy7Raw",function(){return J.b});var K=e(279);e.d(n,"geoLagrange",function(){return K.a}),e.d(n,"geoLagrangeRaw",function(){return K.b});var X=e(280);e.d(n,"geoLarrivee",function(){return X.a}),e.d(n,"geoLarriveeRaw",function(){return X.b});var Z=e(281);e.d(n,"geoLaskowski",function(){return Z.a}),e.d(n,"geoLaskowskiRaw",function(){return Z.b});var Q=e(282);e.d(n,"geoLittrow",function(){return Q.a}),e.d(n,"geoLittrowRaw",function(){return Q.b});var tt=e(283);e.d(n,"geoLoximuthal",function(){return tt.a}),e.d(n,"geoLoximuthalRaw",function(){return tt.b});var nt=e(284);e.d(n,"geoMiller",function(){return nt.a}),e.d(n,"geoMillerRaw",function(){return nt.b});var et=e(285);e.d(n,"geoModifiedStereographic",function(){return et.a}),e.d(n,"geoModifiedStereographicRaw",function(){return et.g}),e.d(n,"geoModifiedStereographicAlaska",function(){return et.b}),e.d(n,"geoModifiedStereographicGs48",function(){return et.c}),e.d(n,"geoModifiedStereographicGs50",function(){return et.d}),e.d(n,"geoModifiedStereographicMiller",function(){return et.f}),e.d(n,"geoModifiedStereographicLee",function(){return et.e});var rt=e(21);e.d(n,"geoMollweide",function(){return rt.a}),e.d(n,"geoMollweideRaw",function(){return rt.d});var it=e(286);e.d(n,"geoMtFlatPolarParabolic",function(){return it.a}),e.d(n,"geoMtFlatPolarParabolicRaw",function(){return it.b});var ot=e(287);e.d(n,"geoMtFlatPolarQuartic",function(){return ot.a}),e.d(n,"geoMtFlatPolarQuarticRaw",function(){return ot.b});var ut=e(288);e.d(n,"geoMtFlatPolarSinusoidal",function(){return ut.a}),e.d(n,"geoMtFlatPolarSinusoidalRaw",function(){return ut.b});var at=e(289);e.d(n,"geoNaturalEarth",function(){return at.a}),e.d(n,"geoNaturalEarthRaw",function(){return at.b});var ct=e(290);e.d(n,"geoNaturalEarth2",function(){return ct.a}),e.d(n,"geoNaturalEarth2Raw",function(){return ct.b});var ft=e(291);e.d(n,"geoNellHammer",function(){return ft.a}),e.d(n,"geoNellHammerRaw",function(){return ft.b});var st=e(292);e.d(n,"geoPatterson",function(){return st.a}),e.d(n,"geoPattersonRaw",function(){return st.b});var lt=e(293);e.d(n,"geoPolyconic",function(){return lt.a}),e.d(n,"geoPolyconicRaw",function(){return lt.b});var ht=e(53);e.d(n,"geoPolyhedral",function(){return ht.a});var pt=e(295);e.d(n,"geoPolyhedralButterfly",function(){return pt.a});var vt=e(296);e.d(n,"geoPolyhedralCollignon",function(){return vt.a});var dt=e(297);e.d(n,"geoPolyhedralWaterman",function(){return dt.a});var gt=e(298);e.d(n,"geoProject",function(){return gt.a});var bt=e(302);e.d(n,"geoGringortenQuincuncial",function(){return bt.a});var yt=e(137);e.d(n,"geoPeirceQuincuncial",function(){return yt.a}),e.d(n,"geoPierceQuincuncial",function(){return yt.a});var jt=e(303);e.d(n,"geoQuantize",function(){return jt.a});var Ot=e(75);e.d(n,"geoQuincuncial",function(){return Ot.a});var _t=e(304);e.d(n,"geoRectangularPolyconic",function(){return _t.a}),e.d(n,"geoRectangularPolyconicRaw",function(){return _t.b});var mt=e(305);e.d(n,"geoRobinson",function(){return mt.a}),e.d(n,"geoRobinsonRaw",function(){return mt.b});var wt=e(306);e.d(n,"geoSatellite",function(){return wt.a}),e.d(n,"geoSatelliteRaw",function(){return wt.b});var xt=e(73);e.d(n,"geoSinuMollweide",function(){return xt.a}),e.d(n,"geoSinuMollweideRaw",function(){return xt.c});var Et=e(38);e.d(n,"geoSinusoidal",function(){return Et.a}),e.d(n,"geoSinusoidalRaw",function(){return Et.b});var Mt=e(307);e.d(n,"geoStitch",function(){return Mt.a});var Tt=e(308);e.d(n,"geoTimes",function(){return Tt.a}),e.d(n,"geoTimesRaw",function(){return Tt.b});var St=e(309);e.d(n,"geoTwoPointAzimuthal",function(){return St.a}),e.d(n,"geoTwoPointAzimuthalRaw",function(){return St.b}),e.d(n,"geoTwoPointAzimuthalUsa",function(){return St.c});var kt=e(310);e.d(n,"geoTwoPointEquidistant",function(){return kt.a}),e.d(n,"geoTwoPointEquidistantRaw",function(){return kt.b}),e.d(n,"geoTwoPointEquidistantUsa",function(){return kt.c});var Ct=e(311);e.d(n,"geoVanDerGrinten",function(){return Ct.a}),e.d(n,"geoVanDerGrintenRaw",function(){return Ct.b});var Pt=e(312);e.d(n,"geoVanDerGrinten2",function(){return Pt.a}),e.d(n,"geoVanDerGrinten2Raw",function(){return Pt.b});var Nt=e(313);e.d(n,"geoVanDerGrinten3",function(){return Nt.a}),e.d(n,"geoVanDerGrinten3Raw",function(){return Nt.b});var Rt=e(314);e.d(n,"geoVanDerGrinten4",function(){return Rt.a}),e.d(n,"geoVanDerGrinten4Raw",function(){return Rt.b});var Bt=e(315);e.d(n,"geoWagner4",function(){return Bt.a}),e.d(n,"geoWagner4Raw",function(){return Bt.b});var At=e(316);e.d(n,"geoWagner6",function(){return At.a}),e.d(n,"geoWagner6Raw",function(){return At.b});var It=e(317);e.d(n,"geoWagner7",function(){return It.a}),e.d(n,"geoWagner7Raw",function(){return It.b});var Lt=e(318);e.d(n,"geoWiechel",function(){return Lt.a}),e.d(n,"geoWiechelRaw",function(){return Lt.b});var zt=e(319);e.d(n,"geoWinkel3",function(){return zt.a}),e.d(n,"geoWinkel3Raw",function(){return zt.b})},function(t,n,e){"use strict";function r(t,n){var e=Object(o.h)(n),r=Object(o.z)(Object(o.b)(e*Object(o.h)(t/=2)));return[2*e*Object(o.y)(t)*r,Object(o.y)(n)*r]}n.a=r;var i=e(0),o=e(1);r.invert=function(t,n){if(!(t*t+4*n*n>o.s*o.s+o.k)){var e=t,r=n,i=25;do{var u,a=Object(o.y)(e),c=Object(o.y)(e/2),f=Object(o.h)(e/2),s=Object(o.y)(r),l=Object(o.h)(r),h=Object(o.y)(2*r),p=s*s,v=l*l,d=c*c,g=1-v*f*f,b=g?Object(o.b)(l*f)*Object(o.B)(u=1/g):u=0,y=2*b*l*c-t,j=b*s-n,O=u*(v*d+b*l*f*p),_=u*(.5*a*h-2*b*s*c),m=.25*u*(h*c-b*s*v*a),w=u*(p*f+b*d*l),x=_*m-w*O;if(!x)break;var E=(j*_-y*w)/x,M=(y*m-j*O)/x;e-=E,r-=M}while((Object(o.a)(E)>o.k||Object(o.a)(M)>o.k)&&--i>0);return[e,r]}},n.b=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.F)(n/2),r=Object(o.B)(1-e*e),i=1+r*Object(o.h)(t/=2),u=Object(o.y)(t)*r/i,a=e/i,c=u*u,f=a*a;return[4/3*u*(3+c-3*f),4/3*a*(3+3*c-f)]}n.a=r;var i=e(0),o=e(1);r.invert=function(t,n){if(n*=3/8,!(t*=3/8)&&Object(o.a)(n)>1)return null;var e=1+t*t+n*n,r=Object(o.B)((e-Object(o.B)(e*e-4*n*n))/2),i=Object(o.e)(r)/3,u=r?Object(o.c)(Object(o.a)(n/r))/3:Object(o.d)(Object(o.a)(t))/3,a=Object(o.h)(i),c=Object(o.i)(u),f=c*c-a*a;return[2*Object(o.x)(t)*Object(o.g)(Object(o.A)(u)*a,.25-f),2*Object(o.x)(n)*Object(o.g)(c*Object(o.y)(i),.25+f)]},n.b=function(){return Object(i.geoProjection)(r).scale(66.1603)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.c)(u.s,n);return[a*t/(1/Object(u.h)(n)+c/Object(u.h)(e)),(n+u.D*Object(u.y)(e))/a]}n.a=r;var i=e(0),o=e(21),u=e(1),a=2.00276,c=1.11072;r.invert=function(t,n){var e,r,i=a*n,o=n<0?-u.u:u.u,f=25;do{r=i-u.D*Object(u.y)(o),o-=e=(Object(u.y)(2*o)+2*o-u.s*Object(u.y)(r))/(2*Object(u.h)(2*o)+2+u.s*Object(u.h)(r)*u.D*Object(u.h)(o))}while(Object(u.a)(e)>u.k&&--f>0);return r=i-u.D*Object(u.y)(o),[t*(1/Object(u.h)(r)+c/Object(u.h)(o))/a,r]},n.b=function(){return Object(i.geoProjection)(r).scale(160.857)}},function(t,n,e){"use strict";function r(t){function n(t,n){return[t*e,Object(i.y)(n)/e]}var e=Object(i.h)(t);return n.invert=function(t,n){return[t/e,Object(i.e)(n*e)]},n}n.a=r;var i=e(1),o=e(31);n.b=function(){return Object(o.a)(r).parallel(38.58).scale(195.044)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.x)(t),r=Object(o.x)(n),i=Object(o.h)(n),u=Object(o.h)(t)*i,a=Object(o.y)(t)*i,c=Object(o.y)(r*n);t=Object(o.a)(Object(o.g)(a,c)),n=Object(o.e)(u),Object(o.a)(t-o.o)>o.k&&(t%=o.o);var f=function(t,n){if(n===o.o)return[0,0];var e,r,i=Object(o.y)(n),u=i*i,a=u*u,c=1+a,f=1+3*a,s=1-a,l=Object(o.e)(1/Object(o.B)(c)),h=s+u*c*l,p=(1-i)/h,v=Object(o.B)(p),d=p*c,g=Object(o.B)(d),b=v*s;if(0===t)return[0,-(b+u*g)];var y,j=Object(o.h)(n),O=1/j,_=2*i*j,m=(-h*j-(-3*u+l*f)*_*(1-i))/(h*h),w=-O*_,x=-O*(u*c*m+p*f*_),E=-2*O*(s*(.5*m/v)-2*u*v*_),M=4*t/o.s;if(t>.222*o.s||n<o.s/4&&t>.175*o.s){if(e=(b+u*Object(o.B)(d*(1+a)-b*b))/(1+a),t>o.s/4)return[e,e];var T=e,S=.5*e;e=.5*(S+T),r=50;do{var C=e*(E+w*Object(o.B)(d-e*e))+x*Object(o.e)(e/g)-M;if(!C)break;C<0?S=e:T=e,e=.5*(S+T)}while(Object(o.a)(T-S)>o.k&&--r>0)}else{e=o.k,r=25;do{var P=e*e,N=Object(o.B)(d-P),R=E+w*N,B=e*R+x*Object(o.e)(e/g)-M;e-=y=N?B/(R+(x-w*P)/N):0}while(Object(o.a)(y)>o.k&&--r>0)}return[e,-b-u*Object(o.B)(d-e*e)]}(t>o.s/4?o.o-t:t,n);return t>o.s/4&&(c=f[0],f[0]=-f[1],f[1]=-c),f[0]*=e,f[1]*=-r,f}n.b=r;var i=e(0),o=e(1),u=e(134);r.invert=function(t,n){Object(o.a)(t)>1&&(t=2*Object(o.x)(t)-t),Object(o.a)(n)>1&&(n=2*Object(o.x)(n)-n);var e=Object(o.x)(t),r=Object(o.x)(n),i=-e*t,u=-r*n,a=u/i<1,c=function(t,n){for(var e=0,r=1,i=.5,u=50;;){var a=i*i,c=Object(o.B)(i),f=Object(o.e)(1/Object(o.B)(1+a)),s=1-a+i*(1+a)*f,l=(1-c)/s,h=Object(o.B)(l),p=l*(1+a),v=h*(1-a),d=p-t*t,g=Object(o.B)(d),b=n+v+i*g;if(Object(o.a)(r-e)<o.l||0==--u||0===b)break;b>0?e=i:r=i,i=.5*(e+r)}if(!u)return null;var y=Object(o.e)(c),j=Object(o.h)(y),O=1/j,_=2*c*j,m=(-s*j-(-3*i+f*(1+3*a))*_*(1-c))/(s*s);return[o.s/4*(t*(-2*O*(.5*m/h*(1-a)-2*i*h*_)+-O*_*g)+-O*(i*(1+a)*m+l*(1+3*a)*_)*Object(o.e)(t/Object(o.B)(p))),y]}(a?u:i,a?i:u),f=c[0],s=c[1],l=Object(o.h)(s);return a&&(f=-o.o-f),[e*(Object(o.g)(Object(o.y)(f)*l,-Object(o.y)(s))+o.s),r*Object(o.e)(Object(o.h)(f)*l)]},n.a=function(){return Object(i.geoProjection)(Object(u.a)(r)).scale(239.75)}},function(t,n,e){"use strict";var r=e(1);n.a=function(t){function n(n,i){var o=n>0?-.5:.5,u=t(n+o*r.s,i);return u[0]-=o*e,u}var e=t(r.o,0)[0]-t(-r.o,0)[0];return t.invert&&(n.invert=function(n,i){var o=n>0?-.5:.5,u=t.invert(n+o*e,i),a=u[0]-o*r.s;return a<-r.s?a+=2*r.s:a>r.s&&(a-=2*r.s),u[0]=a,u}),n}},function(t,n,e){"use strict";function r(t,n){var e=(u.D-1)/(u.D+1),r=Object(u.B)(1-e*e),i=Object(o.a)(u.o,r*r),a=Object(u.p)(Object(u.F)(u.s/4+Object(u.a)(n)/2)),c=Object(u.m)(-1*a)/Object(u.B)(e),f=function(t,n){var e=t*t,r=n+1,i=1-e-n*n;return[.5*((t>=0?u.o:-u.o)-Object(u.g)(i,2*t)),-.25*Object(u.p)(i*i+4*e)+.5*Object(u.p)(r*r+e)]}(c*Object(u.h)(-1*t),c*Object(u.y)(-1*t)),s=Object(o.b)(f[0],f[1],r*r);return[-s[1],(n>=0?1:-1)*(.5*i-s[0])]}n.b=r;var i=e(0),o=e(267),u=e(1),a=e(134);r.invert=function(t,n){var e=(u.D-1)/(u.D+1),r=Object(u.B)(1-e*e),i=Object(o.a)(u.o,r*r),a=Object(o.c)(.5*i-n,-t,r*r),c=function(t,n){var e=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/e,(t[1]*n[0]-t[0]*n[1])/e]}(a[0],a[1]);return[Object(u.g)(c[1],c[0])/-1,2*Object(u.f)(Object(u.m)(-.5*Object(u.p)(e*c[0]*c[0]+e*c[1]*c[1])))-u.o]},n.a=function(){return Object(i.geoProjection)(Object(a.a)(r)).scale(151.496)}},function(t,n,e){"use strict";function r(t,n){return Object(o.a)(n)>c.b?((t=Object(u.d)(t,n))[1]-=n>0?c.d:-c.d,t):Object(a.b)(t,n)}n.b=r;var i=e(0),o=e(1),u=e(21),a=e(38),c=e(73);r.invert=function(t,n){return Object(o.a)(n)>c.b?u.d.invert(t,n+(n>0?c.d:-c.d)):a.b.invert(t,n)},n.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,n,e){"use strict";var r=e(135),i=e(75);n.a=function(){return Object(i.a)(r.b).scale(111.48)}},function(t,n,e){"use strict";var r=e(0),i=e(1);n.a=function(t,n,e){var o=Object(r.geoInterpolate)(n,e),u=o(.5),a=Object(r.geoRotation)([-u[0],-u[1]])(n),c=o.distance/2,f=-Object(i.e)(Object(i.y)(a[1]*i.v)/Object(i.y)(c)),s=[-u[0],-u[1],-(a[0]>0?i.s-f:f)*i.j],l=Object(r.geoProjection)(t(c)).rotate(s),h=Object(r.geoRotation)(s),p=l.center;return delete l.rotate,l.center=function(t){return arguments.length?p(h(t)):h.invert(p())},l.clipAngle(90)}},function(t,n,e){var r;!function(n){"use strict";function i(){}function o(t,n){for(var e=t.length;e--;)if(t[e].listener===n)return e;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}var c=i.prototype,f=n.EventEmitter;c.getListeners=function(t){var n,e,r=this._getEvents();if(t instanceof RegExp)for(e in n={},r)r.hasOwnProperty(e)&&t.test(e)&&(n[e]=r[e]);else n=r[t]||(r[t]=[]);return n},c.flattenListeners=function(t){var n,e=[];for(n=0;n<t.length;n+=1)e.push(t[n].listener);return e},c.getListenersAsObject=function(t){var n,e=this.getListeners(t);return e instanceof Array&&((n={})[t]=e),n||e},c.addListener=function(t,n){if(!function a(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&a(t.listener)}(n))throw new TypeError("listener must be a function");var e,r=this.getListenersAsObject(t),i="object"==typeof n;for(e in r)r.hasOwnProperty(e)&&-1===o(r[e],n)&&r[e].push(i?n:{listener:n,once:!1});return this},c.on=u("addListener"),c.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},c.once=u("addOnceListener"),c.defineEvent=function(t){return this.getListeners(t),this},c.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},c.removeListener=function(t,n){var e,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(e=o(i[r],n))&&i[r].splice(e,1);return this},c.off=u("removeListener"),c.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},c.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},c.manipulateListeners=function(t,n,e){var r,i,o=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(r=e.length;r--;)o.call(this,n,e[r]);else for(r in n)n.hasOwnProperty(r)&&(i=n[r])&&("function"==typeof i?o.call(this,r,i):u.call(this,r,i));return this},c.removeEvent=function(t){var n,e=typeof t,r=this._getEvents();if("string"===e)delete r[t];else if(t instanceof RegExp)for(n in r)r.hasOwnProperty(n)&&t.test(n)&&delete r[n];else delete this._events;return this},c.removeAllListeners=u("removeEvent"),c.emitEvent=function(t,n){var e,r,i,o,u=this.getListenersAsObject(t);for(o in u)if(u.hasOwnProperty(o))for(e=u[o].slice(0),i=0;i<e.length;i++)!0===(r=e[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,n||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},c.trigger=u("emitEvent"),c.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},c.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},c._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},c._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return n.EventEmitter=f,i},void 0!==(r=(function(){return i}).call(n,e,n,t))&&(t.exports=r)}(this||{})},function(t,n,e){var r=e(24),i=e(77);t.exports=function(t,n){var e=r(n),o=e.length;if(i(t))return!o;for(var u=0;u<o;u+=1){var a=e[u];if(n[a]!==t[a]||!(a in t))return!1}return!0}},function(t,n,e){var r=e(11),i=e(10),o=e(0),u=e(128),a=e(322);t.exports=function(t,n){if(r(t))return n?t:t();if(i(t)){if(o[t])return n?o[t]:o[t]();if(u[t])return n?u[t]:u[t]();if(a[t])return n?a[t]:a[t]()}return null}},function(t,n,e){"use strict";function r(){y.point=o}function i(){u(a,c)}function o(t,n){y.point=u,a=t,c=n,n*=p.r,f=t*=p.r,s=Object(p.g)(n=n/2+p.q),l=Object(p.t)(n)}function u(t,n){n=(n*=p.r)/2+p.q;var e=(t*=p.r)-f,r=e>=0?1:-1,i=r*e,o=Object(p.g)(n),u=Object(p.t)(n),a=l*u,c=s*o+a*Object(p.g)(i),h=a*r*Object(p.t)(i);g.add(Object(p.e)(h,c)),f=t,s=o,l=u}e.d(n,"a",function(){return g}),e.d(n,"b",function(){return y});var a,c,f,s,l,h=e(42),p=e(5),v=e(25),d=e(26),g=Object(h.a)(),b=Object(h.a)(),y={point:v.a,lineStart:v.a,lineEnd:v.a,polygonStart:function(){g.reset(),y.lineStart=r,y.lineEnd=i},polygonEnd:function(){var t=+g;b.add(t<0?p.w+t:t),this.lineStart=this.lineEnd=this.point=v.a},sphere:function(){b.add(p.w)}};n.c=function(t){return b.reset(),Object(d.a)(t,y),2*b}},function(t,n,e){"use strict";function r(t,n,e,r,u,c){if(e){var f=Object(a.g)(n),s=Object(a.t)(n),l=r*e;null==u?(u=n+r*a.w,c=n-l/2):(u=i(f,u),c=i(f,c),(r>0?u<c:u>c)&&(u+=r*a.w));for(var h,p=u;r>0?p>c:p<c;p-=l)h=Object(o.g)([f,-s*Object(a.g)(p),-s*Object(a.t)(p)]),t.point(h[0],h[1])}}function i(t,n){(n=Object(o.a)(n))[0]-=t,Object(o.e)(n);var e=Object(a.b)(-n[1]);return((-n[2]<0?-e:e)+a.w-a.i)%a.w}n.a=r;var o=e(43),u=e(326),a=e(5),c=e(78);n.b=function(){function t(){var t=i.apply(this,arguments),u=o.apply(this,arguments)*a.r,l=f.apply(this,arguments)*a.r;return n=[],e=Object(c.b)(-t[0]*a.r,-t[1]*a.r,0).invert,r(s,u,l,1),t={type:"Polygon",coordinates:[n]},n=e=null,t}var n,e,i=Object(u.a)([0,0]),o=Object(u.a)(90),f=Object(u.a)(6),s={point:function(t,r){n.push(t=e(t,r)),t[0]*=a.h,t[1]*=a.h}};return t.center=function(n){return arguments.length?(i="function"==typeof n?n:Object(u.a)([+n[0],+n[1]]),t):i},t.radius=function(n){return arguments.length?(o="function"==typeof n?n:Object(u.a)(+n),t):o},t.precision=function(n){return arguments.length?(f="function"==typeof n?n:Object(u.a)(+n),t):f},t}},function(t,n,e){"use strict";n.a=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}},function(t,n,e){"use strict";function r(t,n,e,r){function l(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function h(i,o,u,a){var c=0,f=0;if(null==i||(c=p(i,u))!==(f=p(o,u))||d(i,o)<0^u>0)do{a.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+u+4)%4)!==f);else a.point(o[0],o[1])}function p(r,o){return Object(i.a)(r[0]-t)<i.i?o>0?0:3:Object(i.a)(r[0]-e)<i.i?o>0?2:1:Object(i.a)(r[1]-n)<i.i?o>0?1:0:o>0?3:2}function v(t,n){return d(t.x,n.x)}function d(t,n){var e=p(t,1),r=p(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(i){function p(t,n){l(t,n)&&T.point(t,n)}function d(i,o){var a=l(i,o);if(b&&y.push([i,o]),E)j=i,O=o,_=a,E=!1,a&&(T.lineStart(),T.point(i,o));else if(a&&x)T.point(i,o);else{var c=[m=Math.max(s,Math.min(f,m)),w=Math.max(s,Math.min(f,w))],h=[i=Math.max(s,Math.min(f,i)),o=Math.max(s,Math.min(f,o))];Object(u.a)(c,h,t,n,e,r)?(x||(T.lineStart(),T.point(c[0],c[1])),T.point(h[0],h[1]),a||T.lineEnd(),M=!1):a&&(T.lineStart(),T.point(i,o),M=!1)}m=i,w=o,x=a}var g,b,y,j,O,_,m,w,x,E,M,T=i,S=Object(o.a)(),k={point:p,lineStart:function(){k.point=d,b&&b.push(y=[]),E=!0,x=!1,m=w=NaN},lineEnd:function(){g&&(d(j,O),_&&x&&S.rejoin(),g.push(S.result())),k.point=p,x&&T.lineEnd()},polygonStart:function(){T=S,g=[],b=[],M=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=b.length;e<i;++e)for(var o,u,a=b[e],c=1,f=a.length,s=a[0],l=s[0],h=s[1];c<f;++c)o=l,u=h,l=(s=a[c])[0],h=s[1],u<=r?h>r&&(l-o)*(r-u)>(h-u)*(t-o)&&++n:h<=r&&(l-o)*(r-u)<(h-u)*(t-o)&&--n;return n}(),e=M&&n,o=(g=Object(c.merge)(g)).length;(e||o)&&(i.polygonStart(),e&&(i.lineStart(),h(null,null,1,i),i.lineEnd()),o&&Object(a.a)(g,v,n,h,i),i.polygonEnd()),T=i,g=b=y=null}};return k}}n.a=r;var i=e(5),o=e(146),u=e(327),a=e(147),c=e(14),f=1e9,s=-f;n.b=function(){var t,n,e,i=0,o=0,u=960,a=500;return e={stream:function(e){return t&&n===e?t:t=r(i,o,u,a)(n=e)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],u=+r[1][0],a=+r[1][1],t=n=null,e):[[i,o],[u,a]]}}}},function(t,n,e){"use strict";var r=e(25);n.a=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:r.a,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}},function(t,n,e){"use strict";function r(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function i(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var o=e(148);n.a=function(t,n,e,u,a){var c,f,s=[],l=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],u=t[n];if(Object(o.a)(i,u)){for(a.lineStart(),c=0;c<n;++c)a.point((i=t[c])[0],i[1]);a.lineEnd()}else s.push(e=new r(i,t,null,!0)),l.push(e.o=new r(i,null,e,!1)),s.push(e=new r(u,t,null,!1)),l.push(e.o=new r(u,null,e,!0))}}),s.length){for(l.sort(n),i(s),i(l),c=0,f=l.length;c<f;++c)l[c].e=e=!e;for(var h,p,v=s[0];;){for(var d=v,g=!0;d.v;)if((d=d.n)===v)return;h=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(c=0,f=h.length;c<f;++c)a.point((p=h[c])[0],p[1]);else u(d.x,d.n.x,1,a);d=d.n}else{if(g)for(c=(h=d.p.z).length-1;c>=0;--c)a.point((p=h[c])[0],p[1]);else u(d.x,d.p.x,-1,a);d=d.p}h=(d=d.o).z,g=!g}while(!d.v);a.lineEnd()}}}},function(t,n,e){"use strict";var r=e(5);n.a=function(t,n){return Object(r.a)(t[0]-n[0])<r.i&&Object(r.a)(t[1]-n[1])<r.i}},function(t,n,e){"use strict";function r(){v.point=v.lineEnd=l.a}function i(t,n){n*=s.r,u=t*=s.r,a=Object(s.t)(n),c=Object(s.g)(n),v.point=o}function o(t,n){t*=s.r,n*=s.r;var e=Object(s.t)(n),r=Object(s.g)(n),i=Object(s.a)(t-u),o=Object(s.g)(i),f=r*Object(s.t)(i),l=c*e-a*r*o,h=a*e+c*r*o;p.add(Object(s.e)(Object(s.u)(f*f+l*l),h)),u=t,a=e,c=r}var u,a,c,f=e(42),s=e(5),l=e(25),h=e(26),p=Object(f.a)(),v={sphere:l.a,point:l.a,lineStart:function(){v.point=i,v.lineEnd=r},lineEnd:l.a,polygonStart:l.a,polygonEnd:l.a};n.a=function(t){return p.reset(),Object(h.a)(t,v),+p}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";var r=e(25),i=1/0,o=i,u=-i,a=u;n.a={point:function(t,n){t<i&&(i=t),t>u&&(u=t),n<o&&(o=n),n>a&&(a=n)},lineStart:r.a,lineEnd:r.a,polygonStart:r.a,polygonEnd:r.a,result:function(){var t=[[i,o],[u,a]];return u=a=-(o=i=1/0),t}}},function(t,n,e){"use strict";var r=e(79);n.a=function(){return Object(r.b)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,n,e){"use strict";function r(t){return t.length>1}function i(t,n){return((t=t.x)[0]<0?t[1]-a.l-a.i:a.l-t[1])-((n=n.x)[0]<0?n[1]-a.l-a.i:a.l-n[1])}var o=e(146),u=e(147),a=e(5),c=e(337),f=e(14);n.a=function(t,n,e,a){return function(s,l){function h(n,e){var r=s(n,e);t(n=r[0],e=r[1])&&l.point(n,e)}function p(t,n){var e=s(t,n);m.point(e[0],e[1])}function v(){T.point=p,m.lineStart()}function d(){T.point=h,m.lineEnd()}function g(t,n){_.push([t,n]);var e=s(t,n);E.point(e[0],e[1])}function b(){E.lineStart(),_=[]}function y(){g(_[0][0],_[0][1]),E.lineEnd();var t,n,e,i,o=E.clean(),u=x.result(),a=u.length;if(_.pop(),j.push(_),_=null,a)if(1&o){if((n=(e=u[0]).length-1)>0){for(M||(l.polygonStart(),M=!0),l.lineStart(),t=0;t<n;++t)l.point((i=e[t])[0],i[1]);l.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),O.push(u.filter(r))}var j,O,_,m=n(l),w=s.invert(a[0],a[1]),x=Object(o.a)(),E=n(x),M=!1,T={point:h,lineStart:v,lineEnd:d,polygonStart:function(){T.point=g,T.lineStart=b,T.lineEnd=y,O=[],j=[]},polygonEnd:function(){T.point=h,T.lineStart=v,T.lineEnd=d,O=Object(f.merge)(O);var t=Object(c.a)(j,w);O.length?(M||(l.polygonStart(),M=!0),Object(u.a)(O,i,t,e,l)):t&&(M||(l.polygonStart(),M=!0),l.lineStart(),e(null,null,1,l),l.lineEnd()),M&&(l.polygonEnd(),M=!1),O=j=null},sphere:function(){l.polygonStart(),l.lineStart(),e(null,null,1,l),l.lineEnd(),l.polygonEnd()}};return T}}},function(t,n,e){"use strict";function r(t,n,e){var r=n[1][0]-n[0][0],u=n[1][1]-n[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),Object(i.a)(e,t.stream(o.a));var c=o.a.result(),f=Math.min(r/(c[1][0]-c[0][0]),u/(c[1][1]-c[0][1])),s=+n[0][0]+(r-f*(c[1][0]+c[0][0]))/2,l=+n[0][1]+(u-f*(c[1][1]+c[0][1]))/2;return null!=a&&t.clipExtent(a),t.scale(150*f).translate([s,l])}n.b=function(t){return function(n,e){return r(t,[[0,0],n],e)}},n.a=function(t){return function(n,e){return r(t,n,e)}};var i=e(26),o=e(151)},function(t,n,e){"use strict";function r(t,n){return[t,n]}n.b=r;var i=e(18);r.invert=r,n.a=function(){return Object(i.a)(r).scale(152.63)}},function(t,n,e){var r=e(6);t.exports=function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(n))for(var i=0;i<n.length;i+=1)t(n[i],e);else e.push(n);return e}},function(t,n){t.exports=function(t){for(var n=1/t,e=[],r=0;r<=1;r+=n)e.push(r);return e}},function(t,n,e){function r(t,n,e){e.dataType=c;var r=o(t.features);return r.forEach(function(t){t.name=t.properties.name,t.longitude=[],t.latitude=[];var n=t.pathData=s(t);i(n)._path.forEach(function(n){t.longitude.push(n[1]),t.latitude.push(n[2])});var e=s.centroid(t);t.centroidX=e[0],t.centroidY=e[1]}),r}var i=e(159),o=e(40),u=e(0).geoPath,a=e(2),c=a.GEO,f=a.registerConnector,s=u();f("geo",r),f("geojson",r),f("GeoJSON",r),t.exports=r},function(t,n,e){function r(t){if(!(this instanceof r))return new r(t);this._path=u(t)?t:o(t),this._path=a(this._path),this._path=function(t){for(var n=[],e=["L",0,0],r=0,i=t.length;r<i;r++){var o=t[r];switch(o[0]){case"M":e=["L",o[1],o[2]],n.push(o);break;case"Z":n.push(e);break;default:n.push(o)}}return n}(this._path)}function i(t,n,e,r){var i=t-e,o=n-r;return Math.sqrt(i*i+o*o)}var o=e(362),u=e(363),a=e(364);t.exports=r,r.prototype.at=function(t,n){return this._walk(t,n).pos},r.prototype.length=function(){return this._walk(null).length},r.prototype._walk=function(t,n){var e=[0,0],r=[0,0,0],o=0;"number"==typeof t&&(t*=1.045);for(var u=0;u<this._path.length;u++){var a=this._path[u];if("M"===a[0]){if(e[0]=a[1],e[1]=a[2],0===t)return{length:o,pos:e}}else if("C"===a[0]){r[0]=e[0],r[1]=e[1],r[2]=o;for(var c=100,f=0;f<=c;f++){var s=function(t,n){return Math.pow(1-n,3)*e[0]+3*Math.pow(1-n,2)*n*t[1]+3*(1-n)*Math.pow(n,2)*t[3]+Math.pow(n,3)*t[5]}(a,h=f/c),l=function(t,n){return Math.pow(1-n,3)*e[1]+3*Math.pow(1-n,2)*n*t[2]+3*(1-n)*Math.pow(n,2)*t[4]+Math.pow(n,3)*t[6]}(a,h);if(o+=i(e[0],e[1],s,l),e[0]=s,e[1]=l,"number"==typeof t&&o>=t)return{length:o,pos:v=[e[0]*(1-(p=(o-t)/(o-r[2])))+r[0]*p,e[1]*(1-p)+r[1]*p]};r[0]=e[0],r[1]=e[1],r[2]=o}}else if("Q"===a[0])for(r[0]=e[0],r[1]=e[1],r[2]=o,c=100,f=0;f<=c;f++){var h=f/c;if(s=function(t,n){return Math.pow(1-n,2)*e[0]+2*(1-n)*n*t[1]+Math.pow(n,2)*t[3]}(a,h),l=function(t,n){return Math.pow(1-n,2)*e[1]+2*(1-n)*n*t[2]+Math.pow(n,2)*t[4]}(a,h),o+=i(e[0],e[1],s,l),e[0]=s,e[1]=l,"number"==typeof t&&o>=t)return{length:o,pos:v=[e[0]*(1-(p=(o-t)/(o-r[2])))+r[0]*p,e[1]*(1-p)+r[1]*p]};r[0]=e[0],r[1]=e[1],r[2]=o}else if("L"===a[0]){if(r[0]=e[0],r[1]=e[1],r[2]=o,o+=i(e[0],e[1],a[1],a[2]),e[0]=a[1],e[1]=a[2],"number"==typeof t&&o>=t){var p=(o-t)/(o-r[2]),v=[e[0]*(1-p)+r[0]*p,e[1]*(1-p)+r[1]*p];return{length:o,pos:v}}r[0]=e[0],r[1]=e[1],r[2]=o}}return{length:o/1.045,pos:e}}},function(t,n,e){"use strict";function r(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,f=a*a+c*c;if(f){var s=.5+((u*=u)-(o*=o))/(2*f),l=Math.sqrt(Math.max(0,2*o*(u+f)-(u-=f)*u-o*o))/(2*f);e.x=r+s*a+l*c,e.y=i+s*c-l*a}else e.x=r+u,e.y=i}function i(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function o(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function u(t){this._=t,this.next=null,this.previous=null}function a(t){if(!(f=t.length))return 0;var n,e,a,f,s,l,h,p,v,d,g;if((n=t[0]).x=0,n.y=0,!(f>1))return n.r;if(n.x=-(e=t[1]).r,e.x=n.r,e.y=0,!(f>2))return n.r+e.r;r(e,n,a=t[2]),n=new u(n),e=new u(e),a=new u(a),n.next=a.previous=e,e.next=n.previous=a,a.next=e.previous=n;t:for(h=3;h<f;++h){r(n._,e._,a=t[h]),a=new u(a),p=e.next,v=n.previous,d=e._.r,g=n._.r;do{if(d<=g){if(i(p._,a._)){n.next=e=p,e.previous=n,--h;continue t}d+=p._.r,p=p.next}else{if(i(v._,a._)){(n=v).next=e,e.previous=n,--h;continue t}g+=v._.r,v=v.previous}}while(p!==v.next);for(a.previous=n,a.next=e,n.next=e.previous=e=a,s=o(n);(a=a.next)!==e;)(l=o(a))<s&&(n=a,s=l);e=n.next}for(n=[e._],a=e;(a=a.next)!==e;)n.push(a._);for(a=Object(c.a)(n),h=0;h<f;++h)(n=t[h]).x-=a.x,n.y-=a.y;return a.r}n.b=a;var c=e(161);n.a=function(t){return a(t),t}},function(t,n,e){"use strict";function r(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function i(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function o(t,n){for(var e=0;e<n.length;++e)if(!i(t,n[e]))return!1;return!0}function u(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,f=u-r,s=a-i,l=Math.sqrt(c*c+f*f);return{x:(e+o+c/l*s)/2,y:(r+u+f/l*s)/2,r:(l+i+a)/2}}function a(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,f=e.x,s=e.y,l=e.r,h=r-u,p=r-f,v=i-a,d=i-s,g=c-o,b=l-o,y=r*r+i*i-o*o,j=y-u*u-a*a+c*c,O=y-f*f-s*s+l*l,_=p*v-h*d,m=(v*O-d*j)/(2*_)-r,w=(d*g-v*b)/_,x=(p*j-h*O)/(2*_)-i,E=(h*b-p*g)/_,M=w*w+E*E-1,T=2*(o+m*w+x*E),S=m*m+x*x-o*o,k=-(M?(T+Math.sqrt(T*T-4*M*S))/(2*M):S/T);return{x:r+m+w*k,y:i+x+E*k,r:k}}var c=e(382);n.a=function(t){for(var n,e,f=0,s=(t=Object(c.a)(c.b.call(t))).length,l=[];f<s;)n=t[f],e&&i(e,n)?++f:(e=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return u(t[0],t[1]);case 3:return a(t[0],t[1],t[2])}}(l=function(t,n){var e,i;if(o(n,t))return[n];for(e=0;e<t.length;++e)if(r(n,t[e])&&o(u(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(i=e+1;i<t.length;++i)if(r(u(t[e],t[i]),n)&&r(u(t[e],n),t[i])&&r(u(t[i],n),t[e])&&o(a(t[e],t[i],n),t))return[t[e],t[i],n];throw new Error}(l,n)),f=0);return e}},function(t,n,e){"use strict";n.a=function(){return 0},n.b=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}},function(t,n,e){"use strict";var r=e(89);n.a=function(t){function n(t){(t=o(t))[0]<u&&(u=t[0]),t[0]>c&&(c=t[0]),t[1]<a&&(a=t[1]),t[1]>f&&(f=t[1])}function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}var i,o=Object(r.a)(t.transform),u=1/0,a=u,c=-u,f=-u;for(i in t.arcs.forEach(function(t){for(var n,e=-1,r=t.length;++e<r;)(n=o(t[e],e))[0]<u&&(u=n[0]),n[0]>c&&(c=n[0]),n[1]<a&&(a=n[1]),n[1]>f&&(f=n[1])}),t.objects)e(t.objects[i]);return[u,a,c,f]}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";n.a=function(t,n){function e(t,n){for(var e in t){var i=t[e];delete n[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),u.push(i)}}var r={},i={},o={},u=[],a=-1;return n.forEach(function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++a],n[a]=e,n[r]=i)}),n.forEach(function(n){var e,r,u=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,i]:[i,e]}(n),a=u[0],c=u[1];if(e=o[a])if(delete o[e.end],e.push(n),e.end=c,r=i[c]){delete i[r.start];var f=r===e?e:e.concat(r);i[f.start=e.start]=o[f.end=r.end]=f}else i[e.start]=o[e.end]=e;else if(e=i[c])if(delete i[e.start],e.unshift(n),e.start=a,r=o[a]){delete o[r.end];var s=r===e?e:r.concat(e);i[s.start=r.start]=o[s.end=e.end]=s}else i[e.start]=o[e.end]=e;else i[(e=[n]).start=a]=o[e.end=c]=e}),e(o,i),e(i,o),n.forEach(function(t){r[t<0?~t:t]||u.push([t])}),u}},function(t,n,e){"use strict";var r=e(165);n.a=function(t){if(null==t)return r.a;var n,e,i=t.scale[0],o=t.scale[1],u=t.translate[0],a=t.translate[1];return function(t,r){r||(n=e=0);var c=2,f=t.length,s=new Array(f),l=Math.round((t[0]-u)/i),h=Math.round((t[1]-a)/o);for(s[0]=l-n,n=l,s[1]=h-e,e=h;c<f;)s[c]=t[c],++c;return s}}},function(t,n,e){var r=e(91),i=Array.prototype.indexOf;t.exports=function(t,n){return!!r(t)&&i.call(t,n)>-1}},function(t,n,e){(function(t,r){var i;(function(){function o(t,n){return t.set(n[0],n[1]),t}function u(t,n){return t.add(n),t}function a(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function c(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function f(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function s(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var u=t[e];n(u,e,t)&&(o[i++]=u)}return o}function l(t,n){return!(null==t||!t.length)&&j(t,n,0)>-1}function h(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function p(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function v(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function d(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function g(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function b(t,n,e){var r;return e(t,function(t,e,i){if(n(t,e,i))return r=e,!1}),r}function y(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function j(t,n,e){return n==n?function(t,n,e){for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):y(t,O,e)}function O(t){return t!=t}function _(t,n){var e=null==t?0:t.length;return e?E(t,n)/e:yt}function m(t){return function(n){return null==n?D:n[t]}}function w(t){return function(n){return null==t?D:t[n]}}function x(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function E(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);o!==D&&(e=e===D?o:e+o)}return e}function M(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function T(t){return function(n){return t(n)}}function S(t,n){return p(n,function(n){return t[n]})}function k(t,n){return t.has(n)}function C(t,n){for(var e=-1,r=t.length;++e<r&&j(n,t[e],0)>-1;);return e}function P(t,n){for(var e=t.length;e--&&j(n,t[e],0)>-1;);return e}function N(t){return"\\"+he[t]}function R(t){return ue.test(t)}function B(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function A(t,n){return function(e){return t(n(e))}}function I(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e];u!==n&&u!==Y||(t[e]=Y,o[i++]=e)}return o}function L(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function q(t){return R(t)?function(t){for(var n=ie.lastIndex=0;ie.test(t);)++n;return n}(t):ke(t)}function F(t){return R(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.split("")}(t)}var D,G=200,U="Expected a function",V="__lodash_hash_undefined__",Y="__lodash_placeholder__",$=1,J=2,K=4,X=1,Z=2,Q=1,tt=2,nt=4,et=8,rt=16,it=32,ot=64,ut=128,at=256,ct=512,lt=800,ht=16,dt=1/0,gt=9007199254740991,bt=17976931348623157e292,yt=NaN,jt=4294967295,Ot=jt-1,_t=jt>>>1,mt=[["ary",ut],["bind",Q],["bindKey",tt],["curry",et],["curryRight",rt],["flip",ct],["partial",it],["partialRight",ot],["rearg",at]],wt="[object Arguments]",xt="[object Array]",Et="[object AsyncFunction]",Mt="[object Boolean]",Tt="[object Date]",St="[object DOMException]",kt="[object Error]",Ct="[object Function]",Pt="[object GeneratorFunction]",Nt="[object Map]",Rt="[object Number]",Bt="[object Null]",At="[object Object]",It="[object Proxy]",Lt="[object RegExp]",zt="[object Set]",qt="[object String]",Ft="[object Symbol]",Dt="[object Undefined]",Gt="[object WeakMap]",Ut="[object ArrayBuffer]",Vt="[object DataView]",Wt="[object Float32Array]",Yt="[object Float64Array]",$t="[object Int8Array]",Jt="[object Int16Array]",Kt="[object Int32Array]",Xt="[object Uint8Array]",Zt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",tn="[object Uint32Array]",nn=/\b__p \+= '';/g,en=/\b(__p \+=) '' \+/g,rn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,on=/&(?:amp|lt|gt|quot|#39);/g,un=/[&<>"']/g,an=RegExp(on.source),cn=RegExp(un.source),fn=/<%-([\s\S]+?)%>/g,sn=/<%([\s\S]+?)%>/g,ln=/<%=([\s\S]+?)%>/g,hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pn=/^\w*$/,vn=/^\./,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gn=/[\\^$.*+?()[\]{}|]/g,bn=RegExp(gn.source),yn=/^\s+|\s+$/g,jn=/^\s+/,On=/\s+$/,_n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mn=/\{\n\/\* \[wrapped with (.+)\] \*/,wn=/,? & /,xn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,En=/\\(\\)?/g,Mn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tn=/\w*$/,Sn=/^[-+]0x[0-9a-f]+$/i,kn=/^0b[01]+$/i,Cn=/^\[object .+?Constructor\]$/,Pn=/^0o[0-7]+$/i,Nn=/^(?:0|[1-9]\d*)$/,Rn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bn=/($^)/,An=/['\n\r\u2028\u2029\\]/g,In="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ln="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qn="["+Ln+"]",Fn="["+In+"]",Dn="\\d+",Hn="[a-z\\xdf-\\xf6\\xf8-\\xff]",Un="[^\\ud800-\\udfff"+Ln+Dn+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Vn="\\ud83c[\\udffb-\\udfff]",Wn="[^\\ud800-\\udfff]",Yn="(?:\\ud83c[\\udde6-\\uddff]){2}",$n="[\\ud800-\\udbff][\\udc00-\\udfff]",Jn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Kn="(?:"+Hn+"|"+Un+")",Xn="(?:"+Jn+"|"+Un+")",Zn="(?:"+Fn+"|"+Vn+")?",Qn="[\\ufe0e\\ufe0f]?"+Zn+"(?:\\u200d(?:"+[Wn,Yn,$n].join("|")+")[\\ufe0e\\ufe0f]?"+Zn+")*",te="(?:"+["[\\u2700-\\u27bf]",Yn,$n].join("|")+")"+Qn,ne="(?:"+[Wn+Fn+"?",Fn,Yn,$n,"[\\ud800-\\udfff]"].join("|")+")",ee=RegExp("[']","g"),re=RegExp(Fn,"g"),ie=RegExp(Vn+"(?="+Vn+")|"+ne+Qn,"g"),oe=RegExp([Jn+"?"+Hn+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[qn,Jn,"$"].join("|")+")",Xn+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[qn,Jn+Kn,"$"].join("|")+")",Jn+"?"+Kn+"+(?:['](?:d|ll|m|re|s|t|ve))?",Jn+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Dn,te].join("|"),"g"),ue=RegExp("[\\u200d\\ud800-\\udfff"+In+"\\ufe0e\\ufe0f]"),ae=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fe=-1,se={};se[Wt]=se[Yt]=se[$t]=se[Jt]=se[Kt]=se[Xt]=se[Zt]=se[Qt]=se[tn]=!0,se[wt]=se[xt]=se[Ut]=se[Mt]=se[Vt]=se[Tt]=se[kt]=se[Ct]=se[Nt]=se[Rt]=se[At]=se[Lt]=se[zt]=se[qt]=se[Gt]=!1;var le={};le[wt]=le[xt]=le[Ut]=le[Vt]=le[Mt]=le[Tt]=le[Wt]=le[Yt]=le[$t]=le[Jt]=le[Kt]=le[Nt]=le[Rt]=le[At]=le[Lt]=le[zt]=le[qt]=le[Ft]=le[Xt]=le[Zt]=le[Qt]=le[tn]=!0,le[kt]=le[Ct]=le[Gt]=!1;var he={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pe=parseFloat,ve=parseInt,de="object"==typeof t&&t&&t.Object===Object&&t,ge="object"==typeof self&&self&&self.Object===Object&&self,be=de||ge||Function("return this")(),ye="object"==typeof n&&n&&!n.nodeType&&n,je=ye&&"object"==typeof r&&r&&!r.nodeType&&r,Oe=je&&je.exports===ye,_e=Oe&&de.process,me=function(){try{return _e&&_e.binding&&_e.binding("util")}catch(t){}}(),we=me&&me.isArrayBuffer,xe=me&&me.isDate,Ee=me&&me.isMap,Me=me&&me.isRegExp,Te=me&&me.isSet,Se=me&&me.isTypedArray,ke=m("length"),Ce=w({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n",:"s"}),Pe=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Ne=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Re=function t(n){function e(t){if(to(t)&&!Ua(t)&&!(t instanceof w)){if(t instanceof i)return t;if(Uo.call(t,"__wrapped__"))return xi(t)}return new i(t)}function r(){}function i(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=D}function w(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function In(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ln(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function zn(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function qn(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new zn;++n<e;)this.add(t[n])}function Fn(t){var n=this.__data__=new Ln(t);this.size=n.size}function Dn(t,n){var e=Ua(t),r=!e&&Ha(t),i=!e&&!r&&Wa(t),o=!e&&!r&&!i&&Xa(t),u=e||r||i||o,a=u?M(t.length,Lo):[],c=a.length;for(var f in t)!n&&!Uo.call(t,f)||u&&("length"==f||i&&("offset"==f||"parent"==f)||o&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||si(f,c))||a.push(f);return a}function Gn(t){var n=t.length;return n?t[Qe(0,n-1)]:D}function Hn(t,n,e){(e===D||Wi(t[n],e))&&(e!==D||n in t)||Yn(t,n,e)}function Un(t,n,e){var r=t[n];Uo.call(t,n)&&Wi(r,e)&&(e!==D||n in t)||Yn(t,n,e)}function Vn(t,n){for(var e=t.length;e--;)if(Wi(t[e][0],n))return e;return-1}function Wn(t,n){return t&&Tr(n,vo(n),t)}function Yn(t,n,e){"__proto__"==n&&cu?cu(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function $n(t,n){for(var e=-1,r=n.length,i=Co(r),o=null==t;++e<r;)i[e]=o?D:ho(t,n[e]);return i}function Jn(t,n,e){return t==t&&(e!==D&&(t=t<=e?t:e),n!==D&&(t=t>=n?t:n)),t}function Kn(t,n,e,r,i,a){var f,s=n&$,l=n&J,h=n&K;if(e&&(f=i?e(t,r,i,a):e(t)),f!==D)return f;if(!Qi(t))return t;var p=Ua(t);if(p){if(f=function(t){var n=t.length,e=t.constructor(n);return n&&"string"==typeof t[0]&&Uo.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!s)return Mr(t,f)}else{var v=ta(t),g=v==Ct||v==Pt;if(Wa(t))return Or(t,s);if(v==At||v==wt||g&&!i){if(f=l||g?{}:ci(t),!s)return l?function(t,n){return Tr(t,Qu(t),n)}(t,function(n,e){return n&&Tr(t,go(t),n)}(f)):function(t,n){return Tr(t,Zu(t),n)}(t,Wn(f,t))}else{if(!le[v])return i?t:{};f=function(t,n,e,r){var i=t.constructor;switch(v){case Ut:return _r(t);case Mt:case Tt:return new i(+t);case Vt:return function(t,n){var e=r?_r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t);case Wt:case Yt:case $t:case Jt:case Kt:case Xt:case Zt:case Qt:case tn:return mr(t,r);case Nt:return function(t,n,e){return d(r?e(B(t),$):B(t),o,new t.constructor)}(t,0,e);case Rt:case qt:return new i(t);case Lt:return function(t){var n=new t.constructor(t.source,Tn.exec(t));return n.lastIndex=t.lastIndex,n}(t);case zt:return function(t,n,e){return d(r?e(L(t),$):L(t),u,new t.constructor)}(t,0,e);case Ft:return function(t){return qu?Ao(qu.call(t)):{}}(t)}}(t,0,Kn,s)}}a||(a=new Fn);var b=a.get(t);if(b)return b;a.set(t,f);var y=p?D:(h?l?ti:Qr:l?go:vo)(t);return c(y||t,function(r,i){y&&(r=t[i=r]),Un(f,i,Kn(r,n,e,i,t,a))}),f}function Xn(t,n,e){var r=e.length;if(null==t)return!r;for(t=Ao(t);r--;){var i=e[r],u=t[i];if(u===D&&!(i in t)||!(0,n[i])(u))return!1}return!0}function Zn(t,n,e){if("function"!=typeof t)throw new zo(U);return ra(function(){t.apply(D,e)},n)}function Qn(t,n,e,r){var i=-1,o=l,u=!0,a=t.length,c=[],f=n.length;if(!a)return c;e&&(n=p(n,T(e))),r?(o=h,u=!1):n.length>=G&&(o=k,u=!1,n=new qn(n));t:for(;++i<a;){var s=t[i],v=null==e?s:e(s);if(s=r||0!==s?s:0,u&&v==v){for(var d=f;d--;)if(n[d]===v)continue t;c.push(s)}else o(n,v,r)||c.push(s)}return c}function te(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=n(o);if(null!=u&&(a===D?u==u&&!io(u):e(u,a)))var a=u,c=o}return c}function ne(t,n){var e=[];return Gu(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function ie(t,n,e,r,i){var o=-1,u=t.length;for(e||(e=fi),i||(i=[]);++o<u;){var a=t[o];n>0&&e(a)?n>1?ie(a,n-1,e,r,i):v(i,a):r||(i[i.length]=a)}return i}function ue(t,n){return t&&Uu(t,n,vo)}function he(t,n){return t&&Vu(t,n,vo)}function de(t,n){return s(n,function(n){return Ki(t[n])})}function ge(t,n){for(var e=0,r=(n=yr(n,t)).length;null!=t&&e<r;)t=t[mi(n[e++])];return e&&e==r?t:D}function ye(t,n,e){var r=n(t);return Ua(t)?r:v(r,e(t))}function je(t){return null==t?t===D?Dt:Bt:au&&au in Ao(t)?function(t){var n=Uo.call(t,au),e=t[au];try{t[au]=D;var r=!0}catch(t){}var i=Yo.call(t);return r&&(n?t[au]=e:delete t[au]),i}(t):function(t){return Yo.call(t)}(t)}function _e(t,n){return t>n}function me(t,n){return null!=t&&Uo.call(t,n)}function ke(t,n){return null!=t&&n in Ao(t)}function Be(t,n,e){for(var r=e?h:l,i=t[0].length,o=t.length,u=o,a=Co(o),c=1/0,f=[];u--;){var s=t[u];u&&n&&(s=p(s,T(n))),c=Ou(s.length,c),a[u]=!e&&(n||i>=120&&s.length>=120)?new qn(u&&s):D}s=t[0];var v=-1,d=a[0];t:for(;++v<i&&f.length<c;){var g=s[v],b=n?n(g):g;if(g=e||0!==g?g:0,!(d?k(d,b):r(f,b,e))){for(u=o;--u;){var y=a[u];if(!(y?k(y,b):r(t[u],b,e)))continue t}d&&d.push(b),f.push(g)}}return f}function Ae(t,n,e){var r=null==(t=yi(t,n=yr(n,t)))?t:t[mi(ki(n))];return null==r?D:a(r,t,e)}function Ie(t){return to(t)&&je(t)==wt}function Le(t,n,e,r,i){return t===n||(null==t||null==n||!to(t)&&!to(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var u=Ua(t),a=Ua(n),c=u?xt:ta(t),f=a?xt:ta(n),s=(c=c==wt?At:c)==At,l=(f=f==wt?At:f)==At,h=c==f;if(h&&Wa(t)){if(!Wa(n))return!1;u=!0,s=!1}if(h&&!s)return o||(o=new Fn),u||Xa(t)?Xr(t,n,e,r,i,o):function(t,n,e,r,i,o,u){switch(c){case Vt:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case Ut:return!(t.byteLength!=n.byteLength||!o(new Qo(t),new Qo(n)));case Mt:case Tt:case Rt:return Wi(+t,+n);case kt:return t.name==n.name&&t.message==n.message;case Lt:case qt:return t==n+"";case Nt:var a=B;case zt:if(a||(a=L),t.size!=n.size&&!(r&X))return!1;var s=u.get(t);if(s)return s==n;r|=Z,u.set(t,n);var l=Xr(a(t),a(n),r,i,o,u);return u.delete(t),l;case Ft:if(qu)return qu.call(t)==qu.call(n)}return!1}(t,n,0,e,r,i,o);if(!(e&X)){var p=s&&Uo.call(t,"__wrapped__"),v=l&&Uo.call(n,"__wrapped__");if(p||v){var d=p?t.value():t,g=v?n.value():n;return o||(o=new Fn),i(d,g,e,r,o)}}return!!h&&(o||(o=new Fn),function(t,n,e,r,i,o){var u=e&X,a=Qr(t),c=a.length;if(c!=Qr(n).length&&!u)return!1;for(var s=c;s--;){var l=a[s];if(!(u?l in n:Uo.call(n,l)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var p=!0;o.set(t,n),o.set(n,t);for(var v=u;++s<c;){var d=t[l=a[s]],g=n[l];if(r)var b=u?r(g,d,l,n,t,o):r(d,g,l,t,n,o);if(!(b===D?d===g||i(d,g,e,r,o):b)){p=!1;break}v||(v="constructor"==l)}if(p&&!v){var y=t.constructor,j=n.constructor;y!=j&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof j&&j instanceof j)&&(p=!1)}return o.delete(t),o.delete(n),p}(t,n,e,r,i,o))}(t,n,e,r,Le,i))}function ze(t,n,e,r){var i=e.length,o=i,u=!r;if(null==t)return!o;for(t=Ao(t);i--;){var a=e[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var c=(a=e[i])[0],f=t[c],s=a[1];if(u&&a[2]){if(f===D&&!(c in t))return!1}else{var l=new Fn;if(r)var h=r(f,s,c,t,n,l);if(!(h===D?Le(s,f,X|Z,r,l):h))return!1}}return!0}function qe(t){return!(!Qi(t)||Wo&&Wo in t)&&(Ki(t)?Ko:Cn).test(wi(t))}function Fe(t){return"function"==typeof t?t:null==t?wo:"object"==typeof t?Ua(t)?We(t[0],t[1]):Ve(t):To(t)}function De(t){if(!vi(t))return yu(t);var n=[];for(var e in Ao(t))Uo.call(t,e)&&"constructor"!=e&&n.push(e);return n}function He(t,n){return t<n}function Ue(t,n){var e=-1,r=Yi(t)?Co(t.length):[];return Gu(t,function(t,i,o){r[++e]=n(t,i,o)}),r}function Ve(t){var n=oi(t);return 1==n.length&&n[0][2]?gi(n[0][0],n[0][1]):function(e){return e===t||ze(e,t,n)}}function We(t,n){return hi(t)&&di(n)?gi(mi(t),n):function(e){var r=ho(e,t);return r===D&&r===n?po(e,t):Le(n,r,X|Z)}}function Ye(t,n,e,r,i){t!==n&&Uu(n,function(o,u){if(Qi(o))i||(i=new Fn),function(t,n,e,r,i,o,u){var a=t[e],c=n[e],f=u.get(c);if(f)Hn(t,e,f);else{var s=o?o(a,c,e+"",t,n,u):D,l=s===D;if(l){var h=Ua(c),p=!h&&Wa(c),v=!h&&!p&&Xa(c);s=c,h||p||v?Ua(a)?s=a:$i(a)?s=Mr(a):p?(l=!1,s=Or(c,!0)):v?(l=!1,s=mr(c,!0)):s=[]:eo(c)||Ha(c)?(s=a,Ha(a)?s=so(a):(!Qi(a)||r&&Ki(a))&&(s=ci(c))):l=!1}l&&(u.set(c,s),i(s,c,r,o,u),u.delete(c)),Hn(t,e,s)}}(t,n,u,e,Ye,r,i);else{var a=r?r(t[u],o,u+"",t,n,i):D;a===D&&(a=o),Hn(t,u,a)}},go)}function $e(t,n){var e=t.length;if(e)return si(n+=n<0?e:0,e)?t[n]:D}function Je(t,n,e){var r=-1;return n=p(n.length?n:[wo],T(ri())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Ue(t,function(t,e,i){return{criteria:p(n,function(n){return n(t)}),index:++r,value:t}}),function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,u=i.length,a=e.length;++r<u;){var c=wr(i[r],o[r]);if(c)return r>=a?c:c*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)})}function Ke(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var u=n[r],a=ge(t,u);e(a,u)&&er(o,yr(u,t),a)}return o}function Xe(t,n,e,r){var i=r?function(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}:j,o=-1,u=n.length,a=t;for(t===n&&(n=Mr(n)),e&&(a=p(t,T(e)));++o<u;)for(var c=0,f=n[o],s=e?e(f):f;(c=i(a,s,c,r))>-1;)a!==t&&iu.call(a,c,1),iu.call(t,c,1);return t}function Ze(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;si(i)?iu.call(t,i,1):sr(t,i)}}return t}function Qe(t,n){return t+pu(wu()*(n-t+1))}function tr(t,n){var e="";if(!t||n<1||n>gt)return e;do{n%2&&(e+=t),(n=pu(n/2))&&(t+=t)}while(n);return e}function nr(t,n){return ia(bi(t,n,wo),t+"")}function er(t,n,e,r){if(!Qi(t))return t;for(var i=-1,o=(n=yr(n,t)).length,u=o-1,a=t;null!=a&&++i<o;){var c=mi(n[i]),f=e;if(i!=u){var s=a[c];(f=r?r(s,c,a):D)===D&&(f=Qi(s)?s:si(n[i+1])?[]:{})}Un(a,c,f),a=a[c]}return t}function rr(t,n,e){var r=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Co(i);++r<i;)o[r]=t[r+n];return o}function ir(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=_t){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!io(u)&&(e?u<=n:u<n)?r=o+1:i=o}return i}return or(t,n,wo,e)}function or(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,u=n!=n,a=null===n,c=io(n),f=n===D;i<o;){var s=pu((i+o)/2),l=e(t[s]),h=l!==D,p=null===l,v=l==l,d=io(l);if(u)var g=r||v;else g=f?v&&(r||h):a?v&&h&&(r||!p):c?v&&h&&!p&&(r||!d):!p&&!d&&(r?l<=n:l<n);g?i=s+1:o=s}return Ou(o,Ot)}function ur(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var u=t[e],a=n?n(u):u;if(!e||!Wi(a,c)){var c=a;o[i++]=0===u?0:u}}return o}function ar(t){return"number"==typeof t?t:io(t)?yt:+t}function cr(t){if("string"==typeof t)return t;if(Ua(t))return p(t,cr)+"";if(io(t))return Fu?Fu.call(t):"";var n=t+"";return"0"==n&&1/t==-dt?"-0":n}function fr(t,n,e){var r=-1,i=l,o=t.length,u=!0,a=[],c=a;if(e)u=!1,i=h;else if(o>=G){var f=n?null:Ku(t);if(f)return L(f);u=!1,i=k,c=new qn}else c=n?[]:a;t:for(;++r<o;){var s=t[r],p=n?n(s):s;if(s=e||0!==s?s:0,u&&p==p){for(var v=c.length;v--;)if(c[v]===p)continue t;n&&c.push(p),a.push(s)}else i(c,p,e)||(c!==a&&c.push(p),a.push(s))}return a}function sr(t,n){return null==(t=yi(t,n=yr(n,t)))||delete t[mi(ki(n))]}function lr(t,n,e,r){return er(t,n,e(ge(t,n)),r)}function hr(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?rr(t,r?0:o,r?o+1:i):rr(t,r?o+1:0,r?i:o)}function pr(t,n){var e=t;return e instanceof w&&(e=e.value()),d(n,function(t,n){return n.func.apply(n.thisArg,v([t],n.args))},e)}function vr(t,n,e){var r=t.length;if(r<2)return r?fr(t[0]):[];for(var i=-1,o=Co(r);++i<r;)for(var u=t[i],a=-1;++a<r;)a!=i&&(o[i]=Qn(o[i]||u,t[a],n,e));return fr(ie(o,1),n,e)}function dr(t,n,e){for(var r=-1,i=t.length,o=n.length,u={};++r<i;)e(u,t[r],r<o?n[r]:D);return u}function gr(t){return $i(t)?t:[]}function br(t){return"function"==typeof t?t:wo}function yr(t,n){return Ua(t)?t:hi(t,n)?[t]:oa(lo(t))}function jr(t,n,e){var r=t.length;return e=e===D?r:e,!n&&e>=r?t:rr(t,n,e)}function Or(t,n){if(n)return t.slice();var e=t.length,r=tu?tu(e):new t.constructor(e);return t.copy(r),r}function _r(t){var n=new t.constructor(t.byteLength);return new Qo(n).set(new Qo(t)),n}function mr(t,n){var e=n?_r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function wr(t,n){if(t!==n){var e=t!==D,r=null===t,i=t==t,o=io(t),u=n!==D,a=null===n,c=n==n,f=io(n);if(!a&&!f&&!o&&t>n||o&&u&&c&&!a&&!f||r&&u&&c||!e&&c||!i)return 1;if(!r&&!o&&!f&&t<n||f&&e&&i&&!r&&!o||a&&e&&i||!u&&i||!c)return-1}return 0}function xr(t,n,e,r){for(var i=-1,o=t.length,u=e.length,a=-1,c=n.length,f=ju(o-u,0),s=Co(c+f),l=!r;++a<c;)s[a]=n[a];for(;++i<u;)(l||i<o)&&(s[e[i]]=t[i]);for(;f--;)s[a++]=t[i++];return s}function Er(t,n,e,r){for(var i=-1,o=t.length,u=-1,a=e.length,c=-1,f=n.length,s=ju(o-a,0),l=Co(s+f),h=!r;++i<s;)l[i]=t[i];for(var p=i;++c<f;)l[p+c]=n[c];for(;++u<a;)(h||i<o)&&(l[p+e[u]]=t[i++]);return l}function Mr(t,n){var e=-1,r=t.length;for(n||(n=Co(r));++e<r;)n[e]=t[e];return n}function Tr(t,n,e,r){var i=!e;e||(e={});for(var o=-1,u=n.length;++o<u;){var a=n[o],c=r?r(e[a],t[a],a,e,t):D;c===D&&(c=t[a]),i?Yn(e,a,c):Un(e,a,c)}return e}function Sr(t,n){return function(e,r){var i=Ua(e)?function(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];n(r,u,e(u),t)}return r}:function(t,n,e,r){return Gu(t,function(t,i,o){n(r,t,e(t),o)}),r},o=n?n():{};return i(e,t,ri(r,2),o)}}function kr(t){return nr(function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:D,u=i>2?e[2]:D;for(o=t.length>3&&"function"==typeof o?(i--,o):D,u&&li(e[0],e[1],u)&&(o=i<3?D:o,i=1),n=Ao(n);++r<i;){var a=e[r];a&&t(n,a,r,o)}return n})}function Cr(t,n){return function(e,r){if(null==e)return e;if(!Yi(e))return t(e,r);for(var i=e.length,o=n?i:-1,u=Ao(e);(n?o--:++o<i)&&!1!==r(u[o],o,u););return e}}function Pr(t){return function(n,e,r){for(var i=-1,o=Ao(n),u=r(n),a=u.length;a--;){var c=u[t?a:++i];if(!1===e(o[c],c,o))break}return n}}function Nr(t){return function(n){var e=R(n=lo(n))?F(n):D,r=e?e[0]:n.charAt(0),i=e?jr(e,1).join(""):n.slice(1);return r[t]()+i}}function Rr(t){return function(n){return d(_o(Oo(n).replace(ee,"")),t,"")}}function Br(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Du(t.prototype),r=t.apply(e,n);return Qi(r)?r:e}}function Ar(t){return function(n,e,r){var i=Ao(n);if(!Yi(n)){var o=ri(e,3);n=vo(n),e=function(t){return o(i[t],t,i)}}var u=t(n,e,r);return u>-1?i[o?n[u]:u]:D}}function Ir(t){return Zr(function(n){var e=n.length,r=e,o=i.prototype.thru;for(t&&n.reverse();r--;){var u=n[r];if("function"!=typeof u)throw new zo(U);if(o&&!a&&"wrapper"==ni(u))var a=new i([],!0)}for(r=a?r:e;++r<e;){var c=ni(u=n[r]),f="wrapper"==c?Xu(u):D;a=f&&pi(f[0])&&f[1]==(ut|et|it|at)&&!f[4].length&&1==f[9]?a[ni(f[0])].apply(a,f[3]):1==u.length&&pi(u)?a[c]():a.thru(u)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Ua(r))return a.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}})}function Lr(t,n,e,r,i,o,u,a,c,f){var l=n&ut,h=n&Q,p=n&tt,v=n&(et|rt),d=n&ct,g=p?D:Br(t);return function s(){for(var b=arguments.length,y=Co(b),j=b;j--;)y[j]=arguments[j];if(v)var O=ei(s),_=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}(y,O);if(r&&(y=xr(y,r,i,v)),o&&(y=Er(y,o,u,v)),b-=_,v&&b<f){var m=I(y,O);return Ur(t,n,Lr,s.placeholder,e,y,m,a,c,f-b)}var w=h?e:this,x=p?w[t]:t;return b=y.length,a?y=function(t,n){for(var e=t.length,r=Ou(n.length,e),i=Mr(t);r--;){var o=n[r];t[r]=si(o,e)?i[o]:D}return t}(y,a):d&&b>1&&y.reverse(),l&&c<b&&(y.length=c),this&&this!==be&&this instanceof s&&(x=g||Br(x)),x.apply(w,y)}}function zr(t,n){return function(e,r){return function(t,n,e,r){return ue(t,function(t,i,o){n(r,e(t),i,o)}),r}(e,t,n(r),{})}}function qr(t,n){return function(e,r){var i;if(e===D&&r===D)return n;if(e!==D&&(i=e),r!==D){if(i===D)return r;"string"==typeof e||"string"==typeof r?(e=cr(e),r=cr(r)):(e=ar(e),r=ar(r)),i=t(e,r)}return i}}function Fr(t){return Zr(function(n){return n=p(n,T(ri())),nr(function(e){var r=this;return t(n,function(t){return a(t,r,e)})})})}function Dr(t,n){var e=(n=n===D?" ":cr(n)).length;if(e<2)return e?tr(n,t):n;var r=tr(n,hu(t/q(n)));return R(n)?jr(F(r),0,t).join(""):r.slice(0,t)}function Gr(t){return function(n,e,r){return r&&"number"!=typeof r&&li(n,e,r)&&(e=r=D),n=uo(n),e===D?(e=n,n=0):e=uo(e),function(t,n,e,r){for(var i=-1,o=ju(hu((n-t)/(e||1)),0),u=Co(o);o--;)u[r?o:++i]=t,t+=e;return u}(n,e,r=r===D?n<e?1:-1:uo(r),t)}}function Hr(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=fo(n),e=fo(e)),t(n,e)}}function Ur(t,n,e,r,i,o,u,a,c,f){var s=n&et;n|=s?it:ot,(n&=~(s?ot:it))&nt||(n&=~(Q|tt));var l=[t,n,i,s?o:D,s?u:D,s?D:o,s?D:u,a,c,f],h=e.apply(D,l);return pi(t)&&ea(h,l),h.placeholder=r,ji(h,t,n)}function Vr(t){var n=Bo[t];return function(t,e){if(t=fo(t),e=null==e?0:Ou(ao(e),292)){var r=(lo(t)+"e").split("e");return+((r=(lo(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}function Wr(t){return function(n){var e=ta(n);return e==Nt?B(n):e==zt?function(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=[t,t]}),e}(n):function(t,n){return p(n,function(n){return[n,t[n]]})}(n,t(n))}}function Yr(t,n,e,r,i,o,u,c){var f=n&tt;if(!f&&"function"!=typeof t)throw new zo(U);var s=r?r.length:0;if(s||(n&=~(it|ot),r=i=D),u=u===D?u:ju(ao(u),0),c=c===D?c:ao(c),s-=i?i.length:0,n&ot){var l=r,h=i;r=i=D}var p=f?D:Xu(t),v=[t,n,e,r,i,l,h,o,u,c];if(p&&function(t,n){var e=t[1],r=n[1],i=e|r;if(!(i<(Q|tt|ut)||r==ut&&e==et||r==ut&&e==at&&t[7].length<=n[8]||r==(ut|at)&&n[7].length<=n[8]&&e==et))return t;r&Q&&(t[2]=n[2],i|=e&Q?0:nt);var a=n[3];if(a){var c=t[3];t[3]=c?xr(c,a,n[4]):a,t[4]=c?I(t[3],Y):n[4]}(a=n[5])&&(t[5]=(c=t[5])?Er(c,a,n[6]):a,t[6]=c?I(t[5],Y):n[6]),(a=n[7])&&(t[7]=a),r&ut&&(t[8]=null==t[8]?n[8]:Ou(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(v,p),t=v[0],n=v[1],e=v[2],r=v[3],i=v[4],!(c=v[9]=v[9]===D?f?0:t.length:ju(v[9]-s,0))&&n&(et|rt)&&(n&=~(et|rt)),n&&n!=Q)d=n==et||n==rt?function(t,n,e){var i=Br(t);return function r(){for(var o=arguments.length,u=Co(o),c=o,f=ei(r);c--;)u[c]=arguments[c];var s=o<3&&u[0]!==f&&u[o-1]!==f?[]:I(u,f);return(o-=s.length)<e?Ur(t,n,Lr,r.placeholder,D,u,s,D,D,e-o):a(this&&this!==be&&this instanceof r?i:t,this,u)}}(t,n,c):n!=it&&n!=(Q|it)||i.length?Lr.apply(D,v):function(t,n,e,r){var o=n&Q,u=Br(t);return function i(){for(var n=-1,c=arguments.length,f=-1,s=r.length,l=Co(s+c),h=this&&this!==be&&this instanceof i?u:t;++f<s;)l[f]=r[f];for(;c--;)l[f++]=arguments[++n];return a(h,o?e:this,l)}}(t,n,e,r);else var d=function(t,n,e){var i=n&Q,o=Br(t);return function r(){return(this&&this!==be&&this instanceof r?o:t).apply(i?e:this,arguments)}}(t,n,e);return ji((p?Wu:ea)(d,v),t,n)}function $r(t,n,e,r){return t===D||Wi(t,Do[e])&&!Uo.call(r,e)?n:t}function Jr(t,n,e,r,i,o){return Qi(t)&&Qi(n)&&(o.set(n,t),Ye(t,n,D,Jr,o),o.delete(n)),t}function Kr(t){return eo(t)?D:t}function Xr(t,n,e,r,i,o){var u=e&X,a=t.length,c=n.length;if(a!=c&&!(u&&c>a))return!1;var f=o.get(t);if(f&&o.get(n))return f==n;var s=-1,l=!0,h=e&Z?new qn:D;for(o.set(t,n),o.set(n,t);++s<a;){var p=t[s],v=n[s];if(r)var d=u?r(v,p,s,n,t,o):r(p,v,s,t,n,o);if(d!==D){if(d)continue;l=!1;break}if(h){if(!g(n,function(t,n){if(!k(h,n)&&(p===t||i(p,t,e,r,o)))return h.push(n)})){l=!1;break}}else if(p!==v&&!i(p,v,e,r,o)){l=!1;break}}return o.delete(t),o.delete(n),l}function Zr(t){return ia(bi(t,D,Ti),t+"")}function Qr(t){return ye(t,vo,Zu)}function ti(t){return ye(t,go,Qu)}function ni(t){for(var n=t.name+"",e=Nu[n],r=Uo.call(Nu,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function ei(t){return(Uo.call(e,"placeholder")?e:t).placeholder}function ri(){var t=e.iteratee||xo;return t=t===xo?Fe:t,arguments.length?t(arguments[0],arguments[1]):t}function ii(t,n){var e=t.__data__;return function(t){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}()?e["string"==typeof n?"string":"hash"]:e.map}function oi(t){for(var n=vo(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,di(i)]}return n}function ui(t,n){var e=function(t,n){return null==t?D:t[n]}(t,n);return qe(e)?e:D}function ai(t,n,e){for(var r=-1,i=(n=yr(n,t)).length,o=!1;++r<i;){var u=mi(n[r]);if(!(o=null!=t&&e(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Zi(i)&&si(u,i)&&(Ua(t)||Ha(t))}function ci(t){return"function"!=typeof t.constructor||vi(t)?{}:Du(nu(t))}function fi(t){return Ua(t)||Ha(t)||!!(ou&&t&&t[ou])}function si(t,n){return!!(n=null==n?gt:n)&&("number"==typeof t||Nn.test(t))&&t>-1&&t%1==0&&t<n}function li(t,n,e){if(!Qi(e))return!1;var r=typeof n;return!!("number"==r?Yi(e)&&si(n,e.length):"string"==r&&n in e)&&Wi(e[n],t)}function hi(t,n){if(Ua(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!io(t))||pn.test(t)||!hn.test(t)||null!=n&&t in Ao(n)}function pi(t){var n=ni(t),r=e[n];if("function"!=typeof r||!(n in w.prototype))return!1;if(t===r)return!0;var i=Xu(r);return!!i&&t===i[0]}function vi(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Do)}function di(t){return t==t&&!Qi(t)}function gi(t,n){return function(e){return null!=e&&e[t]===n&&(n!==D||t in Ao(e))}}function bi(t,n,e){return n=ju(n===D?t.length-1:n,0),function(){for(var r=arguments,i=-1,o=ju(r.length-n,0),u=Co(o);++i<o;)u[i]=r[n+i];i=-1;for(var c=Co(n+1);++i<n;)c[i]=r[i];return c[n]=e(u),a(t,this,c)}}function yi(t,n){return n.length<2?t:ge(t,rr(n,0,-1))}function ji(t,n,e){var r=n+"";return ia(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(_n,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return c(mt,function(e){var r="_."+e[0];n&e[1]&&!l(t,r)&&t.push(r)}),t.sort()}(function(t){var n=r.match(mn);return n?n[1].split(wn):[]}(),e)))}function Oi(t){var n=0,e=0;return function(){var r=_u(),i=ht-(r-e);if(e=r,i>0){if(++n>=lt)return arguments[0]}else n=0;return t.apply(D,arguments)}}function _i(t,n){var e=-1,r=t.length,i=r-1;for(n=n===D?r:n;++e<n;){var o=Qe(e,i),u=t[o];t[o]=t[e],t[e]=u}return t.length=n,t}function mi(t){if("string"==typeof t||io(t))return t;var n=t+"";return"0"==n&&1/t==-dt?"-0":n}function wi(t){if(null!=t){try{return Ho.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function xi(t){if(t instanceof w)return t.clone();var n=new i(t.__wrapped__,t.__chain__);return n.__actions__=Mr(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Ei(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ao(e);return i<0&&(i=ju(r+i,0)),y(t,ri(n,3),i)}function Mi(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return e!==D&&(i=ao(e),i=e<0?ju(r+i,0):Ou(i,r-1)),y(t,ri(n,3),i,!0)}function Ti(t){return null!=t&&t.length?ie(t,1):[]}function Si(t){return t&&t.length?t[0]:D}function ki(t){var n=null==t?0:t.length;return n?t[n-1]:D}function Ci(t,n){return t&&t.length&&n&&n.length?Xe(t,n):t}function Pi(t){return null==t?t:xu.call(t)}function Ni(t){if(!t||!t.length)return[];var n=0;return t=s(t,function(t){if($i(t))return n=ju(t.length,n),!0}),M(n,function(n){return p(t,m(n))})}function Ri(t,n){if(!t||!t.length)return[];var e=Ni(t);return null==n?e:p(e,function(t){return a(n,D,t)})}function Bi(t){var n=e(t);return n.__chain__=!0,n}function Ai(t,n){return n(t)}function Ii(t,n){return(Ua(t)?c:Gu)(t,ri(n,3))}function Li(t,n){return(Ua(t)?function(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}:Hu)(t,ri(n,3))}function zi(t,n){return(Ua(t)?p:Ue)(t,ri(n,3))}function qi(t,n,e){return n=e?D:n,Yr(t,ut,D,D,D,D,n=t&&null==n?t.length:n)}function Fi(t,n){var e;if("function"!=typeof n)throw new zo(U);return t=ao(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=D),e}}function Hi(t,n,e){function r(n){var e=c,r=f;return c=f=D,v=n,l=t.apply(r,e)}function i(t){var e=t-p;return p===D||e>=n||e<0||g&&t-v>=s}function o(){var t=Na();if(i(t))return u(t);h=ra(o,function(t){var e=n-(t-p);return g?Ou(e,s-(t-v)):e}(t))}function u(t){return h=D,b&&c?r(t):(c=f=D,l)}function a(){var t=Na(),e=i(t);if(c=arguments,f=this,p=t,e){if(h===D)return function(t){return v=t,h=ra(o,n),d?r(t):l}(p);if(g)return h=ra(o,n),r(p)}return h===D&&(h=ra(o,n)),l}var c,f,s,l,h,p,v=0,d=!1,g=!1,b=!0;if("function"!=typeof t)throw new zo(U);return n=fo(n)||0,Qi(e)&&(d=!!e.leading,s=(g="maxWait"in e)?ju(fo(e.maxWait)||0,n):s,b="trailing"in e?!!e.trailing:b),a.cancel=function(){h!==D&&Ju(h),v=0,c=p=f=h=D},a.flush=function(){return h===D?l:u(Na())},a}function Ui(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new zo(U);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return e.cache=o.set(i,u)||o,u};return e.cache=new(Ui.Cache||zn),e}function Vi(t){if("function"!=typeof t)throw new zo(U);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function Wi(t,n){return t===n||t!=t&&n!=n}function Yi(t){return null!=t&&Zi(t.length)&&!Ki(t)}function $i(t){return to(t)&&Yi(t)}function Ji(t){if(!to(t))return!1;var n=je(t);return n==kt||n==St||"string"==typeof t.message&&"string"==typeof t.name&&!eo(t)}function Ki(t){if(!Qi(t))return!1;var n=je(t);return n==Ct||n==Pt||n==Et||n==It}function Xi(t){return"number"==typeof t&&t==ao(t)}function Zi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=gt}function Qi(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function to(t){return null!=t&&"object"==typeof t}function no(t){return"number"==typeof t||to(t)&&je(t)==Rt}function eo(t){if(!to(t)||je(t)!=At)return!1;var n=nu(t);if(null===n)return!0;var e=Uo.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Ho.call(e)==$o}function ro(t){return"string"==typeof t||!Ua(t)&&to(t)&&je(t)==qt}function io(t){return"symbol"==typeof t||to(t)&&je(t)==Ft}function oo(t){if(!t)return[];if(Yi(t))return ro(t)?F(t):Mr(t);if(uu&&t[uu])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[uu]());var n=ta(t);return(n==Nt?B:n==zt?L:yo)(t)}function uo(t){return t?(t=fo(t))===dt||t===-dt?(t<0?-1:1)*bt:t==t?t:0:0===t?t:0}function ao(t){var n=uo(t),e=n%1;return n==n?e?n-e:n:0}function co(t){return t?Jn(ao(t),0,jt):0}function fo(t){if("number"==typeof t)return t;if(io(t))return yt;if(Qi(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Qi(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(yn,"");var e=kn.test(t);return e||Pn.test(t)?ve(t.slice(2),e?2:8):Sn.test(t)?yt:+t}function so(t){return Tr(t,go(t))}function lo(t){return null==t?"":cr(t)}function ho(t,n,e){var r=null==t?D:ge(t,n);return r===D?e:r}function po(t,n){return null!=t&&ai(t,n,ke)}function vo(t){return Yi(t)?Dn(t):De(t)}function go(t){return Yi(t)?Dn(t,!0):function(t){if(!Qi(t))return function(t){var n=[];if(null!=t)for(var e in Ao(t))n.push(e);return n}(t);var n=vi(t),e=[];for(var r in t)("constructor"!=r||!n&&Uo.call(t,r))&&e.push(r);return e}(t)}function bo(t,n){if(null==t)return{};var e=p(ti(t),function(t){return[t]});return n=ri(n),Ke(t,e,function(t,e){return n(t,e[0])})}function yo(t){return null==t?[]:S(t,vo(t))}function jo(t){return wc(lo(t).toLowerCase())}function Oo(t){return(t=lo(t))&&t.replace(Rn,Ce).replace(re,"")}function _o(t,n,e){return t=lo(t),(n=e?D:n)===D?function(t){return ae.test(t)}(t)?function(t){return t.match(oe)||[]}(t):function(t){return t.match(xn)||[]}(t):t.match(n)||[]}function mo(t){return function(){return t}}function wo(t){return t}function xo(t){return Fe("function"==typeof t?t:Kn(t,$))}function Eo(t,n,e){var r=vo(n),i=de(n,r);null!=e||Qi(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=de(n,vo(n)));var o=!(Qi(e)&&"chain"in e&&!e.chain),u=Ki(t);return c(i,function(e){var r=n[e];t[e]=r,u&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__);return(e.__actions__=Mr(this.__actions__)).push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,v([this.value()],arguments))})}),t}function Mo(){}function To(t){return hi(t)?m(mi(t)):function(t){return function(n){return ge(n,t)}}(t)}function So(){return[]}function ko(){return!1}var Co=(n=null==n?be:Re.defaults(be.Object(),n,Re.pick(be,ce))).Array,Po=n.Date,No=n.Error,Ro=n.Function,Bo=n.Math,Ao=n.Object,Io=n.RegExp,Lo=n.String,zo=n.TypeError,qo=Co.prototype,Do=Ao.prototype,Go=n["__core-js_shared__"],Ho=Ro.prototype.toString,Uo=Do.hasOwnProperty,Vo=0,Wo=function(){var t=/[^.]+$/.exec(Go&&Go.keys&&Go.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Yo=Do.toString,$o=Ho.call(Ao),Jo=be._,Ko=Io("^"+Ho.call(Uo).replace(gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xo=Oe?n.Buffer:D,Zo=n.Symbol,Qo=n.Uint8Array,tu=Xo?Xo.allocUnsafe:D,nu=A(Ao.getPrototypeOf,Ao),eu=Ao.create,ru=Do.propertyIsEnumerable,iu=qo.splice,ou=Zo?Zo.isConcatSpreadable:D,uu=Zo?Zo.iterator:D,au=Zo?Zo.toStringTag:D,cu=function(){try{var t=ui(Ao,"defineProperty");return t({},"",{}),t}catch(t){}}(),fu=n.clearTimeout!==be.clearTimeout&&n.clearTimeout,su=Po&&Po.now!==be.Date.now&&Po.now,lu=n.setTimeout!==be.setTimeout&&n.setTimeout,hu=Bo.ceil,pu=Bo.floor,vu=Ao.getOwnPropertySymbols,du=Xo?Xo.isBuffer:D,gu=n.isFinite,bu=qo.join,yu=A(Ao.keys,Ao),ju=Bo.max,Ou=Bo.min,_u=Po.now,mu=n.parseInt,wu=Bo.random,xu=qo.reverse,Eu=ui(n,"DataView"),Mu=ui(n,"Map"),Tu=ui(n,"Promise"),Su=ui(n,"Set"),ku=ui(n,"WeakMap"),Cu=ui(Ao,"create"),Pu=ku&&new ku,Nu={},Ru=wi(Eu),Bu=wi(Mu),Au=wi(Tu),Iu=wi(Su),Lu=wi(ku),zu=Zo?Zo.prototype:D,qu=zu?zu.valueOf:D,Fu=zu?zu.toString:D,Du=function(){function t(){}return function(n){if(!Qi(n))return{};if(eu)return eu(n);t.prototype=n;var e=new t;return t.prototype=D,e}}();e.templateSettings={escape:fn,evaluate:sn,interpolate:ln,variable:"",imports:{_:e}},(e.prototype=r.prototype).constructor=e,(i.prototype=Du(r.prototype)).constructor=i,(w.prototype=Du(r.prototype)).constructor=w,In.prototype.clear=function(){this.__data__=Cu?Cu(null):{},this.size=0},In.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},In.prototype.get=function(t){var n=this.__data__;if(Cu){var e=n[t];return e===V?D:e}return Uo.call(n,t)?n[t]:D},In.prototype.has=function(t){var n=this.__data__;return Cu?n[t]!==D:Uo.call(n,t)},In.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Cu&&n===D?V:n,this},Ln.prototype.clear=function(){this.__data__=[],this.size=0},Ln.prototype.delete=function(t){var n=this.__data__,e=Vn(n,t);return!(e<0||(e==n.length-1?n.pop():iu.call(n,e,1),--this.size,0))},Ln.prototype.get=function(t){var n=this.__data__,e=Vn(n,t);return e<0?D:n[e][1]},Ln.prototype.has=function(t){return Vn(this.__data__,t)>-1},Ln.prototype.set=function(t,n){var e=this.__data__,r=Vn(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new In,map:new(Mu||Ln),string:new In}},zn.prototype.delete=function(t){var n=ii(this,t).delete(t);return this.size-=n?1:0,n},zn.prototype.get=function(t){return ii(this,t).get(t)},zn.prototype.has=function(t){return ii(this,t).has(t)},zn.prototype.set=function(t,n){var e=ii(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(t){return this.__data__.set(t,V),this},qn.prototype.has=function(t){return this.__data__.has(t)},Fn.prototype.clear=function(){this.__data__=new Ln,this.size=0},Fn.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Fn.prototype.get=function(t){return this.__data__.get(t)},Fn.prototype.has=function(t){return this.__data__.has(t)},Fn.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ln){var r=e.__data__;if(!Mu||r.length<G-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new zn(r)}return e.set(t,n),this.size=e.size,this};var Gu=Cr(ue),Hu=Cr(he,!0),Uu=Pr(),Vu=Pr(!0),Wu=Pu?function(t,n){return Pu.set(t,n),t}:wo,Yu=cu?function(t,n){return cu(t,"toString",{configurable:!0,enumerable:!1,value:mo(n),writable:!0})}:wo,$u=nr,Ju=fu||function(t){return be.clearTimeout(t)},Ku=Su&&1/L(new Su([,-0]))[1]==dt?function(t){return new Su(t)}:Mo,Xu=Pu?function(t){return Pu.get(t)}:Mo,Zu=vu?function(t){return null==t?[]:(t=Ao(t),s(vu(t),function(n){return ru.call(t,n)}))}:So,Qu=vu?function(t){for(var n=[];t;)v(n,Zu(t)),t=nu(t);return n}:So,ta=je;(Eu&&ta(new Eu(new ArrayBuffer(1)))!=Vt||Mu&&ta(new Mu)!=Nt||Tu&&"[object Promise]"!=ta(Tu.resolve())||Su&&ta(new Su)!=zt||ku&&ta(new ku)!=Gt)&&(ta=function(t){var n=je(t),e=n==At?t.constructor:D,r=e?wi(e):"";if(r)switch(r){case Ru:return Vt;case Bu:return Nt;case Au:return"[object Promise]";case Iu:return zt;case Lu:return Gt}return n});var na=Go?Ki:ko,ea=Oi(Wu),ra=lu||function(t,n){return be.setTimeout(t,n)},ia=Oi(Yu),oa=function(t){var n=Ui(function(t){var n=[];return vn.test(t)&&n.push(""),t.replace(dn,function(t,e,r,i){n.push(r?i.replace(En,"$1"):e||t)}),n},function(t){return 500===e.size&&e.clear(),t}),e=n.cache;return n}(),ua=nr(function(t,n){return $i(t)?Qn(t,ie(n,1,$i,!0)):[]}),aa=nr(function(t,n){var e=ki(n);return $i(e)&&(e=D),$i(t)?Qn(t,ie(n,1,$i,!0),ri(e,2)):[]}),ca=nr(function(t,n){var e=ki(n);return $i(e)&&(e=D),$i(t)?Qn(t,ie(n,1,$i,!0),D,e):[]}),fa=nr(function(t){var n=p(t,gr);return n.length&&n[0]===t[0]?Be(n):[]}),sa=nr(function(t){var n=ki(t),e=p(t,gr);return n===ki(e)?n=D:e.pop(),e.length&&e[0]===t[0]?Be(e,ri(n,2)):[]}),la=nr(function(t){var n=ki(t),e=p(t,gr);return(n="function"==typeof n?n:D)&&e.pop(),e.length&&e[0]===t[0]?Be(e,D,n):[]}),ha=nr(Ci),pa=Zr(function(t,n){var e=null==t?0:t.length,r=$n(t,n);return Ze(t,p(n,function(t){return si(t,e)?+t:t}).sort(wr)),r}),va=nr(function(t){return fr(ie(t,1,$i,!0))}),da=nr(function(t){var n=ki(t);return $i(n)&&(n=D),fr(ie(t,1,$i,!0),ri(n,2))}),ga=nr(function(t){var n=ki(t);return n="function"==typeof n?n:D,fr(ie(t,1,$i,!0),D,n)}),ba=nr(function(t,n){return $i(t)?Qn(t,n):[]}),ya=nr(function(t){return vr(s(t,$i))}),ja=nr(function(t){var n=ki(t);return $i(n)&&(n=D),vr(s(t,$i),ri(n,2))}),Oa=nr(function(t){var n=ki(t);return n="function"==typeof n?n:D,vr(s(t,$i),D,n)}),_a=nr(Ni),ma=nr(function(t){var n=t.length,e=n>1?t[n-1]:D;return e="function"==typeof e?(t.pop(),e):D,Ri(t,e)}),wa=Zr(function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,o=function(n){return $n(n,t)};return!(n>1||this.__actions__.length)&&r instanceof w&&si(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:Ai,args:[o],thisArg:D}),new i(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(D),t})):this.thru(o)}),xa=Sr(function(t,n,e){Uo.call(t,e)?++t[e]:Yn(t,e,1)}),Ea=Ar(Ei),Ma=Ar(Mi),Ta=Sr(function(t,n,e){Uo.call(t,e)?t[e].push(n):Yn(t,e,[n])}),Sa=nr(function(t,n,e){var r=-1,i="function"==typeof n,o=Yi(t)?Co(t.length):[];return Gu(t,function(t){o[++r]=i?a(n,t,e):Ae(t,n,e)}),o}),ka=Sr(function(t,n,e){Yn(t,e,n)}),Ca=Sr(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),Pa=nr(function(t,n){if(null==t)return[];var e=n.length;return e>1&&li(t,n[0],n[1])?n=[]:e>2&&li(n[0],n[1],n[2])&&(n=[n[0]]),Je(t,ie(n,1),[])}),Na=su||function(){return be.Date.now()},Ra=nr(function(t,n,e){var r=Q;if(e.length){var i=I(e,ei(Ra));r|=it}return Yr(t,r,n,e,i)}),Ba=nr(function(t,n,e){var r=Q|tt;if(e.length){var i=I(e,ei(Ba));r|=it}return Yr(n,r,t,e,i)}),Aa=nr(function(t,n){return Zn(t,1,n)}),Ia=nr(function(t,n,e){return Zn(t,fo(n)||0,e)});Ui.Cache=zn;var La=$u(function(t,n){var e=(n=1==n.length&&Ua(n[0])?p(n[0],T(ri())):p(ie(n,1),T(ri()))).length;return nr(function(r){for(var i=-1,o=Ou(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return a(t,this,r)})}),za=nr(function(t,n){var e=I(n,ei(za));return Yr(t,it,D,n,e)}),qa=nr(function(t,n){var e=I(n,ei(qa));return Yr(t,ot,D,n,e)}),Fa=Zr(function(t,n){return Yr(t,at,D,D,D,n)}),Da=Hr(_e),Ga=Hr(function(t,n){return t>=n}),Ha=Ie(function(){return arguments}())?Ie:function(t){return to(t)&&Uo.call(t,"callee")&&!ru.call(t,"callee")},Ua=Co.isArray,Va=we?T(we):function(t){return to(t)&&je(t)==Ut},Wa=du||ko,Ya=xe?T(xe):function(t){return to(t)&&je(t)==Tt},$a=Ee?T(Ee):function(t){return to(t)&&ta(t)==Nt},Ja=Me?T(Me):function(t){return to(t)&&je(t)==Lt},Ka=Te?T(Te):function(t){return to(t)&&ta(t)==zt},Xa=Se?T(Se):function(t){return to(t)&&Zi(t.length)&&!!se[je(t)]},Za=Hr(He),Qa=Hr(function(t,n){return t<=n}),tc=kr(function(t,n){if(vi(n)||Yi(n))Tr(n,vo(n),t);else for(var e in n)Uo.call(n,e)&&Un(t,e,n[e])}),nc=kr(function(t,n){Tr(n,go(n),t)}),ec=kr(function(t,n,e,r){Tr(n,go(n),t,r)}),rc=kr(function(t,n,e,r){Tr(n,vo(n),t,r)}),ic=Zr($n),oc=nr(function(t){return t.push(D,$r),a(ec,D,t)}),uc=nr(function(t){return t.push(D,Jr),a(lc,D,t)}),ac=zr(function(t,n,e){t[n]=e},mo(wo)),cc=zr(function(t,n,e){Uo.call(t,n)?t[n].push(e):t[n]=[e]},ri),fc=nr(Ae),sc=kr(function(t,n,e){Ye(t,n,e)}),lc=kr(function(t,n,e,r){Ye(t,n,e,r)}),hc=Zr(function(t,n){var e={};if(null==t)return e;var r=!1;n=p(n,function(n){return n=yr(n,t),r||(r=n.length>1),n}),Tr(t,ti(t),e),r&&(e=Kn(e,$|J|K,Kr));for(var i=n.length;i--;)sr(e,n[i]);return e}),pc=Zr(function(t,n){return null==t?{}:function(t,n){return Ke(t,n,function(n,e){return po(t,e)})}(t,n)}),vc=Wr(vo),dc=Wr(go),gc=Rr(function(t,n,e){return n=n.toLowerCase(),t+(e?jo(n):n)}),bc=Rr(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),yc=Rr(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),jc=Nr("toLowerCase"),Oc=Rr(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),_c=Rr(function(t,n,e){return t+(e?" ":"")+wc(n)}),mc=Rr(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),wc=Nr("toUpperCase"),xc=nr(function(t,n){try{return a(t,D,n)}catch(t){return Ji(t)?t:new No(t)}}),Ec=Zr(function(t,n){return c(n,function(n){n=mi(n),Yn(t,n,Ra(t[n],t))}),t}),Mc=Ir(),Tc=Ir(!0),Sc=nr(function(t,n){return function(e){return Ae(e,t,n)}}),kc=nr(function(t,n){return function(e){return Ae(t,e,n)}}),Cc=Fr(p),Pc=Fr(f),Nc=Fr(g),Rc=Gr(),Bc=Gr(!0),Ac=qr(function(t,n){return t+n},0),Ic=Vr("ceil"),Lc=qr(function(t,n){return t/n},1),zc=Vr("floor"),qc=qr(function(t,n){return t*n},1),Fc=Vr("round"),Dc=qr(function(t,n){return t-n},0);return e.after=function(t,n){if("function"!=typeof n)throw new zo(U);return t=ao(t),function(){if(--t<1)return n.apply(this,arguments)}},e.ary=qi,e.assign=tc,e.assignIn=nc,e.assignInWith=ec,e.assignWith=rc,e.at=ic,e.before=Fi,e.bind=Ra,e.bindAll=Ec,e.bindKey=Ba,e.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ua(t)?t:[t]},e.chain=Bi,e.chunk=function(t,n,e){n=(e?li(t,n,e):n===D)?1:ju(ao(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var i=0,o=0,u=Co(hu(r/n));i<r;)u[o++]=rr(t,i,i+=n);return u},e.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},e.concat=function(){var t=arguments.length;if(!t)return[];for(var n=Co(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return v(Ua(e)?Mr(e):[e],ie(n,1))},e.cond=function(t){var n=null==t?0:t.length,e=ri();return t=n?p(t,function(t){if("function"!=typeof t[1])throw new zo(U);return[e(t[0]),t[1]]}):[],nr(function(e){for(var r=-1;++r<n;){var i=t[r];if(a(i[0],this,e))return a(i[1],this,e)}})},e.conforms=function(t){return function(t){var n=vo(t);return function(e){return Xn(e,t,n)}}(Kn(t,$))},e.constant=mo,e.countBy=xa,e.create=function(t,n){var e=Du(t);return null==n?e:Wn(e,n)},e.curry=function Di(t,n,e){var r=Yr(t,et,D,D,D,D,D,n=e?D:n);return r.placeholder=Di.placeholder,r},e.curryRight=function Gi(t,n,e){var r=Yr(t,rt,D,D,D,D,D,n=e?D:n);return r.placeholder=Gi.placeholder,r},e.debounce=Hi,e.defaults=oc,e.defaultsDeep=uc,e.defer=Aa,e.delay=Ia,e.difference=ua,e.differenceBy=aa,e.differenceWith=ca,e.drop=function(t,n,e){var r=null==t?0:t.length;return r?rr(t,(n=e||n===D?1:ao(n))<0?0:n,r):[]},e.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?rr(t,0,(n=r-(n=e||n===D?1:ao(n)))<0?0:n):[]},e.dropRightWhile=function(t,n){return t&&t.length?hr(t,ri(n,3),!0,!0):[]},e.dropWhile=function(t,n){return t&&t.length?hr(t,ri(n,3),!0):[]},e.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&li(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=ao(e))<0&&(e=-e>i?0:i+e),(r=r===D||r>i?i:ao(r))<0&&(r+=i),r=e>r?0:co(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},e.filter=function(t,n){return(Ua(t)?s:ne)(t,ri(n,3))},e.flatMap=function(t,n){return ie(zi(t,n),1)},e.flatMapDeep=function(t,n){return ie(zi(t,n),dt)},e.flatMapDepth=function(t,n,e){return e=e===D?1:ao(e),ie(zi(t,n),e)},e.flatten=Ti,e.flattenDeep=function(t){return null!=t&&t.length?ie(t,dt):[]},e.flattenDepth=function(t,n){return null!=t&&t.length?ie(t,n=n===D?1:ao(n)):[]},e.flip=function(t){return Yr(t,ct)},e.flow=Mc,e.flowRight=Tc,e.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},e.functions=function(t){return null==t?[]:de(t,vo(t))},e.functionsIn=function(t){return null==t?[]:de(t,go(t))},e.groupBy=Ta,e.initial=function(t){return null!=t&&t.length?rr(t,0,-1):[]},e.intersection=fa,e.intersectionBy=sa,e.intersectionWith=la,e.invert=ac,e.invertBy=cc,e.invokeMap=Sa,e.iteratee=xo,e.keyBy=ka,e.keys=vo,e.keysIn=go,e.map=zi,e.mapKeys=function(t,n){var e={};return n=ri(n,3),ue(t,function(t,r,i){Yn(e,n(t,r,i),t)}),e},e.mapValues=function(t,n){var e={};return n=ri(n,3),ue(t,function(t,r,i){Yn(e,r,n(t,r,i))}),e},e.matches=function(t){return Ve(Kn(t,$))},e.matchesProperty=function(t,n){return We(t,Kn(n,$))},e.memoize=Ui,e.merge=sc,e.mergeWith=lc,e.method=Sc,e.methodOf=kc,e.mixin=Eo,e.negate=Vi,e.nthArg=function(t){return t=ao(t),nr(function(n){return $e(n,t)})},e.omit=hc,e.omitBy=function(t,n){return bo(t,Vi(ri(n)))},e.once=function(t){return Fi(2,t)},e.orderBy=function(t,n,e,r){return null==t?[]:(Ua(n)||(n=null==n?[]:[n]),Ua(e=r?D:e)||(e=null==e?[]:[e]),Je(t,n,e))},e.over=Cc,e.overArgs=La,e.overEvery=Pc,e.overSome=Nc,e.partial=za,e.partialRight=qa,e.partition=Ca,e.pick=pc,e.pickBy=bo,e.property=To,e.propertyOf=function(t){return function(n){return null==t?D:ge(t,n)}},e.pull=ha,e.pullAll=Ci,e.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Xe(t,n,ri(e,2)):t},e.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?Xe(t,n,D,e):t},e.pullAt=pa,e.range=Rc,e.rangeRight=Bc,e.rearg=Fa,e.reject=function(t,n){return(Ua(t)?s:ne)(t,Vi(ri(n,3)))},e.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=ri(n,3);++r<o;){var u=t[r];n(u,r,t)&&(e.push(u),i.push(r))}return Ze(t,i),e},e.rest=function(t,n){if("function"!=typeof t)throw new zo(U);return nr(t,n=n===D?n:ao(n))},e.reverse=Pi,e.sampleSize=function(t,n,e){return n=(e?li(t,n,e):n===D)?1:ao(n),(Ua(t)?function(t,n){return _i(Mr(t),Jn(n,0,t.length))}:function(t,n){var e=yo(t);return _i(e,Jn(n,0,e.length))})(t,n)},e.set=function(t,n,e){return null==t?t:er(t,n,e)},e.setWith=function(t,n,e,r){return r="function"==typeof r?r:D,null==t?t:er(t,n,e,r)},e.shuffle=function(t){return(Ua(t)?function(t){return _i(Mr(t))}:function(t){return _i(yo(t))})(t)},e.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&li(t,n,e)?(n=0,e=r):(n=null==n?0:ao(n),e=e===D?r:ao(e)),rr(t,n,e)):[]},e.sortBy=Pa,e.sortedUniq=function(t){return t&&t.length?ur(t):[]},e.sortedUniqBy=function(t,n){return t&&t.length?ur(t,ri(n,2)):[]},e.split=function(t,n,e){return e&&"number"!=typeof e&&li(t,n,e)&&(n=e=D),(e=e===D?jt:e>>>0)?(t=lo(t))&&("string"==typeof n||null!=n&&!Ja(n))&&!(n=cr(n))&&R(t)?jr(F(t),0,e):t.split(n,e):[]},e.spread=function(t,n){if("function"!=typeof t)throw new zo(U);return n=null==n?0:ju(ao(n),0),nr(function(e){var r=e[n],i=jr(e,0,n);return r&&v(i,r),a(t,this,i)})},e.tail=function(t){var n=null==t?0:t.length;return n?rr(t,1,n):[]},e.take=function(t,n,e){return t&&t.length?rr(t,0,(n=e||n===D?1:ao(n))<0?0:n):[]},e.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?rr(t,(n=r-(n=e||n===D?1:ao(n)))<0?0:n,r):[]},e.takeRightWhile=function(t,n){return t&&t.length?hr(t,ri(n,3),!1,!0):[]},e.takeWhile=function(t,n){return t&&t.length?hr(t,ri(n,3)):[]},e.tap=function(t,n){return n(t),t},e.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new zo(U);return Qi(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),Hi(t,n,{leading:r,maxWait:n,trailing:i})},e.thru=Ai,e.toArray=oo,e.toPairs=vc,e.toPairsIn=dc,e.toPath=function(t){return Ua(t)?p(t,mi):io(t)?[t]:Mr(oa(lo(t)))},e.toPlainObject=so,e.transform=function(t,n,e){var r=Ua(t),i=r||Wa(t)||Xa(t);if(n=ri(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Qi(t)&&Ki(o)?Du(nu(t)):{}}return(i?c:ue)(t,function(t,r,i){return n(e,t,r,i)}),e},e.unary=function(t){return qi(t,1)},e.union=va,e.unionBy=da,e.unionWith=ga,e.uniq=function(t){return t&&t.length?fr(t):[]},e.uniqBy=function(t,n){return t&&t.length?fr(t,ri(n,2)):[]},e.uniqWith=function(t,n){return n="function"==typeof n?n:D,t&&t.length?fr(t,D,n):[]},e.unset=function(t,n){return null==t||sr(t,n)},e.unzip=Ni,e.unzipWith=Ri,e.update=function(t,n,e){return null==t?t:lr(t,n,br(e))},e.updateWith=function(t,n,e,r){return r="function"==typeof r?r:D,null==t?t:lr(t,n,br(e),r)},e.values=yo,e.valuesIn=function(t){return null==t?[]:S(t,go(t))},e.without=ba,e.words=_o,e.wrap=function(t,n){return za(br(n),t)},e.xor=ya,e.xorBy=ja,e.xorWith=Oa,e.zip=_a,e.zipObject=function(t,n){return dr(t||[],n||[],Un)},e.zipObjectDeep=function(t,n){return dr(t||[],n||[],er)},e.zipWith=ma,e.entries=vc,e.entriesIn=dc,e.extend=nc,e.extendWith=ec,Eo(e,e),e.add=Ac,e.attempt=xc,e.camelCase=gc,e.capitalize=jo,e.ceil=Ic,e.clamp=function(t,n,e){return e===D&&(e=n,n=D),e!==D&&(e=(e=fo(e))==e?e:0),n!==D&&(n=(n=fo(n))==n?n:0),Jn(fo(t),n,e)},e.clone=function(t){return Kn(t,K)},e.cloneDeep=function(t){return Kn(t,$|K)},e.cloneDeepWith=function(t,n){return Kn(t,$|K,n="function"==typeof n?n:D)},e.cloneWith=function(t,n){return Kn(t,K,n="function"==typeof n?n:D)},e.conformsTo=function(t,n){return null==n||Xn(t,n,vo(n))},e.deburr=Oo,e.defaultTo=function(t,n){return null==t||t!=t?n:t},e.divide=Lc,e.endsWith=function(t,n,e){t=lo(t),n=cr(n);var r=t.length,i=e=e===D?r:Jn(ao(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},e.eq=Wi,e.escape=function(t){return(t=lo(t))&&cn.test(t)?t.replace(un,Pe):t},e.escapeRegExp=function(t){return(t=lo(t))&&bn.test(t)?t.replace(gn,"\\$&"):t},e.every=function(t,n,e){var r=Ua(t)?f:function(t,n){var e=!0;return Gu(t,function(t,r,i){return e=!!n(t,r,i)}),e};return e&&li(t,n,e)&&(n=D),r(t,ri(n,3))},e.find=Ea,e.findIndex=Ei,e.findKey=function(t,n){return b(t,ri(n,3),ue)},e.findLast=Ma,e.findLastIndex=Mi,e.findLastKey=function(t,n){return b(t,ri(n,3),he)},e.floor=zc,e.forEach=Ii,e.forEachRight=Li,e.forIn=function(t,n){return null==t?t:Uu(t,ri(n,3),go)},e.forInRight=function(t,n){return null==t?t:Vu(t,ri(n,3),go)},e.forOwn=function(t,n){return t&&ue(t,ri(n,3))},e.forOwnRight=function(t,n){return t&&he(t,ri(n,3))},e.get=ho,e.gt=Da,e.gte=Ga,e.has=function(t,n){return null!=t&&ai(t,n,me)},e.hasIn=po,e.head=Si,e.identity=wo,e.includes=function(t,n,e,r){t=Yi(t)?t:yo(t),e=e&&!r?ao(e):0;var i=t.length;return e<0&&(e=ju(i+e,0)),ro(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&j(t,n,e)>-1},e.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:ao(e);return i<0&&(i=ju(r+i,0)),j(t,n,i)},e.inRange=function(t,n,e){return n=uo(n),e===D?(e=n,n=0):e=uo(e),function(t,n,e){return t>=Ou(n,e)&&t<ju(n,e)}(t=fo(t),n,e)},e.invoke=fc,e.isArguments=Ha,e.isArray=Ua,e.isArrayBuffer=Va,e.isArrayLike=Yi,e.isArrayLikeObject=$i,e.isBoolean=function(t){return!0===t||!1===t||to(t)&&je(t)==Mt},e.isBuffer=Wa,e.isDate=Ya,e.isElement=function(t){return to(t)&&1===t.nodeType&&!eo(t)},e.isEmpty=function(t){if(null==t)return!0;if(Yi(t)&&(Ua(t)||"string"==typeof t||"function"==typeof t.splice||Wa(t)||Xa(t)||Ha(t)))return!t.length;var n=ta(t);if(n==Nt||n==zt)return!t.size;if(vi(t))return!De(t).length;for(var e in t)if(Uo.call(t,e))return!1;return!0},e.isEqual=function(t,n){return Le(t,n)},e.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:D)?e(t,n):D;return r===D?Le(t,n,D,e):!!r},e.isError=Ji,e.isFinite=function(t){return"number"==typeof t&&gu(t)},e.isFunction=Ki,e.isInteger=Xi,e.isLength=Zi,e.isMap=$a,e.isMatch=function(t,n){return t===n||ze(t,n,oi(n))},e.isMatchWith=function(t,n,e){return e="function"==typeof e?e:D,ze(t,n,oi(n),e)},e.isNaN=function(t){return no(t)&&t!=+t},e.isNative=function(t){if(na(t))throw new No("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qe(t)},e.isNil=function(t){return null==t},e.isNull=function(t){return null===t},e.isNumber=no,e.isObject=Qi,e.isObjectLike=to,e.isPlainObject=eo,e.isRegExp=Ja,e.isSafeInteger=function(t){return Xi(t)&&t>=-gt&&t<=gt},e.isSet=Ka,e.isString=ro,e.isSymbol=io,e.isTypedArray=Xa,e.isUndefined=function(t){return t===D},e.isWeakMap=function(t){return to(t)&&ta(t)==Gt},e.isWeakSet=function(t){return to(t)&&"[object WeakSet]"==je(t)},e.join=function(t,n){return null==t?"":bu.call(t,n)},e.kebabCase=bc,e.last=ki,e.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return e!==D&&(i=(i=ao(e))<0?ju(r+i,0):Ou(i,r-1)),n==n?function(t,n,e){for(var r=i+1;r--;)if(t[r]===n)return r;return r}(t,n):y(t,O,i,!0)},e.lowerCase=yc,e.lowerFirst=jc,e.lt=Za,e.lte=Qa,e.max=function(t){return t&&t.length?te(t,wo,_e):D},e.maxBy=function(t,n){return t&&t.length?te(t,ri(n,2),_e):D},e.mean=function(t){return _(t,wo)},e.meanBy=function(t,n){return _(t,ri(n,2))},e.min=function(t){return t&&t.length?te(t,wo,He):D},e.minBy=function(t,n){return t&&t.length?te(t,ri(n,2),He):D},e.stubArray=So,e.stubFalse=ko,e.stubObject=function(){return{}},e.stubString=function(){return""},e.stubTrue=function(){return!0},e.multiply=qc,e.nth=function(t,n){return t&&t.length?$e(t,ao(n)):D},e.noConflict=function(){return be._===this&&(be._=Jo),this},e.noop=Mo,e.now=Na,e.pad=function(t,n,e){t=lo(t);var r=(n=ao(n))?q(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return Dr(pu(i),e)+t+Dr(hu(i),e)},e.padEnd=function(t,n,e){t=lo(t);var r=(n=ao(n))?q(t):0;return n&&r<n?t+Dr(n-r,e):t},e.padStart=function(t,n,e){t=lo(t);var r=(n=ao(n))?q(t):0;return n&&r<n?Dr(n-r,e)+t:t},e.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),mu(lo(t).replace(jn,""),n||0)},e.random=function(t,n,e){if(e&&"boolean"!=typeof e&&li(t,n,e)&&(n=e=D),e===D&&("boolean"==typeof n?(e=n,n=D):"boolean"==typeof t&&(e=t,t=D)),t===D&&n===D?(t=0,n=1):(t=uo(t),n===D?(n=t,t=0):n=uo(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=wu();return Ou(t+i*(n-t+pe("1e-"+((i+"").length-1))),n)}return Qe(t,n)},e.reduce=function(t,n,e){var r=Ua(t)?d:x,i=arguments.length<3;return r(t,ri(n,4),e,i,Gu)},e.reduceRight=function(t,n,e){var r=Ua(t)?function(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}:x,i=arguments.length<3;return r(t,ri(n,4),e,i,Hu)},e.repeat=function(t,n,e){return n=(e?li(t,n,e):n===D)?1:ao(n),tr(lo(t),n)},e.replace=function(){var t=arguments,n=lo(t[0]);return t.length<3?n:n.replace(t[1],t[2])},e.result=function(t,n,e){var r=-1,i=(n=yr(n,t)).length;for(i||(i=1,t=D);++r<i;){var o=null==t?D:t[mi(n[r])];o===D&&(r=i,o=e),t=Ki(o)?o.call(t):o}return t},e.round=Fc,e.runInContext=t,e.sample=function(t){return(Ua(t)?Gn:function(t){return Gn(yo(t))})(t)},e.size=function(t){if(null==t)return 0;if(Yi(t))return ro(t)?q(t):t.length;var n=ta(t);return n==Nt||n==zt?t.size:De(t).length},e.snakeCase=Oc,e.some=function(t,n,e){var r=Ua(t)?g:function(t,n){var e;return Gu(t,function(t,r,i){return!(e=n(t,r,i))}),!!e};return e&&li(t,n,e)&&(n=D),r(t,ri(n,3))},e.sortedIndex=function(t,n){return ir(t,n)},e.sortedIndexBy=function(t,n,e){return or(t,n,ri(e,2))},e.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=ir(t,n);if(r<e&&Wi(t[r],n))return r}return-1},e.sortedLastIndex=function(t,n){return ir(t,n,!0)},e.sortedLastIndexBy=function(t,n,e){return or(t,n,ri(e,2),!0)},e.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var e=ir(t,n,!0)-1;if(Wi(t[e],n))return e}return-1},e.startCase=_c,e.startsWith=function(t,n,e){return t=lo(t),e=null==e?0:Jn(ao(e),0,t.length),n=cr(n),t.slice(e,e+n.length)==n},e.subtract=Dc,e.sum=function(t){return t&&t.length?E(t,wo):0},e.sumBy=function(t,n){return t&&t.length?E(t,ri(n,2)):0},e.template=function(t,n,r){var i=e.templateSettings;r&&li(t,n,r)&&(n=D),t=lo(t),n=ec({},n,i,$r);var o,u,a=ec({},n.imports,i.imports,$r),c=vo(a),f=S(a,c),s=0,l=n.interpolate||Bn,h="__p += '",p=Io((n.escape||Bn).source+"|"+l.source+"|"+(l===ln?Mn:Bn).source+"|"+(n.evaluate||Bn).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++fe+"]")+"\n";t.replace(p,function(n,e,r,i,a,c){return r||(r=i),h+=t.slice(s,c).replace(An,N),e&&(o=!0,h+="' +\n__e("+e+") +\n'"),a&&(u=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+n.length,n}),h+="';\n";var d=n.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(nn,""):h).replace(en,"$1").replace(rn,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=xc(function(){return Ro(c,v+"return "+h).apply(D,f)});if(g.source=h,Ji(g))throw g;return g},e.times=function(t,n){if((t=ao(t))<1||t>gt)return[];var e=jt,r=Ou(t,jt);n=ri(n),t-=jt;for(var i=M(r,n);++e<t;)n(e);return i},e.toFinite=uo,e.toInteger=ao,e.toLength=co,e.toLower=function(t){return lo(t).toLowerCase()},e.toNumber=fo,e.toSafeInteger=function(t){return t?Jn(ao(t),-gt,gt):0===t?t:0},e.toString=lo,e.toUpper=function(t){return lo(t).toUpperCase()},e.trim=function(t,n,e){if((t=lo(t))&&(e||n===D))return t.replace(yn,"");if(!t||!(n=cr(n)))return t;var r=F(t),i=F(n);return jr(r,C(r,i),P(r,i)+1).join("")},e.trimEnd=function(t,n,e){if((t=lo(t))&&(e||n===D))return t.replace(On,"");if(!t||!(n=cr(n)))return t;var r=F(t);return jr(r,0,P(r,F(n))+1).join("")},e.trimStart=function(t,n,e){if((t=lo(t))&&(e||n===D))return t.replace(jn,"");if(!t||!(n=cr(n)))return t;var r=F(t);return jr(r,C(r,F(n))).join("")},e.truncate=function(t,n){var e=30,r="...";if(Qi(n)){var i="separator"in n?n.separator:i;e="length"in n?ao(n.length):e,r="omission"in n?cr(n.omission):r}var o=(t=lo(t)).length;if(R(t)){var u=F(t);o=u.length}if(e>=o)return t;var a=e-q(r);if(a<1)return r;var c=u?jr(u,0,a).join(""):t.slice(0,a);if(i===D)return c+r;if(u&&(a+=c.length-a),Ja(i)){if(t.slice(a).search(i)){var f,s=c;for(i.global||(i=Io(i.source,lo(Tn.exec(i))+"g")),i.lastIndex=0;f=i.exec(s);)var l=f.index;c=c.slice(0,l===D?a:l)}}else if(t.indexOf(cr(i),a)!=a){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},e.unescape=function(t){return(t=lo(t))&&an.test(t)?t.replace(on,Ne):t},e.uniqueId=function(t){var n=++Vo;return lo(t)+n},e.upperCase=mc,e.upperFirst=wc,e.each=Ii,e.eachRight=Li,e.first=Si,Eo(e,function(){var t={};return ue(e,function(n,r){Uo.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION="4.17.4",c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),c(["drop","take"],function(t,n){w.prototype[t]=function(e){e=e===D?1:ju(ao(e),0);var r=this.__filtered__&&!n?new w(this):this.clone();return r.__filtered__?r.__takeCount__=Ou(e,r.__takeCount__):r.__views__.push({size:Ou(e,jt),type:t+(r.__dir__<0?"Right":"")}),r},w.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),c(["filter","map","takeWhile"],function(t,n){var e=n+1,r=1==e||3==e;w.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:ri(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),c(["head","last"],function(t,n){var e="take"+(n?"Right":"");w.prototype[t]=function(){return this[e](1).value()[0]}}),c(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");w.prototype[t]=function(){return this.__filtered__?new w(this):this[e](1)}}),w.prototype.compact=function(){return this.filter(wo)},w.prototype.find=function(t){return this.filter(t).head()},w.prototype.findLast=function(t){return this.reverse().find(t)},w.prototype.invokeMap=nr(function(t,n){return"function"==typeof t?new w(this):this.map(function(e){return Ae(e,t,n)})}),w.prototype.reject=function(t){return this.filter(Vi(ri(t)))},w.prototype.slice=function(t,n){t=ao(t);var e=this;return e.__filtered__&&(t>0||n<0)?new w(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==D&&(e=(n=ao(n))<0?e.dropRight(-n):e.take(n-t)),e)},w.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},w.prototype.toArray=function(){return this.take(jt)},ue(w.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),u=e[o?"take"+("last"==n?"Right":""):n],a=o||/^find/.test(n);u&&(e.prototype[n]=function(){var n=this.__wrapped__,c=o?[1]:arguments,f=n instanceof w,s=c[0],l=f||Ua(n),h=function(t){var n=u.apply(e,v([t],c));return o&&p?n[0]:n};l&&r&&"function"==typeof s&&1!=s.length&&(f=l=!1);var p=this.__chain__,d=!!this.__actions__.length,g=a&&!p,b=f&&!d;if(!a&&l){n=b?n:new w(this);var y=t.apply(n,c);return y.__actions__.push({func:Ai,args:[h],thisArg:D}),new i(y,p)}return g&&b?t.apply(this,c):(y=this.thru(h),g?o?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var n=qo[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(Ua(e)?e:[],t)}return this[r](function(e){return n.apply(Ua(e)?e:[],t)})}}),ue(w.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"";(Nu[i]||(Nu[i]=[])).push({name:n,func:r})}}),Nu[Lr(D,tt).name]=[{name:"wrapper",func:D}],w.prototype.clone=function(){var t=new w(this.__wrapped__);return t.__actions__=Mr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Mr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Mr(this.__views__),t},w.prototype.reverse=function(){if(this.__filtered__){var t=new w(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},w.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Ua(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=Ou(n,t+u);break;case"takeRight":t=ju(t,n-u)}}return{start:t,end:n}}(0,i,this.__views__),u=o.start,a=o.end,c=a-u,f=r?a:u-1,s=this.__iteratees__,l=s.length,h=0,p=Ou(c,this.__takeCount__);if(!e||!r&&i==c&&p==c)return pr(t,this.__actions__);var v=[];t:for(;c--&&h<p;){for(var d=-1,g=t[f+=n];++d<l;){var b=s[d],j=b.type,O=(0,b.iteratee)(g);if(2==j)g=O;else if(!O){if(1==j)continue t;break t}}v[h++]=g}return v},e.prototype.at=wa,e.prototype.chain=function(){return Bi(this)},e.prototype.commit=function(){return new i(this.value(),this.__chain__)},e.prototype.next=function(){this.__values__===D&&(this.__values__=oo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?D:this.__values__[this.__index__++]}},e.prototype.plant=function(t){for(var n,e=this;e instanceof r;){var i=xi(e);i.__index__=0,i.__values__=D,n?o.__wrapped__=i:n=i;var o=i;e=e.__wrapped__}return o.__wrapped__=t,n},e.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof w){var n=t;return this.__actions__.length&&(n=new w(this)),(n=n.reverse()).__actions__.push({func:Ai,args:[Pi],thisArg:D}),new i(n,this.__chain__)}return this.thru(Pi)},e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=function(){return pr(this.__wrapped__,this.__actions__)},e.prototype.first=e.prototype.head,uu&&(e.prototype[uu]=function(){return this}),e}();be._=Re,(i=(function(){return Re}).call(n,e,n,r))!==D&&(r.exports=i)}).call(this)}).call(n,e(435),e(436)(t))},function(t,n,e){var r=e(13),i=e(171);t.exports=function(t,n,e,r){return function(t,n,e,r){var o,u,a={},c=new i,f=function(t){var n=t.v!==o?t.v:t.w,r=a[n],i=e(t),f=u.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);f<r.distance&&(r.distance=f,r.predecessor=o,c.decrease(n,f))};for(t.nodes().forEach(function(t){var e=t===n?0:Number.POSITIVE_INFINITY;a[t]={distance:e},c.add(t,e)});c.size()>0&&(o=c.removeMin(),(u=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(f);return a}(t,String(n),e||o,r||function(n){return t.outEdges(n)})};var o=r.constant(1)},function(t,n,e){function r(){this._arr=[],this._keyIndices={}}var i=e(13);t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return i.has(this._keyIndices,t)},r.prototype.priority=function(t){var n=this._keyIndices[t];if(void 0!==n)return this._arr[n].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,n){var e=this._keyIndices;if(t=String(t),!i.has(e,t)){var r=this._arr,o=r.length;return e[t]=o,r.push({key:t,priority:n}),this._decrease(o),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,n){var e=this._keyIndices[t];if(n>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[e].priority+" New: "+n);this._arr[e].priority=n,this._decrease(e)},r.prototype._heapify=function(t){var n=this._arr,e=2*t,r=e+1,i=t;e<n.length&&(i=n[e].priority<n[i].priority?e:i,r<n.length&&(i=n[r].priority<n[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var n,e=this._arr,r=e[t].priority;0!==t&&!(e[n=t>>1].priority<r);)this._swap(t,n),t=n},r.prototype._swap=function(t,n){var e=this._arr,r=this._keyIndices,i=e[t],o=e[n];e[t]=o,e[n]=i,r[o.key]=t,r[i.key]=n}},function(t,n,e){var r=e(13);t.exports=function(t){function n(a){var c=o[a]={onStack:!0,lowlink:e,index:e++};if(i.push(a),t.successors(a).forEach(function(t){r.has(o,t)?o[t].onStack&&(c.lowlink=Math.min(c.lowlink,o[t].index)):(n(t),c.lowlink=Math.min(c.lowlink,o[t].lowlink))}),c.lowlink===c.index){var f,s=[];do{f=i.pop(),o[f].onStack=!1,s.push(f)}while(a!==f);u.push(s)}}var e=0,i=[],o={},u=[];return t.nodes().forEach(function(t){r.has(o,t)||n(t)}),u}},function(t,n,e){function r(t){var e={},r={},u=[];if(o.each(t.sinks(),function n(a){if(o.has(r,a))throw new i;o.has(e,a)||(r[a]=!0,e[a]=!0,o.each(t.predecessors(a),n),delete r[a],u.push(a))}),o.size(e)!==t.nodeCount())throw new i;return u}function i(){}var o=e(13);t.exports=r,r.CycleException=i},function(t,n,e){var i=e(13);t.exports=function(t,n,e){i.isArray(n)||(n=[n]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),u=[],a={};return i.each(n,function(n){if(!t.hasNode(n))throw new Error("Graph does not have node: "+n);!function r(t,n,e,o,u,a){i.has(o,n)||(o[n]=!0,e||a.push(n),i.each(u(n),function(n){r(t,n,e,o,u,a)}),e&&a.push(n))}(t,n,"post"===e,a,o,u)}),u}},function(t,n,e){"use strict";var r=e(8),i=e(16).Graph,o=e(59).slack;t.exports=function(t){var a,n=new i({directed:!1}),e=t.nodes()[0],u=t.nodeCount();for(n.setNode(e,{});function(t,n){return r.forEach(t.nodes(),function e(i){r.forEach(n.nodeEdges(i),function(r){var u=r.v,a=i===u?r.w:u;t.hasNode(a)||o(n,r)||(t.setNode(a,{}),t.setEdge(i,a,{}),e(a))})}),t.nodeCount()}(n,t)<u;)a=function(t,n){return r.minBy(n.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return o(n,e)})}(n,t),function(t,n,e){r.forEach(t.nodes(),function(t){n.node(t).rank+=e})}(n,t,n.hasNode(a.v)?o(t,a):-o(t,a));return n}},function(t,n,e){"use strict";function r(t){return t.target.depth}n.c=function(t){return t.depth},n.d=function(t,n){return n-1-t.height},n.b=function(t,n){return t.sourceLinks.length?t.depth:n-1},n.a=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(i.min)(t.sourceLinks,r)-1:0};var i=e(14)},function(t,n,e){"use strict";var r=e(33),i=e(27),o=e(60),u=e(95),a=e(96);n.a=function(){function t(t){var n,i,o,u,a,d=t.length,g=!1,b=new Array(d),y=new Array(d);for(null==h&&(v=p(a=Object(r.path)())),n=0;n<=d;++n){if(!(n<d&&l(u=t[n],n,t))===g)if(g=!g)i=n,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),o=n-1;o>=i;--o)v.point(b[o],y[o]);v.lineEnd(),v.areaEnd()}g&&(b[n]=+e(u,n,t),y[n]=+f(u,n,t),v.point(c?+c(u,n,t):b[n],s?+s(u,n,t):y[n]))}if(a)return v=null,a+""||null}function n(){return Object(u.a)().defined(l).curve(p).context(h)}var e=a.a,c=null,f=Object(i.a)(0),s=a.b,l=Object(i.a)(!0),h=null,p=o.a,v=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),c=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Object(i.a)(+n),t):e},t.x1=function(n){return arguments.length?(c=null==n?null:"function"==typeof n?n:Object(i.a)(+n),t):c},t.y=function(n){return arguments.length?(f="function"==typeof n?n:Object(i.a)(+n),s=null,t):f},t.y0=function(n){return arguments.length?(f="function"==typeof n?n:Object(i.a)(+n),t):f},t.y1=function(n){return arguments.length?(s=null==n?null:"function"==typeof n?n:Object(i.a)(+n),t):s},t.lineX0=t.lineY0=function(){return n().x(e).y(f)},t.lineY1=function(){return n().x(e).y(s)},t.lineX1=function(){return n().x(c).y(f)},t.defined=function(n){return arguments.length?(l="function"==typeof n?n:Object(i.a)(!!n),t):l},t.curve=function(n){return arguments.length?(p=n,null!=h&&(v=p(h)),t):p},t.context=function(n){return arguments.length?(null==n?h=v=null:v=p(h=n),t):h},t}},function(t,n,e){"use strict";function r(t){this._curve=t}function i(t){function n(n){return new r(t(n))}return n._curve=t,n}e.d(n,"a",function(){return o}),n.b=i;var o=i(e(60).a);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}}},function(t,n,e){"use strict";n.a=function(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Object(i.b)(t)):n()._curve},t};var i=e(178);e(95)},function(t,n,e){"use strict";n.a=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=Array.prototype.slice},function(t,n,e){"use strict";var r=e(46);n.a={draw:function(t,n){var e=Math.sqrt(n/r.j);t.moveTo(e,0),t.arc(0,0,e,0,r.m)}}},function(t,n,e){"use strict";n.a={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}}},function(t,n,e){"use strict";var r=Math.sqrt(1/3),i=2*r;n.a={draw:function(t,n){var e=Math.sqrt(n/i),o=e*r;t.moveTo(0,-e),t.lineTo(o,0),t.lineTo(0,e),t.lineTo(-o,0),t.closePath()}}},function(t,n,e){"use strict";var r=e(46),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),o=Math.sin(r.m/10)*i,u=-Math.cos(r.m/10)*i;n.a={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),i=o*e,a=u*e;t.moveTo(0,-e),t.lineTo(i,a);for(var c=1;c<5;++c){var f=r.m*c/5,s=Math.cos(f),l=Math.sin(f);t.lineTo(l*e,-s*e),t.lineTo(s*i-l*a,l*i+s*a)}t.closePath()}}},function(t,n,e){"use strict";n.a={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}}},function(t,n,e){"use strict";var r=Math.sqrt(3);n.a={draw:function(t,n){var e=-Math.sqrt(n/(3*r));t.moveTo(0,2*e),t.lineTo(-r*e,-e),t.lineTo(r*e,-e),t.closePath()}}},function(t,n,e){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),u=3*(o/2+1);n.a={draw:function(t,n){var e=Math.sqrt(n/u),a=e/2,c=e*o,f=a,s=e*o+e,l=-f,h=s;t.moveTo(a,c),t.lineTo(f,s),t.lineTo(l,h),t.lineTo(r*a-i*c,i*a+r*c),t.lineTo(r*f-i*s,i*f+r*s),t.lineTo(r*l-i*h,i*l+r*h),t.lineTo(r*a+i*c,r*c-i*a),t.lineTo(r*f+i*s,r*s-i*f),t.lineTo(r*l+i*h,r*h-i*l),t.closePath()}}},function(t,n,e){"use strict";function r(t,n){this._context=t,this._k=(1-n)/6}n.a=r;var i=e(61),o=e(63);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Object(o.b)(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new r(t,n)}return e.tension=function(n){return t(+n)},e}(0)},function(t,n,e){"use strict";function r(t,n){this._context=t,this._k=(1-n)/6}n.a=r;var i=e(63);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.b)(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return new r(t,n)}return e.tension=function(n){return t(+n)},e}(0)},function(t,n,e){"use strict";function r(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function i(t,n){return n[+(n.left!==t.site)]}function o(t,n){return n[+(n.left===t.site)]}n.c=function(t){return a.b[t.index]={site:t,halfedges:[]}},n.a=i,n.d=function(){for(var t,n,e,i,o=0,u=a.b.length;o<u;++o)if((t=a.b[o])&&(i=(n=t.halfedges).length)){var c=new Array(i),f=new Array(i);for(e=0;e<i;++e)c[e]=e,f[e]=r(t,a.e[n[e]]);for(c.sort(function(t,n){return f[n]-f[t]}),e=0;e<i;++e)f[e]=n[c[e]];for(e=0;e<i;++e)n[e]=f[e]}},n.b=function(t,n,e,r){var c,f,s,l,h,p,v,d,g,b,y,j,O=a.b.length,_=!0;for(c=0;c<O;++c)if(f=a.b[c]){for(s=f.site,l=(h=f.halfedges).length;l--;)a.e[h[l]]||h.splice(l,1);for(l=0,p=h.length;l<p;)y=(b=o(f,a.e[h[l]]))[0],j=b[1],d=(v=i(f,a.e[h[++l%p]]))[0],g=v[1],(Math.abs(y-d)>a.f||Math.abs(j-g)>a.f)&&(h.splice(l,0,a.e.push(Object(u.b)(s,b,Math.abs(y-t)<a.f&&r-j>a.f?[t,Math.abs(d-t)<a.f?g:r]:Math.abs(j-r)<a.f&&e-y>a.f?[Math.abs(g-r)<a.f?d:e,r]:Math.abs(y-e)<a.f&&j-n>a.f?[e,Math.abs(d-e)<a.f?g:n]:Math.abs(j-n)<a.f&&y-t>a.f?[Math.abs(g-n)<a.f?d:t,n]:null))-1),++p);p&&(_=!1)}if(_){var m,w,x,E=1/0;for(c=0,_=null;c<O;++c)(f=a.b[c])&&(x=(m=(s=f.site)[0]-t)*m+(w=s[1]-n)*w)<E&&(E=x,_=f);if(_){var M=[t,n],T=[t,r],S=[e,r],k=[e,n];_.halfedges.push(a.e.push(Object(u.b)(s=_.site,M,T))-1,a.e.push(Object(u.b)(s,T,S))-1,a.e.push(Object(u.b)(s,S,k))-1,a.e.push(Object(u.b)(s,k,M))-1)}}for(c=0;c<O;++c)(f=a.b[c])&&(f.halfedges.length||delete a.b[c])};var u=e(100),a=e(49)},function(t,n,e){"use strict";e.d(n,"c",function(){return r}),n.a=function(t){var n=t.P,e=t.N;if(n&&e){var a=n.site,c=t.site,f=e.site;if(a!==f){var s=c[0],l=c[1],h=a[0]-s,p=a[1]-l,v=f[0]-s,d=f[1]-l,g=2*(h*d-p*v);if(!(g>=-o.g)){var b=h*h+p*p,y=v*v+d*d,j=(d*b-p*y)/g,O=(h*y-v*b)/g,_=u.pop()||new function(){Object(i.a)(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=c,_.x=j+s,_.y=(_.cy=O+l)+Math.sqrt(j*j+O*O),t.circle=_;for(var m=null,w=o.c._;w;)if(_.y<w.y||_.y===w.y&&_.x<=w.x){if(!w.L){m=w.P;break}w=w.L}else{if(!w.R){m=w;break}w=w.R}o.c.insert(m,_),m||(r=_)}}}},n.b=function(t){var n=t.circle;n&&(n.P||(r=n.N),o.c.remove(n),u.push(n),Object(i.a)(n),t.circle=null)};var r,i=e(99),o=e(49),u=[]},function(t,n,e){function r(t,n){var e=this;if(e.vgap=e.hgap=0,t instanceof r)return t;e.data=t;var i=n.getHGap(t),o=n.getVGap(t);return e.width=n.getWidth(t),e.height=n.getHeight(t),e.id=n.getId(t),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(i,o),e}var i=e(28),o={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){return t.width||18*(t.name||" ").split("").length}};i.assign(r.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,n){this.hgap+=t,this.vgap+=n,this.width+=2*t,this.height+=2*n},eachNode:function(t){for(var n,e=[this];n=e.pop();)t(n),e=e.concat(n.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var n,e=[this];n=e.shift();)t(n),e=e.concat(n.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(n){t.left=Math.min(t.left,n.x),t.top=Math.min(t.top,n.y),t.width=Math.max(t.width,n.x+n.width),t.height=Math.max(t.height,n.y+n.height)}),t},translate:function(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.eachNode(function(e){e.x+=t,e.y+=n})},right2left:function(){var t=this.getBoundingBox();this.eachNode(function(n){n.x=n.x-2*(n.x-t.left)-n.width}),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode(function(n){n.y=n.y-2*(n.y-t.top)-n.height}),this.translate(0,t.height)}}),t.exports=function(t,n,e){void 0===n&&(n={});var u,a=new r(t,n=i.assign({},o,n)),c=[a];if(!e&&!t.collapsed)for(;u=c.pop();)if(!u.data.collapsed){var f=n.getChildren(u.data),s=f?f.length:0;if(u.children=new Array(s),f&&s)for(var l=0;l<s;l++){var h=new r(f[l],n);u.children[l]=h,c.push(h),h.parent=u,h.depth=u.depth+1}}return a}},function(t,n,e){var r=e(193);t.exports=function(t,n){for(var e=r(t.data,n,!0),i=r(t.data,n,!0),o=t.children.length,u=Math.round(o/2),a=n.getSide||function(t,n){return n<u?"right":"left"},c=0;c<o;c++){var f=t.children[c];"right"===a(f,c)?i.children.push(f):e.children.push(f)}return e.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:e,right:i}}},function(t,n,e){e(196),e(350),e(351),e(354),e(355),e(357),e(361),e(158),e(365),e(366),e(368),e(390),e(398),e(399),e(400),e(403),e(404),e(405),e(406),e(407),e(408),e(409),e(410),e(411),e(413),e(414),e(415),e(418),e(420),e(422),e(423),e(424),e(425),e(426),e(427),e(428),e(429),e(430),e(431),e(472),e(508),e(514),e(515),e(524),e(525),e(526),e(527),e(528),e(529),e(530),e(532),e(534),e(535),t.exports=e(2)},function(t,n,e){var r=e(3),i=e(0),o=i.geoArea,u=i.geoCentroid,a=i.geoContains,c=i.geoDistance,f=i.geoLength,s=e(128).geoProject,l=e(39),h=e(141);r(l.prototype,{geoArea:function(t){return o(t)},geoAreaByName:function(t){return o(this.geoFeatureByName(t))},geoCentroid:function(t){return u(t)},geoCentroidByName:function(t){return u(this.geoFeatureByName(t))},geoDistance:function(t,n){return c(t,n)},geoLength:function(t){return f(t)},geoLengthByName:function(t){return f(this.geoFeatureByName(t))},geoContains:function(t,n){return a(t,n)},geoFeatureByName:function(t){var n;return this.rows.some(function(e){return e.name===t&&(n=e,!0)}),n},geoFeatureByPosition:function(t){var n;return this.rows.some(function(e){return!!a(e,t)&&(n=e,!0)}),n},geoNameByPosition:function(t){var n=this.geoFeatureByPosition(t);if(n)return n.name},getGeoProjection:h,geoProject:function(t,n,e){return n=h(n,e),s(t,n)},geoProjectByName:function(t,n,e){return n=h(n,e),s(this.geoFeatureByName(t),n)},geoProjectPosition:function(t,n,e){return(n=h(n,e))(t)},geoProjectInvert:function(t,n,e){return(n=h(n,e)).invert(t)}})},function(t,n,e){"use strict";function r(t,n){_.push(m=[p=t,d=t]),n<v&&(v=n),n>g&&(g=n)}function i(t,n){var e=Object(E.a)([t*M.r,n*M.r]);if(O){var r=Object(E.c)(O,e),i=[r[1],-r[0],0],o=Object(E.c)(i,r);Object(E.e)(o),o=Object(E.g)(o);var u,a=t-b,c=a>0?1:-1,f=o[0]*M.h*c,l=Object(M.a)(a)>180;l^(c*b<f&&f<c*t)?(u=o[1]*M.h)>g&&(g=u):l^(c*b<(f=(f+360)%360-180)&&f<c*t)?(u=-o[1]*M.h)<v&&(v=u):(n<v&&(v=n),n>g&&(g=n)),l?t<b?s(p,t)>s(p,d)&&(d=t):s(t,d)>s(p,d)&&(p=t):d>=p?(t<p&&(p=t),t>d&&(d=t)):t>b?s(p,t)>s(p,d)&&(d=t):s(t,d)>s(p,d)&&(p=t)}else _.push(m=[p=t,d=t]);n<v&&(v=n),n>g&&(g=n),O=e,b=t}function o(){k.point=i}function u(){m[0]=p,m[1]=d,k.point=r,O=null}function a(t,n){if(O){var e=t-b;S.add(Object(M.a)(e)>180?e+(e>0?360:-360):e)}else y=t,j=n;x.b.point(t,n),i(t,n)}function c(){x.b.lineStart()}function f(){a(y,j),x.b.lineEnd(),Object(M.a)(S)>M.i&&(p=-(d=180)),m[0]=p,m[1]=d,O=null}function s(t,n){return(n-=t)<0?n+360:n}function l(t,n){return t[0]-n[0]}function h(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var p,v,d,g,b,y,j,O,_,m,w=e(29),x=e(103),E=e(35),M=e(4),T=e(22),S=Object(w.a)(),k={point:r,lineStart:o,lineEnd:u,polygonStart:function(){k.point=a,k.lineStart=c,k.lineEnd=f,S.reset(),x.b.polygonStart()},polygonEnd:function(){x.b.polygonEnd(),k.point=r,k.lineStart=o,k.lineEnd=u,x.a<0?(p=-(d=180),v=-(g=90)):S>M.i?g=90:S<-M.i&&(v=-90),m[0]=p,m[1]=d}};n.a=function(t){var n,e,r,i,o,u,a;if(g=d=-(p=v=1/0),_=[],Object(T.a)(t,k),e=_.length){for(_.sort(l),n=1,o=[r=_[0]];n<e;++n)h(r,(i=_[n])[0])||h(r,i[1])?(s(r[0],i[1])>s(r[0],r[1])&&(r[1]=i[1]),s(i[0],r[1])>s(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)(a=s(r[1],(i=o[n])[0]))>u&&(u=a,p=i[0],d=r[1])}return _=m=null,p===1/0||v===1/0?[[NaN,NaN],[NaN,NaN]]:[[p,v],[d,g]]}},function(t,n,e){"use strict";function r(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n);i(e*Object(k.g)(t),e*Object(k.t)(t),Object(k.t)(n))}function i(t,n,e){d+=(t-d)/++p,g+=(n-g)/p,b+=(e-b)/p}function o(){N.point=u}function u(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n);M=e*Object(k.g)(t),T=e*Object(k.t)(t),S=Object(k.t)(n),N.point=a,i(M,T,S)}function a(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n),r=e*Object(k.g)(t),o=e*Object(k.t)(t),u=Object(k.t)(n),a=Object(k.e)(Object(k.u)((a=T*u-S*o)*a+(a=S*r-M*u)*a+(a=M*o-T*r)*a),M*r+T*o+S*u);v+=a,y+=a*(M+(M=r)),j+=a*(T+(T=o)),O+=a*(S+(S=u)),i(M,T,S)}function c(){N.point=r}function f(){N.point=l}function s(){h(x,E),N.point=r}function l(t,n){x=t,E=n,t*=k.r,n*=k.r,N.point=h;var e=Object(k.g)(n);M=e*Object(k.g)(t),T=e*Object(k.t)(t),S=Object(k.t)(n),i(M,T,S)}function h(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n),r=e*Object(k.g)(t),o=e*Object(k.t)(t),u=Object(k.t)(n),a=T*u-S*o,c=S*r-M*u,f=M*o-T*r,s=Object(k.u)(a*a+c*c+f*f),l=Object(k.c)(s),h=s&&-l/s;_+=h*a,m+=h*c,w+=h*f,v+=l,y+=l*(M+(M=r)),j+=l*(T+(T=o)),O+=l*(S+(S=u)),i(M,T,S)}var p,v,d,g,b,y,j,O,_,m,w,x,E,M,T,S,k=e(4),C=e(20),P=e(22),N={sphere:C.a,point:r,lineStart:o,lineEnd:c,polygonStart:function(){N.lineStart=f,N.lineEnd=s},polygonEnd:function(){N.lineStart=o,N.lineEnd=c}};n.a=function(t){p=v=d=g=b=y=j=O=_=m=w=0,Object(P.a)(t,N);var n=_,e=m,r=w,i=n*n+e*e+r*r;return i<k.j&&(n=y,e=j,r=O,v<k.i&&(n=d,e=g,r=b),(i=n*n+e*e+r*r)<k.j)?[NaN,NaN]:[Object(k.e)(e,n)*k.h,Object(k.c)(r/Object(k.u)(i))*k.h]}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t,n,e,r,i,o){var u,a=t[0],c=t[1],f=0,s=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<f)return;u<s&&(s=u)}else if(l>0){if(u>s)return;u>f&&(f=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>s)return;u>f&&(f=u)}else if(l>0){if(u<f)return;u<s&&(s=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<f)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>f&&(f=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>f&&(f=u)}else if(h>0){if(u<f)return;u<s&&(s=u)}return f>0&&(t[0]=a+f*l,t[1]=c+f*h),s<1&&(n[0]=a+s*l,n[1]=c+s*h),!0}}}}}},function(t,n,e){"use strict";var r=e(111);n.a=function(t,n,e){var i,o,u,a,c=t.length,f=n.length,s=new Array(c*f);for(null==e&&(e=r.b),i=u=0;i<c;++i)for(a=t[i],o=0;o<f;++o,++u)s[u]=e(a,n[o]);return s}},function(t,n,e){"use strict";n.a=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}},function(t,n,e){"use strict";var r=e(115),i=e(109),o=e(204),u=e(114),a=e(205),c=e(116),f=e(117),s=e(118);n.a=function(){function t(t){var r,o,u=t.length,a=new Array(u);for(r=0;r<u;++r)a[r]=n(t[r],r,t);var s=e(a),h=s[0],p=s[1],v=l(a,h,p);Array.isArray(v)||(v=Object(f.c)(h,p,v),v=Object(c.a)(Math.ceil(h/v)*v,Math.floor(p/v)*v,v));for(var d=v.length;v[0]<=h;)v.shift(),--d;for(;v[d-1]>p;)v.pop(),--d;var g,b=new Array(d+1);for(r=0;r<=d;++r)(g=b[r]=[]).x0=r>0?v[r-1]:h,g.x1=r<d?v[r]:p;for(r=0;r<u;++r)h<=(o=a[r])&&o<=p&&b[Object(i.c)(v,o,0,d)].push(t[r]);return b}var n=a.a,e=u.a,l=s.a;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Object(o.a)(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:Object(o.a)([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(l="function"==typeof n?n:Array.isArray(n)?Object(o.a)(r.b.call(n)):Object(o.a)(n),t):l},t}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";var r=e(115),i=e(30),o=e(36),u=e(66);n.a=function(t,n,e){return t=r.a.call(t,o.a).sort(i.a),Math.ceil((e-n)/(2*(Object(u.a)(t,.75)-Object(u.a)(t,.25))*Math.pow(t.length,-1/3)))}},function(t,n,e){"use strict";var r=e(112);n.a=function(t,n,e){return Math.ceil((e-n)/(3.5*Object(r.a)(t)*Math.pow(t.length,-1/3)))}},function(t,n,e){"use strict";n.a=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}},function(t,n,e){"use strict";var r=e(36);n.a=function(t,n){var e,i=t.length,o=i,u=-1,a=0;if(null==n)for(;++u<i;)isNaN(e=Object(r.a)(t[u]))?--o:a+=e;else for(;++u<i;)isNaN(e=Object(r.a)(n(t[u],u,t)))?--o:a+=e;if(o)return a/o}},function(t,n,e){"use strict";var r=e(30),i=e(36),o=e(66);n.a=function(t,n){var e,u=t.length,a=-1,c=[];if(null==n)for(;++a<u;)isNaN(e=Object(i.a)(t[a]))||c.push(e);else for(;++a<u;)isNaN(e=Object(i.a)(n(t[a],a,t)))||c.push(e);return Object(o.a)(c.sort(r.a),.5)}},function(t,n,e){"use strict";n.a=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}},function(t,n,e){"use strict";n.a=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}},function(t,n,e){"use strict";var r=e(30);n.a=function(t,n){if(e=t.length){var e,i,o=0,u=0,a=t[u];for(null==n&&(n=r.a);++o<e;)(n(i=t[o],a)<0||0!==n(a,a))&&(a=i,u=o);return 0===n(a,a)?u:void 0}}},function(t,n,e){"use strict";n.a=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t}},function(t,n,e){"use strict";n.a=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}},function(t,n,e){"use strict";var r=e(120);n.a=function(){return Object(r.a)(arguments)}},function(t,n,e){"use strict";function r(t,n){return!(!t||!p.hasOwnProperty(t.type))&&p[t.type](t,n)}function i(t,n){return 0===Object(s.a)(t,n)}function o(t,n){var e=Object(s.a)(t[0],t[1]);return Object(s.a)(t[0],n)+Object(s.a)(n,t[1])<=e+l.i}function u(t,n){return!!Object(f.a)(t.map(a),c(n))}function a(t){return(t=t.map(c)).pop(),t}function c(t){return[t[0]*l.r,t[1]*l.r]}var f=e(121),s=e(122),l=e(4),h={Feature:function(t,n){return r(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,o=e.length;++i<o;)if(r(e[i].geometry,n))return!0;return!1}},p={Sphere:function(){return!0},Point:function(t,n){return i(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(i(e[r],n))return!0;return!1},LineString:function(t,n){return o(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(o(e[r],n))return!0;return!1},Polygon:function(t,n){return u(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(u(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,o=e.length;++i<o;)if(r(e[i],n))return!0;return!1}};n.a=function(t,n){return(t&&h.hasOwnProperty(t.type)?h[t.type]:r)(t,n)}},function(t,n,e){"use strict";function r(t,n,e){var r=Object(u.range)(t,n-a.i,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function i(t,n,e){var r=Object(u.range)(t,n-a.i,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function o(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Object(u.range)(Object(a.f)(f/O)*O,c,O).map(g).concat(Object(u.range)(Object(a.f)(p/_)*_,h,_).map(b)).concat(Object(u.range)(Object(a.f)(o/y)*y,e,y).filter(function(t){return Object(a.a)(t%O)>a.i}).map(v)).concat(Object(u.range)(Object(a.f)(l/j)*j,s,j).filter(function(t){return Object(a.a)(t%_)>a.i}).map(d))}var e,o,c,f,s,l,h,p,v,d,g,b,y=10,j=y,O=90,_=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[g(f).concat(b(h).slice(1),g(c).reverse().slice(1),b(p).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(p=+n[0][1],h=+n[1][1],(f=+n[0][0])>(c=+n[1][0])&&(n=f,f=c,c=n),p>h&&(n=p,p=h,h=n),t.precision(m)):[[f,p],[c,h]]},t.extentMinor=function(n){return arguments.length?(l=+n[0][1],s=+n[1][1],(o=+n[0][0])>(e=+n[1][0])&&(n=o,o=e,e=n),l>s&&(n=l,l=s,s=n),t.precision(m)):[[o,l],[e,s]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(O=+n[0],_=+n[1],t):[O,_]},t.stepMinor=function(n){return arguments.length?(y=+n[0],j=+n[1],t):[y,j]},t.precision=function(n){return arguments.length?(m=+n,v=r(l,s,90),d=i(o,e,m),g=r(p,h,90),b=i(f,c,m),t):m},t.extentMajor([[-180,-90+a.i],[180,90-a.i]]).extentMinor([[-180,-80-a.i],[180,80+a.i]])}n.a=o,n.b=function(){return o()()};var u=e(14),a=e(4)},function(t,n,e){"use strict";var r=e(4);n.a=function(t,n){var e=t[0]*r.r,i=t[1]*r.r,o=n[0]*r.r,u=n[1]*r.r,a=Object(r.g)(i),c=Object(r.t)(i),f=Object(r.g)(u),s=Object(r.t)(u),l=a*Object(r.g)(e),h=a*Object(r.t)(e),p=f*Object(r.g)(o),v=f*Object(r.t)(o),d=2*Object(r.c)(Object(r.u)(Object(r.m)(u-i)+a*f*Object(r.m)(o-e))),g=Object(r.t)(d),b=d?function(t){var n=Object(r.t)(t*=d)/g,e=Object(r.t)(d-t)/g,i=e*l+n*p,o=e*h+n*v,u=e*c+n*s;return[Object(r.e)(o,i)*r.h,Object(r.e)(u,Object(r.u)(i*i+o*o))*r.h]}:function(){return[e*r.h,i*r.h]};return b.distance=d,b}},function(t,n,e){"use strict";var r=e(67),i=e(22),o=e(221),u=e(124),a=e(222),c=e(223),f=e(224),s=e(225);n.a=function(t,n){function e(t){return t&&("function"==typeof p&&h.pointRadius(+p.apply(this,arguments)),Object(i.a)(t,l(h))),h.result()}var l,h,p=4.5;return e.area=function(t){return Object(i.a)(t,l(o.a)),o.a.result()},e.measure=function(t){return Object(i.a)(t,l(f.a)),f.a.result()},e.bounds=function(t){return Object(i.a)(t,l(u.a)),u.a.result()},e.centroid=function(t){return Object(i.a)(t,l(a.a)),a.a.result()},e.projection=function(n){return arguments.length?(l=null==n?(t=null,r.a):(t=n).stream,e):t},e.context=function(t){return arguments.length?(h=null==t?(n=null,new s.a):new c.a(n=t),"function"!=typeof p&&h.pointRadius(p),e):n},e.pointRadius=function(t){return arguments.length?(p="function"==typeof t?t:(h.pointRadius(+t),+t),e):p},e.projection(t).context(n)}},function(t,n,e){"use strict";function r(){g.point=i}function i(t,n){g.point=o,a=f=t,c=s=n}function o(t,n){d.add(s*t-f*n),f=t,s=n}function u(){o(a,c)}var a,c,f,s,l=e(29),h=e(4),p=e(20),v=Object(l.a)(),d=Object(l.a)(),g={point:p.a,lineStart:p.a,lineEnd:p.a,polygonStart:function(){g.lineStart=r,g.lineEnd=u},polygonEnd:function(){g.lineStart=g.lineEnd=g.point=p.a,v.add(Object(h.a)(d)),d.reset()},result:function(){var t=v/2;return v.reset(),t}};n.a=g},function(t,n,e){"use strict";function r(t,n){b+=t,y+=n,++j}function i(){M.point=o}function o(t,n){M.point=u,r(v=t,d=n)}function u(t,n){var e=t-v,i=n-d,o=Object(g.u)(e*e+i*i);O+=o*(v+t)/2,_+=o*(d+n)/2,m+=o,r(v=t,d=n)}function a(){M.point=r}function c(){M.point=s}function f(){l(h,p)}function s(t,n){M.point=l,r(h=v=t,p=d=n)}function l(t,n){var e=t-v,i=n-d,o=Object(g.u)(e*e+i*i);O+=o*(v+t)/2,_+=o*(d+n)/2,m+=o,w+=(o=d*t-v*n)*(v+t),x+=o*(d+n),E+=3*o,r(v=t,d=n)}var h,p,v,d,g=e(4),b=0,y=0,j=0,O=0,_=0,m=0,w=0,x=0,E=0,M={point:r,lineStart:i,lineEnd:a,polygonStart:function(){M.lineStart=c,M.lineEnd=f},polygonEnd:function(){M.point=r,M.lineStart=i,M.lineEnd=a},result:function(){var t=E?[w/E,x/E]:m?[O/m,_/m]:j?[b/j,y/j]:[NaN,NaN];return b=y=j=O=_=m=w=x=E=0,t}};n.a=M},function(t,n,e){"use strict";function r(t){this._context=t}n.a=r;var i=e(4),o=e(20);r.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,i.w)}},result:o.a}},function(t,n,e){"use strict";function r(t,n){v.point=i,u=c=t,a=f=n}function i(t,n){c-=t,f-=n,p.add(Object(l.u)(c*c+f*f)),c=t,f=n}var o,u,a,c,f,s=e(29),l=e(4),h=e(20),p=Object(s.a)(),v={point:h.a,lineStart:function(){v.point=r},lineEnd:function(){o&&i(u,a),v.point=h.a},polygonStart:function(){o=!0},polygonEnd:function(){o=null},result:function(){var t=+p;return p.reset(),t}};n.a=v},function(t,n,e){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}n.a=r,r.prototype={_radius:4.5,_circle:i(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=i(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}}},function(t,n,e){"use strict";var r=e(126),i=e(4);n.a=Object(r.a)(function(){return!0},function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(u,a){var c=u>0?i.o:-i.o,f=Object(i.a)(u-e);Object(i.a)(f-i.o)<i.i?(t.point(e,r=(r+a)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(u,r),n=0):o!==c&&f>=i.o&&(Object(i.a)(e-o)<i.i&&(e-=o*i.i),Object(i.a)(u-c)<i.i&&(u-=c*i.i),r=function(t,n,e,r){var o,u,a=Object(i.t)(t-e);return Object(i.a)(a)>i.i?Object(i.d)((Object(i.t)(n)*(u=Object(i.g)(r))*Object(i.t)(e)-Object(i.t)(r)*(o=Object(i.g)(n))*Object(i.t)(t))/(o*u*a)):(n+r)/2}(e,r,u,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=u,r=a),o=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var o;if(null==t)r.point(-i.o,o=e*i.l),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-n[0])>i.i){var u=t[0]<n[0]?i.o:-i.o;r.point(-u,o=e*u/2),r.point(0,o),r.point(u,o)}else r.point(n[0],n[1])},[-i.o,-i.l])},function(t,n,e){"use strict";var r=e(35),i=e(104),o=e(4),u=e(108),a=e(126);n.a=function(t,n){function e(t,n){return Object(o.g)(t)*Object(o.g)(n)>s}function c(t,n,e){var i=Object(r.a)(t),u=Object(r.a)(n),a=[1,0,0],c=Object(r.c)(i,u),f=Object(r.d)(c,c),l=c[0],h=f-l*l;if(!h)return!e&&t;var p=s*f/h,v=-s*l/h,d=Object(r.c)(a,c),g=Object(r.f)(a,p),b=Object(r.f)(c,v);Object(r.b)(g,b);var y=d,j=Object(r.d)(g,y),O=Object(r.d)(y,y),_=j*j-O*(Object(r.d)(g,g)-1);if(!(_<0)){var m=Object(o.u)(_),w=Object(r.f)(y,(-j-m)/O);if(Object(r.b)(w,g),w=Object(r.g)(w),!e)return w;var x,E=t[0],M=n[0],T=t[1],S=n[1];M<E&&(x=E,E=M,M=x);var k=M-E,C=Object(o.a)(k-o.o)<o.i;if(!C&&S<T&&(x=T,T=S,S=x),C||k<o.i?C?T+S>0^w[1]<(Object(o.a)(w[0]-E)<o.i?T:S):T<=w[1]&&w[1]<=S:k>o.o^(E<=w[0]&&w[0]<=M)){var N=Object(r.f)(y,(-j+m)/O);return Object(r.b)(N,g),[w,Object(r.g)(N)]}}}function f(n,e){var r=l?t:o.o-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var s=Object(o.g)(t),l=s>0,h=Object(o.a)(s)>o.i;return Object(a.a)(e,function(t){var n,r,i,a,s;return{lineStart:function(){a=i=!1,s=1},point:function(p,v){var d,g=[p,v],b=e(p,v),y=l?b?0:f(p,v):b?f(p+(p<0?o.o:-o.o),v):0;if(!n&&(a=i=b)&&t.lineStart(),b!==i&&(!(d=c(n,g))||Object(u.a)(n,d)||Object(u.a)(g,d))&&(g[0]+=o.i,g[1]+=o.i,b=e(g[0],g[1])),b!==i)s=0,b?(t.lineStart(),d=c(g,n),t.point(d[0],d[1])):(d=c(n,g),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(h&&n&&l^b){var j;y&r||!(j=c(g,n,!0))||(s=0,l?(t.lineStart(),t.point(j[0][0],j[0][1]),t.point(j[1][0],j[1][1]),t.lineEnd()):(t.point(j[1][0],j[1][1]),t.lineEnd(),t.lineStart(),t.point(j[0][0],j[0][1])))}!b||n&&Object(u.a)(n,g)||t.point(g[0],g[1]),n=g,i=b,r=y},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return s|(a&&i)<<1}}},function(e,r,o,u){Object(i.a)(u,t,n,o,e,r)},l?[0,-t]:[-o.o,t-o.o])}},function(t,n,e){"use strict";var r=e(35),i=e(4),o=e(51),u=16,a=Object(i.g)(30*i.r);n.a=function(t,n){return+n?function(t,n){function e(r,o,u,c,f,s,l,h,p,v,d,g,b,y){var j=l-r,O=h-o,_=j*j+O*O;if(_>4*n&&b--){var m=c+v,w=f+d,x=s+g,E=Object(i.u)(m*m+w*w+x*x),M=Object(i.c)(x/=E),T=Object(i.a)(Object(i.a)(x)-1)<i.i||Object(i.a)(u-p)<i.i?(u+p)/2:Object(i.e)(w,m),S=t(T,M),k=S[0],C=S[1],P=k-r,N=C-o,R=O*P-j*N;(R*R/_>n||Object(i.a)((j*P+O*N)/_-.5)>.3||c*v+f*d+s*g<a)&&(e(r,o,u,c,f,s,k,C,T,m/=E,w/=E,x,b,y),y.point(k,C),e(k,C,T,m,w,x,l,h,p,v,d,g,b,y))}}return function(n){function i(e,r){e=t(e,r),n.point(e[0],e[1])}function o(){j=NaN,x.point=a,n.lineStart()}function a(i,o){var a=Object(r.a)([i,o]),c=t(i,o);e(j,O,y,_,m,w,j=c[0],O=c[1],y=i,_=a[0],m=a[1],w=a[2],u,n),n.point(j,O)}function c(){x.point=i,n.lineEnd()}function f(){o(),x.point=s,x.lineEnd=l}function s(t,n){a(h=t,n),p=j,v=O,d=_,g=m,b=w,x.point=a}function l(){e(j,O,y,_,m,w,p,v,h,d,g,b,u,n),x.lineEnd=c,c()}var h,p,v,d,g,b,y,j,O,_,m,w,x={point:i,lineStart:o,lineEnd:c,polygonStart:function(){n.polygonStart(),x.lineStart=f},polygonEnd:function(){n.polygonEnd(),x.lineStart=o}};return x}}(t,n):function(t){return Object(o.b)({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}},function(t,n,e){"use strict";n.a=function(t){function n(t,n){return[t*e,Object(r.t)(n)/e]}var e=Object(r.g)(t);return n.invert=function(t,n){return[t/e,Object(r.c)(n*e)]},n};var r=e(4)},function(t,n,e){"use strict";var r=e(4),i=e(125),o=e(68),u=e(70);n.a=function(){function t(t){var n=t[0],e=t[1];return l=null,c.point(n,e),l||(f.point(n,e),l)||(s.point(n,e),l)}function n(){return e=a=null,t}var e,a,c,f,s,l,h=Object(i.a)(),p=Object(o.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=Object(o.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,n){l=[t,n]}};return t.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?p:i>=.166&&i<.234&&r>=-.214&&r<-.115?v:h).invert(t)},t.stream=function(t){return e&&a===t?e:e=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([h.stream(a=t),p.stream(t),v.stream(t)])},t.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),v.precision(t),n()):h.precision()},t.scale=function(n){return arguments.length?(h.scale(n),p.scale(.35*n),v.scale(n),t.translate(h.translate())):h.scale()},t.translate=function(t){if(!arguments.length)return h.translate();var e=h.scale(),i=+t[0],o=+t[1];return c=h.translate(t).clipExtent([[i-.455*e,o-.238*e],[i+.455*e,o+.238*e]]).stream(d),f=p.translate([i-.307*e,o+.201*e]).clipExtent([[i-.425*e+r.i,o+.12*e+r.i],[i-.214*e-r.i,o+.234*e-r.i]]).stream(d),s=v.translate([i-.205*e,o+.212*e]).clipExtent([[i-.214*e+r.i,o+.166*e+r.i],[i-.115*e-r.i,o+.234*e-r.i]]).stream(d),n()},t.fitExtent=function(n,e){return Object(u.a)(t,n,e)},t.fitSize=function(n,e){return Object(u.b)(t,n,e)},t.scale(1070)}},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(4),i=e(37),o=e(17),u=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});u.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),n.b=function(){return Object(o.a)(u).scale(124.75).clipAngle(179.999)}},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(4),i=e(37),o=e(17),u=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});u.invert=Object(i.a)(function(t){return t}),n.b=function(){return Object(o.a)(u).scale(79.4188).clipAngle(179.999)}},function(t,n,e){"use strict";function r(t){return Object(o.v)((o.l+t)/2)}function i(t,n){function e(t,n){c>0?n<-o.l+o.i&&(n=-o.l+o.i):n>o.l-o.i&&(n=o.l-o.i);var e=c/Object(o.p)(r(n),u);return[e*Object(o.t)(u*t),c-e*Object(o.g)(u*t)]}var i=Object(o.g)(t),u=t===n?Object(o.t)(t):Object(o.n)(i/Object(o.g)(n))/Object(o.n)(r(n)/r(t)),c=i*Object(o.p)(r(t),u)/u;return u?(e.invert=function(t,n){var e=c-n,r=Object(o.s)(u)*Object(o.u)(t*t+e*e);return[Object(o.e)(t,Object(o.a)(e))/u*Object(o.s)(e),2*Object(o.d)(Object(o.p)(c/r,1/u))-o.l]},e):a.c}n.a=i;var o=e(4),u=e(69),a=e(71);n.b=function(){return Object(u.a)(i).scale(109.5).parallels([30,30])}},function(t,n,e){"use strict";function r(t,n){function e(t,n){var e=a-n,r=o*t;return[e*Object(i.t)(r),a-e*Object(i.g)(r)]}var r=Object(i.g)(t),o=t===n?Object(i.t)(t):(r-Object(i.g)(n))/(n-t),a=r/o+t;return Object(i.a)(o)<i.i?u.b:(e.invert=function(t,n){var e=a-n;return[Object(i.e)(t,Object(i.a)(e))/o*Object(i.s)(e),a-Object(i.s)(o)*Object(i.u)(t*t+e*e)]},e)}n.a=r;var i=e(4),o=e(69),u=e(127);n.b=function(){return Object(o.a)(r).scale(131.154).center([0,13.9389])}},function(t,n,e){"use strict";function r(t,n){var e=Object(i.g)(n),r=Object(i.g)(t)*e;return[e*Object(i.t)(t)/r,Object(i.t)(n)/r]}n.b=r;var i=e(4),o=e(37),u=e(17);r.invert=Object(o.a)(i.d),n.a=function(){return Object(u.a)(r).scale(144.049).clipAngle(60)}},function(t,n,e){"use strict";function r(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?o.a:Object(u.b)({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}var i=e(65),o=e(67),u=e(51),a=e(70);n.a=function(){function t(){return c=f=null,s}var n,e,u,c,f,s,l=1,h=0,p=0,v=1,d=1,g=o.a,b=null,y=o.a;return s={stream:function(t){return c&&f===t?c:c=g(y(f=t))},clipExtent:function(r){return arguments.length?(y=null==r?(b=n=e=u=null,o.a):Object(i.a)(b=+r[0][0],n=+r[0][1],e=+r[1][0],u=+r[1][1]),t()):null==b?null:[[b,n],[e,u]]},scale:function(n){return arguments.length?(g=r((l=+n)*v,l*d,h,p),t()):l},translate:function(n){return arguments.length?(g=r(l*v,l*d,h=+n[0],p=+n[1]),t()):[h,p]},reflectX:function(n){return arguments.length?(g=r(l*(v=n?-1:1),l*d,h,p),t()):v<0},reflectY:function(n){return arguments.length?(g=r(l*v,l*(d=n?-1:1),h,p),t()):d<0},fitExtent:function(t,n){return Object(a.a)(s,t,n)},fitSize:function(t,n){return Object(a.b)(s,t,n)}}}},function(t,n,e){"use strict";function r(t,n){return[Object(i.g)(n)*Object(i.t)(t),Object(i.t)(n)]}n.b=r;var i=e(4),o=e(37),u=e(17);r.invert=Object(o.a)(i.c),n.a=function(){return Object(u.a)(r).scale(249.5).clipAngle(90+i.i)}},function(t,n,e){"use strict";function r(t,n){var e=Object(i.g)(n),r=1+Object(i.g)(t)*e;return[e*Object(i.t)(t)/r,Object(i.t)(n)/r]}n.b=r;var i=e(4),o=e(37),u=e(17);r.invert=Object(o.a)(function(t){return 2*Object(i.d)(t)}),n.a=function(){return Object(u.a)(r).scale(250).clipAngle(142)}},function(t,n,e){"use strict";function r(t,n){return[Object(i.n)(Object(i.v)((i.l+n)/2)),-t]}n.b=r;var i=e(4),o=e(71);r.invert=function(t,n){return[-n,2*Object(i.d)(Object(i.k)(t))-i.l]},n.a=function(){var t=Object(o.b)(r),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}},function(t,n,e){"use strict";function r(t){function n(t,n){var e=Object(o.h)(t),i=Object(o.h)(n),u=Object(o.y)(n),a=i*e,c=-((1-a?Object(o.p)((1+a)/2)/(1-a):-.5)+r/(1+a));return[c*i*Object(o.y)(t),c*u]}var e=Object(o.F)(t/2),r=2*Object(o.p)(Object(o.h)(t/2))/(e*e);return n.invert=function(n,e){var i,u=Object(o.B)(n*n+e*e),a=-t/2,c=50;if(!u)return[0,0];do{var f=a/2,s=Object(o.h)(f),l=Object(o.y)(f),h=Object(o.F)(f),p=Object(o.p)(1/s);a-=i=(2/h*p-r*h-u)/(-p/(l*l)+1-r/(2*s*s))}while(Object(o.a)(i)>o.k&&--c>0);var v=Object(o.y)(a);return[Object(o.g)(n*v,u*Object(o.h)(a)),Object(o.e)(e*v/u)]},n}n.a=r;var i=e(0),o=e(1);n.b=function(){var t=o.o,n=Object(i.geoProjectionMutator)(r),e=n(t);return e.radius=function(e){return arguments.length?n(t=e*o.v):t*o.j},e.scale(179.976).clipAngle(147)}},function(t,n,e){"use strict";function r(t){function n(t,n){var c=Object(o.h)(n),f=Object(o.h)(t/=2);return[(1+c)*Object(o.y)(t),(i*n>-Object(o.g)(f,u)-.001?0:10*-i)+a+Object(o.y)(n)*r-(1+c)*e*f]}var e=Object(o.y)(t),r=Object(o.h)(t),i=t>=0?1:-1,u=Object(o.F)(i*t),a=(1+e-r)/2;return n.invert=function(t,n){var c=0,f=0,s=50;do{var l=Object(o.h)(c),h=Object(o.y)(c),p=Object(o.h)(f),v=Object(o.y)(f),d=1+p,g=d*h-t,b=a+v*r-d*e*l-n,y=d*l/2,j=-h*v,O=e*d*h/2,_=r*p+e*l*v,m=j*O-_*y,w=(b*j-g*_)/m/2,x=(g*O-b*y)/m;c-=w,f-=x}while((Object(o.a)(w)>o.k||Object(o.a)(x)>o.k)&&--s>0);return i*f>-Object(o.g)(Object(o.h)(c),u)-.001?[2*c,f]:null},n}n.a=r;var i=e(0),o=e(1);n.b=function(){var t=20*o.v,n=t>=0?1:-1,e=Object(o.F)(n*t),u=Object(i.geoProjectionMutator)(r),a=u(t),c=a.stream;return a.parallel=function(r){return arguments.length?(e=Object(o.F)((n=(t=r*o.v)>=0?1:-1)*t),u(t)):t*o.j},a.stream=function(r){var i=a.rotate(),u=c(r),f=(a.rotate([0,0]),c(r));return a.rotate(i),u.sphere=function(){f.polygonStart(),f.lineStart();for(var r=-180*n;n*r<180;r+=90*n)f.point(r,90*n);for(;n*(r-=t)>=-180;)f.point(r,n*-Object(o.g)(Object(o.h)(r*o.v/2),e)*o.j);f.lineEnd(),f.polygonEnd()},u},a.scale(218.695).center([0,28.0974])}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.a)(n);return e<o.u?[t,Object(o.p)(Object(o.F)(o.u+n/2))]:[t*Object(o.h)(e)*(2*o.D-1/Object(o.y)(e)),Object(o.x)(n)*(2*o.D*(e-o.u)-Object(o.p)(Object(o.F)(e/2)))]}n.a=r;var i=e(0),o=e(1),u=Object(o.B)(8),a=Object(o.p)(1+o.D);r.invert=function(t,n){if((r=Object(o.a)(n))<a)return[t,2*Object(o.f)(Object(o.m)(n))-o.o];var e,r,i=o.u,c=25;do{var f=Object(o.h)(i/2),s=Object(o.F)(i/2);i-=e=(u*(i-o.u)-Object(o.p)(s)-r)/(u-f*f/(2*s))}while(Object(o.a)(e)>o.l&&--c>0);return[t/(Object(o.h)(i)*(u-1/Object(o.y)(i))),Object(o.x)(n)*i]},n.b=function(){return Object(i.geoProjection)(r).scale(112.314)}},function(t,n,e){"use strict";function r(t){function n(t,n){var r=Object(i.geoAzimuthalEquidistantRaw)(t,n);if(Object(o.a)(t)>o.o){var u=Object(o.g)(r[1],r[0]),a=Object(o.B)(r[0]*r[0]+r[1]*r[1]),c=e*Object(o.w)((u-o.o)/e)+o.o,f=Object(o.g)(Object(o.y)(u-=c),2-Object(o.h)(u));u=c+Object(o.e)(o.s/a*Object(o.y)(f))-f,r[0]=a*Object(o.h)(u),r[1]=a*Object(o.y)(u)}return r}var e=2*o.s/t;return n.invert=function(t,n){var r=Object(o.B)(t*t+n*n);if(r>o.o){var u=Object(o.g)(n,t),a=e*Object(o.w)((u-o.o)/e)+o.o,c=u>a?-1:1,f=r*Object(o.h)(a-u),s=1/Object(o.F)(c*Object(o.b)((f-o.s)/Object(o.B)(o.s*(o.s-2*f)+r*r)));u=a+2*Object(o.f)((s+c*Object(o.B)(s*s-3))/3),t=r*Object(o.h)(u),n=r*Object(o.y)(u)}return i.geoAzimuthalEquidistantRaw.invert(t,n)},n}n.a=r;var i=e(0),o=e(1);n.b=function(){var t=5,n=Object(i.geoProjectionMutator)(r),e=n(t),u=e.stream,a=-Object(o.h)(.01*o.v),c=Object(o.y)(.01*o.v);return e.lobes=function(e){return arguments.length?n(t=+e):t},e.stream=function(n){var r=e.rotate(),i=u(n),f=(e.rotate([0,0]),u(n));return e.rotate(r),i.sphere=function(){f.polygonStart(),f.lineStart();for(var n=0,e=360/t,r=2*o.s/t,i=90-180/t,u=o.o;n<t;++n,i-=e,u-=r)f.point(Object(o.g)(c*Object(o.h)(u),a)*o.j,Object(o.e)(c*Object(o.y)(u))*o.j),i<-90?(f.point(-90,-180-i-.01),f.point(-90,-180-i+.01)):(f.point(90,i+.01),f.point(90,i-.01));f.lineEnd(),f.polygonEnd()},i},e.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}},function(t,n,e){"use strict";function r(t){function n(n,r){var i=e+t-r,u=i?n*Object(o.h)(r)/i:i;return[i*Object(o.y)(u),e-i*Object(o.h)(u)]}if(!t)return u.b;var e=1/Object(o.F)(t);return n.invert=function(n,r){var i=Object(o.B)(n*n+(r=e-r)*r),u=e+t-i;return[i/Object(o.h)(u)*Object(o.g)(n,r),u]},n}n.a=r;var i=e(31),o=e(1),u=e(38);n.b=function(){return Object(i.a)(r).scale(123.082).center([0,26.1441]).parallel(45)}},function(t,n,e){"use strict";function r(t){function n(n,e){var r=o.o-e,i=r?n*t*Object(o.y)(r)/r:r;return[r*Object(o.y)(i)/t,o.o-r*Object(o.h)(i)]}return n.invert=function(n,e){var r=n*t,i=o.o-e,u=Object(o.B)(r*r+i*i),a=Object(o.g)(r,i);return[(u?u/Object(o.y)(u):1)*a/t,o.o-u]},n}n.a=r;var i=e(0),o=e(1);n.b=function(){var t=.5,n=Object(i.geoProjectionMutator)(r),e=n(t);return e.fraction=function(e){return arguments.length?n(t=+e):t},e.scale(158.837)}},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(0),i=e(1),o=e(21),u=Object(o.b)(1,4/i.s,i.s);n.b=function(){return Object(r.geoProjection)(u).scale(152.63)}},function(t,n,e){"use strict";function r(t,n,e,r,i,o){var u,a=Object(s.h)(o);if(Object(s.a)(t)>1||Object(s.a)(o)>1)u=Object(s.b)(e*i+n*r*a);else{var c=Object(s.y)(t/2),f=Object(s.y)(o/2);u=2*Object(s.e)(Object(s.B)(c*c+n*r*f*f))}return Object(s.a)(u)>s.k?[u,Object(s.g)(r*Object(s.y)(o),n*i-e*r*a)]:[0,0]}function i(t,n,e){return Object(s.b)((t*t+n*n-e*e)/(2*t*n))}function o(t){return t-2*s.s*Object(s.n)((t+s.s)/(2*s.s))}function u(t,n,e){for(var u,a=[[t[0],t[1],Object(s.y)(t[1]),Object(s.h)(t[1])],[n[0],n[1],Object(s.y)(n[1]),Object(s.h)(n[1])],[e[0],e[1],Object(s.y)(e[1]),Object(s.h)(e[1])]],c=a[2],f=0;f<3;++f,c=u)c.v=r((u=a[f])[1]-c[1],c[3],c[2],u[3],u[2],u[0]-c[0]),c.point=[0,0];var l=i(a[0].v[0],a[2].v[0],a[1].v[0]),h=i(a[0].v[0],a[1].v[0],a[2].v[0]),p=s.s-l;a[2].point[1]=0,a[0].point[0]=-(a[1].point[0]=a[0].v[0]/2);var v=[a[2].point[0]=a[0].point[0]+a[2].v[0]*Object(s.h)(l),2*(a[0].point[1]=a[1].point[1]=a[2].v[0]*Object(s.y)(l))];return function(t,n){var e,u=Object(s.y)(n),c=Object(s.h)(n),f=new Array(3);for(e=0;e<3;++e){var l=a[e];if(f[e]=r(n-l[1],l[3],l[2],c,u,t-l[0]),!f[e][0])return l.point;f[e][1]=o(f[e][1]-l.v[1])}var d=v.slice();for(e=0;e<3;++e){var b=i(a[e].v[0],f[e][0],f[2==e?0:e+1][0]);f[e][1]<0&&(b=-b),e?1==e?(b=h-b,d[0]-=f[e][0]*Object(s.h)(b),d[1]-=f[e][0]*Object(s.y)(b)):(b=p-b,d[0]+=f[e][0]*Object(s.h)(b),d[1]+=f[e][0]*Object(s.y)(b)):(d[0]+=f[e][0]*Object(s.h)(b),d[1]-=f[e][0]*Object(s.y)(b))}return d[0]/=3,d[1]/=3,d}}function a(t){return t[0]*=s.v,t[1]*=s.v,t}function c(t,n,e){var r=Object(f.geoCentroid)({type:"MultiPoint",coordinates:[t,n,e]}),i=[-r[0],-r[1]],o=Object(f.geoRotation)(i),c=Object(f.geoProjection)(u(a(o(t)),a(o(n)),a(o(e)))).rotate(i),s=c.center;return delete c.rotate,c.center=function(t){return arguments.length?s(o(t)):o.invert(s())},c.clipAngle(90)}n.b=u,n.a=function(){return c([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},n.c=c;var f=e(0),s=e(1)},function(t,n,e){"use strict";function r(t){function n(t,n){return[t,(t?t/Object(i.y)(t):1)*(Object(i.y)(n)*Object(i.h)(t)-e*Object(i.h)(n))]}var e=Object(i.F)(t);return n.invert=e?function(t,n){t&&(n*=Object(i.y)(t)/t);var r=Object(i.h)(t);return[t,2*Object(i.g)(Object(i.B)(r*r+e*e-n*n)-r,e-n)]}:function(t,n){return[t,Object(i.e)(t?n*Object(i.F)(t)/t:n)]},n}n.a=r;var i=e(1),o=e(31);n.b=function(){return Object(o.a)(r).scale(249.828).clipAngle(90)}},function(t,n,e){"use strict";function r(t,n){return[u*t*(2*Object(o.h)(2*n/3)-1)/o.E,u*o.E*Object(o.y)(n/3)]}n.a=r;var i=e(0),o=e(1),u=Object(o.B)(3);r.invert=function(t,n){var e=3*Object(o.e)(n/(u*o.E));return[o.E*t/(u*(2*Object(o.h)(2*e/3)-1)),e]},n.b=function(){return Object(i.geoProjection)(r).scale(156.19)}},function(t,n,e){"use strict";function r(t){function n(t,n){return[t*e,(1+e)*Object(i.F)(n/2)]}var e=Object(i.h)(t);return n.invert=function(t,n){return[t/e,2*Object(i.f)(n/(1+e))]},n}n.a=r;var i=e(1),o=e(31);n.b=function(){return Object(o.a)(r).scale(124.75)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.B)(8/(3*o.s));return[e*t*(1-Object(o.a)(n)/o.s),e*n]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=Object(o.B)(8/(3*o.s)),r=n/e;return[t/(e*(1-Object(o.a)(r)/o.s)),r]},n.a=function(){return Object(i.geoProjection)(r).scale(165.664)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.B)(4-3*Object(o.y)(Object(o.a)(n)));return[2/Object(o.B)(6*o.s)*t*e,Object(o.x)(n)*Object(o.B)(2*o.s/3)*(2-e)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=2-Object(o.a)(n)/Object(o.B)(2*o.s/3);return[t*Object(o.B)(6*o.s)/(2*e),Object(o.x)(n)*Object(o.e)((4-e*e)/3)]},n.a=function(){return Object(i.geoProjection)(r).scale(165.664)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.B)(o.s*(4+o.s));return[2/e*t*(1+Object(o.B)(1-4*n*n/(o.s*o.s))),4/e*n]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=Object(o.B)(o.s*(4+o.s))/2;return[t*e/(1+Object(o.B)(1-n*n*(4+o.s)/(4*o.s))),n*e/2]},n.a=function(){return Object(i.geoProjection)(r).scale(180.739)}},function(t,n,e){"use strict";function r(t,n){var e=(2+o.o)*Object(o.y)(n);n/=2;for(var r=0,i=1/0;r<10&&Object(o.a)(i)>o.k;r++){var u=Object(o.h)(n);n-=i=(n+Object(o.y)(n)*(u+2)-e)/(2*u*(1+u))}return[2/Object(o.B)(o.s*(4+o.s))*t*(1+Object(o.h)(n)),2*Object(o.B)(o.s/(4+o.s))*Object(o.y)(n)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=n*Object(o.B)((4+o.s)/o.s)/2,r=Object(o.e)(e),i=Object(o.h)(r);return[t/(2/Object(o.B)(o.s*(4+o.s))*(1+i)),Object(o.e)((r+e*(i+2))/(2+o.o))]},n.a=function(){return Object(i.geoProjection)(r).scale(180.739)}},function(t,n,e){"use strict";function r(t,n){return[t*(1+Object(o.h)(n))/Object(o.B)(2+o.s),2*n/Object(o.B)(2+o.s)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=Object(o.B)(2+o.s),r=n*e/2;return[e*t/(1+Object(o.h)(r)),r]},n.a=function(){return Object(i.geoProjection)(r).scale(173.044)}},function(t,n,e){"use strict";function r(t,n){for(var e=(1+o.o)*Object(o.y)(n),r=0,i=1/0;r<10&&Object(o.a)(i)>o.k;r++)n-=i=(n+Object(o.y)(n)-e)/(1+Object(o.h)(n));return e=Object(o.B)(2+o.s),[t*(1+Object(o.h)(n))/e,2*n/e]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=1+o.o,r=Object(o.B)(e/2);return[2*t*r/(1+Object(o.h)(n*=r)),Object(o.e)((n+Object(o.y)(n))/e)]},n.a=function(){return Object(i.geoProjection)(r).scale(173.044)}},function(t,n,e){"use strict";function r(t,n){var e=Object(u.y)(t/=2),r=Object(u.h)(t),i=Object(u.B)(Object(u.h)(n)),o=Object(u.h)(n/=2),c=Object(u.y)(n)/(o+u.D*r*i),f=Object(u.B)(2/(1+c*c)),s=Object(u.B)((u.D*o+(r+e)*i)/(u.D*o+(r-e)*i));return[a*(f*(s-1/s)-2*Object(u.p)(s)),a*(f*c*(s+1/s)-2*Object(u.f)(c))]}n.b=r;var i=e(0),o=e(130),u=e(1),a=3+2*u.D;r.invert=function(t,n){if(!(e=o.a.invert(t/1.2,1.065*n)))return null;var e,r=e[0],i=e[1],c=20;t/=a,n/=a;do{var f=r/2,s=i/2,l=Object(u.y)(f),h=Object(u.h)(f),p=Object(u.y)(s),v=Object(u.h)(s),d=Object(u.h)(i),g=Object(u.B)(d),b=p/(v+u.D*h*g),y=b*b,j=Object(u.B)(2/(1+y)),O=(u.D*v+(h+l)*g)/(u.D*v+(h-l)*g),_=Object(u.B)(O),m=_-1/_,w=_+1/_,x=j*m-2*Object(u.p)(_)-t,E=j*b*w-2*Object(u.f)(b)-n,M=p&&u.C*g*l*y/p,T=(u.D*h*v+g)/(2*(v+u.D*h*g)*(v+u.D*h*g)*g),S=-.5*b*j*j*j,k=S*M,C=S*T,P=(P=2*v+u.D*g*(h-l))*P*_,N=(u.D*h*v*g+d)/P,R=-u.D*l*p/(g*P),B=m*k-2*N/_+j*(N+N/O),A=m*C-2*R/_+j*(R+R/O),I=b*w*k-2*M/(1+y)+j*w*M+j*b*(N-N/O),L=b*w*C-2*T/(1+y)+j*w*T+j*b*(R-R/O),z=A*I-L*B;if(!z)break;var q=(E*A-x*L)/z,F=(x*I-E*B)/z;r-=q,i=Object(u.q)(-u.o,Object(u.r)(u.o,i-F))}while((Object(u.a)(q)>u.k||Object(u.a)(F)>u.k)&&--c>0);return Object(u.a)(Object(u.a)(i)-u.o)<u.k?[0,i]:c&&[r,i]},n.a=function(){return Object(i.geoProjection)(r).scale(62.5271)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.F)(n/2);return[t*u*Object(o.B)(1-e*e),(1+u)*e]}n.b=r;var i=e(0),o=e(1),u=Object(o.h)(35*o.v);r.invert=function(t,n){var e=n/(1+u);return[t&&t/(u*Object(o.B)(1-e*e)),2*Object(o.f)(e)]},n.a=function(){return Object(i.geoProjection)(r).scale(137.152)}},function(t,n,e){"use strict";function r(t,n){var e=n/2,r=Object(o.h)(e);return[2*t/o.E*Object(o.h)(n)*r*r,o.E*Object(o.F)(e)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=Object(o.f)(n/o.E),r=Object(o.h)(e),i=2*e;return[t*o.E/2/(Object(o.h)(i)*r*r),i]},n.a=function(){return Object(i.geoProjection)(r).scale(135.264)}},function(t,n,e){"use strict";function r(t){return[t[0]/2,Object(u.e)(Object(u.F)(t[1]/2*u.v))*u.j]}function i(t){return[2*t[0],2*Object(u.f)(Object(u.y)(t[1]*u.v))*u.j]}var o=e(0),u=e(1);n.a=function(t){function n(t){return a(r(t))}function e(t){n[t]=function(e){return arguments.length?(a[t](e),n):a[t]()}}null==t&&(t=o.geoOrthographic);var a=t(),c=Object(o.geoEquirectangular)().scale(u.j).precision(0).clipAngle(null).translate([0,0]);return a.invert&&(n.invert=function(t){return i(a.invert(t))}),n.stream=function(t){var n=a.stream(t),e=c.stream({point:function(t,e){n.point(t/2,Object(u.e)(Object(u.F)(-e/2*u.v))*u.j)},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}});return e.sphere=n.sphere,e},n.rotate=function(t){return arguments.length?(c.rotate(t),n):c.rotate()},n.center=function(t){return arguments.length?(a.center(r(t)),n):i(a.center())},e("clipAngle"),e("clipExtent"),e("scale"),e("translate"),e("precision"),n.scale(249.5)}},function(t,n,e){"use strict";function r(t,n){function e(n,e){var f=Object(u.geoAzimuthalEquidistantRaw)(n,e),s=f[0],l=f[1],h=s*s+l*l;if(h>c){var p=Object(a.B)(h),v=Object(a.g)(l,s),d=r*Object(a.w)(v/r),g=v-d,b=t*Object(a.h)(g),y=(t*Object(a.y)(g)-g*Object(a.y)(b))/(a.o-b),j=i(g,y),O=(a.s-t)/o(j,b,a.s);s=p;var _,m=50;do{s-=_=(t+o(j,b,s)*O-p)/(j(s)*O)}while(Object(a.a)(_)>a.k&&--m>0);l=g*Object(a.y)(s),s<a.o&&(l-=y*(s-a.o));var w=Object(a.y)(d),x=Object(a.h)(d);f[0]=s*x-l*w,f[1]=s*w+l*x}return f}var r=2*a.s/n,c=t*t;return e.invert=function(n,e){var f=n*n+e*e;if(f>c){var s=Object(a.B)(f),l=Object(a.g)(e,n),h=r*Object(a.w)(l/r),p=l-h;n=s*Object(a.h)(p),e=s*Object(a.y)(p);for(var v=n-a.o,d=Object(a.y)(n),g=e/d,b=n<a.o?1/0:0,y=10;;){var j=t*Object(a.y)(g),O=t*Object(a.h)(g),_=Object(a.y)(O),m=a.o-O,w=(j-g*_)/m,x=i(g,w);if(Object(a.a)(b)<a.l||!--y)break;g-=b=(g*d-w*v-e)/(d-2*v*(m*(O+g*j*Object(a.h)(O)-_)-j*(j-g*_))/(m*m))}l=h+g,n=(s=t+o(x,O,n)*(a.s-t)/o(x,O,a.s))*Object(a.h)(l),e=s*Object(a.y)(l)}return u.geoAzimuthalEquidistantRaw.invert(n,e)},e}function i(t,n){return function(e){var r=t*Object(a.h)(e);return e<a.o&&(r-=n),Object(a.B)(1+r*r)}}function o(t,n,e){for(var r=(e-n)/50,i=t(n)+t(e),o=1,u=n;o<50;++o)i+=2*t(u+=r);return.5*i*r}n.b=r;var u=e(0),a=e(1);n.a=function(){var t=6,n=30*a.v,e=Object(a.h)(n),i=Object(a.y)(n),o=Object(u.geoProjectionMutator)(r),c=o(n,t),f=c.stream,s=-Object(a.h)(.01*a.v),l=Object(a.y)(.01*a.v);return c.radius=function(r){return arguments.length?(e=Object(a.h)(n=r*a.v),i=Object(a.y)(n),o(n,t)):n*a.j},c.lobes=function(e){return arguments.length?o(n,t=+e):t},c.stream=function(n){var r=c.rotate(),o=f(n),u=(c.rotate([0,0]),f(n));return c.rotate(r),o.sphere=function(){u.polygonStart(),u.lineStart();for(var n=0,r=2*a.s/t,o=0;n<t;++n,o-=r)u.point(Object(a.g)(l*Object(a.h)(o),s)*a.j,Object(a.e)(l*Object(a.y)(o))*a.j),u.point(Object(a.g)(i*Object(a.h)(o-r/2),e)*a.j,Object(a.e)(i*Object(a.y)(o-r/2))*a.j);u.lineEnd(),u.polygonEnd()},o},c.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var r=e(0),i=e(52),o=Object(i.a)(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);n.a=function(){return Object(r.geoProjection)(o).scale(149.995)}},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var r=e(0),i=e(52),o=Object(i.a)(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);n.a=function(){return Object(r.geoProjection)(o).scale(153.93)}},function(t,n,e){"use strict";e.d(n,"b",function(){return u});var r=e(0),i=e(52),o=e(1),u=Object(i.a)(5/6*o.s,-.62636,-.0344,0,1.3493,-.05524,0,.045);n.a=function(){return Object(r.geoProjection)(u).scale(130.945)}},function(t,n,e){"use strict";function r(t,n){var e=t*t,r=n*n;return[t*(1-.162388*r)*(.87-952426e-9*e*e),n*(1+r/12)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e,r=t,i=n,u=50;do{var a=i*i;i-=e=(i*(1+a/12)-n)/(1+a/4)}while(Object(o.a)(e)>o.k&&--u>0);u=50,t/=1-.162388*a;do{var c=(c=r*r)*c;r-=e=(r*(.87-952426e-9*c)-t)/(.87-.00476213*c)}while(Object(o.a)(e)>o.k&&--u>0);return[r,i]},n.a=function(){return Object(i.geoProjection)(r).scale(131.747)}},function(t,n,e){"use strict";e.d(n,"b",function(){return o});var r=e(0),i=e(52),o=Object(i.a)(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);n.a=function(){return Object(r.geoProjection)(o).scale(131.087)}},function(t,n,e){"use strict";function r(t,n){var e,r,i,u,a;if(n<o.k)return[(u=Object(o.y)(t))-(e=n*(t-u*(r=Object(o.h)(t)))/4)*r,r+e*u,1-n*u*u/2,t-e];if(n>=1-o.k)return e=(1-n)/4,i=1/(r=Object(o.i)(t)),[(u=Object(o.G)(t))+e*((a=r*Object(o.A)(t))-t)/(r*r),i-e*u*i*(a-t),i+e*u*i*(a+t),2*Object(o.f)(Object(o.m)(t))-o.o+e*(a-t)/r];var c=[1,0,0,0,0,0,0,0,0],f=[Object(o.B)(n),0,0,0,0,0,0,0,0],s=0;for(r=Object(o.B)(1-n),a=1;Object(o.a)(f[s]/c[s])>o.k&&s<8;)e=c[s++],f[s]=(e-r)/2,c[s]=(e+r)/2,r=Object(o.B)(e*r),a*=2;i=a*c[s]*t;do{u=f[s]*Object(o.y)(r=i)/c[s],i=(Object(o.e)(u)+i)/2}while(--s);return[Object(o.y)(i),u=Object(o.h)(i),u/Object(o.h)(i-r),i]}function i(t,n){if(!n)return t;if(1===n)return Object(o.p)(Object(o.F)(t/2+o.u));for(var e=1,r=Object(o.B)(1-n),i=Object(o.B)(n),u=0;Object(o.a)(i)>o.k;u++){if(t%o.s){var a=Object(o.f)(r*Object(o.F)(t)/e);a<0&&(a+=o.s),t+=a+~~(t/o.s)*o.s}else t+=t;i=(e+r)/2,r=Object(o.B)(e*r),i=((e=i)-r)/2}return t/(Object(o.t)(2,u)*e)}n.c=function(t,n,e){var i,o,u;return t?(i=r(t,e),n?(o=r(n,1-e),[[i[0]*o[2]/(u=o[1]*o[1]+e*i[0]*i[0]*o[0]*o[0]),i[1]*i[2]*o[0]*o[1]/u],[i[1]*o[1]/u,-i[0]*i[2]*o[0]*o[2]/u],[i[2]*o[1]*o[2]/u,-e*i[0]*i[1]*o[0]/u]]):[[i[0],0],[i[1],0],[i[2],0]]):[[0,(o=r(n,1-e))[0]/o[1]],[1/o[1],0],[o[2]/o[1],0]]},n.b=function(t,n,e){var r=Object(o.a)(t),u=Object(o.a)(n),a=Object(o.A)(u);if(r){var c=1/Object(o.y)(r),f=1/(Object(o.F)(r)*Object(o.F)(r)),s=-(f+e*(a*a*c*c)-1+e),l=(e-1)*f,h=(-s+Object(o.B)(s*s-4*l))/2;return[i(Object(o.f)(1/Object(o.B)(h)),e)*Object(o.x)(t),i(Object(o.f)(Object(o.B)((h/f-1)/e)),1-e)*Object(o.x)(n)]}return[0,i(Object(o.f)(a),1-e)*Object(o.x)(n)]},n.a=i;var o=e(1)},function(t,n,e){"use strict";function r(t,n){function e(e,r){var i=Object(o.geoAzimuthalEqualAreaRaw)(e/n,r);return i[0]*=t,i}return arguments.length<2&&(n=t),1===n?o.geoAzimuthalEqualAreaRaw:n===1/0?i:(e.invert=function(e,r){var i=o.geoAzimuthalEqualAreaRaw.invert(e/t,r);return i[0]*=n,i},e)}function i(t,n){return[t*Object(u.h)(n)/Object(u.h)(n/=2),2*Object(u.y)(n)]}n.b=r;var o=e(0),u=e(1);i.invert=function(t,n){var e=2*Object(u.e)(n/2);return[t*Object(u.h)(e/2)/Object(u.h)(e),e]},n.a=function(){var t=2,n=Object(o.geoProjectionMutator)(r),e=n(t);return e.coefficient=function(e){return arguments.length?n(t=+e):t},e.scale(169.529)}},function(t,n,e){"use strict";function r(t){function n(t,n){var i=o(t,n);t=i[0],n=i[1];var a=Object(u.y)(n),c=Object(u.h)(n),f=Object(u.h)(t),s=Object(u.b)(e*a+r*c*f),l=Object(u.y)(s),h=Object(u.a)(l)>u.k?s/l:1;return[h*r*Object(u.y)(t),(Object(u.a)(t)>u.o?h:-h)*(e*c-r*a*f)]}var e=Object(u.y)(t),r=Object(u.h)(t),o=i(t);return o.invert=i(-t),n.invert=function(t,n){var r=Object(u.B)(t*t+n*n),i=-Object(u.y)(r),a=Object(u.h)(r),c=r*a,f=-n*i,s=r*e,l=Object(u.B)(c*c+f*f-s*s),h=Object(u.g)(c*s+f*l,f*s-c*l),p=(r>u.o?-1:1)*Object(u.g)(t*i,r*Object(u.h)(h)*a+n*Object(u.y)(h)*i);return o.invert(p,h)},n}function i(t){var n=Object(u.y)(t),e=Object(u.h)(t);return function(t,r){var i=Object(u.h)(r),o=Object(u.h)(t)*i,a=Object(u.y)(t)*i,c=Object(u.y)(r);return[Object(u.g)(a,o*e-c*n),Object(u.e)(c*e+o*n)]}}n.b=r;var o=e(0),u=e(1);n.a=function(){var t=0,n=Object(o.geoProjectionMutator)(r),e=n(t),i=e.rotate,a=e.stream,c=Object(o.geoCircle)();return e.parallel=function(r){if(!arguments.length)return t*u.j;var i=e.rotate();return n(t=r*u.v).rotate(i)},e.rotate=function(n){return arguments.length?(i.call(e,[n[0],n[1]-t*u.j]),c.center([-n[0],-n[1]]),e):((n=i.call(e))[1]+=t*u.j,n)},e.stream=function(t){return(t=a(t)).sphere=function(){t.polygonStart();var n,e=c.radius(89.99)().coordinates[0],r=e.length-1,i=-1;for(t.lineStart();++i<r;)t.point((n=e[i])[0],n[1]);for(t.lineEnd(),r=(e=c.radius(90.01)().coordinates[0]).length-1,t.lineStart();--i>=0;)t.point((n=e[i])[0],n[1]);t.lineEnd(),t.polygonEnd()},t},e.scale(79.4187).parallel(45).clipAngle(179.999)}},function(t,n,e){"use strict";function r(t){function n(n,f){var v,d=Object(c.a)(f);if(d>e){var g=Object(c.r)(t-1,Object(c.q)(0,Object(c.n)((n+c.s)/l)));n+=c.s*(t-1)/t-g*l,(v=Object(u.a)(n,d))[0]=v[0]*c.H/r-c.H*(t-1)/(2*t)+g*c.H/t,v[1]=i+4*(v[1]-o)*a/c.H,f<0&&(v[1]=-v[1])}else v=s(n,f);return v[0]*=h,v[1]/=p,v}var e=f*c.v,r=Object(u.a)(c.s,e)[0]-Object(u.a)(-c.s,e)[0],i=s(0,e)[1],o=Object(u.a)(0,e)[1],a=c.E-o,l=c.H/t,h=4/c.H,p=i+a*a*4/c.H;return n.invert=function(n,e){n/=h,e*=p;var f=Object(c.a)(e);if(f>i){var v=Object(c.r)(t-1,Object(c.q)(0,Object(c.n)((n+c.s)/l))),d=u.a.invert(n=(n+c.s*(t-1)/t-v*l)*r/c.H,.25*(f-i)*c.H/a+o);return d[0]-=c.s*(t-1)/t-v*l,e<0&&(d[1]=-d[1]),d}return s.invert(n,e)},n}n.b=r;var i=e(14),o=e(0),u=e(72),a=e(132),c=e(1),f=41+48/36+37/3600,s=Object(a.a)(0);n.a=function(){var t=4,n=Object(o.geoProjectionMutator)(r),e=n(t),u=e.stream;return e.lobes=function(e){return arguments.length?n(t=+e):t},e.stream=function(n){var r=e.rotate(),a=u(n),c=(e.rotate([0,0]),u(n));return e.rotate(r),a.sphere=function(){Object(o.geoStream)(function(t){return{type:"Polygon",coordinates:[Object(i.range)(-180,180+t/2,t).map(function(t,n){return[t,1&n?90-1e-6:f]}).concat(Object(i.range)(180,-180-t/2,-t).map(function(t,n){return[t,1&n?1e-6-90:-f]}))]}}(180/t),c)},a},e.scale(239.75)}},function(t,n,e){"use strict";function r(t){function n(n,i){var l,h,p=1-Object(o.y)(i);if(p&&p<2){var v,d=o.o-i,g=25;do{var b=Object(o.y)(d),y=Object(o.h)(d),j=u+Object(o.g)(b,r-y),O=1+s-2*r*y;d-=v=(d-f*u-r*b+O*j-.5*p*e)/(2*r*b*j)}while(Object(o.a)(v)>o.l&&--g>0);l=a*Object(o.B)(O),h=n*j/o.s}else l=a*(t+p),h=n*u/o.s;return[l*Object(o.y)(h),c-l*Object(o.h)(h)]}var e,r=1+t,i=Object(o.y)(1/r),u=Object(o.e)(i),a=2*Object(o.B)(o.s/(e=o.s+4*u*r)),c=.5*a*(r+Object(o.B)(t*(2+t))),f=t*t,s=r*r;return n.invert=function(t,n){var i=t*t+(n-=c)*n,l=(1+s-i/(a*a))/(2*r),h=Object(o.b)(l),p=Object(o.y)(h),v=u+Object(o.g)(p,r-l);return[Object(o.e)(t/Object(o.B)(i))*o.s/v,Object(o.e)(1-2*(h-f*u-r*p+(1+s-2*r*l)*v)/e)]},n}n.b=r;var i=e(0),o=e(1);n.a=function(){var t=1,n=Object(i.geoProjectionMutator)(r),e=n(t);return e.ratio=function(e){return arguments.length?n(t=+e):t},e.scale(167.774).center([0,18.67])}},function(t,n,e){"use strict";var r=e(131),i=e(23),o=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];n.a=function(){return Object(i.a)(r.a,o).scale(160.857)}},function(t,n,e){"use strict";var r=e(136),i=e(23),o=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];n.a=function(){return Object(i.a)(r.b,o).scale(152.63)}},function(t,n,e){"use strict";var r=e(21),i=e(23),o=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];n.a=function(){return Object(i.a)(r.d,o).scale(169.529)}},function(t,n,e){"use strict";var r=e(21),i=e(23),o=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];n.a=function(){return Object(i.a)(r.d,o).scale(169.529).rotate([20,0])}},function(t,n,e){"use strict";var r=e(73),i=e(23),o=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];n.a=function(){return Object(i.a)(r.c,o).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}},function(t,n,e){"use strict";var r=e(38),i=e(23),o=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];n.a=function(){return Object(i.a)(r.b,o).scale(152.63).rotate([-20,0])}},function(t,n,e){"use strict";function r(t,n){return[3/o.H*t*Object(o.B)(o.s*o.s/3-n*n),n]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){return[o.H/3*t/Object(o.B)(o.s*o.s/3-n*n),n]},n.a=function(){return Object(i.geoProjection)(r).scale(158.837)}},function(t,n,e){"use strict";function r(t){function n(n,e){if(Object(o.a)(Object(o.a)(e)-o.o)<o.k)return[0,e<0?-2:2];var r=Object(o.y)(e),i=Object(o.t)((1+r)/(1-r),t/2),u=.5*(i+1/i)+Object(o.h)(n*=t);return[2*Object(o.y)(n)/u,(i-1/i)/u]}return n.invert=function(n,e){var r=Object(o.a)(e);if(Object(o.a)(r-2)<o.k)return n?null:[0,Object(o.x)(e)*o.o];if(r>2)return null;var i=(n/=2)*n,u=(e/=2)*e,a=2*e/(1+i+u);return a=Object(o.t)((1+a)/(1-a),1/t),[Object(o.g)(2*n,1-i-u)/t,Object(o.e)((a-1)/(a+1))]},n}n.b=r;var i=e(0),o=e(1);n.a=function(){var t=.5,n=Object(i.geoProjectionMutator)(r),e=n(t);return e.spacing=function(e){return arguments.length?n(t=+e):t},e.scale(124.75)}},function(t,n,e){"use strict";function r(t,n){return[t*(1+Object(o.B)(Object(o.h)(n)))/2,n/(Object(o.h)(n/2)*Object(o.h)(t/6))]}n.b=r;var i=e(0),o=e(1),u=o.s/o.D;r.invert=function(t,n){var e=Object(o.a)(t),r=Object(o.a)(n),i=o.k,a=o.o;r<u?a*=r/u:i+=6*Object(o.b)(u/r);for(var c=0;c<25;c++){var f=Object(o.y)(a),s=Object(o.B)(Object(o.h)(a)),l=Object(o.y)(a/2),h=Object(o.h)(a/2),p=Object(o.y)(i/6),v=Object(o.h)(i/6),d=.5*i*(1+s)-e,g=a/(h*v)-r,b=s?-.25*i*f/s:0,y=.5*(1+s),j=(1+.5*a*l/h)/(h*v),O=a/h*(p/6)/(v*v),_=b*O-j*y,m=(d*O-g*y)/_,w=(g*b-d*j)/_;if(a-=m,i-=w,Object(o.a)(m)<o.k&&Object(o.a)(w)<o.k)break}return[t<0?-i:i,n<0?-a:a]},n.a=function(){return Object(i.geoProjection)(r).scale(97.2672)}},function(t,n,e){"use strict";function r(t,n){var e=t*t,r=n*n;return[t*(.975534+r*(-.0143059*e-.119161+-.0547009*r)),n*(1.00384+e*(.0802894+-.02855*r+199025e-9*e)+r*(.0998909+-.0491032*r))]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=Object(o.x)(t)*o.s,r=n/2,i=50;do{var u=e*e,a=r*r,c=e*r,f=e*(.975534+a*(-.0143059*u-.119161+-.0547009*a))-t,s=r*(1.00384+u*(.0802894+-.02855*a+199025e-9*u)+a*(.0998909+-.0491032*a))-n,l=.975534-a*(.119161+3*u*.0143059+.0547009*a),h=-c*(.238322+.2188036*a+.0286118*u),p=c*(.1605788+7961e-7*u+-.0571*a),v=1.00384+u*(.0802894+199025e-9*u)+a*(3*(.0998909-.02855*u)-.245516*a),d=h*p-v*l,g=(s*h-f*v)/d,b=(f*p-s*l)/d;e-=g,r-=b}while((Object(o.a)(g)>o.k||Object(o.a)(b)>o.k)&&--i>0);return i&&[e,r]},n.a=function(){return Object(i.geoProjection)(r).scale(139.98)}},function(t,n,e){"use strict";function r(t,n){return[Object(o.y)(t)/Object(o.h)(n),Object(o.F)(n)*Object(o.h)(t)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=t*t,r=n*n,i=r+1,u=t?o.C*Object(o.B)((i-Object(o.B)(e*e+2*e*(r-1)+i*i))/e+1):1/Object(o.B)(i);return[Object(o.e)(t*u),Object(o.x)(n)*Object(o.b)(u)]},n.a=function(){return Object(i.geoProjection)(r).scale(144.049).clipAngle(89.999)}},function(t,n,e){"use strict";function r(t){function n(n,i){var u=i-t,a=Object(o.a)(u)<o.k?n*e:Object(o.a)(a=o.u+i/2)<o.k||Object(o.a)(Object(o.a)(a)-o.o)<o.k?0:n*u/Object(o.p)(Object(o.F)(a)/r);return[a,u]}var e=Object(o.h)(t),r=Object(o.F)(o.u+t/2);return n.invert=function(n,i){var u,a=i+t;return[Object(o.a)(i)<o.k?n/e:Object(o.a)(u=o.u+a/2)<o.k||Object(o.a)(Object(o.a)(u)-o.o)<o.k?0:n*Object(o.p)(Object(o.F)(u)/r)/i,a]},n}n.b=r;var i=e(31),o=e(1);n.a=function(){return Object(i.a)(r).parallel(40).scale(158.837)}},function(t,n,e){"use strict";function r(t,n){return[t,1.25*Object(o.p)(Object(o.F)(o.u+.4*n))]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){return[t,2.5*Object(o.f)(Object(o.m)(.8*n))-.625*o.s]},n.a=function(){return Object(i.geoProjection)(r).scale(108.318)}},function(t,n,e){"use strict";function r(t){function n(n,r){for(var i,o=Object(u.h)(r),a=2/(1+o*Object(u.h)(n)),c=a*o*Object(u.y)(n),f=a*Object(u.y)(r),s=e,l=t[s],h=l[0],p=l[1];--s>=0;)h=(l=t[s])[0]+c*(i=h)-f*p,p=l[1]+c*p+f*i;return[h=c*(i=h)-f*p,p=c*p+f*i]}var e=t.length-1;return n.invert=function(n,r){var i=20,o=n,a=r;do{for(var c,f=e,s=t[f],l=s[0],h=s[1],p=0,v=0;--f>=0;)p=l+o*(c=p)-a*v,v=h+o*v+a*c,l=(s=t[f])[0]+o*(c=l)-a*h,h=s[1]+o*h+a*c;var d,g,b=(p=l+o*(c=p)-a*v)*p+(v=h+o*v+a*c)*v;o-=d=((l=o*(c=l)-a*h-n)*p+(h=o*h+a*c-r)*v)/b,a-=g=(h*p-l*v)/b}while(Object(u.a)(d)+Object(u.a)(g)>u.k*u.k&&--i>0);if(i){var y=Object(u.B)(o*o+a*a),j=2*Object(u.f)(.5*y),O=Object(u.y)(j);return[Object(u.g)(o*O,y*Object(u.h)(j)),y?Object(u.e)(a*O/y):0]}},n}function i(t,n){var e=Object(o.geoProjection)(r(t)).rotate(n).clipAngle(90),i=Object(o.geoRotation)(n),u=e.center;return delete e.rotate,e.center=function(t){return arguments.length?u(i(t)):i.invert(u())},e}n.g=r,n.b=function(){return i(a,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},n.c=function(){return i(c,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},n.d=function(){return i(f,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},n.f=function(){return i(s,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},n.e=function(){return i(l,[165,10]).scale(250).clipAngle(130).center([-165,-10])},n.a=i;var o=e(0),u=e(1),a=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],c=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],f=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],s=[[.9245,0],[0,0],[.01943,0]],l=[[.721316,0],[0,0],[-.00881625,-.00617325]]},function(t,n,e){"use strict";function r(t,n){var e=Object(o.e)(7*Object(o.y)(n)/(3*u));return[u*t*(2*Object(o.h)(2*e/3)-1)/a,9*Object(o.y)(e/3)/a]}n.b=r;var i=e(0),o=e(1),u=Object(o.B)(6),a=Object(o.B)(7);r.invert=function(t,n){var e=3*Object(o.e)(n*a/9);return[t*a/(u*(2*Object(o.h)(2*e/3)-1)),Object(o.e)(3*Object(o.y)(e)*u/7)]},n.a=function(){return Object(i.geoProjection)(r).scale(164.859)}},function(t,n,e){"use strict";function r(t,n){for(var e,r=(1+o.C)*Object(o.y)(n),i=n,u=0;u<25&&(i-=e=(Object(o.y)(i/2)+Object(o.y)(i)-r)/(.5*Object(o.h)(i/2)+Object(o.h)(i)),!(Object(o.a)(e)<o.k));u++);return[t*(1+2*Object(o.h)(i)/Object(o.h)(i/2))/(3*o.D),2*Object(o.B)(3)*Object(o.y)(i/2)/Object(o.B)(2+o.D)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=n*Object(o.B)(2+o.D)/(2*Object(o.B)(3)),r=2*Object(o.e)(e);return[3*o.D*t/(1+2*Object(o.h)(r)/Object(o.h)(r/2)),Object(o.e)((e+Object(o.y)(r))/(1+o.C))]},n.a=function(){return Object(i.geoProjection)(r).scale(188.209)}},function(t,n,e){"use strict";function r(t,n){for(var e,r=Object(o.B)(6/(4+o.s)),i=(1+o.s/4)*Object(o.y)(n),u=n/2,a=0;a<25&&(u-=e=(u/2+Object(o.y)(u)-i)/(.5+Object(o.h)(u)),!(Object(o.a)(e)<o.k));a++);return[r*(.5+Object(o.h)(u))*t/1.5,r*u]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=Object(o.B)(6/(4+o.s)),r=n/e;return Object(o.a)(Object(o.a)(r)-o.o)<o.k&&(r=r<0?-o.o:o.o),[1.5*t/(e*(.5+Object(o.h)(r))),Object(o.e)((r/2+Object(o.y)(r))/(1+o.s/4))]},n.a=function(){return Object(i.geoProjection)(r).scale(166.518)}},function(t,n,e){"use strict";function r(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e,r=n,i=25;do{var u=r*r,a=u*u;r-=e=(r*(1.007226+u*(.015085+a*(.028874*u-.044475-.005916*a)))-n)/(1.007226+u*(.045255+a*(.259866*u-.311325-.005916*11*a)))}while(Object(o.a)(e)>o.k&&--i>0);return[t/(.8707+(u=r*r)*(u*(u*u*u*(.003971-.001529*u)-.013791)-.131979)),r]},n.a=function(){return Object(i.geoProjection)(r).scale(175.295)}},function(t,n,e){"use strict";function r(t,n){var e=n*n,r=e*e,i=e*r;return[t*(.84719-.13063*e+i*i*(.05494*e-.04515-.02326*r+.00331*i)),n*(1.01183+r*r*(.01926*e-.02625-.00396*r))]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e,r,i,u,a=n,c=25;do{a-=e=(a*(1.01183+(i=(r=a*a)*r)*i*(.01926*r-.02625-.00396*i))-n)/(1.01183+i*i*(.21186*r-.23625+-.05148*i))}while(Object(o.a)(e)>o.l&&--c>0);return[t/(.84719-.13063*(r=a*a)+(u=r*(i=r*r))*u*(.05494*r-.04515-.02326*i+.00331*u)),a]},n.a=function(){return Object(i.geoProjection)(r).scale(175.295)}},function(t,n,e){"use strict";function r(t,n){return[t*(1+Object(o.h)(n))/2,2*(n-Object(o.F)(n/2))]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){for(var e=n/2,r=0,i=1/0;r<10&&Object(o.a)(i)>o.k;++r){var u=Object(o.h)(n/2);n-=i=(n-Object(o.F)(n/2)-e)/(1-.5/(u*u))}return[2*t/(1+Object(o.h)(n)),n]},n.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,n,e){"use strict";function r(t,n){var e=n*n;return[t,n*(u+e*e*(a+e*(c+f*e)))]}n.b=r;var i=e(0),o=e(1),u=1.0148,a=.23185,c=-.14499,f=.02406,s=u,l=5*a,h=7*c,p=9*f;r.invert=function(t,n){n>1.790857183?n=1.790857183:n<-1.790857183&&(n=-1.790857183);var e,r=n;do{var i=r*r;r-=e=(r*(u+i*i*(a+i*(c+f*i)))-n)/(s+i*i*(l+i*(h+p*i)))}while(Object(o.a)(e)>o.k);return[t,r]},n.a=function(){return Object(i.geoProjection)(r).scale(139.319)}},function(t,n,e){"use strict";function r(t,n){if(Object(o.a)(n)<o.k)return[t,0];var e=Object(o.F)(n),r=t*Object(o.y)(n);return[Object(o.y)(r)/e,n+(1-Object(o.h)(r))/e]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){if(Object(o.a)(n)<o.k)return[t,0];var e,r=t*t+n*n,i=.5*n,u=10;do{var a=Object(o.F)(i),c=1/Object(o.h)(i),f=r-2*n*i+i*i;i-=e=(a*f+2*(i-n))/(2+f*c*c+2*(i-n)*a)}while(Object(o.a)(e)>o.k&&--u>0);return a=Object(o.F)(i),[(Object(o.a)(n)<Object(o.a)(i+1/a)?Object(o.e)(t*a):Object(o.x)(t)*(Object(o.b)(Object(o.a)(t*a))+o.o))/Object(o.y)(i),i]},n.a=function(){return Object(i.geoProjection)(r).scale(103.74)}},function(t,n,e){"use strict";function r(t,n){return[t[0]*n[0]+t[1]*n[3],t[0]*n[1]+t[1]*n[4],t[0]*n[2]+t[1]*n[5]+t[2],t[3]*n[0]+t[4]*n[3],t[3]*n[1]+t[4]*n[4],t[3]*n[2]+t[4]*n[5]+t[5]]}function i(t,n){return[t[0]-n[0],t[1]-n[1]]}function o(t){return Object(u.B)(t[0]*t[0]+t[1]*t[1])}n.b=function(t){var n=1/(t[0]*t[4]-t[1]*t[3]);return[n*t[4],-n*t[1],n*(t[1]*t[5]-t[2]*t[4]),-n*t[3],n*t[0],n*(t[2]*t[3]-t[0]*t[5])]},n.c=r;var u=e(1);n.a=function(t,n){var e=i(t[1],t[0]),a=i(n[1],n[0]),c=function(t,n){return Object(u.g)(t[0]*n[1]-t[1]*n[0],t[0]*n[0]+t[1]*n[1])}(e,a),f=o(e)/o(a);return r([1,0,t[0][0],0,1,t[0][1]],r([f,0,0,0,f,0],r([Object(u.h)(c),Object(u.y)(c),0,-Object(u.y)(c),Object(u.h)(c),0],[1,0,-n[0][0],0,1,-n[0][1]])))}},function(t,n,e){"use strict";var r=e(0),i=e(1),o=e(53),u=e(74);n.a=function(t){t=t||function(t){var n=Object(r.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(r.geoGnomonic)().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=u.a.map(function(n){return{face:n,project:t(n)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,e){var r=n[t];r&&(r.children||(r.children=[])).push(n[e])}),Object(o.a)(n[0],function(t,e){return n[t<-i.s/2?e<0?6:4:t<0?e<0?2:0:t<i.s/2?e<0?3:1:e<0?7:5]}).scale(101.858).center([0,45])}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.a)(t,n);return[e[0]*f,e[1]]}var i=e(0),o=e(72),u=e(1),a=e(53),c=e(74),f=2/Object(u.B)(3);r.invert=function(t,n){return o.a.invert(t/f,n)},n.a=function(t){t=t||function(t){var n=Object(i.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(i.geoProjection)(r).translate([0,0]).scale(1).rotate(n[1]>0?[-n[0],0]:[180-n[0],180])};var n=c.a.map(function(n){return{face:n,project:t(n)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,e){var r=n[t];r&&(r.children||(r.children=[])).push(n[e])}),Object(a.a)(n[0],function(t,e){return n[t<-u.s/2?e<0?6:4:t<0?e<0?2:0:t<u.s/2?e<0?3:1:e<0?7:5]}).scale(121.906).center([0,48.5904])}},function(t,n,e){"use strict";function r(t,n){for(var e=0,r=t.length,i=0;e<r;++e)i+=t[e]*n[e];return i}function i(t){return[Object(a.g)(t[1],t[0])*a.j,Object(a.e)(Object(a.q)(-1,Object(a.r)(1,t[2])))*a.j]}function o(t){var n=t[0]*a.v,e=t[1]*a.v,r=Object(a.h)(e);return[r*Object(a.h)(n),r*Object(a.y)(n),Object(a.y)(e)]}var u=e(0),a=e(1),c=e(53),f=e(74);n.a=function(t){t=t||function(t){var n=6===t.length?Object(u.geoCentroid)({type:"MultiPoint",coordinates:t}):t[0];return Object(u.geoGnomonic)().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=f.a.map(function(t){for(var n,e=t.map(o),r=e.length,u=e[r-1],a=[],c=0;c<r;++c)a.push(i([.9486832980505138*u[0]+.31622776601683794*(n=e[c])[0],.9486832980505138*u[1]+.31622776601683794*n[1],.9486832980505138*u[2]+.31622776601683794*n[2]]),i([.9486832980505138*n[0]+.31622776601683794*u[0],.9486832980505138*n[1]+.31622776601683794*u[1],.9486832980505138*n[2]+.31622776601683794*u[2]])),u=n;return a}),e=[],s=[-1,0,0,1,0,1,4,5];n.forEach(function(t,r){for(var i=f.a[r],u=i.length,a=e[r]=[],c=0;c<u;++c)n.push([i[c],t[(2*c+2)%(2*u)],t[(2*c+1)%(2*u)]]),s.push(r),a.push(function(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}(o(t[(2*c+2)%(2*u)]),o(t[(2*c+1)%(2*u)])))});var l=n.map(function(n){return{project:t(n),face:n}});return s.forEach(function(t,n){var e=l[t];e&&(e.children||(e.children=[])).push(l[n])}),Object(c.a)(l[0],function(t,n){var i=Object(a.h)(n),o=[i*Object(a.h)(t),i*Object(a.y)(t),Object(a.y)(n)],u=t<-a.s/2?n<0?6:4:t<0?n<0?2:0:t<a.s/2?n<0?3:1:n<0?7:5,c=e[u];return l[r(c[0],o)<0?8+3*u:r(c[1],o)<0?8+3*u+1:r(c[2],o)<0?8+3*u+2:u]}).scale(110.625).center([0,45])}},function(t,n,e){"use strict";function r(t,n){return{type:"FeatureCollection",features:t.features.map(function(t){return i(t,n)})}}function i(t,n){return{type:"Feature",id:t.id,properties:t.properties,geometry:o(t.geometry,n)}}function o(t,n){if(!t)return null;if("GeometryCollection"===t.type)return function(t,n){return{type:"GeometryCollection",geometries:t.geometries.map(function(t){return o(t,n)})}}(t,n);var e;switch(t.type){case"Point":case"MultiPoint":e=h;break;case"LineString":case"MultiLineString":e=p;break;case"Polygon":case"MultiPolygon":case"Sphere":e=v;break;default:return null}return Object(u.geoStream)(t,n(e)),e.result()}var u=e(0),a=e(299),c=e(300),f=e(301);n.a=function(t,n){var e,u=n.stream;if(!u)throw new Error("invalid projection");switch(t&&t.type){case"Feature":e=i;break;case"FeatureCollection":e=r;break;default:e=o}return e(t,u)};var s=[],l=[],h={point:function(t,n){s.push([t,n])},result:function(){var t=s.length?s.length<2?{type:"Point",coordinates:s[0]}:{type:"MultiPoint",coordinates:s}:null;return s=[],t}},p={lineStart:a.a,point:function(t,n){s.push([t,n])},lineEnd:function(){s.length&&(l.push(s),s=[])},result:function(){var t=l.length?l.length<2?{type:"LineString",coordinates:l[0]}:{type:"MultiLineString",coordinates:l}:null;return l=[],t}},v={polygonStart:a.a,lineStart:a.a,point:function(t,n){s.push([t,n])},lineEnd:function(){var t=s.length;if(t){do{s.push(s[0].slice())}while(++t<4);l.push(s),s=[]}},polygonEnd:a.a,result:function(){if(!l.length)return null;var t=[],n=[];return l.forEach(function(e){Object(c.a)(e)?t.push([e]):n.push(e)}),n.forEach(function(n){var e=n[0];t.some(function(t){if(Object(f.a)(t[0],e))return t.push(n),!0})||t.push([n])}),l=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}}},function(t,n,e){"use strict";n.a=function(){}},function(t,n,e){"use strict";n.a=function(t){if((n=t.length)<4)return!1;for(var n,e=0,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r<=0}},function(t,n,e){"use strict";n.a=function(t,n){for(var e=n[0],r=n[1],i=!1,o=0,u=t.length,a=u-1;o<u;a=o++){var c=t[o],f=c[0],s=c[1],l=t[a],p=l[1];s>r^p>r&&e<(l[0]-f)*(r-s)/(p-s)+f&&(i=!i)}return i}},function(t,n,e){"use strict";var r=e(133),i=e(75);n.a=function(){return Object(i.a)(r.b).scale(176.423)}},function(t,n,e){"use strict";n.a=function(t,n){function e(t){var e=t.length,r=2,i=new Array(e);for(i[0]=+t[0].toFixed(n),i[1]=+t[1].toFixed(n);r<e;)i[r]=t[r],++r;return i}function r(t){return t.map(e)}function i(t){return t.map(r)}function o(t){if(null==t)return t;var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(o)};break;case"Point":n={type:"Point",coordinates:e(t.coordinates)};break;case"MultiPoint":case"LineString":n={type:t.type,coordinates:r(t.coordinates)};break;case"MultiLineString":case"Polygon":n={type:t.type,coordinates:i(t.coordinates)};break;case"MultiPolygon":n={type:"MultiPolygon",coordinates:t.coordinates.map(i)};break;default:return t}return null!=t.bbox&&(n.bbox=t.bbox),n}function u(t){var n={type:"Feature",properties:t.properties,geometry:o(t.geometry)};return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),n}if(!(0<=(n=+n)&&n<=20))throw new Error("invalid digits");if(null!=t)switch(t.type){case"Feature":return u(t);case"FeatureCollection":var a={type:"FeatureCollection",features:t.features.map(u)};return null!=t.bbox&&(a.bbox=t.bbox),a;default:return o(t)}return t}},function(t,n,e){"use strict";function r(t){function n(n,r){var o=e?Object(i.F)(n*e/2)/e:n/2;if(!r)return[2*o,-t];var u=2*Object(i.f)(o*Object(i.y)(r)),a=1/Object(i.F)(r);return[Object(i.y)(u)*a,r+(1-Object(i.h)(u))*a-t]}var e=Object(i.y)(t);return n.invert=function(n,r){if(Object(i.a)(r+=t)<i.k)return[e?2*Object(i.f)(e*n/2)/e:n,0];var o,u=n*n+r*r,a=0,c=10;do{var f=Object(i.F)(a),s=1/Object(i.h)(a),l=u-2*r*a+a*a;a-=o=(f*l+2*(a-r))/(2+l*s*s+2*(a-r)*f)}while(Object(i.a)(o)>i.k&&--c>0);var h=n*(f=Object(i.F)(a)),p=Object(i.F)(Object(i.a)(r)<Object(i.a)(a+1/f)?.5*Object(i.e)(h):.5*Object(i.b)(h)+i.s/4)/Object(i.y)(a);return[e?2*Object(i.f)(e*p)/e:2*p,a]},n}n.b=r;var i=e(1),o=e(31);n.a=function(){return Object(o.a)(r).scale(131.215)}},function(t,n,e){"use strict";function r(t,n){var e,r=Object(o.r)(18,36*Object(o.a)(n)/o.s),i=Object(o.n)(r),a=r-i,c=(e=u[i])[0],f=e[1],s=(e=u[++i])[0],l=e[1],h=(e=u[Object(o.r)(19,++i)])[0],p=e[1];return[t*(s+a*(h-c)/2+a*a*(h-2*s+c)/2),(n>0?o.o:-o.o)*(l+a*(p-f)/2+a*a*(p-2*l+f)/2)]}n.b=r;var i=e(0),o=e(1),u=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];u.forEach(function(t){t[1]*=1.0144}),r.invert=function(t,n){var e=n/o.o,r=90*e,i=Object(o.r)(18,Object(o.a)(r/5)),a=Object(o.q)(0,Object(o.n)(i));do{var c=u[a][1],f=u[a+1][1],s=u[Object(o.r)(19,a+2)][1],l=s-c,h=s-2*f+c,p=2*(Object(o.a)(e)-f)/l,v=h/l,d=p*(1-v*p*(1-2*v*p));if(d>=0||1===a){r=(n>=0?5:-5)*(d+i);var g,b=50;do{d=(i=Object(o.r)(18,Object(o.a)(r)/5))-(a=Object(o.n)(i)),c=u[a][1],f=u[a+1][1],s=u[Object(o.r)(19,a+2)][1],r-=(g=(n>=0?o.o:-o.o)*(f+d*(s-c)/2+d*d*(s-2*f+c)/2)-n)*o.j}while(Object(o.a)(g)>o.l&&--b>0);break}}while(--a>=0);var y=u[a][0],j=u[a+1][0],O=u[Object(o.r)(19,a+2)][0];return[t/(j+d*(O-y)/2+d*d*(O-2*j+y)/2),r*o.v]},n.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,n,e){"use strict";function r(t,n){function e(n,e){var o=r(n,e),a=o[1],c=a*u/(t-1)+i;return[o[0]*i/c,a/c]}var r=function(t){function n(n,e){var r=Object(o.h)(e),i=(t-1)/(t-r*Object(o.h)(n));return[i*r*Object(o.y)(n),i*Object(o.y)(e)]}return n.invert=function(n,e){var r=n*n+e*e,i=Object(o.B)(r),u=(t-Object(o.B)(1-r*(t+1)/(t-1)))/((t-1)/i+i/(t-1));return[Object(o.g)(n*u,i*Object(o.B)(1-u*u)),i?Object(o.e)(e*u/i):0]},n}(t);if(!n)return r;var i=Object(o.h)(n),u=Object(o.y)(n);return e.invert=function(n,e){var o=(t-1)/(t-1-e*u);return r.invert(o*n,o*e*i)},e}n.b=r;var i=e(0),o=e(1);n.a=function(){var t=2,n=0,e=Object(i.geoProjectionMutator)(r),u=e(t,n);return u.distance=function(r){return arguments.length?e(t=+r,n):t},u.tilt=function(r){return arguments.length?e(t,n=r*o.v):n*o.j},u.scale(432.147).clipAngle(Object(o.b)(1/t)*o.j-1e-6)}},function(t,n,e){"use strict";function r(t){return t.length>0}function i(t){return t===g||t===y?[0,t]:[h,function(t){return Math.floor(t*l)/l}(t)]}function o(t){var n=t[0],e=t[1],r=!1;return n<=p?(n=h,r=!0):n>=d&&(n=v,r=!0),e<=b?(e=g,r=!0):e>=j&&(e=y,r=!0),r?[n,e]:t}function u(t){return t.map(o)}function a(t,n,e){for(var r=0,u=t.length;r<u;++r){var a=t[r].slice();e.push({index:-1,polygon:n,ring:a});for(var c=0,f=a.length;c<f;++c){var s=a[c],l=s[0],h=s[1];if(l<=p||l>=d||h<=b||h>=j){a[c]=o(s);for(var v=c+1;v<f;++v){var g=a[v],y=g[0],O=g[1];if(y>p&&y<d&&O>b&&O<j)break}if(v===c+1)continue;if(c){var _={index:-1,polygon:n,ring:a.slice(0,c+1)};_.ring[_.ring.length-1]=i(h),e[e.length-1]=_}else e.pop();if(v>=f)break;e.push({index:-1,polygon:n,ring:a=a.slice(v-1)}),a[0]=i(a[0][1]),c=-1,f=a.length}}}}function c(t){var n,e,r,i,o,u,a=t.length,c={},f={};for(n=0;n<a;++n)(r=(e=t[n]).ring[0])[0]!==(o=e.ring[e.ring.length-1])[0]||r[1]!==o[1]?(e.index=n,c[r]=f[o]=e):(e.polygon.push(e.ring),t[n]=null);for(n=0;n<a;++n)if(e=t[n]){if(i=f[r=e.ring[0]],u=c[o=e.ring[e.ring.length-1]],delete c[r],delete f[o],r[0]===o[0]&&r[1]===o[1]){e.polygon.push(e.ring);continue}i?(delete f[r],delete c[i.ring[0]],i.ring.pop(),t[i.index]=null,e={index:-1,polygon:i.polygon,ring:i.ring.concat(e.ring)},i===u?e.polygon.push(e.ring):(e.index=a++,t.push(c[e.ring[0]]=f[e.ring[e.ring.length-1]]=e))):u?(delete c[o],delete f[u.ring[u.ring.length-1]],e.ring.pop(),e={index:a++,polygon:u.polygon,ring:e.ring.concat(u.ring)},t[u.index]=null,t.push(c[e.ring[0]]=f[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function f(t){var n={type:"Feature",geometry:s(t.geometry)};return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function s(t){if(null==t)return t;var n,e,i,f;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(s)};break;case"Point":n={type:"Point",coordinates:o(t.coordinates)};break;case"MultiPoint":case"LineString":n={type:t.type,coordinates:u(t.coordinates)};break;case"MultiLineString":n={type:"MultiLineString",coordinates:t.coordinates.map(u)};break;case"Polygon":var l=[];a(t.coordinates,l,e=[]),c(e),n={type:"Polygon",coordinates:l};break;case"MultiPolygon":e=[],i=-1,f=t.coordinates.length;for(var h=new Array(f);++i<f;)a(t.coordinates[i],h[i]=[],e);c(e),n={type:"MultiPolygon",coordinates:h.filter(r)};break;default:return t}return null!=t.bbox&&(n.bbox=t.bbox),n}var l=1e4,h=-180,p=h+1e-4,v=180,d=v-1e-4,g=-90,b=g+1e-4,y=90,j=y-1e-4;n.a=function(t){if(null==t)return t;switch(t.type){case"Feature":return f(t);case"FeatureCollection":var n={type:"FeatureCollection",features:t.features.map(f)};return null!=t.bbox&&(n.bbox=t.bbox),n;default:return s(t)}}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.F)(n/2),r=Object(o.y)(o.u*e);return[t*(.74482-.34588*r*r),1.70711*e]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=n/1.70711,r=Object(o.y)(o.u*e);return[t/(.74482-.34588*r*r),2*Object(o.f)(e)]},n.a=function(){return Object(i.geoProjection)(r).scale(146.153)}},function(t,n,e){"use strict";function r(t){function n(t,n){var r=Object(o.geoGnomonicRaw)(t,n);return r[0]*=e,r}var e=Object(u.h)(t);return n.invert=function(t,n){return o.geoGnomonicRaw.invert(t/e,n)},n}function i(t,n){return Object(a.a)(r,t,n)}n.b=r,n.c=function(){return i([-158,21.5],[-77,39]).clipAngle(60).scale(400)},n.a=i;var o=e(0),u=e(1),a=e(138)},function(t,n,e){"use strict";function r(t){function n(n,o){var a=Object(u.b)(Object(u.h)(o)*Object(u.h)(n-e)),c=Object(u.b)(Object(u.h)(o)*Object(u.h)(n-r));return[((a*=a)-(c*=c))/(2*t),(o<0?-1:1)*Object(u.B)(4*i*c-(i-a+c)*(i-a+c))/(2*t)]}if(!(t*=2))return o.geoAzimuthalEquidistantRaw;var e=-t/2,r=-e,i=t*t,a=Object(u.F)(r),c=.5/Object(u.y)(r);return n.invert=function(t,n){var i,o,f=n*n,s=Object(u.h)(Object(u.B)(f+(i=t+e)*i)),l=Object(u.h)(Object(u.B)(f+(i=t+r)*i));return[Object(u.g)(o=s-l,i=(s+l)*a),(n<0?-1:1)*Object(u.b)(Object(u.B)(i*i+o*o)*c)]},n}function i(t,n){return Object(a.a)(r,t,n)}n.b=r,n.c=function(){return i([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},n.a=i;var o=e(0),u=e(1),a=e(138)},function(t,n,e){"use strict";function r(t,n){if(Object(o.a)(n)<o.k)return[t,0];var e=Object(o.a)(n/o.o),r=Object(o.e)(e);if(Object(o.a)(t)<o.k||Object(o.a)(Object(o.a)(n)-o.o)<o.k)return[0,Object(o.x)(n)*o.s*Object(o.F)(r/2)];var i=Object(o.h)(r),u=Object(o.a)(o.s/t-t/o.s)/2,a=u*u,c=i/(e+i-1),f=c*(2/e-1),s=f*f,l=s+a,h=c-s,p=a+c;return[Object(o.x)(t)*o.s*(u*h+Object(o.B)(a*h*h-l*(c*c-s)))/l,Object(o.x)(n)*o.s*(f*p-u*Object(o.B)((a+1)*l-p*p))/l]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){if(Object(o.a)(n)<o.k)return[t,0];if(Object(o.a)(t)<o.k)return[0,o.o*Object(o.y)(2*Object(o.f)(n/o.s))];var e=(t/=o.s)*t,r=(n/=o.s)*n,i=e+r,u=i*i,a=-Object(o.a)(n)*(1+i),c=a-2*r+e,f=-2*a+1+2*r+u,s=r/f+(2*c*c*c/(f*f*f)-9*a*c/(f*f))/27,l=(a-c*c/(3*f))/f,h=2*Object(o.B)(-l/3),p=Object(o.b)(3*s/(l*h))/3;return[o.s*(i-1+Object(o.B)(1+2*(e-r)+u))/(2*t),Object(o.x)(n)*o.s*(-h*Object(o.h)(p+o.s/3)-c/(3*f))]},n.a=function(){return Object(i.geoProjection)(r).scale(79.4183)}},function(t,n,e){"use strict";function r(t,n){if(Object(o.a)(n)<o.k)return[t,0];var e=Object(o.a)(n/o.o),r=Object(o.e)(e);if(Object(o.a)(t)<o.k||Object(o.a)(Object(o.a)(n)-o.o)<o.k)return[0,Object(o.x)(n)*o.s*Object(o.F)(r/2)];var i=Object(o.h)(r),u=Object(o.a)(o.s/t-t/o.s)/2,a=u*u,c=i*(Object(o.B)(1+a)-u*i)/(1+a*e*e);return[Object(o.x)(t)*o.s*c,Object(o.x)(n)*o.s*Object(o.B)(1-c*(2*u+c))]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){if(!t)return[0,o.o*Object(o.y)(2*Object(o.f)(n/o.s))];var e=Object(o.a)(t/o.s),r=(1-e*e-(n/=o.s)*n)/(2*e),i=r*r,u=Object(o.B)(i+1);return[Object(o.x)(t)*o.s*(u-r),Object(o.x)(n)*o.o*Object(o.y)(2*Object(o.g)(Object(o.B)((1-2*r*e)*(r+u)-e),Object(o.B)(u+r+e)))]},n.a=function(){return Object(i.geoProjection)(r).scale(79.4183)}},function(t,n,e){"use strict";function r(t,n){if(Object(o.a)(n)<o.k)return[t,0];var e=n/o.o,r=Object(o.e)(e);if(Object(o.a)(t)<o.k||Object(o.a)(Object(o.a)(n)-o.o)<o.k)return[0,o.s*Object(o.F)(r/2)];var i=(o.s/t-t/o.s)/2,u=e/(1+Object(o.h)(r));return[o.s*(Object(o.x)(t)*Object(o.B)(i*i+1-u*u)-i),o.s*u]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){if(!n)return[t,0];var e=n/o.s,r=(o.s*o.s*(1-e*e)-t*t)/(2*o.s*t);return[t?o.s*(Object(o.x)(t)*Object(o.B)(r*r+1)-r):0,o.o*Object(o.y)(2*Object(o.f)(e))]},n.a=function(){return Object(i.geoProjection)(r).scale(79.4183)}},function(t,n,e){"use strict";function r(t,n){if(!n)return[t,0];var e=Object(o.a)(n);if(!t||e===o.o)return[0,n];var r=e/o.o,i=r*r,u=(8*r-i*(i+2)-5)/(2*i*(r-1)),a=u*u,c=r*u,f=i+a+2*c,s=r+3*u,l=t/o.o,h=l+1/l,p=Object(o.x)(Object(o.a)(t)-o.o)*Object(o.B)(h*h-4),v=p*p,d=f*(i+a*v-1)+(1-i)*(i*(s*s+4*a)+12*c*a+4*a*a),g=(p*(f+a-1)+2*Object(o.B)(d))/(4*f+v);return[Object(o.x)(t)*o.o*g,Object(o.x)(n)*o.o*Object(o.B)(1+p*Object(o.a)(g)-g*g)]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e;if(!t||!n)return[t,n];n/=o.s;var r=Object(o.x)(t)*t/o.o,i=(r*r-1+4*n*n)/Object(o.a)(r),u=i*i,a=2*n,c=50;do{var f=a*a,s=(8*a-f*(f+2)-5)/(2*f*(a-1)),l=(3*a-f*a-10)/(2*f*a),h=s*s,p=a*s,v=a+s,d=v*v,g=a+3*s,b=d*(f+h*u-1)+(1-f)*(f*(g*g+4*h)+h*(12*p+4*h)),y=-2*v*(4*p*h+(1-4*f+3*f*f)*(1+l)+h*(14*f-6-u+(8*f-8-2*u)*l)+p*(12*f-8+(10*f-10-u)*l)),j=Object(o.B)(b);a-=e=(i*(d+h-1)+2*j-r*(4*d+u))/(i*(2*s*l+2*v*(1+l))+y/j-8*v*(i*(-1+h+d)+2*j)*(1+l)/(u+4*d))}while(e>o.k&&--c>0);return[Object(o.x)(t)*(Object(o.B)(i*i+4)+i)*o.s/4,o.o*a]},n.a=function(){return Object(i.geoProjection)(r).scale(127.16)}},function(t,n,e){"use strict";e.d(n,"b",function(){return c});var r=e(0),i=e(1),o=e(21),u=4*i.s+3*Object(i.B)(3),a=2*Object(i.B)(2*i.s*Object(i.B)(3)/u),c=Object(o.b)(a*Object(i.B)(3)/i.s,a,u/6);n.a=function(){return Object(r.geoProjection)(c).scale(176.84)}},function(t,n,e){"use strict";function r(t,n){return[t*Object(o.B)(1-3*n*n/(o.s*o.s)),n]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){return[t/Object(o.B)(1-3*n*n/(o.s*o.s)),n]},n.a=function(){return Object(i.geoProjection)(r).scale(152.63)}},function(t,n,e){"use strict";function r(t,n){var e=.90631*Object(o.y)(n),r=Object(o.B)(1-e*e),i=Object(o.B)(2/(1+r*Object(o.h)(t/=3)));return[2.66723*r*i*Object(o.y)(t),1.24104*e*i]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=t/2.66723,r=n/1.24104,i=Object(o.B)(e*e+r*r),u=2*Object(o.e)(i/2);return[3*Object(o.g)(t*Object(o.F)(u),2.66723*i),i&&Object(o.e)(n*Object(o.y)(u)/(1.24104*.90631*i))]},n.a=function(){return Object(i.geoProjection)(r).scale(172.632)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.h)(n),r=Object(o.h)(t)*e,i=1-r,u=Object(o.h)(t=Object(o.g)(Object(o.y)(t)*e,-Object(o.y)(n))),a=Object(o.y)(t);return[a*(e=Object(o.B)(1-r*r))-u*i,-u*e-a*i]}n.b=r;var i=e(0),o=e(1);r.invert=function(t,n){var e=(t*t+n*n)/-2,r=Object(o.B)(-e*(2+e)),i=n*e+t*r,u=t*e-n*r,a=Object(o.B)(u*u+i*i);return[Object(o.g)(r*i,a*(1+e)),a?-Object(o.e)(r*u/a):0]},n.a=function(){return Object(i.geoProjection)(r).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}},function(t,n,e){"use strict";function r(t,n){var e=Object(o.a)(t,n);return[(e[0]+t/u.o)/2,(e[1]+n)/2]}n.b=r;var i=e(0),o=e(129),u=e(1);r.invert=function(t,n){var e=t,r=n,i=25;do{var o,a=Object(u.h)(r),c=Object(u.y)(r),f=Object(u.y)(2*r),s=c*c,l=a*a,h=Object(u.y)(e),p=Object(u.h)(e/2),v=Object(u.y)(e/2),d=v*v,g=1-l*p*p,b=g?Object(u.b)(a*p)*Object(u.B)(o=1/g):o=0,y=.5*(2*b*a*v+e/u.o)-t,j=.5*(b*c+r)-n,O=.5*o*(l*d+b*a*p*s)+.5/u.o,_=o*(h*f/4-b*c*v),m=.125*o*(f*v-b*c*l*h),w=.5*o*(s*p+b*d*a)+.5,x=_*m-w*O,E=(j*_-y*w)/x,M=(y*m-j*O)/x;e-=E,r-=M}while((Object(u.a)(E)>u.k||Object(u.a)(M)>u.k)&&--i>0);return[e,r]},n.a=function(){return Object(i.geoProjection)(r).scale(158.837)}},function(t,n,e){var r=e(11),i=e(54),o=e(140);t.exports=function(t,n){var e=void 0;if(r(n)&&(e=n),i(n)&&(e=function(t){return o(t,n)}),e)for(var u=0;u<t.length;u+=1)if(e(t[u]))return t[u];return null}},function(t,n){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":e(t))&&null!==t}},function(t,n,e){!function(t,n,e){"use strict";function r(){}function i(t,e,r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],u=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=u&&t.clipExtent(null),n.geoStream(r,t.stream(l));var a=l.result(),c=Math.min(i/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),f=+e[0][0]+(i-c*(a[1][0]+a[0][0]))/2,s=+e[0][1]+(o-c*(a[1][1]+a[0][1]))/2;return null!=u&&t.clipExtent(u),t.scale(150*c).translate([f,s])}function o(t,n,e){return i(t,[[0,0],n],e)}var u=1e-6,a=1/0,c=a,f=-a,s=f,l={point:function(t,n){t<a&&(a=t),t>f&&(f=t),n<c&&(c=n),n>s&&(s=n)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r,result:function(){var t=[[a,c],[f,s]];return f=s=-(c=a=1/0),t}};t.geoAlbersUsa=function(){function t(t){var n=t[0],e=t[1];return h=null,f.point(n,e),h||(s.point(n,e),h)||(l.point(n,e),h)}function r(){return a=c=null,t}var a,c,f,s,l,h,p=n.geoAlbers(),v=n.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=n.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g={point:function(t,n){h=[t,n]}};return t.invert=function(t){var n=p.scale(),e=p.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?v:i>=.166&&i<.234&&r>=-.214&&r<-.115?d:p).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([p.stream(c=t),v.stream(t),d.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),v.precision(t),d.precision(t),r()):p.precision()},t.scale=function(n){return arguments.length?(p.scale(n),v.scale(.35*n),d.scale(n),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var n=p.scale(),e=+t[0],i=+t[1];return f=p.translate(t).clipExtent([[e-.455*n,i-.238*n],[e+.455*n,i+.238*n]]).stream(g),s=v.translate([e-.307*n,i+.201*n]).clipExtent([[e-.425*n+u,i+.12*n+u],[e-.214*n-u,i+.234*n-u]]).stream(g),l=d.translate([e-.205*n,i+.212*n]).clipExtent([[e-.214*n+u,i+.166*n+u],[e-.115*n-u,i+.234*n-u]]).stream(g),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=p([-102.91,26.3]),e=p([-104,27.5]),r=p([-108,29.1]),i=p([-110,29.1]),o=p([-110,26.7]),u=p([-112.8,27.6]),a=p([-114.3,30.6]),c=p([-119.3,30.1]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.moveTo(o[0],o[1]),t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]),t.lineTo(c[0],c[1])},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(1070)},t.geoAlbersUsaTerritories=function(){function t(t){var n=t[0],e=t[1];return d=null,f.point(n,e),d||(s.point(n,e),d)||(l.point(n,e),d)||(h.point(n,e),d)||(p.point(n,e),d)||(v.point(n,e),d)}function r(){return a=c=null,t}var a,c,f,s,l,h,p,v,d,g=n.geoAlbers(),b=n.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),y=n.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),j=n.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),O=n.geoEquirectangular().rotate([173,14]),_=n.geoEquirectangular().rotate([-145,-16.8]),m={point:function(t,n){d=[t,n]}};return t.invert=function(t){var n=g.scale(),e=g.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?b:i>=.166&&i<.234&&r>=-.214&&r<-.115?y:i>=.2064&&i<.2413&&r>=.312&&r<.385?j:i>=.09&&i<.1197&&r>=-.4243&&r<-.3232?O:i>=-.0518&&i<.0895&&r>=-.4243&&r<-.3824?_:g).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([g.stream(c=t),b.stream(t),y.stream(t),j.stream(t),O.stream(t),_.stream(t)])},t.precision=function(t){return arguments.length?(g.precision(t),b.precision(t),y.precision(t),j.precision(t),O.precision(t),_.precision(t),r()):g.precision()},t.scale=function(n){return arguments.length?(g.scale(n),b.scale(.35*n),y.scale(n),j.scale(n),O.scale(2*n),_.scale(n),t.translate(g.translate())):g.scale()},t.translate=function(t){if(!arguments.length)return g.translate();var n=g.scale(),e=+t[0],i=+t[1];return f=g.translate(t).clipExtent([[e-.455*n,i-.238*n],[e+.455*n,i+.238*n]]).stream(m),s=b.translate([e-.307*n,i+.201*n]).clipExtent([[e-.425*n+u,i+.12*n+u],[e-.214*n-u,i+.233*n-u]]).stream(m),l=y.translate([e-.205*n,i+.212*n]).clipExtent([[e-.214*n+u,i+.166*n+u],[e-.115*n-u,i+.233*n-u]]).stream(m),h=j.translate([e+.35*n,i+.224*n]).clipExtent([[e+.312*n+u,i+.2064*n+u],[e+.385*n-u,i+.233*n-u]]).stream(m),p=O.translate([e-.492*n,i+.09*n]).clipExtent([[e-.4243*n+u,i+.0903*n+u],[e-.3233*n-u,i+.1197*n-u]]).stream(m),v=_.translate([e-.408*n,i+.018*n]).clipExtent([[e-.4244*n+u,i-.0519*n+u],[e-.3824*n-u,i+.0895*n-u]]).stream(m),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=g([-110.4641,28.2805]),e=g([-104.0597,28.9528]),r=g([-103.7049,25.1031]),i=g([-109.8337,24.4531]),o=g([-124.4745,28.1407]),u=g([-110.931,30.8844]),a=g([-109.8337,24.4531]),c=g([-122.4628,21.8562]),f=g([-76.8579,25.1544]),s=g([-72.429,24.2097]),l=g([-72.8265,22.7056]),h=g([-77.1852,23.6392]),p=g([-125.0093,29.7791]),v=g([-118.5193,31.3262]),d=g([-118.064,29.6912]),b=g([-124.4369,28.169]),y=g([-128.1314,37.4582]),j=g([-125.2132,38.214]),O=g([-122.3616,30.5115]),_=g([-125.0315,29.8211]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(o[0],o[1]),t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]),t.lineTo(a[0],a[1]),t.lineTo(c[0],c[1]),t.closePath(),t.moveTo(f[0],f[1]),t.lineTo(s[0],s[1]),t.lineTo(l[0],l[1]),t.lineTo(l[0],l[1]),t.lineTo(h[0],h[1]),t.closePath(),t.moveTo(p[0],p[1]),t.lineTo(v[0],v[1]),t.lineTo(d[0],d[1]),t.lineTo(d[0],d[1]),t.lineTo(b[0],b[1]),t.closePath(),t.moveTo(y[0],y[1]),t.lineTo(j[0],j[1]),t.lineTo(O[0],O[1]),t.lineTo(O[0],O[1]),t.lineTo(_[0],_[1]),t.closePath()},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(1070)},t.geoConicConformalSpain=function(){function t(t){var n=t[0],e=t[1];return l=null,f.point(n,e),l||(s.point(n,e),l)}function r(){return a=c=null,t}var a,c,f,s,l,h=n.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),p=n.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),v={point:function(t,n){l=[t,n]}};return t.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?p:h).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([h.stream(c=t),p.stream(t)])},t.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),r()):h.precision()},t.scale=function(n){return arguments.length?(h.scale(n),p.scale(n),t.translate(h.translate())):h.scale()},t.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),e=+t[0],i=+t[1];return f=h.translate(t).clipExtent([[e-.06857*n,i-.1288*n],[e+.13249*n,i+.06*n]]).stream(v),s=p.translate([e+.1*n,i-.094*n]).clipExtent([[e-.1331*n+u,i+.053457*n+u],[e-.0354*n-u,i+.08969*n-u]]).stream(v),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=h([-14.034675,34.965007]),e=h([-7.4208899,35.536988]),r=h([-7.3148275,33.54359]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1])},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2700)},t.geoConicConformalPortugal=function(){function t(t){var n=t[0],e=t[1];return h=null,f.point(n,e),h||(s.point(n,e),h)||(l.point(n,e),h)}function r(){return a=c=null,t}var a,c,f,s,l,h,p=n.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),v=n.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),d=n.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),g={point:function(t,n){h=[t,n]}};return t.invert=function(t){var n=p.scale(),e=p.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.0093&&i<.03678&&r>=-.03875&&r<-.0116?v:i>=-.0412&&i<.0091&&r>=-.07782&&r<-.01166?d:p).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([p.stream(c=t),v.stream(t),d.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),v.precision(t),d.precision(t),r()):p.precision()},t.scale=function(n){return arguments.length?(p.scale(n),v.scale(n),d.scale(.6*n),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var n=p.scale(),e=+t[0],i=+t[1];return f=p.translate(t).clipExtent([[e-.0115*n,i-.1138*n],[e+.2105*n,i+.0673*n]]).stream(g),s=v.translate([e-.0265*n,i+.025*n]).clipExtent([[e-.0388*n+u,i+.0093*n+u],[e-.0116*n-u,i+.0368*n-u]]).stream(g),l=d.translate([e-.045*n,i+-.02*n]).clipExtent([[e-.0778*n+u,i-.0413*n+u],[e-.0117*n-u,i+.0091*n-u]]).stream(g),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=p([-12.8351,38.7113]),e=p([-10.8482,38.7633]),r=p([-10.8181,37.2072]),i=p([-12.7345,37.1573]),o=p([-16.0753,41.4436]),u=p([-10.9168,41.6861]),a=p([-10.8557,38.7747]),c=p([-15.6728,38.5505]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(o[0],o[1]),t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]),t.lineTo(a[0],a[1]),t.lineTo(c[0],c[1]),t.closePath()},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(4200)},t.geoMercatorEcuador=function(){function t(t){var n=t[0],e=t[1];return l=null,f.point(n,e),l||(s.point(n,e),l)}function r(){return a=c=null,t}var a,c,f,s,l,h=n.geoMercator().rotate([80,1.5]),p=n.geoMercator().rotate([90.73,1]),v={point:function(t,n){l=[t,n]}};return t.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=-.0676&&i<-.026&&r>=-.0857&&r<-.0263?p:h).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([h.stream(c=t),p.stream(t)])},t.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),r()):h.precision()},t.scale=function(n){return arguments.length?(h.scale(n),p.scale(n),t.translate(h.translate())):h.scale()},t.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),e=+t[0],i=+t[1];return f=h.translate(t).clipExtent([[e-.0262*n,i-.0734*n],[e+.1741*n,i+.079*n]]).stream(v),s=p.translate([e-.06*n,i-.04*n]).clipExtent([[e-.0857*n+u,i-.0676*n+u],[e-.0263*n-u,i-.026*n-u]]).stream(v),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=h([-84.9032,2.3757]),e=h([-81.5047,2.3708]),r=h([-81.5063,-.01]),i=h([-84.9086,-.005]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(3500)},t.geoTransverseMercatorChile=function(){function t(t){var n=t[0],e=t[1];return p=null,f.point(n,e),p||(s.point(n,e),p)||(l.point(n,e),p)||(h.point(n,e),p)}function r(){return a=c=null,t}var a,c,f,s,l,h,p,v=n.geoTransverseMercator().rotate([72,37]),d=n.geoStereographic().rotate([72,0]),g=n.geoMercator().rotate([80,33.5]),b=n.geoMercator().rotate([110,25]),y={point:function(t,n){p=[t,n]}};return t.invert=function(t){var n=v.scale(),e=v.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.2582&&i<.32&&r>=-.1036&&r<-.087?d:i>=-.01298&&i<.0133&&r>=-.11396&&r<-.05944?g:i>=.01539&&i<.03911&&r>=-.089&&r<-.0588?b:v).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([v.stream(c=t),d.stream(t),g.stream(t),b.stream(t)])},t.precision=function(t){return arguments.length?(v.precision(t),d.precision(t),g.precision(t),b.precision(t),r()):v.precision()},t.scale=function(n){return arguments.length?(v.scale(n),d.scale(.15*n),g.scale(1.5*n),b.scale(1.5*n),t.translate(v.translate())):v.scale()},t.translate=function(t){if(!arguments.length)return v.translate();var n=v.scale(),e=+t[0],i=+t[1];return f=v.translate(t).clipExtent([[e-.059*n,i-.3835*n],[e+.4498*n,i+.3375*n]]).stream(y),s=d.translate([e-.087*n,i+.17*n]).clipExtent([[e-.1166*n+u,i+.2582*n+u],[e-.06*n-u,i+.32*n-u]]).stream(y),l=g.translate([e-.092*n,i-0*n]).clipExtent([[e-.114*n+u,i-.013*n+u],[e-.0594*n-u,i+.0133*n-u]]).stream(y),h=b.translate([e-.089*n,i-.0265*n]).clipExtent([[e-.089*n+u,i+.0154*n+u],[e-.0588*n-u,i+.0391*n-u]]).stream(y),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=v([-82.6999,-51.3043]),e=v([-77.5442,-51.6631]),r=v([-78.0254,-55.186]),i=v([-83.6106,-54.7785]),o=v([-80.0638,-35.984]),u=v([-76.2153,-36.1811]),a=v([-76.2994,-37.6839]),c=v([-80.2231,-37.4757]),f=v([-78.442,-37.706]),s=v([-76.263,-37.8054]),l=v([-76.344,-39.1595]),h=v([-78.5638,-39.0559]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(o[0],o[1]),t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]),t.lineTo(a[0],a[1]),t.lineTo(c[0],c[1]),t.closePath(),t.moveTo(f[0],f[1]),t.lineTo(s[0],s[1]),t.lineTo(l[0],l[1]),t.lineTo(l[0],l[1]),t.lineTo(h[0],h[1]),t.closePath()},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(700)},t.geoConicEquidistantJapan=function(){function t(t){var n=t[0],e=t[1];return h=null,f.point(n,e),h||(s.point(n,e),h)||(l.point(n,e),h)}function r(){return a=c=null,t}var a,c,f,s,l,h,p=n.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),v=n.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),d=n.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),g={point:function(t,n){h=[t,n]}};return t.invert=function(t){var n=p.scale(),e=p.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=-.10925&&i<-.02701&&r>=-.135&&r<-.0397?v:i>=.04713&&i<.11138&&r>=-.03986&&r<.051?d:p).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([p.stream(c=t),v.stream(t),d.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),v.precision(t),d.precision(t),r()):p.precision()},t.scale=function(n){return arguments.length?(p.scale(n),v.scale(n),d.scale(.7*n),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var n=p.scale(),e=+t[0],i=+t[1];return f=p.translate(t).clipExtent([[e-.1352*n,i-.1091*n],[e+.117*n,i+.098*n]]).stream(g),s=v.translate([e-.0425*n,i-.005*n]).clipExtent([[e-.135*n+u,i-.1093*n+u],[e-.0397*n-u,i-.027*n-u]]).stream(g),l=d.translate(t).clipExtent([[e-.0399*n+u,i+.0471*n+u],[e+.051*n-u,i+.1114*n-u]]).stream(g),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=p([126.01320483689143,41.621090310215585]),e=p([133.04304387025903,42.15087523707186]),r=p([133.3021766080688,37.43975444725098]),i=p([126.87889168628224,36.95488945159779]),o=p([132.9,29.8]),u=p([134,33]),a=p([139.3,33.2]),c=p([139.16,30.5]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(o[0],o[1]),t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]),t.lineTo(c[0],c[1])},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2200)},t.geoConicConformalFrance=function(){function t(t){var n=t[0],e=t[1];return _=null,f.point(n,e),_||(s.point(n,e),_)||(l.point(n,e),_)||(h.point(n,e),_)||(p.point(n,e),_)||(v.point(n,e),_)||(d.point(n,e),_)||(g.point(n,e),_)||(b.point(n,e),_)||(y.point(n,e),_)||(j.point(n,e),_)||(O.point(n,e),_)}function r(){return a=c=null,t}var a,c,f,s,l,h,p,v,d,g,b,y,j,O,_,m=n.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),w=n.geoMercator().center([-53.2,3.9]),x=n.geoMercator().center([-61.03,14.67]),E=n.geoMercator().center([-61.46,16.14]),M=n.geoMercator().center([-62.85,17.92]),T=n.geoMercator().center([-56.23,46.93]),S=n.geoMercator().center([45.16,-12.8]),k=n.geoMercator().center([55.52,-21.13]),C=n.geoMercator().center([165.8,-21.07]),P=n.geoMercator().center([-178.1,-14.3]),N=n.geoMercator().center([-150.55,-17.11]),R=n.geoMercator().center([-150.55,-17.11]),B={point:function(t,n){_=[t,n]}};return t.invert=function(t){var n=m.scale(),e=m.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.029&&i<.0864&&r>=-.14&&r<-.0996?w:i>=0&&i<.029&&r>=-.14&&r<-.0996?x:i>=-.032&&i<0&&r>=-.14&&r<-.0996?E:i>=-.052&&i<-.032&&r>=-.14&&r<-.0996?M:i>=-.076&&i<.052&&r>=-.14&&r<-.0996?T:i>=-.076&&i<-.052&&r>=.0967&&r<.1371?S:i>=-.052&&i<-.02&&r>=.0967&&r<.1371?k:i>=-.02&&i<.012&&r>=.0967&&r<.1371?C:i>=.012&&i<.033&&r>=.0967&&r<.1371?P:i>=.033&&i<.0864&&r>=.0967&&r<.1371?N:m).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([m.stream(c=t),w.stream(t),x.stream(t),E.stream(t),M.stream(t),T.stream(t),S.stream(t),k.stream(t),C.stream(t),P.stream(t),N.stream(t),R.stream(t)])},t.precision=function(t){return arguments.length?(m.precision(t),w.precision(t),x.precision(t),E.precision(t),M.precision(t),T.precision(t),S.precision(t),k.precision(t),C.precision(t),P.precision(t),N.precision(t),R.precision(t),r()):m.precision()},t.scale=function(n){return arguments.length?(m.scale(n),w.scale(.6*n),x.scale(1.6*n),E.scale(1.4*n),M.scale(5*n),T.scale(1.3*n),S.scale(1.6*n),k.scale(1.2*n),C.scale(.3*n),P.scale(2.7*n),N.scale(.5*n),R.scale(.06*n),t.translate(m.translate())):m.scale()},t.translate=function(t){if(!arguments.length)return m.translate();var n=m.scale(),e=+t[0],i=+t[1];return f=m.translate(t).clipExtent([[e-.0996*n,i-.0908*n],[e+.0967*n,i+.0864*n]]).stream(B),s=w.translate([e-.12*n,i+.0575*n]).clipExtent([[e-.14*n+u,i+.029*n+u],[e-.0996*n-u,i+.0864*n-u]]).stream(B),l=x.translate([e-.12*n,i+.013*n]).clipExtent([[e-.14*n+u,i+0*n+u],[e-.0996*n-u,i+.029*n-u]]).stream(B),h=E.translate([e-.12*n,i-.014*n]).clipExtent([[e-.14*n+u,i-.032*n+u],[e-.0996*n-u,i+0*n-u]]).stream(B),p=M.translate([e-.12*n,i-.044*n]).clipExtent([[e-.14*n+u,i-.052*n+u],[e-.0996*n-u,i-.032*n-u]]).stream(B),v=T.translate([e-.12*n,i-.065*n]).clipExtent([[e-.14*n+u,i-.076*n+u],[e-.0996*n-u,i-.052*n-u]]).stream(B),d=S.translate([e+.117*n,i-.064*n]).clipExtent([[e+.0967*n+u,i-.076*n+u],[e+.1371*n-u,i-.052*n-u]]).stream(B),g=k.translate([e+.116*n,i-.0355*n]).clipExtent([[e+.0967*n+u,i-.052*n+u],[e+.1371*n-u,i-.02*n-u]]).stream(B),b=C.translate([e+.116*n,i-.0048*n]).clipExtent([[e+.0967*n+u,i-.02*n+u],[e+.1371*n-u,i+.012*n-u]]).stream(B),y=P.translate([e+.116*n,i+.022*n]).clipExtent([[e+.0967*n+u,i+.012*n+u],[e+.1371*n-u,i+.033*n-u]]).stream(B),O=R.translate([e+.11*n,i+.045*n]).clipExtent([[e+.0967*n+u,i+.033*n+u],[e+.1371*n-u,i+.06*n-u]]).stream(B),j=N.translate([e+.115*n,i+.075*n]).clipExtent([[e+.0967*n+u,i+.06*n+u],[e+.1371*n-u,i+.0864*n-u]]).stream(B),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n,e,r,i;n=m([-7.938886725111036,43.7219460918835]),e=m([-4.832080896458295,44.12930268549372]),r=m([-4.205299743793263,40.98096346967365]),i=m([-7.071796453126152,40.610037319181444]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([-8.42751373617692,45.32889452553031]),e=m([-5.18599305777107,45.7566442062976]),r=m([-4.832080905154431,44.129302726751426]),i=m([-7.938886737126192,43.72194613263854]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([-9.012656899657046,47.127733821030176]),e=m([-5.6105244772793155,47.579777861410626]),r=m([-5.185993067168585,45.756644248170346]),i=m([-8.427513749141811,45.32889456686326]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([-9.405747558985553,48.26506375557457]),e=m([-5.896175018439575,48.733352850851624]),r=m([-5.610524487556043,47.57977790393761]),i=m([-9.012656913808351,47.127733862971255]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([-9.908436061346974,49.642448789505856]),e=m([-6.262026716233124,50.131426841787174]),r=m([-5.896175029331232,48.73335289377258]),i=m([-9.40574757396393,48.26506379787767]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([11.996907706504462,50.16039028163579]),e=m([15.649907879773343,49.68279246765253]),r=m([15.156712840526632,48.30371557625831]),i=m([11.64122661754411,48.761078240546816]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([11.641226606955788,48.7610781975889]),e=m([15.156712825832164,48.30371553390465]),r=m([14.549932166241172,46.4866532486199]),i=m([11.204443787952183,46.91899233914248]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([11.204443778297161,46.918992296823646]),e=m([14.549932152815039,46.486653206856396]),r=m([13.994409796764009,44.695833444323256]),i=m([10.805306599253848,45.105133870684924]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([10.805306590412085,45.10513382903308]),e=m([13.99440978444733,44.695833403183606]),r=m([13.654633799024392,43.53552468558152]),i=m([10.561516803980956,43.930671459798624]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([10.561516795617383,43.93067141859757]),e=m([13.654633787361952,43.5355246448671]),r=m([12.867691604239901,40.640701985019405]),i=m([9.997809515987688,41.00288343254471]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([10.8,42.4]),e=m([12.8,42.13]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1])},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(2700)},t.geoConicConformalEurope=function(){function t(t){var n=t[0],e=t[1];return _=null,f.point(n,e),_||(l.point(n,e),_)||(b.point(n,e),_)||(s.point(n,e),_)||(g.point(n,e),_)||(d.point(n,e),_)||(y.point(n,e),_)||(j.point(n,e),_)||(O.point(n,e),_)||(h.point(n,e),_)||(p.point(n,e),_)||(v.point(n,e),_)}function r(){return a=c=null,t}var a,c,f,s,l,h,p,v,d,g,b,y,j,O,_,m=n.geoConicConformal().rotate([-10,-53]).parallels([0,60]),w=n.geoMercator().center([-61.46,16.14]),x=n.geoMercator().center([-53.2,3.9]),E=n.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),M=n.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),T=n.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),S=n.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),k=n.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),C=n.geoMercator().center([-61.03,14.67]),P=n.geoMercator().center([45.16,-12.8]),N=n.geoMercator().center([55.52,-21.13]),R=n.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),B={point:function(t,n){_=[t,n]}};return t.invert=function(t){var n=m.scale(),e=m.translate(),r=(t[0]-(e[0]+.08*n))/n,i=(t[1]-e[1])/n;return(i>=-.31&&i<-.24&&r>=.14&&r<.24?w:i>=-.24&&i<-.17&&r>=.14&&r<.24?x:i>=-.17&&i<-.12&&r>=.21&&r<.24?M:i>=-.17&&i<-.14&&r>=.14&&r<.165?T:i>=-.17&&i<-.1&&r>=.14&&r<.24?E:i>=-.1&&i<-.03&&r>=.14&&r<.24?S:i>=-.03&&i<.04&&r>=.14&&r<.24?k:i>=-.31&&i<-.24&&r>=.24&&r<.34?C:i>=-.24&&i<-.17&&r>=.24&&r<.34?P:i>=-.17&&i<-.1&&r>=.24&&r<.34?N:i>=-.1&&i<-.03&&r>=.24&&r<.34?R:m).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([m.stream(c=t),x.stream(t),C.stream(t),w.stream(t),k.stream(t),S.stream(t),P.stream(t),N.stream(t),R.stream(t),E.stream(t),M.stream(t),T.stream(t)])},t.precision=function(t){return arguments.length?(m.precision(t),x.precision(t),C.precision(t),w.precision(t),k.precision(t),S.precision(t),P.precision(t),N.precision(t),R.precision(t),E.precision(t),M.precision(t),T.precision(t),r()):m.precision()},t.scale=function(n){return arguments.length?(m.scale(n),w.scale(3*n),x.scale(.8*n),C.scale(3.5*n),N.scale(2.7*n),E.scale(2*n),M.scale(2*n),T.scale(2*n),S.scale(3*n),k.scale(n),P.scale(5.5*n),R.scale(6*n),t.translate(m.translate())):m.scale()},t.translate=function(t){if(!arguments.length)return m.translate();var n=m.scale(),e=+t[0],i=+t[1];return f=m.translate([e-.08*n,i]).clipExtent([[e-.51*n,i-.33*n],[e+.5*n,i+.33*n]]).stream(B),s=w.translate([e+.19*n,i-.275*n]).clipExtent([[e+.14*n+u,i-.31*n+u],[e+.24*n-u,i-.24*n-u]]).stream(B),l=x.translate([e+.19*n,i-.205*n]).clipExtent([[e+.14*n+u,i-.24*n+u],[e+.24*n-u,i-.17*n-u]]).stream(B),h=E.translate([e+.19*n,i-.135*n]).clipExtent([[e+.14*n+u,i-.17*n+u],[e+.24*n-u,i-.1*n-u]]).stream(B),p=M.translate([e+.225*n,i-.147*n]).clipExtent([[e+.21*n+u,i-.17*n+u],[e+.24*n-u,i-.12*n-u]]).stream(B),v=T.translate([e+.153*n,i-.15*n]).clipExtent([[e+.14*n+u,i-.17*n+u],[e+.165*n-u,i-.14*n-u]]).stream(B),d=S.translate([e+.19*n,i-.065*n]).clipExtent([[e+.14*n+u,i-.1*n+u],[e+.24*n-u,i-.03*n-u]]).stream(B),g=k.translate([e+.19*n,i+.005*n]).clipExtent([[e+.14*n+u,i-.03*n+u],[e+.24*n-u,i+.04*n-u]]).stream(B),b=C.translate([e+.29*n,i-.275*n]).clipExtent([[e+.24*n+u,i-.31*n+u],[e+.34*n-u,i-.24*n-u]]).stream(B),y=P.translate([e+.29*n,i-.205*n]).clipExtent([[e+.24*n+u,i-.24*n+u],[e+.34*n-u,i-.17*n-u]]).stream(B),j=N.translate([e+.29*n,i-.135*n]).clipExtent([[e+.24*n+u,i-.17*n+u],[e+.34*n-u,i-.1*n-u]]).stream(B),O=R.translate([e+.29*n,i-.065*n]).clipExtent([[e+.24*n+u,i-.1*n+u],[e+.34*n-u,i-.03*n-u]]).stream(B),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n,e,r,i;n=m([42.45755610828648,63.343658547914934]),e=m([52.65837266667029,59.35045080290929]),r=m([47.19754502247785,56.12653496548117]),i=m([37.673034273363044,59.61638268506111]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([59.41110754003403,62.35069727399336]),e=m([66.75050228640794,57.11797303636038]),r=m([60.236065725110436,54.63331433818992]),i=m([52.65837313153311,59.350450804599355]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([48.81091130080243,66.93353402634641]),e=m([59.41110730654679,62.35069740653086]),r=m([52.6583728974441,59.3504509222445]),i=m([42.45755631675751,63.34365868805821]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([31.054198418446475,52.1080673766184]),e=m([39.09869284884117,49.400700047190554]),r=m([36.0580811499175,46.02944174908498]),i=m([28.690508588835726,48.433126979386415]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([33.977877745912025,55.849945501331]),e=m([42.75328432167726,52.78455122462353]),r=m([39.09869297540224,49.400700176148625]),i=m([31.05419851807008,52.10806751810923]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([52.658372900759296,59.35045068526415]),e=m([60.23606549583304,54.63331423800264]),r=m([54.6756370953122,51.892298789399455]),i=m([47.19754524788189,56.126534861222794]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([47.19754506082455,56.126534735591456]),e=m([54.675636900123514,51.892298681337095]),r=m([49.94448648951486,48.98775484983285]),i=m([42.75328468716108,52.78455126060818]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([42.75328453416769,52.78455113209101]),e=m([49.94448632339758,48.98775473706457]),r=m([45.912339990394315,45.99361784987003]),i=m([39.09869317356607,49.40070009378711]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([37.673034114296634,59.61638254183119]),e=m([47.197544835420544,56.126534839849846]),r=m([42.75328447467064,52.78455135314068]),i=m([33.977877870363905,55.849945644671145]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([44.56748486446032,57.26489367845818]),r=m([43.9335791193588,53.746540942601726]),i=m([43,56]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=m([37.673034114296634,59.61638254183119]),e=m([40.25902691953466,58.83002044222639]),r=m([38.458270492742024,57.26232178028002]),i=m([35.97754948030156,58.00266637992386]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(750)},t.geoMercatorMalaysia=function(){function t(t){var n=t[0],e=t[1];return l=null,f.point(n,e),l||(s.point(n,e),l)}function r(){return a=c=null,t}var a,c,f,s,l,h=n.geoMercator().center([105.25,4]),p=n.geoMercator().center([118.65,2.86]),v={point:function(t,n){l=[t,n]}};return t.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=-.0521&&i<.0229&&r>=-.0111&&r<.1?p:h).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([h.stream(c=t),p.stream(t)])},t.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),r()):h.precision()},t.scale=function(n){return arguments.length?(h.scale(n),p.scale(.615*n),t.translate(h.translate())):h.scale()},t.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),e=+t[0],i=+t[1];return f=h.translate(t).clipExtent([[e-.11*n,i-.0521*n],[e-.0111*n,i+.0521*n]]).stream(v),s=p.translate([e+.09*n,i-0*n]).clipExtent([[e-.0111*n+u,i-.0521*n+u],[e+.1*n-u,i+.024*n-u]]).stream(v),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n=h([106.3214,2.0228]),e=h([105.1843,2.3761]),r=h([104.2151,3.3618]),i=h([104.215,4.5651]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1])},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(4800)},t.geoMercatorEquatorialGuinea=function(){function t(t){var n=t[0],e=t[1];return h=null,f.point(n,e),h||(s.point(n,e),h)||(l.point(n,e),h)}function r(){return a=c=null,t}var a,c,f,s,l,h,p=n.geoMercator().rotate([-9.5,-1.5]),v=n.geoMercator().rotate([-8.6,-3.5]),d=n.geoMercator().rotate([-5.6,1.45]),g={point:function(t,n){h=[t,n]}};return t.invert=function(t){var n=p.scale(),e=p.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=-.02&&i<0&&r>=-.038&&r<-.005?v:i>=0&&i<.02&&r>=-.038&&r<-.005?d:p).invert(t)},t.stream=function(t){return a&&c===t?a:a=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([p.stream(c=t),v.stream(t),d.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),v.precision(t),d.precision(t),r()):p.precision()},t.scale=function(n){return arguments.length?(p.scale(n),v.scale(1.5*n),d.scale(4*n),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var n=p.scale(),e=+t[0],i=+t[1];return f=p.translate(t).clipExtent([[e-.005*n,i-.02*n],[e+.038*n,i+.02*n]]).stream(g),s=v.translate([e-.025*n,i-.01*n]).clipExtent([[e-.038*n+u,i-.02*n+u],[e-.005*n-u,i+0*n-u]]).stream(g),l=d.translate([e-.025*n,i+.01*n]).clipExtent([[e-.038*n+u,i-0*n+u],[e-.005*n-u,i+.02*n-u]]).stream(g),r()},t.fitExtent=function(n,e){return i(t,n,e)},t.fitSize=function(n,e){return o(t,n,e)},t.drawCompositionBorders=function(t){var n,e,r,i;n=p([9.21327272751682,2.645820439454123]),e=p([11.679126293239872,2.644755519268689]),r=p([11.676845389029227,.35307824637606433]),i=p([9.213572917774014,.35414205204417754]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=p([7.320873711543669,2.64475551449975]),e=p([9.213272722738658,2.645820434679803]),r=p([9.213422896480349,1.4999812505283054]),i=p([7.322014760520787,1.4989168878985566]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),n=p([7.3220147605302905,1.4989168783492766]),e=p([9.213422896481598,1.499981240979021]),r=p([9.213572912999604,.354142056817247]),i=p([7.323154615739809,.353078251154504]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},t.getCompositionBorders=function(){var t=e.path();return this.drawCompositionBorders(t),t.toString()},t.scale(12e3)},Object.defineProperty(t,"__esModule",{value:!0})}(n,e(323),e(33))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(142);e.d(n,"geoArea",function(){return r.c});var i=e(324);e.d(n,"geoBounds",function(){return i.a});var o=e(325);e.d(n,"geoCentroid",function(){return o.a});var u=e(143);e.d(n,"geoCircle",function(){return u.b});var a=e(145);e.d(n,"geoClipExtent",function(){return a.b});var c=e(328);e.d(n,"geoDistance",function(){return c.a});var f=e(329);e.d(n,"geoGraticule",function(){return f.a});var s=e(330);e.d(n,"geoInterpolate",function(){return s.a});var l=e(149);e.d(n,"geoLength",function(){return l.a});var h=e(331);e.d(n,"geoPath",function(){return h.a});var p=e(152);e.d(n,"geoAlbers",function(){return p.a});var v=e(340);e.d(n,"geoAlbersUsa",function(){return v.a});var d=e(341);e.d(n,"geoAzimuthalEqualArea",function(){return d.b}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return d.a});var g=e(342);e.d(n,"geoAzimuthalEquidistant",function(){return g.b}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return g.a});var b=e(343);e.d(n,"geoConicConformal",function(){return b.b}),e.d(n,"geoConicConformalRaw",function(){return b.a});var y=e(79);e.d(n,"geoConicEqualArea",function(){return y.b}),e.d(n,"geoConicEqualAreaRaw",function(){return y.a});var j=e(344);e.d(n,"geoConicEquidistant",function(){return j.b}),e.d(n,"geoConicEquidistantRaw",function(){return j.a});var O=e(155);e.d(n,"geoEquirectangular",function(){return O.a}),e.d(n,"geoEquirectangularRaw",function(){return O.b});var _=e(345);e.d(n,"geoGnomonic",function(){return _.a}),e.d(n,"geoGnomonicRaw",function(){return _.b});var m=e(18);e.d(n,"geoProjection",function(){return m.a}),e.d(n,"geoProjectionMutator",function(){return m.b});var w=e(82);e.d(n,"geoMercator",function(){return w.a}),e.d(n,"geoMercatorRaw",function(){return w.c});var x=e(346);e.d(n,"geoOrthographic",function(){return x.a}),e.d(n,"geoOrthographicRaw",function(){return x.b});var E=e(347);e.d(n,"geoStereographic",function(){return E.a}),e.d(n,"geoStereographicRaw",function(){return E.b});var M=e(348);e.d(n,"geoTransverseMercator",function(){return M.a}),e.d(n,"geoTransverseMercatorRaw",function(){return M.b});var T=e(78);e.d(n,"geoRotation",function(){return T.a});var S=e(26);e.d(n,"geoStream",function(){return S.a});var k=e(81);e.d(n,"geoTransform",function(){return k.a})},function(t,n,e){"use strict";function r(t,n){_.push(m=[p=t,d=t]),n<v&&(v=n),n>g&&(g=n)}function i(t,n){var e=Object(E.a)([t*M.r,n*M.r]);if(O){var i=Object(E.c)(O,e),o=[i[1],-i[0],0],u=Object(E.c)(o,i);Object(E.e)(u),u=Object(E.g)(u);var a,c=t-b,f=c>0?1:-1,l=u[0]*M.h*f,h=Object(M.a)(c)>180;h^(f*b<l&&l<f*t)?(a=u[1]*M.h)>g&&(g=a):h^(f*b<(l=(l+360)%360-180)&&l<f*t)?(a=-u[1]*M.h)<v&&(v=a):(n<v&&(v=n),n>g&&(g=n)),h?t<b?s(p,t)>s(p,d)&&(d=t):s(t,d)>s(p,d)&&(p=t):d>=p?(t<p&&(p=t),t>d&&(d=t)):t>b?s(p,t)>s(p,d)&&(d=t):s(t,d)>s(p,d)&&(p=t)}else r(t,n);O=e,b=t}function o(){k.point=i}function u(){m[0]=p,m[1]=d,k.point=r,O=null}function a(t,n){if(O){var e=t-b;S.add(Object(M.a)(e)>180?e+(e>0?360:-360):e)}else y=t,j=n;x.b.point(t,n),i(t,n)}function c(){x.b.lineStart()}function f(){a(y,j),x.b.lineEnd(),Object(M.a)(S)>M.i&&(p=-(d=180)),m[0]=p,m[1]=d,O=null}function s(t,n){return(n-=t)<0?n+360:n}function l(t,n){return t[0]-n[0]}function h(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var p,v,d,g,b,y,j,O,_,m,w=e(42),x=e(142),E=e(43),M=e(5),T=e(26),S=Object(w.a)(),k={point:r,lineStart:o,lineEnd:u,polygonStart:function(){k.point=a,k.lineStart=c,k.lineEnd=f,S.reset(),x.b.polygonStart()},polygonEnd:function(){x.b.polygonEnd(),k.point=r,k.lineStart=o,k.lineEnd=u,x.a<0?(p=-(d=180),v=-(g=90)):S>M.i?g=90:S<-M.i&&(v=-90),m[0]=p,m[1]=d}};n.a=function(t){var n,e,r,i,o,u,a;if(g=d=-(p=v=1/0),_=[],Object(T.a)(t,k),e=_.length){for(_.sort(l),n=1,o=[r=_[0]];n<e;++n)h(r,(i=_[n])[0])||h(r,i[1])?(s(r[0],i[1])>s(r[0],r[1])&&(r[1]=i[1]),s(i[0],r[1])>s(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)(a=s(r[1],(i=o[n])[0]))>u&&(u=a,p=i[0],d=r[1])}return _=m=null,p===1/0||v===1/0?[[NaN,NaN],[NaN,NaN]]:[[p,v],[d,g]]}},function(t,n,e){"use strict";function r(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n);i(e*Object(k.g)(t),e*Object(k.t)(t),Object(k.t)(n))}function i(t,n,e){d+=(t-d)/++p,g+=(n-g)/p,b+=(e-b)/p}function o(){N.point=u}function u(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n);M=e*Object(k.g)(t),T=e*Object(k.t)(t),S=Object(k.t)(n),N.point=a,i(M,T,S)}function a(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n),r=e*Object(k.g)(t),o=e*Object(k.t)(t),u=Object(k.t)(n),a=Object(k.e)(Object(k.u)((a=T*u-S*o)*a+(a=S*r-M*u)*a+(a=M*o-T*r)*a),M*r+T*o+S*u);v+=a,y+=a*(M+(M=r)),j+=a*(T+(T=o)),O+=a*(S+(S=u)),i(M,T,S)}function c(){N.point=r}function f(){N.point=l}function s(){h(x,E),N.point=r}function l(t,n){x=t,E=n,t*=k.r,n*=k.r,N.point=h;var e=Object(k.g)(n);M=e*Object(k.g)(t),T=e*Object(k.t)(t),S=Object(k.t)(n),i(M,T,S)}function h(t,n){t*=k.r,n*=k.r;var e=Object(k.g)(n),r=e*Object(k.g)(t),o=e*Object(k.t)(t),u=Object(k.t)(n),a=T*u-S*o,c=S*r-M*u,f=M*o-T*r,s=Object(k.u)(a*a+c*c+f*f),l=M*r+T*o+S*u,h=s&&-Object(k.b)(l)/s,p=Object(k.e)(s,l);_+=h*a,m+=h*c,w+=h*f,v+=p,y+=p*(M+(M=r)),j+=p*(T+(T=o)),O+=p*(S+(S=u)),i(M,T,S)}var p,v,d,g,b,y,j,O,_,m,w,x,E,M,T,S,k=e(5),C=e(25),P=e(26),N={sphere:C.a,point:r,lineStart:o,lineEnd:c,polygonStart:function(){N.lineStart=f,N.lineEnd=s},polygonEnd:function(){N.lineStart=o,N.lineEnd=c}};n.a=function(t){p=v=d=g=b=y=j=O=_=m=w=0,Object(P.a)(t,N);var n=_,e=m,r=w,i=n*n+e*e+r*r;return i<k.j&&(n=y,e=j,r=O,v<k.i&&(n=d,e=g,r=b),(i=n*n+e*e+r*r)<k.j)?[NaN,NaN]:[Object(k.e)(e,n)*k.h,Object(k.c)(r/Object(k.u)(i))*k.h]}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t,n,e,r,i,o){var u,a=t[0],c=t[1],f=0,s=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<f)return;u<s&&(s=u)}else if(l>0){if(u>s)return;u>f&&(f=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>s)return;u>f&&(f=u)}else if(l>0){if(u<f)return;u<s&&(s=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<f)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>f&&(f=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>f&&(f=u)}else if(h>0){if(u<f)return;u<s&&(s=u)}return f>0&&(t[0]=a+f*l,t[1]=c+f*h),s<1&&(n[0]=a+s*l,n[1]=c+s*h),!0}}}}}},function(t,n,e){"use strict";var r=e(149),i=[null,null],o={type:"LineString",coordinates:i};n.a=function(t,n){return i[0]=t,i[1]=n,Object(r.a)(o)}},function(t,n,e){"use strict";function r(t,n,e){var r=Object(o.range)(t,n-u.i,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function i(t,n,e){var r=Object(o.range)(t,n-u.i,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}var o=e(14),u=e(5);n.a=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Object(o.range)(Object(u.f)(f/O)*O,c,O).map(g).concat(Object(o.range)(Object(u.f)(p/_)*_,h,_).map(b)).concat(Object(o.range)(Object(u.f)(a/y)*y,e,y).filter(function(t){return Object(u.a)(t%O)>u.i}).map(v)).concat(Object(o.range)(Object(u.f)(l/j)*j,s,j).filter(function(t){return Object(u.a)(t%_)>u.i}).map(d))}var e,a,c,f,s,l,h,p,v,d,g,b,y=10,j=y,O=90,_=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[g(f).concat(b(h).slice(1),g(c).reverse().slice(1),b(p).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(p=+n[0][1],h=+n[1][1],(f=+n[0][0])>(c=+n[1][0])&&(n=f,f=c,c=n),p>h&&(n=p,p=h,h=n),t.precision(m)):[[f,p],[c,h]]},t.extentMinor=function(n){return arguments.length?(l=+n[0][1],s=+n[1][1],(a=+n[0][0])>(e=+n[1][0])&&(n=a,a=e,e=n),l>s&&(n=l,l=s,s=n),t.precision(m)):[[a,l],[e,s]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(O=+n[0],_=+n[1],t):[O,_]},t.stepMinor=function(n){return arguments.length?(y=+n[0],j=+n[1],t):[y,j]},t.precision=function(n){return arguments.length?(m=+n,v=r(l,s,90),d=i(a,e,m),g=r(p,h,90),b=i(f,c,m),t):m},t.extentMajor([[-180,-90+u.i],[180,90-u.i]]).extentMinor([[-180,-80-u.i],[180,80+u.i]])}},function(t,n,e){"use strict";var r=e(5);n.a=function(t,n){var e=t[0]*r.r,i=t[1]*r.r,o=n[0]*r.r,u=n[1]*r.r,a=Object(r.g)(i),c=Object(r.t)(i),f=Object(r.g)(u),s=Object(r.t)(u),l=a*Object(r.g)(e),h=a*Object(r.t)(e),p=f*Object(r.g)(o),v=f*Object(r.t)(o),d=2*Object(r.c)(Object(r.u)(Object(r.m)(u-i)+a*f*Object(r.m)(o-e))),g=Object(r.t)(d),b=d?function(t){var n=Object(r.t)(t*=d)/g,e=Object(r.t)(d-t)/g,i=e*l+n*p,o=e*h+n*v,u=e*c+n*s;return[Object(r.e)(o,i)*r.h,Object(r.e)(u,Object(r.u)(i*i+o*o))*r.h]}:function(){return[e*r.h,i*r.h]};return b.distance=d,b}},function(t,n,e){"use strict";var r=e(150),i=e(26),o=e(332),u=e(151),a=e(333),c=e(334),f=e(335);n.a=function(){function t(t){return t&&("function"==typeof h&&l.pointRadius(+h.apply(this,arguments)),Object(i.a)(t,e(l))),l.result()}var n,e,s,l,h=4.5;return t.area=function(t){return Object(i.a)(t,e(o.a)),o.a.result()},t.bounds=function(t){return Object(i.a)(t,e(u.a)),u.a.result()},t.centroid=function(t){return Object(i.a)(t,e(a.a)),a.a.result()},t.projection=function(i){return arguments.length?(e=null==(n=i)?r.a:i.stream,t):n},t.context=function(n){return arguments.length?(l=null==(s=n)?new f.a:new c.a(n),"function"!=typeof h&&l.pointRadius(h),t):s},t.pointRadius=function(n){return arguments.length?(h="function"==typeof n?n:(l.pointRadius(+n),+n),t):h},t.projection(null).context(null)}},function(t,n,e){"use strict";function r(){g.point=i}function i(t,n){g.point=o,a=f=t,c=s=n}function o(t,n){d.add(s*t-f*n),f=t,s=n}function u(){o(a,c)}var a,c,f,s,l=e(42),h=e(5),p=e(25),v=Object(l.a)(),d=Object(l.a)(),g={point:p.a,lineStart:p.a,lineEnd:p.a,polygonStart:function(){g.lineStart=r,g.lineEnd=u},polygonEnd:function(){g.lineStart=g.lineEnd=g.point=p.a,v.add(Object(h.a)(d)),d.reset()},result:function(){var t=v/2;return v.reset(),t}};n.a=g},function(t,n,e){"use strict";function r(t,n){b+=t,y+=n,++j}function i(){M.point=o}function o(t,n){M.point=u,r(v=t,d=n)}function u(t,n){var e=t-v,i=n-d,o=Object(g.u)(e*e+i*i);O+=o*(v+t)/2,_+=o*(d+n)/2,m+=o,r(v=t,d=n)}function a(){M.point=r}function c(){M.point=s}function f(){l(h,p)}function s(t,n){M.point=l,r(h=v=t,p=d=n)}function l(t,n){var e=t-v,i=n-d,o=Object(g.u)(e*e+i*i);O+=o*(v+t)/2,_+=o*(d+n)/2,m+=o,w+=(o=d*t-v*n)*(v+t),x+=o*(d+n),E+=3*o,r(v=t,d=n)}var h,p,v,d,g=e(5),b=0,y=0,j=0,O=0,_=0,m=0,w=0,x=0,E=0,M={point:r,lineStart:i,lineEnd:a,polygonStart:function(){M.lineStart=c,M.lineEnd=f},polygonEnd:function(){M.point=r,M.lineStart=i,M.lineEnd=a},result:function(){var t=E?[w/E,x/E]:m?[O/m,_/m]:j?[b/j,y/j]:[NaN,NaN];return b=y=j=O=_=m=w=x=E=0,t}};n.a=M},function(t,n,e){"use strict";function r(t){this._context=t}n.a=r;var i=e(5),o=e(25);r.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,i.w)}},result:o.a}},function(t,n,e){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}n.a=r,r.prototype={_circle:i(4.5),pointRadius:function(t){return this._circle=i(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}}},function(t,n,e){"use strict";var r=e(153),i=e(5);n.a=Object(r.a)(function(){return!0},function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(u,a){var c=u>0?i.o:-i.o,f=Object(i.a)(u-e);Object(i.a)(f-i.o)<i.i?(t.point(e,r=(r+a)/2>0?i.l:-i.l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(u,r),n=0):o!==c&&f>=i.o&&(Object(i.a)(e-o)<i.i&&(e-=o*i.i),Object(i.a)(u-c)<i.i&&(u-=c*i.i),r=function(t,n,e,r){var o,u,a=Object(i.t)(t-e);return Object(i.a)(a)>i.i?Object(i.d)((Object(i.t)(n)*(u=Object(i.g)(r))*Object(i.t)(e)-Object(i.t)(r)*(o=Object(i.g)(n))*Object(i.t)(t))/(o*u*a)):(n+r)/2}(e,r,u,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(c,r),n=0),t.point(e=u,r=a),o=c},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var o;if(null==t)r.point(-i.o,o=e*i.l),r.point(0,o),r.point(i.o,o),r.point(i.o,0),r.point(i.o,-o),r.point(0,-o),r.point(-i.o,-o),r.point(-i.o,0),r.point(-i.o,o);else if(Object(i.a)(t[0]-n[0])>i.i){var u=t[0]<n[0]?i.o:-i.o;r.point(-u,o=e*u/2),r.point(0,o),r.point(u,o)}else r.point(n[0],n[1])},[-i.o,-i.l])},function(t,n,e){"use strict";var r=e(42),i=e(43),o=e(5),u=Object(r.a)();n.a=function(t,n){var e=n[0],r=n[1],a=[Object(o.t)(e),-Object(o.g)(e),0],c=0,f=0;u.reset();for(var s=0,l=t.length;s<l;++s)if(p=(h=t[s]).length)for(var h,p,v=h[p-1],d=v[0],g=v[1]/2+o.q,b=Object(o.t)(g),y=Object(o.g)(g),j=0;j<p;++j,d=_,b=w,y=x,v=O){var O=h[j],_=O[0],m=O[1]/2+o.q,w=Object(o.t)(m),x=Object(o.g)(m),E=_-d,M=E>=0?1:-1,T=M*E,S=T>o.o,k=b*w;if(u.add(Object(o.e)(k*M*Object(o.t)(T),y*x+k*Object(o.g)(T))),c+=S?E+M*o.w:E,S^d>=e^_>=e){var C=Object(i.c)(Object(i.a)(v),Object(i.a)(O));Object(i.e)(C);var P=Object(i.c)(a,C);Object(i.e)(P);var N=(S^E>=0?-1:1)*Object(o.c)(P[2]);(r>N||r===N&&(C[0]||C[1]))&&(f+=S^E>=0?1:-1)}}return(c<-o.i||c<o.i&&u<-o.i)^1&f}},function(t,n,e){"use strict";var r=e(43),i=e(143),o=e(5),u=e(148),a=e(153);n.a=function(t,n){function e(t,n){return Object(o.g)(t)*Object(o.g)(n)>s}function c(t,n,e){var i=Object(r.a)(t),u=Object(r.a)(n),a=[1,0,0],c=Object(r.c)(i,u),f=Object(r.d)(c,c),l=c[0],h=f-l*l;if(!h)return!e&&t;var p=s*f/h,v=-s*l/h,d=Object(r.c)(a,c),g=Object(r.f)(a,p),b=Object(r.f)(c,v);Object(r.b)(g,b);var y=d,j=Object(r.d)(g,y),O=Object(r.d)(y,y),_=j*j-O*(Object(r.d)(g,g)-1);if(!(_<0)){var m=Object(o.u)(_),w=Object(r.f)(y,(-j-m)/O);if(Object(r.b)(w,g),w=Object(r.g)(w),!e)return w;var x,E=t[0],M=n[0],T=t[1],S=n[1];M<E&&(x=E,E=M,M=x);var k=M-E,C=Object(o.a)(k-o.o)<o.i;if(!C&&S<T&&(x=T,T=S,S=x),C||k<o.i?C?T+S>0^w[1]<(Object(o.a)(w[0]-E)<o.i?T:S):T<=w[1]&&w[1]<=S:k>o.o^(E<=w[0]&&w[0]<=M)){var N=Object(r.f)(y,(-j+m)/O);return Object(r.b)(N,g),[w,Object(r.g)(N)]}}}function f(n,e){var r=l?t:o.o-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var s=Object(o.g)(t),l=s>0,h=Object(o.a)(s)>o.i;return Object(a.a)(e,function(t){var n,r,i,a,s;return{lineStart:function(){a=i=!1,s=1},point:function(p,v){var d,g=[p,v],b=e(p,v),y=l?b?0:f(p,v):b?f(p+(p<0?o.o:-o.o),v):0;if(!n&&(a=i=b)&&t.lineStart(),b!==i&&(d=c(n,g),(Object(u.a)(n,d)||Object(u.a)(g,d))&&(g[0]+=o.i,g[1]+=o.i,b=e(g[0],g[1]))),b!==i)s=0,b?(t.lineStart(),d=c(g,n),t.point(d[0],d[1])):(d=c(n,g),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(h&&n&&l^b){var j;y&r||!(j=c(g,n,!0))||(s=0,l?(t.lineStart(),t.point(j[0][0],j[0][1]),t.point(j[1][0],j[1][1]),t.lineEnd()):(t.point(j[1][0],j[1][1]),t.lineEnd(),t.lineStart(),t.point(j[0][0],j[0][1])))}!b||n&&Object(u.a)(n,g)||t.point(g[0],g[1]),n=g,i=b,r=y},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return s|(a&&i)<<1}}},function(e,r,o,u){Object(i.a)(u,t,n,o,e,r)},l?[0,-t]:[-o.o,t-o.o])}},function(t,n,e){"use strict";var r=e(43),i=e(5),o=e(81),u=16,a=Object(i.g)(30*i.r);n.a=function(t,n){return+n?function(t,n){function e(r,o,u,c,f,s,l,h,p,v,d,g,b,y){var j=l-r,O=h-o,_=j*j+O*O;if(_>4*n&&b--){var m=c+v,w=f+d,x=s+g,E=Object(i.u)(m*m+w*w+x*x),M=Object(i.c)(x/=E),T=Object(i.a)(Object(i.a)(x)-1)<i.i||Object(i.a)(u-p)<i.i?(u+p)/2:Object(i.e)(w,m),S=t(T,M),k=S[0],C=S[1],P=k-r,N=C-o,R=O*P-j*N;(R*R/_>n||Object(i.a)((j*P+O*N)/_-.5)>.3||c*v+f*d+s*g<a)&&(e(r,o,u,c,f,s,k,C,T,m/=E,w/=E,x,b,y),y.point(k,C),e(k,C,T,m,w,x,l,h,p,v,d,g,b,y))}}return function(n){function i(e,r){e=t(e,r),n.point(e[0],e[1])}function o(){j=NaN,x.point=a,n.lineStart()}function a(i,o){var a=Object(r.a)([i,o]),c=t(i,o);e(j,O,y,_,m,w,j=c[0],O=c[1],y=i,_=a[0],m=a[1],w=a[2],u,n),n.point(j,O)}function c(){x.point=i,n.lineEnd()}function f(){o(),x.point=s,x.lineEnd=l}function s(t,n){a(h=t,n),p=j,v=O,d=_,g=m,b=w,x.point=a}function l(){e(j,O,y,_,m,w,p,v,h,d,g,b,u,n),x.lineEnd=c,c()}var h,p,v,d,g,b,y,j,O,_,m,w,x={point:i,lineStart:o,lineEnd:c,polygonStart:function(){n.polygonStart(),x.lineStart=f},polygonEnd:function(){n.polygonEnd(),x.lineStart=o}};return x}}(t,n):function(t){return Object(o.b)({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}},function(t,n,e){"use strict";var r=e(5),i=e(152),o=e(79),u=e(154);n.a=function(){function t(t){var n=t[0],e=t[1];return s=null,a.point(n,e),s||(c.point(n,e),s)||(f.point(n,e),s)}var n,e,a,c,f,s,l=Object(i.a)(),h=Object(o.b)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Object(o.b)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(t,n){s=[t,n]}};return t.invert=function(t){var n=l.scale(),e=l.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?h:i>=.166&&i<.234&&r>=-.214&&r<-.115?p:l).invert(t)},t.stream=function(t){return n&&e===t?n:n=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([l.stream(e=t),h.stream(t),p.stream(t)])},t.precision=function(n){return arguments.length?(l.precision(n),h.precision(n),p.precision(n),t):l.precision()},t.scale=function(n){return arguments.length?(l.scale(n),h.scale(.35*n),p.scale(n),t.translate(l.translate())):l.scale()},t.translate=function(n){if(!arguments.length)return l.translate();var e=l.scale(),i=+n[0],o=+n[1];return a=l.translate(n).clipExtent([[i-.455*e,o-.238*e],[i+.455*e,o+.238*e]]).stream(v),c=h.translate([i-.307*e,o+.201*e]).clipExtent([[i-.425*e+r.i,o+.12*e+r.i],[i-.214*e-r.i,o+.234*e-r.i]]).stream(v),f=p.translate([i-.205*e,o+.212*e]).clipExtent([[i-.214*e+r.i,o+.166*e+r.i],[i-.115*e-r.i,o+.234*e-r.i]]).stream(v),t},t.fitExtent=Object(u.a)(t),t.fitSize=Object(u.b)(t),t.scale(1070)}},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(5),i=e(44),o=e(18),u=Object(i.b)(function(t){return Object(r.u)(2/(1+t))});u.invert=Object(i.a)(function(t){return 2*Object(r.c)(t/2)}),n.b=function(){return Object(o.a)(u).scale(124.75).clipAngle(179.999)}},function(t,n,e){"use strict";e.d(n,"a",function(){return u});var r=e(5),i=e(44),o=e(18),u=Object(i.b)(function(t){return(t=Object(r.b)(t))&&t/Object(r.t)(t)});u.invert=Object(i.a)(function(t){return t}),n.b=function(){return Object(o.a)(u).scale(79.4188).clipAngle(179.999)}},function(t,n,e){"use strict";function r(t){return Object(o.v)((o.l+t)/2)}function i(t,n){function e(t,n){c>0?n<-o.l+o.i&&(n=-o.l+o.i):n>o.l-o.i&&(n=o.l-o.i);var e=c/Object(o.p)(r(n),u);return[e*Object(o.t)(u*t),c-e*Object(o.g)(u*t)]}var i=Object(o.g)(t),u=t===n?Object(o.t)(t):Object(o.n)(i/Object(o.g)(n))/Object(o.n)(r(n)/r(t)),c=i*Object(o.p)(r(t),u)/u;return u?(e.invert=function(t,n){var e=c-n,r=Object(o.s)(u)*Object(o.u)(t*t+e*e);return[Object(o.e)(t,e)/u,2*Object(o.d)(Object(o.p)(c/r,1/u))-o.l]},e):a.c}n.a=i;var o=e(5),u=e(80),a=e(82);n.b=function(){return Object(u.a)(i).scale(109.5).parallels([30,30])}},function(t,n,e){"use strict";function r(t,n){function e(t,n){var e=a-n,r=o*t;return[e*Object(i.t)(r),a-e*Object(i.g)(r)]}var r=Object(i.g)(t),o=t===n?Object(i.t)(t):(r-Object(i.g)(n))/(n-t),a=r/o+t;return Object(i.a)(o)<i.i?u.b:(e.invert=function(t,n){var e=a-n;return[Object(i.e)(t,e)/o,a-Object(i.s)(o)*Object(i.u)(t*t+e*e)]},e)}n.a=r;var i=e(5),o=e(80),u=e(155);n.b=function(){return Object(o.a)(r).scale(131.154).center([0,13.9389])}},function(t,n,e){"use strict";function r(t,n){var e=Object(i.g)(n),r=Object(i.g)(t)*e;return[e*Object(i.t)(t)/r,Object(i.t)(n)/r]}n.b=r;var i=e(5),o=e(44),u=e(18);r.invert=Object(o.a)(i.d),n.a=function(){return Object(u.a)(r).scale(144.049).clipAngle(60)}},function(t,n,e){"use strict";function r(t,n){return[Object(i.g)(n)*Object(i.t)(t),Object(i.t)(n)]}n.b=r;var i=e(5),o=e(44),u=e(18);r.invert=Object(o.a)(i.c),n.a=function(){return Object(u.a)(r).scale(249.5).clipAngle(90+i.i)}},function(t,n,e){"use strict";function r(t,n){var e=Object(i.g)(n),r=1+Object(i.g)(t)*e;return[e*Object(i.t)(t)/r,Object(i.t)(n)/r]}n.b=r;var i=e(5),o=e(44),u=e(18);r.invert=Object(o.a)(function(t){return 2*Object(i.d)(t)}),n.a=function(){return Object(u.a)(r).scale(250).clipAngle(142)}},function(t,n,e){"use strict";function r(t,n){return[Object(i.n)(Object(i.v)((i.l+n)/2)),-t]}n.b=r;var i=e(5),o=e(82);r.invert=function(t,n){return[-n,2*Object(i.d)(Object(i.k)(t))-i.l]},n.a=function(){var t=Object(o.b)(r),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}},function(t,n,e){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}var o=Math.PI,u=2*o,a=u-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){var u=this._x1,a=this._y1,c=(e=+e)-(t=+t),f=(r=+r)-(n=+n),s=u-t,l=a-n,h=s*s+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(l*c-f*s)>1e-6&&i){var p=e-u,v=r-a,d=c*c+f*f,g=p*p+v*v,b=Math.sqrt(d),y=Math.sqrt(h),j=i*Math.tan((o-Math.acos((d+h-g)/(2*b*y)))/2),O=j/y,_=j/b;Math.abs(O-1)>1e-6&&(this._+="L"+(t+O*s)+","+(n+O*l)),this._+="A"+i+","+i+",0,0,"+ +(l*p>s*v)+","+(this._x1=t+_*c)+","+(this._y1=n+_*f)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,i,c){t=+t,n=+n;var f=(e=+e)*Math.cos(r),s=e*Math.sin(r),l=t+f,h=n+s,p=1^c,v=c?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+l+","+h:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+l+","+h),e&&(v<0&&(v=v%u+u),v>a?this._+="A"+e+","+e+",0,1,"+p+","+(t-f)+","+(n-s)+"A"+e+","+e+",0,1,"+p+","+(this._x1=l)+","+(this._y1=h):v>1e-6&&(this._+="A"+e+","+e+",0,"+ +(v>=o)+","+p+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}},n.a=i},function(t,n,e){var r=e(3),i=e(39);r(i.prototype,{getAllNodes:function(){var t=[],n=this.root;return n.each?n.each(function(n){t.push(n)}):n.eachNode&&n.eachNode(function(n){t.push(n)}),t},getAllLinks:function(){for(var t,n=[],e=[this.root];t=e.pop();){var r=t.children;r&&r.forEach(function(r){n.push({source:t,target:r}),e.push(r)})}return n}}),r(i.prototype,{getAllEdges:i.prototype.getAllLinks})},function(t,n,e){var r=e(3),i=e(83),o=e(15);r(e(39).prototype,{partition:function(t,n){return void 0===t&&(t=[]),void 0===n&&(n=[]),o(this.rows,t,n)},group:function(t,n){var e=this.partition(t,n);return i(e)},groups:function(t,n){return this.group(t,n)}})},function(t,n,e){var r=e(9),i=e(6),o=Object.prototype.hasOwnProperty;t.exports=function(t,n){if(!n||!i(t))return t;var e={},u=null;return r(t,function(t){u=n(t),o.call(e,u)?e[u].push(t):e[u]=[t]}),e}},function(t,n,e){var r=e(6),i=e(11),o=e(10);t.exports=function(t,n){var e;return void 0===n&&(n=[]),i(n)?e=n:r(n)?e=function(t,e){for(var r=0;r<n.length;r++){var i=n[r];if(t[i]<e[i])return-1;if(t[i]>e[i])return 1}return 0}:o(n)&&(e=function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}),t.sort(e)}},function(t,n,e){function r(t,n){var e=t.getColumn(n);return u(e)&&u(e[0])&&(e=o(e)),e}var i=e(3),o=e(156),u=e(6),a=e(19),c=e(39),f=e(157);e(84).STATISTICS_METHODS.forEach(function(t){c.prototype[t]=function(n){return a[t](r(this,n))}});var s=a.quantile;i(c.prototype,{average:c.prototype.mean,quantile:function(t,n){return s(r(this,t),n)},quantiles:function(t,n){var e=r(this,t);return n.map(function(t){return s(e,t)})},quantilesByFraction:function(t,n){return this.quantiles(t,f(n))},range:function(t){return[this.min(t),this.max(t)]},extent:function(t){return this.range(t)}})},function(t,n,e){var r=e(10),i=e(40);(0,e(2).registerConnector)("default",function(t,n){if(r(t)&&(t=n.getView(t)),!t)throw new TypeError("Invalid dataView");return i(t.rows)})},function(t,n){var e=function(){var t={};return function(n){return t[n=n||"g"]?t[n]+=1:t[n]=1,n+t[n]}}();t.exports=e},function(t,n,e){var r=e(10),i=e(358),o=i.dsvFormat,u=i.csvParse,a=i.tsvParse,c=e(2).registerConnector;c("dsv",function(t,n){void 0===n&&(n={});var e=n.delimiter||",";if(!r(e))throw new TypeError("Invalid delimiter: must be a string!");return o(e).parse(t)}),c("csv",function(t){return u(t)}),c("tsv",function(t){return a(t)})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(85);e.d(n,"dsvFormat",function(){return r.a});var i=e(359);e.d(n,"csvParse",function(){return i.c}),e.d(n,"csvParseRows",function(){return i.d}),e.d(n,"csvFormat",function(){return i.a}),e.d(n,"csvFormatRows",function(){return i.b});var o=e(360);e.d(n,"tsvParse",function(){return o.c}),e.d(n,"tsvParseRows",function(){return o.d}),e.d(n,"tsvFormat",function(){return o.a}),e.d(n,"tsvFormatRows",function(){return o.b})},function(t,n,e){"use strict";e.d(n,"c",function(){return o}),e.d(n,"d",function(){return u}),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return c});var r=e(85),i=Object(r.a)(","),o=i.parse,u=i.parseRows,a=i.format,c=i.formatRows},function(t,n,e){"use strict";e.d(n,"c",function(){return o}),e.d(n,"d",function(){return u}),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return c});var r=e(85),i=Object(r.a)("\t"),o=i.parse,u=i.parseRows,a=i.format,c=i.formatRows},function(t,n,e){function r(t,n){n.dataType="geo-graticule";var e=i().lines();return e.map(function(t,n){return t.index=""+n,t}),n.rows=e,e}var i=e(0).geoGraticule;(0,e(2).registerConnector)("geo-graticule",r),t.exports=r},function(t,n){t.exports=function(t){var n=[];return t.replace(r,function(t,r,o){var u=r.toLowerCase();for(o=function(t){var n=o.match(i);return n?n.map(Number):[]}(),"m"==u&&o.length>2&&(n.push([r].concat(o.splice(0,2))),u="l",r="m"==r?"l":"L");;){if(o.length==e[u])return o.unshift(r),n.push(o);if(o.length<e[u])throw new Error("malformed path data");n.push([r].concat(o.splice(0,e[u])))}}),n};var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,n){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,n){t.exports=function(t){var n=0,e=0,r=0,i=0;return t.map(function(t){var o=(t=t.slice())[0],u=o.toUpperCase();if(o!=u)switch(t[0]=u,o){case"a":t[6]+=r,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=r;break;default:for(var a=1;a<t.length;)t[a++]+=r,t[a++]+=i}switch(u){case"Z":r=n,i=e;break;case"H":r=t[1];break;case"V":i=t[1];break;case"M":r=n=t[1],i=e=t[2];break;default:r=t[t.length-2],i=t[t.length-1]}return t})}},function(t,n,e){function r(t,n,e){n=i({},f,n),e.dataType=a;var u=n.nodes,c=n.edges;if(u&&!o(u))throw new TypeError("Invalid nodes: must be a function!");if(c&&!o(c))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:u(t),edges:c(t)},i(e,e.graph),e.rows}var i=e(3),o=e(11),u=e(2),a=u.GRAPH,c=u.registerConnector,f={nodes:function(t){return t.nodes},edges:function(t){return t.edges}};c("graph",r),c("diagram",r)},function(t,n,e){function r(t){return t.cx=t.x,t.cy=t.y,t.x=[],t.y=[],t.vertices.forEach(function(n){t.x.push(n.x+t.cx),t.y.push(n.y+t.cy)}),t}function i(t,n,e){e.dataType=l;var i=n=o({},p,n),a=i.width,s=i.height,h=u(t);e._HexJSON=h;var v=e._GridHexJSON=c(h),d=e.rows=f(h,a,s).map(r);return e._gridRows=f(v,a,s).map(r),d}var o=e(3),u=e(40),a=e(367),c=a.getGridForHexJSON,f=a.renderHexJSON,s=e(2),l=s.HEX,h=s.registerConnector,p={width:1,height:1};h("hex",i),h("hexjson",i),h("hex-json",i),h("HexJSON",i),t.exports=i},function(t,n,e){!function(t,n){"use strict";t.renderHexJSON=function(t,e,r){var u,i=t.layout,o=[];Object.keys(t.hexes).forEach(function(n){t.hexes[n].key=n,o.push(t.hexes[n])});var a=n.max(o,function(t){return+t.q}),c=n.min(o,function(t){return+t.q}),f=n.max(o,function(t){return+t.r}),s=n.min(o,function(t){return+t.r}),l=a-c+1,h=f-s+1,p=(u=n.min("odd-r"===i||"even-r"===i?[e/((l+.5)*Math.sqrt(3)),r/(1.5*(h+1/3))]:[r/((h+.5)*Math.sqrt(3)),e/(1.5*(l+1/3))]))*Math.sqrt(3),v=function(t,n,e){var r=[];switch(i){case"odd-r":case"even-r":r.push({x:0,y:0-e}),r.push({x:0+.5*n,y:0-.5*e}),r.push({x:0+.5*n,y:0+.5*e}),r.push({x:0,y:0+e}),r.push({x:0-.5*n,y:0+.5*e}),r.push({x:0-.5*n,y:0-.5*e});break;case"odd-q":case"even-q":r.push({x:0-e,y:0}),r.push({x:0-.5*e,y:0-.5*n}),r.push({x:0+.5*e,y:0-.5*n}),r.push({x:0+e,y:0}),r.push({x:0+.5*e,y:0+.5*n}),r.push({x:0-.5*e,y:0+.5*n})}return r}(0,p,u),d=function(t){var n="";return v.forEach(function(t){n+=t.x+","+t.y+" "}),n.substring(0,n.length-1)}();return o.forEach(function(t){t.qc=t.q-c,t.rc=f-t.r,t.x=function(t,n,e,r){var i=0;switch(n){case"odd-r":i=t.qc*e+(t.rc%2==1?e:e/2);break;case"even-r":i=t.qc*e+(t.rc%2==0?e:e/2);break;case"odd-q":case"even-q":i=t.qc*r*1.5+r}return i}(t,i,p,u),t.y=function(t,n,e,r){var i=0;switch(n){case"odd-r":case"even-r":i=t.rc*r*1.5+r;break;case"odd-q":i=t.rc*e+(t.qc%2==1?e:e/2);break;case"even-q":i=t.rc*e+(t.qc%2==0?e:e/2)}return i}(t,i,p,u),t.vertices=v,t.points=d}),o},t.getGridForHexJSON=function(t){var e={};e.layout=t.layout,e.hexes={};var r=[];Object.keys(t.hexes).forEach(function(n){r.push(t.hexes[n])});var i,o,a=n.max(r,function(t){return+t.q}),c=n.min(r,function(t){return+t.q}),f=n.max(r,function(t){return+t.r}),s=n.min(r,function(t){return+t.r});for(i=c;i<=a;i++)for(o=s;o<=f;o++)e.hexes["Q"+i+"R"+o]={q:i,r:o};return e},Object.defineProperty(t,"__esModule",{value:!0})}(n,e(14))},function(t,n,e){function r(t,n,e){e.dataType=a;var r=n&&n.children?n.children:null;if(r&&!i(r))throw new TypeError("Invalid children: must be a function!");return e.rows=e.root=n.pureData?t:o(t,r),t}var i=e(11),o=e(34).hierarchy,u=e(2),a=u.HIERARCHY,c=u.registerConnector;c("hierarchy",r),c("tree",r)},function(t,n,e){"use strict";function r(t,n){return t.parent===n.parent?1:2}function i(t,n){return t+n.x}function o(t,n){return Math.max(t,n.y)}n.a=function(){function t(t){var r,c=0;t.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(i,0)/t.length}(e),t.y=1+e.reduce(o,0)):(t.x=r?c+=n(t,r):0,t.y=0,r=t)});var f=function(t){for(var n;n=t.children;)t=n[0];return t}(t),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),l=f.x-n(f,s)/2,h=s.x+n(s,f)/2;return t.eachAfter(a?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*u}:function(n){n.x=(n.x-l)/(h-l)*e,n.y=(1-(t.y?n.y/t.y:1))*u})}var n=r,e=1,u=1,a=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(a=!1,e=+n[0],u=+n[1],t):a?null:[e,u]},t.nodeSize=function(n){return arguments.length?(a=!0,e=+n[0],u=+n[1],t):a?[e,u]:null},t}},function(t,n,e){"use strict";function r(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}n.a=function(){return this.eachAfter(r)}},function(t,n,e){"use strict";n.a=function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this}},function(t,n,e){"use strict";n.a=function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this}},function(t,n,e){"use strict";n.a=function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this}},function(t,n,e){"use strict";n.a=function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}},function(t,n,e){"use strict";n.a=function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}},function(t,n,e){"use strict";n.a=function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)r.push(n=n.parent);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}},function(t,n,e){"use strict";n.a=function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}},function(t,n,e){"use strict";n.a=function(){var t=[];return this.each(function(n){t.push(n)}),t}},function(t,n,e){"use strict";n.a=function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}},function(t,n,e){"use strict";n.a=function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}},function(t,n,e){"use strict";function r(t){return Math.sqrt(t.value)}function i(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function o(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,c=t(e)*n||0;if(c)for(i=0;i<u;++i)r[i].r+=c;if(o=Object(a.b)(r),c)for(i=0;i<u;++i)r[i].r-=c;e.r=o+c}}}function u(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var a=e(160),c=e(87),f=e(162);n.a=function(){function t(t){return t.x=e/2,t.y=a/2,n?t.eachBefore(i(n)).eachAfter(o(s,.5)).eachBefore(u(1)):t.eachBefore(i(r)).eachAfter(o(f.a,1)).eachAfter(o(s,t.r/Math.min(e,a))).eachBefore(u(Math.min(e,a)/(2*t.r))),t}var n=null,e=1,a=1,s=f.a;return t.radius=function(e){return arguments.length?(n=Object(c.a)(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],a=+n[1],t):[e,a]},t.padding=function(n){return arguments.length?(s="function"==typeof n?n:Object(f.b)(+n),t):s},t}},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),n.a=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t};var r=Array.prototype.slice},function(t,n,e){"use strict";var r=e(163),i=e(45);n.a=function(){function t(t){var a=t.height+1;return t.x0=t.y0=o,t.x1=n,t.y1=e/a,t.eachBefore(function(t,n){return function(e){e.children&&Object(i.a)(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var r=e.x0,u=e.y0,a=e.x1-o,c=e.y1-o;a<r&&(r=a=(r+a)/2),c<u&&(u=c=(u+c)/2),e.x0=r,e.y0=u,e.x1=a,e.y1=c}}(e,a)),u&&t.eachBefore(r.a),t}var n=1,e=1,o=0,u=!1;return t.round=function(n){return arguments.length?(u=!!n,t):u},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(o=+n,t):o},t}},function(t,n,e){"use strict";function r(t){return t.id}function i(t){return t.parentId}var o=e(87),u=e(86),a="$",c={depth:-1},f={};n.a=function(){function t(t){var r,i,o,s,l,h,p,v=t.length,d=new Array(v),g={};for(i=0;i<v;++i)l=d[i]=new u.a(r=t[i]),null!=(h=n(r,i,t))&&(h+="")&&(g[p=a+(l.id=h)]=p in g?f:l);for(i=0;i<v;++i)if(l=d[i],null!=(h=e(t[i],i,t))&&(h+="")){if(!(s=g[a+h]))throw new Error("missing: "+h);if(s===f)throw new Error("ambiguous: "+h);s.children?s.children.push(l):s.children=[l],l.parent=s}else{if(o)throw new Error("multiple roots");o=l}if(!o)throw new Error("no root");if(o.parent=c,o.eachBefore(function(t){t.depth=t.parent.depth+1,--v}).eachBefore(u.b),o.parent=null,v>0)throw new Error("cycle");return o}var n=r,e=i;return t.id=function(e){return arguments.length?(n=Object(o.b)(e),t):n},t.parentId=function(n){return arguments.length?(e=Object(o.b)(n),t):e},t}},function(t,n,e){"use strict";function r(t,n){return t.parent===n.parent?1:2}function i(t){var n=t.children;return n?n[0]:t.t}function o(t){var n=t.children;return n?n[n.length-1]:t.t}function u(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function a(t,n,e){return t.a.parent===n.parent?t.a:e}function c(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}var f=e(86);c.prototype=Object.create(f.a.prototype),n.a=function(){function t(t){var r=function(t){for(var n,e,r,i,o,u=new c(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new c(r[i],i)),e.parent=n;return(u.parent=new c(null,0)).children=[u],u}(t);if(r.eachAfter(n),r.parent.m=-r.z,r.eachBefore(e),p)t.eachBefore(f);else{var i=t,o=t,u=t;t.eachBefore(function(t){t.x<i.x&&(i=t),t.x>o.x&&(o=t),t.depth>u.depth&&(u=t)});var a=i===o?1:s(i,o)/2,v=a-i.x,d=l/(o.x+a+v),g=h/(u.depth||1);t.eachBefore(function(t){t.x=(t.x+v)*d,t.y=t.depth*g})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var c=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-c):t.z=c}else r&&(t.z=r.z+s(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,c=t,f=t,l=n,h=c.parent.children[0],p=c.m,v=f.m,d=l.m,g=h.m;l=o(l),c=i(c),l&&c;)h=i(h),(f=o(f)).a=t,(r=l.z+d-c.z-p+s(l._,c._))>0&&(u(a(l,t,e),t,r),p+=r,v+=r),d+=l.m,p+=c.m,g+=h.m,v+=f.m;l&&!o(f)&&(f.t=l,f.m+=d-v),c&&!i(h)&&(h.t=c,h.m+=p-g,e=t)}return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function f(t){t.x*=l,t.y=t.depth*h}var s=r,l=1,h=1,p=null;return t.separation=function(n){return arguments.length?(s=n,t):s},t.size=function(n){return arguments.length?(p=!1,l=+n[0],h=+n[1],t):p?null:[l,h]},t.nodeSize=function(n){return arguments.length?(p=!0,l=+n[0],h=+n[1],t):p?[l,h]:null},t}},function(t,n,e){"use strict";var r=e(163),i=e(88),o=e(87),u=e(162);n.a=function(){function t(t){return t.x0=t.y0=0,t.x1=c,t.y1=f,t.eachBefore(n),s=[0],a&&t.eachBefore(r.a),t}function n(t){var n=s[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,u=t.y1-n;o<r&&(r=o=(r+o)/2),u<i&&(i=u=(i+u)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=u,t.children&&(n=s[t.depth+1]=l(t)/2,r+=d(t)-n,i+=h(t)-n,(o-=p(t)-n)<r&&(r=o=(r+o)/2),(u-=v(t)-n)<i&&(i=u=(i+u)/2),e(t,r,i,o,u))}var e=i.a,a=!1,c=1,f=1,s=[0],l=u.a,h=u.a,p=u.a,v=u.a,d=u.a;return t.round=function(n){return arguments.length?(a=!!n,t):a},t.size=function(n){return arguments.length?(c=+n[0],f=+n[1],t):[c,f]},t.tile=function(n){return arguments.length?(e=Object(o.b)(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(l="function"==typeof n?n:Object(u.b)(+n),t):l},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(h="function"==typeof n?n:Object(u.b)(+n),t):h},t.paddingRight=function(n){return arguments.length?(p="function"==typeof n?n:Object(u.b)(+n),t):p},t.paddingBottom=function(n){return arguments.length?(v="function"==typeof n?n:Object(u.b)(+n),t):v},t.paddingLeft=function(n){return arguments.length?(d="function"==typeof n?n:Object(u.b)(+n),t):d},t}},function(t,n,e){"use strict";n.a=function(t,n,e,r,i){var u,a,c=t.children,f=c.length,s=new Array(f+1);for(s[0]=a=u=0;u<f;++u)s[u+1]=a+=c[u].value;!function o(t,n,e,r,i,u,a){if(t>=n-1){var f=c[t];return f.x0=r,f.y0=i,f.x1=u,void(f.y1=a)}for(var l=s[t],h=e/2+l,p=t+1,v=n-1;p<v;){var d=p+v>>>1;s[d]<h?p=d+1:v=d}h-s[p-1]<s[p]-h&&t+1<p&&--p;var g=s[p]-l,b=e-g;if(u-r>a-i){var y=(r*b+u*g)/e;o(t,p,g,r,i,y,a),o(p,n,b,y,i,u,a)}else{var j=(i*b+a*g)/e;o(t,p,g,r,i,u,j),o(p,n,b,r,j,u,a)}}(0,f,t.value,n,e,r,i)}},function(t,n,e){"use strict";var r=e(45),i=e(55);n.a=function(t,n,e,o,u){(1&t.depth?i.a:r.a)(t,n,e,o,u)}},function(t,n,e){"use strict";var r=e(45),i=e(55),o=e(88);n.a=function t(n){function e(t,e,u,a,c){if((f=t._squarify)&&f.ratio===n)for(var f,s,l,h,p,v=-1,d=f.length,g=t.value;++v<d;){for(l=(s=f[v]).children,h=s.value=0,p=l.length;h<p;++h)s.value+=l[h].value;s.dice?Object(r.a)(s,e,u,a,u+=(c-u)*s.value/g):Object(i.a)(s,e,u,e+=(a-e)*s.value/g,c),g-=s.value}else t._squarify=f=Object(o.c)(n,t,e,u,a,c),f.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(o.b)},function(t,n,e){function r(t,n,e){var r=n.object;if(!i(r))throw new TypeError("Invalid object: must be a string!");var a=o(t,t.objects[r]);return u(a,n,e)}var i=e(10),o=e(391).feature,u=e(158),a=e(2).registerConnector;a("topojson",r),a("TopoJSON",r)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(164);e.d(n,"bbox",function(){return r.a});var i=e(90);e.d(n,"feature",function(){return i.a});var o=e(393);e.d(n,"mesh",function(){return o.a}),e.d(n,"meshArcs",function(){return o.b});var u=e(394);e.d(n,"merge",function(){return u.a}),e.d(n,"mergeArcs",function(){return u.b});var a=e(395);e.d(n,"neighbors",function(){return a.a});var c=e(397);e.d(n,"quantize",function(){return c.a});var f=e(89);e.d(n,"transform",function(){return f.a});var s=e(167);e.d(n,"untransform",function(){return s.a})},function(t,n,e){"use strict";n.a=function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}},function(t,n,e){"use strict";function r(t,n,e){var r,i,u;if(arguments.length>1)r=function(t,n,e){function r(t){var n=t<0?~t:t;(f[n]||(f[n]=[])).push({i:t,g:a})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}var a,c=[],f=[];return function u(t){switch(a=t,t.type){case"GeometryCollection":t.geometries.forEach(u);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":!function(t){t.forEach(o)}(t.arcs)}}(n),f.forEach(null==e?function(t){c.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&c.push(t[0].i)}),c}(0,n,e);else for(i=0,r=new Array(u=t.arcs.length);i<u;++i)r[i]=i;return{type:"MultiLineString",arcs:Object(o.a)(t,r)}}n.b=r;var i=e(90),o=e(166);n.a=function(t){return Object(i.b)(t,r.apply(this,arguments))}},function(t,n,e){"use strict";function r(t,n){function r(t){t.forEach(function(n){n.forEach(function(n){(a[n=n<0?~n:n]||(a[n]=[])).push(t)})}),c.push(t)}function u(n){return function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)o+=(n=i)[0]*(i=t[e])[1]-n[1]*i[0];return Math.abs(o)}(Object(i.b)(t,{type:"Polygon",arcs:[n]}).coordinates[0])}var a={},c=[],f=[];return n.forEach(function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}),c.forEach(function(t){if(!t._){var n=[],e=[t];for(t._=1,f.push(n);t=e.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){a[t<0?~t:t].forEach(function(t){t._||(t._=1,e.push(t))})})})}}),c.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:f.map(function(n){var e,r=[];if(n.forEach(function(t){t.forEach(function(t){t.forEach(function(t){a[t<0?~t:t].length<2&&r.push(t)})})}),(e=(r=Object(o.a)(t,r)).length)>1)for(var i,c,f=1,s=u(r[0]);f<e;++f)(i=u(r[f]))>s&&(c=r[0],r[0]=r[f],r[f]=c,s=i);return r})}}n.b=r;var i=e(90),o=e(166);n.a=function(t){return Object(i.b)(t,r.apply(this,arguments))}},function(t,n,e){"use strict";var r=e(396);n.a=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=o[t];e?e.push(n):o[t]=[n]})}function e(t,e){t.forEach(function(t){n(t,e)})}var o={},u=t.map(function(){return[]}),a={LineString:n,MultiLineString:e,Polygon:e,MultiPolygon:function(t,n){t.forEach(function(t){e(t,n)})}};for(var c in t.forEach(function i(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,n)}):t.type in a&&a[t.type](t.arcs,n)}),o)for(var f=o[c],s=f.length,l=0;l<s;++l)for(var h=l+1;h<s;++h){var p,v=f[l],d=f[h];(p=u[v])[c=Object(r.a)(p,d)]!==d&&p.splice(c,0,d),(p=u[d])[c=Object(r.a)(p,v)]!==v&&p.splice(c,0,v)}return u}},function(t,n,e){"use strict";n.a=function(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=i+1:r=i}return e}},function(t,n,e){"use strict";var r=e(164),i=e(167);n.a=function(t,n){function e(t){return p(t)}function o(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(o)};break;case"Point":n={type:"Point",coordinates:e(t.coordinates)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.coordinates.map(e)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}if(t.transform)throw new Error("already quantized");if(n&&n.scale)l=t.bbox;else{if(!((u=Math.floor(n))>=2))throw new Error("n must be 2");var u,a=(l=t.bbox||Object(r.a)(t))[0],c=l[1],f=l[2],s=l[3];n={scale:[f-a?(f-a)/(u-1):1,s-c?(s-c)/(u-1):1],translate:[a,c]}}var l,h,p=Object(i.a)(n),v=t.objects,d={};for(h in v)d[h]=o(v[h]);return{type:"Topology",bbox:l,transform:n,objects:d,arcs:t.arcs.map(function(t){var n,e=0,r=1,i=t.length,o=new Array(i);for(o[0]=p(t[0],0);++e<i;)((n=p(t[e],e))[0]||n[1])&&(o[r++]=n);return 1===r&&(o[r++]=[0,0]),o.length=r,o})}}},function(t,n,e){(0,e(2).registerTransform)("default",function(t){return t})},function(t,n,e){(0,e(2).registerTransform)("filter",function(t,n){void 0===n&&(n={}),t.rows=t.rows.filter(n.callback||function(t){return!!t})})},function(t,n,e){var r=e(3),i=e(401),o=e(32),u=e(2).registerTransform,a=e(7).getFields,c={fields:[],key:"key",retains:[],value:"value"};u("fold",function(t,n){var e=t.getColumnNames();n=r({},c,n);var u=a(n);0===u.length&&(console.warn("warning: option fields is not specified, will fold all columns."),u=e);var f=n.key,s=n.value,l=n.retains;0===l.length&&(l=i(e,u));var h=[];t.rows.forEach(function(t){u.forEach(function(n){var e=o(t,l);e[f]=n,e[s]=t[n],h.push(e)})}),t.rows=h})},function(t,n,e){var r=e(402),i=e(168);t.exports=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(t,function(t){return!i(n,t)})}},function(t,n,e){var r=e(9),i=e(91);t.exports=function(t,n){if(!i(t))return t;var e=[];return r(t,function(t,r){n(t,r)&&e.push(t)}),e}},function(t,n,e){(0,e(2).registerTransform)("map",function(t,n){void 0===n&&(n={}),t.rows=t.rows.map(n.callback||function(t){return t})})},function(t,n,e){function r(t,n){void 0===n&&(n={}),n=i({},c,n),t.rows=o(u(t.rows,n.groupBy,n.orderBy))}var i=e(3),o=e(83),u=e(15),a=e(2).registerTransform,c={groupBy:[],orderBy:[]};a("partition",function(t,n){void 0===n&&(n={}),n=i({},c,n),t.rows=u(t.rows,n.groupBy,n.orderBy)}),a("group",r),a("groups",r)},function(t,n,e){var r=e(3),i=e(9),o=e(6),u=e(10),a=e(19).sum,c=e(15),f=e(2).registerTransform,s=e(7).getField,l={groupBy:[],as:"_percent"};f("percent",function(t,n){void 0===n&&(n={}),n=r({},l,n);var e=s(n),f=n.dimension,h=n.groupBy,p=n.as;if(!u(f))throw new TypeError("Invalid dimension: must be a string!");if(o(p)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),p=p[0]),!u(p))throw new TypeError("Invalid as: must be a string!");var d=[],g=c(t.rows,h);i(g,function(t){var n=a(t.map(function(t){return t[e]}));0===n&&console.warn("Invalid data: total sum of field "+e+" is 0!");var r=c(t,[f]);i(r,function(t){var r=a(t.map(function(t){return t[e]})),i=t[0],o=i[f];i[e]=r,i[f]=o,i[p]=0===n?0:r/n,d.push(i)})}),t.rows=d})},function(t,n,e){var r=e(32),i=e(2).registerTransform,o=e(7).getFields;i("pick",function(t,n){void 0===n&&(n={});var e=o(n,t.getColumnNames());t.rows=t.rows.map(function(t){return r(t,e)})})},function(t,n,e){var r=e(3),i=e(9),o=e(6),u=e(10),a=e(15),c=e(2).registerTransform,f=e(7).getField,s={groupBy:[],as:"_proportion"};c("proportion",function(t,n){void 0===n&&(n={}),n=r({},s,n);var e=f(n),c=n.dimension,l=n.groupBy,h=n.as;if(!u(c))throw new TypeError("Invalid dimension: must be a string!");if(o(h)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),h=h[0]),!u(h))throw new TypeError("Invalid as: must be a string!");var v=[],d=a(t.rows,l);i(d,function(t){var n=t.length,r=a(t,[c]);i(r,function(t){var r=t.length,i=t[0],o=i[c];i[e]=r,i[c]=o,i[h]=r/n,v.push(i)})}),t.rows=v})},function(t,n,e){function r(t,n){void 0===n&&(n={});var e=n.map||{},r={};o(e)&&i(e,function(t,n){u(t)&&u(n)&&(r[n]=t)}),t.rows.forEach(function(t){i(e,function(n,e){var r=t[e];delete t[e],t[n]=r})})}var i=e(9),o=e(54),u=e(10),a=e(2).registerTransform;a("rename",r),a("rename-fields",r)},function(t,n,e){(0,e(2).registerTransform)("reverse",function(t){t.rows.reverse()})},function(t,n,e){(0,e(2).registerTransform)("sort",function(t,n){void 0===n&&(n={});var e=t.getColumnName(0);t.rows.sort(n.callback||function(t,n){return t[e]-n[e]})})},function(t,n,e){function r(t,n){void 0===n&&(n={});var e=a(n,[t.getColumnName(0)]);if(!i(e))throw new TypeError("Invalid fields: must be an array with strings!");t.rows=o(t.rows,e);var r=n.order;if(r&&-1===c.indexOf(r))throw new TypeError("Invalid order: "+r+" must be one of "+c.join(", "));"DESC"===r&&t.rows.reverse()}var i=e(6),o=e(412),u=e(2).registerTransform,a=e(7).getFields,c=["ASC","DESC"];u("sort-by",r),u("sortBy",r)},function(t,n,e){var r=e(10),i=e(11),o=e(6);t.exports=function(t,n){var e=void 0;if(i(n))e=function(t,e){return n(t)-n(e)};else{var u=[];r(n)?u.push(n):o(n)&&(u=n),e=function(t,n){for(var e=0;e<u.length;e+=1){var r=u[e];if(t[r]>n[r])return 1;if(t[r]<n[r])return-1}return 0}}return t.sort(e),t}},function(t,n,e){var r=e(2).registerTransform,i=e(7).getFields;r("subset",function(t,n){void 0===n&&(n={});var e=n.startRowIndex||0,r=n.endRowIndex||t.rows.length-1,o=i(n,t.getColumnNames());t.rows=t.getSubset(e,r,o)})},function(t,n,e){function r(t,n){var e=t.map(function(t){return t});return n.forEach(function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}),e}function i(t,n){void 0===n&&(n={}),n=o({},f,n);var e=t.rows,i=n.groupBy,c=n.orderBy,s=a(e,i,c),l=0,h=[];u(s,function(t){t.length>l&&(l=t.length,h=t)});var p=[],v={};if(h.forEach(function(t){var n=c.map(function(n){return t[n]}).join("-");p.push(n),v[n]=t}),"order"===n.fillBy){var d=h[0],g=[],b={};e.forEach(function(t){var n=c.map(function(n){return t[n]}).join("-");-1===g.indexOf(n)&&(g.push(n),b[n]=t)}),r(g,p).forEach(function(t){var n={};i.forEach(function(t){n[t]=d[t]}),c.forEach(function(e){n[e]=b[t][e]}),e.push(n),h.push(n),p.push(t),v[t]=n}),l=h.length}u(s,function(t){if(t!==h&&t.length<l){var n=t[0],o=[];t.forEach(function(t){o.push(c.map(function(n){return t[n]}).join("-"))}),r(p,o).some(function(r,o){if(o>=l-t.length)return!0;var u=v[r],a={};return i.forEach(function(t){a[t]=n[t]}),c.forEach(function(t){a[t]=u[t]}),e.push(a),!1})}})}var o=e(3),u=e(9),a=e(15),c=e(2).registerTransform,f={fillBy:"group",groupBy:[],orderBy:[]};c("fill-rows",i),c("fillRows",i)},function(t,n,e){function r(t){return t.filter(function(t){return!c(t)})}var i=e(3),o=e(9),u=e(416),a=e(11),c=e(417),f=e(10),s=e(19),l=e(15),h=e(2).registerTransform,p=e(7).getField,v={groupBy:[]},d=["mean","median","max","min"],g={};d.forEach(function(t){g[t]=function(n,e){return s[t](e)}}),g.value=function(t,n,e){return e},h("impute",function(t,n){void 0===n&&(n={}),n=i({},v,n);var e=p(n),s=n.method;if(!s)throw new TypeError("Invalid method!");if("value"===s&&!u(n,"value"))throw new TypeError("Invalid value: it is nil.");var h=r(t.getColumn(e)),b=l(t.rows,n.groupBy);o(b,function(t){var i=r(t.map(function(t){return t[e]}));0===i.length&&(i=h),t.forEach(function(r){if(c(r[e]))if(a(s))r[e]=s(r,i,n.value,t);else{if(!f(s))throw new TypeError("Invalid method: must be a function or one of "+d.join(", "));r[e]=g[s](r,i,n.value)}})})})},function(t,n){t.exports=function(t,n){return t.hasOwnProperty(n)}},function(t,n){t.exports=function(t){return void 0===t}},function(t,n,e){function r(t,n){n=i({},g,n);var e=d(n);if(!a(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var r=n.as||[];c(r)&&(r=[r]);var o=n.operations;c(o)&&(o=[o]);var f=[b];if(a(o)&&o.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),r=o=f),1!==o.length||o[0]!==b){if(o.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(r.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var s=h(t.rows,n.groupBy),l=[];u(s,function(t){var n=t[0];o.forEach(function(i,o){n[r[o]]=y[i](t,e[o])}),l.push(n)}),t.rows=l}var i=e(3),o=e(156),u=e(9),a=e(6),c=e(10),f=e(24),s=e(419),l=e(19),h=e(15),p=e(2).registerTransform,v=e(84).STATISTICS_METHODS,d=e(7).getFields,g={as:[],fields:[],groupBy:[],operations:[]},b="count",y={count:function(t){return t.length},distinct:function(t,n){return s(t.map(function(t){return t[n]})).length}};v.forEach(function(t){y[t]=function(n,e){var r=n.map(function(t){return t[e]});return a(r)&&a(r[0])&&(r=o(r)),l[t](r)}}),y.average=y.mean,p("aggregate",r),p("summary",r),t.exports={VALID_AGGREGATES:f(y)}},function(t,n,e){var r=e(9),i=e(168);t.exports=function(t){var n=[];return r(t,function(t){i(n,t)||n.push(t)}),n}},function(t,n,e){var r=e(3),i=e(6),o=e(56),u=e(421),a=e(57),c=e(2).registerTransform,f=e(7).getFields,s=e(58).silverman,l={as:["x","y"],method:"linear",order:2,precision:2},h=["linear","exponential","logarithmic","power","polynomial"];c("regression",function(t,n){n=r({},l,n);var e=f(n);if(!i(e)||2!==e.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var c=e[0],p=e[1],v=n.method;if(-1===h.indexOf(v))throw new TypeError("invalid method: "+v+". Must be one of "+h.join(", "));var d=t.rows.map(function(t){return[t[c],t[p]]}),g=u[v](d,n),b=n.extent;i(b)&&2===b.length||(b=t.range(c));var y=n.bandwidth;(!o(y)||y<=0)&&(y=s(t.getColumn(c)));var j=a(b,y),O=[],_=n.as,m=_[0],w=_[1];j.forEach(function(t){var n={},e=g.predict(t),i=e[1];n[m]=e[0],n[w]=i,isFinite(i)&&O.push(n)}),t.rows=O}),t.exports={REGRESSION_METHODS:h}},function(t,n,e){var r,o;void 0!==(o="function"==typeof(r=function(t){"use strict";function n(t,n){var e=[],r=[];t.forEach(function(t,i){null!==t[1]&&(r.push(t),e.push(n[i]))});var i=r.reduce(function(t,n){return t+n[1]},0)/r.length,o=r.reduce(function(t,n){var e=n[1]-i;return t+e*e},0);return 1-r.reduce(function(t,n,r){var o=n[1]-e[r][1];return t+o*o},0)/o}function e(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e}var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},i={order:2,precision:2,period:null},o={linear:function(t,r){for(var i=[0,0,0,0,0],o=0,u=0;u<t.length;u++)null!==t[u][1]&&(o++,i[0]+=t[u][0],i[1]+=t[u][1],i[2]+=t[u][0]*t[u][0],i[3]+=t[u][0]*t[u][1],i[4]+=t[u][1]*t[u][1]);var a=o*i[2]-i[0]*i[0],f=0===a?0:e((o*i[3]-i[0]*i[1])/a,r.precision),s=e(i[1]/o-f*i[0]/o,r.precision),l=function(t){return[e(t,r.precision),e(f*t+s,r.precision)]},h=t.map(function(t){return l(t[0])});return{points:h,predict:l,equation:[f,s],r2:e(n(t,h),r.precision),string:0===s?"y = "+f+"x":"y = "+f+"x + "+s}},exponential:function(t,r){for(var i=[0,0,0,0,0,0],o=0;o<t.length;o++)null!==t[o][1]&&(i[0]+=t[o][0],i[1]+=t[o][1],i[2]+=t[o][0]*t[o][0]*t[o][1],i[3]+=t[o][1]*Math.log(t[o][1]),i[4]+=t[o][0]*t[o][1]*Math.log(t[o][1]),i[5]+=t[o][0]*t[o][1]);var u=i[1]*i[2]-i[5]*i[5],a=Math.exp((i[2]*i[3]-i[5]*i[4])/u),c=(i[1]*i[4]-i[5]*i[3])/u,f=e(a,r.precision),s=e(c,r.precision),l=function(t){return[e(t,r.precision),e(f*Math.exp(s*t),r.precision)]},h=t.map(function(t){return l(t[0])});return{points:h,predict:l,equation:[f,s],string:"y = "+f+"e^("+s+"x)",r2:e(n(t,h),r.precision)}},logarithmic:function(t,r){for(var i=[0,0,0,0],o=t.length,u=0;u<o;u++)null!==t[u][1]&&(i[0]+=Math.log(t[u][0]),i[1]+=t[u][1]*Math.log(t[u][0]),i[2]+=t[u][1],i[3]+=Math.pow(Math.log(t[u][0]),2));var a=e((o*i[1]-i[2]*i[0])/(o*i[3]-i[0]*i[0]),r.precision),c=e((i[2]-a*i[0])/o,r.precision),f=function(t){return[e(t,r.precision),e(e(c+a*Math.log(t),r.precision),r.precision)]},s=t.map(function(t){return f(t[0])});return{points:s,predict:f,equation:[c,a],string:"y = "+c+" + "+a+" ln(x)",r2:e(n(t,s),r.precision)}},power:function(t,r){for(var i=[0,0,0,0,0],o=t.length,u=0;u<o;u++)null!==t[u][1]&&(i[0]+=Math.log(t[u][0]),i[1]+=Math.log(t[u][1])*Math.log(t[u][0]),i[2]+=Math.log(t[u][1]),i[3]+=Math.pow(Math.log(t[u][0]),2));var a=(o*i[1]-i[0]*i[2])/(o*i[3]-Math.pow(i[0],2)),f=e(Math.exp((i[2]-a*i[0])/o),r.precision),s=e(a,r.precision),l=function(t){return[e(t,r.precision),e(e(f*Math.pow(t,s),r.precision),r.precision)]},h=t.map(function(t){return l(t[0])});return{points:h,predict:l,equation:[f,s],string:"y = "+f+"x^"+s,r2:e(n(t,h),r.precision)}},polynomial:function(t,r){for(var i=[],o=[],u=0,a=0,c=t.length,f=r.order+1,s=0;s<f;s++){for(var l=0;l<c;l++)null!==t[l][1]&&(u+=Math.pow(t[l][0],s)*t[l][1]);i.push(u),u=0;for(var h=[],p=0;p<f;p++){for(var v=0;v<c;v++)null!==t[v][1]&&(a+=Math.pow(t[v][0],s+p));h.push(a),a=0}o.push(h)}o.push(i);for(var d=function(t,n){for(var e=t,r=t.length-1,i=[n],o=0;o<r;o++){for(var u=o,a=o+1;a<r;a++)Math.abs(e[o][a])>Math.abs(e[o][u])&&(u=a);for(var c=o;c<r+1;c++){var f=e[c][o];e[c][o]=e[c][u],e[c][u]=f}for(var s=o+1;s<r;s++)for(var l=r;l>=o;l--)e[l][s]-=e[l][o]*e[o][s]/e[o][o]}for(var h=r-1;h>=0;h--){for(var p=0,v=h+1;v<r;v++)p+=e[v][h]*i[v];i[h]=(e[r][h]-p)/e[h][h]}return i}(o,f).map(function(t){return e(t,r.precision)}),g=function(t){return[e(t,r.precision),e(d.reduce(function(n,e,r){return n+e*Math.pow(t,r)},0),r.precision)]},b=t.map(function(t){return g(t[0])}),y="y = ",j=d.length-1;j>=0;j--)y+=j>1?d[j]+"x^"+j+" + ":1===j?d[j]+"x + ":d[j];return{string:y,points:b,predict:g,equation:[].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(d)).reverse(),r2:e(n(t,b),r.precision)}}};t.exports=Object.keys(o).reduce(function(t,n){return r({_round:e},t,function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}({},n,function(t,e){return o[n](t,r({},i,e))}))},{})})?r.apply(n,[t]):r)&&(t.exports=o)},function(t,n,e){function r(t,n){n=i({},O,n);var e=y(n);if(!a(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var r=n.as;if(!a(r)||3!==r.length)throw new TypeError("invalid as: must be an array of 3 strings!");var l=n.method;if(s(l)){if(-1===_.indexOf(l))throw new TypeError("invalid method: "+l+". Must be one of "+_.join(", "));l=v[l]}if(!c(l))throw new TypeError("invalid method: kernel method must be a function!");var b=n.extent;if(!a(b)||0===b.length){var m=[];o(e,function(n){var e=t.range(n);m=m.concat(e)}),b=[Math.min.apply(Math,m),Math.max.apply(Math,m)]}var w=n.bandwidth;s(w)&&d[w]?w=d[w](t.getColumn(e[0])):c(w)?w=w(t.getColumn(e[0])):(!f(w)||w<=0)&&(w=d.nrd(t.getColumn(e[0])));var x=p(b,n.step?n.step:w),E=[],M=n.groupBy,T=g(t.rows,M);u(T,function(t){var i={};o(e,function(e){var u=h(t[0],M);i[e]=j(t.map(function(t){return t[e]}),l,w);var c=r[1],f=r[2];u[r[0]]=e,u[c]=[],u[f]=[],o(x,function(t){var r=i[e](t);r>=n.minSize&&(u[c].push(t),u[f].push(r))}),E.push(u)})}),t.rows=E}var i=e(3),o=e(9),u=e(9),a=e(6),c=e(11),f=e(56),s=e(10),l=e(24),h=e(32),p=e(57),v=e(92),d=e(58),g=e(15),b=e(2).registerTransform,y=e(7).getFields,j=e(19).kernelDensityEstimation,O={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},_=l(v),m=l(d);b("kernel-density-estimation",r),b("kde",r),b("KDE",r),t.exports={KERNEL_METHODS:_,BANDWIDTH_METHODS:m}},function(t,n,e){function r(t,n,e,r){return Math.sqrt((t-e)*(t-e)+(n-r)*(n-r))}function i(t,n,e){n/=2;var i=Math.floor((t-e)/n);return[n*(i+(1===Math.abs(i%2)?1:0))+e,n*(i+(1===Math.abs(i%2)?0:1))+e]}function o(t,n){n=u({},l,n);var e=s(n);if(!c(e)||2!==e.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var o=e[0],f=e[1],p=t.range(o),d=t.range(f),g=p[1]-p[0],b=d[1]-d[0],y=n.binWidth||[];if(2!==y.length){var j=n.bins,O=j[0],_=j[1];if(O<=0||_<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");y=[g/O,b/_]}var m=n.offset,w=m[0],x=m[1],E=3*y[0]/(h*y[1]),M=function(t,n,e){void 0===n&&(n=[1,1]),void 0===e&&(e=[0,0]);var o={},a=n[0],c=n[1],s=e[0],l=e[1];return t.forEach(function(t){var n,e,u,f=t[0],h=t[1],p=i(f,a,s),v=p[0],d=p[1],g=i(h,c,l),b=g[0],y=g[1];r(f,h,v,b)<r(f,h,d,y)?(n="x"+v+"y"+b,e=v,u=b):(n="x"+d+"y"+y,e=d,u=y),o[n]=o[n]||{x:e,y:u,count:0},o[n].count++}),o}(t.rows.map(function(t){return[t[o],E*t[f]]}),[y[0],E*y[1]],[w,E*x]),T=n.as,S=T[0],k=T[1],C=T[2];if(!S||!k||!C)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var P=y[0]/h,N=v.map(function(t){return[Math.sin(t)*P,-Math.cos(t)*P]}),R=[],B=0;n.sizeByCount&&a(M,function(t){t.count>B&&(B=t.count)}),a(M,function(t){var e=t.x,r=t.y,o={};o[C]=t.count,n.sizeByCount?(o[S]=N.map(function(n){return e+t.count/B*n[0]}),o[k]=N.map(function(n){return(r+t.count/B*n[1])/E})):(o[S]=N.map(function(t){return e+t[0]}),o[k]=N.map(function(t){return(r+t[1])/E})),R.push(o)}),t.rows=R}var u=e(3),a=e(9),c=e(6),f=e(2).registerTransform,s=e(7).getFields,l={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},h=Math.sqrt(3),p=Math.PI/3,v=[0,p,2*p,3*p,4*p,5*p];f("bin.hexagon",o),f("bin.hex",o),f("hexbin",o)},function(t,n,e){function r(t,n){n=i({},s,n);var e=f(n);if(0!==t.rows.length){var r=t.range(e),c=r[1]-r[0],l=n.binWidth;if(!l){var h=n.bins;if(h<=0)throw new TypeError("Invalid bins: it must be a positive number!");l=c/h}var p=n.offset%l,v=[],d=n.groupBy,g=a(t.rows,d);o(g,function(t){var r={};t.map(function(t){return t[e]}).forEach(function(t){var n=function(t,n,e){var i=Math.floor((t-e)/n);return[i*n+e,(i+1)*n+e]}(t,l,p),e=n[0],i=n[1],o=e+"-"+i;r[o]=r[o]||{x0:e,x1:i,count:0},r[o].count++});var a=n.as,c=a[0],f=a[1];if(!c||!f)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var s=u(t[0],d);o(r,function(t){var n=i({},s);n[c]=[t.x0,t.x1],n[f]=t.count,v.push(n)})}),t.rows=v}}var i=e(3),o=e(9),u=e(32),a=e(15),c=e(2).registerTransform,f=e(7).getField,s={as:["x","count"],bins:30,offset:0,groupBy:[]};c("bin.histogram",r),c("bin.dot",r)},function(t,n,e){var r=e(3),i=e(9),o=e(6),u=e(10),a=e(19).quantile,c=e(15),f=e(157),s=e(2).registerTransform,l=e(7).getField,h={as:"_bin",groupBy:[],fraction:4};s("bin.quantile",function(t,n){n=r({},h,n);var e=l(n),s=n.as;if(!u(s))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var p=n.p,v=n.fraction;o(p)&&0!==p.length||(p=f(v));var b=c(t.rows,n.groupBy),y=[];i(b,function(t){var n=t[0],r=t.map(function(t){return t[e]}),i=p.map(function(t){return a(r,t)});n[s]=i,y.push(n)}),t.rows=y})},function(t,n,e){function r(t,n,e){var i=Math.floor((t-e)/n);return[i*n+e,(i+1)*n+e]}function i(t,n){n=o({},f,n);var e=c(n),i=e[0],a=e[1];if(!i||!a)throw new TypeError("Invalid fields: must be an array with 2 strings!");var s=t.range(i),l=t.range(a),h=s[1]-s[0],p=l[1]-l[0],v=n.binWidth||[];if(2!==v.length){var d=n.bins,g=d[0],b=d[1];if(g<=0||b<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");v=[h/g,p/b]}var y=t.rows.map(function(t){return[t[i],t[a]]}),j={},O=n.offset,_=O[0],m=O[1];y.forEach(function(t){var n=r(t[0],v[0],_),e=n[0],i=n[1],o=r(t[1],v[1],m),u=o[0],a=o[1],c=e+"-"+i+"-"+u+"-"+a;j[c]=j[c]||{x0:e,x1:i,y0:u,y1:a,count:0},j[c].count++});var w=[],x=n.as,E=x[0],M=x[1],T=x[2];if(!E||!M||!T)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(n.sizeByCount){var S=0;u(j,function(t){t.count>S&&(S=t.count)}),u(j,function(t){var n=t.x0,e=t.x1,r=t.y0,i=t.y1,o=t.count,u=o/S,a=(n+e)/2,c=(r+i)/2,f=(e-n)*u/2,s=(i-r)*u/2,l=a-f,h=a+f,p=c-s,v=c+s,d={};d[E]=[l,h,h,l],d[M]=[p,p,v,v],d[T]=o,w.push(d)})}else u(j,function(t){var n={};n[E]=[t.x0,t.x1,t.x1,t.x0],n[M]=[t.y0,t.y0,t.y1,t.y1],n[T]=t.count,w.push(n)});t.rows=w}var o=e(3),u=e(9),a=e(2).registerTransform,c=e(7).getFields,f={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};a("bin.rectangle",i),a("bin.rect",i)},function(t,n,e){var r=e(3),i=e(6),o=e(10),u=e(2).registerTransform,a=e(7).getField,c={as:["_centroid_x","_centroid_y"]};u("geo.centroid",function(t,n){n=r({},c,n);var e=a(n),u=n.geoView||n.geoDataView;if(o(u)&&(u=t.dataSet.getView(u)),!u||"geo"!==u.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var f=n.as;if(!i(f)||2!==f.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var s=f[0],l=f[1];t.rows.forEach(function(t){var n=u.geoFeatureByName(t[e]);n&&(u._projectedAs?(t[s]=n[u._projectedAs[2]],t[l]=n[u._projectedAs[3]]):(t[s]=n.centroidX,t[l]=n.centroidY))})})},function(t,n,e){var r=e(3),i=e(0),o=e(159),u=e(6),a=e(2).registerTransform,c=e(141),f=i.geoPath,s={as:["_x","_y","_centroid_x","_centroid_y"]};a("geo.projection",function(t,n){if("geo"!==t.dataType&&"geo-graticule"!==t.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var e=(n=r({},s,n)).projection;if(!e)throw new TypeError("Invalid projection!");e=c(e);var i=f(e),a=n.as;if(!u(a)||4!==a.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');t._projectedAs=a;var l=a[0],h=a[1],p=a[2],v=a[3];t.rows.forEach(function(t){t[l]=[],t[h]=[];var n=i(t);if(n){o(n)._path.forEach(function(n){t[l].push(n[1]),t[h].push(n[2])});var e=i.centroid(t);t[p]=e[0],t[v]=e[1]}}),t.rows=t.rows.filter(function(t){return 0!==t[l].length})})},function(t,n,e){var r=e(3),i=e(6),o=e(10),u=e(2).registerTransform,a=e(7).getField,c={as:["_x","_y"]};u("geo.region",function(t,n){n=r({},c,n);var e=a(n),u=n.geoView||n.geoDataView;if(o(u)&&(u=t.dataSet.getView(u)),!u||"geo"!==u.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var f=n.as;if(!i(f)||2!==f.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var s=f[0],l=f[1];t.rows.forEach(function(t){var n=u.geoFeatureByName(t[e]);n&&(u._projectedAs?(t[s]=n[u._projectedAs[0]],t[l]=n[u._projectedAs[1]]):(t[s]=n.longitude,t[l]=n.latitude))})})},function(t,n,e){function r(t,n){n=i({},s,n);var e={},r=t.nodes,f=t.edges;u(r)&&0!==r.length||(r=function(t,n,e){return void 0===e&&(e={}),f.forEach(function(t){var r=n.edgeSource(t),i=n.edgeTarget(t);e[r]||(e[r]={id:r}),e[i]||(e[i]={id:i})}),a(e)}(0,n,e)),r.forEach(function(t){var r=n.id(t);e[r]=t}),function(t,n,e){o(t,function(t,r){t.inEdges=n.filter(function(t){return""+e.target(t)==""+r}),t.outEdges=n.filter(function(t){return""+e.source(t)==""+r}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(n){t.value+=e.targetWeight(n)}),t.outEdges.forEach(function(n){t.value+=e.sourceWeight(n)})})}(e,f,n),function(t,n){var e={weight:function(t,n){return n.value-t.value},frequency:function(t,n){return n.frequency-t.frequency},id:function(t,e){return(""+n.id(t)).localeCompare(""+n.id(e))}}[n.sortBy];!e&&c(n.sortBy)&&(e=n.sortBy),e&&t.sort(e)}(r,n),function(t,n){var e=t.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(n.weight){var r=n.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=r/(2*e),o=n.thickness;if(o<=0||o>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var u=0;t.forEach(function(t){u+=t.value}),t.forEach(function(t){t.weight=t.value/u,t.width=t.weight*(1-r),t.height=o}),t.forEach(function(e,r){for(var u=0,a=r-1;a>=0;a--)u+=t[a].width+2*i;var c=e.minX=i+u,f=e.maxX=e.minX+e.width,s=e.minY=n.y-o/2,l=e.maxY=s+o;e.x=[c,f,f,c],e.y=[s,s,l,l]})}else{var a=1/e;t.forEach(function(t,e){t.x=(e+.5)*a,t.y=n.y})}}(r,n),function(t,n,e){if(e.weight){var r={};o(t,function(t,n){r[n]=t.value}),n.forEach(function(n){var i=e.source(n),o=e.target(n),u=t[i],a=t[o];if(u&&a){var c=r[i],f=e.sourceWeight(n),s=u.minX+(u.value-c)/u.value*u.width,l=s+f/u.value*u.width;r[i]-=f;var h=r[o],p=e.targetWeight(n),v=a.minX+(a.value-h)/a.value*a.width,d=v+p/a.value*a.width;r[o]-=p;var g=e.y;n.x=[s,l,v,d],n.y=[g,g,g,g]}})}else n.forEach(function(n){var r=t[e.source(n)],i=t[e.target(n)];r&&i&&(n.x=[r.x,i.x],n.y=[r.y,i.y])})}(e,f,n),t.nodes=r,t.edges=f}var i=e(3),o=e(9),u=e(6),a=e(83),c=e(11),f=e(2).registerTransform,s={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};f("diagram.arc",r),f("arc",r)},function(t,n,e){function r(t,n){n=i({},a,n);var e=new o.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),t.nodes.forEach(function(t){var r=n.nodeId?n.nodeId(t):t.id;t.height||t.width||(t.height=t.width=n.edgesep),e.setNode(r,t)}),t.edges.forEach(function(t){e.setEdge(n.source(t),n.target(t))}),o.layout(e);var r=[],u=[];e.nodes().forEach(function(t){var n=e.node(t),i=n.x,o=n.y,u=n.height,a=n.width;n.x=[i-a/2,i+a/2,i+a/2,i-a/2],n.y=[o+u/2,o+u/2,o-u/2,o-u/2],r.push(n)}),e.edges().forEach(function(t){var n=e.edge(t).points,r={};r.x=n.map(function(t){return t.x}),r.y=n.map(function(t){return t.y}),u.push(r)}),t.nodes=r,t.edges=u}var i=e(3),o=e(432),u=e(2).registerTransform,a={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(t){return t.source},target:function(t){return t.target}};u("diagram.dagre",r),u("dagre",r)},function(t,n,e){t.exports={graphlib:e(16),layout:e(448),debug:e(470),util:{time:e(12).time,notime:e(12).notime},version:e(471)}},function(t,n,e){var r=e(434);t.exports={Graph:r.Graph,json:e(438),alg:e(439),version:r.version}},function(t,n,e){t.exports={Graph:e(93),version:e(437)}},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){t.exports="2.1.5"},function(t,n,e){var r=e(13),i=e(93);t.exports={write:function(t){var n={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return r.map(t.nodes(),function(n){var e=t.node(n),i=t.parent(n),o={v:n};return r.isUndefined(e)||(o.value=e),r.isUndefined(i)||(o.parent=i),o})}(t),edges:function(t){return r.map(t.edges(),function(n){var e=t.edge(n),i={v:n.v,w:n.w};return r.isUndefined(n.name)||(i.name=n.name),r.isUndefined(e)||(i.value=e),i})}(t)};return r.isUndefined(t.graph())||(n.value=r.clone(t.graph())),n},read:function(t){var n=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){n.setNode(t.v,t.value),t.parent&&n.setParent(t.v,t.parent)}),r.each(t.edges,function(t){n.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),n}}},function(t,n,e){t.exports={components:e(440),dijkstra:e(170),dijkstraAll:e(441),findCycles:e(442),floydWarshall:e(443),isAcyclic:e(444),postorder:e(445),preorder:e(446),prim:e(447),tarjan:e(172),topsort:e(173)}},function(t,n,e){var r=e(13);t.exports=function(t){function n(o){r.has(i,o)||(i[o]=!0,e.push(o),r.each(t.successors(o),n),r.each(t.predecessors(o),n))}var e,i={},o=[];return r.each(t.nodes(),function(t){e=[],n(t),e.length&&o.push(e)}),o}},function(t,n,e){var r=e(170),i=e(13);t.exports=function(t,n,e){return i.transform(t.nodes(),function(i,o){i[o]=r(t,o,n,e)},{})}},function(t,n,e){var r=e(13),i=e(172);t.exports=function(t){return r.filter(i(t),function(n){return n.length>1||1===n.length&&t.hasEdge(n[0],n[0])})}},function(t,n,e){var r=e(13);t.exports=function(t,n,e){return function(t,n,e){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(n){t!==n&&(r[t][n]={distance:Number.POSITIVE_INFINITY})}),e(t).forEach(function(e){var i=e.v===t?e.w:e.v,o=n(e);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var n=r[t];i.forEach(function(e){var o=r[e];i.forEach(function(e){var i=n[e],u=o[e],a=o[t].distance+i.distance;a<u.distance&&(u.distance=a,u.predecessor=i.predecessor)})})}),r}(t,n||i,e||function(n){return t.outEdges(n)})};var i=r.constant(1)},function(t,n,e){var r=e(173);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,n,e){var r=e(174);t.exports=function(t,n){return r(t,n,"post")}},function(t,n,e){var r=e(174);t.exports=function(t,n){return r(t,n,"pre")}},function(t,n,e){var r=e(13),i=e(93),o=e(171);t.exports=function(t,n){function e(t){var e=t.v===u?t.w:t.v,r=f.priority(e);if(void 0!==r){var i=n(t);i<r&&(c[e]=u,f.decrease(e,i))}}var u,a=new i,c={},f=new o;if(0===t.nodeCount())return a;r.each(t.nodes(),function(t){f.add(t,Number.POSITIVE_INFINITY),a.setNode(t)}),f.decrease(t.nodes()[0],0);for(var s=!1;f.size()>0;){if(u=f.removeMin(),r.has(c,u))a.setEdge(u,c[u]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(u).forEach(e)}return a}},function(t,n,e){"use strict";function r(t,n){return o.mapValues(o.pick(t,n),Number)}function i(t){var n={};return o.forEach(t,function(t,e){n[e.toLowerCase()]=t}),n}var o=e(8),u=e(449),a=e(452),c=e(453),f=e(12).normalizeRanks,s=e(455),l=e(12).removeEmptyRanks,h=e(456),p=e(457),v=e(458),d=e(459),g=e(468),b=e(12),y=e(16).Graph;t.exports=function(t,n){var e=n&&n.debugTiming?b.time:b.notime;e("layout",function(){var n=e("  buildLayoutGraph",function(){return function(t){var n=new y({multigraph:!0,compound:!0}),e=i(t.graph());return n.setGraph(o.merge({},O,r(e,j),o.pick(e,_))),o.forEach(t.nodes(),function(e){var u=i(t.node(e));n.setNode(e,o.defaults(r(u,m),w)),n.setParent(e,t.parent(e))}),o.forEach(t.edges(),function(e){var u=i(t.edge(e));n.setEdge(e,o.merge({},E,r(u,x),o.pick(u,M)))}),n}(t)});e("  runLayout",function(){!function(t,n){n("    makeSpaceForEdgeLabels",function(){!function(t){var n=t.graph();n.ranksep/=2,o.forEach(t.edges(),function(e){var r=t.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),n("    removeSelfEdges",function(){!function(t){o.forEach(t.edges(),function(n){if(n.v===n.w){var e=t.node(n.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:n,label:t.edge(n)}),t.removeEdge(n)}})}(t)}),n("    acyclic",function(){u.run(t)}),n("    nestingGraph.run",function(){h.run(t)}),n("    rank",function(){c(b.asNonCompoundGraph(t))}),n("    injectEdgeLabelProxies",function(){!function(t){o.forEach(t.edges(),function(n){var e=t.edge(n);if(e.width&&e.height){var r=t.node(n.v),i={rank:(t.node(n.w).rank-r.rank)/2+r.rank,e:n};b.addDummyNode(t,"edge-proxy",i,"_ep")}})}(t)}),n("    removeEmptyRanks",function(){l(t)}),n("    nestingGraph.cleanup",function(){h.cleanup(t)}),n("    normalizeRanks",function(){f(t)}),n("    assignRankMinMax",function(){!function(t){var n=0;o.forEach(t.nodes(),function(e){var r=t.node(e);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,n=o.max(n,r.maxRank))}),t.graph().maxRank=n}(t)}),n("    removeEdgeLabelProxies",function(){!function(t){o.forEach(t.nodes(),function(n){var e=t.node(n);"edge-proxy"===e.dummy&&(t.edge(e.e).labelRank=e.rank,t.removeNode(n))})}(t)}),n("    normalize.run",function(){a.run(t)}),n("    parentDummyChains",function(){s(t)}),n("    addBorderSegments",function(){p(t)}),n("    order",function(){d(t)}),n("    insertSelfEdges",function(){!function(t){var n=b.buildLayerMatrix(t);o.forEach(n,function(n){var e=0;o.forEach(n,function(n,r){var i=t.node(n);i.order=r+e,o.forEach(i.selfEdges,function(n){b.addDummyNode(t,"selfedge",{width:n.label.width,height:n.label.height,rank:i.rank,order:r+ ++e,e:n.e,label:n.label},"_se")}),delete i.selfEdges})})}(t)}),n("    adjustCoordinateSystem",function(){v.adjust(t)}),n("    position",function(){g(t)}),n("    positionSelfEdges",function(){!function(t){o.forEach(t.nodes(),function(n){var e=t.node(n);if("selfedge"===e.dummy){var r=t.node(e.e.v),i=r.x+r.width/2,o=r.y,u=e.x-i,a=r.height/2;t.setEdge(e.e,e.label),t.removeNode(n),e.label.points=[{x:i+2*u/3,y:o-a},{x:i+5*u/6,y:o-a},{x:i+u,y:o},{x:i+5*u/6,y:o+a},{x:i+2*u/3,y:o+a}],e.label.x=e.x,e.label.y=e.y}})}(t)}),n("    removeBorderNodes",function(){!function(t){o.forEach(t.nodes(),function(n){if(t.children(n).length){var e=t.node(n),r=t.node(e.borderTop),i=t.node(e.borderBottom),u=t.node(o.last(e.borderLeft)),a=t.node(o.last(e.borderRight));e.width=Math.abs(a.x-u.x),e.height=Math.abs(i.y-r.y),e.x=u.x+e.width/2,e.y=r.y+e.height/2}}),o.forEach(t.nodes(),function(n){"border"===t.node(n).dummy&&t.removeNode(n)})}(t)}),n("    normalize.undo",function(){a.undo(t)}),n("    fixupEdgeLabelCoords",function(){!function(t){o.forEach(t.edges(),function(n){var e=t.edge(n);if(o.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})}(t)}),n("    undoCoordinateSystem",function(){v.undo(t)}),n("    translateGraph",function(){!function(t){function n(t){var n=t.x,o=t.y,a=t.width,c=t.height;e=Math.min(e,n-a/2),r=Math.max(r,n+a/2),i=Math.min(i,o-c/2),u=Math.max(u,o+c/2)}var e=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,u=0,a=t.graph(),c=a.marginx||0,f=a.marginy||0;o.forEach(t.nodes(),function(e){n(t.node(e))}),o.forEach(t.edges(),function(e){var r=t.edge(e);o.has(r,"x")&&n(r)}),e-=c,i-=f,o.forEach(t.nodes(),function(n){var r=t.node(n);r.x-=e,r.y-=i}),o.forEach(t.edges(),function(n){var r=t.edge(n);o.forEach(r.points,function(t){t.x-=e,t.y-=i}),o.has(r,"x")&&(r.x-=e),o.has(r,"y")&&(r.y-=i)}),a.width=r-e+c,a.height=u-i+f}(t)}),n("    assignNodeIntersects",function(){!function(t){o.forEach(t.edges(),function(n){var e,r,i=t.edge(n),o=t.node(n.v),u=t.node(n.w);i.points?(e=i.points[0],r=i.points[i.points.length-1]):(i.points=[],e=u,r=o),i.points.unshift(b.intersectRect(o,e)),i.points.push(b.intersectRect(u,r))})}(t)}),n("    reversePoints",function(){!function(t){o.forEach(t.edges(),function(n){var e=t.edge(n);e.reversed&&e.points.reverse()})}(t)}),n("    acyclic.undo",function(){u.undo(t)})}(n,e)}),e("  updateInputGraph",function(){!function(t,n){o.forEach(t.nodes(),function(e){var r=t.node(e),i=n.node(e);r&&(r.x=i.x,r.y=i.y,n.children(e).length&&(r.width=i.width,r.height=i.height))}),o.forEach(t.edges(),function(e){var r=t.edge(e),i=n.edge(e);r.points=i.points,o.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=n.graph().width,t.graph().height=n.graph().height}(t,n)})})};var j=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],m=["width","height"],w={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"]},function(t,n,e){"use strict";var r=e(8),i=e(450);t.exports={run:function(t){var n="greedy"===t.graph().acyclicer?i(t,function(t){return function(n){return t.edge(n).weight}}(t)):function(t){var e=[],i={},o={};return r.forEach(t.nodes(),function n(u){r.has(o,u)||(o[u]=!0,i[u]=!0,r.forEach(t.outEdges(u),function(t){r.has(i,t.w)?e.push(t):n(t.w)}),delete i[u])}),e}(t);r.forEach(n,function(n){var e=t.edge(n);t.removeEdge(n),e.forwardName=n.name,e.reversed=!0,t.setEdge(n.w,n.v,e,r.uniqueId("rev"))})},undo:function(t){r.forEach(t.edges(),function(n){var e=t.edge(n);if(e.reversed){t.removeEdge(n);var r=e.forwardName;delete e.reversed,delete e.forwardName,t.setEdge(n.w,n.v,e,r)}})}}},function(t,n,e){function r(t,n,e,r,u){var a=u?[]:void 0;return o.forEach(t.inEdges(r.v),function(r){var o=t.edge(r),c=t.node(r.v);u&&a.push({v:r.v,w:r.w}),c.out-=o,i(n,e,c)}),o.forEach(t.outEdges(r.v),function(r){var o=t.edge(r),a=t.node(r.w);a.in-=o,i(n,e,a)}),t.removeNode(r.v),a}function i(t,n,e){e.out?e.in?t[e.out-e.in+n].enqueue(e):t[t.length-1].enqueue(e):t[0].enqueue(e)}var o=e(8),u=e(16).Graph,a=e(451);t.exports=function(t,n){if(t.nodeCount()<=1)return[];var e=function(t,n){var e=new u,r=0,c=0;o.forEach(t.nodes(),function(t){e.setNode(t,{v:t,in:0,out:0})}),o.forEach(t.edges(),function(t){var i=e.edge(t.v,t.w)||0,o=n(t);e.setEdge(t.v,t.w,i+o),c=Math.max(c,e.node(t.v).out+=o),r=Math.max(r,e.node(t.w).in+=o)});var f=o.range(c+r+3).map(function(){return new a}),s=r+1;return o.forEach(e.nodes(),function(t){i(f,s,e.node(t))}),{graph:e,buckets:f,zeroIdx:s}}(t,n||c),f=function(t,n,e){for(var i,o=[],u=n[n.length-1],a=n[0];t.nodeCount();){for(;i=a.dequeue();)r(t,n,e,i);for(;i=u.dequeue();)r(t,n,e,i);if(t.nodeCount())for(var c=n.length-2;c>0;--c)if(i=n[c].dequeue()){o=o.concat(r(t,n,e,i,!0));break}}return o}(e.graph,e.buckets,e.zeroIdx);return o.flatten(o.map(f,function(n){return t.outEdges(n.v,n.w)}),!0)};var c=o.constant(1)},function(t,n){function e(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,n){if("_next"!==t&&"_prev"!==t)return n}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,n=t._prev;if(n!==t)return r(n),n},e.prototype.enqueue=function(t){var n=this._sentinel;t._prev&&t._next&&r(t),t._next=n._next,n._next._prev=t,n._next=t,t._prev=n},e.prototype.toString=function(){for(var t=[],n=this._sentinel,e=n._prev;e!==n;)t.push(JSON.stringify(e,i)),e=e._prev;return"["+t.join(", ")+"]"}},function(t,n,e){"use strict";var r=e(8),i=e(12);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),function(n){!function(t,n){var e=n.v,r=t.node(e).rank,o=n.w,u=t.node(o).rank,a=n.name,c=t.edge(n),f=c.labelRank;if(u!==r+1){var s,l,h;for(t.removeEdge(n),h=0,++r;r<u;++h,++r)c.points=[],s=i.addDummyNode(t,"edge",l={width:0,height:0,edgeLabel:c,edgeObj:n,rank:r},"_d"),r===f&&(l.width=c.width,l.height=c.height,l.dummy="edge-label",l.labelpos=c.labelpos),t.setEdge(e,s,{weight:c.weight},a),0===h&&t.graph().dummyChains.push(s),e=s;t.setEdge(e,o,{weight:c.weight},a)}}(t,n)})},undo:function(t){r.forEach(t.graph().dummyChains,function(n){var e,r=t.node(n),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)e=t.successors(n)[0],t.removeNode(n),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),r=t.node(n=e)})}}},function(t,n,e){"use strict";function r(t){u(t)}var i=e(59).longestPath,o=e(175),u=e(454);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":r(t);break;case"tight-tree":!function(t){i(t),o(t)}(t);break;case"longest-path":a(t);break;default:r(t)}};var a=i},function(t,n,e){"use strict";function r(t){t=y(t),d(t);var e,n=p(t);for(u(n),i(n,t);e=c(n);)s(n,t,e,f(n,t,e))}function i(t,n){var e=b(t,t.nodes());e=e.slice(0,e.length-1),h.forEach(e,function(e){!function(t,n,e){var r=t.node(e).parent;t.edge(e,r).cutvalue=o(t,n,e)}(t,n,e)})}function o(t,n,e){var r=t.node(e).parent,i=!0,o=n.edge(e,r),u=0;return o||(i=!1,o=n.edge(r,e)),u=o.weight,h.forEach(n.nodeEdges(e),function(o){var a=o.v===e,c=a?o.w:o.v;if(c!==r){var f=a===i,s=n.edge(o).weight;if(u+=f?s:-s,function(t,n,e){return t.hasEdge(n,c)}(t,e)){var l=t.edge(e,c).cutvalue;u+=f?-l:l}}}),u}function u(t,n){arguments.length<2&&(n=t.nodes()[0]),function a(t,n,e,r,i){var o=e,u=t.node(r);return n[r]=!0,h.forEach(t.neighbors(r),function(i){h.has(n,i)||(e=a(t,n,e,i,r))}),u.low=o,u.lim=e++,i?u.parent=i:delete u.parent,e}(t,{},1,n)}function c(t){return h.find(t.edges(),function(n){return t.edge(n).cutvalue<0})}function f(t,n,e){var r=e.v,i=e.w;n.hasEdge(r,i)||(r=e.w,i=e.v);var o=t.node(r),u=t.node(i),a=o,c=!1;o.lim>u.lim&&(a=u,c=!0);var f=h.filter(n.edges(),function(n){return c===l(0,t.node(n.v),a)&&c!==l(0,t.node(n.w),a)});return h.minBy(f,function(t){return v(n,t)})}function s(t,n,e,r){t.removeEdge(e.v,e.w),t.setEdge(r.v,r.w,{}),u(t),i(t,n),function(t,n){var e=h.find(t.nodes(),function(t){return!n.node(t).parent}),r=g(t,e);r=r.slice(1),h.forEach(r,function(e){var r=t.node(e).parent,i=n.edge(e,r),o=!1;i||(i=n.edge(r,e),o=!0),n.node(e).rank=n.node(r).rank+(o?i.minlen:-i.minlen)})}(t,n)}function l(t,n,e){return e.low<=n.lim&&n.lim<=e.lim}var h=e(8),p=e(175),v=e(59).slack,d=e(59).longestPath,g=e(16).alg.preorder,b=e(16).alg.postorder,y=e(12).simplify;t.exports=r,r.initLowLimValues=u,r.initCutValues=i,r.calcCutValue=o,r.leaveEdge=c,r.enterEdge=f,r.exchangeEdges=s},function(t,n,e){var r=e(8);t.exports=function(t){var n=function(t){var e={},i=0;return r.forEach(t.children(),function n(o){var u=i;r.forEach(t.children(o),n),e[o]={low:u,lim:i++}}),e}(t);r.forEach(t.graph().dummyChains,function(e){for(var r=t.node(e),i=r.edgeObj,o=function(t,n,e,r){var i,o,u=[],a=[],c=Math.min(n[e].low,n[r].low),f=Math.max(n[e].lim,n[r].lim);i=e;do{i=t.parent(i),u.push(i)}while(i&&(n[i].low>c||f>n[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)a.push(i);return{path:u.concat(a.reverse()),lca:o}}(t,n,i.v,i.w),u=o.path,a=o.lca,c=0,f=u[c],s=!0;e!==i.w;){if(r=t.node(e),s){for(;(f=u[c])!==a&&t.node(f).maxRank<r.rank;)c++;f===a&&(s=!1)}if(!s){for(;c<u.length-1&&t.node(f=u[c+1]).minRank<=r.rank;)c++;f=u[c]}t.setParent(e,f),e=t.successors(e)[0]}})}},function(t,n,e){function r(t,n,e,u,a,c,f){var s=t.children(f);if(s.length){var l=o.addBorderNode(t,"_bt"),h=o.addBorderNode(t,"_bb"),p=t.node(f);t.setParent(l,f),p.borderTop=l,t.setParent(h,f),p.borderBottom=h,i.forEach(s,function(i){r(t,n,e,u,a,c,i);var o=t.node(i),s=o.borderTop?o.borderTop:i,p=o.borderBottom?o.borderBottom:i,v=o.borderTop?u:2*u,d=s!==p?1:a-c[f]+1;t.setEdge(l,s,{weight:v,minlen:d,nestingEdge:!0}),t.setEdge(p,h,{weight:v,minlen:d,nestingEdge:!0})}),t.parent(f)||t.setEdge(n,l,{weight:0,minlen:a+c[f]})}else f!==n&&t.setEdge(n,f,{weight:0,minlen:e})}var i=e(8),o=e(12);t.exports={run:function(t){var n=o.addDummyNode(t,"root",{},"_root"),e=function(t){function n(r,o){var u=t.children(r);u&&u.length&&i.forEach(u,function(t){n(t,o+1)}),e[r]=o}var e={};return i.forEach(t.children(),function(t){n(t,1)}),e}(t),u=i.max(i.values(e))-1,a=2*u+1;t.graph().nestingRoot=n,i.forEach(t.edges(),function(n){t.edge(n).minlen*=a});var c=function(t){return i.reduce(t.edges(),function(n,e){return n+t.edge(e).weight},0)}(t)+1;i.forEach(t.children(),function(i){r(t,n,a,c,u,e,i)}),t.graph().nodeRankFactor=a},cleanup:function(t){var n=t.graph();t.removeNode(n.nestingRoot),delete n.nestingRoot,i.forEach(t.edges(),function(n){t.edge(n).nestingEdge&&t.removeEdge(n)})}}},function(t,n,e){function r(t,n,e,r,i,u){var c=i[n][u-1],f=o.addDummyNode(t,"border",{width:0,height:0,rank:u,borderType:n},e);i[n][u]=f,t.setParent(f,r),c&&t.setEdge(c,f,{weight:1})}var i=e(8),o=e(12);t.exports=function(t){i.forEach(t.children(),function n(e){var o=t.children(e),u=t.node(e);if(o.length&&i.forEach(o,n),i.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var a=u.minRank,c=u.maxRank+1;a<c;++a)r(t,"borderLeft","_bl",e,u,a),r(t,"borderRight","_br",e,u,a)}})}},function(t,n,e){"use strict";function r(t){a.forEach(t.nodes(),function(n){i(t.node(n))}),a.forEach(t.edges(),function(n){i(t.edge(n))})}function i(t){var n=t.width;t.width=t.height,t.height=n}function o(t){t.y=-t.y}function u(t){var n=t.x;t.x=t.y,t.y=n}var a=e(8);t.exports={adjust:function(t){var n=t.graph().rankdir.toLowerCase();"lr"!==n&&"rl"!==n||r(t)},undo:function(t){var n=t.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||function(t){a.forEach(t.nodes(),function(n){o(t.node(n))}),a.forEach(t.edges(),function(n){var e=t.edge(n);a.forEach(e.points,o),a.has(e,"y")&&o(e)})}(t),"lr"!==n&&"rl"!==n||(function(t){a.forEach(t.nodes(),function(n){u(t.node(n))}),a.forEach(t.edges(),function(n){var e=t.edge(n);a.forEach(e.points,u),a.has(e,"x")&&u(e)})}(t),r(t))}}},function(t,n,e){"use strict";function r(t,n,e){return o.map(n,function(n){return f(t,n,e)})}function i(t,n){o.forEach(n,function(n){o.forEach(n,function(n,e){t.node(n).order=e})})}var o=e(8),u=e(460),a=e(461),c=e(462),f=e(466),s=e(467),l=e(16).Graph,h=e(12);t.exports=function(t){var n=h.maxRank(t),e=r(t,o.range(1,n+1),"inEdges"),f=r(t,o.range(n-1,-1,-1),"outEdges"),p=u(t);i(t,p);for(var v,d=Number.POSITIVE_INFINITY,g=0,b=0;b<4;++g,++b){!function(t,n){var e=new l;o.forEach(t,function(t){var r=t.graph().root,i=c(t,r,e,n);o.forEach(i.vs,function(n,e){t.node(n).order=e}),s(t,e,i.vs)})}(g%2?e:f,g%4>=2),p=h.buildLayerMatrix(t);var y=a(t,p);y<d&&(b=0,v=o.cloneDeep(p),d=y)}i(t,v)}},function(t,n,e){"use strict";var r=e(8);t.exports=function(t){var e={},i=r.filter(t.nodes(),function(n){return!t.children(n).length}),o=r.max(r.map(i,function(n){return t.node(n).rank})),u=r.map(r.range(o+1),function(){return[]}),a=r.sortBy(i,function(n){return t.node(n).rank});return r.forEach(a,function n(i){if(!r.has(e,i)){e[i]=!0;var o=t.node(i);u[o.rank].push(i),r.forEach(t.successors(i),n)}}),u}},function(t,n,e){"use strict";var r=e(8);t.exports=function(t,n){for(var e=0,i=1;i<n.length;++i)e+=function(t,n,e){for(var i=r.zipObject(e,r.map(e,function(t,n){return n})),o=r.flatten(r.map(n,function(n){return r.chain(t.outEdges(n)).map(function(n){return{pos:i[n.w],weight:t.edge(n).weight}}).sortBy("pos").value()}),!0),u=1;u<e.length;)u<<=1;var a=2*u-1;u-=1;var c=r.map(new Array(a),function(){return 0}),f=0;return r.forEach(o.forEach(function(t){var n=t.pos+u;c[n]+=t.weight;for(var e=0;n>0;)n%2&&(e+=c[n+1]),c[n=n-1>>1]+=t.weight;f+=t.weight*e})),f}(t,n[i-1],n[i]);return e}},function(t,n,e){var i=e(8),o=e(463),u=e(464),a=e(465);t.exports=function r(t,n,e,c){var f=t.children(n),s=t.node(n),l=s?s.borderLeft:void 0,h=s?s.borderRight:void 0,p={};l&&(f=i.filter(f,function(t){return t!==l&&t!==h}));var v=o(t,f);i.forEach(v,function(n){if(t.children(n.v).length){var o=r(t,n.v,e,c);p[n.v]=o,i.has(o,"barycenter")&&function(t,n){i.isUndefined(t.barycenter)?(t.barycenter=n.barycenter,t.weight=n.weight):(t.barycenter=(t.barycenter*t.weight+n.barycenter*n.weight)/(t.weight+n.weight),t.weight+=n.weight)}(n,o)}});var d=u(v,e);!function(t,n){i.forEach(d,function(t){t.vs=i.flatten(t.vs.map(function(t){return n[t]?n[t].vs:t}),!0)})}(0,p);var g=a(d,c);if(l&&(g.vs=i.flatten([l,g.vs,h],!0),t.predecessors(l).length)){var b=t.node(t.predecessors(l)[0]),y=t.node(t.predecessors(h)[0]);i.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+b.order+y.order)/(g.weight+2),g.weight+=2}return g}},function(t,n,e){var r=e(8);t.exports=function(t,n){return r.map(n,function(n){var e=t.inEdges(n);if(e.length){var i=r.reduce(e,function(n,e){var r=t.edge(e),i=t.node(e.v);return{sum:n.sum+r.weight*i.order,weight:n.weight+r.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}return{v:n}})}},function(t,n,e){"use strict";var r=e(8);t.exports=function(t,n){var e={};return r.forEach(t,function(t,n){var i=e[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:n};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),r.forEach(n.edges(),function(t){var n=e[t.v],i=e[t.w];r.isUndefined(n)||r.isUndefined(i)||(i.indegree++,n.out.push(e[t.w]))}),function(t){function n(t){return function(n){n.merged||(r.isUndefined(n.barycenter)||r.isUndefined(t.barycenter)||n.barycenter>=t.barycenter)&&function(t,n){var e=0,r=0;t.weight&&(e+=t.barycenter*t.weight,r+=t.weight),n.weight&&(e+=n.barycenter*n.weight,r+=n.weight),t.vs=n.vs.concat(t.vs),t.barycenter=e/r,t.weight=r,t.i=Math.min(n.i,t.i),n.merged=!0}(t,n)}}function e(n){return function(e){e.in.push(n),0==--e.indegree&&t.push(e)}}for(var i=[];t.length;){var o=t.pop();i.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,e(o))}return r.chain(i).filter(function(t){return!t.merged}).map(function(t){return r.pick(t,["vs","i","barycenter","weight"])}).value()}(r.filter(e,function(t){return!t.indegree}))}},function(t,n,e){function r(t,n,e){for(var r;n.length&&(r=i.last(n)).i<=e;)n.pop(),t.push(r.vs),e++;return e}var i=e(8),o=e(12);t.exports=function(t,n){var e=o.partition(t,function(t){return i.has(t,"barycenter")}),u=e.lhs,a=i.sortBy(e.rhs,function(t){return-t.i}),c=[],f=0,s=0,l=0;u.sort(function(t){return function(n,e){return n.barycenter<e.barycenter?-1:n.barycenter>e.barycenter?1:t?e.i-n.i:n.i-e.i}}(!!n)),l=r(c,a,l),i.forEach(u,function(t){l+=t.vs.length,c.push(t.vs),f+=t.barycenter*t.weight,s+=t.weight,l=r(c,a,l)});var h={vs:i.flatten(c,!0)};return s&&(h.barycenter=f/s,h.weight=s),h}},function(t,n,e){var r=e(8),i=e(16).Graph;t.exports=function(t,n,e){var o=function(t){for(var n;t.hasNode(n=r.uniqueId("_root")););return n}(t),u=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(n){return t.node(n)});return r.forEach(t.nodes(),function(i){var a=t.node(i),c=t.parent(i);(a.rank===n||a.minRank<=n&&n<=a.maxRank)&&(u.setNode(i),u.setParent(i,c||o),r.forEach(t[e](i),function(n){var e=n.v===i?n.w:n.v,o=u.edge(e,i),a=r.isUndefined(o)?0:o.weight;u.setEdge(e,i,{weight:t.edge(n).weight+a})}),r.has(a,"minRank")&&u.setNode(i,{borderLeft:a.borderLeft[n],borderRight:a.borderRight[n]}))}),u}},function(t,n,e){var r=e(8);t.exports=function(t,n,e){var i,o={};r.forEach(e,function(e){for(var r,u,a=t.parent(e);a;){if((r=t.parent(a))?(u=o[r],o[r]=a):(u=i,i=a),u&&u!==a)return void n.setEdge(u,a);a=r}})}},function(t,n,e){"use strict";var r=e(8),i=e(12),o=e(469).positionX;t.exports=function(t){(function(t){var n=i.buildLayerMatrix(t),e=t.graph().ranksep,o=0;r.forEach(n,function(n){var i=r.max(r.map(n,function(n){return t.node(n).height}));r.forEach(n,function(n){t.node(n).y=o+i/2}),o+=i+e})})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),function(n,e){t.node(e).x=n})}},function(t,n,e){"use strict";function r(t,n){var e={};return h.reduce(n,function(n,r){var i=0,u=0,a=n.length,c=h.last(r);return h.forEach(r,function(n,f){var s=function(t,n){if(t.node(n).dummy)return h.find(t.predecessors(n),function(n){return t.node(n).dummy})}(t,n),l=s?t.node(s).order:a;(s||n===c)&&(h.forEach(r.slice(u,f+1),function(n){h.forEach(t.predecessors(n),function(r){var u=t.node(r),a=u.order;!(a<i||l<a)||u.dummy&&t.node(n).dummy||o(e,r,n)})}),u=f+1,i=l)}),r}),e}function i(t,n){function e(n,e,i,u,a){var c;h.forEach(h.range(e,i),function(e){t.node(c=n[e]).dummy&&h.forEach(t.predecessors(c),function(n){var e=t.node(n);e.dummy&&(e.order<u||e.order>a)&&o(r,n,c)})})}var r={};return h.reduce(n,function(n,r){var i,o=-1,u=0;return h.forEach(r,function(a,c){if("border"===t.node(a).dummy){var f=t.predecessors(a);f.length&&(i=t.node(f[0]).order,e(r,u,c,o,i),u=c,o=i)}e(r,u,r.length,i,n.length)}),r}),r}function o(t,n,e){if(n>e){var r=n;n=e,e=r}var i=t[n];i||(t[n]=i={}),i[e]=!0}function u(t,n,e){if(n>e){var r=n;n=e,e=r}return h.has(t[n],e)}function a(t,n,e,r){var i={},o={},a={};return h.forEach(n,function(t){h.forEach(t,function(t,n){i[t]=t,o[t]=t,a[t]=n})}),h.forEach(n,function(t){var n=-1;h.forEach(t,function(t){var c=r(t);if(c.length)for(var f=((c=h.sortBy(c,function(t){return a[t]})).length-1)/2,s=Math.floor(f),l=Math.ceil(f);s<=l;++s){var p=c[s];o[t]===t&&n<a[p]&&!u(e,t,p)&&(o[p]=t,o[t]=i[t]=i[p],n=a[p])}})}),{root:i,align:o}}function c(t,n,e,r,i){function o(t,n){for(var e=a.nodes(),r=e.pop(),i={};r;)i[r]?t(r):(i[r]=!0,e.push(r),e=e.concat(n(r))),r=e.pop()}var u={},a=function(t,n,e,r){var i=new p,o=t.graph(),u=function(t,n,e){return function(r,i,o){var u,a=r.node(i),c=r.node(o),f=0;if(f+=a.width/2,h.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2}if(u&&(f+=e?u:-u),u=0,f+=(a.dummy?n:t)/2,f+=(c.dummy?n:t)/2,f+=c.width/2,h.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=e?u:-u),u=0,f}}(o.nodesep,o.edgesep,r);return h.forEach(n,function(n){var r;h.forEach(n,function(n){var o=e[n];if(i.setNode(o),r){var a=e[r],c=i.edge(a,o);i.setEdge(a,o,Math.max(u(t,n,r),c||0))}r=n})}),i}(t,n,e,i),c=i?"borderLeft":"borderRight";return o(function(t){u[t]=a.inEdges(t).reduce(function(t,n){return Math.max(t,u[n.v]+a.edge(n))},0)},h.bind(a.predecessors,a)),o(function(n){var e=a.outEdges(n).reduce(function(t,n){return Math.min(t,u[n.w]-a.edge(n))},Number.POSITIVE_INFINITY),r=t.node(n);e!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(u[n]=Math.max(u[n],e))},h.bind(a.successors,a)),h.forEach(r,function(t){u[t]=u[e[t]]}),u}function f(t,n){return h.minBy(h.values(n),function(n){var e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return h.forIn(n,function(n,i){var o=function(t,n){return t.node(i).width}(t)/2;e=Math.max(n+o,e),r=Math.min(n-o,r)}),e-r})}function s(t,n){var e=h.values(n),r=h.min(e),i=h.max(e);h.forEach(["u","d"],function(e){h.forEach(["l","r"],function(o){var u,a=e+o,c=t[a];if(c!==n){var f=h.values(c);(u="l"===o?r-h.min(f):i-h.max(f))&&(t[a]=h.mapValues(c,function(t){return t+u}))}})})}function l(t,n){return h.mapValues(t.ul,function(e,r){if(n)return t[n.toLowerCase()][r];var i=h.sortBy(h.map(t,r));return(i[1]+i[2])/2})}var h=e(8),p=e(16).Graph,v=e(12);t.exports={positionX:function(t){var n,e=v.buildLayerMatrix(t),o=h.merge(r(t,e),i(t,e)),u={};h.forEach(["u","d"],function(r){n="u"===r?e:h.values(e).reverse(),h.forEach(["l","r"],function(e){"r"===e&&(n=h.map(n,function(t){return h.values(t).reverse()}));var i=h.bind("u"===r?t.predecessors:t.successors,t),f=a(0,n,o,i),s=c(t,n,f.root,f.align,"r"===e);"r"===e&&(s=h.mapValues(s,function(t){return-t})),u[r+e]=s})});var p=f(t,u);return s(u,p),l(u,t.graph().align)},findType1Conflicts:r,findType2Conflicts:i,addConflict:o,hasConflict:u,verticalAlignment:a,horizontalCompaction:c,alignCoordinates:s,findSmallestWidthAlignment:f,balance:l}},function(t,n,e){var r=e(8),i=e(12),o=e(16).Graph;t.exports={debugOrdering:function(t){var n=i.buildLayerMatrix(t),e=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),function(n){e.setNode(n,{label:n}),e.setParent(n,"layer"+t.node(n).rank)}),r.forEach(t.edges(),function(t){e.setEdge(t.v,t.w,{},t.name)}),r.forEach(n,function(t,n){e.setNode("layer"+n,{rank:"same"}),r.reduce(t,function(t,n){return e.setEdge(t,n,{style:"invis"}),n})}),e}}},function(t,n){t.exports="0.8.2"},function(t,n,e){function r(t,n){n=i({},d,n);var e=null;o(n.nodeAlign)?e=v[n.nodeAlign]:u(n.nodeAlign)&&(e=n.nodeAlign);var r=c().links(function(t){return t.edges}).nodeWidth(n.nodeWidth).nodePadding(n.nodePadding).extent([[0,0],[1,1]]);u(n.nodeId)&&r.nodeId(n.nodeId),e&&r.nodeAlign(e),r(t),t.nodes.forEach(function(t){var n=t.x0,e=t.x1,r=t.y0,i=t.y1;t.x=[n,e,e,n],t.y=[r,r,i,i]}),t.edges.forEach(function(t){var r=t.source.x1,i=t.target.x0;t.x=[r,r,i,i];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})}var i=e(3),o=e(10),u=e(11),a=e(473),c=a.sankey,f=a.sankeyLeft,s=a.sankeyRight,l=a.sankeyCenter,h=a.sankeyJustify,p=e(2).registerTransform,v={sankeyLeft:f,sankeyRight:s,sankeyCenter:l,sankeyJustify:h},d={value:function(t){return t.value},source:function(t){return t.source},target:function(t){return t.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02};p("diagram.sankey",r),p("sankey",r)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(474);e.d(n,"sankey",function(){return r.a});var i=e(176);e.d(n,"sankeyCenter",function(){return i.a}),e.d(n,"sankeyLeft",function(){return i.c}),e.d(n,"sankeyRight",function(){return i.d}),e.d(n,"sankeyJustify",function(){return i.b});var o=e(482);e.d(n,"sankeyLinkHorizontal",function(){return o.a})},function(t,n,e){"use strict";function r(t,n){return o(t.source,n.source)||t.index-n.index}function i(t,n){return o(t.target,n.target)||t.index-n.index}function o(t,n){return t.y0-n.y0}function u(t){return t.value}function a(t){return(t.y0+t.y1)/2}function c(t){return a(t.source)*t.value}function f(t){return a(t.target)*t.value}function s(t){return t.index}function l(t){return t.nodes}function h(t){return t.links}function p(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var v=e(14),d=e(475),g=e(176),b=e(481);n.a=function(){function t(){var t={nodes:E.apply(null,arguments),links:M.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,n){t.index=n,t.sourceLinks=[],t.targetLinks=[]});var n=Object(d.a)(t.nodes,w);t.links.forEach(function(t,e){t.index=e;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=p(n,r)),"object"!=typeof i&&(i=t.target=p(n,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(t),function(t){t.nodes.forEach(function(t){t.value=Math.max(Object(v.sum)(t.sourceLinks,u),Object(v.sum)(t.targetLinks,u))})}(t),function(t){var n,r,i;for(n=t.nodes,r=[],i=0;n.length;++i,n=r,r=[])n.forEach(function(t){t.depth=i,t.sourceLinks.forEach(function(t){r.indexOf(t.target)<0&&r.push(t.target)})});for(n=t.nodes,r=[],i=0;n.length;++i,n=r,r=[])n.forEach(function(t){t.height=i,t.targetLinks.forEach(function(t){r.indexOf(t.source)<0&&r.push(t.source)})});var o=(j-e-_)/(i-1);t.nodes.forEach(function(t){t.x1=(t.x0=e+Math.max(0,Math.min(i-1,Math.floor(x.call(null,t,i))))*o)+_})}(t),function(t){function n(){e.forEach(function(t){var n,e,r,i=y,u=t.length;for(t.sort(o),r=0;r<u;++r)(e=i-(n=t[r]).y0)>0&&(n.y0+=e,n.y1+=e),i=n.y1+m;if((e=i-m-O)>0)for(i=n.y0-=e,n.y1-=e,r=u-2;r>=0;--r)(e=(n=t[r]).y1+m-i)>0&&(n.y0-=e,n.y1-=e),i=n.y0})}var e=Object(d.b)().key(function(t){return t.x0}).sortKeys(v.ascending).entries(t.nodes).map(function(t){return t.values});(function(){var n=Object(v.min)(e,function(t){return(O-y-(t.length-1)*m)/Object(v.sum)(t,u)});e.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*n})}),t.links.forEach(function(t){t.width=t.value*n})})(),n();for(var r=1,i=T;i>0;--i)!function(t){e.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var e=(Object(v.sum)(n.sourceLinks,f)/Object(v.sum)(n.sourceLinks,u)-a(n))*t;n.y0+=e,n.y1+=e}})})}(r*=.99),n(),function(t){e.forEach(function(n){n.forEach(function(n){if(n.targetLinks.length){var e=(Object(v.sum)(n.targetLinks,c)/Object(v.sum)(n.targetLinks,u)-a(n))*t;n.y0+=e,n.y1+=e}})})}(r),n()}(t),n(t),t}function n(t){t.nodes.forEach(function(t){t.sourceLinks.sort(i),t.targetLinks.sort(r)}),t.nodes.forEach(function(t){var n=t.y0,e=n;t.sourceLinks.forEach(function(t){t.y0=n+t.width/2,n+=t.width}),t.targetLinks.forEach(function(t){t.y1=e+t.width/2,e+=t.width})})}var e=0,y=0,j=1,O=1,_=24,m=8,w=s,x=g.b,E=l,M=h,T=32;return t.update=function(t){return n(t),t},t.nodeId=function(n){return arguments.length?(w="function"==typeof n?n:Object(b.a)(n),t):w},t.nodeAlign=function(n){return arguments.length?(x="function"==typeof n?n:Object(b.a)(n),t):x},t.nodeWidth=function(n){return arguments.length?(_=+n,t):_},t.nodePadding=function(n){return arguments.length?(m=+n,t):m},t.nodes=function(n){return arguments.length?(E="function"==typeof n?n:Object(b.a)(n),t):E},t.links=function(n){return arguments.length?(M="function"==typeof n?n:Object(b.a)(n),t):M},t.size=function(n){return arguments.length?(e=y=0,j=+n[0],O=+n[1],t):[j-e,O-y]},t.extent=function(n){return arguments.length?(e=+n[0][0],j=+n[1][0],y=+n[0][1],O=+n[1][1],t):[[e,y],[j,O]]},t.iterations=function(n){return arguments.length?(T=+n,t):T},t}},function(t,n,e){"use strict";var r=e(476);e.d(n,"b",function(){return r.a}),e(477);var i=e(94);e.d(n,"a",function(){return i.a}),e(478),e(479),e(480)},function(t,n,e){"use strict";function r(){return{}}function i(t,n,e){t[n]=e}function o(){return Object(a.a)()}function u(t,n,e){t.set(n,e)}var a=e(94);n.a=function(){function t(n,r,i,o){if(r>=s.length)return null!=e&&n.sort(e),null!=c?c(n):n;for(var u,f,l,h=-1,p=n.length,v=s[r++],d=Object(a.a)(),g=i();++h<p;)(l=d.get(u=v(f=n[h])+""))?l.push(f):d.set(u,[f]);return d.each(function(n,e){o(g,e,t(n,r,i,o))}),g}var e,c,f,s=[],l=[];return f={object:function(n){return t(n,0,r,i)},map:function(n){return t(n,0,o,u)},entries:function(e){return function n(t,e){if(++e>s.length)return t;var r,i=l[e-1];return null!=c&&e>=s.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:n(t,e)})})),null!=i?r.sort(function(t,n){return i(t.key,n.key)}):r}(t(e,0,o,u),0)},key:function(t){return s.push(t),f},sortKeys:function(t){return l[s.length-1]=t,f},sortValues:function(t){return e=t,f},rollup:function(t){return c=t,f}}}},function(t,n,e){"use strict";function r(){}var o=e(94),u=o.a.prototype;r.prototype=(function(t,n){var e=new r;if(t instanceof r)t.each(function(t){e.add(t)});else if(t){var i=-1,o=t.length;if(null==n)for(;++i<o;)e.add(t[i]);else for(;++i<o;)e.add(n(t[i],i,t))}return e}).prototype={constructor:r,has:u.has,add:function(t){return this[o.b+(t+="")]=t,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each}},function(t,n,e){},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function r(t){return[t.source.x1,t.y0]}function i(t){return[t.target.x0,t.y1]}var o=e(483);n.a=function(){return Object(o.a)().source(r).target(i)}},function(t,n,e){"use strict";e(484),e(177),e(95),e(485),e(488),e(179),e(180);var r=e(489);e.d(n,"a",function(){return r.a}),e(490),e(182),e(183),e(184),e(186),e(185),e(187),e(188),e(491),e(492),e(62),e(493),e(189),e(190),e(63),e(494),e(495),e(97),e(496),e(60),e(497),e(498),e(499),e(500),e(501),e(502),e(47),e(503),e(504),e(98),e(505),e(506),e(48),e(507)},function(t,n,e){"use strict";e(33),e(27),e(46)},function(t,n,e){"use strict";e(27),e(486),e(487),e(46)},function(t,n,e){"use strict";n.a=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";e(178),e(177),e(179)},function(t,n,e){"use strict";function r(t){return t.source}function i(t){return t.target}function u(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}n.a=function(){return function(t){function n(){var n,r=c.a.call(arguments),i=e.apply(this,r),f=o.apply(this,r);if(h||(h=n=Object(a.path)()),t(h,+u.apply(this,(r[0]=i,r)),+l.apply(this,r),+u.apply(this,(r[0]=f,r)),+l.apply(this,r)),n)return h=null,n+""||null}var e=r,o=i,u=s.a,l=s.b,h=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(o=t,n):o},n.x=function(t){return arguments.length?(u="function"==typeof t?t:Object(f.a)(+t),n):u},n.y=function(t){return arguments.length?(l="function"==typeof t?t:Object(f.a)(+t),n):l},n.context=function(t){return arguments.length?(h=null==t?null:t,n):h},n}(u)};var a=e(33),c=e(181),f=e(27),s=e(96);e(180)},function(t,n,e){"use strict";e(33),e(182),e(183),e(184),e(185),e(186),e(187),e(188),e(27)},function(t,n,e){"use strict";e(61),e(62)},function(t,n,e){"use strict";e(62)},function(t,n,e){"use strict";function r(t,n){this._basis=new i.a(t),this._beta=n}var i=e(62);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)this._basis.point(this._beta*t[c]+(1-this._beta)*(i+(r=c/e)*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}},function t(n){function e(t){return 1===n?new i.a(t):new r(t,n)}return e.beta=function(n){return t(+n)},e}(.85)},function(t,n,e){"use strict";function r(t,n){this._context=t,this._alpha=n}var i=e(189),o=e(61),u=e(97);r.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Object(u.a)(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new r(t,n):new i.a(t,0)}return e.alpha=function(n){return t(+n)},e}(.5)},function(t,n,e){"use strict";function r(t,n){this._context=t,this._alpha=n}var i=e(190),o=e(97);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o.a)(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}},function t(n){function e(t){return n?new r(t,n):new i.a(t,0)}return e.alpha=function(n){return t(+n)},e}(.5)},function(t,n,e){"use strict";e(61)},function(t,n,e){"use strict";function r(t){return t<0?-1:1}function i(t,n,e){var i=t._x1-t._x0,o=n-t._x1,u=(t._y1-t._y0)/(i||o<0&&-0),a=(e-t._y1)/(o||i<0&&-0),c=(u*o+a*i)/(i+o);return(r(u)+r(a))*Math.min(Math.abs(u),Math.abs(a),.5*Math.abs(c))||0}function o(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function u(t,n,e){var r=t._x0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,t._y0+a*n,o-a,u-a*e,o,u)}function a(t){this._context=t}function f(t){this._context=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,u(this,o(this,e=i(this,t,n)),e);break;default:u(this,this._t0,e=i(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},((function(t){this._context=new f(t)}).prototype=Object.create(a.prototype)).point=function(t,n){a.prototype.point.call(this,n,t)},f.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}}},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e(181),e(27),e(47),e(48)},function(t,n,e){"use strict";e(47)},function(t,n,e){},function(t,n,e){"use strict";e(47)},function(t,n,e){"use strict";e(47)},function(t,n,e){"use strict";e(98)},function(t,n,e){"use strict";e(48),e(98)},function(t,n,e){"use strict";e(48)},function(t,n,e){function r(t,n){var e=(n=i({},f,n)).as;if(!u(e)||2!==e.length)throw new TypeError("Invalid as: must be an array with two strings!");var r=e[0],a=e[1],s=c(n);if(!u(s)&&2!==s.length)throw new TypeError("Invalid fields: must be an array with two strings!");var l=s[0],h=s[1],p=t.rows,v=p.map(function(t){return[t[l],t[h]]}),d=o.voronoi();n.extend&&d.extent(n.extend),n.size&&d.size(n.size);var g=d(v).polygons();p.forEach(function(t,n){var e=g[n].filter(function(t){return!!t});t[r]=e.map(function(t){return t[0]}),t[a]=e.map(function(t){return t[1]})})}var i=e(3),o=e(509),u=e(6),a=e(2).registerTransform,c=e(7).getFields,f={as:["_x","_y"]};a("diagram.voronoi",r),a("voronoi",r)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(510);e.d(n,"voronoi",function(){return r.a})},function(t,n,e){"use strict";var r=e(511),i=e(512),o=e(49);n.a=function(){function t(t){return new o.d(t.map(function(r,i){var u=[Math.round(n(r,i,t)/o.f)*o.f,Math.round(e(r,i,t)/o.f)*o.f];return u.index=i,u.data=r,u}),u)}var n=i.a,e=i.b,u=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t):e},t.extent=function(n){return arguments.length?(u=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):u&&[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},t.size=function(n){return arguments.length?(u=null==n?null:[[0,0],[+n[0],+n[1]]],t):u&&[u[1][0]-u[0][0],u[1][1]-u[0][1]]},t}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t){return t[0]},n.b=function(t){return t[1]}},function(t,n,e){"use strict";function r(t){var n=l.pop()||new function(){Object(u.a)(this),this.edge=this.site=this.circle=null};return n.site=t,n}function i(t){Object(c.b)(t),s.a.remove(t),l.push(t),Object(u.a)(t)}function o(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],f=c-n;if(!f)return a;var s=a-r,l=1/o-1/f,h=s/f;return l?(-h+Math.sqrt(h*h-2*l*(s*s/(-2*f)-c+f/2+i-o/2)))/l+r:(r+a)/2}n.b=function(t){var n=t.circle,e=n.x,r=n.cy,o=[e,r],u=t.P,a=t.N,l=[t];i(t);for(var h=u;h.circle&&Math.abs(e-h.circle.x)<s.f&&Math.abs(r-h.circle.cy)<s.f;)u=h.P,l.unshift(h),i(h),h=u;l.unshift(h),Object(c.b)(h);for(var p=a;p.circle&&Math.abs(e-p.circle.x)<s.f&&Math.abs(r-p.circle.cy)<s.f;)a=p.N,l.push(p),i(p),p=a;l.push(p),Object(c.b)(p);var v,d=l.length;for(v=1;v<d;++v)p=l[v],h=l[v-1],Object(f.d)(p.edge,h.site,p.site,o);h=l[0],(p=l[d-1]).edge=Object(f.c)(h.site,p.site,null,o),Object(c.a)(h),Object(c.a)(p)},n.a=function(t){for(var n,e,i,u,l=t[0],h=t[1],p=s.a._;p;)if((i=o(p,h)-l)>s.f)p=p.L;else{if(!((u=l-function(t,n){var e=t.N;if(e)return o(e,n);var r=t.site;return r[1]===n?r[0]:1/0}(p,h))>s.f)){i>-s.f?(n=p.P,e=p):u>-s.f?(n=p,e=p.N):n=e=p;break}if(!p.R){n=p;break}p=p.R}Object(a.c)(t);var v=r(t);if(s.a.insert(n,v),n||e){if(n===e)return Object(c.b)(n),e=r(n.site),s.a.insert(v,e),v.edge=e.edge=Object(f.c)(n.site,v.site),Object(c.a)(n),void Object(c.a)(e);if(e){Object(c.b)(n),Object(c.b)(e);var d=n.site,g=d[0],b=d[1],y=t[0]-g,j=t[1]-b,O=e.site,_=O[0]-g,m=O[1]-b,w=2*(y*m-j*_),x=y*y+j*j,E=_*_+m*m,M=[(m*x-j*E)/w+g,(y*E-_*x)/w+b];Object(f.d)(e.edge,d,O,M),v.edge=Object(f.c)(d,t,null,M),e.edge=Object(f.c)(t,O,null,M),Object(c.a)(n),Object(c.a)(e)}else v.edge=Object(f.c)(n.site,v.site)}};var u=e(99),a=e(191),c=e(192),f=e(100),s=e(49),l=[]},function(t,n,e){function r(t,n){if(t.dataType!==c)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a,e=t.root,r=(n=i({},l,n)).as;if(!u(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=s(n)}catch(t){console.warn(t)}a&&e.sum(function(t){return t[a]});var f=o.cluster();f.size(n.size),n.nodeSize&&f.nodeSize(n.nodeSize),n.separation&&f.separation(n.separation),f(e);var h=r[0],p=r[1];e.each(function(t){t[h]=t.x,t[p]=t.y})}var i=e(3),o=e(34),u=e(6),a=e(2),c=a.HIERARCHY,f=a.registerTransform,s=e(7).getField,l={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};f("hierarchy.cluster",r),f("dendrogram",r)},function(t,n,e){function r(t,n){var e=t.root;if(n=Object.assign({},c,n),t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=i.compactBox(e,n)}var i=e(101),o=e(2),u=o.HIERARCHY,a=o.registerTransform,c={};a("hierarchy.compact-box",r),a("compact-box-tree",r),a("non-layered-tidy-tree",r),a("mindmap-logical",r)},function(t,n,e){var r=e(64),i=e(517),o=e(102),u=e(28),a=function(t){function n(){return t.apply(this,arguments)||this}return function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t),n.prototype.execute=function(){return o(this.rootNode,this.options,i)},n}(r),c={};t.exports=function(t,n){return n=u.assign({},c,n),new a(t,n).execute()}},function(t,n){function e(t,n,e,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=n||0,i.y=e||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}e.fromNode=function(t,n){if(!t)return null;var r=[];return t.children.forEach(function(t){r.push(e.fromNode(t,n))}),n?new e(t.height,t.width,t.x,r):new e(t.width,t.height,t.y,r)},t.exports=function(t,n){function c(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function f(t){return t.y+t.h}function l(t,n,e){for(;null!==e&&t>=e.low;)e=e.nxt;return{low:t,index:n,nxt:e}}void 0===n&&(n={});var h=n.isHorizontal;!function u(t,n,e){void 0===e&&(e=0),n?(t.x=e,e+=t.width):(t.y=e,e+=t.height),t.children.forEach(function(t){u(t,n,e)})}(t,h);var p=e.fromNode(t,h);return function a(t){if(0!==t.cs){a(t.c[0]);for(var n=l(f(t.c[0].el),0,null),e=1;e<t.cs;++e){a(t.c[e]);var r=f(t.c[e].er);!function(t,n,e){for(var r=t.c[n-1],i=r.mod,o=t.c[n],u=o.mod;null!==r&&null!==o;){f(r)>e.low&&(e=e.nxt);var a=i+r.prelim+r.w-(u+o.prelim);a>0&&(u+=a,function(t,n,e,r){t.c[n].mod+=r,t.c[n].msel+=r,t.c[n].mser+=r,function(t,n,e,r){if(e!==n-1){var i=n-e;t.c[e+1].shift+=r/i,t.c[n].shift-=r/i,t.c[n].change-=r-r/i}}(t,n,e,r)}(t,n,e.index,a));var c=f(r),s=f(o);c<=s&&null!==(r=0===r.cs?r.tr:r.c[r.cs-1])&&(i+=r.mod),c>=s&&null!==(o=0===o.cs?o.tl:o.c[0])&&(u+=o.mod)}!r&&o?function(t,n,e,r){var i=t.c[0].el;i.tl=e;var o=r-e.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[n].el,t.c[0].msel=t.c[n].msel}(t,n,o,u):r&&!o&&function(t,n,e,r){var i=t.c[n].er;i.tr=e;var o=r-e.mod-t.c[n].mser;i.mod+=o,i.prelim-=o,t.c[n].er=t.c[n-1].er,t.c[n].mser=t.c[n-1].mser}(t,n,r,i)}(t,e,n),n=l(r,e,n)}!function(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}(t),c(t)}else c(t)}(p),function s(t,n){t.x=t.prelim+(n+=t.mod),function(t){for(var n=0,e=0,r=0;r<t.cs;r++)t.c[r].mod+=e+=(n+=t.c[r].shift)+t.c[r].change}(t);for(var e=0;e<t.cs;e++)s(t.c[e],n)}(p,0),function o(t,n,e){e?n.y=t.x:n.x=t.x,t.c.forEach(function(t,r){o(t,n.children[r],e)})}(p,t,h),function(t,n){!function r(t,n,e){e?t.y+=n:t.x+=n,t.children.forEach(function(t){r(t,n,e)})}(t,-function i(t,n){var e=n?t.y:t.x;return t.children.forEach(function(t){e=Math.min(i(t,n),e)}),e}(t,n),n)}(t,h),t}},function(t,n,e){var r=e(64),i=e(519),o=e(102),u=e(28),a=function(t){function n(){return t.apply(this,arguments)||this}return function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t),n.prototype.execute=function(){return this.rootNode.width=0,o(this.rootNode,this.options,i)},n}(r),c={};t.exports=function(t,n){return n=u.assign({},c,n),new a(t,n).execute()}},function(t,n,e){var i=e(28),o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,n){void 0===n&&(n={}),n=i.assign({},o,n);var c,f=0,s=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>f&&(f=t.depth);var n=t.children,r=n.length,i=new function(t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=n}(t.height,[]);return n.forEach(function(t,n){var o=e(t);i.children.push(o),0===n&&(i.leftChild=o),n===r-1&&(i.rightChild=o)}),i.originNode=t,i.isLeaf=t.isLeaf(),i}(t);return function u(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=f;else{var n=t.children.map(function(t){return u(t)}),e=Math.min.apply(null,n);t.drawingDepth=e-1}return t.drawingDepth}(s),function a(t){t.x=t.drawingDepth*n.rankSep,t.isLeaf?(t.y=0,c&&(t.y=c.y+c.height+n.nodeSep,t.originNode.parent!==c.originNode.parent&&(t.y+=n.subTreeSep)),c=t):(t.children.forEach(function(t){a(t)}),t.y=(t.leftChild.y+t.rightChild.y)/2)}(s),function r(t,n,e){e?(n.x=t.x,n.y=t.y):(n.x=t.y,n.y=t.x),t.children.forEach(function(t,i){r(t,n.children[i],e)})}(s,t,n.isHorizontal),t}},function(t,n,e){var r=e(64),i=e(521),o=e(194),u=e(28),a=["LR","RL","H"],c=a[0],f=function(t){function n(){return t.apply(this,arguments)||this}return function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t),n.prototype.execute=function(){var t=this.options,n=this.rootNode;t.isHorizontal=!0;var e=t.indent,r=t.direction||c;if(r&&-1===a.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===a[0])i(n,e);else if(r===a[1])i(n,e),n.right2left();else if(r===a[2]){var u=o(n,t),f=u.left,s=u.right;i(f,e),f.right2left(),i(s,e);var l=f.getBoundingBox();s.translate(l.width,0),n.x=s.x-n.width/2}return n},n}(r),s={};t.exports=function(t,n){return n=u.assign({},s,n),new f(t,n).execute()}},function(t,n){t.exports=function(t,n){void 0===n&&(n=20);var e=null;t.eachNode(function(t){!function(t,n,e){t.x+=e*t.depth,t.y=n?n.y+n.height:0}(t,e,n),e=t})}},function(t,n,e){var r=e(64),i=e(523),o=e(102),u=e(28),a=function(t){function n(){return t.apply(this,arguments)||this}return function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t),n.prototype.execute=function(){return o(this.rootNode,this.options,i)},n}(r),c={};t.exports=function(t,n){return n=u.assign({},c,n),new a(t,n).execute()}},function(t,n,e){var o=e(28),u={getSubTreeSep:function(){return 0}};t.exports=function(t,n){void 0===n&&(n={}),n=o.assign({},u,n),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function r(t,n){var e=0;return t.children.length?t.children.forEach(function(t){e+=r(t,n)}):e=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,e)+2*t._subTreeSep,t.totalHeight}(t,n),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var n=t.children,e=n.length;if(e){var r=n[0];if(r.startY=t.startY+t._subTreeSep,1===e)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<e;i++){var o=n[i];o.startY=n[i-1].startY+n[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function i(t){var n=t.children,e=n.length;if(e){n.forEach(function(t){i(t)});var r=n[0],o=n[e-1],u=o.y-r.y+o.height,a=0;if(n.forEach(function(t){a+=t.totalHeight}),u>t.height)t.y=r.y+u/2-t.height/2;else if(1!==n.length||t.height>a){var c=t.y+(t.height-u)/2-r.y;n.forEach(function(t){t.translate(0,c)})}else t.y=(r.y+r.height/2+o.y+o.height/2)/2-t.height/2}}(t)}},function(t,n,e){function r(t,n){var e=t.root;if(n=Object.assign({},c,n),t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=i.dendrogram(e,n)}var i=e(101),o=e(2),u=o.HIERARCHY,a=o.registerTransform,c={};a("hierarchy.dendrogram",r),a("dendrogram",r)},function(t,n,e){function r(t,n){var e=t.root;if(n=Object.assign({},c,n),t.dataType!==u)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=i.indented(e,n)}var i=e(101),o=e(2),u=o.HIERARCHY,a=o.registerTransform,c={};a("hierarchy.indented",r),a("indented-tree",r)},function(t,n,e){function r(t,n){if(t.dataType!==c)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a,e=t.root,r=(n=i({},l,n)).as;if(!u(r)||3!==r.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{a=s(n)}catch(t){console.warn(t)}a&&e.sum(function(t){return t[a]}).sort(function(t,n){return n[a]-t[a]});var f=o.pack();f.size(n.size),n.padding&&f.padding(n.padding),f(e);var h=r[0],p=r[1],v=r[2];e.each(function(t){t[h]=t.x,t[p]=t.y,t[v]=t.r})}var i=e(3),o=e(34),u=e(6),a=e(2),c=a.HIERARCHY,f=a.registerTransform,s=e(7).getField,l={field:"value",size:[1,1],padding:0,as:["x","y","r"]};f("hierarchy.pack",r),f("hierarchy.circle-packing",r),f("circle-packing",r)},function(t,n,e){function r(t,n){if(t.dataType!==c)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a,e=t.root,r=(n=i({},l,n)).as;if(!u(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=s(n)}catch(t){console.warn(t)}a&&e.sum(function(t){return t[a]});var f=o.partition();f.size(n.size).round(n.round).padding(n.padding),f(e);var h=r[0],p=r[1];e.each(function(t){t[h]=[t.x0,t.x1,t.x1,t.x0],t[p]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(n){-1===r.indexOf(n)&&delete t[n]})})}var i=e(3),o=e(34),u=e(6),a=e(2),c=a.HIERARCHY,f=a.registerTransform,s=e(7).getField,l={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};f("hierarchy.partition",r),f("adjacency",r)},function(t,n,e){function r(t,n){if(t.dataType!==c)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a,e=t.root,r=(n=i({},l,n)).as;if(!u(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=s(n)}catch(t){console.warn(t)}a&&e.sum(function(t){return t[a]});var f=o.tree();f.size(n.size),n.nodeSize&&f.nodeSize(n.nodeSize),n.separation&&f.separation(n.separation),f(e);var h=r[0],p=r[1];e.each(function(t){t[h]=t.x,t[p]=t.y})}var i=e(3),o=e(34),u=e(6),a=e(2),c=a.HIERARCHY,f=a.registerTransform,s=e(7).getField,l={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};f("hierarchy.tree",r),f("tree",r)},function(t,n,e){function r(t,n){if(t.dataType!==c)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var a,e=t.root,r=(n=i({},l,n)).as;if(!u(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{a=s(n)}catch(t){console.warn(t)}a&&e.sum(function(t){return t[a]});var f=o.treemap();f.tile(o[n.tile]).size(n.size).round(n.round).padding(n.padding).paddingInner(n.paddingInner).paddingOuter(n.paddingOuter).paddingTop(n.paddingTop).paddingRight(n.paddingRight).paddingBottom(n.paddingBottom).paddingLeft(n.paddingLeft),f(e);var h=r[0],p=r[1];e.each(function(t){t[h]=[t.x0,t.x1,t.x1,t.x0],t[p]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(n){-1===r.indexOf(n)&&delete t[n]})})}var i=e(3),o=e(34),u=e(6),a=e(2),c=a.HIERARCHY,f=a.registerTransform,s=e(7).getField,l={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};f("hierarchy.treemap",r),f("treemap",r)},function(t,n,e){function r(t,n){n=i({},f,n);var e=a();["font","fontSize","padding","rotate","size","spiral","timeInterval"].forEach(function(t){n[t]&&e[t](n[t])});var r=c(n),u=r[0],s=r[1];if(!o(u)||!o(s))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var l=t.rows.map(function(t){return t.text=t[u],t.value=t[s],t});e.words(l),n.imageMask&&e.createMask(n.imageMask);var h=e.start(),p=h._tags,v=h._bounds;p.forEach(function(t){t.x+=n.size[0]/2,t.y+=n.size[1]/2});var d=n.size,g=d[0],b=d[1],y=h.hasImage;p.push({text:"",value:0,x:y?0:v[0].x,y:y?0:v[0].y,opacity:0}),p.push({text:"",value:0,x:y?g:v[1].x,y:y?b:v[1].y,opacity:0}),t.rows=p,t._tagCloud=h}var i=e(3),o=e(10),u=e(2).registerTransform,a=e(531),c=e(7).getFields,f={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};u("tag-cloud",r),u("word-cloud",r)},function(t,n){function e(t){return t.text}function r(){return"serif"}function i(){return"normal"}function o(t){return t.value}function u(){return 90*~~(2*Math.random())}function a(){return 1}function c(t,n,e,r){if(!n.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(b<<5)/o,y/o);var u=0,a=0,c=0,f=e.length;for(--r;++r<f;){n=e[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/o)+"px "+n.font;var s=i.measureText(n.text+"m").width*o,l=n.size<<1;if(n.rotate){var h=Math.sin(n.rotate*g),p=Math.cos(n.rotate*g),v=s*p,d=s*h,j=l*p,O=l*h;s=Math.max(Math.abs(v+O),Math.abs(v-O))+31>>5<<5,l=~~Math.max(Math.abs(d+j),Math.abs(d-j))}else s=s+31>>5<<5;if(l>c&&(c=l),u+s>=b<<5&&(u=0,a+=c,c=0),a+l>=y)break;i.translate((u+(s>>1))/o,(a+(l>>1))/o),n.rotate&&i.rotate(n.rotate*g),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=s,n.height=l,n.xoff=u,n.yoff=a,n.x1=s>>1,n.y1=l>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,u+=s}for(var _=i.getImageData(0,0,(b<<5)/o,y/o).data,m=[];--r>=0;)if((n=e[r]).hasText){for(var w=n.width,x=w>>5,E=n.y1-n.y0,M=0;M<E*x;M++)m[M]=0;if(null==(u=n.xoff))return;a=n.yoff;for(var T=0,S=-1,k=0;k<E;k++){for(var C=0;C<w;C++){var N=_[(a+k)*(b<<5)+(u+C)<<2]?1<<31-C%32:0;m[x*k+(C>>5)]|=N,T|=N}T?S=k:(n.y0++,E--,k--,a++)}n.y1=n.y0+S,n.sprite=m.slice(0,(n.y1-n.y0)*x)}}}function f(t,n,e){for(var r,i=t.sprite,o=t.width>>5,u=t.x-(o<<4),a=127&u,c=32-a,f=t.y1-t.y0,s=(t.y+t.y0)*(e>>=5)+(u>>5),l=0;l<f;l++){r=0;for(var h=0;h<=o;h++)if((r<<c|(h<o?(r=i[l*o+h])>>>a:0))&n[s+h])return!0;s+=e}return!1}function s(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function l(t,n){return t.x+t.x1>n[0].x&&t.x+t.x0<n[1].x&&t.y+t.y1>n[0].y&&t.y+t.y0<n[1].y}function h(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function p(t){for(var n=[],e=-1;++e<t;)n[e]=0;return n}function v(){return document.createElement("canvas")}function d(t){return"function"==typeof t?t:function(){return t}}var g=Math.PI/180,b=64,y=2048,j={archimedean:h,rectangular:function(t){var n=4*t[0]/t[1],e=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:e+=n;break;case 1:r+=4;break;case 2:e-=n;break;default:r-=4}return[e,r]}}};t.exports=function(){var t=[256,256],n=e,g=r,O=o,_=i,m=i,w=u,x=a,E=h,M=[],T=1/0,S=Math.random,k=v,C={canvas:function(t){return arguments.length?(k=d(t),C):k},start:function(){var r=t[0],i=t[1],o=function(t){t.width=t.height=1;var n=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(b<<5)/n,t.height=y/n;var e=t.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:n}}(k()),u=C.board?C.board:p((t[0]>>5)*t[1]),a=M.length,h=[],v=M.map(function(t,e){return t.text=n.call(this,t,e),t.font=g.call(this,t,e),t.style=_.call(this,t,e),t.weight=m.call(this,t,e),t.rotate=w.call(this,t,e),t.size=~~O.call(this,t,e),t.padding=x.call(this,t,e),t}).sort(function(t,n){return n.size-t.size}),d=-1,j=C.board?[{x:0,y:0},{x:r,y:i}]:null;return function(){for(var n=Date.now();Date.now()-n<T&&++d<a;){var e=v[d];e.x=r*(S()+.5)>>1,e.y=i*(S()+.5)>>1,c(o,e,v,d),e.hasText&&function(n,e,r){for(var i,o,u,a=e.x,c=e.y,s=Math.sqrt(t[0]*t[0]+t[1]*t[1]),h=E(t),p=S()<.5?1:-1,v=-p;(i=h(v+=p))&&(o=~~i[0],u=~~i[1],!(Math.min(Math.abs(o),Math.abs(u))>=s));)if(e.x=a+o,e.y=c+u,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>t[0]||e.y+e.y1>t[1])&&(!r||!f(e,n,t[0]))&&(!r||l(e,r))){for(var d=e.sprite,g=e.width>>5,b=t[0]>>5,y=e.x-(g<<4),j=127&y,O=32-j,_=e.y1-e.y0,m=void 0,w=(e.y+e.y0)*b+(y>>5),x=0;x<_;x++){m=0;for(var M=0;M<=g;M++)n[w+M]|=m<<O|(M<g?(m=d[x*g+M])>>>j:0);w+=b}return delete e.sprite,!0}return!1}(u,e,j)&&(h.push(e),j?C.hasImage||s(j,e):j=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=t[0]>>1,e.y-=t[1]>>1)}C._tags=h,C._bounds=j}(),C},createMask:function(n){var e=document.createElement("canvas"),i=t[0],o=t[1],u=i>>5,a=p((i>>5)*o);e.width=i,e.height=o;var c=e.getContext("2d");c.drawImage(n,0,0,n.width,n.height,0,0,i,o);for(var f=c.getImageData(0,0,i,o).data,s=0;s<o;s++)for(var l=0;l<i;l++){var v=s*i+l<<2;a[u*s+(l>>5)]|=f[v]>=250&&f[v+1]>=250&&f[v+2]>=250?1<<31-l%32:0}C.board=a,C.hasImage=!0},timeInterval:function(t){return arguments.length?(T=null==t?1/0:t,C):T},words:function(t){return arguments.length?(M=t,C):M},size:function(n){return arguments.length?(t=[+n[0],+n[1]],C):t},font:function(t){return arguments.length?(g=d(t),C):g},fontStyle:function(t){return arguments.length?(_=d(t),C):_},fontWeight:function(t){return arguments.length?(m=d(t),C):m},rotate:function(t){return arguments.length?(w=d(t),C):w},text:function(t){return arguments.length?(n=d(t),C):n},spiral:function(t){return arguments.length?(E=j[t]||t,C):E},fontSize:function(t){return arguments.length?(O=d(t),C):O},padding:function(t){return arguments.length?(x=d(t),C):x},random:function(t){return arguments.length?(S=t,C):S}};return C}},function(t,n,e){var r=e(3),i=e(9),o=e(9),u=e(24),a=e(533),c=e(32),f=e(19).sum,s=e(15),l=e(2).registerTransform,h=e(7).getFields,p={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};l("waffle",function(t,n){n=r({},p,n);var e=h(n),l=e[0],v=e[1],d=n.as,g=d[0],b=d[1],y=n.groupBy,j=s(t.rows,y),O=u(j),_=n.size,m=_[0],x=n.maxCount,E=_[1]/O.length,M=n.rows,T=n.gapRatio,S=[],k=n.scale,C=0,P=0;o(j,function(t){var n=f(a(t,function(t){return t[v]})),e=Math.ceil(n*k/M);n*k>x&&(k=x/n,e=Math.ceil(n*k/M)),P=m/e}),o(j,function(t){var n=[C*E,(C+1)*E],e=(n[1]-n[0])*(1-T)/M,r=0,o=0;i(t,function(t){for(var u=Math.round(t[v]*k),a=0;a<u;a++){o===M&&(o=0,r++);var f=c(t,[l,v].concat(y));f[g]=r*P+P/2,f[b]=o*e+e/2+n[0],f._wStep=P,f._hStep=e,o++,S.push(f)}}),C+=1}),t.rows=S})},function(t,n,e){var r=e(9),i=e(91);t.exports=function(t,n){if(!i(t))return t;var e=[];return r(t,function(t,r){e.push(n(t,r))}),e}},function(t,n,e){function r(t,n){n=i({},d,n);var e=p(n);if(!o(e)||2!==e.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var r=n.as,f=r[0],h=r[1],b=r[2];if(!c(f)||!c(h)||!c(b))throw new TypeError("invalid as: must be an array of 3 strings!");var y=n.method;if(c(y)){if(-1===g.indexOf(y))throw new TypeError("invalid method: "+y+". Must be one of "+g.join(", "));y=l[y]}if(!u(y))throw new TypeError("invalid method: kernel method must be a function!");var j=e[0],O=e[1],_=n.extent,m=_[0],w=_[1];o(m)&&o(w)||(m=t.range(j),w=t.range(O));var x=n.bandwidth,E=x[0],M=x[1];(!a(E)||E<=0||!a(M)||M<=0)&&(E=v(t.getColumn(j)),M=v(t.getColumn(O)));for(var T=s(m,E),S=s(w,M),k=t.rows.length,C=[],P=0;P<T.length;P++)for(var N=0;N<S.length;N++){for(var R=0,B=T[P],A=S[N],I=0;I<k;I++)R+=y((B-t.rows[I][j])/E)*y((A-t.rows[I][O])/M);var L=1/(k*E*M)*R,z={};z[f]=B,z[h]=A,z[b]=L,C.push(z)}t.rows=C}var i=e(3),o=e(6),u=e(11),a=e(56),c=e(10),f=e(24),s=e(57),l=e(92),h=e(2).registerTransform,p=e(7).getFields,v=e(58).silverman,d={as:["x","y","z"],method:"gaussian",extent:[],bandwidth:[]},g=f(l);h("kernel-smooth.density",r),h("kernel.density",r),t.exports={KERNEL_METHODS:g}},function(t,n,e){function r(t){return function(n){return u(n)?n.map(function(n){return t(n)}):t(n)}}function i(t,n){n=o({},y,n);var e=g(n);if(!u(e)||1!==e.length&&2!==e.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var i=n.as,l=i[0],d=i[1];if(!s(l)||!s(d))throw new TypeError("invalid as: must be an array of 2 strings!");var O=n.method;if(s(O)){if(-1===j.indexOf(O))throw new TypeError("invalid method: "+O+". Must be one of "+j.join(", "));O=v[O]}if(!a(O))throw new TypeError("invalid method: kernel method must be a function!");var _=e[0],m=e[1],w=t.getColumn(_),x=n.extent;u(x)||(x=t.range(_));var E=n.bandwidth;(!f(E)||E<=0)&&(E=b(w));var M,T=p(x,E),S=w.length,k=(function(t,n,e,r){return t((r-e)/n)}).bind(null,O,E);if(c(m))M=r(function(t){var n=w.map(function(n){return k(t,n)}),e=h(n),r=S*E;return e&&r?e/r:0});else{var C=t.getColumn(m);M=r(function(t){var n=w.map(function(n){return k(t,n)}),e=h(n.map(function(t,n){return t*C[n]})),r=h(n);return e&&r?e/r:0})}var P=T.map(function(t){var n={};return n[l]=t,n[d]=M(t),n});t.rows=P}var o=e(3),u=e(6),a=e(11),c=e(77),f=e(56),s=e(10),l=e(24),h=e(19).sum,p=e(57),v=e(92),d=e(2).registerTransform,g=e(7).getFields,b=e(58).silverman,y={as:["x","y"],method:"gaussian"},j=l(v);d("kernel-smooth.regression",i),d("kernel.regression",i),t.exports={KERNEL_METHODS:j}}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Slider=e():t.Slider=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){var n=i(1);window&&!window.G2&&console.err("Please load the G2 script first!"),t.exports=n},function(t,e,i){var n=i(2),a=window&&window.G2,s=a.Chart,r=a.Util,o=a.Global,l=a.G.Canvas,d=r.DomUtil,g=function(t){return"number"==typeof t},u=function(){function t(t){this._initProps(),r.deepMix(this,t);var e=this.container;if(!e)throw new Error("Please specify the container for the Slider!");this.domContainer=r.isString(e)?document.getElementById(e):e,this.handleStyle=r.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",r.wrapBehavior(this,"_initForceFitEvent"))}var e=t.prototype;return e._initProps=function(){this.height=26,this.width="auto",this.padding=o.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},e._initForceFitEvent=function(){var t=setTimeout(r.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},e.forceFit=function(){if(this&&!this.destroyed){var t=d.getWidth(this.domContainer);if(t!==this.domWidth){var i=this.canvas;i.changeSize(t,this.height),this.bgChart&&this.bgChart.changeWidth(t),i.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),i.draw()}}},e._initWidth=function(){var t;t="auto"===this.width?d.getWidth(this.domContainer):this.width,this.domWidth=t;var e=r.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=t-e[1]-e[3],this.plotPadding=e[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-e[0]-e[2],this.plotPadding=e[0])},e.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},e.changeData=function(t){this.data=t,this.repaint()},e.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var t=this.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",r.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},e.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},e.repaint=function(){this.clear(),this.render()},e._initCanvas=function(){var i=new l({width:this.domWidth,height:this.height,containerDOM:this.domContainer,capture:!1}),n=i.get("el");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.zIndex=3,this.canvas=i},e._initBackground=function(){var t,e=this.data,i=this.xAxis,n=this.yAxis,a=r.deepMix(((t={})[""+i]={range:[0,1]},t),this.scales);if(!e)throw new Error("Please specify the data!");if(!i)throw new Error("Please specify the xAxis!");if(!n)throw new Error("Please specify the yAxis!");var h=this.backgroundChart,o=h.type,l=h.color;r.isArray(o)||(o=[o]);var d=r.toAllPadding(this.padding),g=new s({container:this.container,width:this.domWidth,height:this.height,padding:[0,d[1],0,d[3]],animate:!1});g.source(e),g.scale(a),g.axis(!1),g.tooltip(!1),g.legend(!1),r.each(o,function(t){g[t]().position(i+"*"+n).color(l).opacity(1)}),g.render(),this.bgChart=g,this.scale="horizontal"===this.layout?g.getXScale():g.getYScales()[0],"vertical"===this.layout&&g.destroy()},e._initRange=function(){var t=this.startRadio,e=this.endRadio,i=this.start,n=this.end,a=this.scale,s=0,r=1;g(t)?s=t:i&&(s=a.scale(a.translate(i))),g(e)?r=e:n&&(r=a.scale(a.translate(n)));var h=this.minSpan,o=this.maxSpan,l=0;if("time"===a.type||"timeCat"===a.type){var d=a.values;l=d[d.length-1]-d[0]}else a.isLinear&&(l=a.max-a.min);l&&h&&(this.minRange=h/l*100),l&&o&&(this.maxRange=o/l*100);var c=[100*s,100*r];return this.range=c,c},e._getHandleValue=function(t){var e=this.range,n=e[1]/100,a=this.scale;return"min"===t?this.start?this.start:a.invert(e[0]/100):this.end?this.end:a.invert(n)},e._initSlider=function(){var t=this.canvas,e=this._initRange(),i=this.scale,a=t.addGroup(n,{middleAttr:this.fillerStyle,range:e,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:i.getText(this._getHandleValue("min")),maxText:i.getText(this._getHandleValue("max"))});"horizontal"===this.layout?a.translate(this.plotPadding,0):"vertical"===this.layout&&a.translate(0,this.plotPadding),this.rangeElement=a},e._bindEvent=function(){var t=this;t.rangeElement.on("sliderchange",function(e){var i=e.range;t._updateElement(i[0]/100,i[1]/100)})},e._updateElement=function(t,e){var i=this.scale,n=this.rangeElement,a=n.get("minTextElement"),s=n.get("maxTextElement"),r=i.invert(t),h=i.invert(e),o=i.getText(r),l=i.getText(h);a.attr("text",o),s.attr("text",l),this.start=r,this.end=h,this.onChange&&this.onChange({startText:o,endText:l,startValue:r,endValue:h,startRadio:t,endRadio:e})},t}();t.exports=u},function(t,e){var n=window&&window.G2,a=n.Util,r=a.DomUtil,h=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(e,t);var n=e.prototype;return n.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},n._initHandle=function(t){var e,i,n,s=this.addGroup(),r=this.get("layout"),h=this.get("handleStyle"),o=h.img,l=h.width,d=h.height;if("horizontal"===r){var g=h.width;i=s.addShape("Image",{attrs:{x:-g/2,y:0,width:g,height:d,img:o,cursor:n="ew-resize"}}),e=s.addShape("Text",{attrs:a.mix({x:"min"===t?-(g/2+5):g/2+5,y:d/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:this.get("min"===t?"minText":"maxText"),cursor:n},this.get("textStyle"))})}else i=s.addShape("Image",{attrs:{x:0,y:-d/2,width:l,height:d,img:o,cursor:n="ns-resize"}}),e=s.addShape("Text",{attrs:a.mix({x:l/2,y:"min"===t?d/2+5:-(d/2+5),textAlign:"center",textBaseline:"middle",text:this.get("min"===t?"minText":"maxText"),cursor:n},this.get("textStyle"))});return this.set(t+"TextElement",e),this.set(t+"IconElement",i),s},n._initSliderBackground=function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:a.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},n._beforeRenderUI=function(){var t=this._initSliderBackground(),e=this._initHandle("min"),i=this._initHandle("max"),n=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",n),this.set("minHandleElement",e),this.set("maxHandleElement",i),this.set("backgroundElement",t),t.set("zIndex",0),n.set("zIndex",1),e.set("zIndex",2),i.set("zIndex",2),n.attr("cursor","move"),this.sort()},n._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},n._transform=function(t){var e=this.get("range"),i=e[0]/100,n=e[1]/100,a=this.get("width"),s=this.get("height"),r=this.get("minHandleElement"),h=this.get("maxHandleElement"),o=this.get("middleHandleElement");r.resetMatrix?(r.resetMatrix(),h.resetMatrix()):(r.initTransform(),h.initTransform()),"horizontal"===t?(o.attr({x:a*i,y:0,width:(n-i)*a,height:s}),r.translate(i*a,0),h.translate(n*a,0)):(o.attr({x:0,y:s*(1-n),width:a,height:(n-i)*s}),r.translate(0,(1-i)*s),h.translate(0,(1-n)*s))},n._renderHorizontal=function(){this._transform("horizontal")},n._renderVertical=function(){this._transform("vertical")},n._bindUI=function(){this.on("mousedown",a.wrapBehavior(this,"_onMouseDown"))},n._isElement=function(t,e){var i=this.get(e);return t===i||!!i.isGroup&&i.get("children").indexOf(t)>-1},n._getRange=function(t,e){var i=t+e;return(i=i>100?100:i)<0?0:i},n._limitRange=function(t,e,i){i[0]=this._getRange(t,i[0]),i[1]=i[0]+e,i[1]>100&&(i[1]=100,i[0]=i[1]-e)},n._updateStatus=function(t,e){var i=this.get("x"===t?"width":"height");t=a.upperFirst(t);var s=this.get("range"),r=this.get("page"+t),h=this.get("currentTarget"),o=this.get("rangeStash"),l="vertical"===this.get("layout")?-1:1,d=e["page"+t],g=(d-r)/i*100*l,u=this.get("minRange"),c=this.get("maxRange");s[1]<=s[0]?(this._isElement(h,"minHandleElement")||this._isElement(h,"maxHandleElement"))&&(s[0]=this._getRange(g,s[0]),s[1]=this._getRange(g,s[0])):(this._isElement(h,"minHandleElement")&&(s[0]=this._getRange(g,s[0]),u&&s[1]-s[0]<=u&&this._limitRange(g,u,s),c&&s[1]-s[0]>=c&&this._limitRange(g,c,s)),this._isElement(h,"maxHandleElement")&&(s[1]=this._getRange(g,s[1]),u&&s[1]-s[0]<=u&&this._limitRange(g,u,s),c&&s[1]-s[0]>=c&&this._limitRange(g,c,s))),this._isElement(h,"middleHandleElement")&&this._limitRange(g,o[1]-o[0],s),this.emit("sliderchange",{range:s}),this.set("page"+t,d),this._renderUI(),this.get("canvas").draw()},n._onMouseDown=function(t){var e=t.currentTarget,i=t.event,n=this.get("range");i.stopPropagation(),i.preventDefault(),this.set("pageX",i.pageX),this.set("pageY",i.pageY),this.set("currentTarget",e),this.set("rangeStash",[n[0],n[1]]),this._bindCanvasEvents()},n._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=r.addEventListener(t,"mousemove",a.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=r.addEventListener(t,"mouseup",a.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=r.addEventListener(t,"mouseleave",a.wrapBehavior(this,"_onCanvasMouseUp"))},n._onCanvasMouseMove=function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},n._onCanvasMouseUp=function(){this._removeDocumentEvents()},n._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},e}(n.G.Group);t.exports=h}])}),function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Ajv=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";var Cache=module.exports=function(){this._cache={}};Cache.prototype.put=function(key,value){this._cache[key]=value},Cache.prototype.get=function(key){return this._cache[key]},Cache.prototype.del=function(key){delete this._cache[key]},Cache.prototype.clear=function(){this._cache={}}},{}],2:[function(require,module,exports){"use strict";var MissingRefError=require("./error_classes").MissingRef;module.exports=function compileAsync(schema,meta,callback){var self=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof meta&&(callback=meta,meta=void 0);var p=loadMetaSchemaOf(schema).then(function(){var schemaObj=self._addSchema(schema,void 0,meta);return schemaObj.validate||function _compileAsync(schemaObj){try{return self._compile(schemaObj)}catch(e){if(e instanceof MissingRefError)return function(e){var ref=e.missingSchema;if(added(ref))throw new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved");var schemaPromise=self._loadingSchemas[ref];return schemaPromise||(schemaPromise=self._loadingSchemas[ref]=self._opts.loadSchema(ref)).then(removePromise,removePromise),schemaPromise.then(function(sch){if(!added(ref))return loadMetaSchemaOf(sch).then(function(){added(ref)||self.addSchema(sch,ref,void 0,meta)})}).then(function(){return _compileAsync(schemaObj)});function removePromise(){delete self._loadingSchemas[ref]}function added(ref){return self._refs[ref]||self._schemas[ref]}}(e);throw e}}(schemaObj)});return callback&&p.then(function(v){callback(null,v)},callback),p;function loadMetaSchemaOf(sch){var $schema=sch.$schema;return $schema&&!self.getSchema($schema)?compileAsync.call(self,{$ref:$schema},!0):Promise.resolve()}}},{"./error_classes":3}],3:[function(require,module,exports){"use strict";var resolve=require("./resolve");function MissingRefError(baseId,ref,message){this.message=message||MissingRefError.message(baseId,ref),this.missingRef=resolve.url(baseId,ref),this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(Subclass){return Subclass.prototype=Object.create(Error.prototype),Subclass.prototype.constructor=Subclass,Subclass}module.exports={Validation:errorSubclass(function(errors){this.message="validation failed",this.errors=errors,this.ajv=this.validation=!0}),MissingRef:errorSubclass(MissingRefError)},MissingRefError.message=function(baseId,ref){return"can't resolve reference "+ref+" from id "+baseId}},{"./resolve":6}],4:[function(require,module,exports){"use strict";var util=require("./util"),DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31],TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,URITEMPLATE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,URL=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,JSON_POINTER_URI_FRAGMENT=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function formats(mode){return util.copy(formats[mode="full"==mode?"full":"fast"])}function date(str){var matches=str.match(DATE);if(!matches)return!1;var month=+matches[2],day=+matches[3];return month>=1&&month<=12&&day>=1&&day<=(2==month&&function(year){return year%4==0&&(year%100!=0||year%400==0)}(+matches[1])?29:DAYS[month])}function time(str,full){var matches=str.match(TIME);if(!matches)return!1;var hour=matches[1],minute=matches[2],second=matches[3];return(hour<=23&&minute<=59&&second<=59||23==hour&&59==minute&&60==second)&&(!full||matches[5])}module.exports=formats,formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER},formats.full={date:date,time:time,"date-time":function(str){var dateTime=str.split(DATE_TIME_SEPARATOR);return 2==dateTime.length&&date(dateTime[0])&&time(dateTime[1],!0)},uri:function(str){return NOT_URI_FRAGMENT.test(str)&&URI.test(str)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(str){return str.length<=255&&HOSTNAME.test(str)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER};var DATE_TIME_SEPARATOR=/t|\s/i,NOT_URI_FRAGMENT=/\/|:/,Z_ANCHOR=/[^\\]\\Z/;function regex(str){if(Z_ANCHOR.test(str))return!1;try{return new RegExp(str),!0}catch(e){return!1}}},{"./util":10}],5:[function(require,module,exports){"use strict";var resolve=require("./resolve"),util=require("./util"),errorClasses=require("./error_classes"),stableStringify=require("fast-json-stable-stringify"),validateGenerator=require("../dotjs/validate"),ucs2length=util.ucs2length,equal=require("fast-deep-equal"),ValidationError=errorClasses.Validation;function checkCompiling(schema,root,baseId){var index=compIndex.call(this,schema,root,baseId);return index>=0?{index:index,compiling:!0}:(this._compilations[index=this._compilations.length]={schema:schema,root:root,baseId:baseId},{index:index,compiling:!1})}function endCompiling(schema,root,baseId){var i=compIndex.call(this,schema,root,baseId);i>=0&&this._compilations.splice(i,1)}function compIndex(schema,root,baseId){for(var i=0;i<this._compilations.length;i++){var c=this._compilations[i];if(c.schema==schema&&c.root==root&&c.baseId==baseId)return i}return-1}function patternCode(i,patterns){return"var pattern"+i+" = new RegExp("+util.toQuotedString(patterns[i])+");"}function defaultCode(i){return"var default"+i+" = defaults["+i+"];"}function refValCode(i,refVal){return void 0===refVal[i]?"":"var refVal"+i+" = refVal["+i+"];"}function customRuleCode(i){return"var customRule"+i+" = customRules["+i+"];"}function vars(arr,statement){if(!arr.length)return"";for(var code="",i=0;i<arr.length;i++)code+=statement(i,arr);return code}module.exports=function compile(schema,root,localRefs,baseId){var self=this,opts=this._opts,refVal=[void 0],refs={},patterns=[],patternsHash={},defaults=[],defaultsHash={},customRules=[],c=checkCompiling.call(this,schema,root=root||{schema:schema,refVal:refVal,refs:refs},baseId),compilation=this._compilations[c.index];if(c.compiling)return compilation.callValidate=function callValidate(){var validate=compilation.validate,result=validate.apply(this,arguments);return callValidate.errors=validate.errors,result};var formats=this._formats,RULES=this.RULES;try{var v=localCompile(schema,root,localRefs,baseId);compilation.validate=v;var cv=compilation.callValidate;return cv&&(cv.schema=v.schema,cv.errors=null,cv.refs=v.refs,cv.refVal=v.refVal,cv.root=v.root,cv.$async=v.$async,opts.sourceCode&&(cv.source=v.source)),v}finally{endCompiling.call(this,schema,root,baseId)}function localCompile(_schema,_root,localRefs,baseId){var isRoot=!_root||_root&&_root.schema==_schema;if(_root.schema!=root.schema)return compile.call(self,_schema,_root,localRefs,baseId);var validate,$async=!0===_schema.$async,sourceCode=validateGenerator({isTop:!0,schema:_schema,isRoot:isRoot,baseId:baseId,root:_root,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:errorClasses.MissingRef,RULES:RULES,validate:validateGenerator,util:util,resolve:resolve,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:opts,formats:formats,logger:self.logger,self:self});sourceCode=vars(refVal,refValCode)+vars(patterns,patternCode)+vars(defaults,defaultCode)+vars(customRules,customRuleCode)+sourceCode,opts.processCode&&(sourceCode=opts.processCode(sourceCode));try{validate=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",sourceCode)(self,RULES,formats,root,refVal,defaults,customRules,equal,ucs2length,ValidationError),refVal[0]=validate}catch(e){throw self.logger.error("Error compiling schema, function code:",sourceCode),e}return validate.schema=_schema,validate.errors=null,validate.refs=refs,validate.refVal=refVal,validate.root=isRoot?validate:_root,$async&&(validate.$async=!0),!0===opts.sourceCode&&(validate.source={code:sourceCode,patterns:patterns,defaults:defaults}),validate}function resolveRef(baseId,ref,isRoot){ref=resolve.url(baseId,ref);var _refVal,refCode,refIndex=refs[ref];if(void 0!==refIndex)return resolvedRef(_refVal=refVal[refIndex],refCode="refVal["+refIndex+"]");if(!isRoot&&root.refs){var rootRefId=root.refs[ref];if(void 0!==rootRefId)return resolvedRef(_refVal=root.refVal[rootRefId],refCode=addLocalRef(ref,_refVal))}refCode=addLocalRef(ref);var v=resolve.call(self,localCompile,root,ref);if(void 0===v){var localSchema=localRefs&&localRefs[ref];localSchema&&(v=resolve.inlineRef(localSchema,opts.inlineRefs)?localSchema:compile.call(self,localSchema,root,localRefs,baseId))}if(void 0!==v)return function(ref,v){refVal[refs[ref]]=v}(ref,v),resolvedRef(v,refCode);!function(ref){delete refs[ref]}(ref)}function addLocalRef(ref,v){var refId=refVal.length;return refVal[refId]=v,refs[ref]=refId,"refVal"+refId}function resolvedRef(refVal,code){return"object"==typeof refVal||"boolean"==typeof refVal?{code:code,schema:refVal,inline:!0}:{code:code,$async:refVal&&!!refVal.$async}}function usePattern(regexStr){var index=patternsHash[regexStr];return void 0===index&&(index=patternsHash[regexStr]=patterns.length,patterns[index]=regexStr),"pattern"+index}function useDefault(value){switch(typeof value){case"boolean":case"number":return""+value;case"string":return util.toQuotedString(value);case"object":if(null===value)return"null";var valueStr=stableStringify(value),index=defaultsHash[valueStr];return void 0===index&&(index=defaultsHash[valueStr]=defaults.length,defaults[index]=value),"default"+index}}function useCustomRule(rule,schema,parentSchema,it){if(!1!==self._opts.validateSchema){var deps=rule.definition.dependencies;if(deps&&!deps.every(function(keyword){return Object.prototype.hasOwnProperty.call(parentSchema,keyword)}))throw new Error("parent schema must have all required keywords: "+deps.join(","));var validateSchema=rule.definition.validateSchema;if(validateSchema&&!validateSchema(schema)){var message="keyword schema is invalid: "+self.errorsText(validateSchema.errors);if("log"!=self._opts.validateSchema)throw new Error(message);self.logger.error(message)}}var validate,compile=rule.definition.compile,inline=rule.definition.inline,macro=rule.definition.macro;if(compile)validate=compile.call(self,schema,parentSchema,it);else if(macro)validate=macro.call(self,schema,parentSchema,it),!1!==opts.validateSchema&&self.validateSchema(validate,!0);else if(inline)validate=inline.call(self,it,rule.keyword,schema,parentSchema);else if(!(validate=rule.definition.validate))return;if(void 0===validate)throw new Error('custom keyword "'+rule.keyword+'"failed to compile');var index=customRules.length;return customRules[index]=validate,{code:"customRule"+index,validate:validate}}}},{"../dotjs/validate":38,"./error_classes":3,"./resolve":6,"./util":10,"fast-deep-equal":42,"fast-json-stable-stringify":43}],6:[function(require,module,exports){"use strict";var URI=require("uri-js"),equal=require("fast-deep-equal"),util=require("./util"),SchemaObject=require("./schema_obj"),traverse=require("json-schema-traverse");function resolve(compile,root,ref){var refVal=this._refs[ref];if("string"==typeof refVal){if(!this._refs[refVal])return resolve.call(this,compile,root,refVal);refVal=this._refs[refVal]}if((refVal=refVal||this._schemas[ref])instanceof SchemaObject)return inlineRef(refVal.schema,this._opts.inlineRefs)?refVal.schema:refVal.validate||this._compile(refVal);var schema,v,baseId,res=resolveSchema.call(this,root,ref);return res&&(schema=res.schema,root=res.root,baseId=res.baseId),schema instanceof SchemaObject?v=schema.validate||compile.call(this,schema.schema,root,void 0,baseId):void 0!==schema&&(v=inlineRef(schema,this._opts.inlineRefs)?schema:compile.call(this,schema,root,void 0,baseId)),v}function resolveSchema(root,ref){var p=URI.parse(ref),refPath=_getFullPath(p),baseId=getFullPath(this._getId(root.schema));if(0===Object.keys(root.schema).length||refPath!==baseId){var id=normalizeId(refPath),refVal=this._refs[id];if("string"==typeof refVal)return resolveRecursive.call(this,root,refVal,p);if(refVal instanceof SchemaObject)refVal.validate||this._compile(refVal),root=refVal;else{if(!((refVal=this._schemas[id])instanceof SchemaObject))return;if(refVal.validate||this._compile(refVal),id==normalizeId(ref))return{schema:refVal,root:root,baseId:baseId};root=refVal}if(!root.schema)return;baseId=getFullPath(this._getId(root.schema))}return getJsonPointer.call(this,p,baseId,root.schema,root)}function resolveRecursive(root,ref,parsedRef){var res=resolveSchema.call(this,root,ref);if(res){var schema=res.schema,baseId=res.baseId;root=res.root;var id=this._getId(schema);return id&&(baseId=resolveUrl(baseId,id)),getJsonPointer.call(this,parsedRef,baseId,schema,root)}}module.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=function(schema){var schemaId=normalizeId(this._getId(schema)),baseIds={"":schemaId},fullPaths={"":getFullPath(schemaId,!1)},localRefs={},self=this;return traverse(schema,{allKeys:!0},function(sch,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(""!==jsonPtr){var id=self._getId(sch),baseId=baseIds[parentJsonPtr],fullPath=fullPaths[parentJsonPtr]+"/"+parentKeyword;if(void 0!==keyIndex&&(fullPath+="/"+("number"==typeof keyIndex?keyIndex:util.escapeFragment(keyIndex))),"string"==typeof id){id=baseId=normalizeId(baseId?URI.resolve(baseId,id):id);var refVal=self._refs[id];if("string"==typeof refVal&&(refVal=self._refs[refVal]),refVal&&refVal.schema){if(!equal(sch,refVal.schema))throw new Error('id "'+id+'" resolves to more than one schema')}else if(id!=normalizeId(fullPath))if("#"==id[0]){if(localRefs[id]&&!equal(sch,localRefs[id]))throw new Error('id "'+id+'" resolves to more than one schema');localRefs[id]=sch}else self._refs[id]=fullPath}baseIds[jsonPtr]=baseId,fullPaths[jsonPtr]=fullPath}}),localRefs},resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(parsedRef,baseId,schema,root){if(parsedRef.fragment=parsedRef.fragment||"","/"==parsedRef.fragment.slice(0,1)){for(var parts=parsedRef.fragment.split("/"),i=1;i<parts.length;i++){var part=parts[i];if(part){if(void 0===(schema=schema[part=util.unescapeFragment(part)]))break;var id;if(!PREVENT_SCOPE_CHANGE[part]&&((id=this._getId(schema))&&(baseId=resolveUrl(baseId,id)),schema.$ref)){var $ref=resolveUrl(baseId,schema.$ref),res=resolveSchema.call(this,root,$ref);res&&(schema=res.schema,root=res.root,baseId=res.baseId)}}}return void 0!==schema&&schema!==root.schema?{schema:schema,root:root,baseId:baseId}:void 0}}var SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(schema,limit){return!1!==limit&&(void 0===limit||!0===limit?function checkNoRef(schema){var item;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)if("object"==typeof(item=schema[i])&&!checkNoRef(item))return!1}else for(var key in schema){if("$ref"==key)return!1;if("object"==typeof(item=schema[key])&&!checkNoRef(item))return!1}return!0}(schema):limit?function countKeys(schema){var item,count=0;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)if("object"==typeof(item=schema[i])&&(count+=countKeys(item)),count==1/0)return 1/0}else for(var key in schema){if("$ref"==key)return 1/0;if(SIMPLE_INLINED[key])count++;else if("object"==typeof(item=schema[key])&&(count+=countKeys(item)+1),count==1/0)return 1/0}return count}(schema)<=limit:void 0)}function getFullPath(id,normalize){return!1!==normalize&&(id=normalizeId(id)),_getFullPath(URI.parse(id))}function _getFullPath(p){return URI.serialize(p).split("#")[0]+"#"}var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(id){return id?id.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(baseId,id){return id=normalizeId(id),URI.resolve(baseId,id)}},{"./schema_obj":8,"./util":10,"fast-deep-equal":42,"json-schema-traverse":44,"uri-js":45}],7:[function(require,module,exports){"use strict";var ruleModules=require("../dotjs"),toHash=require("./util").toHash;module.exports=function(){var RULES=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],ALL=["type","$comment"];return RULES.all=toHash(ALL),RULES.types=toHash(["number","integer","string","array","object","boolean","null"]),RULES.forEach(function(group){group.rules=group.rules.map(function(keyword){var implKeywords;if("object"==typeof keyword){var key=Object.keys(keyword)[0];implKeywords=keyword[key],keyword=key,implKeywords.forEach(function(k){ALL.push(k),RULES.all[k]=!0})}return ALL.push(keyword),RULES.all[keyword]={keyword:keyword,code:ruleModules[keyword],implements:implKeywords}}),RULES.all.$comment={keyword:"$comment",code:ruleModules.$comment},group.type&&(RULES.types[group.type]=group)}),RULES.keywords=toHash(ALL.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),RULES.custom={},RULES}},{"../dotjs":27,"./util":10}],8:[function(require,module,exports){"use strict";var util=require("./util");module.exports=function(obj){util.copy(obj,this)}},{"./util":10}],9:[function(require,module,exports){"use strict";module.exports=function(str){for(var value,length=0,len=str.length,pos=0;pos<len;)length++,(value=str.charCodeAt(pos++))>=55296&&value<=56319&&pos<len&&56320==(64512&(value=str.charCodeAt(pos)))&&pos++;return length}},{}],10:[function(require,module,exports){"use strict";function checkDataType(dataType,data,negate){var EQUAL=negate?" !== ":" === ",AND=negate?" || ":" && ",OK=negate?"!":"",NOT=negate?"":"!";switch(dataType){case"null":return data+EQUAL+"null";case"array":return OK+"Array.isArray("+data+")";case"object":return"("+OK+data+AND+"typeof "+data+EQUAL+'"object"'+AND+NOT+"Array.isArray("+data+"))";case"integer":return"(typeof "+data+EQUAL+'"number"'+AND+NOT+"("+data+" % 1)"+AND+data+EQUAL+data+")";default:return"typeof "+data+EQUAL+'"'+dataType+'"'}}module.exports={copy:function(o,to){for(var key in to=to||{},o)to[key]=o[key];return to},checkDataType:checkDataType,checkDataTypes:function(dataTypes,data){switch(dataTypes.length){case 1:return checkDataType(dataTypes[0],data,!0);default:var code="",types=toHash(dataTypes);for(var t in types.array&&types.object&&(code=types.null?"(":"(!"+data+" || ",code+="typeof "+data+' !== "object")',delete types.null,delete types.array,delete types.object),types.number&&delete types.integer,types)code+=(code?" && ":"")+checkDataType(t,data,!0);return code}},coerceToTypes:function(optionCoerceTypes,dataTypes){if(Array.isArray(dataTypes)){for(var types=[],i=0;i<dataTypes.length;i++){var t=dataTypes[i];COERCE_TO_TYPES[t]?types[types.length]=t:"array"===optionCoerceTypes&&"array"===t&&(types[types.length]=t)}if(types.length)return types}else{if(COERCE_TO_TYPES[dataTypes])return[dataTypes];if("array"===optionCoerceTypes&&"array"===dataTypes)return["array"]}},toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:require("fast-deep-equal"),ucs2length:require("./ucs2length"),varOccurences:function(str,dataVar){var matches=str.match(new RegExp(dataVar+="[^0-9]","g"));return matches?matches.length:0},varReplace:function(str,dataVar,expr){return dataVar+="([^0-9])",expr=expr.replace(/\$/g,"$$$$"),str.replace(new RegExp(dataVar,"g"),expr+"$1")},cleanUpCode:function(out){return out.replace(EMPTY_ELSE,"").replace(EMPTY_IF_NO_ELSE,"").replace(EMPTY_IF_WITH_ELSE,"if (!($1))")},finalCleanUpCode:function(out,async){var matches=out.match(ERRORS_REGEXP);return matches&&2==matches.length&&(out=async?out.replace(REMOVE_ERRORS_ASYNC,"").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):out.replace(REMOVE_ERRORS,"").replace(RETURN_VALID,RETURN_TRUE)),(matches=out.match(ROOTDATA_REGEXP))&&3===matches.length?out.replace(REMOVE_ROOTDATA,""):out},schemaHasRules:function(schema,rules){if("boolean"==typeof schema)return!schema;for(var key in schema)if(rules[key])return!0},schemaHasRulesExcept:function(schema,rules,exceptKeyword){if("boolean"==typeof schema)return!schema&&"not"!=exceptKeyword;for(var key in schema)if(key!=exceptKeyword&&rules[key])return!0},schemaUnknownRules:function(schema,rules){if("boolean"!=typeof schema)for(var key in schema)if(!rules[key])return key},toQuotedString:toQuotedString,getPathExpr:function(currentPath,expr,jsonPointers,isNumber){return joinPaths(currentPath,jsonPointers?"'/' + "+expr+(isNumber?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):isNumber?"'[' + "+expr+" + ']'":"'[\\'' + "+expr+" + '\\']'")},getPath:function(currentPath,prop,jsonPointers){return joinPaths(currentPath,toQuotedString(jsonPointers?"/"+escapeJsonPointer(prop):getProperty(prop)))},getData:function($data,lvl,paths){var up,jsonPointer,data,matches;if(""===$data)return"rootData";if("/"==$data[0]){if(!JSON_POINTER.test($data))throw new Error("Invalid JSON-pointer: "+$data);jsonPointer=$data,data="rootData"}else{if(!(matches=$data.match(RELATIVE_JSON_POINTER)))throw new Error("Invalid JSON-pointer: "+$data);if(up=+matches[1],"#"==(jsonPointer=matches[2])){if(up>=lvl)throw new Error("Cannot access property/index "+up+" levels up, current level is "+lvl);return paths[lvl-up]}if(up>lvl)throw new Error("Cannot access data "+up+" levels up, current level is "+lvl);if(data="data"+(lvl-up||""),!jsonPointer)return data}for(var expr=data,segments=jsonPointer.split("/"),i=0;i<segments.length;i++){var segment=segments[i];segment&&(expr+=" && "+(data+=getProperty(unescapeJsonPointer(segment))))}return expr},unescapeFragment:function(str){return unescapeJsonPointer(decodeURIComponent(str))},unescapeJsonPointer:unescapeJsonPointer,escapeFragment:function(str){return encodeURIComponent(escapeJsonPointer(str))},escapeJsonPointer:escapeJsonPointer};var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]);function toHash(arr){for(var hash={},i=0;i<arr.length;i++)hash[arr[i]]=!0;return hash}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\/g;function getProperty(key){return"number"==typeof key?"["+key+"]":IDENTIFIER.test(key)?"."+key:"['"+escapeQuotes(key)+"']"}function escapeQuotes(str){return str.replace(SINGLE_QUOTE,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var EMPTY_ELSE=/else\s*{\s*}/g,EMPTY_IF_NO_ELSE=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,EMPTY_IF_WITH_ELSE=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID="return errors === 0;",RETURN_TRUE="validate.errors = null; return true;",RETURN_ASYNC=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,RETURN_DATA_ASYNC="return data;",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \(rootData === undefined\) rootData = data;/;function toQuotedString(str){return"'"+escapeQuotes(str)+"'"}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function joinPaths(a,b){return'""'==a?b:(a+" + "+b).replace(/' \+ '/g,"")}function escapeJsonPointer(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")}},{"./ucs2length":9,"fast-deep-equal":42}],11:[function(require,module,exports){"use strict";var KEYWORDS=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];module.exports=function(metaSchema,keywordsJsonPointers){for(var i=0;i<keywordsJsonPointers.length;i++){metaSchema=JSON.parse(JSON.stringify(metaSchema));var j,segments=keywordsJsonPointers[i].split("/"),keywords=metaSchema;for(j=1;j<segments.length;j++)keywords=keywords[segments[j]];for(j=0;j<KEYWORDS.length;j++){var key=KEYWORDS[j],schema=keywords[key];schema&&(keywords[key]={anyOf:[schema,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return metaSchema}},{}],12:[function(require,module,exports){"use strict";var metaSchema=require("./refs/json-schema-draft-07.json");module.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:metaSchema.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:metaSchema.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},{"./refs/json-schema-draft-07.json":41}],13:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $isMax="maximum"==$keyword,$exclusiveKeyword=$isMax?"exclusiveMaximum":"exclusiveMinimum",$schemaExcl=it.schema[$exclusiveKeyword],$isDataExcl=it.opts.$data&&$schemaExcl&&$schemaExcl.$data,$op=$isMax?"<":">",$notOp=$isMax?">":"<",$errorKeyword=void 0;if($isDataExcl){var $$outStack,$schemaValueExcl=it.util.getData($schemaExcl.$data,$dataLvl,it.dataPathArr),$exclusive="exclusive"+$lvl,$exclType="exclType"+$lvl,$exclIsNumber="exclIsNumber"+$lvl,$opStr="' + "+($opExpr="op"+$lvl)+" + '";out+=" var schemaExcl"+$lvl+" = "+$schemaValueExcl+"; ",$errorKeyword=$exclusiveKeyword,($$outStack=$$outStack||[]).push(out+=" var "+$exclusive+"; var "+$exclType+" = typeof "+($schemaValueExcl="schemaExcl"+$lvl)+"; if ("+$exclType+" != 'boolean' && "+$exclType+" != 'undefined' && "+$exclType+" != 'number') { "),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: '"+$exclusiveKeyword+" should be boolean' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$exclType+" == 'number' ? ( ("+$exclusive+" = "+$schemaValue+" === undefined || "+$schemaValueExcl+" "+$op+"= "+$schemaValue+") ? "+$data+" "+$notOp+"= "+$schemaValueExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) : ( ("+$exclusive+" = "+$schemaValueExcl+" === true) ? "+$data+" "+$notOp+"= "+$schemaValue+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !== "+$data+") { var op"+$lvl+" = "+$exclusive+" ? '"+$op+"' : '"+$op+"='; ",void 0===$schema&&($errorKeyword=$exclusiveKeyword,$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword,$schemaValue=$schemaValueExcl,$isData=$isDataExcl)}else if($opStr=$op,($exclIsNumber="number"==typeof $schemaExcl)&&$isData){var $opExpr="'"+$opStr+"'";out+=" if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" ( "+$schemaValue+" === undefined || "+$schemaExcl+" "+$op+"= "+$schemaValue+" ? "+$data+" "+$notOp+"= "+$schemaExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !== "+$data+") { "}else $exclIsNumber&&void 0===$schema?($exclusive=!0,$errorKeyword=$exclusiveKeyword,$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword,$schemaValue=$schemaExcl,$notOp+="="):($exclIsNumber&&($schemaValue=Math[$isMax?"min":"max"]($schemaExcl,$schema)),$schemaExcl===(!$exclIsNumber||$schemaValue)?($exclusive=!0,$errorKeyword=$exclusiveKeyword,$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword,$notOp+="="):($exclusive=!1,$opStr+="=")),$opExpr="'"+$opStr+"'",out+=" if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$data+" "+$notOp+" "+$schemaValue+" || "+$data+" !== "+$data+") { ";return $errorKeyword=$errorKeyword||$keyword,($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { comparison: "+$opExpr+", limit: "+$schemaValue+", exclusive: "+$exclusive+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be "+$opStr+" ",out+=$isData?"' + "+$schemaValue:$schemaValue+"'"),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",__err=out,out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { "),out}},{}],14:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || ");var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out+=" "+$data+".length "+("maxItems"==$keyword?">":"<")+" "+$schemaValue+") { "),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitItems")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have ",out+="maxItems"==$keyword?"more":"fewer",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" items' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],15:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=!1===it.opts.unicode?" "+$data+".length ":" ucs2length("+$data+") ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out+=" "+("maxLength"==$keyword?">":"<")+" "+$schemaValue+") { "),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitLength")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be ",out+="maxLength"==$keyword?"longer":"shorter",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" characters' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],16:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || ");var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out+=" Object.keys("+$data+").length "+("maxProperties"==$keyword?">":"<")+" "+$schemaValue+") { "),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitProperties")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have ",out+="maxProperties"==$keyword?"more":"fewer",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" properties' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],17:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$currentBaseId=$it.baseId,$allSchemasEmpty=!0,arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))&&($allSchemasEmpty=!1,$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"));return $breakOnError&&(out+=$allSchemasEmpty?" if (true) { ":" "+$closingBraces.slice(0,-1)+" "),it.util.cleanUpCode(out)}},{}],18:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level;if($schema.every(function($sch){return it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)})){var $currentBaseId=$it.baseId;out+=" var "+$errs+" = errors; var "+$valid+" = false;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$valid+" || "+$nextValid+"; if (!"+$valid+") { ",$closingBraces+="}";it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$closingBraces+" if (!"+$valid+") {   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should match some schema in anyOf' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(out+=it.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ",it.opts.allErrors&&(out+=" } "),out=it.util.cleanUpCode(out)}else $breakOnError&&(out+=" if (true) { ");return out}},{}],19:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$errSchemaPath=it.errSchemaPath+"/"+$keyword,$comment=it.util.toQuotedString(it.schema[$keyword]);return!0===it.opts.$comment?out+=" console.log("+$comment+");":"function"==typeof it.opts.$comment&&(out+=" self._opts.$comment("+$comment+", "+it.util.toQuotedString($errSchemaPath)+", validate.root.schema);"),out}},{}],20:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; "),$isData||(out+=" var schema"+$lvl+" = validate.schema"+$schemaPath+";");var $$outStack=$$outStack||[];$$outStack.push(out+="var "+$valid+" = equal("+$data+", schema"+$lvl+"); if (!"+$valid+") {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'const' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValue: schema"+$lvl+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be equal to constant' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }",$breakOnError&&(out+=" else { "),out}},{}],21:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level,$idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId,$nonEmptySchema=it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all);if(out+="var "+$errs+" = errors;var "+$valid+";",$nonEmptySchema){var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$nextValid+" = false; for (var "+$idx+" = 0; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" if ("+$nextValid+") break; }  ",it.compositeRule=$it.compositeRule=$wasComposite,out+="  if (!"+$nextValid+") {"}else out+=" if ("+$data+".length == 0) {";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should contain a valid item' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { ",$nonEmptySchema&&(out+="  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } "),it.opts.allErrors&&(out+=" } "),it.util.cleanUpCode(out)}},{}],22:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $errorKeyword,$schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $compile,$inline,$macro,$ruleValidate,$validateCode,$definition="definition"+$lvl,$rDef=this.definition,$closingBraces="";if($isData&&$rDef.$data){var $validateSchema=$rDef.validateSchema;out+=" var "+$definition+" = RULES.custom['"+$keyword+"'].definition; var "+($validateCode="keywordValidate"+$lvl)+" = "+$definition+".validate;"}else{if(!($ruleValidate=it.useCustomRule(this,$schema,it.schema,it)))return;$schemaValue="validate.schema"+$schemaPath,$validateCode=$ruleValidate.code,$compile=$rDef.compile,$inline=$rDef.inline,$macro=$rDef.macro}var $ruleErrs=$validateCode+".errors",$i="i"+$lvl,$ruleErr="ruleErr"+$lvl,$asyncKeyword=$rDef.async;if($asyncKeyword&&!it.async)throw new Error("async keyword in sync schema");if($inline||$macro||(out+=$ruleErrs+" = null;"),out+="var "+$errs+" = errors;var "+$valid+";",$isData&&$rDef.$data&&($closingBraces+="}",out+=" if ("+$schemaValue+" === undefined) { "+$valid+" = true; } else { ",$validateSchema&&($closingBraces+="}",out+=" "+$valid+" = "+$definition+".validateSchema("+$schemaValue+"); if ("+$valid+") { ")),$inline)out+=$rDef.statements?" "+$ruleValidate.validate+" ":" "+$valid+" = "+$ruleValidate.validate+"; ";else if($macro){var $it=it.util.copy(it);$closingBraces="",$it.level++;var $nextValid="valid"+$it.level;$it.schema=$ruleValidate.validate,$it.schemaPath="";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var $code=it.validate($it).replace(/validate\.schema/g,$validateCode);it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$code}else{($$outStack=$$outStack||[]).push(out),out="",out+="  "+$validateCode+".call( ",out+=it.opts.passContext?"this":"self",out+=$compile||!1===$rDef.schema?" , "+$data+" ":" , "+$schemaValue+" , "+$data+" , validate.schema"+it.schemaPath+" ",out+=" , (dataPath || '')",'""'!=it.errorPath&&(out+=" + "+it.errorPath);var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty",def_callRuleValidate=out+=" , "+$parentData+" , "+$parentDataProperty+" , rootData )  ";out=$$outStack.pop(),!1===$rDef.errors?(out+=" "+$valid+" = ",$asyncKeyword&&(out+="await "),out+=def_callRuleValidate+"; "):out+=$asyncKeyword?" var "+($ruleErrs="customErrors"+$lvl)+" = null; try { "+$valid+" = await "+def_callRuleValidate+"; } catch (e) { "+$valid+" = false; if (e instanceof ValidationError) "+$ruleErrs+" = e.errors; else throw e; } ":" "+$ruleErrs+" = null; "+$valid+" = "+def_callRuleValidate+"; "}if($rDef.modifying&&(out+=" if ("+$parentData+") "+$data+" = "+$parentData+"["+$parentDataProperty+"];"),out+=""+$closingBraces,$rDef.valid)$breakOnError&&(out+=" if (true) { ");else{var $$outStack;out+=" if ( ",void 0===$rDef.valid?(out+=" !",out+=$macro?""+$nextValid:""+$valid):out+=" "+!$rDef.valid+" ",$errorKeyword=this.keyword,($$outStack=$$outStack||[]).push(out+=") { "),($$outStack=$$outStack||[]).push(out=""),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+this.keyword+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop();var def_customError=out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";out=$$outStack.pop(),$inline?$rDef.errors?"full"!=$rDef.errors&&(out+="  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } "):!1===$rDef.errors?out+=" "+def_customError+" ":(out+=" if ("+$errs+" == errors) { "+def_customError+" } else {  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } } "):$macro?(out+="   var err =   ",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+this.keyword+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(out+=it.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===$rDef.errors?out+=" "+def_customError+" ":(out+=" if (Array.isArray("+$ruleErrs+")) { if (vErrors === null) vErrors = "+$ruleErrs+"; else vErrors = vErrors.concat("+$ruleErrs+"); errors = vErrors.length;  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+";  "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'";  ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } } else { "+def_customError+" } "),out+=" } ",$breakOnError&&(out+=" else { ")}return out}},{}],23:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$schemaDeps={},$propertyDeps={},$ownProperties=it.opts.ownProperties;for($property in $schema){var $sch=$schema[$property],$deps=Array.isArray($sch)?$propertyDeps:$schemaDeps;$deps[$property]=$sch}out+="var "+$errs+" = errors;";var $currentErrorPath=it.errorPath;for(var $property in out+="var missing"+$lvl+";",$propertyDeps)if(($deps=$propertyDeps[$property]).length){if(out+=" if ( "+$data+it.util.getProperty($property)+" !== undefined ",$ownProperties&&(out+=" && Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') "),$breakOnError){out+=" && ( ";var arr1=$deps;if(arr1)for(var $i=-1,l1=arr1.length-1;$i<l1;)$propertyKey=arr1[$i+=1],$i&&(out+=" || "),out+=" ( ( "+($useData=$data+($prop=it.util.getProperty($propertyKey)))+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) ";out+=")) {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,!0):$currentErrorPath+" + "+$propertyPath);var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes(1==$deps.length?$deps[0]:$deps.join(", "))+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have ",out+=1==$deps.length?"property "+it.util.escapeQuotes($deps[0]):"properties "+it.util.escapeQuotes($deps.join(", ")),out+=" when property "+it.util.escapeQuotes($property)+" is present' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{out+=" ) { ";var arr2=$deps;if(arr2)for(var $propertyKey,i2=-1,l2=arr2.length-1;i2<l2;){$propertyKey=arr2[i2+=1];var $prop=it.util.getProperty($propertyKey),$useData=($missingProperty=it.util.escapeQuotes($propertyKey),$data+$prop);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes(1==$deps.length?$deps[0]:$deps.join(", "))+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have ",out+=1==$deps.length?"property "+it.util.escapeQuotes($deps[0]):"properties "+it.util.escapeQuotes($deps.join(", ")),out+=" when property "+it.util.escapeQuotes($property)+" is present' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}out+=" }   ",$breakOnError&&($closingBraces+="}",out+=" else { ")}it.errorPath=$currentErrorPath;var $currentBaseId=$it.baseId;for(var $property in $schemaDeps)$sch=$schemaDeps[$property],(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))&&(out+=" "+$nextValid+" = true; if ( "+$data+it.util.getProperty($property)+" !== undefined ",$ownProperties&&(out+=" && Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') "),out+=") { ",$it.schema=$sch,$it.schemaPath=$schemaPath+it.util.getProperty($property),$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($property),out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"));return $breakOnError&&(out+="   "+$closingBraces+" if ("+$errs+" == errors) {"),it.util.cleanUpCode(out)}},{}],24:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ");var $i="i"+$lvl,$vSchema="schema"+$lvl;$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+";"),out+="var "+$valid+";",$isData&&(out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"),out+=$valid+" = false;for (var "+$i+"=0; "+$i+"<"+$vSchema+".length; "+$i+"++) if (equal("+$data+", "+$vSchema+"["+$i+"])) { "+$valid+" = true; break; }",$isData&&(out+="  }  ");var $$outStack=$$outStack||[];$$outStack.push(out+=" if (!"+$valid+") {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValues: schema"+$lvl+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be equal to one of the allowed values' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }",$breakOnError&&(out+=" else { "),out}},{}],25:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||"");if(!1===it.opts.format)return $breakOnError&&(out+=" if (true) { "),out;var $schemaValue,$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $unknownFormats=it.opts.unknownFormats,$allowUnknown=Array.isArray($unknownFormats);if($isData)out+=" var "+($format="format"+$lvl)+" = formats["+$schemaValue+"]; var "+($isObject="isObject"+$lvl)+" = typeof "+$format+" == 'object' && !("+$format+" instanceof RegExp) && "+$format+".validate; var "+($formatType="formatType"+$lvl)+" = "+$isObject+" && "+$format+".type || 'string'; if ("+$isObject+") { ",it.async&&(out+=" var async"+$lvl+" = "+$format+".async; "),out+=" "+$format+" = "+$format+".validate; } if (  ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "),out+=" (","ignore"!=$unknownFormats&&(out+=" ("+$schemaValue+" && !"+$format+" ",$allowUnknown&&(out+=" && self._opts.unknownFormats.indexOf("+$schemaValue+") == -1 "),out+=") || "),out+=" ("+$format+" && "+$formatType+" == '"+$ruleType+"' && !(typeof "+$format+" == 'function' ? ",out+=it.async?" (async"+$lvl+" ? await "+$format+"("+$data+") : "+$format+"("+$data+")) ":" "+$format+"("+$data+") ",out+=" : "+$format+".test("+$data+"))))) {";else{var $format;if(!($format=it.formats[$schema])){if("ignore"==$unknownFormats)return it.logger.warn('unknown format "'+$schema+'" ignored in schema at path "'+it.errSchemaPath+'"'),$breakOnError&&(out+=" if (true) { "),out;if($allowUnknown&&$unknownFormats.indexOf($schema)>=0)return $breakOnError&&(out+=" if (true) { "),out;throw new Error('unknown format "'+$schema+'" is used in schema at path "'+it.errSchemaPath+'"')}var $isObject,$formatType=($isObject="object"==typeof $format&&!($format instanceof RegExp)&&$format.validate)&&$format.type||"string";if($isObject){var $async=!0===$format.async;$format=$format.validate}if($formatType!=$ruleType)return $breakOnError&&(out+=" if (true) { "),out;if($async){if(!it.async)throw new Error("async format in sync schema");out+=" if (!(await "+($formatRef="formats"+it.util.getProperty($schema)+".validate")+"("+$data+"))) { "}else{out+=" if (! ";var $formatRef="formats"+it.util.getProperty($schema);$isObject&&($formatRef+=".validate"),out+="function"==typeof $format?" "+$formatRef+"("+$data+") ":" "+$formatRef+".test("+$data+") ",out+=") { "}}var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'format' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { format:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+="  } ",!1!==it.opts.messages&&(out+=" , message: 'should match format \"",out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { "),out}},{}],26:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level,$thenSch=it.schema.then,$elseSch=it.schema.else,$thenPresent=void 0!==$thenSch&&(it.opts.strictKeywords?"object"==typeof $thenSch&&Object.keys($thenSch).length>0:it.util.schemaHasRules($thenSch,it.RULES.all)),$elsePresent=void 0!==$elseSch&&(it.opts.strictKeywords?"object"==typeof $elseSch&&Object.keys($elseSch).length>0:it.util.schemaHasRules($elseSch,it.RULES.all)),$currentBaseId=$it.baseId;if($thenPresent||$elsePresent){var $ifClause;$it.createErrors=!1,$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$errs+" = errors; var "+$valid+" = true;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,$it.createErrors=!0,out+="  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }  ",it.compositeRule=$it.compositeRule=$wasComposite,$thenPresent?(out+=" if ("+$nextValid+") {  ",$it.schema=it.schema.then,$it.schemaPath=it.schemaPath+".then",$it.errSchemaPath=it.errSchemaPath+"/then",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$nextValid+"; ",$thenPresent&&$elsePresent?out+=" var "+($ifClause="ifClause"+$lvl)+" = 'then'; ":$ifClause="'then'",out+=" } ",$elsePresent&&(out+=" else { ")):out+=" if (!"+$nextValid+") { ",$elsePresent&&($it.schema=it.schema.else,$it.schemaPath=it.schemaPath+".else",$it.errSchemaPath=it.errSchemaPath+"/else",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$nextValid+"; ",$thenPresent&&$elsePresent?out+=" var "+($ifClause="ifClause"+$lvl)+" = 'else'; ":$ifClause="'else'",out+=" } "),out+=" if (!"+$valid+") {   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'if' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { failingKeyword: "+$ifClause+" } ",!1!==it.opts.messages&&(out+=" , message: 'should match \"' + "+$ifClause+" + '\" schema' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(out+=it.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),out+=" }   ",$breakOnError&&(out+=" else { "),out=it.util.cleanUpCode(out)}else $breakOnError&&(out+=" if (true) { ");return out}},{}],27:[function(require,module,exports){"use strict";module.exports={$ref:require("./ref"),allOf:require("./allOf"),anyOf:require("./anyOf"),$comment:require("./comment"),const:require("./const"),contains:require("./contains"),dependencies:require("./dependencies"),enum:require("./enum"),format:require("./format"),if:require("./if"),items:require("./items"),maximum:require("./_limit"),minimum:require("./_limit"),maxItems:require("./_limitItems"),minItems:require("./_limitItems"),maxLength:require("./_limitLength"),minLength:require("./_limitLength"),maxProperties:require("./_limitProperties"),minProperties:require("./_limitProperties"),multipleOf:require("./multipleOf"),not:require("./not"),oneOf:require("./oneOf"),pattern:require("./pattern"),properties:require("./properties"),propertyNames:require("./propertyNames"),required:require("./required"),uniqueItems:require("./uniqueItems"),validate:require("./validate")}},{"./_limit":13,"./_limitItems":14,"./_limitLength":15,"./_limitProperties":16,"./allOf":17,"./anyOf":18,"./comment":19,"./const":20,"./contains":21,"./dependencies":23,"./enum":24,"./format":25,"./if":26,"./items":28,"./multipleOf":29,"./not":30,"./oneOf":31,"./pattern":32,"./properties":33,"./propertyNames":34,"./ref":35,"./required":36,"./uniqueItems":37,"./validate":38}],28:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId;if(out+="var "+$errs+" = errors;var "+$valid+";",Array.isArray($schema)){var $additionalItems=it.schema.additionalItems;if(!1===$additionalItems){out+=" "+$valid+" = "+$data+".length <= "+$schema.length+"; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalItems";var $$outStack=$$outStack||[];$$outStack.push(out+="  if (!"+$valid+") {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schema.length+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have more than "+$schema.length+" items' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$errSchemaPath=$currErrSchemaPath,$breakOnError&&($closingBraces+="}",out+=" else { ")}var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)if($sch=arr1[$i+=1],it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" = true; if ("+$data+".length > "+$i+") { ";var $passData=$data+"["+$i+"]";$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,$it.errorPath=it.util.getPathExpr(it.errorPath,$i,it.opts.jsonPointers,!0),$it.dataPathArr[$dataNxt]=$i;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}"object"==typeof $additionalItems&&(it.opts.strictKeywords?"object"==typeof $additionalItems&&Object.keys($additionalItems).length>0:it.util.schemaHasRules($additionalItems,it.RULES.all))&&($it.schema=$additionalItems,$it.schemaPath=it.schemaPath+".additionalItems",$it.errSchemaPath=it.errSchemaPath+"/additionalItems",out+=" "+$nextValid+" = true; if ("+$data+".length > "+$schema.length+") {  for (var "+$idx+" = "+$schema.length+"; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0),$passData=$data+"["+$idx+"]",$it.dataPathArr[$dataNxt]=$idx,$code=it.validate($it),$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"))}else(it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all))&&($it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+="  for (var "+$idx+" = 0; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0),$passData=$data+"["+$idx+"]",$it.dataPathArr[$dataNxt]=$idx,$code=it.validate($it),$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" }");return $breakOnError&&(out+=" "+$closingBraces+" if ("+$errs+" == errors) {"),it.util.cleanUpCode(out)}},{}],29:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="var division"+$lvl+";if (",$isData&&(out+=" "+$schemaValue+" !== undefined && ( typeof "+$schemaValue+" != 'number' || "),out+=" (division"+$lvl+" = "+$data+" / "+$schemaValue+", ",out+=it.opts.multipleOfPrecision?" Math.abs(Math.round(division"+$lvl+") - division"+$lvl+") > 1e-"+it.opts.multipleOfPrecision+" ":" division"+$lvl+" !== parseInt(division"+$lvl+") ",out+=" ) ",$isData&&(out+="  )  ");var $$outStack=$$outStack||[];$$outStack.push(out+=" ) {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { multipleOf: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be multiple of ",out+=$isData?"' + "+$schemaValue:$schemaValue+"'"),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],30:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;if(it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$errs+" = errors;  ";var $allErrorsOption,$wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.createErrors=!1,$it.opts.allErrors&&($allErrorsOption=$it.opts.allErrors,$it.opts.allErrors=!1),out+=" "+it.validate($it)+" ",$it.createErrors=!0,$allErrorsOption&&($it.opts.allErrors=$allErrorsOption),it.compositeRule=$it.compositeRule=$wasComposite;var $$outStack=$$outStack||[];$$outStack.push(out+=" if ("+$nextValid+") {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'not' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be valid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ",it.opts.allErrors&&(out+=" } ")}else out+="  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'not' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be valid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$breakOnError&&(out+=" if (false) { ");return out}},{}],31:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$currentBaseId=$it.baseId,$prevValid="prevValid"+$lvl,$passingSchemas="passingSchemas"+$lvl;out+="var "+$errs+" = errors , "+$prevValid+" = false , "+$valid+" = false , "+$passingSchemas+" = null; ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))?($it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId):out+=" var "+$nextValid+" = true; ",$i&&(out+=" if ("+$nextValid+" && "+$prevValid+") { "+$valid+" = false; "+$passingSchemas+" = ["+$passingSchemas+", "+$i+"]; } else { ",$closingBraces+="}"),out+=" if ("+$nextValid+") { "+$valid+" = "+$prevValid+" = true; "+$passingSchemas+" = "+$i+"; }";return it.compositeRule=$it.compositeRule=$wasComposite,out+=$closingBraces+"if (!"+$valid+") {   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { passingSchemas: "+$passingSchemas+" } ",!1!==it.opts.messages&&(out+=" , message: 'should match exactly one schema in oneOf' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(out+=it.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),out+="} else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }",it.opts.allErrors&&(out+=" } "),out}},{}],32:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $regexp=$isData?"(new RegExp("+$schemaValue+"))":it.usePattern($schema);out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || ");var $$outStack=$$outStack||[];$$outStack.push(out+=" !"+$regexp+".test("+$data+") ) {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { pattern:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+="  } ",!1!==it.opts.messages&&(out+=" , message: 'should match pattern \"",out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},{}],33:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$key="key"+$lvl,$idx="idx"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$dataProperties="dataProperties"+$lvl,$schemaKeys=Object.keys($schema||{}),$pProperties=it.schema.patternProperties||{},$pPropertyKeys=Object.keys($pProperties),$aProperties=it.schema.additionalProperties,$someProperties=$schemaKeys.length||$pPropertyKeys.length,$noAdditional=!1===$aProperties,$additionalIsSchema="object"==typeof $aProperties&&Object.keys($aProperties).length,$removeAdditional=it.opts.removeAdditional,$checkAdditional=$noAdditional||$additionalIsSchema||$removeAdditional,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId,$required=it.schema.required;if($required&&(!it.opts.$data||!$required.$data)&&$required.length<it.opts.loopRequired)var $requiredHash=it.util.toHash($required);if(out+="var "+$errs+" = errors;var "+$nextValid+" = true;",$ownProperties&&(out+=" var "+$dataProperties+" = undefined;"),$checkAdditional){if(out+=$ownProperties?" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; ":" for (var "+$key+" in "+$data+") { ",$someProperties){if(out+=" var isAdditional"+$lvl+" = !(false ",$schemaKeys.length)if($schemaKeys.length>8)out+=" || validate.schema"+$schemaPath+".hasOwnProperty("+$key+") ";else{var arr1=$schemaKeys;if(arr1)for(var i1=-1,l1=arr1.length-1;i1<l1;)$propertyKey=arr1[i1+=1],out+=" || "+$key+" == "+it.util.toQuotedString($propertyKey)+" "}if($pPropertyKeys.length){var arr2=$pPropertyKeys;if(arr2)for(var $i=-1,l2=arr2.length-1;$i<l2;)$pProperty=arr2[$i+=1],out+=" || "+it.usePattern($pProperty)+".test("+$key+") "}out+=" ); if (isAdditional"+$lvl+") { "}if("all"==$removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{var $currentErrorPath=it.errorPath,$additionalProperty="' + "+$key+" + '";if(it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers)),$noAdditional)if($removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalProperties",($$outStack=$$outStack||[]).push(out+=" "+$nextValid+" = false; "),out="",!1!==it.createErrors?(out+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { additionalProperty: '"+$additionalProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",out+="' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$errSchemaPath=$currErrSchemaPath,$breakOnError&&(out+=" break; ")}else if($additionalIsSchema)if("failing"==$removeAdditional){out+=" var "+$errs+" = errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.schema=$aProperties,$it.schemaPath=it.schemaPath+".additionalProperties",$it.errSchemaPath=it.errSchemaPath+"/additionalProperties",$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" if (!"+$nextValid+") { errors = "+$errs+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+$data+"["+$key+"]; }  ",it.compositeRule=$it.compositeRule=$wasComposite}else $it.schema=$aProperties,$it.schemaPath=it.schemaPath+".additionalProperties",$it.errSchemaPath=it.errSchemaPath+"/additionalProperties",$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers),$passData=$data+"["+$key+"]",$it.dataPathArr[$dataNxt]=$key,$code=it.validate($it),$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; ");it.errorPath=$currentErrorPath}$someProperties&&(out+=" } "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}var $useDefaults=it.opts.useDefaults&&!it.compositeRule;if($schemaKeys.length){var arr3=$schemaKeys;if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;){var $sch=$schema[$propertyKey=arr3[i3+=1]];if(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)){var $prop=it.util.getProperty($propertyKey),$hasDefault=($passData=$data+$prop,$useDefaults&&void 0!==$sch.default);if($it.schema=$sch,$it.schemaPath=$schemaPath+$prop,$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($propertyKey),$it.errorPath=it.util.getPath(it.errorPath,$propertyKey,it.opts.jsonPointers),$it.dataPathArr[$dataNxt]=it.util.toQuotedString($propertyKey),$code=it.validate($it),$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2){$code=it.util.varReplace($code,$nextData,$passData);var $useData=$passData}else $useData=$nextData,out+=" var "+$nextData+" = "+$passData+"; ";if($hasDefault)out+=" "+$code+" ";else{if($requiredHash&&$requiredHash[$propertyKey]){out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") { "+$nextValid+" = false; ",$currentErrorPath=it.errorPath,$currErrSchemaPath=$errSchemaPath;var $$outStack,$missingProperty=it.util.escapeQuotes($propertyKey);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),$errSchemaPath=it.errSchemaPath+"/required",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",__err=out,out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$errSchemaPath=$currErrSchemaPath,it.errorPath=$currentErrorPath,out+=" } else { "}else $breakOnError?(out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") { "+$nextValid+" = true; } else { "):(out+=" if ("+$useData+" !== undefined ",$ownProperties&&(out+=" &&   Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=" ) { ");out+=" "+$code+" } "}}$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}if($pPropertyKeys.length){var arr4=$pPropertyKeys;if(arr4)for(var $pProperty,i4=-1,l4=arr4.length-1;i4<l4;)$sch=$pProperties[$pProperty=arr4[i4+=1]],(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))&&($it.schema=$sch,$it.schemaPath=it.schemaPath+".patternProperties"+it.util.getProperty($pProperty),$it.errSchemaPath=it.errSchemaPath+"/patternProperties/"+it.util.escapeFragment($pProperty),out+=$ownProperties?" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; ":" for (var "+$key+" in "+$data+") { ",out+=" if ("+it.usePattern($pProperty)+".test("+$key+")) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers),$passData=$data+"["+$key+"]",$it.dataPathArr[$dataNxt]=$key,$code=it.validate($it),$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } ",$breakOnError&&(out+=" else "+$nextValid+" = true; "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"))}return $breakOnError&&(out+=" "+$closingBraces+" if ("+$errs+" == errors) {"),it.util.cleanUpCode(out)}},{}],34:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;if(out+="var "+$errs+" = errors;",it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath;var $key="key"+$lvl,$idx="idx"+$lvl,$i="i"+$lvl,$invalidName="' + "+$key+" + '",$nextData="data"+($it.dataLevel=it.dataLevel+1),$dataProperties="dataProperties"+$lvl,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId;$ownProperties&&(out+=" var "+$dataProperties+" = undefined; "),out+=$ownProperties?" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; ":" for (var "+$key+" in "+$data+") { ",out+=" var startErrs"+$lvl+" = errors; ";var $passData=$key,$wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",it.compositeRule=$it.compositeRule=$wasComposite,out+=" if (!"+$nextValid+") { for (var "+$i+"=startErrs"+$lvl+"; "+$i+"<errors; "+$i+"++) { vErrors["+$i+"].propertyName = "+$key+"; }   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { propertyName: '"+$invalidName+"' } ",!1!==it.opts.messages&&(out+=" , message: 'property name \\'"+$invalidName+"\\' is invalid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(out+=it.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),$breakOnError&&(out+=" break; "),out+=" } }"}return $breakOnError&&(out+="  if ("+$errs+" == errors) {"),it.util.cleanUpCode(out)}},{}],35:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $async,$refCode,out=" ",$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+it.level;if("#"==$schema||"#/"==$schema)it.isRoot?($async=it.async,$refCode="validate"):($async=!0===it.root.schema.$async,$refCode="root.refVal[0]");else{var $refVal=it.resolveRef(it.baseId,$schema,it.isRoot);if(void 0===$refVal){var $message=it.MissingRefError.message(it.baseId,$schema);if("fail"==it.opts.missingRefs){it.logger.error($message),($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { ref: '"+it.util.escapeQuotes($schema)+"' } ",!1!==it.opts.messages&&(out+=" , message: 'can\\'t resolve reference "+it.util.escapeQuotes($schema)+"' "),it.opts.verbose&&(out+=" , schema: "+it.util.toQuotedString($schema)+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$breakOnError&&(out+=" if (false) { ")}else{if("ignore"!=it.opts.missingRefs)throw new it.MissingRefError(it.baseId,$schema,$message);it.logger.warn($message),$breakOnError&&(out+=" if (true) { ")}}else if($refVal.inline){var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;$it.schema=$refVal.schema,$it.schemaPath="",$it.errSchemaPath=$schema,out+=" "+it.validate($it).replace(/validate\.schema/g,$refVal.code)+" ",$breakOnError&&(out+=" if ("+$nextValid+") { ")}else $async=!0===$refVal.$async||it.async&&!1!==$refVal.$async,$refCode=$refVal.code}if($refCode){var $$outStack;($$outStack=$$outStack||[]).push(out),out="",out+=it.opts.passContext?" "+$refCode+".call(this, ":" "+$refCode+"( ",out+=" "+$data+", (dataPath || '')",'""'!=it.errorPath&&(out+=" + "+it.errorPath);var __callValidate=out+=" , "+($dataLvl?"data"+($dataLvl-1||""):"parentData")+" , "+($dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty")+", rootData)  ";if(out=$$outStack.pop(),$async){if(!it.async)throw new Error("async schema referenced by sync schema");$breakOnError&&(out+=" var "+$valid+"; "),out+=" try { await "+__callValidate+"; ",$breakOnError&&(out+=" "+$valid+" = true; "),out+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",$breakOnError&&(out+=" "+$valid+" = false; "),out+=" } ",$breakOnError&&(out+=" if ("+$valid+") { ")}else out+=" if (!"+__callValidate+") { if (vErrors === null) vErrors = "+$refCode+".errors; else vErrors = vErrors.concat("+$refCode+".errors); errors = vErrors.length; } ",$breakOnError&&(out+=" else { ")}return out}},{}],36:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ");var $vSchema="schema"+$lvl;if(!$isData)if($schema.length<it.opts.loopRequired&&it.schema.properties&&Object.keys(it.schema.properties).length){var $required=[],arr1=$schema;if(arr1)for(var $property,i1=-1,l1=arr1.length-1;i1<l1;){$property=arr1[i1+=1];var $propertySch=it.schema.properties[$property];$propertySch&&(it.opts.strictKeywords?"object"==typeof $propertySch&&Object.keys($propertySch).length>0:it.util.schemaHasRules($propertySch,it.RULES.all))||($required[$required.length]=$property)}}else $required=$schema;if($isData||$required.length){var $currentErrorPath=it.errorPath,$loopRequired=$isData||$required.length>=it.opts.loopRequired,$ownProperties=it.opts.ownProperties;if($breakOnError)if(out+=" var missing"+$lvl+"; ",$loopRequired){$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; ");var $missingProperty="' + "+($propertyPath="schema"+$lvl+"["+($i="i"+$lvl)+"]")+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)),out+=" var "+$valid+" = true; ",$isData&&(out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"),out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { "+$valid+" = "+$data+"["+$vSchema+"["+$i+"]] !== undefined ",$ownProperties&&(out+=" &&   Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) "),out+="; if (!"+$valid+") break; } ",$isData&&(out+="  }  "),($$outStack=$$outStack||[]).push(out+="  if (!"+$valid+") {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { "}else{out+=" if ( ";var $$outStack,arr2=$required;if(arr2)for(var $i=-1,l2=arr2.length-1;$i<l2;)$propertyKey=arr2[$i+=1],$i&&(out+=" || "),out+=" ( ( "+($useData=$data+($prop=it.util.getProperty($propertyKey)))+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) ";out+=") {  ",$missingProperty="' + "+($propertyPath="missing"+$lvl)+" + '",it.opts._errorDataPathProperty&&(it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,!0):$currentErrorPath+" + "+$propertyPath),($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",__err=out,out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { "}else if($loopRequired){var $propertyPath;$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; "),$missingProperty="' + "+($propertyPath="schema"+$lvl+"["+($i="i"+$lvl)+"]")+" + '",it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)),$isData&&(out+=" if ("+$vSchema+" && !Array.isArray("+$vSchema+")) {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+$vSchema+" !== undefined) { "),out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { if ("+$data+"["+$vSchema+"["+$i+"]] === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) "),out+=") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",$isData&&(out+="  }  ")}else{var arr3=$required;if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;){$propertyKey=arr3[i3+=1];var $prop=it.util.getProperty($propertyKey),$useData=($missingProperty=it.util.escapeQuotes($propertyKey),$data+$prop);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",out+=it.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}it.errorPath=$currentErrorPath}else $breakOnError&&(out+=" if (true) {");return out}},{}],37:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;if($isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,($schema||$isData)&&!1!==it.opts.uniqueItems){$isData&&(out+=" var "+$valid+"; if ("+$schemaValue+" === false || "+$schemaValue+" === undefined) "+$valid+" = true; else if (typeof "+$schemaValue+" != 'boolean') "+$valid+" = false; else { "),out+=" var i = "+$data+".length , "+$valid+" = true , j; if (i > 1) { ";var $itemType=it.schema.items&&it.schema.items.type,$typeIsArray=Array.isArray($itemType);!$itemType||"object"==$itemType||"array"==$itemType||$typeIsArray&&($itemType.indexOf("object")>=0||$itemType.indexOf("array")>=0)?out+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+$data+"[i], "+$data+"[j])) { "+$valid+" = false; break outer; } } } ":(out+=" var itemIndices = {}, item; for (;i--;) { var item = "+$data+"[i]; ",out+=" if ("+it.util["checkDataType"+($typeIsArray?"s":"")]($itemType,"item",!0)+") continue; ",$typeIsArray&&(out+=" if (typeof item == 'string') item = '\"' + item; "),out+=" if (typeof itemIndices[item] == 'number') { "+$valid+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),out+=" } ",$isData&&(out+="  }  ");var $$outStack=$$outStack||[];$$outStack.push(out+=" if (!"+$valid+") {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { i: i, j: j } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { ")}else $breakOnError&&(out+=" if (true) { ");return out}},{}],38:[function(require,module,exports){"use strict";module.exports=function(it,$keyword,$ruleType){var out="",$async=!0===it.schema.$async,$refKeywords=it.util.schemaHasRulesExcept(it.schema,it.RULES.all,"$ref"),$id=it.self._getId(it.schema);if(it.opts.strictKeywords){var $unknownKwd=it.util.schemaUnknownRules(it.schema,it.RULES.keywords);if($unknownKwd){var $keywordsMsg="unknown keyword: "+$unknownKwd;if("log"!==it.opts.strictKeywords)throw new Error($keywordsMsg);it.logger.warn($keywordsMsg)}}if(it.isTop&&(out+=" var validate = ",$async&&(it.async=!0,out+="async "),out+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",$id&&(it.opts.sourceCode||it.opts.processCode)&&(out+=" /*# sourceURL="+$id+" */ ")),"boolean"==typeof it.schema||!$refKeywords&&!it.schema.$ref){var $lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema["false schema"],$schemaPath=it.schemaPath+it.util.getProperty("false schema"),$errSchemaPath=it.errSchemaPath+"/false schema",$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl;if(!1===it.schema){it.isTop?$breakOnError=!0:out+=" var "+$valid+" = false; ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'boolean schema is false' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else out+=it.isTop?$async?" return data; ":" validate.errors = null; return true; ":" var "+$valid+" = true; ";return it.isTop&&(out+=" }; return validate; "),out}if(it.isTop){var $top=it.isTop;if($lvl=it.level=0,$dataLvl=it.dataLevel=0,$data="data",it.rootId=it.resolve.fullPath(it.self._getId(it.root.schema)),it.baseId=it.baseId||it.rootId,delete it.isTop,it.dataPathArr=[void 0],void 0!==it.schema.default&&it.opts.useDefaults&&it.opts.strictDefaults){var $defaultMsg="default is ignored in the schema root";if("log"!==it.opts.strictDefaults)throw new Error($defaultMsg);it.logger.warn($defaultMsg)}out+=" var vErrors = null; ",out+=" var errors = 0;     ",out+=" if (rootData === undefined) rootData = data; "}else{if($lvl=it.level,$data="data"+(($dataLvl=it.dataLevel)||""),$id&&(it.baseId=it.resolve.url(it.baseId,$id)),$async&&!it.async)throw new Error("async schema in sync schema");out+=" var errs_"+$lvl+" = errors;"}$valid="valid"+$lvl,$breakOnError=!it.opts.allErrors;var $closingBraces1="",$closingBraces2="",$typeSchema=it.schema.type,$typeIsArray=Array.isArray($typeSchema);if($typeSchema&&it.opts.nullable&&!0===it.schema.nullable&&($typeIsArray?-1==$typeSchema.indexOf("null")&&($typeSchema=$typeSchema.concat("null")):"null"!=$typeSchema&&($typeSchema=[$typeSchema,"null"],$typeIsArray=!0)),$typeIsArray&&1==$typeSchema.length&&($typeSchema=$typeSchema[0],$typeIsArray=!1),it.schema.$ref&&$refKeywords){if("fail"==it.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+it.errSchemaPath+'" (see option extendRefs)');!0!==it.opts.extendRefs&&($refKeywords=!1,it.logger.warn('$ref: keywords ignored in schema at path "'+it.errSchemaPath+'"'))}if(it.schema.$comment&&it.opts.$comment&&(out+=" "+it.RULES.all.$comment.code(it,"$comment")),$typeSchema){if(it.opts.coerceTypes)var $coerceToTypes=it.util.coerceToTypes(it.opts.coerceTypes,$typeSchema);var $rulesGroup=it.RULES.types[$typeSchema];if($coerceToTypes||$typeIsArray||!0===$rulesGroup||$rulesGroup&&!$shouldUseGroup($rulesGroup)){if($schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",$schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",out+=" if ("+it.util[$typeIsArray?"checkDataTypes":"checkDataType"]($typeSchema,$data,!0)+") { ",$coerceToTypes){var $dataType="dataType"+$lvl,$coerced="coerced"+$lvl;out+=" var "+$dataType+" = typeof "+$data+"; ","array"==it.opts.coerceTypes&&(out+=" if ("+$dataType+" == 'object' && Array.isArray("+$data+")) "+$dataType+" = 'array'; "),out+=" var "+$coerced+" = undefined; ";var $bracesCoercion="",arr1=$coerceToTypes;if(arr1)for(var $type,$i=-1,l1=arr1.length-1;$i<l1;)$type=arr1[$i+=1],$i&&(out+=" if ("+$coerced+" === undefined) { ",$bracesCoercion+="}"),"array"==it.opts.coerceTypes&&"array"!=$type&&(out+=" if ("+$dataType+" == 'array' && "+$data+".length == 1) { "+$coerced+" = "+$data+" = "+$data+"[0]; "+$dataType+" = typeof "+$data+";  } "),"string"==$type?out+=" if ("+$dataType+" == 'number' || "+$dataType+" == 'boolean') "+$coerced+" = '' + "+$data+"; else if ("+$data+" === null) "+$coerced+" = ''; ":"number"==$type||"integer"==$type?(out+=" if ("+$dataType+" == 'boolean' || "+$data+" === null || ("+$dataType+" == 'string' && "+$data+" && "+$data+" == +"+$data+" ","integer"==$type&&(out+=" && !("+$data+" % 1)"),out+=")) "+$coerced+" = +"+$data+"; "):"boolean"==$type?out+=" if ("+$data+" === 'false' || "+$data+" === 0 || "+$data+" === null) "+$coerced+" = false; else if ("+$data+" === 'true' || "+$data+" === 1) "+$coerced+" = true; ":"null"==$type?out+=" if ("+$data+" === '' || "+$data+" === 0 || "+$data+" === false) "+$coerced+" = null; ":"array"==it.opts.coerceTypes&&"array"==$type&&(out+=" if ("+$dataType+" == 'string' || "+$dataType+" == 'number' || "+$dataType+" == 'boolean' || "+$data+" == null) "+$coerced+" = ["+$data+"]; ");($$outStack=$$outStack||[]).push(out+=" "+$bracesCoercion+" if ("+$coerced+" === undefined) {   "),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",__err=out,out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else {  ";var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData";out+=" "+$data+" = "+$coerced+"; ",$dataLvl||(out+="if ("+$parentData+" !== undefined)"),out+=" "+$parentData+"["+($dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty")+"] = "+$coerced+"; } "}else($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",__err=out,out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";out+=" } "}}if(it.schema.$ref&&!$refKeywords)out+=" "+it.RULES.all.$ref.code(it,"$ref")+" ",$breakOnError&&(out+=" } if (errors === ",out+=$top?"0":"errs_"+$lvl,out+=") { ",$closingBraces2+="}");else{var arr2=it.RULES;if(arr2)for(var i2=-1,l2=arr2.length-1;i2<l2;)if($shouldUseGroup($rulesGroup=arr2[i2+=1])){if($rulesGroup.type&&(out+=" if ("+it.util.checkDataType($rulesGroup.type,$data)+") { "),it.opts.useDefaults)if("object"==$rulesGroup.type&&it.schema.properties){$schema=it.schema.properties;var arr3=Object.keys($schema);if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;)if(void 0!==($sch=$schema[$propertyKey=arr3[i3+=1]]).default){var $passData=$data+it.util.getProperty($propertyKey);if(it.compositeRule){if(it.opts.strictDefaults){if($defaultMsg="default is ignored for: "+$passData,"log"!==it.opts.strictDefaults)throw new Error($defaultMsg);it.logger.warn($defaultMsg)}}else out+=" if ("+$passData+" === undefined ","empty"==it.opts.useDefaults&&(out+=" || "+$passData+" === null || "+$passData+" === '' "),out+=" ) "+$passData+" = ",out+="shared"==it.opts.useDefaults?" "+it.useDefault($sch.default)+" ":" "+JSON.stringify($sch.default)+" ",out+="; "}}else if("array"==$rulesGroup.type&&Array.isArray(it.schema.items)){var arr4=it.schema.items;if(arr4){$i=-1;for(var $sch,l4=arr4.length-1;$i<l4;)if(void 0!==($sch=arr4[$i+=1]).default)if($passData=$data+"["+$i+"]",it.compositeRule){if(it.opts.strictDefaults){if($defaultMsg="default is ignored for: "+$passData,"log"!==it.opts.strictDefaults)throw new Error($defaultMsg);it.logger.warn($defaultMsg)}}else out+=" if ("+$passData+" === undefined ","empty"==it.opts.useDefaults&&(out+=" || "+$passData+" === null || "+$passData+" === '' "),out+=" ) "+$passData+" = ",out+="shared"==it.opts.useDefaults?" "+it.useDefault($sch.default)+" ":" "+JSON.stringify($sch.default)+" ",out+="; "}}var $$outStack,arr5=$rulesGroup.rules;if(arr5)for(var $rule,i5=-1,l5=arr5.length-1;i5<l5;)if($shouldUseRule($rule=arr5[i5+=1])){var $code=$rule.code(it,$rule.keyword,$rulesGroup.type);$code&&(out+=" "+$code+" ",$breakOnError&&($closingBraces1+="}"))}$breakOnError&&(out+=" "+$closingBraces1+" ",$closingBraces1=""),$rulesGroup.type&&(out+=" } ",$typeSchema&&$typeSchema===$rulesGroup.type&&!$coerceToTypes)&&($schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",($$outStack=$$outStack||[]).push(out+=" else { "),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",__err=out,out=$$outStack.pop(),out+=!it.compositeRule&&$breakOnError?it.async?" throw new ValidationError(["+__err+"]); ":" validate.errors = ["+__err+"]; return false; ":" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } "),$breakOnError&&(out+=" if (errors === ",out+=$top?"0":"errs_"+$lvl,out+=") { ",$closingBraces2+="}")}}function $shouldUseGroup($rulesGroup){for(var rules=$rulesGroup.rules,i=0;i<rules.length;i++)if($shouldUseRule(rules[i]))return!0}function $shouldUseRule($rule){return void 0!==it.schema[$rule.keyword]||$rule.implements&&function($rule){for(var impl=$rule.implements,i=0;i<impl.length;i++)if(void 0!==it.schema[impl[i]])return!0}($rule)}return $breakOnError&&(out+=" "+$closingBraces2+" "),$top?($async?(out+=" if (errors === 0) return data;           ",out+=" else throw new ValidationError(vErrors); "):(out+=" validate.errors = vErrors; ",out+=" return errors === 0;       "),out+=" }; return validate;"):out+=" var "+$valid+" = errors === errs_"+$lvl+";",out=it.util.cleanUpCode(out),$top&&(out=it.util.finalCleanUpCode(out,$async)),out}},{}],39:[function(require,module,exports){"use strict";var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i,customRuleCode=require("./dotjs/custom"),definitionSchema=require("./definition_schema");module.exports={add:function(keyword,definition){var RULES=this.RULES;if(RULES.keywords[keyword])throw new Error("Keyword "+keyword+" is already defined");if(!IDENTIFIER.test(keyword))throw new Error("Keyword "+keyword+" is not a valid identifier");if(definition){this.validateKeyword(definition,!0);var dataType=definition.type;if(Array.isArray(dataType))for(var i=0;i<dataType.length;i++)_addRule(keyword,dataType[i],definition);else _addRule(keyword,dataType,definition);var metaSchema=definition.metaSchema;metaSchema&&(definition.$data&&this._opts.$data&&(metaSchema={anyOf:[metaSchema,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),definition.validateSchema=this.compile(metaSchema,!0))}function _addRule(keyword,dataType,definition){for(var ruleGroup,i=0;i<RULES.length;i++){var rg=RULES[i];if(rg.type==dataType){ruleGroup=rg;break}}ruleGroup||RULES.push(ruleGroup={type:dataType,rules:[]});var rule={keyword:keyword,definition:definition,custom:!0,code:customRuleCode,implements:definition.implements};ruleGroup.rules.push(rule),RULES.custom[keyword]=rule}return RULES.keywords[keyword]=RULES.all[keyword]=!0,this},get:function(keyword){var rule=this.RULES.custom[keyword];return rule?rule.definition:this.RULES.keywords[keyword]||!1},remove:function(keyword){var RULES=this.RULES;delete RULES.keywords[keyword],delete RULES.all[keyword],delete RULES.custom[keyword];for(var i=0;i<RULES.length;i++)for(var rules=RULES[i].rules,j=0;j<rules.length;j++)if(rules[j].keyword==keyword){rules.splice(j,1);break}return this},validate:function validateKeyword(definition,throwError){validateKeyword.errors=null;var v=this._validateKeyword=this._validateKeyword||this.compile(definitionSchema,!0);if(v(definition))return!0;if(validateKeyword.errors=v.errors,throwError)throw new Error("custom keyword definition is invalid: "+this.errorsText(v.errors));return!1}}},{"./definition_schema":12,"./dotjs/custom":22}],40:[function(require,module,exports){module.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],41:[function(require,module,exports){module.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],42:[function(require,module,exports){"use strict";var isArray=Array.isArray,keyList=Object.keys,hasProp=Object.prototype.hasOwnProperty;module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){var i,length,key,arrA=isArray(a),arrB=isArray(b);if(arrA&&arrB){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(arrA!=arrB)return!1;var dateA=a instanceof Date,dateB=b instanceof Date;if(dateA!=dateB)return!1;if(dateA&&dateB)return a.getTime()==b.getTime();var regexpA=a instanceof RegExp,regexpB=b instanceof RegExp;if(regexpA!=regexpB)return!1;if(regexpA&&regexpB)return a.toString()==b.toString();var keys=keyList(a);if((length=keys.length)!==keyList(b).length)return!1;for(i=length;0!=i--;)if(!hasProp.call(b,keys[i]))return!1;for(i=length;0!=i--;)if(!equal(a[key=keys[i]],b[key]))return!1;return!0}return a!=a&&b!=b}},{}],43:[function(require,module,exports){"use strict";module.exports=function(data,opts){opts||(opts={}),"function"==typeof opts&&(opts={cmp:opts});var f,cycles="boolean"==typeof opts.cycles&&opts.cycles,cmp=opts.cmp&&(f=opts.cmp,function(node){return function(a,b){return f({key:a,value:node[a]},{key:b,value:node[b]})}}),seen=[];return function stringify(node){if(node&&node.toJSON&&"function"==typeof node.toJSON&&(node=node.toJSON()),void 0!==node){if("number"==typeof node)return isFinite(node)?""+node:"null";if("object"!=typeof node)return JSON.stringify(node);var i,out;if(Array.isArray(node)){for(out="[",i=0;i<node.length;i++)i&&(out+=","),out+=stringify(node[i])||"null";return out+"]"}if(null===node)return"null";if(-1!==seen.indexOf(node)){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var seenIndex=seen.push(node)-1,keys=Object.keys(node).sort(cmp&&cmp(node));for(out="",i=0;i<keys.length;i++){var key=keys[i],value=stringify(node[key]);value&&(out&&(out+=","),out+=JSON.stringify(key)+":"+value)}return seen.splice(seenIndex,1),"{"+out+"}"}}(data)}},{}],44:[function(require,module,exports){"use strict";var traverse=module.exports=function(schema,opts,cb){"function"==typeof opts&&(cb=opts,opts={}),function _traverse(opts,pre,post,schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(schema&&"object"==typeof schema&&!Array.isArray(schema)){for(var key in pre(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex),schema){var sch=schema[key];if(Array.isArray(sch)){if(key in traverse.arrayKeywords)for(var i=0;i<sch.length;i++)_traverse(opts,pre,post,sch[i],jsonPtr+"/"+key+"/"+i,rootSchema,jsonPtr,key,schema,i)}else if(key in traverse.propsKeywords){if(sch&&"object"==typeof sch)for(var prop in sch)_traverse(opts,pre,post,sch[prop],jsonPtr+"/"+key+"/"+prop.replace(/~/g,"~0").replace(/\//g,"~1"),rootSchema,jsonPtr,key,schema,prop)}else(key in traverse.keywords||opts.allKeys&&!(key in traverse.skipKeywords))&&_traverse(opts,pre,post,sch,jsonPtr+"/"+key,rootSchema,jsonPtr,key,schema)}post(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex)}}(opts,"function"==typeof(cb=opts.cb||cb)?cb:cb.pre||function(){},cb.post||function(){},schema,"",schema)};traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],45:[function(require,module,exports){!function(global,factory){!function(exports){"use strict";function merge(){for(var _len=arguments.length,sets=Array(_len),_key=0;_key<_len;_key++)sets[_key]=arguments[_key];if(sets.length>1){sets[0]=sets[0].slice(0,-1);for(var xl=sets.length-1,x=1;x<xl;++x)sets[x]=sets[x].slice(1,-1);return sets[xl]=sets[xl].slice(1),sets.join("")}return sets[0]}function subexp(str){return"(?:"+str+")"}function typeOf(o){return void 0===o?"undefined":null===o?"null":Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(str){return str.toUpperCase()}function buildExps(isIRI){var HEXDIG$$=merge("[0-9]","[A-Fa-f]"),PCT_ENCODED$=subexp(subexp("%[EFef]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),SUB_DELIMS$$="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",RESERVED$$=merge("[\\:\\/\\?\\#\\[\\]\\@]",SUB_DELIMS$$),IPRIVATE$$=isIRI?"[\\uE000-\\uF8FF]":"[]",UNRESERVED$$=merge("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",isIRI?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),SCHEME$=subexp("[A-Za-z]"+merge("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),USERINFO$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]"))+"*"),DEC_OCTET_RELAXED$=(subexp(subexp("25[0-5]")+"|"+subexp("2[0-4][0-9]")+"|"+subexp("1[0-9][0-9]")+"|"+subexp("[1-9][0-9]")+"|[0-9]"),subexp(subexp("25[0-5]")+"|"+subexp("2[0-4][0-9]")+"|"+subexp("1[0-9][0-9]")+"|"+subexp("0?[1-9][0-9]")+"|0?0?[0-9]")),IPV4ADDRESS$=subexp(DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$),H16$=subexp(HEXDIG$$+"{1,4}"),LS32$=subexp(subexp(H16$+"\\:"+H16$)+"|"+IPV4ADDRESS$),IPV6ADDRESS1$=subexp(subexp(H16$+"\\:")+"{6}"+LS32$),IPV6ADDRESS2$=subexp("\\:\\:"+subexp(H16$+"\\:")+"{5}"+LS32$),IPV6ADDRESS3$=subexp(subexp(H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{4}"+LS32$),IPV6ADDRESS4$=subexp(subexp(subexp(H16$+"\\:")+"{0,1}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{3}"+LS32$),IPV6ADDRESS5$=subexp(subexp(subexp(H16$+"\\:")+"{0,2}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{2}"+LS32$),IPV6ADDRESS6$=subexp(subexp(subexp(H16$+"\\:")+"{0,3}"+H16$)+"?\\:\\:"+H16$+"\\:"+LS32$),IPV6ADDRESS7$=subexp(subexp(subexp(H16$+"\\:")+"{0,4}"+H16$)+"?\\:\\:"+LS32$),IPV6ADDRESS8$=subexp(subexp(subexp(H16$+"\\:")+"{0,5}"+H16$)+"?\\:\\:"+H16$),IPV6ADDRESS9$=subexp(subexp(subexp(H16$+"\\:")+"{0,6}"+H16$)+"?\\:\\:"),IPV6ADDRESS$=subexp([IPV6ADDRESS1$,IPV6ADDRESS2$,IPV6ADDRESS3$,IPV6ADDRESS4$,IPV6ADDRESS5$,IPV6ADDRESS6$,IPV6ADDRESS7$,IPV6ADDRESS8$,IPV6ADDRESS9$].join("|")),ZONEID$=subexp(subexp(UNRESERVED$$+"|"+PCT_ENCODED$)+"+"),IPV6ADDRZ_RELAXED$=(subexp(IPV6ADDRESS$+"\\%25"+ZONEID$),subexp(IPV6ADDRESS$+subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+ZONEID$)),IPVFUTURE$=subexp("[vV]"+HEXDIG$$+"+\\."+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]")+"+"),IP_LITERAL$=subexp("\\["+subexp(IPV6ADDRZ_RELAXED$+"|"+IPV6ADDRESS$+"|"+IPVFUTURE$)+"\\]"),REG_NAME$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$))+"*"),HOST$=subexp(IP_LITERAL$+"|"+IPV4ADDRESS$+"(?!"+REG_NAME$+")|"+REG_NAME$),PORT$=subexp("[0-9]*"),AUTHORITY$=subexp(subexp(USERINFO$+"@")+"?"+HOST$+subexp("\\:"+PORT$)+"?"),PCHAR$=subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@]")),SEGMENT$=subexp(PCHAR$+"*"),SEGMENT_NZ$=subexp(PCHAR$+"+"),SEGMENT_NZ_NC$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\@]"))+"+"),PATH_ABEMPTY$=subexp(subexp("\\/"+SEGMENT$)+"*"),PATH_ABSOLUTE$=subexp("\\/"+subexp(SEGMENT_NZ$+PATH_ABEMPTY$)+"?"),PATH_NOSCHEME$=subexp(SEGMENT_NZ_NC$+PATH_ABEMPTY$),PATH_ROOTLESS$=subexp(SEGMENT_NZ$+PATH_ABEMPTY$),PATH_EMPTY$="(?!"+PCHAR$+")",QUERY$=(subexp(PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$),subexp(subexp(PCHAR$+"|"+merge("[\\/\\?]",IPRIVATE$$))+"*")),FRAGMENT$=subexp(subexp(PCHAR$+"|[\\/\\?]")+"*"),HIER_PART$=subexp(subexp("\\/\\/"+AUTHORITY$+PATH_ABEMPTY$)+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$),URI$=subexp(SCHEME$+"\\:"+HIER_PART$+subexp("\\?"+QUERY$)+"?"+subexp("\\#"+FRAGMENT$)+"?"),RELATIVE_PART$=subexp(subexp("\\/\\/"+AUTHORITY$+PATH_ABEMPTY$)+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_EMPTY$),RELATIVE$=subexp(RELATIVE_PART$+subexp("\\?"+QUERY$)+"?"+subexp("\\#"+FRAGMENT$)+"?");return subexp(URI$+"|"+RELATIVE$),subexp(SCHEME$+"\\:"+HIER_PART$+subexp("\\?"+QUERY$)+"?"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp("("+USERINFO$+")@"),subexp("\\:("+PORT$+")"),{NOT_SCHEME:new RegExp(merge("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]",IPRIVATE$$),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",UNRESERVED$$,SUB_DELIMS$$),"g"),UNRESERVED:new RegExp(UNRESERVED$$,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",UNRESERVED$$,RESERVED$$),"g"),PCT_ENCODED:new RegExp(PCT_ENCODED$,"g"),IPV4ADDRESS:new RegExp("^("+IPV4ADDRESS$+")$"),IPV6ADDRESS:new RegExp("^\\[?("+IPV6ADDRESS$+")"+subexp(subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+"("+ZONEID$+")")+"?\\]?$")}}var URI_PROTOCOL=buildExps(!1),IRI_PROTOCOL=buildExps(!0),slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},maxInt=2147483647,regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},floor=Math.floor,stringFromCharCode=String.fromCharCode;function error$1(type){throw new RangeError(errors[type])}function mapDomain(string,fn){var parts=string.split("@"),result="";parts.length>1&&(result=parts[0]+"@",string=parts[1]);var encoded=function(array,fn){for(var result=[],length=array.length;length--;)result[length]=fn(array[length]);return result}((string=string.replace(regexSeparators,".")).split("."),fn).join(".");return result+encoded}function ucs2decode(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)}else output.push(value)}return output}var digitToBasic=function(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)},adapt=function(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))},decode=function(input){var codePoint,output=[],inputLength=input.length,i=0,n=128,bias=72,basic=input.lastIndexOf("-");basic<0&&(basic=0);for(var j=0;j<basic;++j)input.charCodeAt(j)>=128&&error$1("not-basic"),output.push(input.charCodeAt(j));for(var index=basic>0?basic+1:0;index<inputLength;){for(var oldi=i,w=1,k=36;;k+=36){index>=inputLength&&error$1("invalid-input");var digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:36;(digit>=36||digit>floor((maxInt-i)/w))&&error$1("overflow"),i+=digit*w;var t=k<=bias?1:k>=bias+26?26:k-bias;if(digit<t)break;var baseMinusT=36-t;w>floor(maxInt/baseMinusT)&&error$1("overflow"),w*=baseMinusT}var out=output.length+1;bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error$1("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return String.fromCodePoint.apply(String,output)},encode=function(input){var output=[],inputLength=(input=ucs2decode(input)).length,n=128,delta=0,bias=72,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=input[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _currentValue2=_step.value;_currentValue2<128&&output.push(stringFromCharCode(_currentValue2))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){var m=maxInt,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=input[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var currentValue=_step2.value;currentValue>=n&&currentValue<m&&(m=currentValue)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var handledCPCountPlusOne=handledCPCount+1;m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error$1("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m;var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=input[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _currentValue=_step3.value;if(_currentValue<n&&++delta>maxInt&&error$1("overflow"),_currentValue==n){for(var q=delta,k=36;;k+=36){var t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=36-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}++delta,++n}return output.join("")},punycode={version:"2.1.0",ucs2:{decode:ucs2decode,encode:function(array){return String.fromCodePoint.apply(String,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(array))}},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},SCHEMES={};function pctEncChar(chr){var c=chr.charCodeAt(0);return c<16?"%0"+c.toString(16).toUpperCase():c<128?"%"+c.toString(16).toUpperCase():c<2048?"%"+(c>>6|192).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase():"%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase()}function pctDecChars(str){for(var newStr="",i=0,il=str.length;i<il;){var c=parseInt(str.substr(i+1,2),16);if(c<128)newStr+=String.fromCharCode(c),i+=3;else if(c>=194&&c<224){if(il-i>=6){var c2=parseInt(str.substr(i+4,2),16);newStr+=String.fromCharCode((31&c)<<6|63&c2)}else newStr+=str.substr(i,6);i+=6}else if(c>=224){if(il-i>=9){var _c=parseInt(str.substr(i+4,2),16),c3=parseInt(str.substr(i+7,2),16);newStr+=String.fromCharCode((15&c)<<12|(63&_c)<<6|63&c3)}else newStr+=str.substr(i,9);i+=9}else newStr+=str.substr(i,3),i+=3}return newStr}function _normalizeComponentEncoding(components,protocol){function decodeUnreserved(str){var decStr=pctDecChars(str);return decStr.match(protocol.UNRESERVED)?decStr:str}return components.scheme&&(components.scheme=String(components.scheme).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME,"")),void 0!==components.userinfo&&(components.userinfo=String(components.userinfo).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_USERINFO,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.host&&(components.host=String(components.host).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.path&&(components.path=String(components.path).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(components.scheme?protocol.NOT_PATH:protocol.NOT_PATH_NOSCHEME,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.query&&(components.query=String(components.query).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_QUERY,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.fragment&&(components.fragment=String(components.fragment).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_FRAGMENT,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),components}function _stripLeadingZeros(str){return str.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(host,protocol){var matches=host.match(protocol.IPV4ADDRESS)||[],address=slicedToArray(matches,2)[1];return address?address.split(".").map(_stripLeadingZeros).join("."):host}function _normalizeIPv6(host,protocol){var matches=host.match(protocol.IPV6ADDRESS)||[],_matches2=slicedToArray(matches,3),address=_matches2[1],zone=_matches2[2];if(address){for(var _address$toLowerCase$=address.toLowerCase().split("::").reverse(),_address$toLowerCase$2=slicedToArray(_address$toLowerCase$,2),last=_address$toLowerCase$2[0],first=_address$toLowerCase$2[1],firstFields=first?first.split(":").map(_stripLeadingZeros):[],lastFields=last.split(":").map(_stripLeadingZeros),isLastFieldIPv4Address=protocol.IPV4ADDRESS.test(lastFields[lastFields.length-1]),fieldCount=isLastFieldIPv4Address?7:8,lastFieldsStart=lastFields.length-fieldCount,fields=Array(fieldCount),x=0;x<fieldCount;++x)fields[x]=firstFields[x]||lastFields[lastFieldsStart+x]||"";isLastFieldIPv4Address&&(fields[fieldCount-1]=_normalizeIPv4(fields[fieldCount-1],protocol));var longestZeroFields=fields.reduce(function(acc,field,index){if(!field||"0"===field){var lastLongest=acc[acc.length-1];lastLongest&&lastLongest.index+lastLongest.length===index?lastLongest.length++:acc.push({index:index,length:1})}return acc},[]).sort(function(a,b){return b.length-a.length})[0],newHost=void 0;if(longestZeroFields&&longestZeroFields.length>1){var newFirst=fields.slice(0,longestZeroFields.index),newLast=fields.slice(longestZeroFields.index+longestZeroFields.length);newHost=newFirst.join(":")+"::"+newLast.join(":")}else newHost=fields.join(":");return zone&&(newHost+="%"+zone),newHost}return host}var URI_PARSE=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,NO_MATCH_IS_UNDEFINED=void 0==="".match(/(){0}/)[1];function parse(uriString){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},components={},protocol=!1!==options.iri?IRI_PROTOCOL:URI_PROTOCOL;"suffix"===options.reference&&(uriString=(options.scheme?options.scheme+":":"")+"//"+uriString);var matches=uriString.match(URI_PARSE);if(matches){NO_MATCH_IS_UNDEFINED?(components.scheme=matches[1],components.userinfo=matches[3],components.host=matches[4],components.port=parseInt(matches[5],10),components.path=matches[6]||"",components.query=matches[7],components.fragment=matches[8],isNaN(components.port)&&(components.port=matches[5])):(components.scheme=matches[1]||void 0,components.userinfo=-1!==uriString.indexOf("@")?matches[3]:void 0,components.host=-1!==uriString.indexOf("//")?matches[4]:void 0,components.port=parseInt(matches[5],10),components.path=matches[6]||"",components.query=-1!==uriString.indexOf("?")?matches[7]:void 0,components.fragment=-1!==uriString.indexOf("#")?matches[8]:void 0,isNaN(components.port)&&(components.port=uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?matches[4]:void 0)),components.host&&(components.host=_normalizeIPv6(_normalizeIPv4(components.host,protocol),protocol)),components.reference=void 0!==components.scheme||void 0!==components.userinfo||void 0!==components.host||void 0!==components.port||components.path||void 0!==components.query?void 0===components.scheme?"relative":void 0===components.fragment?"absolute":"uri":"same-document",options.reference&&"suffix"!==options.reference&&options.reference!==components.reference&&(components.error=components.error||"URI is not a "+options.reference+" reference.");var schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(options.unicodeSupport||schemeHandler&&schemeHandler.unicodeSupport)_normalizeComponentEncoding(components,protocol);else{if(components.host&&(options.domainHost||schemeHandler&&schemeHandler.domainHost))try{components.host=punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to ASCII via punycode: "+e}_normalizeComponentEncoding(components,URI_PROTOCOL)}schemeHandler&&schemeHandler.parse&&schemeHandler.parse(components,options)}else components.error=components.error||"URI can not be parsed.";return components}var RDS1=/^\.\.?\//,RDS2=/^\/\.(\/|$)/,RDS3=/^\/\.\.(\/|$)/,RDS5=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(input){for(var output=[];input.length;)if(input.match(RDS1))input=input.replace(RDS1,"");else if(input.match(RDS2))input=input.replace(RDS2,"/");else if(input.match(RDS3))input=input.replace(RDS3,"/"),output.pop();else if("."===input||".."===input)input="";else{var im=input.match(RDS5);if(!im)throw new Error("Unexpected dot segment condition");var s=im[0];input=input.slice(s.length),output.push(s)}return output.join("")}function serialize(components){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},protocol=options.iri?IRI_PROTOCOL:URI_PROTOCOL,uriTokens=[],schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(schemeHandler&&schemeHandler.serialize&&schemeHandler.serialize(components,options),components.host)if(protocol.IPV6ADDRESS.test(components.host));else if(options.domainHost||schemeHandler&&schemeHandler.domainHost)try{components.host=options.iri?punycode.toUnicode(components.host):punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to "+(options.iri?"Unicode":"ASCII")+" via punycode: "+e}_normalizeComponentEncoding(components,protocol),"suffix"!==options.reference&&components.scheme&&(uriTokens.push(components.scheme),uriTokens.push(":"));var authority=function(components,options){var protocol=!1!==options.iri?IRI_PROTOCOL:URI_PROTOCOL,uriTokens=[];return void 0!==components.userinfo&&(uriTokens.push(components.userinfo),uriTokens.push("@")),void 0!==components.host&&uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host),protocol),protocol).replace(protocol.IPV6ADDRESS,function(_,$1,$2){return"["+$1+($2?"%25"+$2:"")+"]"})),"number"==typeof components.port&&(uriTokens.push(":"),uriTokens.push(components.port.toString(10))),uriTokens.length?uriTokens.join(""):void 0}(components,options);if(void 0!==authority&&("suffix"!==options.reference&&uriTokens.push("//"),uriTokens.push(authority),components.path&&"/"!==components.path.charAt(0)&&uriTokens.push("/")),void 0!==components.path){var s=components.path;options.absolutePath||schemeHandler&&schemeHandler.absolutePath||(s=removeDotSegments(s)),void 0===authority&&(s=s.replace(/^\/\//,"/%2F")),uriTokens.push(s)}return void 0!==components.query&&(uriTokens.push("?"),uriTokens.push(components.query)),void 0!==components.fragment&&(uriTokens.push("#"),uriTokens.push(components.fragment)),uriTokens.join("")}function resolveComponents(base,relative){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},target={};return arguments[3]||(base=parse(serialize(base,options),options),relative=parse(serialize(relative,options),options)),!(options=options||{}).tolerant&&relative.scheme?(target.scheme=relative.scheme,target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(void 0!==relative.userinfo||void 0!==relative.host||void 0!==relative.port?(target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(relative.path?("/"===relative.path.charAt(0)?target.path=removeDotSegments(relative.path):(target.path=void 0===base.userinfo&&void 0===base.host&&void 0===base.port||base.path?base.path?base.path.slice(0,base.path.lastIndexOf("/")+1)+relative.path:relative.path:"/"+relative.path,target.path=removeDotSegments(target.path)),target.query=relative.query):(target.path=base.path,target.query=void 0!==relative.query?relative.query:base.query),target.userinfo=base.userinfo,target.host=base.host,target.port=base.port),target.scheme=base.scheme),target.fragment=relative.fragment,target}function unescapeComponent(str,options){return str&&str.toString().replace(options&&options.iri?IRI_PROTOCOL.PCT_ENCODED:URI_PROTOCOL.PCT_ENCODED,pctDecChars)}var handler={scheme:"http",domainHost:!0,parse:function(components,options){return components.host||(components.error=components.error||"HTTP URIs must have a host."),components},serialize:function(components,options){return components.port!==("https"!==String(components.scheme).toLowerCase()?80:443)&&""!==components.port||(components.port=void 0),components.path||(components.path="/"),components}},handler$1={scheme:"https",domainHost:handler.domainHost,parse:handler.parse,serialize:handler.serialize},O={},UNRESERVED$$="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",HEXDIG$$="[0-9A-Fa-f]",PCT_ENCODED$=subexp(subexp("%[EFef][0-9A-Fa-f]%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f][0-9A-Fa-f]%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),VCHAR$$=merge("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),UNRESERVED=new RegExp(UNRESERVED$$,"g"),PCT_ENCODED=new RegExp(PCT_ENCODED$,"g"),NOT_LOCAL_PART=new RegExp(merge("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',VCHAR$$),"g"),NOT_HFNAME=new RegExp(merge("[^]",UNRESERVED$$,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),NOT_HFVALUE=NOT_HFNAME;function decodeUnreserved(str){var decStr=pctDecChars(str);return decStr.match(UNRESERVED)?decStr:str}var handler$2={scheme:"mailto",parse:function(components,options){var mailtoComponents=components,to=mailtoComponents.to=mailtoComponents.path?mailtoComponents.path.split(","):[];if(mailtoComponents.path=void 0,mailtoComponents.query){for(var unknownHeaders=!1,headers={},hfields=mailtoComponents.query.split("&"),x=0,xl=hfields.length;x<xl;++x){var hfield=hfields[x].split("=");switch(hfield[0]){case"to":for(var toAddrs=hfield[1].split(","),_x=0,_xl=toAddrs.length;_x<_xl;++_x)to.push(toAddrs[_x]);break;case"subject":mailtoComponents.subject=unescapeComponent(hfield[1],options);break;case"body":mailtoComponents.body=unescapeComponent(hfield[1],options);break;default:unknownHeaders=!0,headers[unescapeComponent(hfield[0],options)]=unescapeComponent(hfield[1],options)}}unknownHeaders&&(mailtoComponents.headers=headers)}mailtoComponents.query=void 0;for(var _x2=0,_xl2=to.length;_x2<_xl2;++_x2){var addr=to[_x2].split("@");if(addr[0]=unescapeComponent(addr[0]),options.unicodeSupport)addr[1]=unescapeComponent(addr[1],options).toLowerCase();else try{addr[1]=punycode.toASCII(unescapeComponent(addr[1],options).toLowerCase())}catch(e){mailtoComponents.error=mailtoComponents.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}to[_x2]=addr.join("@")}return mailtoComponents},serialize:function(mailtoComponents,options){var obj,components=mailtoComponents,to=null!=(obj=mailtoComponents.to)?obj instanceof Array?obj:"number"!=typeof obj.length||obj.split||obj.setInterval||obj.call?[obj]:Array.prototype.slice.call(obj):[];if(to){for(var x=0,xl=to.length;x<xl;++x){var toAddr=String(to[x]),atIdx=toAddr.lastIndexOf("@"),localPart=toAddr.slice(0,atIdx).replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_LOCAL_PART,pctEncChar),domain=toAddr.slice(atIdx+1);try{domain=options.iri?punycode.toUnicode(domain):punycode.toASCII(unescapeComponent(domain,options).toLowerCase())}catch(e){components.error=components.error||"Email address's domain name can not be converted to "+(options.iri?"Unicode":"ASCII")+" via punycode: "+e}to[x]=localPart+"@"+domain}components.path=to.join(",")}var headers=mailtoComponents.headers=mailtoComponents.headers||{};mailtoComponents.subject&&(headers.subject=mailtoComponents.subject),mailtoComponents.body&&(headers.body=mailtoComponents.body);var fields=[];for(var name in headers)headers[name]!==O[name]&&fields.push(name.replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFNAME,pctEncChar)+"="+headers[name].replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFVALUE,pctEncChar));return fields.length&&(components.query=fields.join("&")),components}},URN_PARSE=/^([^\:]+)\:(.*)/,handler$3={scheme:"urn",parse:function(components,options){var matches=components.path&&components.path.match(URN_PARSE),urnComponents=components;if(matches){var scheme=options.scheme||urnComponents.scheme||"urn",nid=matches[1].toLowerCase(),nss=matches[2],schemeHandler=SCHEMES[scheme+":"+(options.nid||nid)];urnComponents.nid=nid,urnComponents.nss=nss,urnComponents.path=void 0,schemeHandler&&(urnComponents=schemeHandler.parse(urnComponents,options))}else urnComponents.error=urnComponents.error||"URN can not be parsed.";return urnComponents},serialize:function(urnComponents,options){var nid=urnComponents.nid,schemeHandler=SCHEMES[(options.scheme||urnComponents.scheme||"urn")+":"+(options.nid||nid)];schemeHandler&&(urnComponents=schemeHandler.serialize(urnComponents,options));var uriComponents=urnComponents;return uriComponents.path=(nid||options.nid)+":"+urnComponents.nss,uriComponents}},UUID=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,handler$4={scheme:"urn:uuid",parse:function(urnComponents,options){var uuidComponents=urnComponents;return uuidComponents.uuid=uuidComponents.nss,uuidComponents.nss=void 0,options.tolerant||uuidComponents.uuid&&uuidComponents.uuid.match(UUID)||(uuidComponents.error=uuidComponents.error||"UUID is not valid."),uuidComponents},serialize:function(uuidComponents,options){var urnComponents=uuidComponents;return urnComponents.nss=(uuidComponents.uuid||"").toLowerCase(),urnComponents}};SCHEMES[handler.scheme]=handler,SCHEMES[handler$1.scheme]=handler$1,SCHEMES[handler$2.scheme]=handler$2,SCHEMES[handler$3.scheme]=handler$3,SCHEMES[handler$4.scheme]=handler$4,exports.SCHEMES=SCHEMES,exports.pctEncChar=pctEncChar,exports.pctDecChars=pctDecChars,exports.parse=parse,exports.removeDotSegments=removeDotSegments,exports.serialize=serialize,exports.resolveComponents=resolveComponents,exports.resolve=function(baseURI,relativeURI,options){var schemelessOptions=function(target,source){var obj={scheme:"null"};if(source)for(var key in source)obj[key]=source[key];return obj}(0,options);return serialize(resolveComponents(parse(baseURI,schemelessOptions),parse(relativeURI,schemelessOptions),schemelessOptions,!0),schemelessOptions)},exports.normalize=function(uri,options){return"string"==typeof uri?uri=serialize(parse(uri,options),options):"object"===typeOf(uri)&&(uri=parse(serialize(uri,options),options)),uri},exports.equal=function(uriA,uriB,options){return"string"==typeof uriA?uriA=serialize(parse(uriA,options),options):"object"===typeOf(uriA)&&(uriA=serialize(uriA,options)),"string"==typeof uriB?uriB=serialize(parse(uriB,options),options):"object"===typeOf(uriB)&&(uriB=serialize(uriB,options)),uriA===uriB},exports.escapeComponent=function(str,options){return str&&str.toString().replace(options&&options.iri?IRI_PROTOCOL.ESCAPE:URI_PROTOCOL.ESCAPE,pctEncChar)},exports.unescapeComponent=unescapeComponent,Object.defineProperty(exports,"__esModule",{value:!0})}("object"==typeof exports&&void 0!==module?exports:global.URI=global.URI||{})}(this)},{}],ajv:[function(require,module,exports){"use strict";var compileSchema=require("./compile"),resolve=require("./compile/resolve"),Cache=require("./cache"),SchemaObject=require("./compile/schema_obj"),stableStringify=require("fast-json-stable-stringify"),formats=require("./compile/formats"),rules=require("./compile/rules"),$dataMetaSchema=require("./data"),util=require("./compile/util");module.exports=Ajv,Ajv.prototype.validate=function(schemaKeyRef,data){var v;if("string"==typeof schemaKeyRef){if(!(v=this.getSchema(schemaKeyRef)))throw new Error('no schema with key or ref "'+schemaKeyRef+'"')}else{var schemaObj=this._addSchema(schemaKeyRef);v=schemaObj.validate||this._compile(schemaObj)}var valid=v(data);return!0!==v.$async&&(this.errors=v.errors),valid},Ajv.prototype.compile=function(schema,_meta){var schemaObj=this._addSchema(schema,void 0,_meta);return schemaObj.validate||this._compile(schemaObj)},Ajv.prototype.addSchema=function(schema,key,_skipValidation,_meta){if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)this.addSchema(schema[i],void 0,_skipValidation,_meta);return this}var id=this._getId(schema);if(void 0!==id&&"string"!=typeof id)throw new Error("schema id must be string");return checkUnique(this,key=resolve.normalizeId(key||id)),this._schemas[key]=this._addSchema(schema,_skipValidation,_meta,!0),this},Ajv.prototype.addMetaSchema=function(schema,key,skipValidation){return this.addSchema(schema,key,skipValidation,!0),this},Ajv.prototype.validateSchema=function(schema,throwOrLogError){var $schema=schema.$schema;if(void 0!==$schema&&"string"!=typeof $schema)throw new Error("$schema must be a string");if(!($schema=$schema||this._opts.defaultMeta||function(self){var meta=self._opts.meta;return self._opts.defaultMeta="object"==typeof meta?self._getId(meta)||meta:self.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0,self._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var valid=this.validate($schema,schema);if(!valid&&throwOrLogError){var message="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(message);this.logger.error(message)}return valid},Ajv.prototype.getSchema=function(keyRef){var schemaObj=_getSchemaObj(this,keyRef);switch(typeof schemaObj){case"object":return schemaObj.validate||this._compile(schemaObj);case"string":return this.getSchema(schemaObj);case"undefined":return function(self,ref){var res=resolve.schema.call(self,{schema:{}},ref);if(res){var schema=res.schema,root=res.root,baseId=res.baseId,v=compileSchema.call(self,schema,root,void 0,baseId);return self._fragments[ref]=new SchemaObject({ref:ref,fragment:!0,schema:schema,root:root,baseId:baseId,validate:v}),v}}(this,keyRef)}},Ajv.prototype.removeSchema=function(schemaKeyRef){if(schemaKeyRef instanceof RegExp)return _removeAllSchemas(this,this._schemas,schemaKeyRef),_removeAllSchemas(this,this._refs,schemaKeyRef),this;switch(typeof schemaKeyRef){case"undefined":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case"string":var schemaObj=_getSchemaObj(this,schemaKeyRef);return schemaObj&&this._cache.del(schemaObj.cacheKey),delete this._schemas[schemaKeyRef],delete this._refs[schemaKeyRef],this;case"object":var serialize=this._opts.serialize,cacheKey=serialize?serialize(schemaKeyRef):schemaKeyRef;this._cache.del(cacheKey);var id=this._getId(schemaKeyRef);id&&(id=resolve.normalizeId(id),delete this._schemas[id],delete this._refs[id])}return this},Ajv.prototype.addFormat=function(name,format){return"string"==typeof format&&(format=new RegExp(format)),this._formats[name]=format,this},Ajv.prototype.errorsText=function(errors,options){if(!(errors=errors||this.errors))return"No errors";for(var separator=void 0===(options=options||{}).separator?", ":options.separator,dataVar=void 0===options.dataVar?"data":options.dataVar,text="",i=0;i<errors.length;i++){var e=errors[i];e&&(text+=dataVar+e.dataPath+" "+e.message+separator)}return text.slice(0,-separator.length)},Ajv.prototype._addSchema=function(schema,skipValidation,meta,shouldAddSchema){if("object"!=typeof schema&&"boolean"!=typeof schema)throw new Error("schema should be object or boolean");var serialize=this._opts.serialize,cacheKey=serialize?serialize(schema):schema,cached=this._cache.get(cacheKey);if(cached)return cached;shouldAddSchema=shouldAddSchema||!1!==this._opts.addUsedSchema;var id=resolve.normalizeId(this._getId(schema));id&&shouldAddSchema&&checkUnique(this,id);var recursiveMeta,willValidate=!1!==this._opts.validateSchema&&!skipValidation;willValidate&&!(recursiveMeta=id&&id==resolve.normalizeId(schema.$schema))&&this.validateSchema(schema,!0);var localRefs=resolve.ids.call(this,schema),schemaObj=new SchemaObject({id:id,schema:schema,localRefs:localRefs,cacheKey:cacheKey,meta:meta});return"#"!=id[0]&&shouldAddSchema&&(this._refs[id]=schemaObj),this._cache.put(cacheKey,schemaObj),willValidate&&recursiveMeta&&this.validateSchema(schema,!0),schemaObj},Ajv.prototype._compile=function(schemaObj,root){if(schemaObj.compiling)return schemaObj.validate=callValidate,callValidate.schema=schemaObj.schema,callValidate.errors=null,callValidate.root=root||callValidate,!0===schemaObj.schema.$async&&(callValidate.$async=!0),callValidate;var currentOpts,v;schemaObj.compiling=!0,schemaObj.meta&&(currentOpts=this._opts,this._opts=this._metaOpts);try{v=compileSchema.call(this,schemaObj.schema,root,schemaObj.localRefs)}catch(e){throw delete schemaObj.validate,e}finally{schemaObj.compiling=!1,schemaObj.meta&&(this._opts=currentOpts)}return schemaObj.validate=v,schemaObj.refs=v.refs,schemaObj.refVal=v.refVal,schemaObj.root=v.root,v;function callValidate(){var _validate=schemaObj.validate,result=_validate.apply(this,arguments);return callValidate.errors=_validate.errors,result}},Ajv.prototype.compileAsync=require("./compile/async");var customKeyword=require("./keyword");Ajv.prototype.addKeyword=customKeyword.add,Ajv.prototype.getKeyword=customKeyword.get,Ajv.prototype.removeKeyword=customKeyword.remove,Ajv.prototype.validateKeyword=customKeyword.validate;var errorClasses=require("./compile/error_classes");Ajv.ValidationError=errorClasses.Validation,Ajv.MissingRefError=errorClasses.MissingRef,Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID="http://json-schema.org/draft-07/schema",META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],META_SUPPORT_DATA=["/properties"];function Ajv(opts){if(!(this instanceof Ajv))return new Ajv(opts);opts=this._opts=util.copy(opts)||{},function(self){var logger=self._opts.logger;if(!1===logger)self.logger={log:noop,warn:noop,error:noop};else{if(void 0===logger&&(logger=console),!("object"==typeof logger&&logger.log&&logger.warn&&logger.error))throw new Error("logger must implement log, warn and error methods");self.logger=logger}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=formats(opts.format),this._cache=opts.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this._getId=function(opts){switch(opts.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}(opts),opts.loopRequired=opts.loopRequired||1/0,"property"==opts.errorDataPath&&(opts._errorDataPathProperty=!0),void 0===opts.serialize&&(opts.serialize=stableStringify),this._metaOpts=function(self){for(var metaOpts=util.copy(self._opts),i=0;i<META_IGNORE_OPTIONS.length;i++)delete metaOpts[META_IGNORE_OPTIONS[i]];return metaOpts}(this),opts.formats&&function(self){for(var name in self._opts.formats)self.addFormat(name,self._opts.formats[name])}(this),function(self){var $dataSchema;if(self._opts.$data&&($dataSchema=require("./refs/data.json"),self.addMetaSchema($dataSchema,$dataSchema.$id,!0)),!1!==self._opts.meta){var metaSchema=require("./refs/json-schema-draft-07.json");self._opts.$data&&(metaSchema=$dataMetaSchema(metaSchema,META_SUPPORT_DATA)),self.addMetaSchema(metaSchema,META_SCHEMA_ID,!0),self._refs["http://json-schema.org/schema"]=META_SCHEMA_ID}}(this),"object"==typeof opts.meta&&this.addMetaSchema(opts.meta),opts.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(self){var optsSchemas=self._opts.schemas;if(optsSchemas)if(Array.isArray(optsSchemas))self.addSchema(optsSchemas);else for(var key in optsSchemas)self.addSchema(optsSchemas[key],key)}(this)}function _getSchemaObj(self,keyRef){return keyRef=resolve.normalizeId(keyRef),self._schemas[keyRef]||self._refs[keyRef]||self._fragments[keyRef]}function _removeAllSchemas(self,schemas,regex){for(var keyRef in schemas){var schemaObj=schemas[keyRef];schemaObj.meta||regex&&!regex.test(keyRef)||(self._cache.del(schemaObj.cacheKey),delete schemas[keyRef])}}function _getId(schema){return schema.$id&&this.logger.warn("schema $id ignored",schema.$id),schema.id}function _get$Id(schema){return schema.id&&this.logger.warn("schema id ignored",schema.id),schema.$id}function _get$IdOrId(schema){if(schema.$id&&schema.id&&schema.$id!=schema.id)throw new Error("schema $id is different from id");return schema.$id||schema.id}function checkUnique(self,id){if(self._schemas[id]||self._refs[id])throw new Error('schema with key or id "'+id+'" already exists')}function noop(){}},{"./cache":1,"./compile":5,"./compile/async":2,"./compile/error_classes":3,"./compile/formats":4,"./compile/resolve":6,"./compile/rules":7,"./compile/schema_obj":8,"./compile/util":10,"./data":11,"./keyword":39,"./refs/data.json":40,"./refs/json-schema-draft-07.json":41,"fast-json-stable-stringify":43}]},{},[])("ajv")}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.QRious=e()}(this,function(){"use strict";function t(t,e){var n;return"function"==typeof Object.create?n=Object.create(t):(s.prototype=t,n=new s,s.prototype=null),e&&i(!0,n,e),n}function i(t,e,i){for(var n,s,a=0,h=(i=o.call(arguments,2)).length;a<h;a++)for(n in s=i[a])t&&!r.call(s,n)||(e[n]=s[n])}function n(){}var s=function(){},r=Object.prototype.hasOwnProperty,o=Array.prototype.slice;n.class_="Nevis",n.super_=Object,n.extend=function(e,n,s,r){var o=this;return"string"!=typeof e&&(r=s,s=n,n=e,e=null),"function"!=typeof n&&(r=s,s=n,n=function(){return o.apply(this,arguments)}),i(!1,n,o,r),n.prototype=t(o.prototype,s),n.prototype.constructor=n,n.class_=e||o.class_,n.super_=o,n};var h=n,f=h.extend(function(t,e,i){this.qrious=t,this.element=e,this.element.qrious=t,this.enabled=Boolean(i)},{draw:function(t){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(t){var e=this.qrious,n=Math.floor((e.size-2*(e.padding||0))/t.width);return Math.max(1,n)},getOffset:function(t){var e=this.qrious,i=e.padding;if(null!=i)return i;var n=this.getModuleSize(t),s=Math.floor((e.size-n*t.width)/2);return Math.max(0,s)},render:function(t){this.enabled&&(this.resize(),this.reset(),this.draw(t))},reset:function(){},resize:function(){}}),c=f.extend({draw:function(t){var e,i,n=this.qrious,s=this.getModuleSize(t),r=this.getOffset(t),o=this.element.getContext("2d");for(o.fillStyle=n.foreground,o.globalAlpha=n.foregroundAlpha,e=0;e<t.width;e++)for(i=0;i<t.width;i++)t.buffer[i*t.width+e]&&o.fillRect(s*e+r,s*i+r,s,s)},reset:function(){var t=this.qrious,e=this.element.getContext("2d"),i=t.size;e.lineWidth=1,e.clearRect(0,0,i,i),e.fillStyle=t.background,e.globalAlpha=t.backgroundAlpha,e.fillRect(0,0,i,i)},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),u=h.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),l=h.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),_=h.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),d=h.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),v=h.extend(function(t){var e,i,n,s,r,o=t.value.length;for(this._badness=[],this._level=l.LEVELS[t.level],this._polynomial=[],this._value=t.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,n=4*(this._level-1)+16*(this._version-1),s=l.BLOCKS[n++],r=l.BLOCKS[n++],e=l.BLOCKS[n++],i=l.BLOCKS[n],!(o<=(n=e*(s+r)+r-3+(this._version<=9)))););this._dataBlock=e,this._eccBlock=i,this._neccBlock1=s,this._neccBlock2=r;var a=this.width=17+4*this._version;this.buffer=v._createArray(a*a),this._ecc=v._createArray(e+(e+i)*(s+r)+r),this._mask=v._createArray((a*(a+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+a*(a-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(o),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(t,e){var i,n=this.buffer,s=this.width;for(n[t+s*e]=1,i=-2;i<2;i++)n[t+i+s*(e-2)]=1,n[t-2+s*(e+i+1)]=1,n[t+2+s*(e+i)]=1,n[t+i+1+s*(e+2)]=1;for(i=0;i<2;i++)this._setMask(t-1,e+i),this._setMask(t+1,e-i),this._setMask(t-i,e-1),this._setMask(t+i,e+1)},_appendData:function(t,e,i,n){var s,r,o,a=this._polynomial,h=this._stringBuffer;for(r=0;r<n;r++)h[i+r]=0;for(r=0;r<e;r++){if(255!==(s=_.LOG[h[t+r]^h[i]]))for(o=1;o<n;o++)h[i+o-1]=h[i+o]^_.EXPONENT[v._modN(s+a[n-o])];else for(o=i;o<i+n;o++)h[o]=h[o+1];h[i+n-1]=255===s?0:_.EXPONENT[v._modN(s+a[0])]}},_appendEccToData:function(){var t,e=0,i=this._dataBlock,n=this._calculateMaxLength(),s=this._eccBlock;for(t=0;t<this._neccBlock1;t++)this._appendData(e,i,n,s),e+=i,n+=s;for(t=0;t<this._neccBlock2;t++)this._appendData(e,i+1,n,s),e+=i+1,n+=s},_applyMask:function(t){var e,i,n,s,r=this.buffer,o=this.width;switch(t){case 0:for(s=0;s<o;s++)for(n=0;n<o;n++)n+s&1||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 1:for(s=0;s<o;s++)for(n=0;n<o;n++)1&s||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 2:for(s=0;s<o;s++)for(e=0,n=0;n<o;n++,e++)3===e&&(e=0),e||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 3:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=i,n=0;n<o;n++,e++)3===e&&(e=0),e||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 4:for(s=0;s<o;s++)for(e=0,i=s>>1&1,n=0;n<o;n++,e++)3===e&&(e=0,i=!i),i||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 5:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=0,n=0;n<o;n++,e++)3===e&&(e=0),(n&s&1)+!(!e|!i)||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 6:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=0,n=0;n<o;n++,e++)3===e&&(e=0),(n&s&1)+(e&&e===i)&1||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 7:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=0,n=0;n<o;n++,e++)3===e&&(e=0),(e&&e===i)+(n+s&1)&1||this._isMasked(n,s)||(r[n+s*o]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var t,e,i=this._eccBlock,n=this._polynomial;for(n[0]=1,t=0;t<i;t++){for(n[t+1]=1,e=t;e>0;e--)n[e]=n[e]?n[e-1]^_.EXPONENT[v._modN(_.LOG[n[e]]+t)]:n[e-1];n[0]=_.EXPONENT[v._modN(_.LOG[n[0]]+t)]}for(t=0;t<=i;t++)n[t]=_.LOG[n[t]]},_checkBadness:function(){var t,e,i,n,s,r=0,o=this._badness,a=this.buffer,h=this.width;for(s=0;s<h-1;s++)for(n=0;n<h-1;n++)(a[n+h*s]&&a[n+1+h*s]&&a[n+h*(s+1)]&&a[n+1+h*(s+1)]||!(a[n+h*s]||a[n+1+h*s]||a[n+h*(s+1)]||a[n+1+h*(s+1)]))&&(r+=v.N2);var f=0;for(s=0;s<h;s++){for(i=0,o[0]=0,t=0,n=0;n<h;n++)t===(e=a[n+h*s])?o[i]++:o[++i]=1,f+=(t=e)?1:-1;r+=this._getBadness(i)}f<0&&(f=-f);var c=0,u=f;for(u+=u<<2,u<<=1;u>h*h;)u-=h*h,c++;for(r+=c*v.N4,n=0;n<h;n++){for(i=0,o[0]=0,t=0,s=0;s<h;s++)t===(e=a[n+h*s])?o[i]++:o[++i]=1,t=e;r+=this._getBadness(i)}return r},_convertBitStream:function(t){var e,i,n=this._ecc,s=this._version;for(i=0;i<t;i++)n[i]=this._value.charCodeAt(i);var r=this._stringBuffer=n.slice(),o=this._calculateMaxLength();t>=o-2&&(t=o-2,s>9&&t--);var a=t;if(s>9){for(r[a+2]=0,r[a+3]=0;a--;)r[a+3]|=255&(e=r[a])<<4,r[a+2]=e>>4;r[2]|=255&t<<4,r[1]=t>>4,r[0]=64|t>>12}else{for(r[a+1]=0,r[a+2]=0;a--;)r[a+2]|=255&(e=r[a])<<4,r[a+1]=e>>4;r[1]|=255&t<<4,r[0]=64|t>>4}for(a=t+3-(s<10);a<o;)r[a++]=236,r[a++]=17},_getBadness:function(t){var e,i=0,n=this._badness;for(e=0;e<=t;e++)n[e]>=5&&(i+=v.N1+n[e]-5);for(e=3;e<t-1;e+=2)n[e-2]===n[e+2]&&n[e+2]===n[e-1]&&n[e-1]===n[e+1]&&3*n[e-1]===n[e]&&(0===n[e-3]||e+3>t||3*n[e-3]>=4*n[e]||3*n[e+3]>=4*n[e])&&(i+=v.N3);return i},_finish:function(){this._stringBuffer=this.buffer.slice();var t,e,i=0,n=3e4;for(e=0;e<8&&(this._applyMask(e),(t=this._checkBadness())<n&&(n=t,i=e),7!==i);e++)this.buffer=this._stringBuffer.slice();i!==e&&this._applyMask(i),n=l.FINAL_FORMAT[i+(this._level-1<<3)];var s=this.buffer,r=this.width;for(e=0;e<8;e++,n>>=1)1&n&&(s[r-1-e+8*r]=1,e<6?s[8+r*e]=1:s[8+r*(e+1)]=1);for(e=0;e<7;e++,n>>=1)1&n&&(s[8+r*(r-7+e)]=1,e?s[6-e+8*r]=1:s[7+8*r]=1)},_interleaveBlocks:function(){var t,e,i=this._dataBlock,n=this._ecc,s=this._eccBlock,r=0,o=this._calculateMaxLength(),a=this._neccBlock1,h=this._neccBlock2,f=this._stringBuffer;for(t=0;t<i;t++){for(e=0;e<a;e++)n[r++]=f[t+e*i];for(e=0;e<h;e++)n[r++]=f[a*i+t+e*(i+1)]}for(e=0;e<h;e++)n[r++]=f[a*i+t+e*(i+1)];for(t=0;t<s;t++)for(e=0;e<a+h;e++)n[r++]=f[o+t+e*s];this._stringBuffer=n},_insertAlignments:function(){var t,e,i,n=this._version,s=this.width;if(n>1)for(t=u.BLOCK[n],i=s-7;;){for(e=s-7;e>t-3&&(this._addAlignment(e,i),!(e<t));)e-=t;if(i<=t+9)break;this._addAlignment(6,i-=t),this._addAlignment(i,6)}},_insertFinders:function(){var t,e,i,n,s=this.buffer,r=this.width;for(t=0;t<3;t++){for(e=0,n=0,1===t&&(e=r-7),2===t&&(n=r-7),s[n+3+r*(e+3)]=1,i=0;i<6;i++)s[n+i+r*e]=1,s[n+r*(e+i+1)]=1,s[n+6+r*(e+i)]=1,s[n+i+1+r*(e+6)]=1;for(i=1;i<5;i++)this._setMask(n+i,e+1),this._setMask(n+1,e+i+1),this._setMask(n+5,e+i),this._setMask(n+i+1,e+5);for(i=2;i<4;i++)s[n+i+r*(e+2)]=1,s[n+2+r*(e+i+1)]=1,s[n+4+r*(e+i)]=1,s[n+i+1+r*(e+4)]=1}},_insertTimingGap:function(){var t,e,i=this.width;for(e=0;e<7;e++)this._setMask(7,e),this._setMask(i-8,e),this._setMask(7,e+i-7);for(t=0;t<8;t++)this._setMask(t,7),this._setMask(t+i-8,7),this._setMask(t,i-8)},_insertTimingRowAndColumn:function(){var t,e=this.buffer,i=this.width;for(t=0;t<i-14;t++)1&t?(this._setMask(8+t,6),this._setMask(6,8+t)):(e[8+t+6*i]=1,e[6+i*(8+t)]=1)},_insertVersion:function(){var t,e,i,n,s=this.buffer,r=this._version,o=this.width;if(r>6)for(t=d.BLOCK[r-7],e=17,i=0;i<6;i++)for(n=0;n<3;n++,e--)1&(e>11?r>>e-12:t>>e)?(s[5-i+o*(2-n+o-11)]=1,s[2-n+o-11+o*(5-i)]=1):(this._setMask(5-i,2-n+o-11),this._setMask(2-n+o-11,5-i))},_isMasked:function(t,e){var i=v._getMaskBit(t,e);return 1===this._mask[i]},_pack:function(){var t,e,i,n=1,s=1,r=this.width,o=r-1,a=r-1,h=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(e=0;e<h;e++)for(t=this._stringBuffer[e],i=0;i<8;i++,t<<=1){128&t&&(this.buffer[o+r*a]=1);do{s?o--:(o++,n?0!==a?a--:(n=!n,6==(o-=2)&&(o--,a=9)):a!==r-1?a++:(n=!n,6==(o-=2)&&(o--,a-=8))),s=!s}while(this._isMasked(o,a))}},_reverseMask:function(){var t,e,i=this.width;for(t=0;t<9;t++)this._setMask(t,8);for(t=0;t<8;t++)this._setMask(t+i-8,8),this._setMask(8,t);for(e=0;e<7;e++)this._setMask(8,e+i-7)},_setMask:function(t,e){var i=v._getMaskBit(t,e);this._mask[i]=1},_syncMask:function(){var t,e,i=this.width;for(e=0;e<i;e++)for(t=0;t<=e;t++)this.buffer[t+i*e]&&this._setMask(t,e)}},{_createArray:function(t){var e,i=[];for(e=0;e<t;e++)i[e]=0;return i},_getMaskBit:function(t,e){var i;return t>e&&(i=t,t=e,e=i),i=e,i+=e*e,(i>>=1)+t},_modN:function(t){for(;t>=255;)t=((t-=255)>>8)+(255&t);return t},N1:3,N2:3,N3:40,N4:10}),p=v,m=f.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),g=h.extend(function(t,e,i,n){this.name=t,this.modifiable=Boolean(e),this.defaultValue=i,this._valueTransformer=n},{transform:function(t){var e=this._valueTransformer;return"function"==typeof e?e(t,this):t}}),k=h.extend(null,{abs:function(t){return null!=t?Math.abs(t):null},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},noop:function(){},toUpperCase:function(t){return null!=t?t.toUpperCase():null}}),w=h.extend(function(t){this.options={},t.forEach(function(t){this.options[t.name]=t},this)},{exists:function(t){return null!=this.options[t]},get:function(t,e){return w._get(this.options[t],e)},getAll:function(t){var e,i=this.options,n={};for(e in i)k.hasOwn(i,e)&&(n[e]=w._get(i[e],t));return n},init:function(t,e,i){var n,s;for(n in"function"!=typeof i&&(i=k.noop),this.options)k.hasOwn(this.options,n)&&(w._set(s=this.options[n],s.defaultValue,e),w._createAccessor(s,e,i));this._setAll(t,e,!0)},set:function(t,e,i){return this._set(t,e,i)},setAll:function(t,e){return this._setAll(t,e)},_set:function(t,e,i,n){var s=this.options[t];if(!s)throw new Error("Invalid option: "+t);if(!s.modifiable&&!n)throw new Error("Option cannot be modified: "+t);return w._set(s,e,i)},_setAll:function(t,e,i){if(!t)return!1;var n,s=!1;for(n in t)k.hasOwn(t,n)&&this._set(n,t[n],e,i)&&(s=!0);return s}},{_createAccessor:function(t,e,i){var n={get:function(){return w._get(t,e)}};t.modifiable&&(n.set=function(n){w._set(t,n,e)&&i(n,t)}),Object.defineProperty(e,t.name,n)},_get:function(t,e){return e["_"+t.name]},_set:function(t,e,i){var n="_"+t.name,s=i[n],r=t.transform(null!=e?e:t.defaultValue);return i[n]=r,r!==s}}),M=w,b=h.extend(function(){this._services={}},{getService:function(t){var e=this._services[t];if(!e)throw new Error("Service is not being managed with name: "+t);return e},setService:function(t,e){if(this._services[t])throw new Error("Service is already managed with name: "+t);e&&(this._services[t]=e)}}),B=new M([new g("background",!0,"white"),new g("backgroundAlpha",!0,1,k.abs),new g("element"),new g("foreground",!0,"black"),new g("foregroundAlpha",!0,1,k.abs),new g("level",!0,"L",k.toUpperCase),new g("mime",!0,"image/png"),new g("padding",!0,null,k.abs),new g("size",!0,100,k.abs),new g("value",!0,"")]),y=new b,O=h.extend(function(t){B.init(t,this,this.update.bind(this));var e=B.get("element",this),i=y.getService("element"),n=e&&i.isCanvas(e)?e:i.createCanvas(),s=e&&i.isImage(e)?e:i.createImage();this._canvasRenderer=new c(this,n,!0),this._imageRenderer=new m(this,s,s===e),this.update()},{get:function(){return B.getAll(this)},set:function(t){B.setAll(t,this)&&this.update()},toDataURL:function(t){return this.canvas.toDataURL(t||this.mime)},update:function(){var t=new p({level:this.level,value:this.value});this._canvasRenderer.render(t),this._imageRenderer.render(t)}},{use:function(t){y.setService(t.getName(),t)}});Object.defineProperties(O.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var A=O,L=h.extend({getName:function(){}}).extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(t){},isImage:function(t){}}).extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(t){return t instanceof HTMLCanvasElement},isImage:function(t){return t instanceof HTMLImageElement}});return A.use(new L),A});