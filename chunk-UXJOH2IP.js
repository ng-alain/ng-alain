import{c as kn,d as In}from"./chunk-2VFOYXSE.js";import{B as xn,H as Nn,J as Tn,K as Fn,P as An,e as cn,h as zn,i as _n,j as yn,k as Cn,l as Sn,m as En,v as Dn,w as fe,z as Mn}from"./chunk-QIVRPXUI.js";import{$ as dn,Da as U,Ea as q,Ga as he,Ha as se,Ia as ge,Ja as ve,Ra as Bn,W as mn,_ as un,ba as fn,ea as hn,ga as gn,ha as vn,j,l as V,n as W,o as oe,oa as Ve,pa as We,q as re,s as G,t as ae,ta as H,u as pn,va as Ge,wa as bn,za as wn}from"./chunk-G47KU2AF.js";import{$ as pe,$a as Wt,Ab as y,Ac as ke,B as Bt,Ba as Rt,Bb as C,Cb as S,Ea as l,Eb as Zt,F as Ce,Fa as Se,Fb as M,Gb as be,Ia as Pt,Ig as Oe,Ja as Ot,K as Ye,Kb as ee,Lb as te,Ma as Fe,Mc as Kt,Na as k,Nb as Qt,Nc as Yt,Of as nn,Pa as p,Pc as $t,Q as At,Qa as Be,Qf as w,Qg as je,Ra as jt,Rc as Ie,Rf as N,S as kt,Sc as Le,Tf as T,Uf as on,Vb as me,Wb as et,X as $e,Xb as ue,Ya as $,Yc as tt,Za as Vt,Zc as en,_b as Jt,_f as rn,_g as sn,a as L,aa as A,ab as Gt,ba as v,bb as r,bd as de,bh as ln,ca as R,cb as a,cd as ie,d as Yn,da as Me,db as D,dc as Ae,dd as Re,ed as Pe,f as xt,fa as E,fd as tn,g as Nt,ga as b,gd as nt,hb as O,hh as F,id as we,j as _e,ja as xe,k as Ke,kb as h,l as De,la as Y,ma as P,mb as _,mc as ne,na as It,nb as Ht,ob as Ut,pc as ce,q as Tt,qb as Ee,ra as Ne,s as ye,sa as f,tc as Xt,vb as Q,vg as an,w as Ft,wa as Te,wb as m,xb as qt,yb as I,za as Lt}from"./chunk-CKY6JSTV.js";var rt=Yn((it,ot)=>{"use strict";(function(o,n){typeof define=="function"&&define.amd?define([],n):typeof it<"u"?n():(n(),o.FileSaver={})})(it,function(){"use strict";function o(s,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function n(s,c,z){var g=new XMLHttpRequest;g.open("GET",s),g.responseType="blob",g.onload=function(){u(g.response,c,z)},g.onerror=function(){console.error("could not download file")},g.send()}function d(s){var c=new XMLHttpRequest;c.open("HEAD",s,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function t(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(c)}}var e=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=e.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=e.saveAs||(typeof window!="object"||window!==e?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(s,c,z){var g=e.URL||e.webkitURL,B=document.createElement("a");c=c||s.name||"download",B.download=c,B.rel="noopener",typeof s=="string"?(B.href=s,B.origin===location.origin?t(B):d(B.href)?n(s,c,z):t(B,B.target="_blank")):(B.href=g.createObjectURL(s),setTimeout(function(){g.revokeObjectURL(B.href)},4e4),setTimeout(function(){t(B)},0))}:"msSaveOrOpenBlob"in navigator?function(s,c,z){if(c=c||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(o(s,z),c);else if(d(s))n(s,c,z);else{var g=document.createElement("a");g.href=s,g.target="_blank",setTimeout(function(){t(g)})}}:function(s,c,z,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof s=="string")return n(s,c,z);var B=s.type==="application/octet-stream",Qe=/constructor/i.test(e.HTMLElement)||e.safari,Dt=/CriOS\/[\d]+/.test(navigator.userAgent);if((Dt||B&&Qe||i)&&typeof FileReader<"u"){var Je=new FileReader;Je.onloadend=function(){var ze=Je.result;ze=Dt?ze:ze.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=ze:location=ze,g=null},Je.readAsDataURL(s)}else{var Mt=e.URL||e.webkitURL,Xe=Mt.createObjectURL(s);g?g.location=Xe:location.href=Xe,g=null,setTimeout(function(){Mt.revokeObjectURL(Xe)},4e4)}});e.saveAs=u.saveAs=u,typeof ot<"u"&&(ot.exports=u)})});var Ln=xt(rt(),1);var Rn=(()=>{let n=class n{getDisposition(t){return(t||"").split(";").filter(i=>i.includes("=")).map(i=>{let u=i.split("="),s="UTF-8''",c=u[1];return c.startsWith(s)&&(c=c.substring(s.length)),{[u[0].trim()]:c}}).reduce((i,u)=>u,{})}constructor(){this.el=f(xe).nativeElement,this._http=f(je),this.httpMethod="get",this.success=new pe,this.error=new pe,this.isFileSaverSupported=!1;try{this.isFileSaverSupported=!!new Blob}catch{}this.isFileSaverSupported||this.el.classList.add("down-file__not-support")}setDisabled(t){let e=this.el;e.disabled=t,e.classList[t?"add":"remove"]("down-file__disabled")}_click(t){return Nt(this,null,function*(){if(!this.isFileSaverSupported||typeof this.pre=="function"&&!(yield this.pre(t))){t.stopPropagation(),t.preventDefault();return}this.setDisabled(!0),this._http.request(this.httpMethod,this.httpUrl,{params:this.httpData||{},responseType:"blob",observe:"response",body:this.httpBody}).pipe(At(()=>this.setDisabled(!1))).subscribe({next:e=>{if(e.status!==200||e.body.size<=0){this.error.emit(e);return}let i=this.getDisposition(e.headers.get("content-disposition")),u=this.fileName;typeof u=="function"&&(u=u(e)),u=u||i["filename*"]||i.filename||e.headers.get("filename")||e.headers.get("x-filename"),(0,Ln.saveAs)(e.body,decodeURI(u)),this.success.emit(e)},error:e=>this.error.emit(e)})})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Me({type:n,selectors:[["","down-file",""]],hostBindings:function(e,i){e&1&&h("click",function(s){return i._click(s)})},inputs:{httpData:[A.None,"http-data","httpData"],httpBody:[A.None,"http-body","httpBody"],httpMethod:[A.None,"http-method","httpMethod"],httpUrl:[A.None,"http-url","httpUrl"],fileName:[A.None,"file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"],standalone:!0});let o=n;return o})();var Pn=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=R({type:n}),n.\u0275inj=P({imports:[ce,sn]});let o=n;return o})();var ei=["*"],ti=(()=>{let n=class n{constructor(){this._change=new De(null)}toggle(){this._change.next(!0)}get change(){return this._change.pipe(kt())}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),at="full-content__body",st="full-content__opened",lt="full-content__hidden-title",pt=(()=>{let n=class n{constructor(){this.destroy$=f(Pt),this.el=f(xe).nativeElement,this.cdr=f(me),this.srv=f(ti),this.router=f(Ie),this.doc=f(Jt),this.bodyEl=this.doc.querySelector("body"),this.inited=!1,this.id=`_full-content-${Math.random().toString(36).substring(2)}`,this._height=0,this.hideTitle=!0,this.padding=24,this.fullscreenChange=new pe}updateCls(){let t=this.bodyEl.classList;this.fullscreen?(t.add(st),this.hideTitle&&t.add(lt)):(t.remove(st),this.hideTitle&&t.remove(lt))}update(){this.updateCls(),this.updateHeight(),this.fullscreenChange.emit(this.fullscreen)}updateHeight(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.getBoundingClientRect().top-this.padding,this.cdr.detectChanges()}removeInBody(){this.bodyEl.classList.remove(at,st,lt)}ngOnInit(){this.inited=!0,this.bodyEl.classList.add(at),this.el.id=this.id,this.updateCls(),Bt(window,"resize").pipe(Re(this.destroy$),Ye(200)).subscribe(()=>this.updateHeight()),this.srv.change.pipe(Re(this.destroy$),Ce(t=>t!==null)).subscribe(()=>this.toggle()),this.router.events.pipe(Re(this.destroy$),Ce(t=>t instanceof Kt||t instanceof Yt),Ye(200)).subscribe(()=>{this.doc.querySelector(`#${this.id}`)?(this.bodyEl.classList.add(at),this.updateCls()):this.removeInBody()})}toggle(){this.fullscreen=!this.fullscreen,this.update(),this.updateHeight()}ngAfterViewInit(){setTimeout(()=>this.updateHeight())}ngOnChanges(){this.inited&&this.update()}ngOnDestroy(){this.removeInBody()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["full-content"]],hostVars:4,hostBindings:function(e,i){e&2&&(Be("height",i._height,"px"),jt("full-content",!0))},inputs:{fullscreen:[A.HasDecoratorInputTransform,"fullscreen","fullscreen",et],hideTitle:[A.HasDecoratorInputTransform,"hideTitle","hideTitle",et],padding:[A.HasDecoratorInputTransform,"padding","padding",ue]},outputs:{fullscreenChange:"fullscreenChange"},exportAs:["fullContent"],standalone:!0,features:[Fe,Te,Zt],ngContentSelectors:ei,decls:1,vars:0,template:function(e,i){e&1&&(Ht(),Ut(0))},encapsulation:2,changeDetection:0});let o=n;return o})(),On=(()=>{let n=class n{constructor(){this.parent=f(pt)}_click(){this.parent.toggle()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Me({type:n,selectors:[["","full-toggle",""]],hostBindings:function(e,i){e&1&&h("click",function(){return i._click()})},exportAs:["fullToggle"],standalone:!0});let o=n;return o})();var jn=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=R({type:n}),n.\u0275inj=P({imports:[ce]});let o=n;return o})();function ii(o,n){if(o&1&&D(0,"img",1),o&2){let d=_();p("src",d.dataURL,Rt)}}var oi={lib:"https://cdn.jsdelivr.net/npm/qrious/dist/qrious.min.js",background:"white",backgroundAlpha:1,foreground:"black",foregroundAlpha:1,level:"L",mime:"image/png",padding:10,size:220,delay:0},Wn=(()=>{let n=class n{constructor(t,e,i,u){this.cdr=t,this.lazySrv=i,this.platform=u,this.inited=!1,this.value="",this.change=new pe,this.cog=e.merge("qr",oi),Object.assign(this,this.cog)}init(){this.inited&&(this.qr==null&&(this.qr=new window.QRious),this.qr.set(this.option),this.dataURL=this.qr.toDataURL(),this.change.emit(this.dataURL),this.cdr.detectChanges())}initDelay(){this.inited=!0,setTimeout(()=>this.init(),this.delay)}ngAfterViewInit(){if(!this.platform.isBrowser)return;if(window.QRious){this.initDelay();return}let t=this.cog.lib;this.lazy$=this.lazySrv.change.pipe(Ce(e=>e.length===1&&e[0].path===t&&e[0].status==="ok")).subscribe(()=>this.initDelay()),this.lazySrv.load(t)}ngOnChanges(){let t={background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,mime:this.mime,padding:this.padding,size:this.size,value:typeof this.value=="function"?this.value():this.toUtf8ByteArray(this.value)};this.option=t,this.init()}toUtf8ByteArray(t){t=encodeURI(t);let e=[];for(let i=0;i<t.length;i++)t.charAt(i)!=="%"?e.push(t.charCodeAt(i)):(e.push(parseInt(t.substring(i+1,2),16)),i+=2);return e.map(i=>String.fromCharCode(i)).join("")}ngOnDestroy(){this.lazy$&&this.lazy$.unsubscribe()}};n.\u0275fac=function(e){return new(e||n)(Se(me),Se(ie),Se(de),Se(we))},n.\u0275cmp=v({type:n,selectors:[["qr"]],hostVars:6,hostBindings:function(e,i){e&2&&Be("display","inline-block")("height",i.size,"px")("width",i.size,"px")},inputs:{background:"background",backgroundAlpha:"backgroundAlpha",foreground:"foreground",foregroundAlpha:"foregroundAlpha",level:"level",mime:"mime",padding:[A.HasDecoratorInputTransform,"padding","padding",t=>t==null?null:ue(t)],size:[A.HasDecoratorInputTransform,"size","size",ue],value:"value",delay:[A.HasDecoratorInputTransform,"delay","delay",ue]},outputs:{change:"change"},exportAs:["qr"],features:[Fe,Te],decls:1,vars:1,consts:[["style","max-width: 100%; max-height: 100%;",3,"src"],[2,"max-width","100%","max-height","100%",3,"src"]],template:function(e,i){e&1&&k(0,ii,1,1,"img",0),e&2&&$(0,i.dataURL?0:-1)},encapsulation:2,changeDetection:0});let o=n;return o})();var Gn=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=R({type:n}),n.\u0275inj=P({imports:[ce]});let o=n;return o})();var mt=(()=>{let n=class n{constructor(){this.aclSrv=f(Pe),this.menuSrv=f(Oe),this.full=!0,this.roleA="",this.roleB=""}get data(){return this.aclSrv.data}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA=this.roleA==="role-a"?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB=this.roleB==="role-b"?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94AE\u7C92\u5EA6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91CF"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89D2\u8272[role-a]"],["nzTitle","\u89D2\u8272[role-b]"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," ACL \u8BBF\u95EE\u63A7\u5236 "),r(3,"small"),m(4,"\u6CE8\u610F\u89C2\u5BDF\u5DE6\u8FB9\u7684\u83DC\u5355\uFF1BACLService\u63D0\u4F9B\u4E00\u4E2A\u5B8C\u6574\u7684\u57FA\u4E8E\u89D2\u8272\u7684\u8BBF\u95EE\u63A7\u5236\u7684\u670D\u52A1\uFF0C\u82E5\u9700\u8981\u652F\u6301\u8DEF\u7531\u5B88\u536B\uFF0C\u8BF7\u914D\u5408ACLService\u4E0ERoute Guard\u914D\u5408\u7B80\u4FBF\u5B9E\u73B0\u3002"),a()()(),r(5,"div",1)(6,"div",2)(7,"nz-card",3),m(8),ee(9,"json"),r(10,"button",4),m(11,"role-a"),a(),r(12,"button",5),m(13,"role-b"),a()()()(),r(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),h("click",function(){return i.toggleFull()}),r(18,"span"),m(19),a()(),r(20,"p",8),m(21,"\u5168\u91CF\u7C7B\u6307\u7CFB\u7EDF\u7BA1\u7406\u5458\u89D2\u8272\uFF0C\u65E0\u4EFB\u4F55\u53D7\u9650\u3002"),a()()(),r(22,"div",2)(23,"nz-card",9)(24,"button",7),h("click",function(){return i.toggleRoleA()}),r(25,"span"),m(26),a()()()(),r(27,"div",2)(28,"nz-card",10)(29,"button",7),h("click",function(){return i.toggleRoleB()}),r(30,"span"),m(31),a()()()()()),e&2&&(l(5),p("nzGutter",8),l(),p("nzSpan",24),l(2),I(" ACL\u539F\u59CB\u6570\u636E\uFF1A",te(9,12,i.data)," "),l(2),p("acl","role-a"),l(2),p("acl","role-b"),l(2),p("nzGutter",8),l(),p("nzSpan",8),l(4),I("",i.full?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),l(3),p("nzSpan",8),l(4),I("",i.roleA.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),l(),p("nzSpan",8),l(4),I("",i.roleB.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"))},dependencies:[tn,T,w,N,q,U,F,ne],encapsulation:2});let o=n;return o})();var ai=new It("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new ut}),ut=class{constructor(){this.platform=f(we)}get(n){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(n)||"null")||null}set(n,d){return this.platform.isBrowser&&localStorage.setItem(n,JSON.stringify(d)),!0}remove(n){this.platform.isBrowser&&localStorage.removeItem(n)}},Hn=(()=>{let n=class n{constructor(){this.store=f(ai),this.http=f(ke),this.platform=f(we),this.memory=new Map,this.notifyBuffer=new Map,this.meta=new Set,this.freqTick=3e3,this.cog=f(ie).merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"}),this.platform.isBrowser&&(this.loadMeta(),this.startExpireNotify())}pushMeta(t){this.meta.has(t)||(this.meta.add(t),this.saveMeta())}removeMeta(t){this.meta.has(t)&&(this.meta.delete(t),this.saveMeta())}loadMeta(){let t=this.store.get(this.cog.meta_key);t&&t.v&&t.v.forEach(e=>this.meta.add(e))}saveMeta(){let t=[];this.meta.forEach(e=>t.push(e)),this.store.set(this.cog.meta_key,{v:t,e:0})}getMeta(){return this.meta}set(t,e,i={}){if(!this.platform.isBrowser)return;let u=0,{type:s,expire:c}=this.cog;i=L({type:s,expire:c},i),i.expire&&(u=rn(new Date,i.expire).valueOf());let z=i.emitNotify!==!1;if(!(e instanceof _e)){this.save(i.type,t,{v:e,e:u},z);return}return e.pipe($e(g=>{this.save(i.type,t,{v:g,e:u},z)}))}save(t,e,i,u=!0){t==="m"?this.memory.set(e,i):(this.store.set(this.cog.prefix+e,i),this.pushMeta(e)),u&&this.runNotify(e,"set")}get(t,e={}){if(!this.platform.isBrowser)return null;let i=e.mode!=="none"&&this.cog.mode==="promise",u=this.memory.has(t)?this.memory.get(t):this.store.get(this.cog.prefix+t);return!u||u.e&&u.e>0&&u.e<new Date().valueOf()?i?(this.cog.request?this.cog.request(t):this.http.get(t)).pipe(Ft(s=>en(s,this.cog.reName,s)),$e(s=>this.set(t,s,{type:e.type,expire:e.expire,emitNotify:e.emitNotify}))):null:i?ye(u.v):u.v}getNone(t){return this.get(t,{mode:"none"})}tryGet(t,e,i={}){if(!this.platform.isBrowser)return null;let u=this.getNone(t);return u===null?e instanceof _e?this.set(t,e,i):(this.set(t,e,i),e):ye(u)}has(t){return this.memory.has(t)||this.meta.has(t)}_remove(t,e){if(e&&this.runNotify(t,"remove"),this.memory.has(t)){this.memory.delete(t);return}this.store.remove(this.cog.prefix+t),this.removeMeta(t)}remove(t){this.platform.isBrowser&&this._remove(t,!0)}clear(){this.platform.isBrowser&&(this.notifyBuffer.forEach((t,e)=>this.runNotify(e,"remove")),this.memory.clear(),this.meta.forEach(t=>this.store.remove(this.cog.prefix+t)))}set freq(t){this.freqTick=Math.max(20,t),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){let t=[];this.notifyBuffer.forEach((e,i)=>{this.has(i)&&this.getNone(i)===null&&t.push(i)}),t.forEach(e=>{this.runNotify(e,"expire"),this._remove(e,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(t,e){this.notifyBuffer.has(t)&&this.notifyBuffer.get(t).next({type:e,value:this.getNone(t)})}notify(t){if(!this.notifyBuffer.has(t)){let e=new De(this.getNone(t));this.notifyBuffer.set(t,e)}return this.notifyBuffer.get(t).asObservable()}cancelNotify(t){this.notifyBuffer.has(t)&&(this.notifyBuffer.get(t).unsubscribe(),this.notifyBuffer.delete(t))}hasNotify(t){return this.notifyBuffer.has(t)}clearNotify(){this.notifyBuffer.forEach(t=>t.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})(),wo=new Xt(()=>({}));var ct=(()=>{let n=class n{constructor(){this.cache=f(Hn),this.msg=f(j),this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," Cache \u7F13\u5B58, "),r(3,"a",1),m(4,"Document"),a()()(),r(5,"nz-card",2)(6,"button",3),h("click",function(){return i.set()}),m(7,"\u8BBE\u7F6E"),a(),r(8,"button",4),h("click",function(){return i.get()}),m(9,"\u83B7\u53D6"),a()())},dependencies:[T,w,N,F],encapsulation:2});let o=n;return o})();function si(o,n){if(o&1&&(r(0,"button",2),m(1),a()),o&2){let d=n.$implicit,t=_();Ee("http-url","assets/tmp/demo",d,""),p("http-data",t.data),l(),I(" ",d," ")}}var dt=(()=>{let n=class n{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"],this.data={otherdata:1,time:new Date}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-down-file"]],decls:6,vars:0,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","down-file","","file-name","demo\u4E2D\u6587",1,"mr-sm",3,"http-data","http-url"],["nz-button","","class","mr-sm","down-file","","file-name","demo\u4E2D\u6587",3,"http-data","http-url"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2,"Download a file"),a()(),r(3,"nz-card",1),Wt(4,si,2,3,"button",3,Vt),a()),e&2&&(l(4),Gt(i.fileTypes))},dependencies:[T,w,N,F,Rn],encapsulation:2});let o=n;return o})();var li=o=>({params:o}),ft=(()=>{let n=class n{constructor(){this.params={},this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7F16\u53F7"}}},this.columns=[{title:"\u7F16\u53F7",index:"no"},{title:"\u8C03\u7528\u6B21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50CF",type:"img",width:"50px",index:"avatar"},{title:"\u65F6\u95F4",type:"date",index:"updatedAt"}]}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[[3,"title"],["mode","search",3,"schema","formData","formSubmit","formReset"],[3,"data","columns","req"],["st",""]],template:function(e,i){if(e&1){let u=O();D(0,"page-header",0),r(1,"nz-card")(2,"sf",1),h("formSubmit",function(c){E(u);let z=Q(4);return b(z.reset(c))})("formReset",function(){E(u);let c=Q(4);return b(c.reset(i.params))}),a(),D(3,"st",2,3),a()}e&2&&(p("title","Page Name"),l(2),p("schema",i.searchSchema)("formData",i.params),l(),p("data",i.url)("columns",i.columns)("req",be(6,li,i.params)))},dependencies:[Mn,fe,Nn,F],encapsulation:2});let o=n;return o})();var ht=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(e,i){e&1&&(r(0,"p"),m(1,"\u8FD9\u662F\u4E00\u4E2Aadmin\u9875\u9762"),a())},encapsulation:2});let o=n;return o})();var gt=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(e,i){e&1&&(r(0,"p"),m(1,"\u8FD9\u662F\u4E00\u4E2Auser1\u9875\u9762"),a())},encapsulation:2});let o=n;return o})();var qn=()=>{let o=f(an);return new _e(n=>{o.confirm({nzTitle:"\u786E\u8BA4\u8981\u79BB\u5F00\u5417\uFF1F",nzContent:"\u4F60\u5DF2\u7ECF\u586B\u5199\u4E86\u90E8\u5206\u8868\u5355\u79BB\u5F00\u4F1A\u653E\u5F03\u5DF2\u7ECF\u586B\u5199\u7684\u5185\u5BB9\u3002",nzOkText:"\u79BB\u5F00",nzCancelText:"\u53D6\u6D88",nzOnOk:()=>{n.next(!0),n.complete()},nzOnCancel:()=>{n.next(!1),n.complete()}})})};var mi=()=>["/delon/guard/leave"],ui=()=>["/delon/guard/auth"],ci=()=>["/delon/guard/admin"],vt=(()=>{let n=class n{constructor(){this.aclSrv=f(Pe),this.menuSrv=f(Oe),this.router=f(Ie)}get data(){return this.aclSrv.data}setRole(t){this.aclSrv.setFull(!1),typeof t=="boolean"?this.aclSrv.setFull(t):this.aclSrv.set({role:[t]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," \u8DEF\u7531\u5B88\u536B "),a()(),r(3,"nz-button-group")(4,"button",1)(5,"span"),m(6,"\u79BB\u5F00\u786E\u8BA4\u9875"),a()()(),r(7,"nz-button-group",2)(8,"button",3),h("click",function(){return i.setRole(!0)}),r(9,"span"),m(10,"\u8BBE\u7F6E\u7BA1\u7406\u5458"),a()(),r(11,"button",3),h("click",function(){return i.setRole("user1")}),r(12,"span"),m(13,"\u8BBE\u7F6E\u5458\u5DE51"),a()(),r(14,"button",3),h("click",function(){return i.setRole("user2")}),r(15,"span"),m(16,"\u8BBE\u7F6E\u5458\u5DE52"),a()()(),r(17,"nz-button-group",2)(18,"button",1)(19,"span"),m(20,"\u9700\u8981user1"),a()(),r(21,"button",1)(22,"span"),m(23,"\u9700\u8981\u7BA1\u7406\u5458"),a()()(),r(24,"p",4),m(25),ee(26,"json"),a(),D(27,"router-outlet")),e&2&&(l(4),p("routerLink",M(6,mi)),l(14),p("routerLink",M(7,ui)),l(3),p("routerLink",M(8,ci)),l(4),I("\u5F53\u524DACL\u4FE1\u606F\uFF1A",te(26,4,i.data),""))},dependencies:[$t,Le,T,on,w,N,ne],encapsulation:2});let o=n;return o})();var di=()=>["/delon/guard"],zt=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(e,i){e&1&&(r(0,"p"),m(1,"\u79BB\u5F00\u65F6\u9700\u8981\u786E\u8BA4"),a(),r(2,"button",0)(3,"span"),m(4,"\u6211\u8981\u79BB\u5F00"),a()()),e&2&&(l(2),p("nzType","primary")("routerLink",M(2,di)))},dependencies:[Le,T,w,N],encapsulation:2});let o=n;return o})();var Zn=(()=>{let n=class n{constructor(t){this.scriptSrv=f(de),this.pending=!1,this._lodop=null,this._init=new Ke,this._events=new Ke,this.printBuffer=[],this.defaultConfig=t.merge("lodop",{url:"//localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(t){this._cog=L(L({},this.defaultConfig),t)}get events(){return this._events.asObservable()}get lodop(){return this._lodop?ye({ok:!0,lodop:this._lodop}):this.pending?this._init.asObservable():(this.request(),this._init.asObservable())}get printer(){this.check();let t=[],e=this._lodop.GET_PRINTER_COUNT();for(let i=0;i<e;i++)t.push(this._lodop.GET_PRINTER_NAME(i));return t}check(){if(!this._lodop)throw new Error("\u8BF7\u52A1\u5FC5\u5148\u8C03\u7528 lodop \u83B7\u53D6\u5BF9\u8C61")}request(){this.pending=!0;let t=`${this.cog.url}?name=${this.cog.name}`,e=this.cog.checkMaxCount,i=(s,c)=>{this._init.next({ok:s==="ok",status:s,error:c,lodop:this._lodop})},u=()=>{if(--e,this._lodop.webskt&&this._lodop.webskt.readyState===1)i("ok");else{if(e<0){i("check-limit");return}setTimeout(()=>u(),100)}};this.scriptSrv.loadScript(t).then(s=>{if(s.status!=="ok"){this.pending=!1,i("script-load-error",s[0]);return}let c=window;if(c.hasOwnProperty(this.cog.name)&&(this._lodop=c[this.cog.name]),this._lodop===null){i("load-variable-name-error",{name:this.cog.name});return}this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),u()})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(t,e,i){this.check(),i||(i=/LODOP\.([^(]+)\(([^\n]+)?\);/i),t.split(`
`).forEach(u=>{let s=i.exec(u.trim());if(!s)return;let c=this._lodop[s[1]];if(c){let z=null;try{z=new Function(`return [${s[2]}]`)()}catch{}if(z!=null&&Array.isArray(z)&&e)for(let g=0;g<z.length;g++)typeof z[g]=="string"&&(z[g]=z[g].replace(/{{(.*?)}}/g,(B,Qe)=>e[Qe.trim()]||""));c.apply(this._lodop,z)}})}design(){this.check();let t=this._lodop.PRINT_DESIGN();return new Promise(e=>{this._lodop.On_Return=(i,u)=>{t===i&&(this._lodop.On_Return=null,e(`${u}`))}})}printDo(){let t=this.printBuffer.shift();if(!t)return;this.attachCode(t.code,t.item,t.parser);let e=this._lodop.PRINT();this._lodop.On_Return=(i,u)=>{e===i&&(this._lodop.On_Return=null,this._events.next(L({ok:u===!0,error:u===!0?null:u},t)),this.printDo())}}print(t,e,i){this.check(),e&&this.printBuffer.push(...(Array.isArray(e)?e:[e]).map(u=>({code:t,parser:i,item:u}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}};n.\u0275fac=function(e){return new(e||n)(Ne(ie))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();function hi(o,n){o&1&&(m(0," \u8BF7\u5148\u4E0B\u8F7D "),r(1,"a",5),m(2,"Lodop\u63D2\u4EF6"),a(),m(3,"\u3002 "))}function gi(o,n){if(o&1&&(r(0,"nz-alert",2),k(1,hi,4,0,"ng-template",null,4,Qt),a()),o&2){let d=Q(2);p("nzType","warning")("nzMessage",d)}}function vi(o,n){if(o&1&&D(0,"nz-option",18),o&2){let d=n.$implicit;p("nzLabel",d)("nzValue",d)}}function zi(o,n){if(o&1&&D(0,"nz-option",18),o&2){let d=n.$implicit;p("nzLabel",d)("nzValue",d)}}function _i(o,n){if(o&1){let d=O();r(0,"form",3)(1,"nz-form-item",6)(2,"nz-form-label",7),m(3,"\u6253\u5370\u670D\u52A1\u5668"),a(),r(4,"nz-form-control",7)(5,"nz-input-group")(6,"div",8)(7,"input",9),S("ngModelChange",function(e){E(d);let i=_();return C(i.cog.url,e)||(i.cog.url=e),b(e)}),a()(),r(8,"div",8)(9,"button",10),h("click",function(){E(d);let e=_();return b(e.reload(null))}),m(10,"\u91CD\u65B0\u52A0\u8F7D\u6253\u5370\u673A"),a()()()()(),r(11,"nz-form-item",6)(12,"nz-form-label",7),m(13,"\u6253\u5370\u673A"),a(),r(14,"nz-form-control",7)(15,"nz-select",11),S("ngModelChange",function(e){E(d);let i=_();return C(i.cog.printer,e)||(i.cog.printer=e),b(e)}),h("ngModelChange",function(e){E(d);let i=_();return b(i.changePinter(e))}),k(16,vi,1,2,"nz-option",12),a()()(),r(17,"nz-form-item",6)(18,"nz-form-label",7),m(19,"\u7EB8\u5F20\u7C7B\u578B"),a(),r(20,"nz-form-control",7)(21,"nz-select",13),S("ngModelChange",function(e){E(d);let i=_();return C(i.cog.paper,e)||(i.cog.paper=e),b(e)}),k(22,zi,1,2,"nz-option",12),a()()(),r(23,"nz-form-item",6)(24,"nz-form-label",7),m(25,"\u6253\u5370\u5185\u5BB9"),a(),r(26,"nz-form-control",7)(27,"textarea",14),S("ngModelChange",function(e){E(d);let i=_();return C(i.cog.html,e)||(i.cog.html=e),b(e)}),a(),r(28,"div",15),m(29,"\u4EC5\u9650HTML\uFF0C\u66F4\u591A\u7C7B\u578B\u652F\u6301\u8BF7\u53C2\u8003\u5B98\u7F51"),a()()(),r(30,"nz-form-item",6)(31,"nz-form-control",16)(32,"button",17),h("click",function(){E(d);let e=_();return b(e.print(!0))}),m(33,"\u6253\u5370\u9884\u89C8"),a(),r(34,"button",17),h("click",function(){E(d);let e=_();return b(e.print())}),m(35,"\u76F4\u63A5\u6253\u5370"),a()()()()}if(o&2){let d=_();l(2),p("nzSm",6),l(2),p("nzSm",18),l(2),p("nzSpan",16),l(),y("ngModel",d.cog.url),l(),p("nzSpan",8),l(4),p("nzSm",6),l(2),p("nzSm",18),l(),y("ngModel",d.cog.printer),l(),p("ngForOf",d.pinters),l(2),p("nzSm",6),l(2),p("nzSm",18),l(),y("ngModel",d.cog.paper),l(),p("ngForOf",d.papers),l(2),p("nzSm",6),l(2),p("nzSm",18),l(),y("ngModel",d.cog.html),l(4),p("nzSm",18)("nzOffset",6),l(),p("nzLoading",d.printing),l(2),p("nzLoading",d.printing)}}var yt=(()=>{let n=class n{constructor(){this.lodopSrv=f(Zn),this.msg=f(j),this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:`
      <h1>Title</h1>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
    `},this.error=!1,this.lodop=null,this.pinters=[],this.papers=[],this.printing=!1,this.lodopSrv.lodop.subscribe(({lodop:t,ok:e})=>{if(!e){this.error=!0;return}this.error=!1,this.msg.success("\u6253\u5370\u673A\u52A0\u8F7D\u6210\u529F"),this.lodop=t,this.pinters=this.lodopSrv.printer})}reload(t={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=L(L({},this.cog),t),this.error=!1,t===null&&this.lodopSrv.reset()}changePinter(t){this.lodop!=null&&(this.papers=this.lodop.GET_PAGESIZES_LIST(t,`
`).split(`
`))}print(t=!1){let e=this.lodop;e.PRINT_INITA(10,20,810,610,"\u6D4B\u8BD5C-Lodop\u8FDC\u7A0B\u6253\u5370\u56DB\u6B65\u9AA4"),e.SET_PRINTER_INDEXA(this.cog.printer),e.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),e.ADD_PRINT_TEXT(1,1,300,200,"\u4E0B\u9762\u8F93\u51FA\u7684\u662F\u672C\u9875\u6E90\u4EE3\u7801\u53CA\u5176\u5C55\u73B0\u6548\u679C\uFF1A"),e.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),e.SET_PRINT_STYLEA(0,"ItemType",4),e.NEWPAGEA(),e.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),t?e.PREVIEW():e.PRINT()}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-print"]],decls:10,vars:2,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage"],["nz-form",""],["message",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModel","ngModelChange"],["nz-button","",3,"click"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u6253\u5370\u673A","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u7EB8\u5F20\u7C7B\u578B","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModel","ngModelChange"],["nz-input","","name","html","nzAutosize","",3,"ngModel","ngModelChange"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"nzLoading","click"],[3,"nzLabel","nzValue"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," Lodop\u6253\u5370 "),r(3,"small"),m(4," \u66F4\u591A\u4F53\u9A8C\u8BF7\u81F3 "),r(5,"a",1),m(6,"NG-ALAIN.com"),a()()()(),r(7,"nz-card"),k(8,gi,3,2,"nz-alert",2)(9,_i,36,20,"form",3),a()),e&2&&(l(8),$(8,i.error?8:-1),l(),$(9,i.error?-1:9))},dependencies:[Ae,ae,V,W,oe,G,re,T,w,N,q,U,Ve,We,Bn,H,Ge,bn,se,he,ve,ge,F],encapsulation:2});let o=n;return o})();var le=()=>({standalone:!0}),Ct=(()=>{let n=class n{constructor(){this.value="https://ng-alain.com/",this.background="#ffffff",this.backgroundAlpha=1,this.foreground="#000000",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=10,this.size=220}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-qr"]],decls:54,vars:59,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/qr","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[2,"border","1px solid #999",3,"value","background","backgroundAlpha","foreground","foregroundAlpha","level","mime","padding","size"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],["nzValue","image/png","nzLabel","image/png"],["nzValue","image/jpeg","nzLabel","image/jpeg"],["nzValue","image/gif","nzLabel","image/gif"],[3,"ngModel","ngModelOptions","nzMin","nzMax","ngModelChange"],[3,"ngModel","ngModelOptions","nzMin","nzMax","nzStep","ngModelChange"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," \u4E8C\u7EF4\u7801 "),r(3,"a",1),m(4,"Document"),a()()(),r(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),D(8,"qr",4),a(),r(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),m(13,"\u80CC\u666F"),a(),r(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),S("ngModelChange",function(s){return C(i.background,s)||(i.background=s),s}),a(),r(17,"nz-input-number",8),S("ngModelChange",function(s){return C(i.backgroundAlpha,s)||(i.backgroundAlpha=s),s}),a()()()(),r(18,"nz-form-item")(19,"nz-form-label",5),m(20,"\u524D\u666F"),a(),r(21,"nz-form-control",5)(22,"nz-input-group")(23,"input",7),S("ngModelChange",function(s){return C(i.foreground,s)||(i.foreground=s),s}),a(),r(24,"nz-input-number",8),S("ngModelChange",function(s){return C(i.foregroundAlpha,s)||(i.foregroundAlpha=s),s}),a()()()(),r(25,"nz-form-item")(26,"nz-form-label",5),m(27,"\u8BEF\u5DEE"),a(),r(28,"nz-form-control",5)(29,"nz-select",9),S("ngModelChange",function(s){return C(i.level,s)||(i.level=s),s}),D(30,"nz-option",10)(31,"nz-option",11)(32,"nz-option",12)(33,"nz-option",13),a()()(),r(34,"nz-form-item")(35,"nz-form-label",5),m(36,"Mime"),a(),r(37,"nz-form-control",5)(38,"nz-select",9),S("ngModelChange",function(s){return C(i.mime,s)||(i.mime=s),s}),D(39,"nz-option",14)(40,"nz-option",15)(41,"nz-option",16),a()()(),r(42,"nz-form-item")(43,"nz-form-label",5),m(44,"\u5185\u8FB9\u8DDD"),a(),r(45,"nz-form-control",5)(46,"nz-input-number",17),S("ngModelChange",function(s){return C(i.padding,s)||(i.padding=s),s}),a(),m(47,"px "),a()(),r(48,"nz-form-item")(49,"nz-form-label",5),m(50,"\u5927\u5C0F"),a(),r(51,"nz-form-control",5)(52,"nz-input-number",18),S("ngModelChange",function(s){return C(i.size,s)||(i.size=s),s}),a(),m(53,"px "),a()()()()()()),e&2&&(l(6),p("nzGutter",24),l(),p("nzSpan",8),l(),p("value",i.value)("background",i.background)("backgroundAlpha",i.backgroundAlpha)("foreground",i.foreground)("foregroundAlpha",i.foregroundAlpha)("level",i.level)("mime",i.mime)("padding",i.padding)("size",i.size),l(),p("nzSpan",16),l(3),p("nzSpan",8),l(2),p("nzSpan",16),l(2),y("ngModel",i.background),p("ngModelOptions",M(51,le)),l(),y("ngModel",i.backgroundAlpha),p("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",M(52,le)),l(2),p("nzSpan",8),l(2),p("nzSpan",16),l(2),y("ngModel",i.foreground),p("ngModelOptions",M(53,le)),l(),y("ngModel",i.foregroundAlpha),p("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",M(54,le)),l(2),p("nzSpan",8),l(2),p("nzSpan",16),l(),y("ngModel",i.level),p("ngModelOptions",M(55,le)),l(6),p("nzSpan",8),l(2),p("nzSpan",16),l(),y("ngModel",i.mime),p("ngModelOptions",M(56,le)),l(5),p("nzSpan",8),l(2),p("nzSpan",16),l(),y("ngModel",i.padding),p("ngModelOptions",M(57,le))("nzMin",0)("nzMax",100),l(3),p("nzSpan",8),l(2),p("nzSpan",16),l(),y("ngModel",i.size),p("ngModelOptions",M(58,le))("nzMin",100)("nzMax",1e3)("nzStep",i.padding))},dependencies:[ae,V,W,oe,G,re,w,q,U,Ve,We,H,Ge,wn,se,he,ve,ge,F,Wn],encapsulation:2});let o=n;return o})();var yi=()=>[0,0,0,0];function Ci(o,n){if(o&1&&D(0,"g2-mini-bar",21),o&2){let d=_();p("padding",M(2,yi))("data",d.events)}}var Si=o=>({params:o}),Ei=()=>({list:"results"}),bi=o=>({reName:o}),St=(()=>{let n=class n{constructor(){this.http=f(je),this.message=f(j),this.ps=20,this.total=200,this.args={_allow_anonymous:!0,userid:null},this.url="https://api.randomuser.me/?results=20",this.events=[],this.scroll={y:"230px"},this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:t=>`${t.name.first} ${t.name.last}`,type:"link",click:t=>this.message.info(`${t.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:t=>this.message.info(`edit [${t.id.value}]`),iif:t=>t.gender==="female"},{text:"Delete",type:"del",click:t=>this.message.info(`deleted [${t.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(t=>this.events=t.slice(0,8))}fullChange(t){this.scroll=t?{y:"350px"}:{y:"230px"}}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-st"]],decls:43,vars:18,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModel","ngModelChange"],["nz-button","",3,"nzType","nzLoading","click"],["nz-button","",3,"disabled","click"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["exportMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st",""],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(e,i){if(e&1){let u=O();r(0,"div",0)(1,"h1"),m(2," Fullscreen & ST "),r(3,"small"),m(4,"\u4F7F\u7528 "),r(5,"a",1),m(6,"st"),a(),m(7,"\u3001 "),r(8,"a",2),m(9,"full-content"),a(),m(10," \u7EC4\u5408\uFF0C\u7531\u4E8E nz-table \u56FA\u5B9A\u8868\u5934\u6682\u4E0D\u652F\u6301\u81EA\u9002\u5E94\uFF0C\u56E0\u6B64\u8868\u683C\u7684\u5C55\u793A\u7684\u6548\u679C\u5728\u54CD\u5E94\u5F0F\u91CC\u9762\u6548\u679C\u5E76\u4E0D\u662F\u7279\u522B\u597D\u3002"),a()()(),r(11,"full-content",3),h("fullscreenChange",function(c){return i.fullChange(c)}),r(12,"nz-card")(13,"div",4)(14,"div",5)(15,"form",6)(16,"se",7)(17,"input",8),S("ngModelChange",function(c){return C(i.args.userid,c)||(i.args.userid=c),c}),a()(),r(18,"se")(19,"button",9),h("click",function(){E(u);let c=Q(41);return b(c.load())}),m(20,"Search"),a(),r(21,"button",10),h("click",function(){E(u);let c=Q(41);return b(c.load(1,{_allow_anonymous:!0}))}),m(22,"Clear"),a()()()(),r(23,"div",5)(24,"div",11)(25,"button",12)(26,"span"),m(27,"Export"),a(),D(28,"i",13),a(),r(29,"nz-dropdown-menu",null,14)(31,"ul",15)(32,"li",16),m(33,"Excel"),a(),r(34,"li",16),m(35,"JSON"),a(),r(36,"li",16),m(37,"PNG"),a()()(),r(38,"button",17),m(39,"Full"),a()()()(),r(40,"st",18,19),k(42,Ci,1,3,"ng-template",20),a()()()}if(e&2){let u=Q(30);l(17),y("ngModel",i.args.userid),l(2),p("nzType","primary")("nzLoading",i.http.loading),l(2),p("disabled",i.http.loading),l(4),p("nzDropdownMenu",u),l(13),p("nzType","default"),l(2),p("data",i.url)("req",be(13,Si,i.args))("res",be(16,bi,M(15,Ei)))("total",i.total)("ps",i.ps)("columns",i.columns)("scroll",i.scroll)}},dependencies:[ae,V,W,oe,G,re,fe,Dn,Tn,Fn,T,w,N,fn,dn,hn,vn,gn,q,U,nn,H,se,F,pt,On,kn],encapsulation:2});let o=n;return o})();var Qn=()=>({standalone:!0}),Et=(()=>{let n=class n{constructor(){this.messageSrv=f(j),this.format_str="this is ${name}",this.format_res="",this.format_obj=JSON.stringify({name:"asdf"}),this.content=`time ${+new Date}

    \u4E2D\u6587\uFF01@#\uFFE5%\u2026\u2026&*`}onFormat(){let t=null;try{t=JSON.parse(this.format_obj)}catch{this.messageSrv.error("\u65E0\u6CD5\u4F7F\u7528 JSON.parse \u8F6C\u6362");return}this.format_res=mn(this.format_str,t,!0)}onYuan(t){this.yuan_res=xn(t)}onCopy(){ln(`time ${+new Date}`).then(()=>this.messageSrv.success("success"))}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5B57\u7B26\u4E32\u7C7B"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModel","ngModelChange"],[3,"innerHTML"],["nzTitle","\u5176\u5B83\u7C7B"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," \u5DE5\u5177\u96C6 "),r(3,"small"),m(4,"@delon/util \u65E5\u5E38\u7528\u6CD5\u3002"),a()()(),r(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),m(12,"String"),a(),r(13,"nz-form-control",6)(14,"input",7),S("ngModelChange",function(s){return C(i.format_str,s)||(i.format_str=s),s}),a()()(),r(15,"nz-form-item")(16,"nz-form-label",6),m(17,"Object"),a(),r(18,"nz-form-control",6)(19,"input",7),S("ngModelChange",function(s){return C(i.format_obj,s)||(i.format_obj=s),s}),a()()(),r(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),h("click",function(){return i.onFormat()}),m(23,"Run"),a()()(),r(24,"nz-form-item")(25,"nz-form-label",6),m(26,"Result"),a(),r(27,"nz-form-control",6),m(28),a()()()(),r(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),S("ngModelChange",function(s){return C(i.yuan_str,s)||(i.yuan_str=s),s}),h("ngModelChange",function(s){return i.onYuan(s)}),a()(),r(33,"nz-col",2),D(34,"div",12),a()()()()(),r(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),h("click",function(){return i.onCopy()}),m(38,"Copy"),a()()()()),e&2&&(l(5),p("nzGutter",16),l(),p("nzSpan",12),l(5),p("nzSm",8),l(2),p("nzSm",16),l(),y("ngModel",i.format_str),p("ngModelOptions",M(21,Qn)),l(2),p("nzSm",8),l(2),p("nzSm",16),l(),y("ngModel",i.format_obj),p("ngModelOptions",M(22,Qn)),l(2),p("nzSpan",16)("nzOffset",8),l(4),p("nzSm",8),l(2),p("nzSm",16),l(),I(" ",i.format_res," "),l(2),p("nzGutter",16),l(),p("nzSpan",12),l(),y("ngModel",i.yuan_str),l(),p("nzSpan",12),l(),p("innerHTML",i.yuan_res,Lt),l(),p("nzSpan",12))},dependencies:[ae,V,pn,W,oe,G,re,T,w,N,q,U,H,se,he,ve,ge,F],encapsulation:2});let o=n;return o})();var bt=(()=>{let n=class n{constructor(){this.xlsx=f(cn),this.users=Array(100).fill(0).map((t,e)=>({id:e+1,name:`name ${e+1}`,age:Math.ceil(Math.random()*10)+20})),this.columns=[{title:"\u7F16\u53F7",index:"id",type:"checkbox"},{title:"\u59D3\u540D",index:"name"},{title:"\u5E74\u9F84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(t=>this.data=t)}change(t){let e=t.target.files[0];this.xlsx.import(e).then(i=>this.data=i)}download(){let t=[this.columns.map(e=>e.title)];this.users.forEach(e=>t.push(this.columns.map(i=>e[i.index]))),this.xlsx.export({sheets:[{data:t,name:"sheet name"}]})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," Import & Export excel file, "),r(3,"a",1),m(4,"Document"),a()()(),r(5,"nz-card",2)(6,"button",3),h("click",function(){return i.url()}),m(7,"Via Url"),a(),r(8,"input",4),h("change",function(s){return i.change(s)}),a(),r(9,"p",5),m(10),ee(11,"json"),a()(),r(12,"nz-card",6)(13,"button",3),h("click",function(){return i.download()}),m(14,"Export"),a(),D(15,"st",7),a()),e&2&&(l(10),I("result: ",te(11,4,i.data),""),l(5),p("data",i.users)("ps",3)("columns",i.columns))},dependencies:[fe,T,w,N,F,ne],encapsulation:2});let o=n;return o})();var Jn=xt(rt(),1);var Xn=(()=>{let n=class n{constructor(t){this.http=f(ke),this.lazy=f(de),this.ngZone=f(Ot),this.cog=t.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(t){if(!t)throw new Error("get instance via `ZipService.create()`")}read(t,e){return new Promise((i,u)=>{let s=c=>{this.ngZone.run(()=>i(c))};this.init().then(()=>{if(typeof t=="string"){this.http.request("GET",t,{responseType:"arraybuffer"}).subscribe({next:z=>{JSZip.loadAsync(z,e).then(g=>s(g))},error:z=>{u(z)}});return}let c=new FileReader;c.onload=z=>{JSZip.loadAsync(z.target.result,e).then(g=>s(g))},c.readAsBinaryString(t)})})}create(){return new Promise(t=>{this.init().then(()=>{let e=new JSZip;t(e)}).catch(()=>t(null))})}pushUrl(t,e,i){return this.check(t),new Promise((u,s)=>{this.http.request("GET",i,{responseType:"arraybuffer"}).subscribe({next:c=>{t.file(e,c),u()},error:c=>{s({url:i,error:c})}})})}save(t,e){this.check(t);let i=L({filename:"download.zip"},e);return new Promise((u,s)=>{t.generateAsync(L({type:"blob"},i.options),i.update).then(c=>{i.callback&&i.callback(c),(0,Jn.saveAs)(c,i.filename),u()},c=>{s(c)})})}};n.\u0275fac=function(e){return new(e||n)(Ne(ie))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return Tt([un()],o.prototype,"read",null),o})();function wi(o,n){if(o&1&&(r(0,"li"),m(1),ee(2,"json"),a()),o&2){let d=n.$implicit;l(),qt(te(2,1,d))}}function Di(o,n){if(o&1){let d=O();r(0,"nz-card",2)(1,"button",4),h("click",function(){E(d);let e=_();return b(e.url())}),m(2,"Via Url"),a(),r(3,"input",5),h("change",function(e){E(d);let i=_();return b(i.change(e))}),a(),r(4,"ol"),k(5,wi,3,3,"li",6),a()()}if(o&2){let d=_();l(5),p("ngForOf",d.list)}}function Mi(o,n){if(o&1){let d=O();r(0,"tr")(1,"td")(2,"input",10),S("ngModelChange",function(e){let u=E(d).$implicit;return C(u.path,e)||(u.path=e),b(e)}),a()(),r(3,"td")(4,"input",10),S("ngModelChange",function(e){let u=E(d).$implicit;return C(u.url,e)||(u.url=e),b(e)}),a()()()}if(o&2){let d=n.$implicit,t=n.index;l(2),Ee("name","path",t,""),y("ngModel",d.path),l(2),Ee("name","url",t,""),y("ngModel",d.url)}}function xi(o,n){if(o&1){let d=O();r(0,"nz-card",3)(1,"button",7),h("click",function(){E(d);let e=_();return b(e.data.push({}))}),m(2,"new"),a(),r(3,"button",8),h("click",function(){E(d);let e=_();return b(e.download())}),m(4,"download"),a(),r(5,"nz-table",9)(6,"thead")(7,"tr")(8,"th")(9,"span"),m(10,"path"),a()(),r(11,"th")(12,"span"),m(13,"url"),a()()()(),r(14,"tbody"),k(15,Mi,5,4,"tr",6),a()()()}if(o&2){let d=_();l(),p("nzType","primary"),l(4),p("nzData",d.data)("nzFrontPagination",!1)("nzShowPagination",!1),l(10),p("ngForOf",d.data)}}var wt=(()=>{let n=class n{constructor(){this.zip=f(Xn),this.msg=f(j),this.cdr=f(me),this.instance=null,this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5C0F\u7A0B\u5E8F\u6807\u5FD7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(t=>{this.instance=t,this.cdr.detectChanges()})}format(t){let e=t.files;this.list=Object.keys(e).map(i=>({name:i,dir:e[i].dir,date:e[i].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(t=>this.format(t))}change(t){let e=t.target.files[0];this.zip.read(e).then(i=>this.format(i))}download(){let t=[];this.data.forEach(e=>{t.push(this.zip.pushUrl(this.instance,e.path,e.url))}),Promise.all(t).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},e=>{console.warn(e),this.msg.error(JSON.stringify(e))})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89E3\u538B"],["nzTitle","\u538B\u7F29"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[4,"ngFor","ngForOf"],["nz-button","",3,"nzType","click"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModel","name","ngModelChange"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1"),m(2," Read & Write zip file, "),r(3,"a",1),m(4,"Document"),a()()(),k(5,Di,6,1,"nz-card",2)(6,xi,16,5,"nz-card",3)),e&2&&(l(5),$(5,i.instance?5:-1),l(),$(6,i.instance?6:-1))},dependencies:[Ae,V,W,G,T,w,N,Cn,zn,_n,En,yn,Sn,H,F,ne],encapsulation:2,changeDetection:0});let o=n;return o})();var Ni=[{path:"st",component:St},{path:"util",component:Et},{path:"print",component:yt},{path:"acl",component:mt},{path:"guard",component:vt,children:[{path:"leave",component:zt,canDeactivate:[qn]},{path:"auth",component:gt,canActivate:[nt],data:{guard:"user1"}},{path:"admin",component:ht,canActivate:[nt],data:{guard:"admin"}}]},{path:"cache",component:ct},{path:"qr",component:Ct},{path:"downfile",component:dt},{path:"xlsx",component:bt},{path:"zip",component:wt},{path:"form",component:ft}],Kn=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=R({type:n}),n.\u0275inj=P({imports:[tt.forChild(Ni),tt]});let o=n;return o})();var Ba=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=R({type:n}),n.\u0275inj=P({imports:[An,Kn,Pn,jn,Gn,In]});let o=n;return o})();export{Ba as DelonModule};
