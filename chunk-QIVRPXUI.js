import{$ as tr,Aa as $n,Ba as Th,Ca as Br,D as vt,Da as Wr,E as No,Ea as qr,F as ah,Fa as Ur,G as Qa,Ga as os,H as En,Ha as wh,I as _i,J as Ka,K as Ga,Ka as Yr,L as Za,La as kh,M as sh,Ma as Kr,N as bi,O as lh,P as si,Pa as as,Q as Xa,Qa as Dh,R as Mn,S as ch,Sa as ss,T as li,U as dh,Ua as ls,V as ci,X as ph,Y as Ja,Z as es,_ as Ll,a as Xu,aa as uh,b as qa,ba as ir,bb as cs,ca as hh,d as Ua,da as mh,db as ds,e as Ju,ea as Hi,fa as fh,fb as ps,ha as nr,i as Ya,ia as Si,ja as _h,k as Pn,ka as gh,l as zn,la as Ch,m as eh,ma as rr,n as dt,na as yh,o as th,oa as ts,pa as is,q as ih,qa as On,ra as vh,s as tt,sa as ns,t as nh,ta as $o,ua as zh,va as xh,wa as bh,xa as Sh,y as rh,ya as Nn,z as oh,za as rs}from"./chunk-G47KU2AF.js";import{$ as W,$a as se,$c as Nr,$d as Tu,$f as Oo,Ab as ot,Ac as au,Ad as Ea,B as St,Ba as Pr,Bb as Xe,Bd as gu,Bg as Ha,Cb as Je,Cd as Nl,Db as ct,Dd as Cu,De as Au,Dg as La,E as Rt,Ea as d,Eb as Y,Ec as nn,Ed as In,Ee as Vl,Eg as Lu,F as st,Fa as w,Fb as ni,Fc as su,Fd as X,Fe as Rr,Ga as Oi,Gb as et,Gd as Xn,Ge as Vr,Gg as er,Ha as Fe,Hb as vi,Hc as ka,Hd as $l,I as xa,Ia as Er,Ib as ko,Ig as ju,Ja as Ye,Jd as Fl,Jg as Bu,K as wr,Ka as en,Kb as At,Kd as yu,Kg as ja,L as kr,La as qe,Lb as ri,Ld as Rl,Ma as Vt,Mb as wa,Md as vu,Mg as Wu,N as ba,Na as g,Nb as he,Nd as Ma,Ng as qu,O as Ei,Oa as oe,Oc as lu,Of as Le,Og as Uu,Pa as u,Pd as Ut,Pf as Qe,Pg as Yu,Q as Sa,Qa as ze,Qd as Pe,Qf as Yt,Qg as Qu,R as Zp,Ra as A,Rc as yn,Rd as zu,Rf as Fi,Sa as tu,Sc as Da,T as Xp,Ta as Ni,Td as Mo,Tf as Ri,Tg as Ba,U as Mi,Ua as Z,Ud as xu,Ug as Ku,V as Wt,Va as Mr,Vb as xe,Vd as bu,Vf as ai,W as $,Wa as iu,Wb as ce,Wd as Su,Wf as Ft,Xa as nu,Xb as pt,Xd as Fr,Xf as Qt,Xg as Lr,Y as Jp,Ya as D,Yc as Io,Yd as Oa,Yg as Gu,Z as Ta,Za as wt,Zc as Po,Zg as Wa,_a as qt,_b as tn,_c as $i,_g as Hl,a as I,aa as B,ab as le,ad as cu,ae as wu,b as Me,ba as L,bb as m,bd as du,c as Wp,ca as Ce,cb as f,cc as Mt,cd as kt,ce as ku,ch as jr,d as G,da as Ie,db as N,dc as zi,dd as Xt,de as Du,eb as pe,ec as Nt,ed as Ia,ee as Iu,eh as Zu,f as qp,fa as b,fb as ue,fe as Pu,g as Ji,ga as S,gb as Ze,gg as Ra,h as Up,hb as V,hd as Eo,hh as jl,ib as El,ic as xi,id as oi,j as Yp,ja as de,jb as ru,jc as ge,jd as pu,je as Eu,jg as Al,jh as Qr,k as ne,kb as P,kc as Do,kd as uu,kg as Hu,l as bt,la as rt,lb as ou,ld as Ct,le as Na,lg as Ar,m as _t,ma as ye,mb as l,md as hu,me as Mu,mg as Dt,na as eu,nb as Ee,nc as Or,ne as $a,ob as we,oe as Jn,p as va,pb as Re,pc as Zt,pe as Fa,pg as Vi,q as H,qa as wo,qg as Va,ra as lt,rb as Cn,rd as mu,re as Ou,rg as Aa,s as Bt,sa as j,sb as me,sc as Ml,sd as fu,se as Nu,sg as Ai,t as Qp,ta as Dr,tb as te,u as Kp,ua as Ir,ub as ie,v as Gp,vb as q,vd as _u,ve as $u,w as Te,wa as re,wb as R,wd as yt,we as Fu,wg as Hr,x as fi,xa as gt,xb as ae,xd as $r,xe as Ru,xg as vn,y as za,ya as gn,yb as ee,yd as Ol,ye as Vu,za as Ke,zd as Pa,ze as Ot}from"./chunk-CKY6JSTV.js";var Ao=G(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.regexpCode=je.getEsmExportName=je.getProperty=je.safeStringify=je.stringify=je.strConcat=je.addCodeArg=je.str=je._=je.nil=je._Code=je.Name=je.IDENTIFIER=je._CodeOrName=void 0;var Ro=class{};je._CodeOrName=Ro;je.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var or=class extends Ro{constructor(i){if(super(),!je.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};je.Name=or;var Ti=class extends Ro{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((n,e)=>`${n}${e}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((n,e)=>(e instanceof or&&(n[e.str]=(n[e.str]||0)+1),n),{})}};je._Code=Ti;je.nil=new Ti("");function $h(t,...i){let n=[t[0]],e=0;for(;e<i.length;)Ul(n,i[e]),n.push(t[++e]);return new Ti(n)}je._=$h;var ql=new Ti("+");function Fh(t,...i){let n=[Vo(t[0])],e=0;for(;e<i.length;)n.push(ql),Ul(n,i[e]),n.push(ql,Vo(t[++e]));return Yg(n),new Ti(n)}je.str=Fh;function Ul(t,i){i instanceof Ti?t.push(...i._items):i instanceof or?t.push(i):t.push(Gg(i))}je.addCodeArg=Ul;function Yg(t){let i=1;for(;i<t.length-1;){if(t[i]===ql){let n=Qg(t[i-1],t[i+1]);if(n!==void 0){t.splice(i-1,3,n);continue}t[i++]="+"}i++}}function Qg(t,i){if(i==='""')return t;if(t==='""')return i;if(typeof t=="string")return i instanceof or||t[t.length-1]!=='"'?void 0:typeof i!="string"?`${t.slice(0,-1)}${i}"`:i[0]==='"'?t.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(t instanceof or))return`"${t}${i.slice(1)}`}function Kg(t,i){return i.emptyStr()?t:t.emptyStr()?i:Fh`${t}${i}`}je.strConcat=Kg;function Gg(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Vo(Array.isArray(t)?t.join(","):t)}function Zg(t){return new Ti(Vo(t))}je.stringify=Zg;function Vo(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}je.safeStringify=Vo;function Xg(t){return typeof t=="string"&&je.IDENTIFIER.test(t)?new Ti(`.${t}`):$h`[${t}]`}je.getProperty=Xg;function Jg(t){if(typeof t=="string"&&je.IDENTIFIER.test(t))return new Ti(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}je.getEsmExportName=Jg;function eC(t){return new Ti(t.toString())}je.regexpCode=eC});var Gl=G(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.ValueScope=Jt.ValueScopeName=Jt.Scope=Jt.varKinds=Jt.UsedValueState=void 0;var di=Ao(),Yl=class extends Error{constructor(i){super(`CodeGen: "code" for ${i} not defined`),this.value=i.value}},Ql;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ql=Jt.UsedValueState||(Jt.UsedValueState={}));Jt.varKinds={const:new di.Name("const"),let:new di.Name("let"),var:new di.Name("var")};var hs=class{constructor({prefixes:i,parent:n}={}){this._names={},this._prefixes=i,this._parent=n}toName(i){return i instanceof di.Name?i:this.name(i)}name(i){return new di.Name(this._newName(i))}_newName(i){let n=this._names[i]||this._nameGroup(i);return`${i}${n.index++}`}_nameGroup(i){var n,e;if(!((e=(n=this._parent)===null||n===void 0?void 0:n._prefixes)===null||e===void 0)&&e.has(i)||this._prefixes&&!this._prefixes.has(i))throw new Error(`CodeGen: prefix "${i}" is not allowed in this scope`);return this._names[i]={prefix:i,index:0}}};Jt.Scope=hs;var ms=class extends di.Name{constructor(i,n){super(n),this.prefix=i}setValue(i,{property:n,itemIndex:e}){this.value=i,this.scopePath=(0,di._)`.${new di.Name(n)}[${e}]`}};Jt.ValueScopeName=ms;var tC=(0,di._)`\n`,Kl=class extends hs{constructor(i){super(i),this._values={},this._scope=i.scope,this.opts=Me(I({},i),{_n:i.lines?tC:di.nil})}get(){return this._scope}name(i){return new ms(i,this._newName(i))}value(i,n){var e;if(n.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let r=this.toName(i),{prefix:o}=r,a=(e=n.key)!==null&&e!==void 0?e:n.ref,s=this._values[o];if(s){let h=s.get(a);if(h)return h}else s=this._values[o]=new Map;s.set(a,r);let c=this._scope[o]||(this._scope[o]=[]),p=c.length;return c[p]=n.ref,r.setValue(n,{property:o,itemIndex:p}),r}getValue(i,n){let e=this._values[i];if(e)return e.get(n)}scopeRefs(i,n=this._values){return this._reduceValues(n,e=>{if(e.scopePath===void 0)throw new Error(`CodeGen: name "${e}" has no value`);return(0,di._)`${i}${e.scopePath}`})}scopeCode(i=this._values,n,e){return this._reduceValues(i,r=>{if(r.value===void 0)throw new Error(`CodeGen: name "${r}" has no value`);return r.value.code},n,e)}_reduceValues(i,n,e={},r){let o=di.nil;for(let a in i){let s=i[a];if(!s)continue;let c=e[a]=e[a]||new Map;s.forEach(p=>{if(c.has(p))return;c.set(p,Ql.Started);let h=n(p);if(h){let _=this.opts.es5?Jt.varKinds.var:Jt.varKinds.const;o=(0,di._)`${o}${_} ${p} = ${h};${this.opts._n}`}else if(h=r?.(p))o=(0,di._)`${o}${h}${this.opts._n}`;else throw new Yl(p);c.set(p,Ql.Completed)})}return o}};Jt.ValueScope=Kl});var Se=G(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.or=ke.and=ke.not=ke.CodeGen=ke.operators=ke.varKinds=ke.ValueScopeName=ke.ValueScope=ke.Scope=ke.Name=ke.regexpCode=ke.stringify=ke.getProperty=ke.nil=ke.strConcat=ke.str=ke._=void 0;var Oe=Ao(),Li=Gl(),Rn=Ao();Object.defineProperty(ke,"_",{enumerable:!0,get:function(){return Rn._}});Object.defineProperty(ke,"str",{enumerable:!0,get:function(){return Rn.str}});Object.defineProperty(ke,"strConcat",{enumerable:!0,get:function(){return Rn.strConcat}});Object.defineProperty(ke,"nil",{enumerable:!0,get:function(){return Rn.nil}});Object.defineProperty(ke,"getProperty",{enumerable:!0,get:function(){return Rn.getProperty}});Object.defineProperty(ke,"stringify",{enumerable:!0,get:function(){return Rn.stringify}});Object.defineProperty(ke,"regexpCode",{enumerable:!0,get:function(){return Rn.regexpCode}});Object.defineProperty(ke,"Name",{enumerable:!0,get:function(){return Rn.Name}});var ys=Gl();Object.defineProperty(ke,"Scope",{enumerable:!0,get:function(){return ys.Scope}});Object.defineProperty(ke,"ValueScope",{enumerable:!0,get:function(){return ys.ValueScope}});Object.defineProperty(ke,"ValueScopeName",{enumerable:!0,get:function(){return ys.ValueScopeName}});Object.defineProperty(ke,"varKinds",{enumerable:!0,get:function(){return ys.varKinds}});ke.operators={GT:new Oe._Code(">"),GTE:new Oe._Code(">="),LT:new Oe._Code("<"),LTE:new Oe._Code("<="),EQ:new Oe._Code("==="),NEQ:new Oe._Code("!=="),NOT:new Oe._Code("!"),OR:new Oe._Code("||"),AND:new Oe._Code("&&"),ADD:new Oe._Code("+")};var bn=class{optimizeNodes(){return this}optimizeNames(i,n){return this}},Zl=class extends bn{constructor(i,n,e){super(),this.varKind=i,this.name=n,this.rhs=e}render({es5:i,_n:n}){let e=i?Li.varKinds.var:this.varKind,r=this.rhs===void 0?"":` = ${this.rhs}`;return`${e} ${this.name}${r};`+n}optimizeNames(i,n){if(i[this.name.str])return this.rhs&&(this.rhs=Xr(this.rhs,i,n)),this}get names(){return this.rhs instanceof Oe._CodeOrName?this.rhs.names:{}}},_s=class extends bn{constructor(i,n,e){super(),this.lhs=i,this.rhs=n,this.sideEffects=e}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,n){if(!(this.lhs instanceof Oe.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=Xr(this.rhs,i,n),this}get names(){let i=this.lhs instanceof Oe.Name?{}:I({},this.lhs.names);return Cs(i,this.rhs)}},Xl=class extends _s{constructor(i,n,e,r){super(i,e,r),this.op=n}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}},Jl=class extends bn{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}},ec=class extends bn{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}},tc=class extends bn{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}},ic=class extends bn{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,n){return this.code=Xr(this.code,i,n),this}get names(){return this.code instanceof Oe._CodeOrName?this.code.names:{}}},Ho=class extends bn{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((n,e)=>n+e.render(i),"")}optimizeNodes(){let{nodes:i}=this,n=i.length;for(;n--;){let e=i[n].optimizeNodes();Array.isArray(e)?i.splice(n,1,...e):e?i[n]=e:i.splice(n,1)}return i.length>0?this:void 0}optimizeNames(i,n){let{nodes:e}=this,r=e.length;for(;r--;){let o=e[r];o.optimizeNames(i,n)||(iC(i,o.names),e.splice(r,1))}return e.length>0?this:void 0}get names(){return this.nodes.reduce((i,n)=>ar(i,n.names),{})}},Sn=class extends Ho{render(i){return"{"+i._n+super.render(i)+"}"+i._n}},nc=class extends Ho{},rc=(()=>{class t extends Sn{}return t.kind="else",t})(),fs=(()=>{class t extends Sn{constructor(n,e){super(e),this.condition=n}render(n){let e=`if(${this.condition})`+super.render(n);return this.else&&(e+="else "+this.else.render(n)),e}optimizeNodes(){super.optimizeNodes();let n=this.condition;if(n===!0)return this.nodes;let e=this.else;if(e){let r=e.optimizeNodes();e=this.else=Array.isArray(r)?new rc(r):r}if(e)return n===!1?e instanceof t?e:e.nodes:this.nodes.length?this:new t(Lh(n),e instanceof t?[e]:e.nodes);if(!(n===!1||!this.nodes.length))return this}optimizeNames(n,e){var r;if(this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(n,e),!!(super.optimizeNames(n,e)||this.else))return this.condition=Xr(this.condition,n,e),this}get names(){let n=super.names;return Cs(n,this.condition),this.else&&ar(n,this.else.names),n}}return t.kind="if",t})(),vs=(()=>{class t extends Sn{}return t.kind="for",t})(),oc=class extends vs{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,n){if(super.optimizeNames(i,n))return this.iteration=Xr(this.iteration,i,n),this}get names(){return ar(super.names,this.iteration.names)}},ac=class extends vs{constructor(i,n,e,r){super(),this.varKind=i,this.name=n,this.from=e,this.to=r}render(i){let n=i.es5?Li.varKinds.var:this.varKind,{name:e,from:r,to:o}=this;return`for(${n} ${e}=${r}; ${e}<${o}; ${e}++)`+super.render(i)}get names(){let i=Cs(super.names,this.from);return Cs(i,this.to)}},gs=class extends vs{constructor(i,n,e,r){super(),this.loop=i,this.varKind=n,this.name=e,this.iterable=r}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,n){if(super.optimizeNames(i,n))return this.iterable=Xr(this.iterable,i,n),this}get names(){return ar(super.names,this.iterable.names)}},Rh=(()=>{class t extends Sn{constructor(n,e,r){super(),this.name=n,this.args=e,this.async=r}render(n){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(n)}}return t.kind="func",t})(),Vh=(()=>{class t extends Ho{render(n){return"return "+super.render(n)}}return t.kind="return",t})(),sc=class extends Sn{render(i){let n="try"+super.render(i);return this.catch&&(n+=this.catch.render(i)),this.finally&&(n+=this.finally.render(i)),n}optimizeNodes(){var i,n;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(n=this.finally)===null||n===void 0||n.optimizeNodes(),this}optimizeNames(i,n){var e,r;return super.optimizeNames(i,n),(e=this.catch)===null||e===void 0||e.optimizeNames(i,n),(r=this.finally)===null||r===void 0||r.optimizeNames(i,n),this}get names(){let i=super.names;return this.catch&&ar(i,this.catch.names),this.finally&&ar(i,this.finally.names),i}},Ah=(()=>{class t extends Sn{constructor(n){super(),this.error=n}render(n){return`catch(${this.error})`+super.render(n)}}return t.kind="catch",t})(),Hh=(()=>{class t extends Sn{render(n){return"finally"+super.render(n)}}return t.kind="finally",t})(),lc=class{constructor(i,n={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Me(I({},n),{_n:n.lines?`
`:""}),this._extScope=i,this._scope=new Li.Scope({parent:i}),this._nodes=[new nc]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,n){let e=this._extScope.value(i,n);return(this._values[e.prefix]||(this._values[e.prefix]=new Set)).add(e),e}getScopeValue(i,n){return this._extScope.getValue(i,n)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,n,e,r){let o=this._scope.toName(n);return e!==void 0&&r&&(this._constants[o.str]=e),this._leafNode(new Zl(i,o,e)),o}const(i,n,e){return this._def(Li.varKinds.const,i,n,e)}let(i,n,e){return this._def(Li.varKinds.let,i,n,e)}var(i,n,e){return this._def(Li.varKinds.var,i,n,e)}assign(i,n,e){return this._leafNode(new _s(i,n,e))}add(i,n){return this._leafNode(new Xl(i,ke.operators.ADD,n))}code(i){return typeof i=="function"?i():i!==Oe.nil&&this._leafNode(new ic(i)),this}object(...i){let n=["{"];for(let[e,r]of i)n.length>1&&n.push(","),n.push(e),(e!==r||this.opts.es5)&&(n.push(":"),(0,Oe.addCodeArg)(n,r));return n.push("}"),new Oe._Code(n)}if(i,n,e){if(this._blockNode(new fs(i)),n&&e)this.code(n).else().code(e).endIf();else if(n)this.code(n).endIf();else if(e)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new fs(i))}else(){return this._elseNode(new rc)}endIf(){return this._endBlockNode(fs,rc)}_for(i,n){return this._blockNode(i),n&&this.code(n).endFor(),this}for(i,n){return this._for(new oc(i),n)}forRange(i,n,e,r,o=this.opts.es5?Li.varKinds.var:Li.varKinds.let){let a=this._scope.toName(i);return this._for(new ac(o,a,n,e),()=>r(a))}forOf(i,n,e,r=Li.varKinds.const){let o=this._scope.toName(i);if(this.opts.es5){let a=n instanceof Oe.Name?n:this.var("_arr",n);return this.forRange("_i",0,(0,Oe._)`${a}.length`,s=>{this.var(o,(0,Oe._)`${a}[${s}]`),e(o)})}return this._for(new gs("of",r,o,n),()=>e(o))}forIn(i,n,e,r=this.opts.es5?Li.varKinds.var:Li.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,Oe._)`Object.keys(${n})`,e);let o=this._scope.toName(i);return this._for(new gs("in",r,o,n),()=>e(o))}endFor(){return this._endBlockNode(vs)}label(i){return this._leafNode(new Jl(i))}break(i){return this._leafNode(new ec(i))}return(i){let n=new Vh;if(this._blockNode(n),this.code(i),n.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Vh)}try(i,n,e){if(!n&&!e)throw new Error('CodeGen: "try" without "catch" and "finally"');let r=new sc;if(this._blockNode(r),this.code(i),n){let o=this.name("e");this._currNode=r.catch=new Ah(o),n(o)}return e&&(this._currNode=r.finally=new Hh,this.code(e)),this._endBlockNode(Ah,Hh)}throw(i){return this._leafNode(new tc(i))}block(i,n){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(n),this}endBlock(i){let n=this._blockStarts.pop();if(n===void 0)throw new Error("CodeGen: not in self-balancing block");let e=this._nodes.length-n;if(e<0||i!==void 0&&e!==i)throw new Error(`CodeGen: wrong number of nodes: ${e} vs ${i} expected`);return this._nodes.length=n,this}func(i,n=Oe.nil,e,r){return this._blockNode(new Rh(i,n,e)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(Rh)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,n){let e=this._currNode;if(e instanceof i||n&&e instanceof n)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${n?`${i.kind}/${n.kind}`:i.kind}"`)}_elseNode(i){let n=this._currNode;if(!(n instanceof fs))throw new Error('CodeGen: "else" without "if"');return this._currNode=n.else=i,this}get _root(){return this._nodes[0]}get _currNode(){let i=this._nodes;return i[i.length-1]}set _currNode(i){let n=this._nodes;n[n.length-1]=i}};ke.CodeGen=lc;function ar(t,i){for(let n in i)t[n]=(t[n]||0)+(i[n]||0);return t}function Cs(t,i){return i instanceof Oe._CodeOrName?ar(t,i.names):t}function Xr(t,i,n){if(t instanceof Oe.Name)return e(t);if(!r(t))return t;return new Oe._Code(t._items.reduce((o,a)=>(a instanceof Oe.Name&&(a=e(a)),a instanceof Oe._Code?o.push(...a._items):o.push(a),o),[]));function e(o){let a=n[o.str];return a===void 0||i[o.str]!==1?o:(delete i[o.str],a)}function r(o){return o instanceof Oe._Code&&o._items.some(a=>a instanceof Oe.Name&&i[a.str]===1&&n[a.str]!==void 0)}}function iC(t,i){for(let n in i)t[n]=(t[n]||0)-(i[n]||0)}function Lh(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,Oe._)`!${cc(t)}`}ke.not=Lh;var nC=jh(ke.operators.AND);function rC(...t){return t.reduce(nC)}ke.and=rC;var oC=jh(ke.operators.OR);function aC(...t){return t.reduce(oC)}ke.or=aC;function jh(t){return(i,n)=>i===Oe.nil?n:n===Oe.nil?i:(0,Oe._)`${cc(i)} ${t} ${cc(n)}`}function cc(t){return t instanceof Oe.Name?t:(0,Oe._)`(${t})`}});var Be=G(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.checkStrictMode=De.getErrorPath=De.Type=De.useFunc=De.setEvaluated=De.evaluatedPropsToName=De.mergeEvaluated=De.eachItem=De.unescapeJsonPointer=De.escapeJsonPointer=De.escapeFragment=De.unescapeFragment=De.schemaRefOrVal=De.schemaHasRulesButRef=De.schemaHasRules=De.checkUnknownRules=De.alwaysValidSchema=De.toHash=void 0;var at=Se(),sC=Ao();function lC(t){let i={};for(let n of t)i[n]=!0;return i}De.toHash=lC;function cC(t,i){return typeof i=="boolean"?i:Object.keys(i).length===0?!0:(qh(t,i),!Uh(i,t.self.RULES.all))}De.alwaysValidSchema=cC;function qh(t,i=t.schema){let{opts:n,self:e}=t;if(!n.strictSchema||typeof i=="boolean")return;let r=e.RULES.keywords;for(let o in i)r[o]||Gh(t,`unknown keyword: "${o}"`)}De.checkUnknownRules=qh;function Uh(t,i){if(typeof t=="boolean")return!t;for(let n in t)if(i[n])return!0;return!1}De.schemaHasRules=Uh;function dC(t,i){if(typeof t=="boolean")return!t;for(let n in t)if(n!=="$ref"&&i.all[n])return!0;return!1}De.schemaHasRulesButRef=dC;function pC({topSchemaRef:t,schemaPath:i},n,e,r){if(!r){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,at._)`${n}`}return(0,at._)`${t}${i}${(0,at.getProperty)(e)}`}De.schemaRefOrVal=pC;function uC(t){return Yh(decodeURIComponent(t))}De.unescapeFragment=uC;function hC(t){return encodeURIComponent(dc(t))}De.escapeFragment=hC;function dc(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}De.escapeJsonPointer=dc;function Yh(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}De.unescapeJsonPointer=Yh;function mC(t,i){if(Array.isArray(t))for(let n of t)i(n);else i(t)}De.eachItem=mC;function Bh({mergeNames:t,mergeToName:i,mergeValues:n,resultToName:e}){return(r,o,a,s)=>{let c=a===void 0?o:a instanceof at.Name?(o instanceof at.Name?t(r,o,a):i(r,o,a),a):o instanceof at.Name?(i(r,a,o),o):n(o,a);return s===at.Name&&!(c instanceof at.Name)?e(r,c):c}}De.mergeEvaluated={props:Bh({mergeNames:(t,i,n)=>t.if((0,at._)`${n} !== true && ${i} !== undefined`,()=>{t.if((0,at._)`${i} === true`,()=>t.assign(n,!0),()=>t.assign(n,(0,at._)`${n} || {}`).code((0,at._)`Object.assign(${n}, ${i})`))}),mergeToName:(t,i,n)=>t.if((0,at._)`${n} !== true`,()=>{i===!0?t.assign(n,!0):(t.assign(n,(0,at._)`${n} || {}`),pc(t,n,i))}),mergeValues:(t,i)=>t===!0?!0:I(I({},t),i),resultToName:Qh}),items:Bh({mergeNames:(t,i,n)=>t.if((0,at._)`${n} !== true && ${i} !== undefined`,()=>t.assign(n,(0,at._)`${i} === true ? true : ${n} > ${i} ? ${n} : ${i}`)),mergeToName:(t,i,n)=>t.if((0,at._)`${n} !== true`,()=>t.assign(n,i===!0?!0:(0,at._)`${n} > ${i} ? ${n} : ${i}`)),mergeValues:(t,i)=>t===!0?!0:Math.max(t,i),resultToName:(t,i)=>t.var("items",i)})};function Qh(t,i){if(i===!0)return t.var("props",!0);let n=t.var("props",(0,at._)`{}`);return i!==void 0&&pc(t,n,i),n}De.evaluatedPropsToName=Qh;function pc(t,i,n){Object.keys(n).forEach(e=>t.assign((0,at._)`${i}${(0,at.getProperty)(e)}`,!0))}De.setEvaluated=pc;var Wh={};function fC(t,i){return t.scopeValue("func",{ref:i,code:Wh[i.code]||(Wh[i.code]=new sC._Code(i.code))})}De.useFunc=fC;var Kh;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Kh=De.Type||(De.Type={}));function _C(t,i,n){if(t instanceof at.Name){let e=i===Kh.Num;return n?e?(0,at._)`"[" + ${t} + "]"`:(0,at._)`"['" + ${t} + "']"`:e?(0,at._)`"/" + ${t}`:(0,at._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,at.getProperty)(t).toString():"/"+dc(t)}De.getErrorPath=_C;function Gh(t,i,n=t.opts.strictSchema){if(n){if(i=`strict mode: ${i}`,n===!0)throw new Error(i);t.self.logger.warn(i)}}De.checkStrictMode=Gh});var Tn=G(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var Kt=Se(),gC={data:new Kt.Name("data"),valCxt:new Kt.Name("valCxt"),instancePath:new Kt.Name("instancePath"),parentData:new Kt.Name("parentData"),parentDataProperty:new Kt.Name("parentDataProperty"),rootData:new Kt.Name("rootData"),dynamicAnchors:new Kt.Name("dynamicAnchors"),vErrors:new Kt.Name("vErrors"),errors:new Kt.Name("errors"),this:new Kt.Name("this"),self:new Kt.Name("self"),scope:new Kt.Name("scope"),json:new Kt.Name("json"),jsonPos:new Kt.Name("jsonPos"),jsonLen:new Kt.Name("jsonLen"),jsonPart:new Kt.Name("jsonPart")};uc.default=gC});var Lo=G(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.extendErrors=Gt.resetErrorsCount=Gt.reportExtraError=Gt.reportError=Gt.keyword$DataError=Gt.keywordError=void 0;var Ve=Se(),zs=Be(),ei=Tn();Gt.keywordError={message:({keyword:t})=>(0,Ve.str)`must pass "${t}" keyword validation`};Gt.keyword$DataError={message:({keyword:t,schemaType:i})=>i?(0,Ve.str)`"${t}" keyword must be ${i} ($data)`:(0,Ve.str)`"${t}" keyword is invalid ($data)`};function CC(t,i=Gt.keywordError,n,e){let{it:r}=t,{gen:o,compositeRule:a,allErrors:s}=r,c=Jh(t,i,n);e??(a||s)?Zh(o,c):Xh(r,(0,Ve._)`[${c}]`)}Gt.reportError=CC;function yC(t,i=Gt.keywordError,n){let{it:e}=t,{gen:r,compositeRule:o,allErrors:a}=e,s=Jh(t,i,n);Zh(r,s),o||a||Xh(e,ei.default.vErrors)}Gt.reportExtraError=yC;function vC(t,i){t.assign(ei.default.errors,i),t.if((0,Ve._)`${ei.default.vErrors} !== null`,()=>t.if(i,()=>t.assign((0,Ve._)`${ei.default.vErrors}.length`,i),()=>t.assign(ei.default.vErrors,null)))}Gt.resetErrorsCount=vC;function zC({gen:t,keyword:i,schemaValue:n,data:e,errsCount:r,it:o}){if(r===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",r,ei.default.errors,s=>{t.const(a,(0,Ve._)`${ei.default.vErrors}[${s}]`),t.if((0,Ve._)`${a}.instancePath === undefined`,()=>t.assign((0,Ve._)`${a}.instancePath`,(0,Ve.strConcat)(ei.default.instancePath,o.errorPath))),t.assign((0,Ve._)`${a}.schemaPath`,(0,Ve.str)`${o.errSchemaPath}/${i}`),o.opts.verbose&&(t.assign((0,Ve._)`${a}.schema`,n),t.assign((0,Ve._)`${a}.data`,e))})}Gt.extendErrors=zC;function Zh(t,i){let n=t.const("err",i);t.if((0,Ve._)`${ei.default.vErrors} === null`,()=>t.assign(ei.default.vErrors,(0,Ve._)`[${n}]`),(0,Ve._)`${ei.default.vErrors}.push(${n})`),t.code((0,Ve._)`${ei.default.errors}++`)}function Xh(t,i){let{gen:n,validateName:e,schemaEnv:r}=t;r.$async?n.throw((0,Ve._)`new ${t.ValidationError}(${i})`):(n.assign((0,Ve._)`${e}.errors`,i),n.return(!1))}var sr={keyword:new Ve.Name("keyword"),schemaPath:new Ve.Name("schemaPath"),params:new Ve.Name("params"),propertyName:new Ve.Name("propertyName"),message:new Ve.Name("message"),schema:new Ve.Name("schema"),parentSchema:new Ve.Name("parentSchema")};function Jh(t,i,n){let{createErrors:e}=t.it;return e===!1?(0,Ve._)`{}`:xC(t,i,n)}function xC(t,i,n={}){let{gen:e,it:r}=t,o=[bC(r,n),SC(t,n)];return TC(t,i,o),e.object(...o)}function bC({errorPath:t},{instancePath:i}){let n=i?(0,Ve.str)`${t}${(0,zs.getErrorPath)(i,zs.Type.Str)}`:t;return[ei.default.instancePath,(0,Ve.strConcat)(ei.default.instancePath,n)]}function SC({keyword:t,it:{errSchemaPath:i}},{schemaPath:n,parentSchema:e}){let r=e?i:(0,Ve.str)`${i}/${t}`;return n&&(r=(0,Ve.str)`${r}${(0,zs.getErrorPath)(n,zs.Type.Str)}`),[sr.schemaPath,r]}function TC(t,{params:i,message:n},e){let{keyword:r,data:o,schemaValue:a,it:s}=t,{opts:c,propertyName:p,topSchemaRef:h,schemaPath:_}=s;e.push([sr.keyword,r],[sr.params,typeof i=="function"?i(t):i||(0,Ve._)`{}`]),c.messages&&e.push([sr.message,typeof n=="function"?n(t):n]),c.verbose&&e.push([sr.schema,a],[sr.parentSchema,(0,Ve._)`${h}${_}`],[ei.default.data,o]),p&&e.push([sr.propertyName,p])}});var tm=G(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.boolOrEmptySchema=Jr.topBoolOrEmptySchema=void 0;var wC=Lo(),kC=Se(),DC=Tn(),IC={message:"boolean schema is false"};function PC(t){let{gen:i,schema:n,validateName:e}=t;n===!1?em(t,!1):typeof n=="object"&&n.$async===!0?i.return(DC.default.data):(i.assign((0,kC._)`${e}.errors`,null),i.return(!0))}Jr.topBoolOrEmptySchema=PC;function EC(t,i){let{gen:n,schema:e}=t;e===!1?(n.var(i,!1),em(t)):n.var(i,!0)}Jr.boolOrEmptySchema=EC;function em(t,i){let{gen:n,data:e}=t,r={gen:n,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,wC.reportError)(r,IC,void 0,i)}});var hc=G(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.getRules=eo.isJSONType=void 0;var MC=["string","number","integer","boolean","null","object","array"],OC=new Set(MC);function NC(t){return typeof t=="string"&&OC.has(t)}eo.isJSONType=NC;function $C(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Me(I({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}eo.getRules=$C});var mc=G(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.shouldUseRule=Vn.shouldUseGroup=Vn.schemaHasRulesForType=void 0;function FC({schema:t,self:i},n){let e=i.RULES.types[n];return e&&e!==!0&&im(t,e)}Vn.schemaHasRulesForType=FC;function im(t,i){return i.rules.some(n=>nm(t,n))}Vn.shouldUseGroup=im;function nm(t,i){var n;return t[i.keyword]!==void 0||((n=i.definition.implements)===null||n===void 0?void 0:n.some(e=>t[e]!==void 0))}Vn.shouldUseRule=nm});var Bo=G(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.reportTypeError=Ht.checkDataTypes=Ht.checkDataType=Ht.coerceAndCheckDataType=Ht.getJSONTypes=Ht.getSchemaTypes=Ht.DataType=void 0;var RC=hc(),VC=mc(),AC=Lo(),be=Se(),rm=Be(),jo;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(jo=Ht.DataType||(Ht.DataType={}));function HC(t){let i=om(t.type);if(i.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!i.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&i.push("null")}return i}Ht.getSchemaTypes=HC;function om(t){let i=Array.isArray(t)?t:t?[t]:[];if(i.every(RC.isJSONType))return i;throw new Error("type must be JSONType or JSONType[]: "+i.join(","))}Ht.getJSONTypes=om;function LC(t,i){let{gen:n,data:e,opts:r}=t,o=jC(i,r.coerceTypes),a=i.length>0&&!(o.length===0&&i.length===1&&(0,VC.schemaHasRulesForType)(t,i[0]));if(a){let s=_c(i,e,r.strictNumbers,jo.Wrong);n.if(s,()=>{o.length?BC(t,i,o):gc(t)})}return a}Ht.coerceAndCheckDataType=LC;var am=new Set(["string","number","integer","boolean","null"]);function jC(t,i){return i?t.filter(n=>am.has(n)||i==="array"&&n==="array"):[]}function BC(t,i,n){let{gen:e,data:r,opts:o}=t,a=e.let("dataType",(0,be._)`typeof ${r}`),s=e.let("coerced",(0,be._)`undefined`);o.coerceTypes==="array"&&e.if((0,be._)`${a} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,()=>e.assign(r,(0,be._)`${r}[0]`).assign(a,(0,be._)`typeof ${r}`).if(_c(i,r,o.strictNumbers),()=>e.assign(s,r))),e.if((0,be._)`${s} !== undefined`);for(let p of n)(am.has(p)||p==="array"&&o.coerceTypes==="array")&&c(p);e.else(),gc(t),e.endIf(),e.if((0,be._)`${s} !== undefined`,()=>{e.assign(r,s),WC(t,s)});function c(p){switch(p){case"string":e.elseIf((0,be._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,be._)`"" + ${r}`).elseIf((0,be._)`${r} === null`).assign(s,(0,be._)`""`);return;case"number":e.elseIf((0,be._)`${a} == "boolean" || ${r} === null
              || (${a} == "string" && ${r} && ${r} == +${r})`).assign(s,(0,be._)`+${r}`);return;case"integer":e.elseIf((0,be._)`${a} === "boolean" || ${r} === null
              || (${a} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(s,(0,be._)`+${r}`);return;case"boolean":e.elseIf((0,be._)`${r} === "false" || ${r} === 0 || ${r} === null`).assign(s,!1).elseIf((0,be._)`${r} === "true" || ${r} === 1`).assign(s,!0);return;case"null":e.elseIf((0,be._)`${r} === "" || ${r} === 0 || ${r} === false`),e.assign(s,null);return;case"array":e.elseIf((0,be._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${r} === null`).assign(s,(0,be._)`[${r}]`)}}}function WC({gen:t,parentData:i,parentDataProperty:n},e){t.if((0,be._)`${i} !== undefined`,()=>t.assign((0,be._)`${i}[${n}]`,e))}function fc(t,i,n,e=jo.Correct){let r=e===jo.Correct?be.operators.EQ:be.operators.NEQ,o;switch(t){case"null":return(0,be._)`${i} ${r} null`;case"array":o=(0,be._)`Array.isArray(${i})`;break;case"object":o=(0,be._)`${i} && typeof ${i} == "object" && !Array.isArray(${i})`;break;case"integer":o=a((0,be._)`!(${i} % 1) && !isNaN(${i})`);break;case"number":o=a();break;default:return(0,be._)`typeof ${i} ${r} ${t}`}return e===jo.Correct?o:(0,be.not)(o);function a(s=be.nil){return(0,be.and)((0,be._)`typeof ${i} == "number"`,s,n?(0,be._)`isFinite(${i})`:be.nil)}}Ht.checkDataType=fc;function _c(t,i,n,e){if(t.length===1)return fc(t[0],i,n,e);let r,o=(0,rm.toHash)(t);if(o.array&&o.object){let a=(0,be._)`typeof ${i} != "object"`;r=o.null?a:(0,be._)`!${i} || ${a}`,delete o.null,delete o.array,delete o.object}else r=be.nil;o.number&&delete o.integer;for(let a in o)r=(0,be.and)(r,fc(a,i,n,e));return r}Ht.checkDataTypes=_c;var qC={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:i})=>typeof t=="string"?(0,be._)`{type: ${t}}`:(0,be._)`{type: ${i}}`};function gc(t){let i=UC(t);(0,AC.reportError)(i,qC)}Ht.reportTypeError=gc;function UC(t){let{gen:i,data:n,schema:e}=t,r=(0,rm.schemaRefOrVal)(t,e,"type");return{gen:i,keyword:"type",data:n,schema:e.type,schemaCode:r,schemaValue:r,parentSchema:e,params:{},it:t}}});var lm=G(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.assignDefaults=void 0;var to=Se(),YC=Be();function QC(t,i){let{properties:n,items:e}=t.schema;if(i==="object"&&n)for(let r in n)sm(t,r,n[r].default);else i==="array"&&Array.isArray(e)&&e.forEach((r,o)=>sm(t,o,r.default))}xs.assignDefaults=QC;function sm(t,i,n){let{gen:e,compositeRule:r,data:o,opts:a}=t;if(n===void 0)return;let s=(0,to._)`${o}${(0,to.getProperty)(i)}`;if(r){(0,YC.checkStrictMode)(t,`default is ignored for: ${s}`);return}let c=(0,to._)`${s} === undefined`;a.useDefaults==="empty"&&(c=(0,to._)`${c} || ${s} === null || ${s} === ""`),e.if(c,(0,to._)`${s} = ${(0,to.stringify)(n)}`)}});var wi=G(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.validateUnion=it.validateArray=it.usePattern=it.callValidateCode=it.schemaProperties=it.allSchemaProperties=it.noPropertyInData=it.propertyInData=it.isOwnProperty=it.hasPropFunc=it.reportMissingProp=it.checkMissingProp=it.checkReportMissingProp=void 0;var ut=Se(),Cc=Be(),An=Tn(),KC=Be();function GC(t,i){let{gen:n,data:e,it:r}=t;n.if(vc(n,e,i,r.opts.ownProperties),()=>{t.setParams({missingProperty:(0,ut._)`${i}`},!0),t.error()})}it.checkReportMissingProp=GC;function ZC({gen:t,data:i,it:{opts:n}},e,r){return(0,ut.or)(...e.map(o=>(0,ut.and)(vc(t,i,o,n.ownProperties),(0,ut._)`${r} = ${o}`)))}it.checkMissingProp=ZC;function XC(t,i){t.setParams({missingProperty:i},!0),t.error()}it.reportMissingProp=XC;function cm(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ut._)`Object.prototype.hasOwnProperty`})}it.hasPropFunc=cm;function yc(t,i,n){return(0,ut._)`${cm(t)}.call(${i}, ${n})`}it.isOwnProperty=yc;function JC(t,i,n,e){let r=(0,ut._)`${i}${(0,ut.getProperty)(n)} !== undefined`;return e?(0,ut._)`${r} && ${yc(t,i,n)}`:r}it.propertyInData=JC;function vc(t,i,n,e){let r=(0,ut._)`${i}${(0,ut.getProperty)(n)} === undefined`;return e?(0,ut.or)(r,(0,ut.not)(yc(t,i,n))):r}it.noPropertyInData=vc;function dm(t){return t?Object.keys(t).filter(i=>i!=="__proto__"):[]}it.allSchemaProperties=dm;function ey(t,i){return dm(i).filter(n=>!(0,Cc.alwaysValidSchema)(t,i[n]))}it.schemaProperties=ey;function ty({schemaCode:t,data:i,it:{gen:n,topSchemaRef:e,schemaPath:r,errorPath:o},it:a},s,c,p){let h=p?(0,ut._)`${t}, ${i}, ${e}${r}`:i,_=[[An.default.instancePath,(0,ut.strConcat)(An.default.instancePath,o)],[An.default.parentData,a.parentData],[An.default.parentDataProperty,a.parentDataProperty],[An.default.rootData,An.default.rootData]];a.opts.dynamicRef&&_.push([An.default.dynamicAnchors,An.default.dynamicAnchors]);let v=(0,ut._)`${h}, ${n.object(..._)}`;return c!==ut.nil?(0,ut._)`${s}.call(${c}, ${v})`:(0,ut._)`${s}(${v})`}it.callValidateCode=ty;var iy=(0,ut._)`new RegExp`;function ny({gen:t,it:{opts:i}},n){let e=i.unicodeRegExp?"u":"",{regExp:r}=i.code,o=r(n,e);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,ut._)`${r.code==="new RegExp"?iy:(0,KC.useFunc)(t,r)}(${n}, ${e})`})}it.usePattern=ny;function ry(t){let{gen:i,data:n,keyword:e,it:r}=t,o=i.name("valid");if(r.allErrors){let s=i.let("valid",!0);return a(()=>i.assign(s,!1)),s}return i.var(o,!0),a(()=>i.break()),o;function a(s){let c=i.const("len",(0,ut._)`${n}.length`);i.forRange("i",0,c,p=>{t.subschema({keyword:e,dataProp:p,dataPropType:Cc.Type.Num},o),i.if((0,ut.not)(o),s)})}}it.validateArray=ry;function oy(t){let{gen:i,schema:n,keyword:e,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(c=>(0,Cc.alwaysValidSchema)(r,c))&&!r.opts.unevaluated)return;let a=i.let("valid",!1),s=i.name("_valid");i.block(()=>n.forEach((c,p)=>{let h=t.subschema({keyword:e,schemaProp:p,compositeRule:!0},s);i.assign(a,(0,ut._)`${a} || ${s}`),t.mergeValidEvaluated(h,s)||i.if((0,ut.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}it.validateUnion=oy});var hm=G(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.validateKeywordUsage=rn.validSchemaType=rn.funcKeywordCode=rn.macroKeywordCode=void 0;var ti=Se(),lr=Tn(),ay=wi(),sy=Lo();function ly(t,i){let{gen:n,keyword:e,schema:r,parentSchema:o,it:a}=t,s=i.macro.call(a.self,r,o,a),c=um(n,e,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let p=n.name("valid");t.subschema({schema:s,schemaPath:ti.nil,errSchemaPath:`${a.errSchemaPath}/${e}`,topSchemaRef:c,compositeRule:!0},p),t.pass(p,()=>t.error(!0))}rn.macroKeywordCode=ly;function cy(t,i){var n;let{gen:e,keyword:r,schema:o,parentSchema:a,$data:s,it:c}=t;py(c,i);let p=!s&&i.compile?i.compile.call(c.self,o,a,c):i.validate,h=um(e,r,p),_=e.let("valid");t.block$data(_,v),t.ok((n=i.valid)!==null&&n!==void 0?n:_);function v(){if(i.errors===!1)T(),i.modifying&&pm(t),F(()=>t.error());else{let E=i.async?y():k();i.modifying&&pm(t),F(()=>dy(t,E))}}function y(){let E=e.let("ruleErrs",null);return e.try(()=>T((0,ti._)`await `),U=>e.assign(_,!1).if((0,ti._)`${U} instanceof ${c.ValidationError}`,()=>e.assign(E,(0,ti._)`${U}.errors`),()=>e.throw(U))),E}function k(){let E=(0,ti._)`${h}.errors`;return e.assign(E,null),T(ti.nil),E}function T(E=i.async?(0,ti._)`await `:ti.nil){let U=c.opts.passContext?lr.default.this:lr.default.self,fe=!("compile"in i&&!s||i.schema===!1);e.assign(_,(0,ti._)`${E}${(0,ay.callValidateCode)(t,h,U,fe)}`,i.modifying)}function F(E){var U;e.if((0,ti.not)((U=i.valid)!==null&&U!==void 0?U:_),E)}}rn.funcKeywordCode=cy;function pm(t){let{gen:i,data:n,it:e}=t;i.if(e.parentData,()=>i.assign(n,(0,ti._)`${e.parentData}[${e.parentDataProperty}]`))}function dy(t,i){let{gen:n}=t;n.if((0,ti._)`Array.isArray(${i})`,()=>{n.assign(lr.default.vErrors,(0,ti._)`${lr.default.vErrors} === null ? ${i} : ${lr.default.vErrors}.concat(${i})`).assign(lr.default.errors,(0,ti._)`${lr.default.vErrors}.length`),(0,sy.extendErrors)(t)},()=>t.error())}function py({schemaEnv:t},i){if(i.async&&!t.$async)throw new Error("async keyword in sync schema")}function um(t,i,n){if(n===void 0)throw new Error(`keyword "${i}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,ti.stringify)(n)})}function uy(t,i,n=!1){return!i.length||i.some(e=>e==="array"?Array.isArray(t):e==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==e||n&&typeof t>"u")}rn.validSchemaType=uy;function hy({schema:t,opts:i,self:n,errSchemaPath:e},r,o){if(Array.isArray(r.keyword)?!r.keyword.includes(o):r.keyword!==o)throw new Error("ajv implementation error");let a=r.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(r.validateSchema&&!r.validateSchema(t[o])){let c=`keyword "${o}" value is invalid at path "${e}": `+n.errorsText(r.validateSchema.errors);if(i.validateSchema==="log")n.logger.error(c);else throw new Error(c)}}rn.validateKeywordUsage=hy});var fm=G(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.extendSubschemaMode=Hn.extendSubschemaData=Hn.getSubschema=void 0;var on=Se(),mm=Be();function my(t,{keyword:i,schemaProp:n,schema:e,schemaPath:r,errSchemaPath:o,topSchemaRef:a}){if(i!==void 0&&e!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){let s=t.schema[i];return n===void 0?{schema:s,schemaPath:(0,on._)`${t.schemaPath}${(0,on.getProperty)(i)}`,errSchemaPath:`${t.errSchemaPath}/${i}`}:{schema:s[n],schemaPath:(0,on._)`${t.schemaPath}${(0,on.getProperty)(i)}${(0,on.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${i}/${(0,mm.escapeFragment)(n)}`}}if(e!==void 0){if(r===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:e,schemaPath:r,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Hn.getSubschema=my;function fy(t,i,{dataProp:n,dataPropType:e,data:r,dataTypes:o,propertyName:a}){if(r!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=i;if(n!==void 0){let{errorPath:p,dataPathArr:h,opts:_}=i,v=s.let("data",(0,on._)`${i.data}${(0,on.getProperty)(n)}`,!0);c(v),t.errorPath=(0,on.str)`${p}${(0,mm.getErrorPath)(n,e,_.jsPropertySyntax)}`,t.parentDataProperty=(0,on._)`${n}`,t.dataPathArr=[...h,t.parentDataProperty]}if(r!==void 0){let p=r instanceof on.Name?r:s.let("data",r,!0);c(p),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function c(p){t.data=p,t.dataLevel=i.dataLevel+1,t.dataTypes=[],i.definedProperties=new Set,t.parentData=i.data,t.dataNames=[...i.dataNames,p]}}Hn.extendSubschemaData=fy;function _y(t,{jtdDiscriminator:i,jtdMetadata:n,compositeRule:e,createErrors:r,allErrors:o}){e!==void 0&&(t.compositeRule=e),r!==void 0&&(t.createErrors=r),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=i,t.jtdMetadata=n}Hn.extendSubschemaMode=_y});var zc=G((CO,_m)=>{"use strict";_m.exports=function t(i,n){if(i===n)return!0;if(i&&n&&typeof i=="object"&&typeof n=="object"){if(i.constructor!==n.constructor)return!1;var e,r,o;if(Array.isArray(i)){if(e=i.length,e!=n.length)return!1;for(r=e;r--!==0;)if(!t(i[r],n[r]))return!1;return!0}if(i.constructor===RegExp)return i.source===n.source&&i.flags===n.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===n.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===n.toString();if(o=Object.keys(i),e=o.length,e!==Object.keys(n).length)return!1;for(r=e;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=e;r--!==0;){var a=o[r];if(!t(i[a],n[a]))return!1}return!0}return i!==i&&n!==n}});var Cm=G((yO,gm)=>{"use strict";var Ln=gm.exports=function(t,i,n){typeof i=="function"&&(n=i,i={}),n=i.cb||n;var e=typeof n=="function"?n:n.pre||function(){},r=n.post||function(){};bs(i,e,r,t,"",t)};Ln.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ln.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ln.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ln.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function bs(t,i,n,e,r,o,a,s,c,p){if(e&&typeof e=="object"&&!Array.isArray(e)){i(e,r,o,a,s,c,p);for(var h in e){var _=e[h];if(Array.isArray(_)){if(h in Ln.arrayKeywords)for(var v=0;v<_.length;v++)bs(t,i,n,_[v],r+"/"+h+"/"+v,o,r,h,e,v)}else if(h in Ln.propsKeywords){if(_&&typeof _=="object")for(var y in _)bs(t,i,n,_[y],r+"/"+h+"/"+gy(y),o,r,h,e,y)}else(h in Ln.keywords||t.allKeys&&!(h in Ln.skipKeywords))&&bs(t,i,n,_,r+"/"+h,o,r,h,e)}n(e,r,o,a,s,c,p)}}function gy(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Wo=G(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.getSchemaRefs=pi.resolveUrl=pi.normalizeId=pi._getFullPath=pi.getFullPath=pi.inlineRef=void 0;var Cy=Be(),yy=zc(),vy=Cm(),zy=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function xy(t,i=!0){return typeof t=="boolean"?!0:i===!0?!xc(t):i?ym(t)<=i:!1}pi.inlineRef=xy;var by=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xc(t){for(let i in t){if(by.has(i))return!0;let n=t[i];if(Array.isArray(n)&&n.some(xc)||typeof n=="object"&&xc(n))return!0}return!1}function ym(t){let i=0;for(let n in t){if(n==="$ref")return 1/0;if(i++,!zy.has(n)&&(typeof t[n]=="object"&&(0,Cy.eachItem)(t[n],e=>i+=ym(e)),i===1/0))return 1/0}return i}function vm(t,i="",n){n!==!1&&(i=io(i));let e=t.parse(i);return zm(t,e)}pi.getFullPath=vm;function zm(t,i){return t.serialize(i).split("#")[0]+"#"}pi._getFullPath=zm;var Sy=/#\/?$/;function io(t){return t?t.replace(Sy,""):""}pi.normalizeId=io;function Ty(t,i,n){return n=io(n),t.resolve(i,n)}pi.resolveUrl=Ty;var wy=/^[a-z_][-a-z0-9._]*$/i;function ky(t,i){if(typeof t=="boolean")return{};let{schemaId:n,uriResolver:e}=this.opts,r=io(t[n]||i),o={"":r},a=vm(e,r,!1),s={},c=new Set;return vy(t,{allKeys:!0},(_,v,y,k)=>{if(k===void 0)return;let T=a+v,F=o[k];typeof _[n]=="string"&&(F=E.call(this,_[n])),U.call(this,_.$anchor),U.call(this,_.$dynamicAnchor),o[v]=F;function E(fe){let Ae=this.opts.uriResolver.resolve;if(fe=io(F?Ae(F,fe):fe),c.has(fe))throw h(fe);c.add(fe);let Q=this.refs[fe];return typeof Q=="string"&&(Q=this.refs[Q]),typeof Q=="object"?p(_,Q.schema,fe):fe!==io(T)&&(fe[0]==="#"?(p(_,s[fe],fe),s[fe]=_):this.refs[fe]=T),fe}function U(fe){if(typeof fe=="string"){if(!wy.test(fe))throw new Error(`invalid anchor "${fe}"`);E.call(this,`#${fe}`)}}}),s;function p(_,v,y){if(v!==void 0&&!yy(_,v))throw h(y)}function h(_){return new Error(`reference "${_}" resolves to more than one schema`)}}pi.getSchemaRefs=ky});var Yo=G(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.getData=jn.KeywordCxt=jn.validateFunctionCode=void 0;var wm=tm(),xm=Bo(),Sc=mc(),Ss=Bo(),Dy=lm(),Uo=hm(),bc=fm(),J=Se(),_e=Tn(),Iy=Wo(),wn=Be(),qo=Lo();function Py(t){if(Im(t)&&(Pm(t),Dm(t))){Oy(t);return}km(t,()=>(0,wm.topBoolOrEmptySchema)(t))}jn.validateFunctionCode=Py;function km({gen:t,validateName:i,schema:n,schemaEnv:e,opts:r},o){r.code.es5?t.func(i,(0,J._)`${_e.default.data}, ${_e.default.valCxt}`,e.$async,()=>{t.code((0,J._)`"use strict"; ${bm(n,r)}`),My(t,r),t.code(o)}):t.func(i,(0,J._)`${_e.default.data}, ${Ey(r)}`,e.$async,()=>t.code(bm(n,r)).code(o))}function Ey(t){return(0,J._)`{${_e.default.instancePath}="", ${_e.default.parentData}, ${_e.default.parentDataProperty}, ${_e.default.rootData}=${_e.default.data}${t.dynamicRef?(0,J._)`, ${_e.default.dynamicAnchors}={}`:J.nil}}={}`}function My(t,i){t.if(_e.default.valCxt,()=>{t.var(_e.default.instancePath,(0,J._)`${_e.default.valCxt}.${_e.default.instancePath}`),t.var(_e.default.parentData,(0,J._)`${_e.default.valCxt}.${_e.default.parentData}`),t.var(_e.default.parentDataProperty,(0,J._)`${_e.default.valCxt}.${_e.default.parentDataProperty}`),t.var(_e.default.rootData,(0,J._)`${_e.default.valCxt}.${_e.default.rootData}`),i.dynamicRef&&t.var(_e.default.dynamicAnchors,(0,J._)`${_e.default.valCxt}.${_e.default.dynamicAnchors}`)},()=>{t.var(_e.default.instancePath,(0,J._)`""`),t.var(_e.default.parentData,(0,J._)`undefined`),t.var(_e.default.parentDataProperty,(0,J._)`undefined`),t.var(_e.default.rootData,_e.default.data),i.dynamicRef&&t.var(_e.default.dynamicAnchors,(0,J._)`{}`)})}function Oy(t){let{schema:i,opts:n,gen:e}=t;km(t,()=>{n.$comment&&i.$comment&&Mm(t),Vy(t),e.let(_e.default.vErrors,null),e.let(_e.default.errors,0),n.unevaluated&&Ny(t),Em(t),Ly(t)})}function Ny(t){let{gen:i,validateName:n}=t;t.evaluated=i.const("evaluated",(0,J._)`${n}.evaluated`),i.if((0,J._)`${t.evaluated}.dynamicProps`,()=>i.assign((0,J._)`${t.evaluated}.props`,(0,J._)`undefined`)),i.if((0,J._)`${t.evaluated}.dynamicItems`,()=>i.assign((0,J._)`${t.evaluated}.items`,(0,J._)`undefined`))}function bm(t,i){let n=typeof t=="object"&&t[i.schemaId];return n&&(i.code.source||i.code.process)?(0,J._)`/*# sourceURL=${n} */`:J.nil}function $y(t,i){if(Im(t)&&(Pm(t),Dm(t))){Fy(t,i);return}(0,wm.boolOrEmptySchema)(t,i)}function Dm({schema:t,self:i}){if(typeof t=="boolean")return!t;for(let n in t)if(i.RULES.all[n])return!0;return!1}function Im(t){return typeof t.schema!="boolean"}function Fy(t,i){let{schema:n,gen:e,opts:r}=t;r.$comment&&n.$comment&&Mm(t),Ay(t),Hy(t);let o=e.const("_errs",_e.default.errors);Em(t,o),e.var(i,(0,J._)`${o} === ${_e.default.errors}`)}function Pm(t){(0,wn.checkUnknownRules)(t),Ry(t)}function Em(t,i){if(t.opts.jtd)return Sm(t,[],!1,i);let n=(0,xm.getSchemaTypes)(t.schema),e=(0,xm.coerceAndCheckDataType)(t,n);Sm(t,n,!e,i)}function Ry(t){let{schema:i,errSchemaPath:n,opts:e,self:r}=t;i.$ref&&e.ignoreKeywordsWithRef&&(0,wn.schemaHasRulesButRef)(i,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function Vy(t){let{schema:i,opts:n}=t;i.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,wn.checkStrictMode)(t,"default is ignored in the schema root")}function Ay(t){let i=t.schema[t.opts.schemaId];i&&(t.baseId=(0,Iy.resolveUrl)(t.opts.uriResolver,t.baseId,i))}function Hy(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Mm({gen:t,schemaEnv:i,schema:n,errSchemaPath:e,opts:r}){let o=n.$comment;if(r.$comment===!0)t.code((0,J._)`${_e.default.self}.logger.log(${o})`);else if(typeof r.$comment=="function"){let a=(0,J.str)`${e}/$comment`,s=t.scopeValue("root",{ref:i.root});t.code((0,J._)`${_e.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Ly(t){let{gen:i,schemaEnv:n,validateName:e,ValidationError:r,opts:o}=t;n.$async?i.if((0,J._)`${_e.default.errors} === 0`,()=>i.return(_e.default.data),()=>i.throw((0,J._)`new ${r}(${_e.default.vErrors})`)):(i.assign((0,J._)`${e}.errors`,_e.default.vErrors),o.unevaluated&&jy(t),i.return((0,J._)`${_e.default.errors} === 0`))}function jy({gen:t,evaluated:i,props:n,items:e}){n instanceof J.Name&&t.assign((0,J._)`${i}.props`,n),e instanceof J.Name&&t.assign((0,J._)`${i}.items`,e)}function Sm(t,i,n,e){let{gen:r,schema:o,data:a,allErrors:s,opts:c,self:p}=t,{RULES:h}=p;if(o.$ref&&(c.ignoreKeywordsWithRef||!(0,wn.schemaHasRulesButRef)(o,h))){r.block(()=>Nm(t,"$ref",h.all.$ref.definition));return}c.jtd||By(t,i),r.block(()=>{for(let v of h.rules)_(v);_(h.post)});function _(v){(0,Sc.shouldUseGroup)(o,v)&&(v.type?(r.if((0,Ss.checkDataType)(v.type,a,c.strictNumbers)),Tm(t,v),i.length===1&&i[0]===v.type&&n&&(r.else(),(0,Ss.reportTypeError)(t)),r.endIf()):Tm(t,v),s||r.if((0,J._)`${_e.default.errors} === ${e||0}`))}}function Tm(t,i){let{gen:n,schema:e,opts:{useDefaults:r}}=t;r&&(0,Dy.assignDefaults)(t,i.type),n.block(()=>{for(let o of i.rules)(0,Sc.shouldUseRule)(e,o)&&Nm(t,o.keyword,o.definition,i.type)})}function By(t,i){t.schemaEnv.meta||!t.opts.strictTypes||(Wy(t,i),t.opts.allowUnionTypes||qy(t,i),Uy(t,t.dataTypes))}function Wy(t,i){if(i.length){if(!t.dataTypes.length){t.dataTypes=i;return}i.forEach(n=>{Om(t.dataTypes,n)||Tc(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),Qy(t,i)}}function qy(t,i){i.length>1&&!(i.length===2&&i.includes("null"))&&Tc(t,"use allowUnionTypes to allow union type keyword")}function Uy(t,i){let n=t.self.RULES.all;for(let e in n){let r=n[e];if(typeof r=="object"&&(0,Sc.shouldUseRule)(t.schema,r)){let{type:o}=r.definition;o.length&&!o.some(a=>Yy(i,a))&&Tc(t,`missing type "${o.join(",")}" for keyword "${e}"`)}}}function Yy(t,i){return t.includes(i)||i==="number"&&t.includes("integer")}function Om(t,i){return t.includes(i)||i==="integer"&&t.includes("number")}function Qy(t,i){let n=[];for(let e of t.dataTypes)Om(i,e)?n.push(e):i.includes("integer")&&e==="number"&&n.push("integer");t.dataTypes=n}function Tc(t,i){let n=t.schemaEnv.baseId+t.errSchemaPath;i+=` at "${n}" (strictTypes)`,(0,wn.checkStrictMode)(t,i,t.opts.strictTypes)}var Ts=class{constructor(i,n,e){if((0,Uo.validateKeywordUsage)(i,n,e),this.gen=i.gen,this.allErrors=i.allErrors,this.keyword=e,this.data=i.data,this.schema=i.schema[e],this.$data=n.$data&&i.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,wn.schemaRefOrVal)(i,this.schema,e,this.$data),this.schemaType=n.schemaType,this.parentSchema=i.schema,this.params={},this.it=i,this.def=n,this.$data)this.schemaCode=i.gen.const("vSchema",$m(this.$data,i));else if(this.schemaCode=this.schemaValue,!(0,Uo.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${e} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=i.gen.const("_errs",_e.default.errors))}result(i,n,e){this.failResult((0,J.not)(i),n,e)}failResult(i,n,e){this.gen.if(i),e?e():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(i,n){this.failResult((0,J.not)(i),void 0,n)}fail(i){if(i===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(i),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(i){if(!this.$data)return this.fail(i);let{schemaCode:n}=this;this.fail((0,J._)`${n} !== undefined && (${(0,J.or)(this.invalid$data(),i)})`)}error(i,n,e){if(n){this.setParams(n),this._error(i,e),this.setParams({});return}this._error(i,e)}_error(i,n){(i?qo.reportExtraError:qo.reportError)(this,this.def.error,n)}$dataError(){(0,qo.reportError)(this,this.def.$dataError||qo.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,qo.resetErrorsCount)(this.gen,this.errsCount)}ok(i){this.allErrors||this.gen.if(i)}setParams(i,n){n?Object.assign(this.params,i):this.params=i}block$data(i,n,e=J.nil){this.gen.block(()=>{this.check$data(i,e),n()})}check$data(i=J.nil,n=J.nil){if(!this.$data)return;let{gen:e,schemaCode:r,schemaType:o,def:a}=this;e.if((0,J.or)((0,J._)`${r} === undefined`,n)),i!==J.nil&&e.assign(i,!0),(o.length||a.validateSchema)&&(e.elseIf(this.invalid$data()),this.$dataError(),i!==J.nil&&e.assign(i,!1)),e.else()}invalid$data(){let{gen:i,schemaCode:n,schemaType:e,def:r,it:o}=this;return(0,J.or)(a(),s());function a(){if(e.length){if(!(n instanceof J.Name))throw new Error("ajv implementation error");let c=Array.isArray(e)?e:[e];return(0,J._)`${(0,Ss.checkDataTypes)(c,n,o.opts.strictNumbers,Ss.DataType.Wrong)}`}return J.nil}function s(){if(r.validateSchema){let c=i.scopeValue("validate$data",{ref:r.validateSchema});return(0,J._)`!${c}(${n})`}return J.nil}}subschema(i,n){let e=(0,bc.getSubschema)(this.it,i);(0,bc.extendSubschemaData)(e,this.it,i),(0,bc.extendSubschemaMode)(e,i);let r=Me(I(I({},this.it),e),{items:void 0,props:void 0});return $y(r,n),r}mergeEvaluated(i,n){let{it:e,gen:r}=this;e.opts.unevaluated&&(e.props!==!0&&i.props!==void 0&&(e.props=wn.mergeEvaluated.props(r,i.props,e.props,n)),e.items!==!0&&i.items!==void 0&&(e.items=wn.mergeEvaluated.items(r,i.items,e.items,n)))}mergeValidEvaluated(i,n){let{it:e,gen:r}=this;if(e.opts.unevaluated&&(e.props!==!0||e.items!==!0))return r.if(n,()=>this.mergeEvaluated(i,J.Name)),!0}};jn.KeywordCxt=Ts;function Nm(t,i,n,e){let r=new Ts(t,n,i);"code"in n?n.code(r,e):r.$data&&n.validate?(0,Uo.funcKeywordCode)(r,n):"macro"in n?(0,Uo.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,Uo.funcKeywordCode)(r,n)}var Ky=/^\/(?:[^~]|~0|~1)*$/,Gy=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function $m(t,{dataLevel:i,dataNames:n,dataPathArr:e}){let r,o;if(t==="")return _e.default.rootData;if(t[0]==="/"){if(!Ky.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);r=t,o=_e.default.rootData}else{let p=Gy.exec(t);if(!p)throw new Error(`Invalid JSON-pointer: ${t}`);let h=+p[1];if(r=p[2],r==="#"){if(h>=i)throw new Error(c("property/index",h));return e[i-h]}if(h>i)throw new Error(c("data",h));if(o=n[i-h],!r)return o}let a=o,s=r.split("/");for(let p of s)p&&(o=(0,J._)`${o}${(0,J.getProperty)((0,wn.unescapeJsonPointer)(p))}`,a=(0,J._)`${a} && ${o}`);return a;function c(p,h){return`Cannot access ${p} ${h} levels up, current level is ${i}`}}jn.getData=$m});var ws=G(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});var wc=class extends Error{constructor(i){super("validation failed"),this.errors=i,this.ajv=this.validation=!0}};kc.default=wc});var ks=G(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});var Dc=Wo(),Ic=class extends Error{constructor(i,n,e,r){super(r||`can't resolve reference ${e} from id ${n}`),this.missingRef=(0,Dc.resolveUrl)(i,n,e),this.missingSchema=(0,Dc.normalizeId)((0,Dc.getFullPath)(i,this.missingRef))}};Pc.default=Ic});var Is=G(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.resolveSchema=ki.getCompilingSchema=ki.resolveRef=ki.compileSchema=ki.SchemaEnv=void 0;var ji=Se(),Zy=ws(),cr=Tn(),Bi=Wo(),Fm=Be(),Xy=Yo(),no=class{constructor(i){var n;this.refs={},this.dynamicAnchors={};let e;typeof i.schema=="object"&&(e=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(n=i.baseId)!==null&&n!==void 0?n:(0,Bi.normalizeId)(e?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=e?.$async,this.refs={}}};ki.SchemaEnv=no;function Mc(t){let i=Rm.call(this,t);if(i)return i;let n=(0,Bi.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:e,lines:r}=this.opts.code,{ownProperties:o}=this.opts,a=new ji.CodeGen(this.scope,{es5:e,lines:r,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:Zy.default,code:(0,ji._)`require("ajv/dist/runtime/validation_error").default`}));let c=a.scopeName("validate");t.validateName=c;let p={gen:a,allErrors:this.opts.allErrors,data:cr.default.data,parentData:cr.default.parentData,parentDataProperty:cr.default.parentDataProperty,dataNames:[cr.default.data],dataPathArr:[ji.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,ji.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:ji.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ji._)`""`,opts:this.opts,self:this},h;try{this._compilations.add(t),(0,Xy.validateFunctionCode)(p),a.optimize(this.opts.code.optimize);let _=a.toString();h=`${a.scopeRefs(cr.default.scope)}return ${_}`,this.opts.code.process&&(h=this.opts.code.process(h,t));let y=new Function(`${cr.default.self}`,`${cr.default.scope}`,h)(this,this.scope.get());if(this.scope.value(c,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:c,validateCode:_,scopeValues:a._values}),this.opts.unevaluated){let{props:k,items:T}=p;y.evaluated={props:k instanceof ji.Name?void 0:k,items:T instanceof ji.Name?void 0:T,dynamicProps:k instanceof ji.Name,dynamicItems:T instanceof ji.Name},y.source&&(y.source.evaluated=(0,ji.stringify)(y.evaluated))}return t.validate=y,t}catch(_){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),_}finally{this._compilations.delete(t)}}ki.compileSchema=Mc;function Jy(t,i,n){var e;n=(0,Bi.resolveUrl)(this.opts.uriResolver,i,n);let r=t.refs[n];if(r)return r;let o=iv.call(this,t,n);if(o===void 0){let a=(e=t.localRefs)===null||e===void 0?void 0:e[n],{schemaId:s}=this.opts;a&&(o=new no({schema:a,schemaId:s,root:t,baseId:i}))}if(o!==void 0)return t.refs[n]=ev.call(this,o)}ki.resolveRef=Jy;function ev(t){return(0,Bi.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Mc.call(this,t)}function Rm(t){for(let i of this._compilations)if(tv(i,t))return i}ki.getCompilingSchema=Rm;function tv(t,i){return t.schema===i.schema&&t.root===i.root&&t.baseId===i.baseId}function iv(t,i){let n;for(;typeof(n=this.refs[i])=="string";)i=n;return n||this.schemas[i]||Ds.call(this,t,i)}function Ds(t,i){let n=this.opts.uriResolver.parse(i),e=(0,Bi._getFullPath)(this.opts.uriResolver,n),r=(0,Bi.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&e===r)return Ec.call(this,n,t);let o=(0,Bi.normalizeId)(e),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Ds.call(this,t,a);return typeof s?.schema!="object"?void 0:Ec.call(this,n,s)}if(typeof a?.schema=="object"){if(a.validate||Mc.call(this,a),o===(0,Bi.normalizeId)(i)){let{schema:s}=a,{schemaId:c}=this.opts,p=s[c];return p&&(r=(0,Bi.resolveUrl)(this.opts.uriResolver,r,p)),new no({schema:s,schemaId:c,root:t,baseId:r})}return Ec.call(this,n,a)}}ki.resolveSchema=Ds;var nv=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ec(t,{baseId:i,schema:n,root:e}){var r;if(((r=t.fragment)===null||r===void 0?void 0:r[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;let c=n[(0,Fm.unescapeFragment)(s)];if(c===void 0)return;n=c;let p=typeof n=="object"&&n[this.opts.schemaId];!nv.has(s)&&p&&(i=(0,Bi.resolveUrl)(this.opts.uriResolver,i,p))}let o;if(typeof n!="boolean"&&n.$ref&&!(0,Fm.schemaHasRulesButRef)(n,this.RULES)){let s=(0,Bi.resolveUrl)(this.opts.uriResolver,i,n.$ref);o=Ds.call(this,e,s)}let{schemaId:a}=this.opts;if(o=o||new no({schema:n,schemaId:a,root:e,baseId:i}),o.schema!==o.root.schema)return o}});var Vm=G((wO,rv)=>{rv.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Hm=G((Ps,Am)=>{"use strict";(function(t,i){typeof Ps=="object"&&typeof Am<"u"?i(Ps):typeof define=="function"&&define.amd?define(["exports"],i):i(t.URI=t.URI||{})})(Ps,function(t){"use strict";function i(){for(var z=arguments.length,C=Array(z),x=0;x<z;x++)C[x]=arguments[x];if(C.length>1){C[0]=C[0].slice(0,-1);for(var M=C.length-1,O=1;O<M;++O)C[O]=C[O].slice(1,-1);return C[M]=C[M].slice(1),C.join("")}else return C[0]}function n(z){return"(?:"+z+")"}function e(z){return z===void 0?"undefined":z===null?"null":Object.prototype.toString.call(z).split(" ").pop().split("]").shift().toLowerCase()}function r(z){return z.toUpperCase()}function o(z){return z!=null?z instanceof Array?z:typeof z.length!="number"||z.split||z.setInterval||z.call?[z]:Array.prototype.slice.call(z):[]}function a(z,C){var x=z;if(C)for(var M in C)x[M]=C[M];return x}function s(z){var C="[A-Za-z]",x="[\\x0D]",M="[0-9]",O="[\\x22]",K=i(M,"[A-Fa-f]"),ve="[\\x0A]",He="[\\x20]",Ue=n(n("%[EFef]"+K+"%"+K+K+"%"+K+K)+"|"+n("%[89A-Fa-f]"+K+"%"+K+K)+"|"+n("%"+K+K)),Pt="[\\:\\/\\?\\#\\[\\]\\@]",$e="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",mt=i(Pt,$e),Et=z?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ht=z?"[\\uE000-\\uF8FF]":"[]",We=i(C,M,"[\\-\\.\\_\\~]",Et),ft=n(C+i(C,M,"[\\+\\-\\.]")+"*"),Ge=n(n(Ue+"|"+i(We,$e,"[\\:]"))+"*"),Kn=n(n("25[0-5]")+"|"+n("2[0-4]"+M)+"|"+n("1"+M+M)+"|"+n("[1-9]"+M)+"|"+M),hi=n(n("25[0-5]")+"|"+n("2[0-4]"+M)+"|"+n("1"+M+M)+"|"+n("0?[1-9]"+M)+"|0?0?"+M),Ci=n(hi+"\\."+hi+"\\."+hi+"\\."+hi),nt=n(K+"{1,4}"),mi=n(n(nt+"\\:"+nt)+"|"+Ci),yi=n(n(nt+"\\:")+"{6}"+mi),Xi=n("\\:\\:"+n(nt+"\\:")+"{5}"+mi),Gn=n(n(nt)+"?\\:\\:"+n(nt+"\\:")+"{4}"+mi),mn=n(n(n(nt+"\\:")+"{0,1}"+nt)+"?\\:\\:"+n(nt+"\\:")+"{3}"+mi),zo=n(n(n(nt+"\\:")+"{0,2}"+nt)+"?\\:\\:"+n(nt+"\\:")+"{2}"+mi),ga=n(n(n(nt+"\\:")+"{0,3}"+nt)+"?\\:\\:"+nt+"\\:"+mi),Ca=n(n(n(nt+"\\:")+"{0,4}"+nt)+"?\\:\\:"+mi),vr=n(n(n(nt+"\\:")+"{0,5}"+nt)+"?\\:\\:"+nt),zr=n(n(n(nt+"\\:")+"{0,6}"+nt)+"?\\:\\:"),fn=n([yi,Xi,Gn,mn,zo,ga,Ca,vr,zr].join("|")),xr=n(n(We+"|"+Ue)+"+"),Il=n(fn+"\\%25"+xr),Zn=n(fn+n("\\%25|\\%(?!"+K+"{2})")+xr),ig=n("[vV]"+K+"+\\."+i(We,$e,"[\\:]")+"+"),ng=n("\\["+n(Zn+"|"+fn+"|"+ig)+"\\]"),Hp=n(n(Ue+"|"+i(We,$e))+"*"),xo=n(ng+"|"+Ci+"(?!"+Hp+")|"+Hp),bo=n(M+"*"),Lp=n(n(Ge+"@")+"?"+xo+n("\\:"+bo)+"?"),So=n(Ue+"|"+i(We,$e,"[\\:\\@]")),rg=n(So+"*"),jp=n(So+"+"),og=n(n(Ue+"|"+i(We,$e,"[\\@]"))+"+"),_n=n(n("\\/"+rg)+"*"),br=n("\\/"+n(jp+_n)+"?"),Pl=n(og+_n),ya=n(jp+_n),Sr="(?!"+So+")",kM=n(_n+"|"+br+"|"+Pl+"|"+ya+"|"+Sr),Tr=n(n(So+"|"+i("[\\/\\?]",ht))+"*"),To=n(n(So+"|[\\/\\?]")+"*"),Bp=n(n("\\/\\/"+Lp+_n)+"|"+br+"|"+ya+"|"+Sr),ag=n(ft+"\\:"+Bp+n("\\?"+Tr)+"?"+n("\\#"+To)+"?"),sg=n(n("\\/\\/"+Lp+_n)+"|"+br+"|"+Pl+"|"+Sr),lg=n(sg+n("\\?"+Tr)+"?"+n("\\#"+To)+"?"),DM=n(ag+"|"+lg),IM=n(ft+"\\:"+Bp+n("\\?"+Tr)+"?"),PM="^("+ft+")\\:"+n(n("\\/\\/("+n("("+Ge+")@")+"?("+xo+")"+n("\\:("+bo+")")+"?)")+"?("+_n+"|"+br+"|"+ya+"|"+Sr+")")+n("\\?("+Tr+")")+"?"+n("\\#("+To+")")+"?$",EM="^(){0}"+n(n("\\/\\/("+n("("+Ge+")@")+"?("+xo+")"+n("\\:("+bo+")")+"?)")+"?("+_n+"|"+br+"|"+Pl+"|"+Sr+")")+n("\\?("+Tr+")")+"?"+n("\\#("+To+")")+"?$",MM="^("+ft+")\\:"+n(n("\\/\\/("+n("("+Ge+")@")+"?("+xo+")"+n("\\:("+bo+")")+"?)")+"?("+_n+"|"+br+"|"+ya+"|"+Sr+")")+n("\\?("+Tr+")")+"?$",OM="^"+n("\\#("+To+")")+"?$",NM="^"+n("("+Ge+")@")+"?("+xo+")"+n("\\:("+bo+")")+"?$";return{NOT_SCHEME:new RegExp(i("[^]",C,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",We,$e),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",We,$e),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",We,$e),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",We,$e),"g"),NOT_QUERY:new RegExp(i("[^\\%]",We,$e,"[\\:\\@\\/\\?]",ht),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",We,$e,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",We,$e),"g"),UNRESERVED:new RegExp(We,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",We,mt),"g"),PCT_ENCODED:new RegExp(Ue,"g"),IPV4ADDRESS:new RegExp("^("+Ci+")$"),IPV6ADDRESS:new RegExp("^\\[?("+fn+")"+n(n("\\%25|\\%(?!"+K+"{2})")+"("+xr+")")+"?\\]?$")}}var c=s(!1),p=s(!0),h=function(){function z(C,x){var M=[],O=!0,K=!1,ve=void 0;try{for(var He=C[Symbol.iterator](),Ue;!(O=(Ue=He.next()).done)&&(M.push(Ue.value),!(x&&M.length===x));O=!0);}catch(Pt){K=!0,ve=Pt}finally{try{!O&&He.return&&He.return()}finally{if(K)throw ve}}return M}return function(C,x){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return z(C,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(z){if(Array.isArray(z)){for(var C=0,x=Array(z.length);C<z.length;C++)x[C]=z[C];return x}else return Array.from(z)},v=2147483647,y=36,k=1,T=26,F=38,E=700,U=72,fe=128,Ae="-",Q=/^xn--/,Ne=/[^\0-\x7E]/,xt=/[\x2E\u3002\uFF0E\uFF61]/g,ii={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yi=y-k,$t=Math.floor,pn=String.fromCharCode;function Qi(z){throw new RangeError(ii[z])}function fa(z,C){for(var x=[],M=z.length;M--;)x[M]=C(z[M]);return x}function _a(z,C){var x=z.split("@"),M="";x.length>1&&(M=x[0]+"@",z=x[1]),z=z.replace(xt,".");var O=z.split("."),K=fa(O,C).join(".");return M+K}function xp(z){for(var C=[],x=0,M=z.length;x<M;){var O=z.charCodeAt(x++);if(O>=55296&&O<=56319&&x<M){var K=z.charCodeAt(x++);(K&64512)==56320?C.push(((O&1023)<<10)+(K&1023)+65536):(C.push(O),x--)}else C.push(O)}return C}var M_=function(C){return String.fromCodePoint.apply(String,_(C))},O_=function(C){return C-48<10?C-22:C-65<26?C-65:C-97<26?C-97:y},bp=function(C,x){return C+22+75*(C<26)-((x!=0)<<5)},Sp=function(C,x,M){var O=0;for(C=M?$t(C/E):C>>1,C+=$t(C/x);C>Yi*T>>1;O+=y)C=$t(C/Yi);return $t(O+(Yi+1)*C/(C+F))},Tp=function(C){var x=[],M=C.length,O=0,K=fe,ve=U,He=C.lastIndexOf(Ae);He<0&&(He=0);for(var Ue=0;Ue<He;++Ue)C.charCodeAt(Ue)>=128&&Qi("not-basic"),x.push(C.charCodeAt(Ue));for(var Pt=He>0?He+1:0;Pt<M;){for(var $e=O,mt=1,Et=y;;Et+=y){Pt>=M&&Qi("invalid-input");var ht=O_(C.charCodeAt(Pt++));(ht>=y||ht>$t((v-O)/mt))&&Qi("overflow"),O+=ht*mt;var We=Et<=ve?k:Et>=ve+T?T:Et-ve;if(ht<We)break;var ft=y-We;mt>$t(v/ft)&&Qi("overflow"),mt*=ft}var Ge=x.length+1;ve=Sp(O-$e,Ge,$e==0),$t(O/Ge)>v-K&&Qi("overflow"),K+=$t(O/Ge),O%=Ge,x.splice(O++,0,K)}return String.fromCodePoint.apply(String,x)},wp=function(C){var x=[];C=xp(C);var M=C.length,O=fe,K=0,ve=U,He=!0,Ue=!1,Pt=void 0;try{for(var $e=C[Symbol.iterator](),mt;!(He=(mt=$e.next()).done);He=!0){var Et=mt.value;Et<128&&x.push(pn(Et))}}catch(Zn){Ue=!0,Pt=Zn}finally{try{!He&&$e.return&&$e.return()}finally{if(Ue)throw Pt}}var ht=x.length,We=ht;for(ht&&x.push(Ae);We<M;){var ft=v,Ge=!0,Kn=!1,hi=void 0;try{for(var Ci=C[Symbol.iterator](),nt;!(Ge=(nt=Ci.next()).done);Ge=!0){var mi=nt.value;mi>=O&&mi<ft&&(ft=mi)}}catch(Zn){Kn=!0,hi=Zn}finally{try{!Ge&&Ci.return&&Ci.return()}finally{if(Kn)throw hi}}var yi=We+1;ft-O>$t((v-K)/yi)&&Qi("overflow"),K+=(ft-O)*yi,O=ft;var Xi=!0,Gn=!1,mn=void 0;try{for(var zo=C[Symbol.iterator](),ga;!(Xi=(ga=zo.next()).done);Xi=!0){var Ca=ga.value;if(Ca<O&&++K>v&&Qi("overflow"),Ca==O){for(var vr=K,zr=y;;zr+=y){var fn=zr<=ve?k:zr>=ve+T?T:zr-ve;if(vr<fn)break;var xr=vr-fn,Il=y-fn;x.push(pn(bp(fn+xr%Il,0))),vr=$t(xr/Il)}x.push(pn(bp(vr,0))),ve=Sp(K,yi,We==ht),K=0,++We}}}catch(Zn){Gn=!0,mn=Zn}finally{try{!Xi&&zo.return&&zo.return()}finally{if(Gn)throw mn}}++K,++O}return x.join("")},N_=function(C){return _a(C,function(x){return Q.test(x)?Tp(x.slice(4).toLowerCase()):x})},$_=function(C){return _a(C,function(x){return Ne.test(x)?"xn--"+wp(x):x})},_r={version:"2.1.0",ucs2:{decode:xp,encode:M_},decode:Tp,encode:wp,toASCII:$_,toUnicode:N_},gi={};function Ki(z){var C=z.charCodeAt(0),x=void 0;return C<16?x="%0"+C.toString(16).toUpperCase():C<128?x="%"+C.toString(16).toUpperCase():C<2048?x="%"+(C>>6|192).toString(16).toUpperCase()+"%"+(C&63|128).toString(16).toUpperCase():x="%"+(C>>12|224).toString(16).toUpperCase()+"%"+(C>>6&63|128).toString(16).toUpperCase()+"%"+(C&63|128).toString(16).toUpperCase(),x}function gr(z){for(var C="",x=0,M=z.length;x<M;){var O=parseInt(z.substr(x+1,2),16);if(O<128)C+=String.fromCharCode(O),x+=3;else if(O>=194&&O<224){if(M-x>=6){var K=parseInt(z.substr(x+4,2),16);C+=String.fromCharCode((O&31)<<6|K&63)}else C+=z.substr(x,6);x+=6}else if(O>=224){if(M-x>=9){var ve=parseInt(z.substr(x+4,2),16),He=parseInt(z.substr(x+7,2),16);C+=String.fromCharCode((O&15)<<12|(ve&63)<<6|He&63)}else C+=z.substr(x,9);x+=9}else C+=z.substr(x,3),x+=3}return C}function Tl(z,C){function x(M){var O=gr(M);return O.match(C.UNRESERVED)?O:M}return z.scheme&&(z.scheme=String(z.scheme).replace(C.PCT_ENCODED,x).toLowerCase().replace(C.NOT_SCHEME,"")),z.userinfo!==void 0&&(z.userinfo=String(z.userinfo).replace(C.PCT_ENCODED,x).replace(C.NOT_USERINFO,Ki).replace(C.PCT_ENCODED,r)),z.host!==void 0&&(z.host=String(z.host).replace(C.PCT_ENCODED,x).toLowerCase().replace(C.NOT_HOST,Ki).replace(C.PCT_ENCODED,r)),z.path!==void 0&&(z.path=String(z.path).replace(C.PCT_ENCODED,x).replace(z.scheme?C.NOT_PATH:C.NOT_PATH_NOSCHEME,Ki).replace(C.PCT_ENCODED,r)),z.query!==void 0&&(z.query=String(z.query).replace(C.PCT_ENCODED,x).replace(C.NOT_QUERY,Ki).replace(C.PCT_ENCODED,r)),z.fragment!==void 0&&(z.fragment=String(z.fragment).replace(C.PCT_ENCODED,x).replace(C.NOT_FRAGMENT,Ki).replace(C.PCT_ENCODED,r)),z}function wl(z){return z.replace(/^0*(.*)/,"$1")||"0"}function kl(z,C){var x=z.match(C.IPV4ADDRESS)||[],M=h(x,2),O=M[1];return O?O.split(".").map(wl).join("."):z}function kp(z,C){var x=z.match(C.IPV6ADDRESS)||[],M=h(x,3),O=M[1],K=M[2];if(O){for(var ve=O.toLowerCase().split("::").reverse(),He=h(ve,2),Ue=He[0],Pt=He[1],$e=Pt?Pt.split(":").map(wl):[],mt=Ue.split(":").map(wl),Et=C.IPV4ADDRESS.test(mt[mt.length-1]),ht=Et?7:8,We=mt.length-ht,ft=Array(ht),Ge=0;Ge<ht;++Ge)ft[Ge]=$e[Ge]||mt[We+Ge]||"";Et&&(ft[ht-1]=kl(ft[ht-1],C));var Kn=ft.reduce(function(yi,Xi,Gn){if(!Xi||Xi==="0"){var mn=yi[yi.length-1];mn&&mn.index+mn.length===Gn?mn.length++:yi.push({index:Gn,length:1})}return yi},[]),hi=Kn.sort(function(yi,Xi){return Xi.length-yi.length})[0],Ci=void 0;if(hi&&hi.length>1){var nt=ft.slice(0,hi.index),mi=ft.slice(hi.index+hi.length);Ci=nt.join(":")+"::"+mi.join(":")}else Ci=ft.join(":");return K&&(Ci+="%"+K),Ci}else return z}var F_=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R_="".match(/(){0}/)[1]===void 0;function un(z){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},M=C.iri!==!1?p:c;C.reference==="suffix"&&(z=(C.scheme?C.scheme+":":"")+"//"+z);var O=z.match(F_);if(O){R_?(x.scheme=O[1],x.userinfo=O[3],x.host=O[4],x.port=parseInt(O[5],10),x.path=O[6]||"",x.query=O[7],x.fragment=O[8],isNaN(x.port)&&(x.port=O[5])):(x.scheme=O[1]||void 0,x.userinfo=z.indexOf("@")!==-1?O[3]:void 0,x.host=z.indexOf("//")!==-1?O[4]:void 0,x.port=parseInt(O[5],10),x.path=O[6]||"",x.query=z.indexOf("?")!==-1?O[7]:void 0,x.fragment=z.indexOf("#")!==-1?O[8]:void 0,isNaN(x.port)&&(x.port=z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?O[4]:void 0)),x.host&&(x.host=kp(kl(x.host,M),M)),x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",C.reference&&C.reference!=="suffix"&&C.reference!==x.reference&&(x.error=x.error||"URI is not a "+C.reference+" reference.");var K=gi[(C.scheme||x.scheme||"").toLowerCase()];if(!C.unicodeSupport&&(!K||!K.unicodeSupport)){if(x.host&&(C.domainHost||K&&K.domainHost))try{x.host=_r.toASCII(x.host.replace(M.PCT_ENCODED,gr).toLowerCase())}catch(ve){x.error=x.error||"Host's domain name can not be converted to ASCII via punycode: "+ve}Tl(x,c)}else Tl(x,M);K&&K.parse&&K.parse(x,C)}else x.error=x.error||"URI can not be parsed.";return x}function V_(z,C){var x=C.iri!==!1?p:c,M=[];return z.userinfo!==void 0&&(M.push(z.userinfo),M.push("@")),z.host!==void 0&&M.push(kp(kl(String(z.host),x),x).replace(x.IPV6ADDRESS,function(O,K,ve){return"["+K+(ve?"%25"+ve:"")+"]"})),(typeof z.port=="number"||typeof z.port=="string")&&(M.push(":"),M.push(String(z.port))),M.length?M.join(""):void 0}var Dp=/^\.\.?\//,Ip=/^\/\.(\/|$)/,Pp=/^\/\.\.(\/|$)/,A_=/^\/?(?:.|\n)*?(?=\/|$)/;function Cr(z){for(var C=[];z.length;)if(z.match(Dp))z=z.replace(Dp,"");else if(z.match(Ip))z=z.replace(Ip,"/");else if(z.match(Pp))z=z.replace(Pp,"/"),C.pop();else if(z==="."||z==="..")z="";else{var x=z.match(A_);if(x){var M=x[0];z=z.slice(M.length),C.push(M)}else throw new Error("Unexpected dot segment condition")}return C.join("")}function Gi(z){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=C.iri?p:c,M=[],O=gi[(C.scheme||z.scheme||"").toLowerCase()];if(O&&O.serialize&&O.serialize(z,C),z.host&&!x.IPV6ADDRESS.test(z.host)){if(C.domainHost||O&&O.domainHost)try{z.host=C.iri?_r.toUnicode(z.host):_r.toASCII(z.host.replace(x.PCT_ENCODED,gr).toLowerCase())}catch(He){z.error=z.error||"Host's domain name can not be converted to "+(C.iri?"Unicode":"ASCII")+" via punycode: "+He}}Tl(z,x),C.reference!=="suffix"&&z.scheme&&(M.push(z.scheme),M.push(":"));var K=V_(z,C);if(K!==void 0&&(C.reference!=="suffix"&&M.push("//"),M.push(K),z.path&&z.path.charAt(0)!=="/"&&M.push("/")),z.path!==void 0){var ve=z.path;!C.absolutePath&&(!O||!O.absolutePath)&&(ve=Cr(ve)),K===void 0&&(ve=ve.replace(/^\/\//,"/%2F")),M.push(ve)}return z.query!==void 0&&(M.push("?"),M.push(z.query)),z.fragment!==void 0&&(M.push("#"),M.push(z.fragment)),M.join("")}function Ep(z,C){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments[3],O={};return M||(z=un(Gi(z,x),x),C=un(Gi(C,x),x)),x=x||{},!x.tolerant&&C.scheme?(O.scheme=C.scheme,O.userinfo=C.userinfo,O.host=C.host,O.port=C.port,O.path=Cr(C.path||""),O.query=C.query):(C.userinfo!==void 0||C.host!==void 0||C.port!==void 0?(O.userinfo=C.userinfo,O.host=C.host,O.port=C.port,O.path=Cr(C.path||""),O.query=C.query):(C.path?(C.path.charAt(0)==="/"?O.path=Cr(C.path):((z.userinfo!==void 0||z.host!==void 0||z.port!==void 0)&&!z.path?O.path="/"+C.path:z.path?O.path=z.path.slice(0,z.path.lastIndexOf("/")+1)+C.path:O.path=C.path,O.path=Cr(O.path)),O.query=C.query):(O.path=z.path,C.query!==void 0?O.query=C.query:O.query=z.query),O.userinfo=z.userinfo,O.host=z.host,O.port=z.port),O.scheme=z.scheme),O.fragment=C.fragment,O}function H_(z,C,x){var M=a({scheme:"null"},x);return Gi(Ep(un(z,M),un(C,M),M,!0),M)}function L_(z,C){return typeof z=="string"?z=Gi(un(z,C),C):e(z)==="object"&&(z=un(Gi(z,C),C)),z}function j_(z,C,x){return typeof z=="string"?z=Gi(un(z,x),x):e(z)==="object"&&(z=Gi(z,x)),typeof C=="string"?C=Gi(un(C,x),x):e(C)==="object"&&(C=Gi(C,x)),z===C}function B_(z,C){return z&&z.toString().replace(!C||!C.iri?c.ESCAPE:p.ESCAPE,Ki)}function hn(z,C){return z&&z.toString().replace(!C||!C.iri?c.PCT_ENCODED:p.PCT_ENCODED,gr)}var yo={scheme:"http",domainHost:!0,parse:function(C,x){return C.host||(C.error=C.error||"HTTP URIs must have a host."),C},serialize:function(C,x){var M=String(C.scheme).toLowerCase()==="https";return(C.port===(M?443:80)||C.port==="")&&(C.port=void 0),C.path||(C.path="/"),C}},Mp={scheme:"https",domainHost:yo.domainHost,parse:yo.parse,serialize:yo.serialize};function Op(z){return typeof z.secure=="boolean"?z.secure:String(z.scheme).toLowerCase()==="wss"}var vo={scheme:"ws",domainHost:!0,parse:function(C,x){var M=C;return M.secure=Op(M),M.resourceName=(M.path||"/")+(M.query?"?"+M.query:""),M.path=void 0,M.query=void 0,M},serialize:function(C,x){if((C.port===(Op(C)?443:80)||C.port==="")&&(C.port=void 0),typeof C.secure=="boolean"&&(C.scheme=C.secure?"wss":"ws",C.secure=void 0),C.resourceName){var M=C.resourceName.split("?"),O=h(M,2),K=O[0],ve=O[1];C.path=K&&K!=="/"?K:void 0,C.query=ve,C.resourceName=void 0}return C.fragment=void 0,C}},Np={scheme:"wss",domainHost:vo.domainHost,parse:vo.parse,serialize:vo.serialize},W_={},q_=!0,$p="[A-Za-z0-9\\-\\.\\_\\~"+(q_?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Zi="[0-9A-Fa-f]",U_=n(n("%[EFef]"+Zi+"%"+Zi+Zi+"%"+Zi+Zi)+"|"+n("%[89A-Fa-f]"+Zi+"%"+Zi+Zi)+"|"+n("%"+Zi+Zi)),Y_="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Q_="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",K_=i(Q_,'[\\"\\\\]'),G_="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Z_=new RegExp($p,"g"),yr=new RegExp(U_,"g"),X_=new RegExp(i("[^]",Y_,"[\\.]",'[\\"]',K_),"g"),Fp=new RegExp(i("[^]",$p,G_),"g"),J_=Fp;function Dl(z){var C=gr(z);return C.match(Z_)?C:z}var Rp={scheme:"mailto",parse:function(C,x){var M=C,O=M.to=M.path?M.path.split(","):[];if(M.path=void 0,M.query){for(var K=!1,ve={},He=M.query.split("&"),Ue=0,Pt=He.length;Ue<Pt;++Ue){var $e=He[Ue].split("=");switch($e[0]){case"to":for(var mt=$e[1].split(","),Et=0,ht=mt.length;Et<ht;++Et)O.push(mt[Et]);break;case"subject":M.subject=hn($e[1],x);break;case"body":M.body=hn($e[1],x);break;default:K=!0,ve[hn($e[0],x)]=hn($e[1],x);break}}K&&(M.headers=ve)}M.query=void 0;for(var We=0,ft=O.length;We<ft;++We){var Ge=O[We].split("@");if(Ge[0]=hn(Ge[0]),x.unicodeSupport)Ge[1]=hn(Ge[1],x).toLowerCase();else try{Ge[1]=_r.toASCII(hn(Ge[1],x).toLowerCase())}catch(Kn){M.error=M.error||"Email address's domain name can not be converted to ASCII via punycode: "+Kn}O[We]=Ge.join("@")}return M},serialize:function(C,x){var M=C,O=o(C.to);if(O){for(var K=0,ve=O.length;K<ve;++K){var He=String(O[K]),Ue=He.lastIndexOf("@"),Pt=He.slice(0,Ue).replace(yr,Dl).replace(yr,r).replace(X_,Ki),$e=He.slice(Ue+1);try{$e=x.iri?_r.toUnicode($e):_r.toASCII(hn($e,x).toLowerCase())}catch(We){M.error=M.error||"Email address's domain name can not be converted to "+(x.iri?"Unicode":"ASCII")+" via punycode: "+We}O[K]=Pt+"@"+$e}M.path=O.join(",")}var mt=C.headers=C.headers||{};C.subject&&(mt.subject=C.subject),C.body&&(mt.body=C.body);var Et=[];for(var ht in mt)mt[ht]!==W_[ht]&&Et.push(ht.replace(yr,Dl).replace(yr,r).replace(Fp,Ki)+"="+mt[ht].replace(yr,Dl).replace(yr,r).replace(J_,Ki));return Et.length&&(M.query=Et.join("&")),M}},eg=/^([^\:]+)\:(.*)/,Vp={scheme:"urn",parse:function(C,x){var M=C.path&&C.path.match(eg),O=C;if(M){var K=x.scheme||O.scheme||"urn",ve=M[1].toLowerCase(),He=M[2],Ue=K+":"+(x.nid||ve),Pt=gi[Ue];O.nid=ve,O.nss=He,O.path=void 0,Pt&&(O=Pt.parse(O,x))}else O.error=O.error||"URN can not be parsed.";return O},serialize:function(C,x){var M=x.scheme||C.scheme||"urn",O=C.nid,K=M+":"+(x.nid||O),ve=gi[K];ve&&(C=ve.serialize(C,x));var He=C,Ue=C.nss;return He.path=(O||x.nid)+":"+Ue,He}},tg=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ap={scheme:"urn:uuid",parse:function(C,x){var M=C;return M.uuid=M.nss,M.nss=void 0,!x.tolerant&&(!M.uuid||!M.uuid.match(tg))&&(M.error=M.error||"UUID is not valid."),M},serialize:function(C,x){var M=C;return M.nss=(C.uuid||"").toLowerCase(),M}};gi[yo.scheme]=yo,gi[Mp.scheme]=Mp,gi[vo.scheme]=vo,gi[Np.scheme]=Np,gi[Rp.scheme]=Rp,gi[Vp.scheme]=Vp,gi[Ap.scheme]=Ap,t.SCHEMES=gi,t.pctEncChar=Ki,t.pctDecChars=gr,t.parse=un,t.removeDotSegments=Cr,t.serialize=Gi,t.resolveComponents=Ep,t.resolve=H_,t.normalize=L_,t.equal=j_,t.escapeComponent=B_,t.unescapeComponent=hn,Object.defineProperty(t,"__esModule",{value:!0})})});var jm=G(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});var Lm=Hm();Lm.code='require("ajv/dist/runtime/uri").default';Oc.default=Lm});var Gm=G(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.CodeGen=Lt.Name=Lt.nil=Lt.stringify=Lt.str=Lt._=Lt.KeywordCxt=void 0;var ov=Yo();Object.defineProperty(Lt,"KeywordCxt",{enumerable:!0,get:function(){return ov.KeywordCxt}});var ro=Se();Object.defineProperty(Lt,"_",{enumerable:!0,get:function(){return ro._}});Object.defineProperty(Lt,"str",{enumerable:!0,get:function(){return ro.str}});Object.defineProperty(Lt,"stringify",{enumerable:!0,get:function(){return ro.stringify}});Object.defineProperty(Lt,"nil",{enumerable:!0,get:function(){return ro.nil}});Object.defineProperty(Lt,"Name",{enumerable:!0,get:function(){return ro.Name}});Object.defineProperty(Lt,"CodeGen",{enumerable:!0,get:function(){return ro.CodeGen}});var av=ws(),Ym=ks(),sv=hc(),Qo=Is(),lv=Se(),Ko=Wo(),Es=Bo(),$c=Be(),Bm=Vm(),cv=jm(),Qm=(t,i)=>new RegExp(t,i);Qm.code="new RegExp";var dv=["removeAdditional","useDefaults","coerceTypes"],pv=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),uv={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},hv={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Wm=200;function mv(t){var i,n,e,r,o,a,s,c,p,h,_,v,y,k,T,F,E,U,fe,Ae,Q,Ne,xt,ii,Yi;let $t=t.strict,pn=(i=t.code)===null||i===void 0?void 0:i.optimize,Qi=pn===!0||pn===void 0?1:pn||0,fa=(e=(n=t.code)===null||n===void 0?void 0:n.regExp)!==null&&e!==void 0?e:Qm,_a=(r=t.uriResolver)!==null&&r!==void 0?r:cv.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:$t)!==null&&a!==void 0?a:!0,strictNumbers:(c=(s=t.strictNumbers)!==null&&s!==void 0?s:$t)!==null&&c!==void 0?c:!0,strictTypes:(h=(p=t.strictTypes)!==null&&p!==void 0?p:$t)!==null&&h!==void 0?h:"log",strictTuples:(v=(_=t.strictTuples)!==null&&_!==void 0?_:$t)!==null&&v!==void 0?v:"log",strictRequired:(k=(y=t.strictRequired)!==null&&y!==void 0?y:$t)!==null&&k!==void 0?k:!1,code:t.code?Me(I({},t.code),{optimize:Qi,regExp:fa}):{optimize:Qi,regExp:fa},loopRequired:(T=t.loopRequired)!==null&&T!==void 0?T:Wm,loopEnum:(F=t.loopEnum)!==null&&F!==void 0?F:Wm,meta:(E=t.meta)!==null&&E!==void 0?E:!0,messages:(U=t.messages)!==null&&U!==void 0?U:!0,inlineRefs:(fe=t.inlineRefs)!==null&&fe!==void 0?fe:!0,schemaId:(Ae=t.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Q=t.addUsedSchema)!==null&&Q!==void 0?Q:!0,validateSchema:(Ne=t.validateSchema)!==null&&Ne!==void 0?Ne:!0,validateFormats:(xt=t.validateFormats)!==null&&xt!==void 0?xt:!0,unicodeRegExp:(ii=t.unicodeRegExp)!==null&&ii!==void 0?ii:!0,int32range:(Yi=t.int32range)!==null&&Yi!==void 0?Yi:!0,uriResolver:_a}}var Go=class{constructor(i={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,i=this.opts=I(I({},i),mv(i));let{es5:n,lines:e}=this.opts.code;this.scope=new lv.ValueScope({scope:{},prefixes:pv,es5:n,lines:e}),this.logger=vv(i.logger);let r=i.validateFormats;i.validateFormats=!1,this.RULES=(0,sv.getRules)(),qm.call(this,uv,i,"NOT SUPPORTED"),qm.call(this,hv,i,"DEPRECATED","warn"),this._metaOpts=Cv.call(this),i.formats&&_v.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),i.keywords&&gv.call(this,i.keywords),typeof i.meta=="object"&&this.addMetaSchema(i.meta),fv.call(this),i.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:i,meta:n,schemaId:e}=this.opts,r=Bm;e==="id"&&(r=I({},Bm),r.id=r.$id,delete r.$id),n&&i&&this.addMetaSchema(r,r[e],!1)}defaultMeta(){let{meta:i,schemaId:n}=this.opts;return this.opts.defaultMeta=typeof i=="object"?i[n]||i:void 0}validate(i,n){let e;if(typeof i=="string"){if(e=this.getSchema(i),!e)throw new Error(`no schema with key or ref "${i}"`)}else e=this.compile(i);let r=e(n);return"$async"in e||(this.errors=e.errors),r}compile(i,n){let e=this._addSchema(i,n);return e.validate||this._compileSchemaEnv(e)}compileAsync(i,n){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:e}=this.opts;return r.call(this,i,n);function r(h,_){return Ji(this,null,function*(){yield o.call(this,h.$schema);let v=this._addSchema(h,_);return v.validate||a.call(this,v)})}function o(h){return Ji(this,null,function*(){h&&!this.getSchema(h)&&(yield r.call(this,{$ref:h},!0))})}function a(h){return Ji(this,null,function*(){try{return this._compileSchemaEnv(h)}catch(_){if(!(_ instanceof Ym.default))throw _;return s.call(this,_),yield c.call(this,_.missingSchema),a.call(this,h)}})}function s({missingSchema:h,missingRef:_}){if(this.refs[h])throw new Error(`AnySchema ${h} is loaded but ${_} cannot be resolved`)}function c(h){return Ji(this,null,function*(){let _=yield p.call(this,h);this.refs[h]||(yield o.call(this,_.$schema)),this.refs[h]||this.addSchema(_,h,n)})}function p(h){return Ji(this,null,function*(){let _=this._loading[h];if(_)return _;try{return yield this._loading[h]=e(h)}finally{delete this._loading[h]}})}}addSchema(i,n,e,r=this.opts.validateSchema){if(Array.isArray(i)){for(let a of i)this.addSchema(a,void 0,e,r);return this}let o;if(typeof i=="object"){let{schemaId:a}=this.opts;if(o=i[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return n=(0,Ko.normalizeId)(n||o),this._checkUnique(n),this.schemas[n]=this._addSchema(i,e,n,r,!0),this}addMetaSchema(i,n,e=this.opts.validateSchema){return this.addSchema(i,n,!0,e),this}validateSchema(i,n){if(typeof i=="boolean")return!0;let e;if(e=i.$schema,e!==void 0&&typeof e!="string")throw new Error("$schema must be a string");if(e=e||this.opts.defaultMeta||this.defaultMeta(),!e)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(e,i);if(!r&&n){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return r}getSchema(i){let n;for(;typeof(n=Um.call(this,i))=="string";)i=n;if(n===void 0){let{schemaId:e}=this.opts,r=new Qo.SchemaEnv({schema:{},schemaId:e});if(n=Qo.resolveSchema.call(this,r,i),!n)return;this.refs[i]=n}return n.validate||this._compileSchemaEnv(n)}removeSchema(i){if(i instanceof RegExp)return this._removeAllSchemas(this.schemas,i),this._removeAllSchemas(this.refs,i),this;switch(typeof i){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let n=Um.call(this,i);return typeof n=="object"&&this._cache.delete(n.schema),delete this.schemas[i],delete this.refs[i],this}case"object":{let n=i;this._cache.delete(n);let e=i[this.opts.schemaId];return e&&(e=(0,Ko.normalizeId)(e),delete this.schemas[e],delete this.refs[e]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(i){for(let n of i)this.addKeyword(n);return this}addKeyword(i,n){let e;if(typeof i=="string")e=i,typeof n=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),n.keyword=e);else if(typeof i=="object"&&n===void 0){if(n=i,e=n.keyword,Array.isArray(e)&&!e.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(xv.call(this,e,n),!n)return(0,$c.eachItem)(e,o=>Nc.call(this,o)),this;Sv.call(this,n);let r=Me(I({},n),{type:(0,Es.getJSONTypes)(n.type),schemaType:(0,Es.getJSONTypes)(n.schemaType)});return(0,$c.eachItem)(e,r.type.length===0?o=>Nc.call(this,o,r):o=>r.type.forEach(a=>Nc.call(this,o,r,a))),this}getKeyword(i){let n=this.RULES.all[i];return typeof n=="object"?n.definition:!!n}removeKeyword(i){let{RULES:n}=this;delete n.keywords[i],delete n.all[i];for(let e of n.rules){let r=e.rules.findIndex(o=>o.keyword===i);r>=0&&e.rules.splice(r,1)}return this}addFormat(i,n){return typeof n=="string"&&(n=new RegExp(n)),this.formats[i]=n,this}errorsText(i=this.errors,{separator:n=", ",dataVar:e="data"}={}){return!i||i.length===0?"No errors":i.map(r=>`${e}${r.instancePath} ${r.message}`).reduce((r,o)=>r+n+o)}$dataMetaSchema(i,n){let e=this.RULES.all;i=JSON.parse(JSON.stringify(i));for(let r of n){let o=r.split("/").slice(1),a=i;for(let s of o)a=a[s];for(let s in e){let c=e[s];if(typeof c!="object")continue;let{$data:p}=c.definition,h=a[s];p&&h&&(a[s]=Km(h))}}return i}_removeAllSchemas(i,n){for(let e in i){let r=i[e];(!n||n.test(e))&&(typeof r=="string"?delete i[e]:r&&!r.meta&&(this._cache.delete(r.schema),delete i[e]))}}_addSchema(i,n,e,r=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof i=="object")a=i[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof i!="boolean")throw new Error("schema must be object or boolean")}let c=this._cache.get(i);if(c!==void 0)return c;e=(0,Ko.normalizeId)(a||e);let p=Ko.getSchemaRefs.call(this,i,e);return c=new Qo.SchemaEnv({schema:i,schemaId:s,meta:n,baseId:e,localRefs:p}),this._cache.set(c.schema,c),o&&!e.startsWith("#")&&(e&&this._checkUnique(e),this.refs[e]=c),r&&this.validateSchema(i,!0),c}_checkUnique(i){if(this.schemas[i]||this.refs[i])throw new Error(`schema with key or id "${i}" already exists`)}_compileSchemaEnv(i){if(i.meta?this._compileMetaSchema(i):Qo.compileSchema.call(this,i),!i.validate)throw new Error("ajv implementation error");return i.validate}_compileMetaSchema(i){let n=this.opts;this.opts=this._metaOpts;try{Qo.compileSchema.call(this,i)}finally{this.opts=n}}};Lt.default=Go;Go.ValidationError=av.default;Go.MissingRefError=Ym.default;function qm(t,i,n,e="error"){for(let r in t){let o=r;o in i&&this.logger[e](`${n}: option ${r}. ${t[o]}`)}}function Um(t){return t=(0,Ko.normalizeId)(t),this.schemas[t]||this.refs[t]}function fv(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let i in t)this.addSchema(t[i],i)}function _v(){for(let t in this.opts.formats){let i=this.opts.formats[t];i&&this.addFormat(t,i)}}function gv(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let i in t){let n=t[i];n.keyword||(n.keyword=i),this.addKeyword(n)}}function Cv(){let t=I({},this.opts);for(let i of dv)delete t[i];return t}var yv={log(){},warn(){},error(){}};function vv(t){if(t===!1)return yv;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var zv=/^[a-z_$][a-z0-9_$:-]*$/i;function xv(t,i){let{RULES:n}=this;if((0,$c.eachItem)(t,e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!zv.test(e))throw new Error(`Keyword ${e} has invalid name`)}),!!i&&i.$data&&!("code"in i||"validate"in i))throw new Error('$data keyword must have "code" or "validate" function')}function Nc(t,i,n){var e;let r=i?.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=r?o.post:o.rules.find(({type:c})=>c===n);if(a||(a={type:n,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!i)return;let s={keyword:t,definition:Me(I({},i),{type:(0,Es.getJSONTypes)(i.type),schemaType:(0,Es.getJSONTypes)(i.schemaType)})};i.before?bv.call(this,a,s,i.before):a.rules.push(s),o.all[t]=s,(e=i.implements)===null||e===void 0||e.forEach(c=>this.addKeyword(c))}function bv(t,i,n){let e=t.rules.findIndex(r=>r.keyword===n);e>=0?t.rules.splice(e,0,i):(t.rules.push(i),this.logger.warn(`rule ${n} is not defined`))}function Sv(t){let{metaSchema:i}=t;i!==void 0&&(t.$data&&this.opts.$data&&(i=Km(i)),t.validateSchema=this.compile(i,!0))}var Tv={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Km(t){return{anyOf:[t,Tv]}}});var Zm=G(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});var wv={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Fc.default=wv});var tf=G(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.callRef=dr.getValidate=void 0;var kv=ks(),Xm=wi(),ui=Se(),oo=Tn(),Jm=Is(),Ms=Be(),Dv={keyword:"$ref",schemaType:"string",code(t){let{gen:i,schema:n,it:e}=t,{baseId:r,schemaEnv:o,validateName:a,opts:s,self:c}=e,{root:p}=o;if((n==="#"||n==="#/")&&r===p.baseId)return _();let h=Jm.resolveRef.call(c,p,r,n);if(h===void 0)throw new kv.default(e.opts.uriResolver,r,n);if(h instanceof Jm.SchemaEnv)return v(h);return y(h);function _(){if(o===p)return Os(t,a,o,o.$async);let k=i.scopeValue("root",{ref:p});return Os(t,(0,ui._)`${k}.validate`,p,p.$async)}function v(k){let T=ef(t,k);Os(t,T,k,k.$async)}function y(k){let T=i.scopeValue("schema",s.code.source===!0?{ref:k,code:(0,ui.stringify)(k)}:{ref:k}),F=i.name("valid"),E=t.subschema({schema:k,dataTypes:[],schemaPath:ui.nil,topSchemaRef:T,errSchemaPath:n},F);t.mergeEvaluated(E),t.ok(F)}}};function ef(t,i){let{gen:n}=t;return i.validate?n.scopeValue("validate",{ref:i.validate}):(0,ui._)`${n.scopeValue("wrapper",{ref:i})}.validate`}dr.getValidate=ef;function Os(t,i,n,e){let{gen:r,it:o}=t,{allErrors:a,schemaEnv:s,opts:c}=o,p=c.passContext?oo.default.this:ui.nil;e?h():_();function h(){if(!s.$async)throw new Error("async schema referenced by sync schema");let k=r.let("valid");r.try(()=>{r.code((0,ui._)`await ${(0,Xm.callValidateCode)(t,i,p)}`),y(i),a||r.assign(k,!0)},T=>{r.if((0,ui._)`!(${T} instanceof ${o.ValidationError})`,()=>r.throw(T)),v(T),a||r.assign(k,!1)}),t.ok(k)}function _(){t.result((0,Xm.callValidateCode)(t,i,p),()=>y(i),()=>v(i))}function v(k){let T=(0,ui._)`${k}.errors`;r.assign(oo.default.vErrors,(0,ui._)`${oo.default.vErrors} === null ? ${T} : ${oo.default.vErrors}.concat(${T})`),r.assign(oo.default.errors,(0,ui._)`${oo.default.vErrors}.length`)}function y(k){var T;if(!o.opts.unevaluated)return;let F=(T=n?.validate)===null||T===void 0?void 0:T.evaluated;if(o.props!==!0)if(F&&!F.dynamicProps)F.props!==void 0&&(o.props=Ms.mergeEvaluated.props(r,F.props,o.props));else{let E=r.var("props",(0,ui._)`${k}.evaluated.props`);o.props=Ms.mergeEvaluated.props(r,E,o.props,ui.Name)}if(o.items!==!0)if(F&&!F.dynamicItems)F.items!==void 0&&(o.items=Ms.mergeEvaluated.items(r,F.items,o.items));else{let E=r.var("items",(0,ui._)`${k}.evaluated.items`);o.items=Ms.mergeEvaluated.items(r,E,o.items,ui.Name)}}}dr.callRef=Os;dr.default=Dv});var nf=G(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});var Iv=Zm(),Pv=tf(),Ev=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Iv.default,Pv.default];Rc.default=Ev});var rf=G(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});var Ns=Se(),Bn=Ns.operators,$s={maximum:{okStr:"<=",ok:Bn.LTE,fail:Bn.GT},minimum:{okStr:">=",ok:Bn.GTE,fail:Bn.LT},exclusiveMaximum:{okStr:"<",ok:Bn.LT,fail:Bn.GTE},exclusiveMinimum:{okStr:">",ok:Bn.GT,fail:Bn.LTE}},Mv={message:({keyword:t,schemaCode:i})=>(0,Ns.str)`must be ${$s[t].okStr} ${i}`,params:({keyword:t,schemaCode:i})=>(0,Ns._)`{comparison: ${$s[t].okStr}, limit: ${i}}`},Ov={keyword:Object.keys($s),type:"number",schemaType:"number",$data:!0,error:Mv,code(t){let{keyword:i,data:n,schemaCode:e}=t;t.fail$data((0,Ns._)`${n} ${$s[i].fail} ${e} || isNaN(${n})`)}};Vc.default=Ov});var of=G(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});var Zo=Se(),Nv={message:({schemaCode:t})=>(0,Zo.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Zo._)`{multipleOf: ${t}}`},$v={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Nv,code(t){let{gen:i,data:n,schemaCode:e,it:r}=t,o=r.opts.multipleOfPrecision,a=i.let("res"),s=o?(0,Zo._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Zo._)`${a} !== parseInt(${a})`;t.fail$data((0,Zo._)`(${e} === 0 || (${a} = ${n}/${e}, ${s}))`)}};Ac.default=$v});var sf=G(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});function af(t){let i=t.length,n=0,e=0,r;for(;e<i;)n++,r=t.charCodeAt(e++),r>=55296&&r<=56319&&e<i&&(r=t.charCodeAt(e),(r&64512)===56320&&e++);return n}Hc.default=af;af.code='require("ajv/dist/runtime/ucs2length").default'});var lf=G(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var pr=Se(),Fv=Be(),Rv=sf(),Vv={message({keyword:t,schemaCode:i}){let n=t==="maxLength"?"more":"fewer";return(0,pr.str)`must NOT have ${n} than ${i} characters`},params:({schemaCode:t})=>(0,pr._)`{limit: ${t}}`},Av={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Vv,code(t){let{keyword:i,data:n,schemaCode:e,it:r}=t,o=i==="maxLength"?pr.operators.GT:pr.operators.LT,a=r.opts.unicode===!1?(0,pr._)`${n}.length`:(0,pr._)`${(0,Fv.useFunc)(t.gen,Rv.default)}(${n})`;t.fail$data((0,pr._)`${a} ${o} ${e}`)}};Lc.default=Av});var cf=G(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});var Hv=wi(),Fs=Se(),Lv={message:({schemaCode:t})=>(0,Fs.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Fs._)`{pattern: ${t}}`},jv={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Lv,code(t){let{data:i,$data:n,schema:e,schemaCode:r,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=n?(0,Fs._)`(new RegExp(${r}, ${a}))`:(0,Hv.usePattern)(t,e);t.fail$data((0,Fs._)`!${s}.test(${i})`)}};jc.default=jv});var df=G(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});var Xo=Se(),Bv={message({keyword:t,schemaCode:i}){let n=t==="maxProperties"?"more":"fewer";return(0,Xo.str)`must NOT have ${n} than ${i} properties`},params:({schemaCode:t})=>(0,Xo._)`{limit: ${t}}`},Wv={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Bv,code(t){let{keyword:i,data:n,schemaCode:e}=t,r=i==="maxProperties"?Xo.operators.GT:Xo.operators.LT;t.fail$data((0,Xo._)`Object.keys(${n}).length ${r} ${e}`)}};Bc.default=Wv});var pf=G(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});var Jo=wi(),ea=Se(),qv=Be(),Uv={message:({params:{missingProperty:t}})=>(0,ea.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ea._)`{missingProperty: ${t}}`},Yv={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Uv,code(t){let{gen:i,schema:n,schemaCode:e,data:r,$data:o,it:a}=t,{opts:s}=a;if(!o&&n.length===0)return;let c=n.length>=s.loopRequired;if(a.allErrors?p():h(),s.strictRequired){let y=t.parentSchema.properties,{definedProperties:k}=t.it;for(let T of n)if(y?.[T]===void 0&&!k.has(T)){let F=a.schemaEnv.baseId+a.errSchemaPath,E=`required property "${T}" is not defined at "${F}" (strictRequired)`;(0,qv.checkStrictMode)(a,E,a.opts.strictRequired)}}function p(){if(c||o)t.block$data(ea.nil,_);else for(let y of n)(0,Jo.checkReportMissingProp)(t,y)}function h(){let y=i.let("missing");if(c||o){let k=i.let("valid",!0);t.block$data(k,()=>v(y,k)),t.ok(k)}else i.if((0,Jo.checkMissingProp)(t,n,y)),(0,Jo.reportMissingProp)(t,y),i.else()}function _(){i.forOf("prop",e,y=>{t.setParams({missingProperty:y}),i.if((0,Jo.noPropertyInData)(i,r,y,s.ownProperties),()=>t.error())})}function v(y,k){t.setParams({missingProperty:y}),i.forOf(y,e,()=>{i.assign(k,(0,Jo.propertyInData)(i,r,y,s.ownProperties)),i.if((0,ea.not)(k),()=>{t.error(),i.break()})},ea.nil)}}};Wc.default=Yv});var uf=G(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});var ta=Se(),Qv={message({keyword:t,schemaCode:i}){let n=t==="maxItems"?"more":"fewer";return(0,ta.str)`must NOT have ${n} than ${i} items`},params:({schemaCode:t})=>(0,ta._)`{limit: ${t}}`},Kv={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Qv,code(t){let{keyword:i,data:n,schemaCode:e}=t,r=i==="maxItems"?ta.operators.GT:ta.operators.LT;t.fail$data((0,ta._)`${n}.length ${r} ${e}`)}};qc.default=Kv});var Rs=G(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});var hf=zc();hf.code='require("ajv/dist/runtime/equal").default';Uc.default=hf});var mf=G(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});var Yc=Bo(),jt=Se(),Gv=Be(),Zv=Rs(),Xv={message:({params:{i:t,j:i}})=>(0,jt.str)`must NOT have duplicate items (items ## ${i} and ${t} are identical)`,params:({params:{i:t,j:i}})=>(0,jt._)`{i: ${t}, j: ${i}}`},Jv={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Xv,code(t){let{gen:i,data:n,$data:e,schema:r,parentSchema:o,schemaCode:a,it:s}=t;if(!e&&!r)return;let c=i.let("valid"),p=o.items?(0,Yc.getSchemaTypes)(o.items):[];t.block$data(c,h,(0,jt._)`${a} === false`),t.ok(c);function h(){let k=i.let("i",(0,jt._)`${n}.length`),T=i.let("j");t.setParams({i:k,j:T}),i.assign(c,!0),i.if((0,jt._)`${k} > 1`,()=>(_()?v:y)(k,T))}function _(){return p.length>0&&!p.some(k=>k==="object"||k==="array")}function v(k,T){let F=i.name("item"),E=(0,Yc.checkDataTypes)(p,F,s.opts.strictNumbers,Yc.DataType.Wrong),U=i.const("indices",(0,jt._)`{}`);i.for((0,jt._)`;${k}--;`,()=>{i.let(F,(0,jt._)`${n}[${k}]`),i.if(E,(0,jt._)`continue`),p.length>1&&i.if((0,jt._)`typeof ${F} == "string"`,(0,jt._)`${F} += "_"`),i.if((0,jt._)`typeof ${U}[${F}] == "number"`,()=>{i.assign(T,(0,jt._)`${U}[${F}]`),t.error(),i.assign(c,!1).break()}).code((0,jt._)`${U}[${F}] = ${k}`)})}function y(k,T){let F=(0,Gv.useFunc)(i,Zv.default),E=i.name("outer");i.label(E).for((0,jt._)`;${k}--;`,()=>i.for((0,jt._)`${T} = ${k}; ${T}--;`,()=>i.if((0,jt._)`${F}(${n}[${k}], ${n}[${T}])`,()=>{t.error(),i.assign(c,!1).break(E)})))}}};Qc.default=Jv});var ff=G(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});var Kc=Se(),ez=Be(),tz=Rs(),iz={message:"must be equal to constant",params:({schemaCode:t})=>(0,Kc._)`{allowedValue: ${t}}`},nz={keyword:"const",$data:!0,error:iz,code(t){let{gen:i,data:n,$data:e,schemaCode:r,schema:o}=t;e||o&&typeof o=="object"?t.fail$data((0,Kc._)`!${(0,ez.useFunc)(i,tz.default)}(${n}, ${r})`):t.fail((0,Kc._)`${o} !== ${n}`)}};Gc.default=nz});var _f=G(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var ia=Se(),rz=Be(),oz=Rs(),az={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,ia._)`{allowedValues: ${t}}`},sz={keyword:"enum",schemaType:"array",$data:!0,error:az,code(t){let{gen:i,data:n,$data:e,schema:r,schemaCode:o,it:a}=t;if(!e&&r.length===0)throw new Error("enum must have non-empty array");let s=r.length>=a.opts.loopEnum,c,p=()=>c??(c=(0,rz.useFunc)(i,oz.default)),h;if(s||e)h=i.let("valid"),t.block$data(h,_);else{if(!Array.isArray(r))throw new Error("ajv implementation error");let y=i.const("vSchema",o);h=(0,ia.or)(...r.map((k,T)=>v(y,T)))}t.pass(h);function _(){i.assign(h,!1),i.forOf("v",o,y=>i.if((0,ia._)`${p()}(${n}, ${y})`,()=>i.assign(h,!0).break()))}function v(y,k){let T=r[k];return typeof T=="object"&&T!==null?(0,ia._)`${p()}(${n}, ${y}[${k}])`:(0,ia._)`${n} === ${T}`}}};Zc.default=sz});var gf=G(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var lz=rf(),cz=of(),dz=lf(),pz=cf(),uz=df(),hz=pf(),mz=uf(),fz=mf(),_z=ff(),gz=_f(),Cz=[lz.default,cz.default,dz.default,pz.default,uz.default,hz.default,mz.default,fz.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},_z.default,gz.default];Xc.default=Cz});var ed=G(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.validateAdditionalItems=void 0;var ur=Se(),Jc=Be(),yz={message:({params:{len:t}})=>(0,ur.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ur._)`{limit: ${t}}`},vz={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:yz,code(t){let{parentSchema:i,it:n}=t,{items:e}=i;if(!Array.isArray(e)){(0,Jc.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}Cf(t,e)}};function Cf(t,i){let{gen:n,schema:e,data:r,keyword:o,it:a}=t;a.items=!0;let s=n.const("len",(0,ur._)`${r}.length`);if(e===!1)t.setParams({len:i.length}),t.pass((0,ur._)`${s} <= ${i.length}`);else if(typeof e=="object"&&!(0,Jc.alwaysValidSchema)(a,e)){let p=n.var("valid",(0,ur._)`${s} <= ${i.length}`);n.if((0,ur.not)(p),()=>c(p)),t.ok(p)}function c(p){n.forRange("i",i.length,s,h=>{t.subschema({keyword:o,dataProp:h,dataPropType:Jc.Type.Num},p),a.allErrors||n.if((0,ur.not)(p),()=>n.break())})}}na.validateAdditionalItems=Cf;na.default=vz});var td=G(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.validateTuple=void 0;var yf=Se(),Vs=Be(),zz=wi(),xz={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:i,it:n}=t;if(Array.isArray(i))return vf(t,"additionalItems",i);n.items=!0,!(0,Vs.alwaysValidSchema)(n,i)&&t.ok((0,zz.validateArray)(t))}};function vf(t,i,n=t.schema){let{gen:e,parentSchema:r,data:o,keyword:a,it:s}=t;h(r),s.opts.unevaluated&&n.length&&s.items!==!0&&(s.items=Vs.mergeEvaluated.items(e,n.length,s.items));let c=e.name("valid"),p=e.const("len",(0,yf._)`${o}.length`);n.forEach((_,v)=>{(0,Vs.alwaysValidSchema)(s,_)||(e.if((0,yf._)`${p} > ${v}`,()=>t.subschema({keyword:a,schemaProp:v,dataProp:v},c)),t.ok(c))});function h(_){let{opts:v,errSchemaPath:y}=s,k=n.length,T=k===_.minItems&&(k===_.maxItems||_[i]===!1);if(v.strictTuples&&!T){let F=`"${a}" is ${k}-tuple, but minItems or maxItems/${i} are not specified or different at path "${y}"`;(0,Vs.checkStrictMode)(s,F,v.strictTuples)}}}ra.validateTuple=vf;ra.default=xz});var zf=G(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var bz=td(),Sz={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,bz.validateTuple)(t,"items")};id.default=Sz});var bf=G(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});var xf=Se(),Tz=Be(),wz=wi(),kz=ed(),Dz={message:({params:{len:t}})=>(0,xf.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,xf._)`{limit: ${t}}`},Iz={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Dz,code(t){let{schema:i,parentSchema:n,it:e}=t,{prefixItems:r}=n;e.items=!0,!(0,Tz.alwaysValidSchema)(e,i)&&(r?(0,kz.validateAdditionalItems)(t,r):t.ok((0,wz.validateArray)(t)))}};nd.default=Iz});var Sf=G(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var Di=Se(),As=Be(),Pz={message:({params:{min:t,max:i}})=>i===void 0?(0,Di.str)`must contain at least ${t} valid item(s)`:(0,Di.str)`must contain at least ${t} and no more than ${i} valid item(s)`,params:({params:{min:t,max:i}})=>i===void 0?(0,Di._)`{minContains: ${t}}`:(0,Di._)`{minContains: ${t}, maxContains: ${i}}`},Ez={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Pz,code(t){let{gen:i,schema:n,parentSchema:e,data:r,it:o}=t,a,s,{minContains:c,maxContains:p}=e;o.opts.next?(a=c===void 0?1:c,s=p):a=1;let h=i.const("len",(0,Di._)`${r}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,As.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,As.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,As.alwaysValidSchema)(o,n)){let T=(0,Di._)`${h} >= ${a}`;s!==void 0&&(T=(0,Di._)`${T} && ${h} <= ${s}`),t.pass(T);return}o.items=!0;let _=i.name("valid");s===void 0&&a===1?y(_,()=>i.if(_,()=>i.break())):a===0?(i.let(_,!0),s!==void 0&&i.if((0,Di._)`${r}.length > 0`,v)):(i.let(_,!1),v()),t.result(_,()=>t.reset());function v(){let T=i.name("_valid"),F=i.let("count",0);y(T,()=>i.if(T,()=>k(F)))}function y(T,F){i.forRange("i",0,h,E=>{t.subschema({keyword:"contains",dataProp:E,dataPropType:As.Type.Num,compositeRule:!0},T),F()})}function k(T){i.code((0,Di._)`${T}++`),s===void 0?i.if((0,Di._)`${T} >= ${a}`,()=>i.assign(_,!0).break()):(i.if((0,Di._)`${T} > ${s}`,()=>i.assign(_,!1).break()),a===1?i.assign(_,!0):i.if((0,Di._)`${T} >= ${a}`,()=>i.assign(_,!0)))}}};rd.default=Ez});var kf=G(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.validateSchemaDeps=an.validatePropertyDeps=an.error=void 0;var od=Se(),Mz=Be(),oa=wi();an.error={message:({params:{property:t,depsCount:i,deps:n}})=>{let e=i===1?"property":"properties";return(0,od.str)`must have ${e} ${n} when property ${t} is present`},params:({params:{property:t,depsCount:i,deps:n,missingProperty:e}})=>(0,od._)`{property: ${t},
    missingProperty: ${e},
    depsCount: ${i},
    deps: ${n}}`};var Oz={keyword:"dependencies",type:"object",schemaType:"object",error:an.error,code(t){let[i,n]=Nz(t);Tf(t,i),wf(t,n)}};function Nz({schema:t}){let i={},n={};for(let e in t){if(e==="__proto__")continue;let r=Array.isArray(t[e])?i:n;r[e]=t[e]}return[i,n]}function Tf(t,i=t.schema){let{gen:n,data:e,it:r}=t;if(Object.keys(i).length===0)return;let o=n.let("missing");for(let a in i){let s=i[a];if(s.length===0)continue;let c=(0,oa.propertyInData)(n,e,a,r.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),r.allErrors?n.if(c,()=>{for(let p of s)(0,oa.checkReportMissingProp)(t,p)}):(n.if((0,od._)`${c} && (${(0,oa.checkMissingProp)(t,s,o)})`),(0,oa.reportMissingProp)(t,o),n.else())}}an.validatePropertyDeps=Tf;function wf(t,i=t.schema){let{gen:n,data:e,keyword:r,it:o}=t,a=n.name("valid");for(let s in i)(0,Mz.alwaysValidSchema)(o,i[s])||(n.if((0,oa.propertyInData)(n,e,s,o.opts.ownProperties),()=>{let c=t.subschema({keyword:r,schemaProp:s},a);t.mergeValidEvaluated(c,a)},()=>n.var(a,!0)),t.ok(a))}an.validateSchemaDeps=wf;an.default=Oz});var If=G(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var Df=Se(),$z=Be(),Fz={message:"property name must be valid",params:({params:t})=>(0,Df._)`{propertyName: ${t.propertyName}}`},Rz={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Fz,code(t){let{gen:i,schema:n,data:e,it:r}=t;if((0,$z.alwaysValidSchema)(r,n))return;let o=i.name("valid");i.forIn("key",e,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),i.if((0,Df.not)(o),()=>{t.error(!0),r.allErrors||i.break()})}),t.ok(o)}};ad.default=Rz});var ld=G(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});var Hs=wi(),Wi=Se(),Vz=Tn(),Ls=Be(),Az={message:"must NOT have additional properties",params:({params:t})=>(0,Wi._)`{additionalProperty: ${t.additionalProperty}}`},Hz={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Az,code(t){let{gen:i,schema:n,parentSchema:e,data:r,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Ls.alwaysValidSchema)(a,n))return;let p=(0,Hs.allSchemaProperties)(e.properties),h=(0,Hs.allSchemaProperties)(e.patternProperties);_(),t.ok((0,Wi._)`${o} === ${Vz.default.errors}`);function _(){i.forIn("key",r,F=>{!p.length&&!h.length?k(F):i.if(v(F),()=>k(F))})}function v(F){let E;if(p.length>8){let U=(0,Ls.schemaRefOrVal)(a,e.properties,"properties");E=(0,Hs.isOwnProperty)(i,U,F)}else p.length?E=(0,Wi.or)(...p.map(U=>(0,Wi._)`${F} === ${U}`)):E=Wi.nil;return h.length&&(E=(0,Wi.or)(E,...h.map(U=>(0,Wi._)`${(0,Hs.usePattern)(t,U)}.test(${F})`))),(0,Wi.not)(E)}function y(F){i.code((0,Wi._)`delete ${r}[${F}]`)}function k(F){if(c.removeAdditional==="all"||c.removeAdditional&&n===!1){y(F);return}if(n===!1){t.setParams({additionalProperty:F}),t.error(),s||i.break();return}if(typeof n=="object"&&!(0,Ls.alwaysValidSchema)(a,n)){let E=i.name("valid");c.removeAdditional==="failing"?(T(F,E,!1),i.if((0,Wi.not)(E),()=>{t.reset(),y(F)})):(T(F,E),s||i.if((0,Wi.not)(E),()=>i.break()))}}function T(F,E,U){let fe={keyword:"additionalProperties",dataProp:F,dataPropType:Ls.Type.Str};U===!1&&Object.assign(fe,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(fe,E)}}};sd.default=Hz});var Mf=G(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});var Lz=Yo(),Pf=wi(),cd=Be(),Ef=ld(),jz={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:i,schema:n,parentSchema:e,data:r,it:o}=t;o.opts.removeAdditional==="all"&&e.additionalProperties===void 0&&Ef.default.code(new Lz.KeywordCxt(o,Ef.default,"additionalProperties"));let a=(0,Pf.allSchemaProperties)(n);for(let _ of a)o.definedProperties.add(_);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=cd.mergeEvaluated.props(i,(0,cd.toHash)(a),o.props));let s=a.filter(_=>!(0,cd.alwaysValidSchema)(o,n[_]));if(s.length===0)return;let c=i.name("valid");for(let _ of s)p(_)?h(_):(i.if((0,Pf.propertyInData)(i,r,_,o.opts.ownProperties)),h(_),o.allErrors||i.else().var(c,!0),i.endIf()),t.it.definedProperties.add(_),t.ok(c);function p(_){return o.opts.useDefaults&&!o.compositeRule&&n[_].default!==void 0}function h(_){t.subschema({keyword:"properties",schemaProp:_,dataProp:_},c)}}};dd.default=jz});var Ff=G(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});var Of=wi(),js=Se(),Nf=Be(),$f=Be(),Bz={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:i,schema:n,data:e,parentSchema:r,it:o}=t,{opts:a}=o,s=(0,Of.allSchemaProperties)(n),c=s.filter(T=>(0,Nf.alwaysValidSchema)(o,n[T]));if(s.length===0||c.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let p=a.strictSchema&&!a.allowMatchingProperties&&r.properties,h=i.name("valid");o.props!==!0&&!(o.props instanceof js.Name)&&(o.props=(0,$f.evaluatedPropsToName)(i,o.props));let{props:_}=o;v();function v(){for(let T of s)p&&y(T),o.allErrors?k(T):(i.var(h,!0),k(T),i.if(h))}function y(T){for(let F in p)new RegExp(T).test(F)&&(0,Nf.checkStrictMode)(o,`property ${F} matches pattern ${T} (use allowMatchingProperties)`)}function k(T){i.forIn("key",e,F=>{i.if((0,js._)`${(0,Of.usePattern)(t,T)}.test(${F})`,()=>{let E=c.includes(T);E||t.subschema({keyword:"patternProperties",schemaProp:T,dataProp:F,dataPropType:$f.Type.Str},h),o.opts.unevaluated&&_!==!0?i.assign((0,js._)`${_}[${F}]`,!0):!E&&!o.allErrors&&i.if((0,js.not)(h),()=>i.break())})})}}};pd.default=Bz});var Rf=G(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});var Wz=Be(),qz={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:i,schema:n,it:e}=t;if((0,Wz.alwaysValidSchema)(e,n)){t.fail();return}let r=i.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),t.failResult(r,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ud.default=qz});var Vf=G(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});var Uz=wi(),Yz={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Uz.validateUnion,error:{message:"must match a schema in anyOf"}};hd.default=Yz});var Af=G(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});var Bs=Se(),Qz=Be(),Kz={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Bs._)`{passingSchemas: ${t.passing}}`},Gz={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Kz,code(t){let{gen:i,schema:n,parentSchema:e,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(r.opts.discriminator&&e.discriminator)return;let o=n,a=i.let("valid",!1),s=i.let("passing",null),c=i.name("_valid");t.setParams({passing:s}),i.block(p),t.result(a,()=>t.reset(),()=>t.error(!0));function p(){o.forEach((h,_)=>{let v;(0,Qz.alwaysValidSchema)(r,h)?i.var(c,!0):v=t.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},c),_>0&&i.if((0,Bs._)`${c} && ${a}`).assign(a,!1).assign(s,(0,Bs._)`[${s}, ${_}]`).else(),i.if(c,()=>{i.assign(a,!0),i.assign(s,_),v&&t.mergeEvaluated(v,Bs.Name)})})}}};md.default=Gz});var Hf=G(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var Zz=Be(),Xz={keyword:"allOf",schemaType:"array",code(t){let{gen:i,schema:n,it:e}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");let r=i.name("valid");n.forEach((o,a)=>{if((0,Zz.alwaysValidSchema)(e,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},r);t.ok(r),t.mergeEvaluated(s)})}};fd.default=Xz});var Bf=G(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});var Ws=Se(),jf=Be(),Jz={message:({params:t})=>(0,Ws.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Ws._)`{failingKeyword: ${t.ifClause}}`},e1={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Jz,code(t){let{gen:i,parentSchema:n,it:e}=t;n.then===void 0&&n.else===void 0&&(0,jf.checkStrictMode)(e,'"if" without "then" and "else" is ignored');let r=Lf(e,"then"),o=Lf(e,"else");if(!r&&!o)return;let a=i.let("valid",!0),s=i.name("_valid");if(c(),t.reset(),r&&o){let h=i.let("ifClause");t.setParams({ifClause:h}),i.if(s,p("then",h),p("else",h))}else r?i.if(s,p("then")):i.if((0,Ws.not)(s),p("else"));t.pass(a,()=>t.error(!0));function c(){let h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(h)}function p(h,_){return()=>{let v=t.subschema({keyword:h},s);i.assign(a,s),t.mergeValidEvaluated(v,a),_?i.assign(_,(0,Ws._)`${h}`):t.setParams({ifClause:h})}}}};function Lf(t,i){let n=t.schema[i];return n!==void 0&&!(0,jf.alwaysValidSchema)(t,n)}_d.default=e1});var Wf=G(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});var t1=Be(),i1={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:i,it:n}){i.if===void 0&&(0,t1.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};gd.default=i1});var qf=G(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var n1=ed(),r1=zf(),o1=td(),a1=bf(),s1=Sf(),l1=kf(),c1=If(),d1=ld(),p1=Mf(),u1=Ff(),h1=Rf(),m1=Vf(),f1=Af(),_1=Hf(),g1=Bf(),C1=Wf();function y1(t=!1){let i=[h1.default,m1.default,f1.default,_1.default,g1.default,C1.default,c1.default,d1.default,l1.default,p1.default,u1.default];return t?i.push(r1.default,a1.default):i.push(n1.default,o1.default),i.push(s1.default),i}Cd.default=y1});var Uf=G(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});var It=Se(),v1={message:({schemaCode:t})=>(0,It.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,It._)`{format: ${t}}`},z1={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:v1,code(t,i){let{gen:n,data:e,$data:r,schema:o,schemaCode:a,it:s}=t,{opts:c,errSchemaPath:p,schemaEnv:h,self:_}=s;if(!c.validateFormats)return;r?v():y();function v(){let k=n.scopeValue("formats",{ref:_.formats,code:c.code.formats}),T=n.const("fDef",(0,It._)`${k}[${a}]`),F=n.let("fType"),E=n.let("format");n.if((0,It._)`typeof ${T} == "object" && !(${T} instanceof RegExp)`,()=>n.assign(F,(0,It._)`${T}.type || "string"`).assign(E,(0,It._)`${T}.validate`),()=>n.assign(F,(0,It._)`"string"`).assign(E,T)),t.fail$data((0,It.or)(U(),fe()));function U(){return c.strictSchema===!1?It.nil:(0,It._)`${a} && !${E}`}function fe(){let Ae=h.$async?(0,It._)`(${T}.async ? await ${E}(${e}) : ${E}(${e}))`:(0,It._)`${E}(${e})`,Q=(0,It._)`(typeof ${E} == "function" ? ${Ae} : ${E}.test(${e}))`;return(0,It._)`${E} && ${E} !== true && ${F} === ${i} && !${Q}`}}function y(){let k=_.formats[o];if(!k){U();return}if(k===!0)return;let[T,F,E]=fe(k);T===i&&t.pass(Ae());function U(){if(c.strictSchema===!1){_.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${o}" ignored in schema at path "${p}"`}}function fe(Q){let Ne=Q instanceof RegExp?(0,It.regexpCode)(Q):c.code.formats?(0,It._)`${c.code.formats}${(0,It.getProperty)(o)}`:void 0,xt=n.scopeValue("formats",{key:o,ref:Q,code:Ne});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,It._)`${xt}.validate`]:["string",Q,xt]}function Ae(){if(typeof k=="object"&&!(k instanceof RegExp)&&k.async){if(!h.$async)throw new Error("async format in sync schema");return(0,It._)`await ${E}(${e})`}return typeof F=="function"?(0,It._)`${E}(${e})`:(0,It._)`${E}.test(${e})`}}}};yd.default=z1});var Yf=G(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});var x1=Uf(),b1=[x1.default];vd.default=b1});var Qf=G(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.contentVocabulary=ao.metadataVocabulary=void 0;ao.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ao.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Gf=G(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var S1=nf(),T1=gf(),w1=qf(),k1=Yf(),Kf=Qf(),D1=[S1.default,T1.default,(0,w1.default)(),k1.default,Kf.metadataVocabulary,Kf.contentVocabulary];zd.default=D1});var Zf=G(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.DiscrError=void 0;var I1;(function(t){t.Tag="tag",t.Mapping="mapping"})(I1=aa.DiscrError||(aa.DiscrError={}))});var Jf=G(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});var so=Se(),xd=Zf(),Xf=Is(),P1=Be(),E1={message:({params:{discrError:t,tagName:i}})=>t===xd.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:t,tag:i,tagName:n}})=>(0,so._)`{error: ${t}, tag: ${n}, tagValue: ${i}}`},M1={keyword:"discriminator",type:"object",schemaType:"object",error:E1,code(t){let{gen:i,data:n,schema:e,parentSchema:r,it:o}=t,{oneOf:a}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=e.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(e.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let c=i.let("valid",!1),p=i.const("tag",(0,so._)`${n}${(0,so.getProperty)(s)}`);i.if((0,so._)`typeof ${p} == "string"`,()=>h(),()=>t.error(!1,{discrError:xd.DiscrError.Tag,tag:p,tagName:s})),t.ok(c);function h(){let y=v();i.if(!1);for(let k in y)i.elseIf((0,so._)`${p} === ${k}`),i.assign(c,_(y[k]));i.else(),t.error(!1,{discrError:xd.DiscrError.Mapping,tag:p,tagName:s}),i.endIf()}function _(y){let k=i.name("valid"),T=t.subschema({keyword:"oneOf",schemaProp:y},k);return t.mergeEvaluated(T,so.Name),k}function v(){var y;let k={},T=E(r),F=!0;for(let Ae=0;Ae<a.length;Ae++){let Q=a[Ae];Q?.$ref&&!(0,P1.schemaHasRulesButRef)(Q,o.self.RULES)&&(Q=Xf.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,Q?.$ref),Q instanceof Xf.SchemaEnv&&(Q=Q.schema));let Ne=(y=Q?.properties)===null||y===void 0?void 0:y[s];if(typeof Ne!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);F=F&&(T||E(Q)),U(Ne,Ae)}if(!F)throw new Error(`discriminator: "${s}" must be required`);return k;function E({required:Ae}){return Array.isArray(Ae)&&Ae.includes(s)}function U(Ae,Q){if(Ae.const)fe(Ae.const,Q);else if(Ae.enum)for(let Ne of Ae.enum)fe(Ne,Q);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function fe(Ae,Q){if(typeof Ae!="string"||Ae in k)throw new Error(`discriminator: "${s}" values must be unique strings`);k[Ae]=Q}}}};bd.default=M1});var e0=G((fN,O1)=>{O1.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Sd=G((zt,i0)=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.MissingRefError=zt.ValidationError=zt.CodeGen=zt.Name=zt.nil=zt.stringify=zt.str=zt._=zt.KeywordCxt=void 0;var N1=Gm(),$1=Gf(),F1=Jf(),t0=e0(),R1=["/properties"],qs="http://json-schema.org/draft-07/schema",Us=class extends N1.default{_addVocabularies(){super._addVocabularies(),$1.default.forEach(i=>this.addVocabulary(i)),this.opts.discriminator&&this.addKeyword(F1.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let i=this.opts.$data?this.$dataMetaSchema(t0,R1):t0;this.addMetaSchema(i,qs,!1),this.refs["http://json-schema.org/schema"]=qs}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(qs)?qs:void 0)}};i0.exports=zt=Us;Object.defineProperty(zt,"__esModule",{value:!0});zt.default=Us;var V1=Yo();Object.defineProperty(zt,"KeywordCxt",{enumerable:!0,get:function(){return V1.KeywordCxt}});var lo=Se();Object.defineProperty(zt,"_",{enumerable:!0,get:function(){return lo._}});Object.defineProperty(zt,"str",{enumerable:!0,get:function(){return lo.str}});Object.defineProperty(zt,"stringify",{enumerable:!0,get:function(){return lo.stringify}});Object.defineProperty(zt,"nil",{enumerable:!0,get:function(){return lo.nil}});Object.defineProperty(zt,"Name",{enumerable:!0,get:function(){return lo.Name}});Object.defineProperty(zt,"CodeGen",{enumerable:!0,get:function(){return lo.CodeGen}});var A1=ws();Object.defineProperty(zt,"ValidationError",{enumerable:!0,get:function(){return A1.default}});var H1=ks();Object.defineProperty(zt,"MissingRefError",{enumerable:!0,get:function(){return H1.default}})});var l0=G(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.formatNames=sn.fastFormats=sn.fullFormats=void 0;function co(t,i){return{validate:t,compare:i}}sn.fullFormats={date:co(o0,kd),time:co(a0,Dd),"date-time":co(W1,s0),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Y1,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ex,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Q1,int32:{type:"number",validate:Z1},int64:{type:"number",validate:X1},float:{type:"number",validate:r0},double:{type:"number",validate:r0},password:!0,binary:!0};sn.fastFormats=Me(I({},sn.fullFormats),{date:co(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,kd),time:co(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Dd),"date-time":co(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,s0),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});sn.formatNames=Object.keys(sn.fullFormats);function L1(t){return t%4===0&&(t%100!==0||t%400===0)}var j1=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,B1=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o0(t){let i=j1.exec(t);if(!i)return!1;let n=+i[1],e=+i[2],r=+i[3];return e>=1&&e<=12&&r>=1&&r<=(e===2&&L1(n)?29:B1[e])}function kd(t,i){if(t&&i)return t>i?1:t<i?-1:0}var Td=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function a0(t,i){let n=Td.exec(t);if(!n)return!1;let e=+n[1],r=+n[2],o=+n[3],a=n[5];return(e<=23&&r<=59&&o<=59||e===23&&r===59&&o===60)&&(!i||a!=="")}function Dd(t,i){if(!(t&&i))return;let n=Td.exec(t),e=Td.exec(i);if(n&&e)return t=n[1]+n[2]+n[3]+(n[4]||""),i=e[1]+e[2]+e[3]+(e[4]||""),t>i?1:t<i?-1:0}var wd=/t|\s/i;function W1(t){let i=t.split(wd);return i.length===2&&o0(i[0])&&a0(i[1],!0)}function s0(t,i){if(!(t&&i))return;let[n,e]=t.split(wd),[r,o]=i.split(wd),a=kd(n,r);if(a!==void 0)return a||Dd(e,o)}var q1=/\/|:/,U1=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Y1(t){return q1.test(t)&&U1.test(t)}var n0=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Q1(t){return n0.lastIndex=0,n0.test(t)}var K1=-(2**31),G1=2**31-1;function Z1(t){return Number.isInteger(t)&&t<=G1&&t>=K1}function X1(t){return Number.isInteger(t)}function r0(){return!0}var J1=/[^\\]\\Z/;function ex(t){if(J1.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var c0=G(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.formatLimitDefinition=void 0;var tx=Sd(),qi=Se(),Wn=qi.operators,Ys={formatMaximum:{okStr:"<=",ok:Wn.LTE,fail:Wn.GT},formatMinimum:{okStr:">=",ok:Wn.GTE,fail:Wn.LT},formatExclusiveMaximum:{okStr:"<",ok:Wn.LT,fail:Wn.GTE},formatExclusiveMinimum:{okStr:">",ok:Wn.GT,fail:Wn.LTE}},ix={message:({keyword:t,schemaCode:i})=>qi.str`should be ${Ys[t].okStr} ${i}`,params:({keyword:t,schemaCode:i})=>qi._`{comparison: ${Ys[t].okStr}, limit: ${i}}`};po.formatLimitDefinition={keyword:Object.keys(Ys),type:"string",schemaType:"string",$data:!0,error:ix,code(t){let{gen:i,data:n,schemaCode:e,keyword:r,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let c=new tx.KeywordCxt(o,s.RULES.all.format.definition,"format");c.$data?p():h();function p(){let v=i.scopeValue("formats",{ref:s.formats,code:a.code.formats}),y=i.const("fmt",qi._`${v}[${c.schemaCode}]`);t.fail$data(qi.or(qi._`typeof ${y} != "object"`,qi._`${y} instanceof RegExp`,qi._`typeof ${y}.compare != "function"`,_(y)))}function h(){let v=c.schema,y=s.formats[v];if(!y||y===!0)return;if(typeof y!="object"||y instanceof RegExp||typeof y.compare!="function")throw new Error(`"${r}": format "${v}" does not define "compare" function`);let k=i.scopeValue("formats",{key:v,ref:y,code:a.code.formats?qi._`${a.code.formats}${qi.getProperty(v)}`:void 0});t.fail$data(_(k))}function _(v){return qi._`${v}.compare(${n}, ${e}) ${Ys[r].fail} 0`}},dependencies:["format"]};var nx=t=>(t.addKeyword(po.formatLimitDefinition),t);po.default=nx});var h0=G((sa,u0)=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var uo=l0(),rx=c0(),Id=Se(),d0=new Id.Name("fullFormats"),ox=new Id.Name("fastFormats"),Pd=(t,i={keywords:!0})=>{if(Array.isArray(i))return p0(t,i,uo.fullFormats,d0),t;let[n,e]=i.mode==="fast"?[uo.fastFormats,ox]:[uo.fullFormats,d0],r=i.formats||uo.formatNames;return p0(t,r,n,e),i.keywords&&rx.default(t),t};Pd.get=(t,i="full")=>{let e=(i==="fast"?uo.fastFormats:uo.fullFormats)[t];if(!e)throw new Error(`Unknown format "${t}"`);return e};function p0(t,i,n,e){var r,o;(r=(o=t.opts.code).formats)!==null&&r!==void 0||(o.formats=Id._`require("ajv-formats/dist/formats").${e}`);for(let a of i)t.addFormat(a,n[a])}u0.exports=sa=Pd;Object.defineProperty(sa,"__esModule",{value:!0});sa.default=Pd});var cg=["nz-pagination-item",""];function dg(t,i){if(t&1&&(m(0,"a"),R(1),f()),t&2){let n=l().page;d(),ae(n)}}function pg(t,i){t&1&&N(0,"span",3)}function ug(t,i){t&1&&N(0,"span",4)}function hg(t,i){if(t&1&&(m(0,"button",2),g(1,pg,1,0,"span",3)(2,ug,1,0),f()),t&2){let n=l(2);u("disabled",n.disabled),d(),D(1,n.direction==="rtl"?1:2)}}function mg(t,i){t&1&&N(0,"span",4)}function fg(t,i){t&1&&N(0,"span",3)}function _g(t,i){if(t&1&&(m(0,"button",2),g(1,mg,1,0,"span",4)(2,fg,1,0),f()),t&2){let n=l(2);u("disabled",n.disabled),d(),D(1,n.direction==="rtl"?1:2)}}function gg(t,i){t&1&&N(0,"span",9)}function Cg(t,i){t&1&&N(0,"span",10)}function yg(t,i){if(t&1&&g(0,gg,1,0,"span",8)(1,Cg,1,0),t&2){let n=l(3);D(0,n.direction==="rtl"?0:1)}}function vg(t,i){t&1&&N(0,"span",10)}function zg(t,i){t&1&&N(0,"span",9)}function xg(t,i){if(t&1&&g(0,vg,1,0,"span",11)(1,zg,1,0),t&2){let n=l(3);D(0,n.direction==="rtl"?0:1)}}function bg(t,i){if(t&1&&(m(0,"a",5)(1,"div",6),g(2,yg,2,1)(3,xg,2,1),m(4,"span",7),R(5,"\u2022\u2022\u2022"),f()()()),t&2){let n=l().$implicit,e;d(2),D(2,(e=n)==="prev_5"?2:e==="next_5"?3:-1)}}function Sg(t,i){if(t&1&&g(0,dg,2,1)(1,hg,3,2)(2,_g,3,2)(3,bg,6,1),t&2){let n=i.$implicit,e;D(0,(e=n)==="page"?0:e==="prev"?1:e==="next"?2:3)}}function Tg(t,i){}var wg=(t,i)=>({$implicit:t,page:i}),kg=["nz-pagination-options",""],Dg=(t,i)=>i.value;function Ig(t,i){if(t&1&&N(0,"nz-option",3),t&2){let n=i.$implicit;u("nzLabel",n.label)("nzValue",n.value)}}function Pg(t,i){if(t&1){let n=V();m(0,"nz-select",2),P("ngModelChange",function(r){b(n);let o=l();return S(o.onPageSizeChange(r))}),se(1,Ig,1,2,"nz-option",3,Dg),f()}if(t&2){let n=l();u("nzDisabled",n.disabled)("nzSize",n.nzSize)("ngModel",n.pageSize),d(),le(n.listOfPageSizeOption)}}function Eg(t,i){if(t&1){let n=V();m(0,"div",4),R(1),m(2,"input",5),P("keydown.enter",function(r){b(n);let o=l();return S(o.jumpToPageViaInput(r))}),f(),R(3),f()}if(t&2){let n=l();d(),ee(" ",n.locale.jump_to," "),d(),u("disabled",n.disabled),d(),ee(" ",n.locale.page," ")}}var Ph=["containerTemplate"];function Mg(t,i){return this.trackByPageItem}function Og(t,i){}var Ng=(t,i)=>({$implicit:t,range:i});function $g(t,i){if(t&1&&(m(0,"li",3),g(1,Og,0,0,"ng-template",4),f()),t&2){let n=l(2);d(),u("ngTemplateOutlet",n.showTotal)("ngTemplateOutletContext",vi(2,Ng,n.total,n.ranges))}}function Fg(t,i){if(t&1){let n=V();m(0,"li",5),P("gotoIndex",function(r){b(n);let o=l(2);return S(o.jumpPage(r))})("diffIndex",function(r){b(n);let o=l(2);return S(o.jumpDiff(r))}),f()}if(t&2){let n=i.$implicit,e=l(2);u("locale",e.locale)("type",n.type)("index",n.index)("disabled",!!n.disabled)("itemRender",e.itemRender)("active",e.pageIndex===n.index)("direction",e.dir)}}function Rg(t,i){if(t&1){let n=V();m(0,"li",6),P("pageIndexChange",function(r){b(n);let o=l(2);return S(o.onPageIndexChange(r))})("pageSizeChange",function(r){b(n);let o=l(2);return S(o.onPageSizeChange(r))}),f()}if(t&2){let n=l(2);u("total",n.total)("locale",n.locale)("disabled",n.disabled)("nzSize",n.nzSize)("showSizeChanger",n.showSizeChanger)("showQuickJumper",n.showQuickJumper)("pageIndex",n.pageIndex)("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions)}}function Vg(t,i){if(t&1&&(m(0,"ul"),g(1,$g,2,5,"li",1),se(2,Fg,1,7,"li",7,Mg,!0),g(4,Rg,1,9,"li",2),f()),t&2){let n=l();d(),D(1,n.showTotal?1:-1),d(),le(n.listOfPageItem),d(2),D(4,n.showQuickJumper||n.showSizeChanger?4:-1)}}function Ag(t,i){if(t&1){let n=V();m(0,"ul")(1,"li",1),P("click",function(){b(n);let r=l();return S(r.prePage())}),f(),m(2,"li",2)(3,"input",3),P("keydown.enter",function(r){b(n);let o=l();return S(o.jumpToPageViaInput(r))}),f(),m(4,"span",4),R(5,"/"),f(),R(6),f(),m(7,"li",5),P("click",function(){b(n);let r=l();return S(r.nextPage())}),f()()}if(t&2){let n=l();d(),u("disabled",n.isFirstIndex)("direction",n.dir)("itemRender",n.itemRender),oe("title",n.locale.prev_page),d(),oe("title",n.pageIndex+"/"+n.lastIndex),d(),u("disabled",n.disabled)("value",n.pageIndex),d(3),ee(" ",n.lastIndex," "),d(),u("disabled",n.isLastIndex)("direction",n.dir)("itemRender",n.itemRender),oe("title",n.locale==null?null:n.locale.next_page)}}function Hg(t,i){}function Lg(t,i){if(t&1&&g(0,Hg,0,0,"ng-template",4),t&2){l(2);let n=q(2);u("ngTemplateOutlet",n.template)}}function jg(t,i){}function Bg(t,i){if(t&1&&g(0,jg,0,0,"ng-template",4),t&2){l(2);let n=q(4);u("ngTemplateOutlet",n.template)}}function Wg(t,i){if(t&1&&g(0,Lg,1,1,null,4)(1,Bg,1,1),t&2){let n=l();D(0,n.nzSimple?0:1)}}var Bl=(()=>{let i=class i{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new W,this.gotoIndex=new W,this.title=null}clickItem(){this.disabled||(this.type==="page"?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(e){let{locale:r,index:o,type:a}=e;(r||o||a)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(r,o){r&1&&P("click",function(){return o.clickItem()}),r&2&&(oe("title",o.title),A("ant-pagination-prev",o.type==="prev")("ant-pagination-next",o.type==="next")("ant-pagination-item",o.type==="page")("ant-pagination-jump-prev",o.type==="prev_5")("ant-pagination-jump-prev-custom-icon",o.type==="prev_5")("ant-pagination-jump-next",o.type==="next_5")("ant-pagination-jump-next-custom-icon",o.type==="next_5")("ant-pagination-disabled",o.disabled)("ant-pagination-item-active",o.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},standalone:!0,features:[re,Y],attrs:cg,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],[1,"ant-pagination-item-link"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon"]],template:function(r,o){if(r&1&&g(0,Sg,4,1,"ng-template",null,0,he)(2,Tg,0,0,"ng-template",1),r&2){let a=q(1);d(2),u("ngTemplateOutlet",o.itemRender||a)("ngTemplateOutletContext",vi(2,wg,o.type,o.index))}},dependencies:[Qe,Le,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),Eh=(()=>{let i=class i{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new W,this.pageSizeChange=new W,this.listOfPageSizeOption=[]}onPageSizeChange(e){this.pageSize!==e&&this.pageSizeChange.next(e)}jumpToPageViaInput(e){let r=e.target,o=Math.floor(Nl(r.value,this.pageIndex));this.pageIndexChange.next(o),r.value=""}ngOnChanges(e){let{pageSize:r,pageSizeOptions:o,locale:a}=e;(r||o||a)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(s=>({value:s,label:`${s} ${this.locale.items_per_page}`})))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[re,Y],attrs:kg,decls:2,vars:2,consts:[["class","ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],["class","ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange"],[3,"nzLabel","nzValue"],[1,"ant-pagination-options-quick-jumper"],[3,"disabled","keydown.enter"]],template:function(r,o){r&1&&g(0,Pg,3,3,"nz-select",0)(1,Eg,4,3,"div",1),r&2&&(D(0,o.showSizeChanger?0:-1),d(),D(1,o.showQuickJumper?1:-1))},dependencies:[On,ts,is,vt,dt,tt],encapsulation:2,changeDetection:0});let t=i;return t})(),Mh=(()=>{let i=class i{constructor(e,r,o,a){this.cdr=e,this.renderer=r,this.elementRef=o,this.directionality=a,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new W,this.pageSizeChange=new W,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new ne,r.removeChild(r.parentNode(o.nativeElement),o.nativeElement)}ngOnInit(){this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(e){this.onPageIndexChange(e)}jumpDiff(e){this.jumpPage(this.pageIndex+e)}trackByPageItem(e,r){return`${r.type}-${r.index}`}onPageIndexChange(e){this.pageIndexChange.next(e)}onPageSizeChange(e){this.pageSizeChange.next(e)}getLastIndex(e,r){return Math.ceil(e/r)}buildIndexes(){let e=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,e)}getListOfPageItem(e,r){let o=s=>{let c={type:"prev",disabled:e===1},p={type:"next",disabled:e===r};return[c,...s,p]},a=(s,c)=>{let p=[];for(let h=s;h<=c;h++)p.push({index:h,type:"page"});return p};return r<=9?o(a(1,r)):o(((c,p)=>{let h=[],_={type:"prev_5"},v={type:"next_5"},y=a(1,1),k=a(r,r);if(c<5)h=[...a(2,c===4?6:5),v];else if(c<p-3)h=[_,...a(c-2,c+2),v];else{let T=c===p-3?p-5:p-4;h=[_,...a(T,p-1)]}return[...y,...h,...k]})(e,r))}ngOnChanges(e){let{pageIndex:r,pageSize:o,total:a}=e;(r||o||a)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}};i.\u0275fac=function(r){return new(r||i)(w(xe),w(Fe),w(de),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-pagination-default"]],viewQuery:function(r,o){if(r&1&&me(Ph,7),r&2){let a;te(a=ie())&&(o.template=a.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[re,Y],decls:2,vars:0,consts:[["containerTemplate",""],["class","ant-pagination-total-text"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[1,"ant-pagination-total-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"]],template:function(r,o){r&1&&g(0,Vg,5,2,"ng-template",null,0,he)},dependencies:[ge,Bl,Eh],encapsulation:2,changeDetection:0});let t=i;return t})(),Oh=(()=>{let i=class i{constructor(e,r,o,a){this.cdr=e,this.renderer=r,this.elementRef=o,this.directionality=a,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new W,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new ne,r.removeChild(r.parentNode(o.nativeElement),o.nativeElement)}ngOnInit(){this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(e){let r=e.target,o=Nl(r.value,this.pageIndex);this.onPageIndexChange(o),r.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(e){this.pageIndexChange.next(e)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=this.pageIndex===1,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(e){let{pageIndex:r,total:o,pageSize:a}=e;(r||o||a)&&this.updateBindingValue()}};i.\u0275fac=function(r){return new(r||i)(w(xe),w(Fe),w(de),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-pagination-simple"]],viewQuery:function(r,o){if(r&1&&me(Ph,7),r&2){let a;te(a=ie())&&(o.template=a.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},standalone:!0,features:[re,Y],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"disabled","direction","itemRender","click"],[1,"ant-pagination-simple-pager"],["size","3",3,"disabled","value","keydown.enter"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"disabled","direction","itemRender","click"]],template:function(r,o){r&1&&g(0,Ag,8,12,"ng-template",null,0,he)},dependencies:[Bl],encapsulation:2,changeDetection:0});let t=i;return t})(),qg="pagination",Wl=(()=>{let i=class i{validatePageIndex(e,r){return e>r?r:e<1?1:e}onPageIndexChange(e){let r=this.getLastIndex(this.nzTotal,this.nzPageSize),o=this.validatePageIndex(e,r);o!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=o,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(e){this.nzPageSize=e,this.nzPageSizeChange.emit(e);let r=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>r&&this.onPageIndexChange(r)}onTotalChange(e){let r=this.getLastIndex(e,this.nzPageSize);this.nzPageIndex>r&&Promise.resolve().then(()=>{this.onPageIndexChange(r),this.cdr.markForCheck()})}getLastIndex(e,r){return Math.ceil(e/r)}constructor(e,r,o,a,s){this.i18n=e,this.cdr=r,this.breakpointService=o,this.nzConfigService=a,this.directionality=s,this._nzModuleName=qg,this.nzPageSizeChange=new W,this.nzPageIndexChange=new W,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new ne,this.total$=new _t(1)}ngOnInit(){this.i18n.localeChange.pipe($(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe($(this.destroy$)).subscribe(e=>{this.onTotalChange(e)}),this.breakpointService.subscribe(Ru).pipe($(this.destroy$)).subscribe(e=>{this.nzResponsive&&(this.size=e===Fu.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzHideOnSinglePage:r,nzTotal:o,nzPageSize:a,nzSize:s}=e;o&&this.total$.next(this.nzTotal),(r||o||a)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),s&&(this.size=s.currentValue)}};i.\u0275fac=function(r){return new(r||i)(w(Vi),w(xe),w(Vu),w(Ut),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(r,o){r&2&&A("ant-pagination-simple",o.nzSimple)("ant-pagination-disabled",o.nzDisabled)("mini",!o.nzSimple&&o.size==="small")("ant-pagination-rtl",o.dir==="rtl")},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],standalone:!0,features:[re,Y],decls:5,vars:18,consts:[[3,"disabled","itemRender","locale","pageSize","total","pageIndex","pageIndexChange"],["simplePagination",""],[3,"nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"],["defaultPagination",""],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(g(0,Wg,2,1),m(1,"nz-pagination-simple",0,1),P("pageIndexChange",function(s){return o.onPageIndexChange(s)}),f(),m(3,"nz-pagination-default",2,3),P("pageIndexChange",function(s){return o.onPageIndexChange(s)})("pageSizeChange",function(s){return o.onPageSizeChange(s)}),f()),r&2&&(D(0,o.showPagination?0:-1),d(),u("disabled",o.nzDisabled)("itemRender",o.nzItemRender)("locale",o.locale)("pageSize",o.nzPageSize)("total",o.nzTotal)("pageIndex",o.nzPageIndex),d(2),u("nzSize",o.size)("itemRender",o.nzItemRender)("showTotal",o.nzShowTotal)("disabled",o.nzDisabled)("locale",o.locale)("showSizeChanger",o.nzShowSizeChanger)("showQuickJumper",o.nzShowQuickJumper)("total",o.nzTotal)("pageIndex",o.nzPageIndex)("pageSize",o.nzPageSize)("pageSizeOptions",o.nzPageSizeOptions))},dependencies:[ge,Oh,Mh],encapsulation:2,changeDetection:0});let t=i;return H([Pe()],t.prototype,"nzSize",void 0),H([Pe()],t.prototype,"nzPageSizeOptions",void 0),H([Pe(),X()],t.prototype,"nzShowSizeChanger",void 0),H([Pe(),X()],t.prototype,"nzShowQuickJumper",void 0),H([Pe(),X()],t.prototype,"nzSimple",void 0),H([X()],t.prototype,"nzDisabled",void 0),H([X()],t.prototype,"nzResponsive",void 0),H([X()],t.prototype,"nzHideOnSinglePage",void 0),H([Xn()],t.prototype,"nzTotal",void 0),H([Xn()],t.prototype,"nzPageIndex",void 0),H([Xn()],t.prototype,"nzPageSize",void 0),t})(),Nh=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Wl,Oh,Eh,Bl,Mh]});let t=i;return t})();var $0=qp(Sd(),1),F0=qp(h0(),1);var ax=["hourListElement"],sx=["minuteListElement"],lx=["secondListElement"],cx=["use12HoursListElement"];function dx(t,i){if(t&1&&(m(0,"div",4)(1,"div",5),R(2),f()()),t&2){let n=l();d(2),ae(n.dateHelper.format(n.time==null?null:n.time.value,n.format)||"\xA0")}}function px(t,i){if(t&1){let n=V();m(0,"li",10),P("click",function(){b(n);let r=l().$implicit,o=l(2);return S(o.selectHour(r))}),m(1,"div",11),R(2),At(3,"number"),f()()}if(t&2){let n=l().$implicit,e=l(2);A("ant-picker-time-panel-cell-selected",e.isSelectedHour(n))("ant-picker-time-panel-cell-disabled",n.disabled),d(2),ae(wa(3,5,n.index,"2.0-0"))}}function ux(t,i){if(t&1&&(pe(0),g(1,px,4,8,"li",9),ue()),t&2){let n=i.$implicit,e=l(2);d(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function hx(t,i){if(t&1&&(m(0,"ul",6,7),g(2,ux,2,1,"ng-container",8),f()),t&2){let n=l();d(2),u("ngForOf",n.hourRange)("ngForTrackBy",n.trackByFn)}}function mx(t,i){if(t&1){let n=V();m(0,"li",10),P("click",function(){b(n);let r=l().$implicit,o=l(2);return S(o.selectMinute(r))}),m(1,"div",11),R(2),At(3,"number"),f()()}if(t&2){let n=l().$implicit,e=l(2);A("ant-picker-time-panel-cell-selected",e.isSelectedMinute(n))("ant-picker-time-panel-cell-disabled",n.disabled),d(2),ae(wa(3,5,n.index,"2.0-0"))}}function fx(t,i){if(t&1&&(pe(0),g(1,mx,4,8,"li",9),ue()),t&2){let n=i.$implicit,e=l(2);d(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function _x(t,i){if(t&1&&(m(0,"ul",6,12),g(2,fx,2,1,"ng-container",8),f()),t&2){let n=l();d(2),u("ngForOf",n.minuteRange)("ngForTrackBy",n.trackByFn)}}function gx(t,i){if(t&1){let n=V();m(0,"li",10),P("click",function(){b(n);let r=l().$implicit,o=l(2);return S(o.selectSecond(r))}),m(1,"div",11),R(2),At(3,"number"),f()()}if(t&2){let n=l().$implicit,e=l(2);A("ant-picker-time-panel-cell-selected",e.isSelectedSecond(n))("ant-picker-time-panel-cell-disabled",n.disabled),d(2),ae(wa(3,5,n.index,"2.0-0"))}}function Cx(t,i){if(t&1&&(pe(0),g(1,gx,4,8,"li",9),ue()),t&2){let n=i.$implicit,e=l(2);d(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function yx(t,i){if(t&1&&(m(0,"ul",6,13),g(2,Cx,2,1,"ng-container",8),f()),t&2){let n=l();d(2),u("ngForOf",n.secondRange)("ngForTrackBy",n.trackByFn)}}function vx(t,i){if(t&1){let n=V();pe(0),m(1,"li",10),P("click",function(){let o=b(n).$implicit,a=l(2);return S(a.select12Hours(o))}),m(2,"div",11),R(3),f()(),ue()}if(t&2){let n=i.$implicit,e=l(2);d(),A("ant-picker-time-panel-cell-selected",e.isSelected12Hours(n)),d(2),ae(n.value)}}function zx(t,i){if(t&1&&(m(0,"ul",6,14),g(2,vx,4,3,"ng-container",15),f()),t&2){let n=l();d(2),u("ngForOf",n.use12HoursRange)}}function xx(t,i){}function bx(t,i){if(t&1&&(m(0,"div",23),g(1,xx,0,0,"ng-template",24),f()),t&2){let n=l(2);d(),u("ngTemplateOutlet",n.nzAddOn)}}function Sx(t,i){if(t&1){let n=V();m(0,"div",16),g(1,bx,2,1,"div",17),m(2,"ul",18)(3,"li",19)(4,"a",20),P("click",function(){b(n);let r=l();return S(r.onClickNow())}),R(5),At(6,"nzI18n"),f()(),m(7,"li",21)(8,"button",22),P("click",function(){b(n);let r=l();return S(r.onClickOk())}),R(9),At(10,"nzI18n"),f()()()()}if(t&2){let n=l();d(),u("ngIf",n.nzAddOn),d(4),ee(" ",n.nzNowText||ri(6,3,"Calendar.lang.now")," "),d(4),ee(" ",n.nzOkText||ri(10,5,"Calendar.lang.ok")," ")}}var Tx=["inputElement"];function wx(t,i){if(t&1&&(pe(0),N(1,"span",8),ue()),t&2){let n=i.$implicit;d(),u("nzType",n)}}function kx(t,i){if(t&1&&N(0,"nz-form-item-feedback-icon",9),t&2){let n=l();u("status",n.status)}}function Dx(t,i){if(t&1){let n=V();m(0,"span",10),P("click",function(r){b(n);let o=l();return S(o.onClickClearBtn(r))}),N(1,"span",11),f()}if(t&2){let n=l();d(),oe("aria-label",n.nzClearText)("title",n.nzClearText)}}function Ix(t,i){if(t&1){let n=V();m(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.value,r)||(o.value=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o.onPanelValueChange(r))})("closePanel",function(){b(n);let r=l();return S(r.closePanel())}),At(4,"async"),f()()()()}if(t&2){let n=l();u("@slideMotion","enter"),d(3),u("ngClass",n.nzPopupClassName)("format",n.nzFormat)("nzHourStep",n.nzHourStep)("nzMinuteStep",n.nzMinuteStep)("nzSecondStep",n.nzSecondStep)("nzDisabledHours",n.nzDisabledHours)("nzDisabledMinutes",n.nzDisabledMinutes)("nzDisabledSeconds",n.nzDisabledSeconds)("nzPlaceHolder",n.nzPlaceHolder||ri(4,19,n.i18nPlaceHolder$))("nzHideDisabledOptions",n.nzHideDisabledOptions)("nzUse12Hours",n.nzUse12Hours)("nzDefaultOpenValue",n.nzDefaultOpenValue)("nzAddOn",n.nzAddOn)("nzClearText",n.nzClearText)("nzNowText",n.nzNowText)("nzOkText",n.nzOkText)("nzAllowEmpty",n.nzAllowEmpty),ot("ngModel",n.value)}}var Md=class{setMinutes(i,n){return n||(this.initValue(),this.value.setMinutes(i),this.update()),this}setHours(i,n){return n||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&i!==12?this.value.setHours(i+12):this.selected12Hours==="AM"&&i===12?this.value.setHours(0):this.value.setHours(i):this.value.setHours(i),this.update()),this}setSeconds(i,n){return n||(this.initValue(),this.value.setSeconds(i),this.update()),this}setUse12Hours(i){return this._use12Hours=i,this}get changes(){return this._changes.asObservable()}setValue(i,n){return yt(n)&&(this._use12Hours=n),i!==this.value&&(this._value=i,yt(this.value)?this._use12Hours&&yt(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){$r(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(yt(this.hours)||yt(this.minutes)||yt(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(yt(this.hours)&&this.value.setHours(this.hours),yt(this.minutes)&&this.value.setMinutes(this.minutes),yt(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&yt(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(i){i.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=i.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(i){return this._defaultOpenValue=i,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new ne}calculateViewHour(i){let n=this.selected12Hours;return n==="PM"&&i>12?i-12:n==="AM"&&i===0?12:i}};function Ed(t,i=1,n=0){return new Array(Math.ceil(t/i)).fill(0).map((e,r)=>(r+n)*i)}var Zs=(()=>{let i=class i{set nzAllowEmpty(e){yt(e)&&(this._allowEmpty=e)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){yt(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){yt(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(yt(e)){this._format=e,this.enabledColumns=0;let r=new Set(e);this.hourEnabled=r.has("H")||r.has("h"),this.minuteEnabled=r.has("m"),this.secondEnabled=r.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){yt(e)&&(this._nzHourStep=e,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){yt(e)&&(this._nzMinuteStep=e,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){yt(e)&&(this._nzSecondStep=e,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(e){return e}buildHours(){let e=24,r=this.nzDisabledHours?.(),o=0;if(this.nzUse12Hours&&(e=12,r&&(this.time.selected12Hours==="PM"?r=r.filter(a=>a>=12).map(a=>a>12?a-12:a):r=r.filter(a=>a<12||a===24).map(a=>a===24||a===0?12:a)),o=1),this.hourRange=Ed(e,this.nzHourStep,o).map(a=>({index:a,disabled:!!r&&r.indexOf(a)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let a=[...this.hourRange];a.unshift(a[a.length-1]),a.splice(a.length-1,1),this.hourRange=a}}buildMinutes(){this.minuteRange=Ed(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=Ed(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let o=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,o,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,r,o=0,a){if(!e)return;let s=this.translateIndex(r,a),c=e.children[s]||e.children[0];this.scrollTo(e,c.offsetTop,o)}translateIndex(e,r){return r==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(o=>o.index).indexOf(e)):r==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(o=>o.index).indexOf(e)):r==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(o=>o.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(o=>o.index).indexOf(e))}scrollTo(e,r,o){if(o<=0){e.scrollTop=r;return}let s=(r-e.scrollTop)/o*10;this.ngZone.runOutsideAngular(()=>{Ou(()=>{e.scrollTop=e.scrollTop+s,e.scrollTop!==r&&this.scrollTo(e,r,o-10)})})}calcIndex(e,r){return e?.length&&this.nzHideDisabledOptions?r-e.reduce((o,a)=>o+(a<r?1:0),0):r}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let r=e.getHours(),o=e.getMinutes(),a=e.getSeconds();return(this.nzDisabledHours?.().indexOf(r)??-1)>-1||(this.nzDisabledMinutes?.(r).indexOf(o)??-1)>-1||(this.nzDisabledSeconds?.(r,o).indexOf(a)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,r,o,a){this.ngZone=e,this.cdr=r,this.dateHelper=o,this.elementRef=a,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new ne,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new Md,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new W}ngOnInit(){this.time.changes.pipe($(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),St(this.elementRef.nativeElement,"mousedown").pipe($(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:r,nzDefaultOpenValue:o}=e;!r?.previousValue&&r?.currentValue&&(this.build12Hours(),this.enabledColumns++),o?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}};i.\u0275fac=function(r){return new(r||i)(w(Ye),w(xe),w(Ai),w(de))},i.\u0275cmp=L({type:i,selectors:[["nz-time-picker-panel"]],viewQuery:function(r,o){if(r&1&&(me(ax,5),me(sx,5),me(lx,5),me(cx,5)),r&2){let a;te(a=ie())&&(o.hourListElement=a.first),te(a=ie())&&(o.minuteListElement=a.first),te(a=ie())&&(o.secondListElement=a.first),te(a=ie())&&(o.use12HoursListElement=a.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(r,o){r&2&&A("ant-picker-time-panel-column-0",o.enabledColumns===0&&!o.nzInDatePicker)("ant-picker-time-panel-column-1",o.enabledColumns===1&&!o.nzInDatePicker)("ant-picker-time-panel-column-2",o.enabledColumns===2&&!o.nzInDatePicker)("ant-picker-time-panel-column-3",o.enabledColumns===3&&!o.nzInDatePicker)("ant-picker-time-panel-narrow",o.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!o.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:"nzUse12Hours",nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[ct([{provide:Pn,useExisting:i,multi:!0}]),re,Y],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(g(0,dx,3,1,"div",0),m(1,"div",1),g(2,hx,3,2,"ul",2)(3,_x,3,2,"ul",2)(4,yx,3,2,"ul",2)(5,zx,3,1,"ul",2),f(),g(6,Sx,11,7,"div",3)),r&2&&(u("ngIf",o.nzInDatePicker),d(2),u("ngIf",o.hourEnabled),d(),u("ngIf",o.minuteEnabled),d(),u("ngIf",o.secondEnabled),d(),u("ngIf",o.nzUse12Hours),d(),u("ngIf",!o.nzInDatePicker))},dependencies:[Nt,zi,Or,ge,Aa,Va,ai,Ri,Yt,Fi],encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzUse12Hours",void 0),t})(),Px="timePicker",Ex=(()=>{let i=class i{emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,r=!1){r&&(this.preValue=Oo(e)?new Date(e):null),this.value=Oo(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){this.element.nativeElement.contains(e.target)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&Oo(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(e,r,o,a,s,c,p,h,_,v){this.nzConfigService=e,this.i18n=r,this.element=o,this.renderer=a,this.cdr=s,this.dateHelper=c,this.platform=p,this.directionality=h,this.nzFormStatusService=_,this.nzFormNoStatusService=v,this._nzModuleName=Px,this.destroy$=new ne,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=Bt(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new W,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Ei((e,r)=>e.status===r.status&&e.hasFeedback===r.hasFeedback),Ta(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Bt(!1)),Te(([{status:e,hasFeedback:r},o])=>({status:o?"":e,hasFeedback:r})),$(this.destroy$)).subscribe(({status:e,hasFeedback:r})=>{this.setStatusStyles(e,r)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new $a(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(Te(e=>e.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzUse12Hours:r,nzFormat:o,nzDisabled:a,nzAutoFocus:s,nzStatus:c}=e;if(r&&!r.previousValue&&r.currentValue&&!o&&(this.nzFormat="h:mm:ss a"),a){let p=a.currentValue,h=this.inputRef.nativeElement;p?this.renderer.setAttribute(h,"disabled",""):this.renderer.removeAttribute(h,"disabled")}s&&this.updateAutoFocus(),c&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){let r=this.dateHelper.parseTime(e,this.nzFormat)||null;Oo(r)&&(this.value=r,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let r;e instanceof Date?r=e:$r(e)?r=null:(fu('Non-Date type is not recommended for time-picker, use "Date" type.'),r=new Date(e)),this.setValue(r,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(e){if(!e)return!0;let r=this.nzDisabledHours?.(),o=this.nzDisabledMinutes?.(e.getHours()),a=this.nzDisabledSeconds?.(e.getHours(),e.getMinutes());return!(r?.includes(e.getHours())||o?.includes(e.getMinutes())||a?.includes(e.getSeconds()))}setStatusStyles(e,r){this.status=e,this.hasFeedback=r,this.cdr.markForCheck(),this.statusCls=Ma(this.prefixCls,e,r),Object.keys(this.statusCls).forEach(o=>{this.statusCls[o]?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)})}};i.\u0275fac=function(r){return new(r||i)(w(Ut),w(Vi),w(de),w(Fe),w(xe),w(Ai),w(oi),w(Ct,8),w(_i,8),w(Ka,8))},i.\u0275cmp=L({type:i,selectors:[["nz-time-picker"]],viewQuery:function(r,o){if(r&1&&me(Tx,7),r&2){let a;te(a=ie())&&(o.inputRef=a.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(r,o){r&1&&P("click",function(){return o.open()}),r&2&&A("ant-picker-large",o.nzSize==="large")("ant-picker-small",o.nzSize==="small")("ant-picker-disabled",o.nzDisabled)("ant-picker-focused",o.focused)("ant-picker-rtl",o.dir==="rtl")("ant-picker-borderless",o.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:"nzUse12Hours",nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:"nzHideDisabledOptions",nzAllowEmpty:"nzAllowEmpty",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzBackdrop:"nzBackdrop",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[ct([{provide:Pn,useExisting:i,multi:!0}]),re,Y],decls:9,vars:16,consts:[[1,"ant-picker-input"],["type","text","autocomplete","off",3,"size","placeholder","ngModel","disabled","readOnly","ngModelChange","focus","blur","keyup.enter","keyup.escape"],["inputElement",""],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","detach","overlayOutsideClick"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel","ngModelChange","closePanel"]],template:function(r,o){r&1&&(m(0,"div",0)(1,"input",1,2),Je("ngModelChange",function(s){return Xe(o.inputValue,s)||(o.inputValue=s),s}),P("focus",function(){return o.onFocus(!0)})("blur",function(){return o.onFocus(!1)})("keyup.enter",function(){return o.onKeyupEnter()})("keyup.escape",function(){return o.onKeyupEsc()})("ngModelChange",function(s){return o.onInputChange(s)}),At(3,"async"),f(),m(4,"span",3),g(5,wx,2,1,"ng-container",4)(6,kx,1,1,"nz-form-item-feedback-icon",5),f(),g(7,Dx,2,2,"span",6),f(),g(8,Ix,5,21,"ng-template",7),P("detach",function(){return o.close()})("overlayOutsideClick",function(s){return o.onClickOutside(s)})),r&2&&(d(),u("size",o.inputSize)("placeholder",o.nzPlaceHolder||ri(3,14,o.i18nPlaceHolder$)),ot("ngModel",o.inputValue),u("disabled",o.nzDisabled)("readOnly",o.nzInputReadOnly),oe("id",o.nzId),d(4),u("nzStringTemplateOutlet",o.nzSuffixIcon),d(),u("ngIf",o.hasFeedback&&!!o.status),d(),u("ngIf",o.nzAllowEmpty&&!o.nzDisabled&&o.value),d(),u("cdkConnectedOverlayHasBackdrop",o.nzBackdrop)("cdkConnectedOverlayPositions",o.overlayPositions)("cdkConnectedOverlayOrigin",o.origin)("cdkConnectedOverlayOpen",o.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[Do,vt,zn,dt,tt,Qt,Ft,Qe,Le,Za,Ga,Nt,Zs,Mt,Vr,Rr,Fa,Jn],encapsulation:2,data:{animation:[Ua]},changeDetection:0});let t=i;return H([Pe()],t.prototype,"nzHourStep",void 0),H([Pe()],t.prototype,"nzMinuteStep",void 0),H([Pe()],t.prototype,"nzSecondStep",void 0),H([Pe()],t.prototype,"nzClearText",void 0),H([Pe()],t.prototype,"nzNowText",void 0),H([Pe()],t.prototype,"nzOkText",void 0),H([Pe()],t.prototype,"nzPopupClassName",void 0),H([Pe()],t.prototype,"nzFormat",void 0),H([Pe(),X()],t.prototype,"nzUse12Hours",void 0),H([Pe()],t.prototype,"nzSuffixIcon",void 0),H([X()],t.prototype,"nzHideDisabledOptions",void 0),H([Pe(),X()],t.prototype,"nzAllowEmpty",void 0),H([X()],t.prototype,"nzDisabled",void 0),H([X()],t.prototype,"nzAutoFocus",void 0),H([Pe()],t.prototype,"nzBackdrop",void 0),H([X()],t.prototype,"nzBorderless",void 0),H([X()],t.prototype,"nzInputReadOnly",void 0),t})(),ho=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Ex,Zs]});let t=i;return t})();function Ox(t,i){t&1&&Ze(0)}function Nx(t,i){if(t&1&&g(0,Ox,1,0,"ng-container",3),t&2){let n=l(2);u("ngTemplateOutlet",n.extraFooter)}}function $x(t,i){if(t&1&&N(0,"span",2),t&2){let n=l(2);u("innerHTML",n.extraFooter,Ke)}}function Fx(t,i){if(t&1&&(m(0,"div"),g(1,Nx,1,1,"ng-container")(2,$x,1,1,"span",2),f()),t&2){let n=l();Z("",n.prefixCls,"-footer-extra"),d(),D(1,n.isExtraFooterTemplateRef?1:-1),d(),D(2,n.isExtraFooterNonEmptyString?2:-1)}}function Rx(t,i){if(t&1){let n=V();m(0,"a",4),P("click",function(){b(n);let r=l();return S(r.isTodayDisabled?null:r.onClickToday())}),R(1),f()}if(t&2){let n=l();Mr("",n.prefixCls,"-today-btn ",n.isTodayDisabled?n.prefixCls+"-today-btn-disabled":"",""),Re("title",n.todayTitle),d(),ee(" ",n.locale.today," ")}}function Vx(t,i){t&1&&Ze(0)}function Ax(t,i){if(t&1){let n=V();m(0,"li")(1,"a",5),P("click",function(){b(n);let r=l(2);return S(r.isTodayDisabled?null:r.onClickToday())}),R(2),f()()}if(t&2){let n=l(2);Z("",n.prefixCls,"-now"),d(),Z("",n.prefixCls,"-now-btn"),d(),ee(" ",n.locale.now," ")}}function Hx(t,i){if(t&1){let n=V();m(0,"li")(1,"button",6),P("click",function(){b(n);let r=l(2);return S(r.okDisabled?null:r.clickOk.emit())}),R(2),f()()}if(t&2){let n=l(2);Z("",n.prefixCls,"-ok"),d(),u("disabled",n.okDisabled),d(),ee(" ",n.locale.ok," ")}}function Lx(t,i){if(t&1&&(m(0,"ul"),g(1,Vx,1,0,"ng-container",3)(2,Ax,3,7,"li",0)(3,Hx,3,5,"li",0),f()),t&2){let n=l();Z("",n.prefixCls,"-ranges"),d(),u("ngTemplateOutlet",n.rangeQuickSelector),d(),D(2,n.showNow?2:-1),d(),D(3,n.hasTimePicker?3:-1)}}function jx(t,i){if(t&1){let n=V();m(0,"button",5),P("click",function(){let o=b(n).$implicit;return S(o.onClick())}),R(1),f()}if(t&2){let n=i.$implicit;Ni(n.className),Re("title",n.title||null),d(),ee(" ",n.label," ")}}var qn=(t,i)=>i.trackByIndex;function Bx(t,i){t&1&&N(0,"th",2)}function Wx(t,i){if(t&1&&(m(0,"th",3),R(1),f()),t&2){let n=i.$implicit;Re("title",n.title),d(),ee(" ",n.content," ")}}function qx(t,i){if(t&1&&(m(0,"thead")(1,"tr",1),g(2,Bx,1,0,"th",2),se(3,Wx,2,2,"th",3,qt),f()()),t&2){let n=l();d(2),D(2,n.showWeek?2:-1),d(),le(n.headRow)}}function Ux(t,i){if(t&1&&(m(0,"td",6),R(1),f()),t&2){let n=l().$implicit,e=l();Z("",e.prefixCls,"-cell-week"),d(),ee(" ",n.weekNum," ")}}function Yx(t,i){t&1&&Ze(0)}var Ii=t=>({$implicit:t});function Qx(t,i){if(t&1&&g(0,Yx,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function Kx(t,i){if(t&1&&N(0,"span",9),t&2){let n=l(2).$implicit;u("innerHTML",n.cellRender,Ke)}}function Gx(t,i){if(t&1&&(m(0,"div"),R(1),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-cell-inner"),oe("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),ee(" ",n.content," ")}}function Zx(t,i){if(t&1&&g(0,Qx,1,4,"ng-container")(1,Kx,1,1)(2,Gx,2,6),t&2){let n=l().$implicit;D(0,n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function Xx(t,i){t&1&&Ze(0)}function Jx(t,i){if(t&1&&g(0,Xx,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function eb(t,i){t&1&&Ze(0)}function tb(t,i){if(t&1&&(m(0,"div"),R(1),f(),m(2,"div"),g(3,eb,1,0,"ng-container",8),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-date-value"),d(),ae(n.content),d(),Z("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(9,Ii,n.value))}}function ib(t,i){if(t&1&&(m(0,"div"),g(1,Jx,1,4,"ng-container")(2,tb,4,11),f()),t&2){let n=l().$implicit,e=l(2);Z("",e.prefixCls,"-date ant-picker-cell-inner"),A("ant-picker-calendar-date-today",n.isToday),d(),D(1,n.fullCellRender?1:2)}}function nb(t,i){if(t&1){let n=V();m(0,"td",7),P("click",function(){let o=b(n).$implicit;return S(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=b(n).$implicit;return S(o.onMouseEnter())}),g(1,Zx,3,1)(2,ib,3,6),f()}if(t&2){let n=i.$implicit,e=l(2),r;Re("title",n.title),u("ngClass",n.classMap),d(),D(1,(r=e.prefixCls)==="ant-picker"?1:r==="ant-picker-calendar"?2:-1)}}function rb(t,i){if(t&1&&(m(0,"tr",4),g(1,Ux,2,4,"td",5),se(2,nb,3,3,"td",10,qn),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),D(1,n.weekNum?1:-1),d(),le(n.dateCells)}}function ob(t,i){if(t&1){let n=V();m(0,"button",5),P("click",function(){let o=b(n).$implicit;return S(o.onClick())}),R(1),f()}if(t&2){let n=i.$implicit;Ni(n.className),Re("title",n.title||null),d(),ee(" ",n.label," ")}}function ab(t,i){t&1&&N(0,"th",2)}function sb(t,i){if(t&1&&(m(0,"th",3),R(1),f()),t&2){let n=i.$implicit;Re("title",n.title),d(),ee(" ",n.content," ")}}function lb(t,i){if(t&1&&(m(0,"thead")(1,"tr",1),g(2,ab,1,0,"th",2),se(3,sb,2,2,"th",3,qt),f()()),t&2){let n=l();d(2),D(2,n.showWeek?2:-1),d(),le(n.headRow)}}function cb(t,i){if(t&1&&(m(0,"td",6),R(1),f()),t&2){let n=l().$implicit,e=l();Z("",e.prefixCls,"-cell-week"),d(),ee(" ",n.weekNum," ")}}function db(t,i){t&1&&Ze(0)}function pb(t,i){if(t&1&&g(0,db,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function ub(t,i){if(t&1&&N(0,"span",9),t&2){let n=l(2).$implicit;u("innerHTML",n.cellRender,Ke)}}function hb(t,i){if(t&1&&(m(0,"div"),R(1),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-cell-inner"),oe("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),ee(" ",n.content," ")}}function mb(t,i){if(t&1&&g(0,pb,1,4,"ng-container")(1,ub,1,1)(2,hb,2,6),t&2){let n=l().$implicit;D(0,n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function fb(t,i){t&1&&Ze(0)}function _b(t,i){if(t&1&&g(0,fb,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function gb(t,i){t&1&&Ze(0)}function Cb(t,i){if(t&1&&(m(0,"div"),R(1),f(),m(2,"div"),g(3,gb,1,0,"ng-container",8),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-date-value"),d(),ae(n.content),d(),Z("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(9,Ii,n.value))}}function yb(t,i){if(t&1&&(m(0,"div"),g(1,_b,1,4,"ng-container")(2,Cb,4,11),f()),t&2){let n=l().$implicit,e=l(2);Z("",e.prefixCls,"-date ant-picker-cell-inner"),A("ant-picker-calendar-date-today",n.isToday),d(),D(1,n.fullCellRender?1:2)}}function vb(t,i){if(t&1){let n=V();m(0,"td",7),P("click",function(){let o=b(n).$implicit;return S(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=b(n).$implicit;return S(o.onMouseEnter())}),g(1,mb,3,1)(2,yb,3,6),f()}if(t&2){let n=i.$implicit,e=l(2),r;Re("title",n.title),u("ngClass",n.classMap),d(),D(1,(r=e.prefixCls)==="ant-picker"?1:r==="ant-picker-calendar"?2:-1)}}function zb(t,i){if(t&1&&(m(0,"tr",4),g(1,cb,2,4,"td",5),se(2,vb,3,3,"td",10,qn),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),D(1,n.weekNum?1:-1),d(),le(n.dateCells)}}function xb(t,i){if(t&1){let n=V();m(0,"button",5),P("click",function(){let o=b(n).$implicit;return S(o.onClick())}),R(1),f()}if(t&2){let n=i.$implicit;Ni(n.className),Re("title",n.title||null),d(),ee(" ",n.label," ")}}function bb(t,i){t&1&&N(0,"th",2)}function Sb(t,i){if(t&1&&(m(0,"th",3),R(1),f()),t&2){let n=i.$implicit;Re("title",n.title),d(),ee(" ",n.content," ")}}function Tb(t,i){if(t&1&&(m(0,"thead")(1,"tr",1),g(2,bb,1,0,"th",2),se(3,Sb,2,2,"th",3,qt),f()()),t&2){let n=l();d(2),D(2,n.showWeek?2:-1),d(),le(n.headRow)}}function wb(t,i){if(t&1&&(m(0,"td",6),R(1),f()),t&2){let n=l().$implicit,e=l();Z("",e.prefixCls,"-cell-week"),d(),ee(" ",n.weekNum," ")}}function kb(t,i){t&1&&Ze(0)}function Db(t,i){if(t&1&&g(0,kb,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function Ib(t,i){if(t&1&&N(0,"span",9),t&2){let n=l(2).$implicit;u("innerHTML",n.cellRender,Ke)}}function Pb(t,i){if(t&1&&(m(0,"div"),R(1),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-cell-inner"),oe("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),ee(" ",n.content," ")}}function Eb(t,i){if(t&1&&g(0,Db,1,4,"ng-container")(1,Ib,1,1)(2,Pb,2,6),t&2){let n=l().$implicit;D(0,n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function Mb(t,i){t&1&&Ze(0)}function Ob(t,i){if(t&1&&g(0,Mb,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function Nb(t,i){t&1&&Ze(0)}function $b(t,i){if(t&1&&(m(0,"div"),R(1),f(),m(2,"div"),g(3,Nb,1,0,"ng-container",8),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-date-value"),d(),ae(n.content),d(),Z("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(9,Ii,n.value))}}function Fb(t,i){if(t&1&&(m(0,"div"),g(1,Ob,1,4,"ng-container")(2,$b,4,11),f()),t&2){let n=l().$implicit,e=l(2);Z("",e.prefixCls,"-date ant-picker-cell-inner"),A("ant-picker-calendar-date-today",n.isToday),d(),D(1,n.fullCellRender?1:2)}}function Rb(t,i){if(t&1){let n=V();m(0,"td",7),P("click",function(){let o=b(n).$implicit;return S(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=b(n).$implicit;return S(o.onMouseEnter())}),g(1,Eb,3,1)(2,Fb,3,6),f()}if(t&2){let n=i.$implicit,e=l(2),r;Re("title",n.title),u("ngClass",n.classMap),d(),D(1,(r=e.prefixCls)==="ant-picker"?1:r==="ant-picker-calendar"?2:-1)}}function Vb(t,i){if(t&1&&(m(0,"tr",4),g(1,wb,2,4,"td",5),se(2,Rb,3,3,"td",10,qn),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),D(1,n.weekNum?1:-1),d(),le(n.dateCells)}}function Ab(t,i){if(t&1){let n=V();m(0,"button",5),P("click",function(){let o=b(n).$implicit;return S(o.onClick())}),R(1),f()}if(t&2){let n=i.$implicit;Ni(n.className),Re("title",n.title||null),d(),ee(" ",n.label," ")}}function Hb(t,i){t&1&&N(0,"th",2)}function Lb(t,i){if(t&1&&(m(0,"th",3),R(1),f()),t&2){let n=i.$implicit;Re("title",n.title),d(),ee(" ",n.content," ")}}function jb(t,i){if(t&1&&(m(0,"thead")(1,"tr",1),g(2,Hb,1,0,"th",2),se(3,Lb,2,2,"th",3,qt),f()()),t&2){let n=l();d(2),D(2,n.showWeek?2:-1),d(),le(n.headRow)}}function Bb(t,i){if(t&1&&(m(0,"td",6),R(1),f()),t&2){let n=l().$implicit,e=l();Z("",e.prefixCls,"-cell-week"),d(),ee(" ",n.weekNum," ")}}function Wb(t,i){t&1&&Ze(0)}function qb(t,i){if(t&1&&g(0,Wb,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function Ub(t,i){if(t&1&&N(0,"span",9),t&2){let n=l(2).$implicit;u("innerHTML",n.cellRender,Ke)}}function Yb(t,i){if(t&1&&(m(0,"div"),R(1),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-cell-inner"),oe("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),ee(" ",n.content," ")}}function Qb(t,i){if(t&1&&g(0,qb,1,4,"ng-container")(1,Ub,1,1)(2,Yb,2,6),t&2){let n=l().$implicit;D(0,n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function Kb(t,i){t&1&&Ze(0)}function Gb(t,i){if(t&1&&g(0,Kb,1,0,"ng-container",8),t&2){let n=l(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",et(2,Ii,n.value))}}function Zb(t,i){t&1&&Ze(0)}function Xb(t,i){if(t&1&&(m(0,"div"),R(1),f(),m(2,"div"),g(3,Zb,1,0,"ng-container",8),f()),t&2){let n=l(2).$implicit,e=l(2);Z("",e.prefixCls,"-date-value"),d(),ae(n.content),d(),Z("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",et(9,Ii,n.value))}}function Jb(t,i){if(t&1&&(m(0,"div"),g(1,Gb,1,4,"ng-container")(2,Xb,4,11),f()),t&2){let n=l().$implicit,e=l(2);Z("",e.prefixCls,"-date ant-picker-cell-inner"),A("ant-picker-calendar-date-today",n.isToday),d(),D(1,n.fullCellRender?1:2)}}function eS(t,i){if(t&1){let n=V();m(0,"td",7),P("click",function(){let o=b(n).$implicit;return S(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=b(n).$implicit;return S(o.onMouseEnter())}),g(1,Qb,3,1)(2,Jb,3,6),f()}if(t&2){let n=i.$implicit,e=l(2),r;Re("title",n.title),u("ngClass",n.classMap),d(),D(1,(r=e.prefixCls)==="ant-picker"?1:r==="ant-picker-calendar"?2:-1)}}function tS(t,i){if(t&1&&(m(0,"tr",4),g(1,Bb,2,4,"td",5),se(2,eS,3,3,"td",10,qn),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),D(1,n.weekNum?1:-1),d(),le(n.dateCells)}}function iS(t,i){if(t&1){let n=V();m(0,"decade-header",1),Je("valueChange",function(r){b(n);let o=l();return Xe(o.activeDate,r)||(o.activeDate=r),S(r)}),P("panelModeChange",function(r){b(n);let o=l();return S(o.panelModeChange.emit(r))})("valueChange",function(r){b(n);let o=l();return S(o.headerChange.emit(r))}),f(),m(1,"div")(2,"decade-table",2),P("valueChange",function(r){b(n);let o=l();return S(o.onChooseDecade(r))}),f()()}if(t&2){let n=l();ot("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","decade"))("showSuperNextBtn",n.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),d(),Z("",n.prefixCls,"-body"),d(),u("activeDate",n.activeDate)("value",n.value)("locale",n.locale)("disabledDate",n.disabledDate)}}function nS(t,i){if(t&1){let n=V();m(0,"year-header",1),Je("valueChange",function(r){b(n);let o=l();return Xe(o.activeDate,r)||(o.activeDate=r),S(r)}),P("panelModeChange",function(r){b(n);let o=l();return S(o.panelModeChange.emit(r))})("valueChange",function(r){b(n);let o=l();return S(o.headerChange.emit(r))}),f(),m(1,"div")(2,"year-table",3),P("valueChange",function(r){b(n);let o=l();return S(o.onChooseYear(r))})("cellHover",function(r){b(n);let o=l();return S(o.cellHover.emit(r))}),f()()}if(t&2){let n=l();ot("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","year"))("showSuperNextBtn",n.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),d(),Z("",n.prefixCls,"-body"),d(),u("activeDate",n.activeDate)("value",n.value)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)}}function rS(t,i){if(t&1){let n=V();m(0,"month-header",1),Je("valueChange",function(r){b(n);let o=l();return Xe(o.activeDate,r)||(o.activeDate=r),S(r)}),P("panelModeChange",function(r){b(n);let o=l();return S(o.panelModeChange.emit(r))})("valueChange",function(r){b(n);let o=l();return S(o.headerChange.emit(r))}),f(),m(1,"div")(2,"month-table",4),P("valueChange",function(r){b(n);let o=l();return S(o.onChooseMonth(r))})("cellHover",function(r){b(n);let o=l();return S(o.cellHover.emit(r))}),f()()}if(t&2){let n=l();ot("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","month"))("showSuperNextBtn",n.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),d(),Z("",n.prefixCls,"-body"),d(),u("value",n.value)("activeDate",n.activeDate)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)}}function oS(t,i){if(t&1){let n=V();m(0,"date-header",5),Je("valueChange",function(r){b(n);let o=l();return Xe(o.activeDate,r)||(o.activeDate=r),S(r)}),P("panelModeChange",function(r){b(n);let o=l();return S(o.panelModeChange.emit(r))})("valueChange",function(r){b(n);let o=l();return S(o.headerChange.emit(r))}),f(),m(1,"div")(2,"date-table",6),P("valueChange",function(r){b(n);let o=l();return S(o.onSelectDate(r))})("cellHover",function(r){b(n);let o=l();return S(o.cellHover.emit(r))}),f()()}if(t&2){let n=l();ot("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.panelMode==="week"?n.enablePrevNext("prev","week"):n.enablePrevNext("prev","date"))("showSuperNextBtn",n.panelMode==="week"?n.enablePrevNext("next","week"):n.enablePrevNext("next","date"))("showPreBtn",n.panelMode==="week"?n.enablePrevNext("prev","week"):n.enablePrevNext("prev","date"))("showNextBtn",n.panelMode==="week"?n.enablePrevNext("next","week"):n.enablePrevNext("next","date")),d(),Z("",n.prefixCls,"-body"),d(),u("locale",n.locale)("showWeek",n.showWeek)("value",n.value)("activeDate",n.activeDate)("disabledDate",n.disabledDate)("cellRender",n.dateRender)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)("canSelectWeek",n.panelMode==="week")}}function aS(t,i){if(t&1){let n=V();m(0,"nz-time-picker-panel",7),P("ngModelChange",function(r){b(n);let o=l();return S(o.onSelectTime(r))}),f()}if(t&2){let n=l();u("nzInDatePicker",!0)("ngModel",n.value==null?null:n.value.nativeDate)("format",n.timeOptions.nzFormat)("nzHourStep",n.timeOptions.nzHourStep)("nzMinuteStep",n.timeOptions.nzMinuteStep)("nzSecondStep",n.timeOptions.nzSecondStep)("nzDisabledHours",n.timeOptions.nzDisabledHours)("nzDisabledMinutes",n.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",n.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!n.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",n.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!n.timeOptions.nzUse12Hours)("nzAddOn",n.timeOptions.nzAddOn)}}function sS(t,i){t&1&&Ze(0)}var lS=t=>({partType:t});function cS(t,i){if(t&1&&g(0,sS,1,0,"ng-container",5),t&2){let n=l(2),e=q(3);u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(2,lS,n.datePickerService.activeInput))}}function dS(t,i){t&1&&Ze(0)}function pS(t,i){t&1&&Ze(0)}var y0=()=>({partType:"left"}),v0=()=>({partType:"right"});function uS(t,i){if(t&1&&g(0,dS,1,0,"ng-container",5)(1,pS,1,0,"ng-container",5),t&2){l(2);let n=q(3);u("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(4,y0)),d(),u("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(5,v0))}}function hS(t,i){t&1&&Ze(0)}function mS(t,i){if(t&1&&(m(0,"div"),N(1,"div"),m(2,"div")(3,"div"),g(4,cS,1,4,"ng-container")(5,uS,2,6),f(),g(6,hS,1,0,"ng-container",4),f()()),t&2){let n=l(),e=q(5);Mr("",n.prefixCls,"-range-wrapper ",n.prefixCls,"-date-range-wrapper"),d(),tu(n.arrowPosition),Z("",n.prefixCls,"-range-arrow"),d(),Mr("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":"",""),d(),Z("",n.prefixCls,"-panels"),d(),D(4,n.hasTimePicker?4:5),d(2),u("ngTemplateOutlet",e)}}function fS(t,i){t&1&&Ze(0)}function _S(t,i){t&1&&Ze(0)}function gS(t,i){if(t&1&&(m(0,"div")(1,"div",6),g(2,fS,1,0,"ng-container",4)(3,_S,1,0,"ng-container",4),f()()),t&2){let n=l(),e=q(3),r=q(5);iu("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":""," ",n.hasTimePicker?n.prefixCls+"-time":""," ",n.isRange?n.prefixCls+"-range":"",""),d(),Z("",n.prefixCls,"-panel"),A("ant-picker-panel-rtl",n.dir==="rtl"),d(),u("ngTemplateOutlet",e),d(),u("ngTemplateOutlet",r)}}function CS(t,i){if(t&1){let n=V();m(0,"div")(1,"inner-popup",7),P("panelModeChange",function(r){let a=b(n).partType,s=l();return S(s.onPanelModeChange(r,a))})("cellHover",function(r){b(n);let o=l();return S(o.onCellHover(r))})("selectDate",function(r){b(n);let o=l();return S(o.changeValueFromSelect(r,!o.showTime))})("selectTime",function(r){let a=b(n).partType,s=l();return S(s.onSelectTime(r,a))})("headerChange",function(r){let a=b(n).partType,s=l();return S(s.onActiveDateChange(r,a))}),f()()}if(t&2){let n=i.partType,e=l();Z("",e.prefixCls,"-panel"),A("ant-picker-panel-rtl",e.dir==="rtl"),d(),u("showWeek",e.showWeek)("endPanelMode",e.getPanelMode(e.endPanelMode,n))("partType",n)("locale",e.locale)("showTimePicker",e.hasTimePicker)("timeOptions",e.getTimeOptions(n))("panelMode",e.getPanelMode(e.panelMode,n))("activeDate",e.getActiveDate(n))("value",e.getValue(n))("disabledDate",e.disabledDate)("dateRender",e.dateRender)("selectedValue",e.datePickerService==null?null:e.datePickerService.value)("hoverValue",e.hoverValue)}}function yS(t,i){if(t&1){let n=V();m(0,"calendar-footer",9),P("clickOk",function(){b(n);let r=l(2);return S(r.onClickOk())})("clickToday",function(r){b(n);let o=l(2);return S(o.onClickToday(r))}),f()}if(t&2){let n=l(2),e=q(7);u("locale",n.locale)("isRange",n.isRange)("showToday",n.showToday)("showNow",n.showNow)("hasTimePicker",n.hasTimePicker)("okDisabled",!n.isAllowed(n.datePickerService==null?null:n.datePickerService.value))("extraFooter",n.extraFooter)("rangeQuickSelector",n.ranges?e:null)}}function vS(t,i){if(t&1&&g(0,yS,1,8,"calendar-footer",8),t&2){let n=l();D(0,n.hasFooter?0:-1)}}function zS(t,i){if(t&1){let n=V();m(0,"li",10),P("click",function(){let o=b(n).$implicit,a=l(2);return S(a.onClickPresetRange(a.ranges[o]))})("mouseenter",function(){let o=b(n).$implicit,a=l(2);return S(a.onHoverPresetRange(a.ranges[o]))})("mouseleave",function(){b(n);let r=l(2);return S(r.onPresetRangeMouseLeave())}),m(1,"span",11),R(2),f()()}if(t&2){let n=i.$implicit,e=l(2);Z("",e.prefixCls,"-preset"),d(2),ae(n)}}function xS(t,i){if(t&1&&se(0,zS,3,4,"li",0,qt),t&2){let n=l();le(n.getObjectKeys(n.ranges))}}var bS=["separatorElement"],SS=["pickerInput"],TS=["rangePickerInput"];function wS(t,i){t&1&&Ze(0)}function kS(t,i){if(t&1){let n=V();m(0,"div")(1,"input",5,6),Je("ngModelChange",function(r){b(n);let o=l(2);return Xe(o.inputValue,r)||(o.inputValue=r),S(r)}),P("focus",function(r){b(n);let o=l(2);return S(o.onFocus(r))})("focusout",function(r){b(n);let o=l(2);return S(o.onFocusout(r))})("ngModelChange",function(r){b(n);let o=l(2);return S(o.onInputChange(r))})("keyup.enter",function(r){b(n);let o=l(2);return S(o.onKeyupEnter(r))}),f(),g(3,wS,1,0,"ng-container",7),f()}if(t&2){let n=l(2),e=q(5);Z("",n.prefixCls,"-input"),d(),A("ant-input-disabled",n.nzDisabled),Re("placeholder",n.getPlaceholder()),u("disabled",n.nzDisabled)("readOnly",n.nzInputReadOnly),ot("ngModel",n.inputValue),u("size",n.inputSize),oe("id",n.nzId),d(2),u("ngTemplateOutlet",e)}}function DS(t,i){t&1&&Ze(0)}function IS(t,i){if(t&1&&R(0),t&2){let n=l(4);ee(" ",n.nzSeparator," ")}}function PS(t,i){t&1&&N(0,"span",11)}function ES(t,i){if(t&1&&(pe(0),g(1,IS,1,1)(2,PS,1,0),ue()),t&2){let n=l(3);d(),D(1,n.nzSeparator?1:2)}}function MS(t,i){t&1&&Ze(0)}function OS(t,i){t&1&&Ze(0)}function NS(t,i){if(t&1&&(m(0,"div"),g(1,DS,1,0,"ng-container",8),f(),m(2,"div",null,9)(4,"span"),g(5,ES,3,1,"ng-container",10),f()(),m(6,"div"),g(7,MS,1,0,"ng-container",8),f(),g(8,OS,1,0,"ng-container",7)),t&2){let n=l(2),e=q(3),r=q(5);Z("",n.prefixCls,"-input"),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",ni(18,y0)),d(),Z("",n.prefixCls,"-range-separator"),d(2),Z("",n.prefixCls,"-separator"),d(),u("nzStringTemplateOutlet",n.nzSeparator),d(),Z("",n.prefixCls,"-input"),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",ni(19,v0)),d(),u("ngTemplateOutlet",r)}}function $S(t,i){if(t&1&&g(0,kS,4,12,"div",4)(1,NS,9,20),t&2){let n=l();D(0,n.isRange?1:0)}}function FS(t,i){}function RS(t,i){if(t&1&&g(0,FS,0,0,"ng-template",12),t&2){l();let n=q(7);u("ngTemplateOutlet",n)}}function VS(t,i){if(t&1){let n=V();m(0,"input",13,14),P("click",function(r){b(n);let o=l();return S(o.onClickInputBox(r))})("focusout",function(r){b(n);let o=l();return S(o.onFocusout(r))})("focus",function(r){let a=b(n).partType,s=l();return S(s.onFocus(r,a))})("keyup.enter",function(r){b(n);let o=l();return S(o.onKeyupEnter(r))}),Je("ngModelChange",function(r){let a=b(n).partType,s=l();return Xe(s.inputValue[s.datePickerService.getActiveIndex(a)],r)||(s.inputValue[s.datePickerService.getActiveIndex(a)]=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o.onInputChange(r))}),f()}if(t&2){let n=i.partType,e=l();Re("placeholder",e.getPlaceholder(n)),u("disabled",e.nzDisabled)("readOnly",e.nzInputReadOnly)("size",e.inputSize),ot("ngModel",e.inputValue[e.datePickerService.getActiveIndex(n)]),oe("id",e.nzId)}}function AS(t,i){if(t&1){let n=V();m(0,"span",17),P("click",function(r){b(n);let o=l(2);return S(o.onClickClear(r))}),N(1,"span",18),f()}if(t&2){let n=l(2);Z("",n.prefixCls,"-clear")}}function HS(t,i){if(t&1&&(pe(0),N(1,"span",19),ue()),t&2){let n=i.$implicit;d(),u("nzType",n)}}function LS(t,i){if(t&1&&N(0,"nz-form-item-feedback-icon",16),t&2){let n=l(2);u("status",n.status)}}function jS(t,i){if(t&1&&(N(0,"div",15),g(1,AS,2,3,"span",4),m(2,"span"),g(3,HS,2,1,"ng-container",10)(4,LS,1,1,"nz-form-item-feedback-icon",16),f()),t&2){let n=l();Z("",n.prefixCls,"-active-bar"),u("ngStyle",n.activeBarStyle),d(),D(1,n.showClear?1:-1),d(),Z("",n.prefixCls,"-suffix"),d(),u("nzStringTemplateOutlet",n.nzSuffixIcon),d(),D(4,n.hasFeedback&&n.status?4:-1)}}function BS(t,i){if(t&1){let n=V();m(0,"div",15)(1,"date-range-popup",20),P("panelModeChange",function(r){b(n);let o=l();return S(o.onPanelModeChange(r))})("calendarChange",function(r){b(n);let o=l();return S(o.onCalendarChange(r))})("resultOk",function(){b(n);let r=l();return S(r.onResultOk())}),f()()}if(t&2){let n=l();Mr("",n.prefixCls,"-dropdown ",n.nzDropdownClassName,""),A("ant-picker-dropdown-rtl",n.dir==="rtl")("ant-picker-dropdown-placement-bottomLeft",n.currentPositionY==="bottom"&&n.currentPositionX==="start")("ant-picker-dropdown-placement-topLeft",n.currentPositionY==="top"&&n.currentPositionX==="start")("ant-picker-dropdown-placement-bottomRight",n.currentPositionY==="bottom"&&n.currentPositionX==="end")("ant-picker-dropdown-placement-topRight",n.currentPositionY==="top"&&n.currentPositionX==="end")("ant-picker-dropdown-range",n.isRange)("ant-picker-active-left",n.datePickerService.activeInput==="left")("ant-picker-active-right",n.datePickerService.activeInput==="right"),u("ngStyle",n.nzPopupStyle),d(),u("isRange",n.isRange)("inline",n.nzInline)("defaultPickerValue",n.nzDefaultPickerValue)("showWeek",n.nzShowWeekNumber||n.nzMode==="week")("panelMode",n.panelMode)("locale",n.nzLocale==null?null:n.nzLocale.lang)("showToday",n.nzMode==="date"&&n.nzShowToday&&!n.isRange&&!n.nzShowTime)("showNow",n.nzMode==="date"&&n.nzShowNow&&!n.isRange&&!!n.nzShowTime)("showTime",n.nzShowTime)("dateRender",n.nzDateRender)("disabledDate",n.nzDisabledDate)("disabledTime",n.nzDisabledTime)("extraFooter",n.extraFooter)("ranges",n.nzRanges)("dir",n.dir)}}function WS(t,i){t&1&&Ze(0)}function qS(t,i){if(t&1&&(m(0,"div",21),g(1,WS,1,0,"ng-container",7),f()),t&2){let n=l(),e=q(7);u("nzNoAnimation",!!(n.noAnimation!=null&&n.noAnimation.nzNoAnimation))("@slideMotion","enter"),d(),u("ngTemplateOutlet",e)}}var Js="ant-picker",US={nzDisabledHours(){return[]},nzDisabledMinutes(){return[]},nzDisabledSeconds(){return[]}};function z0(t,i){let n=i?i(t&&t.nativeDate):{};return n=I(I({},US),n),n}function YS(t,i){let n=!1;if(t){let e=t.getHours(),r=t.getMinutes(),o=t.getSeconds();i.nzDisabledHours().indexOf(e)===-1&&i.nzDisabledMinutes(e).indexOf(r)===-1?n=i.nzDisabledSeconds(e,r).indexOf(o)!==-1:n=!0}return!n}function QS(t,i){let n=z0(t,i);return YS(t,n)}function Xs(t,i,n){return!(!t||i&&i(t.nativeDate)||n&&!QS(t,n))}function el(t){return t&&t.replace(/Y/g,"y").replace(/D/g,"d")}var x0=(()=>{let i=class i{constructor(e){this.dateHelper=e,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new W,this.clickToday=new W,this.prefixCls=Js,this.isTemplateRef=Ea,this.isNonEmptyString=Pa,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(e){let r=new Date;if(e.disabledDate&&(this.isTodayDisabled=!!(this.disabledDate&&this.disabledDate(r))),e.locale){let o=el(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(r,o)}}onClickToday(){let e=new Dt;this.clickToday.emit(e.clone())}get isExtraFooterTemplateRef(){return Ea(this.extraFooter)}get isExtraFooterNonEmptyString(){return Pa(this.extraFooter)}};i.\u0275fac=function(r){return new(r||i)(w(Ai))},i.\u0275cmp=L({type:i,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:"showToday",showNow:"showNow",hasTimePicker:"hasTimePicker",isRange:"isRange",okDisabled:"okDisabled",disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],standalone:!0,features:[re,Y],decls:4,vars:6,consts:[[3,"class"],["role","button",3,"class","title"],[3,"innerHTML"],[4,"ngTemplateOutlet"],["role","button",3,"title","click"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(r,o){r&1&&(m(0,"div"),g(1,Fx,3,5,"div",0)(2,Rx,2,6,"a",1)(3,Lx,4,6,"ul",0),f()),r&2&&(Z("",o.prefixCls,"-footer"),d(),D(1,o.extraFooter?1:-1),d(),D(2,o.showToday?2:-1),d(),D(3,o.hasTimePicker||o.rangeQuickSelector?3:-1))},dependencies:[ge,ai,Ri,Yt,Fi],encapsulation:2,changeDetection:0});let t=i;return t})(),Nd=(()=>{let i=class i{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new _t(1),this.emitValue$=new ne,this.inputPartChange$=new ne}initValue(e=!1){e&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(e=this.value){return Array.isArray(e)?!!e[0]||!!e[1]:!!e}makeValue(e){return this.isRange?e?e.map(r=>new Dt(r)):[]:e?new Dt(e):null}setActiveDate(e,r=!1,o="month"){let a={date:"month",month:"year",year:"decade"};this.isRange?this.activeDate=Hu(e,r,a[o],this.activeInput):this.activeDate=Ar(e)}setValue(e){this.value=e,this.valueChange$.next(this.value)}getActiveIndex(e=this.activeInput){return{left:0,right:1}[e]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),tl=(()=>{let i=class i{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new W,this.valueChange=new W}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(e){this.value!==e&&(this.value=e,this.valueChange.emit(this.value),this.render())}changeMode(e){this.panelModeChange.emit(e)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new Dt),this.selectors=this.getSelectors()}ngOnChanges(e){(e.value||e.locale)&&this.render()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,inputs:{value:"value",locale:"locale",showSuperPreBtn:"showSuperPreBtn",showSuperNextBtn:"showSuperNextBtn",showPreBtn:"showPreBtn",showNextBtn:"showNextBtn"},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[re]});let t=i;return t})(),KS=(()=>{let i=class i extends tl{previous(){}next(){}get startYear(){return parseInt(`${this.value.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["decade-header"]],exportAs:["decadeHeader"],standalone:!0,features:[qe,Y],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"],["role","button","type","button",3,"class","title"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),N(2,"span",1),f(),m(3,"button",0),P("click",function(){return o.previous()}),N(4,"span",2),f(),m(5,"div"),se(6,jx,2,5,"button",6,qt),f(),m(8,"button",0),P("click",function(){return o.next()}),N(9,"span",3),f(),m(10,"button",0),P("click",function(){return o.superNext()}),N(11,"span",4),f()()),r&2&&(Ni(o.prefixCls),d(),Z("",o.prefixCls,"-super-prev-btn"),ze("visibility",o.showSuperPreBtn?"visible":"hidden"),Re("title",o.superPreviousTitle()),d(2),Z("",o.prefixCls,"-prev-btn"),ze("visibility",o.showPreBtn?"visible":"hidden"),Re("title",o.previousTitle()),d(2),Z("",o.prefixCls,"-view"),d(),le(o.selectors),d(2),Z("",o.prefixCls,"-next-btn"),ze("visibility",o.showNextBtn?"visible":"hidden"),Re("title",o.nextTitle()),d(2),Z("",o.prefixCls,"-super-next-btn"),ze("visibility",o.showSuperNextBtn?"visible":"hidden"),Re("title",o.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),il=(()=>{let i=class i{constructor(){this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new Dt,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new W,this.cellHover=new W}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(e){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":e.isSelected,"ant-picker-cell-disabled":e.isDisabled,"ant-picker-cell-in-range":!!e.isInSelectedRange,"ant-picker-cell-range-start":!!e.isSelectedStart,"ant-picker-cell-range-end":!!e.isSelectedEnd,"ant-picker-cell-range-start-single":!!e.isStartSingle,"ant-picker-cell-range-end-single":!!e.isEndSingle,"ant-picker-cell-range-hover":!!e.isInHoverRange,"ant-picker-cell-range-hover-start":!!e.isHoverStart,"ant-picker-cell-range-hover-end":!!e.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!e.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!e.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!e.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!e.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(e){e.activeDate&&!e.activeDate.currentValue&&(this.activeDate=new Dt),(e.disabledDate||e.locale||e.showWeek||e.selectWeek||this.isDateRealChange(e.activeDate)||this.isDateRealChange(e.value)||this.isDateRealChange(e.selectedValue)||this.isDateRealChange(e.hoverValue))&&this.render()}isDateRealChange(e){if(e){let r=e.previousValue,o=e.currentValue;return Array.isArray(o)?!Array.isArray(r)||o.length!==r.length||o.some((a,s)=>{let c=r[s];return c instanceof Dt?c.isSameDay(a):c!==a}):!this.isSameDate(r,o)}return!1}isSameDate(e,r){return!e&&!r||e&&r&&r.isSameDay(e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:"showWeek",selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:"canSelectWeek"},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[re]});let t=i;return t})(),GS=4,ZS=3,XS=(()=>{let i=class i extends il{get startYear(){return parseInt(`${this.activeDate.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){let e=[],r=this.value&&this.value.getYear(),o=this.startYear,a=this.endYear,s=o-10,c=0;for(let p=0;p<GS;p++){let h={dateCells:[],trackByIndex:p};for(let _=0;_<ZS;_++){let v=s+c*10,y=s+c*10+9,k=`${v}-${y}`,T={trackByIndex:_,value:this.activeDate.setYear(v).nativeDate,content:k,title:k,isDisabled:!1,isSelected:r>=v&&r<=y,isLowerThanStart:y<o,isBiggerThanEnd:v>a,classMap:{},onClick(){},onMouseEnter(){}};T.classMap=this.getClassMap(T),T.onClick=()=>this.chooseDecade(v),c++,h.dateCells.push(T)}e.push(h)}return e}getClassMap(e){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!e.isBiggerThanEnd&&!e.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:e.isSelected,[`${this.prefixCls}-cell-disabled`]:e.isDisabled}}chooseDecade(e){this.value=this.activeDate.setYear(e),this.valueChange.emit(this.value)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["decade-table"]],exportAs:["decadeTable"],standalone:!0,features:[qe,Y],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],["role","gridcell",3,"title","ngClass"]],template:function(r,o){r&1&&(m(0,"table",0),g(1,qx,5,1,"thead"),m(2,"tbody"),se(3,rb,4,2,"tr",4,qn),f()()),r&2&&(d(),D(1,o.headRow&&o.headRow.length>0?1:-1),d(2),le(o.bodyRows))},dependencies:[Mt,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),JS=(()=>{let i=class i extends tl{get startYear(){return parseInt(`${this.value.getYear()/10}`,10)*10}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["year-header"]],exportAs:["yearHeader"],standalone:!0,features:[qe,Y],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"],["role","button","type","button",3,"class","title"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),N(2,"span",1),f(),m(3,"button",0),P("click",function(){return o.previous()}),N(4,"span",2),f(),m(5,"div"),se(6,ob,2,5,"button",6,qt),f(),m(8,"button",0),P("click",function(){return o.next()}),N(9,"span",3),f(),m(10,"button",0),P("click",function(){return o.superNext()}),N(11,"span",4),f()()),r&2&&(Ni(o.prefixCls),d(),Z("",o.prefixCls,"-super-prev-btn"),ze("visibility",o.showSuperPreBtn?"visible":"hidden"),Re("title",o.superPreviousTitle()),d(2),Z("",o.prefixCls,"-prev-btn"),ze("visibility",o.showPreBtn?"visible":"hidden"),Re("title",o.previousTitle()),d(2),Z("",o.prefixCls,"-view"),d(),le(o.selectors),d(2),Z("",o.prefixCls,"-next-btn"),ze("visibility",o.showNextBtn?"visible":"hidden"),Re("title",o.nextTitle()),d(2),Z("",o.prefixCls,"-super-next-btn"),ze("visibility",o.showSuperNextBtn?"visible":"hidden"),Re("title",o.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),eT=(()=>{let i=class i extends il{constructor(e){super(),this.dateHelper=e,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let e=this.activeDate&&this.activeDate.getYear(),r=parseInt(`${e/10}`,10)*10,o=r+9,a=r-1,s=[],c=0;for(let p=0;p<this.MAX_ROW;p++){let h={dateCells:[],trackByIndex:p};for(let _=0;_<this.MAX_COL;_++){let v=a+c,y=this.activeDate.setYear(v),k=this.dateHelper.format(y.nativeDate,"yyyy"),T=this.isDisabledYear(y),F={trackByIndex:_,value:y.nativeDate,isDisabled:T,isSameDecade:v>=r&&v<=o,isSelected:v===(this.value&&this.value.getYear()),content:k,title:k,classMap:{},isLastCellInPanel:y.getYear()===o,isFirstCellInPanel:y.getYear()===r,cellRender:In(this.cellRender,y),fullCellRender:In(this.fullCellRender,y),onClick:()=>this.chooseYear(F.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(y)};this.addCellProperty(F,y),h.dateCells.push(F),c++}s.push(h)}return s}getClassMap(e){return Me(I({},super.getClassMap(e)),{"ant-picker-cell-in-view":!!e.isSameDecade})}isDisabledYear(e){if(!this.disabledDate)return!1;let r=e.setMonth(0).setDate(1);for(let o=r;o.getYear()===e.getYear();o=o.addDays(1))if(!this.disabledDate(o.nativeDate))return!1;return!0}addCellProperty(e,r){if(this.hasRangeValue()){let[o,a]=this.hoverValue,[s,c]=this.selectedValue;s?.isSameYear(r)&&(e.isSelectedStart=!0,e.isSelected=!0),c?.isSameYear(r)&&(e.isSelectedEnd=!0,e.isSelected=!0),o&&a&&(e.isHoverStart=o.isSameYear(r),e.isHoverEnd=a.isSameYear(r),e.isInHoverRange=o.isBeforeYear(r)&&r.isBeforeYear(a)),e.isStartSingle=s&&!c,e.isEndSingle=!s&&c,e.isInSelectedRange=s?.isBeforeYear(r)&&r?.isBeforeYear(c),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=c&&e.isInHoverRange}else r.isSameYear(this.value)&&(e.isSelected=!0);e.classMap=this.getClassMap(e)}chooseYear(e){this.value=this.activeDate.setYear(e),this.valueChange.emit(this.value),this.render()}};i.\u0275fac=function(r){return new(r||i)(w(Ai))},i.\u0275cmp=L({type:i,selectors:[["year-table"]],exportAs:["yearTable"],standalone:!0,features:[qe,Y],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],["role","gridcell",3,"title","ngClass"]],template:function(r,o){r&1&&(m(0,"table",0),g(1,lb,5,1,"thead"),m(2,"tbody"),se(3,zb,4,2,"tr",4,qn),f()()),r&2&&(d(),D(1,o.headRow&&o.headRow.length>0?1:-1),d(2),le(o.bodyRows))},dependencies:[Mt,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),tT=(()=>{let i=class i extends tl{constructor(e){super(),this.dateHelper=e}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,el(this.locale.yearFormat))}]}};i.\u0275fac=function(r){return new(r||i)(w(Ai))},i.\u0275cmp=L({type:i,selectors:[["month-header"]],exportAs:["monthHeader"],standalone:!0,features:[qe,Y],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"],["role","button","type","button",3,"class","title"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),N(2,"span",1),f(),m(3,"button",0),P("click",function(){return o.previous()}),N(4,"span",2),f(),m(5,"div"),se(6,xb,2,5,"button",6,qt),f(),m(8,"button",0),P("click",function(){return o.next()}),N(9,"span",3),f(),m(10,"button",0),P("click",function(){return o.superNext()}),N(11,"span",4),f()()),r&2&&(Ni(o.prefixCls),d(),Z("",o.prefixCls,"-super-prev-btn"),ze("visibility",o.showSuperPreBtn?"visible":"hidden"),Re("title",o.superPreviousTitle()),d(2),Z("",o.prefixCls,"-prev-btn"),ze("visibility",o.showPreBtn?"visible":"hidden"),Re("title",o.previousTitle()),d(2),Z("",o.prefixCls,"-view"),d(),le(o.selectors),d(2),Z("",o.prefixCls,"-next-btn"),ze("visibility",o.showNextBtn?"visible":"hidden"),Re("title",o.nextTitle()),d(2),Z("",o.prefixCls,"-super-next-btn"),ze("visibility",o.showSuperNextBtn?"visible":"hidden"),Re("title",o.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),iT=(()=>{let i=class i extends il{constructor(e){super(),this.dateHelper=e,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let e=[],r=0;for(let o=0;o<this.MAX_ROW;o++){let a={dateCells:[],trackByIndex:o};for(let s=0;s<this.MAX_COL;s++){let c=this.activeDate.setMonth(r),p=this.isDisabledMonth(c),h=this.dateHelper.format(c.nativeDate,"MMM"),_={trackByIndex:s,value:c.nativeDate,isDisabled:p,isSelected:c.isSameMonth(this.value),content:h,title:h,classMap:{},cellRender:In(this.cellRender,c),fullCellRender:In(this.fullCellRender,c),onClick:()=>this.chooseMonth(_.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(c)};this.addCellProperty(_,c),a.dateCells.push(_),r++}e.push(a)}return e}isDisabledMonth(e){if(!this.disabledDate)return!1;let r=e.setDate(1);for(let o=r;o.getMonth()===e.getMonth();o=o.addDays(1))if(!this.disabledDate(o.nativeDate))return!1;return!0}addCellProperty(e,r){if(this.hasRangeValue()){let[o,a]=this.hoverValue,[s,c]=this.selectedValue;s?.isSameMonth(r)&&(e.isSelectedStart=!0,e.isSelected=!0),c?.isSameMonth(r)&&(e.isSelectedEnd=!0,e.isSelected=!0),o&&a&&(e.isHoverStart=o.isSameMonth(r),e.isHoverEnd=a.isSameMonth(r),e.isLastCellInPanel=r.getMonth()===11,e.isFirstCellInPanel=r.getMonth()===0,e.isInHoverRange=o.isBeforeMonth(r)&&r.isBeforeMonth(a)),e.isStartSingle=s&&!c,e.isEndSingle=!s&&c,e.isInSelectedRange=s?.isBeforeMonth(r)&&r?.isBeforeMonth(c),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=c&&e.isInHoverRange}else r.isSameMonth(this.value)&&(e.isSelected=!0);e.classMap=this.getClassMap(e)}chooseMonth(e){this.value=this.activeDate.setMonth(e),this.valueChange.emit(this.value)}};i.\u0275fac=function(r){return new(r||i)(w(Ai))},i.\u0275cmp=L({type:i,selectors:[["month-table"]],exportAs:["monthTable"],standalone:!0,features:[qe,Y],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],["role","gridcell",3,"title","ngClass"]],template:function(r,o){r&1&&(m(0,"table",0),g(1,Tb,5,1,"thead"),m(2,"tbody"),se(3,Vb,4,2,"tr",4,qn),f()()),r&2&&(d(),D(1,o.headRow&&o.headRow.length>0?1:-1),d(2),le(o.bodyRows))},dependencies:[Mt,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),nT=(()=>{let i=class i extends tl{constructor(e){super(),this.dateHelper=e}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,el(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}};i.\u0275fac=function(r){return new(r||i)(w(Ai))},i.\u0275cmp=L({type:i,selectors:[["date-header"]],exportAs:["dateHeader"],standalone:!0,features:[qe,Y],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"],["role","button","type","button",3,"class","title"]],template:function(r,o){r&1&&(m(0,"div")(1,"button",0),P("click",function(){return o.superPrevious()}),N(2,"span",1),f(),m(3,"button",0),P("click",function(){return o.previous()}),N(4,"span",2),f(),m(5,"div"),se(6,Ab,2,5,"button",6,qt),f(),m(8,"button",0),P("click",function(){return o.next()}),N(9,"span",3),f(),m(10,"button",0),P("click",function(){return o.superNext()}),N(11,"span",4),f()()),r&2&&(Ni(o.prefixCls),d(),Z("",o.prefixCls,"-super-prev-btn"),ze("visibility",o.showSuperPreBtn?"visible":"hidden"),Re("title",o.superPreviousTitle()),d(2),Z("",o.prefixCls,"-prev-btn"),ze("visibility",o.showPreBtn?"visible":"hidden"),Re("title",o.previousTitle()),d(2),Z("",o.prefixCls,"-view"),d(),le(o.selectors),d(2),Z("",o.prefixCls,"-next-btn"),ze("visibility",o.showNextBtn?"visible":"hidden"),Re("title",o.nextTitle()),d(2),Z("",o.prefixCls,"-super-next-btn"),ze("visibility",o.showSuperNextBtn?"visible":"hidden"),Re("title",o.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),rT=(()=>{let i=class i extends il{constructor(e,r){super(),this.i18n=e,this.dateHelper=r}changeValueFromInside(e){this.activeDate=this.activeDate.setYear(e.getYear()).setMonth(e.getMonth()).setDate(e.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){let e=[],r=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let o=0;o<this.MAX_COL;o++){let a=r.addDays(o);e.push({trackByIndex:null,value:a.nativeDate,title:this.dateHelper.format(a.nativeDate,"E"),content:this.dateHelper.format(a.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return e}getVeryShortWeekFormat(){return this.i18n.getLocaleId().toLowerCase().indexOf("zh")===0?"EEEEE":"EEEEEE"}makeBodyRows(){let e=[],r=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let o=0;o<this.MAX_ROW;o++){let a=r.addDays(o*7),s={isActive:!1,dateCells:[],trackByIndex:o};for(let c=0;c<7;c++){let p=a.addDays(c),h=el(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),_=this.dateHelper.format(p.nativeDate,h),v=this.dateHelper.format(p.nativeDate,"dd"),y={trackByIndex:c,value:p.nativeDate,label:v,isSelected:!1,isDisabled:!1,isToday:!1,title:_,cellRender:In(this.cellRender,p),fullCellRender:In(this.fullCellRender,p),content:`${p.getDate()}`,onClick:()=>this.changeValueFromInside(p),onMouseEnter:()=>this.cellHover.emit(p)};this.addCellProperty(y,p),this.showWeek&&!s.weekNum&&(s.weekNum=this.dateHelper.getISOWeek(p.nativeDate)),p.isSameDay(this.value)&&(s.isActive=p.isSameDay(this.value)),s.dateCells.push(y)}s.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&s.isActive},e.push(s)}return e}addCellProperty(e,r){if(e.isTemplateRef=Ea(e.cellRender),e.isNonEmptyString=Pa(e.cellRender),this.hasRangeValue()&&!this.canSelectWeek){let[o,a]=this.hoverValue,[s,c]=this.selectedValue;s?.isSameDay(r)&&(e.isSelectedStart=!0,e.isSelected=!0),c?.isSameDay(r)&&(e.isSelectedEnd=!0,e.isSelected=!0),o&&a&&(e.isHoverStart=o.isSameDay(r),e.isHoverEnd=a.isSameDay(r),e.isLastCellInPanel=r.isLastDayOfMonth(),e.isFirstCellInPanel=r.isFirstDayOfMonth(),e.isInHoverRange=o.isBeforeDay(r)&&r.isBeforeDay(a)),e.isStartSingle=s&&!c,e.isEndSingle=!s&&c,e.isInSelectedRange=s?.isBeforeDay(r)&&r.isBeforeDay(c),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=c&&e.isInHoverRange}e.isToday=r.isToday(),e.isSelected=r.isSameDay(this.value),e.isDisabled=!!this.disabledDate?.(r.nativeDate),e.classMap=this.getClassMap(e)}getClassMap(e){let r=new Dt(e.value);return Me(I({},super.getClassMap(e)),{"ant-picker-cell-today":!!e.isToday,"ant-picker-cell-in-view":r.isSameMonth(this.activeDate)})}};i.\u0275fac=function(r){return new(r||i)(w(Vi),w(Ai))},i.\u0275cmp=L({type:i,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],standalone:!0,features:[qe,Y],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],["role","gridcell",3,"title","ngClass"]],template:function(r,o){r&1&&(m(0,"table",0),g(1,jb,5,1,"thead"),m(2,"tbody"),se(3,tS,4,2,"tr",4,qn),f()()),r&2&&(d(),D(1,o.headRow&&o.headRow.length>0?1:-1),d(2),le(o.bodyRows))},dependencies:[Mt,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),oT=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({});let t=i;return t})(),b0=(()=>{let i=class i{constructor(){this.panelModeChange=new W,this.headerChange=new W,this.selectDate=new W,this.selectTime=new W,this.cellHover=new W,this.prefixCls=Js}enablePrevNext(e,r){return!(!this.showTimePicker&&r===this.endPanelMode&&(this.partType==="left"&&e==="next"||this.partType==="right"&&e==="prev"))}onSelectTime(e){this.selectTime.emit(new Dt(e))}onSelectDate(e){let r=e instanceof Dt?e:new Dt(e),o=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&o&&r.setHms(o.getHours(),o.getMinutes(),o.getSeconds()),this.selectDate.emit(r)}onChooseMonth(e){this.activeDate=this.activeDate.setMonth(e.getMonth()),this.endPanelMode==="month"?(this.value=e,this.selectDate.emit(e)):(this.headerChange.emit(e),this.panelModeChange.emit(this.endPanelMode))}onChooseYear(e){this.activeDate=this.activeDate.setYear(e.getYear()),this.endPanelMode==="year"?(this.value=e,this.selectDate.emit(e)):(this.headerChange.emit(e),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(e){this.activeDate=this.activeDate.setYear(e.getYear()),this.endPanelMode==="decade"?(this.value=e,this.selectDate.emit(e)):(this.headerChange.emit(e),this.panelModeChange.emit("year"))}ngOnChanges(e){e.activeDate&&!e.activeDate.currentValue&&(this.activeDate=new Dt),e.panelMode&&e.panelMode.currentValue==="time"&&(this.panelMode="date")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:"showWeek",locale:"locale",showTimePicker:"showTimePicker",timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],standalone:!0,features:[re,Y],decls:7,vars:8,consts:[[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn","valueChange","panelModeChange"],[3,"activeDate","value","locale","disabledDate","valueChange"],[3,"activeDate","value","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","activeDate","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn","valueChange","panelModeChange"],[3,"locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek","valueChange","cellHover"],[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn","ngModelChange"]],template:function(r,o){if(r&1&&(m(0,"div")(1,"div"),g(2,iS,3,13)(3,nS,3,15)(4,rS,3,15)(5,oS,3,18),f(),g(6,aS,1,13,"nz-time-picker-panel",0),f()),r&2){let a;A("ant-picker-datetime-panel",o.showTimePicker),d(),Mr("",o.prefixCls,"-",o.panelMode,"-panel"),d(),D(2,(a=o.panelMode)==="decade"?2:a==="year"?3:a==="month"?4:5),d(4),D(6,o.showTimePicker&&o.timeOptions?6:-1)}},dependencies:[oT,nT,rT,KS,XS,tT,iT,JS,eT,ho,Zs,vt,dt,tt],encapsulation:2,changeDetection:0});let t=i;return t})(),$d=(()=>{let i=class i{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return this.dir==="rtl"?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(e,r,o,a){this.datePickerService=e,this.cdr=r,this.ngZone=o,this.host=a,this.inline=!1,this.dir="ltr",this.panelModeChange=new W,this.calendarChange=new W,this.resultOk=new W,this.prefixCls=Js,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new ne,this.disabledStartTime=s=>this.disabledTime&&this.disabledTime(s,"start"),this.disabledEndTime=s=>this.disabledTime&&this.disabledTime(s,"end")}ngOnInit(){Rt(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe($(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{St(this.host.nativeElement,"mousedown").pipe($(this.destroy$)).subscribe(e=>e.preventDefault())})}ngOnChanges(e){(e.showTime||e.disabledTime)&&this.showTime&&this.buildTimeOptions(),e.panelMode&&(this.endPanelMode=this.panelMode),e.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){let e=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(e,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){let e={left:0,right:1}[this.datePickerService.activeInput],r=this.isRange?this.datePickerService.value[e]:this.datePickerService.value;this.changeValueFromSelect(r),this.resultOk.emit()}onClickToday(e){this.changeValueFromSelect(e,!this.showTime)}onCellHover(e){if(!this.isRange)return;let r={left:1,right:0}[this.datePickerService.activeInput],o=this.datePickerService.value[r];o&&(o.isBeforeDay(e)?this.hoverValue=[o,e]:this.hoverValue=[e,o])}onPanelModeChange(e,r){this.isRange?this.datePickerService.getActiveIndex(r)===0?this.panelMode=[e,this.panelMode[1]]:this.panelMode=[this.panelMode[0],e]:this.panelMode=e,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(e,r){if(this.isRange){let o=[];o[this.datePickerService.getActiveIndex(r)]=e,this.datePickerService.setActiveDate(o,this.hasTimePicker,this.getPanelMode(this.endPanelMode,r))}else this.datePickerService.setActiveDate(e)}onSelectTime(e,r){if(this.isRange){let o=Ar(this.datePickerService.value),a=this.datePickerService.getActiveIndex(r);o[a]=this.overrideHms(e,o[a]),this.datePickerService.setValue(o)}else{let o=this.overrideHms(e,this.datePickerService.value);this.datePickerService.setValue(o)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(e,r=!0){if(this.isRange){let o=Ar(this.datePickerService.value),a=this.datePickerService.activeInput,s=a;o[this.datePickerService.getActiveIndex(a)]=e,this.checkedPartArr[this.datePickerService.getActiveIndex(a)]=!0,this.hoverValue=o,r?this.inline?(s=this.reversedPart(a),s==="right"&&(o[this.datePickerService.getActiveIndex(s)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(s)]=!1),this.datePickerService.setValue(o),this.calendarChange.emit(o),this.isBothAllowed(o)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):(Al(o)&&(s=this.reversedPart(a),o[this.datePickerService.getActiveIndex(s)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(s)]=!1),this.datePickerService.setValue(o),this.isBothAllowed(o)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(o),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(o)&&(s=this.reversedPart(a),this.calendarChange.emit([e.clone()]))):this.datePickerService.setValue(o),this.datePickerService.inputPartChange$.next(s)}else this.datePickerService.setValue(e),this.datePickerService.inputPartChange$.next(null),r&&this.isAllowed(e)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(e){return e==="left"?"right":"left"}getPanelMode(e,r){return this.isRange?e[this.datePickerService.getActiveIndex(r)]:e}getValue(e){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(e)]:this.datePickerService.value}getActiveDate(e){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(e)]:this.datePickerService.activeDate}isOneAllowed(e){let r=this.datePickerService.getActiveIndex(),o=[this.disabledStartTime,this.disabledEndTime];return Xs(e[r],this.disabledDate,o[r])}isBothAllowed(e){return Xs(e[0],this.disabledDate,this.disabledStartTime)&&Xs(e[1],this.disabledDate,this.disabledEndTime)}isAllowed(e,r=!1){return this.isRange?r?this.isBothAllowed(e):this.isOneAllowed(e):Xs(e,this.disabledDate,this.disabledTime)}getTimeOptions(e){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(e)]:this.timeOptions:null}onClickPresetRange(e){let r=typeof e=="function"?e():e;r&&(this.datePickerService.setValue([new Dt(r[0]),new Dt(r[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(e){typeof e!="function"&&(this.hoverValue=[new Dt(e[0]),new Dt(e[1])])}getObjectKeys(e){return e?Object.keys(e):[]}show(e){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==e)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){let e=typeof this.showTime=="object"?this.showTime:{};if(this.isRange){let r=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(e,r[0],"start"),this.overrideTimeOptions(e,r[1],"end")]}else this.timeOptions=this.overrideTimeOptions(e,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(e,r,o){let a;return o?a=o==="start"?this.disabledStartTime:this.disabledEndTime:a=this.disabledTime,I(I({},e),z0(r,a))}overrideHms(e,r){return e=e||new Dt,r=r||new Dt,r.setHms(e.getHours(),e.getMinutes(),e.getSeconds())}};i.\u0275fac=function(r){return new(r||i)(w(Nd),w(xe),w(Ye),w(de))},i.\u0275cmp=L({type:i,selectors:[["date-range-popup"]],inputs:{isRange:"isRange",inline:"inline",showWeek:"showWeek",locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:"showToday",showNow:"showNow",showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],standalone:!0,features:[re,Y],decls:8,vars:1,consts:[[3,"class"],["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue","panelModeChange","cellHover","selectDate","selectTime","headerChange"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(r,o){r&1&&g(0,mS,7,18,"div",0)(1,gS,4,13)(2,CS,2,18,"ng-template",null,1,he)(4,vS,1,1,"ng-template",null,2,he)(6,xS,2,0,"ng-template",null,3,he),r&2&&D(0,o.isRange?0:1)},dependencies:[b0,ge,x0],encapsulation:2,changeDetection:0});let t=i;return t})(),Od={position:"relative"},aT="datePicker",kn=(()=>{let i=class i{get nzShowTime(){return this.showTime}set nzShowTime(e){this.showTime=typeof e=="object"?e:gu(e)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe($(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe($(this.destroy$)).subscribe(e=>{e&&(this.datePickerService.activeInput=e),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>St(this.elementRef.nativeElement,"mousedown").pipe($(this.destroy$)).subscribe(e=>{e.target.tagName.toLowerCase()!=="input"&&e.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;let e={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft=this.datePickerService.activeInput==="left"?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.dir==="rtl"?this.activeBarStyle=Me(I({},e),{right:`${this.datePickerService.arrowLeft}px`}):this.activeBarStyle=Me(I({},e),{left:`${this.datePickerService.arrowLeft}px`}),this.cdr.markForCheck()}getInput(e){if(!this.nzInline)return this.isRange?e==="left"?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){let e=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==e&&e?.focus()}onFocus(e,r){e.preventDefault(),r&&this.datePickerService.inputPartChange$.next(r),this.renderClass(!0)}onFocusout(e){e.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(e.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}get showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&Al(this.datePickerService.value)){let e=this.datePickerService.getActiveIndex(),r=this.datePickerService.value[e];this.panel.changeValueFromSelect(r,!0);return}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(e){e.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(e){e.keyCode===27&&this.datePickerService.initValue()}onPositionChange(e){this.currentPositionX=e.connectionPair.originX,this.currentPositionY=e.connectionPair.originY,this.cdr.detectChanges()}onClickClear(e){e.preventDefault(),e.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){let e=this.datePickerService.value;this.isRange?this.inputValue=e?e.map(r=>this.formatValue(r)):["",""]:this.inputValue=this.formatValue(e),this.cdr.markForCheck()}formatValue(e){return this.dateHelper.format(e&&e.nativeDate,this.nzFormat)}onInputChange(e,r=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState){this.open();return}let o=this.checkValidDate(e);o&&this.realOpenState&&this.panel.changeValueFromSelect(o,r)}onKeyupEnter(e){this.onInputChange(e.target.value,!0)}checkValidDate(e){let r=new Dt(this.dateHelper.parseDate(e,this.nzFormat));return!r.isValid()||e!==this.dateHelper.format(r.nativeDate,this.nzFormat)?null:r}getPlaceholder(e){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(e)]:this.nzPlaceHolder}isEmptyValue(e){return e===null?!0:this.isRange?!e||!Array.isArray(e)||e.every(r=>!r):!e}isOpenHandledByUser(){return this.nzOpen!==void 0}constructor(e,r,o,a,s,c,p,h,_,v,y,k,T,F,E,U){this.nzConfigService=e,this.datePickerService=r,this.i18n=o,this.cdr=a,this.renderer=s,this.ngZone=c,this.elementRef=p,this.dateHelper=h,this.nzResizeObserver=_,this.platform=v,this.destroy$=y,this.directionality=T,this.noAnimation=F,this.nzFormStatusService=E,this.nzFormNoStatusService=U,this._nzModuleName=aT,this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=Od,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new W,this.nzOnCalendarChange=new W,this.nzOnOk=new W,this.nzOnOpenChange=new W,this.inputSize=12,this.prefixCls=Js,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...Vl],this.currentPositionX="start",this.currentPositionY="bottom",this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.document=k,this.origin=new $a(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Ei((e,r)=>e.status===r.status&&e.hasFeedback===r.hasFeedback),Ta(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:Bt(!1)),Te(([{status:e,hasFeedback:r},o])=>({status:o?"":e,hasFeedback:r})),$(this.destroy$)).subscribe(({status:e,hasFeedback:r})=>{this.setStatusStyles(e,r)}),this.nzLocale||this.i18n.localeChange.pipe($(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe($(this.destroy$)).subscribe(()=>{let e=this.showTime?"second":"day",r=this.datePickerService.value,o=this.datePickerService.initialValue;if(!this.isRange&&r?.isSame(o?.nativeDate,e))return this.onTouchedFn(),this.close();if(this.isRange){let[a,s]=o,[c,p]=r;if(a?.isSame(c?.nativeDate,e)&&s?.isSame(p?.nativeDate,e))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=Ar(r),this.isRange){let a=r;a.length?this.onChangeFn([a[0]?.nativeDate??null,a[1]?.nativeDate??null]):this.onChangeFn([])}else r?this.onChangeFn(r.nativeDate):this.onChangeFn(null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe($(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(e){let{nzStatus:r,nzPlacement:o}=e;e.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?I(I({},this.nzPopupStyle),Od):Od),e.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),e.nzFormat?.currentValue&&(this.isCustomFormat=!0),e.nzLocale&&this.setDefaultPlaceHolder(),e.nzRenderExtraFooter&&(this.extraFooter=In(this.nzRenderExtraFooter)),e.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),r&&this.setStatusStyles(this.nzStatus,this.hasFeedback),o&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){let e={year:"yyyy",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=e[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(e){this.nzOnOpenChange.emit(e)}writeValue(e){this.setValue(e),this.cdr.markForCheck()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){let e={year:this.getPropertyOfLocale("yearPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},r={year:this.getPropertyOfLocale("rangeYearPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?r[this.nzMode]:e[this.nzMode]}}getPropertyOfLocale(e){return this.nzLocale.lang[e]||this.i18n.getLocaleData(`DatePicker.lang.${e}`)}setValue(e){let r=this.datePickerService.makeValue(e);this.datePickerService.setValue(r),this.datePickerService.initialValue=Ar(r),this.cdr.detectChanges()}renderClass(e){e?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(e){this.nzOnPanelChange.emit(e)}onCalendarChange(e){if(this.isRange&&Array.isArray(e)){let r=e.filter(o=>o instanceof Dt).map(o=>o.nativeDate);this.nzOnCalendarChange.emit(r)}}onResultOk(){if(this.isRange){let e=this.datePickerService.value;e.length?this.nzOnOk.emit([e[0]?.nativeDate||null,e[1]?.nativeDate||null]):this.nzOnOk.emit([])}else this.datePickerService.value?this.nzOnOk.emit(this.datePickerService.value.nativeDate):this.nzOnOk.emit(null)}setStatusStyles(e,r){this.status=e,this.hasFeedback=r,this.cdr.markForCheck(),this.statusCls=Ma(this.prefixCls,e,r),Object.keys(this.statusCls).forEach(o=>{this.statusCls[o]?this.renderer.addClass(this.elementRef.nativeElement,o):this.renderer.removeClass(this.elementRef.nativeElement,o)})}setPlacement(e){let r=Au[e];this.overlayPositions=[r,...Vl],this.currentPositionX=r.originX,this.currentPositionY=r.originY}};i.\u0275fac=function(r){return new(r||i)(w(Ut),w(Nd),w(Vi),w(xe),w(Fe),w(Ye),w(de),w(Ai),w(rr),w(oi),w(Ot),w(tn),w(Ct,8),w(vn,9),w(_i,8),w(Ka,8))},i.\u0275cmp=L({type:i,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(r,o){if(r&1&&(me(Jn,5),me($d,5),me(bS,5),me(SS,5),me(TS,5)),r&2){let a;te(a=ie())&&(o.cdkConnectedOverlay=a.first),te(a=ie())&&(o.panel=a.first),te(a=ie())&&(o.separatorElement=a.first),te(a=ie())&&(o.pickerInput=a.first),te(a=ie())&&(o.rangePickerInputs=a)}},hostVars:16,hostBindings:function(r,o){r&1&&P("click",function(s){return o.onClickInputBox(s)}),r&2&&A("ant-picker",!0)("ant-picker-range",o.isRange)("ant-picker-large",o.nzSize==="large")("ant-picker-small",o.nzSize==="small")("ant-picker-disabled",o.nzDisabled)("ant-picker-rtl",o.dir==="rtl")("ant-picker-borderless",o.nzBorderless)("ant-picker-inline",o.nzInline)},inputs:{nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly",nzInline:"nzInline",nzOpen:"nzOpen",nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:"nzShowToday",nzMode:"nzMode",nzShowNow:"nzShowNow",nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:"nzShowWeekNumber",nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],standalone:!0,features:[ct([Ot,Nd,{provide:Pn,multi:!0,useExisting:wo(()=>i)}]),re,Y],decls:9,vars:6,consts:[["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","positionChange","detach","overlayKeydown"],[3,"class"],["autocomplete","off",3,"disabled","readOnly","ngModel","placeholder","size","ngModelChange","focus","focusout","keyup.enter"],["pickerInput",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["separatorElement",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","swap-right","nzTheme","outline"],[3,"ngTemplateOutlet"],["autocomplete","off",3,"disabled","readOnly","size","ngModel","placeholder","click","focusout","focus","keyup.enter","ngModelChange"],["rangePickerInput",""],[3,"ngStyle"],[3,"status"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir","panelModeChange","calendarChange","resultOk"],[1,"ant-picker-wrapper",2,"position","relative",3,"nzNoAnimation"]],template:function(r,o){r&1&&(g(0,$S,2,1)(1,RS,1,1)(2,VS,2,6,"ng-template",null,0,he)(4,jS,5,10,"ng-template",null,1,he)(6,BS,2,36,"ng-template",null,2,he)(8,qS,2,3,"ng-template",3),P("positionChange",function(s){return o.onPositionChange(s)})("detach",function(){return o.close()})("overlayKeydown",function(s){return o.onOverlayKeydown(s)})),r&2&&(D(0,o.nzInline?1:0),d(8),u("cdkConnectedOverlayHasBackdrop",o.nzBackdrop)("cdkConnectedOverlayOrigin",o.origin)("cdkConnectedOverlayOpen",o.realOpenState)("cdkConnectedOverlayPositions",o.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},dependencies:[vt,zn,dt,tt,ge,Qt,Ft,Qe,Le,xi,Za,Ga,$d,Jn,Vr,Rr,vn],encapsulation:2,data:{animation:[Ua]},changeDetection:0});let t=i;return H([X()],t.prototype,"nzAllowClear",void 0),H([X()],t.prototype,"nzAutoFocus",void 0),H([X()],t.prototype,"nzDisabled",void 0),H([X()],t.prototype,"nzBorderless",void 0),H([X()],t.prototype,"nzInputReadOnly",void 0),H([X()],t.prototype,"nzInline",void 0),H([X()],t.prototype,"nzOpen",void 0),H([X()],t.prototype,"nzShowToday",void 0),H([X()],t.prototype,"nzShowNow",void 0),H([Pe()],t.prototype,"nzSeparator",void 0),H([Pe()],t.prototype,"nzSuffixIcon",void 0),H([Pe()],t.prototype,"nzBackdrop",void 0),H([X()],t.prototype,"nzShowWeekNumber",void 0),t})(),S0=(()=>{let i=class i{constructor(e){this.datePicker=e,this.datePicker.nzMode="month"}};i.\u0275fac=function(r){return new(r||i)(w(kn,9))},i.\u0275dir=Ie({type:i,selectors:[["nz-month-picker"]],exportAs:["nzMonthPicker"],standalone:!0});let t=i;return t})(),nl=(()=>{let i=class i{constructor(e){this.datePicker=e,this.datePicker.isRange=!0}};i.\u0275fac=function(r){return new(r||i)(w(kn,9))},i.\u0275dir=Ie({type:i,selectors:[["nz-range-picker"]],exportAs:["nzRangePicker"],standalone:!0});let t=i;return t})(),T0=(()=>{let i=class i{constructor(e){this.datePicker=e,this.datePicker.nzMode="week"}};i.\u0275fac=function(r){return new(r||i)(w(kn,9))},i.\u0275dir=Ie({type:i,selectors:[["nz-week-picker"]],exportAs:["nzWeekPicker"],standalone:!0});let t=i;return t})(),w0=(()=>{let i=class i{constructor(e){this.datePicker=e,this.datePicker.nzMode="year"}};i.\u0275fac=function(r){return new(r||i)(w(kn,9))},i.\u0275dir=Ie({type:i,selectors:[["nz-year-picker"]],exportAs:["nzYearPicker"],standalone:!0});let t=i;return t})(),Un=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[kn,x0,b0,$d]});let t=i;return t})();var k0=["*"],lT=["inputElement"],cT=["nz-radio",""],Vd=(()=>{let i=class i{constructor(){this.selected$=new _t(1),this.touched$=new ne,this.disabled$=new _t(1),this.name$=new _t(1)}touch(){this.touched$.next()}select(e){this.selected$.next(e)}setDisabled(e){this.disabled$.next(e)}setName(e){this.name$.next(e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),D0=(()=>{let i=class i{constructor(e,r,o){this.cdr=e,this.nzRadioService=r,this.directionality=o,this.value=null,this.destroy$=new ne,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe($(this.destroy$)).subscribe(e=>{this.value!==e&&(this.value=e,this.onChange(this.value))}),this.nzRadioService.touched$.pipe($(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzDisabled:r,nzName:o}=e;r&&this.nzRadioService.setDisabled(this.nzDisabled),o&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}writeValue(e){this.value=e,this.nzRadioService.select(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}};i.\u0275fac=function(r){return new(r||i)(w(xe),w(Vd),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(r,o){r&2&&A("ant-radio-group-large",o.nzSize==="large")("ant-radio-group-small",o.nzSize==="small")("ant-radio-group-solid",o.nzButtonStyle==="solid")("ant-radio-group-rtl",o.dir==="rtl")},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],standalone:!0,features:[ct([Vd,{provide:Pn,useExisting:wo(()=>i),multi:!0}]),re,Y],ngContentSelectors:k0,decls:1,vars:0,template:function(r,o){r&1&&(Ee(),we(0))},encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzDisabled",void 0),t})(),Dn=(()=>{let i=class i{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,r,o,a,s,c,p){this.ngZone=e,this.elementRef=r,this.cdr=o,this.focusMonitor=a,this.directionality=s,this.nzRadioService=c,this.nzFormStatusService=p,this.isNgModel=!1,this.destroy$=new ne,this.isNzDisableFirstChange=!0,this.isChecked=!1,this.name=null,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.isRadioButton=!1,this.dir="ltr"}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.isNgModel=!0,this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe($(this.destroy$)).subscribe(e=>{this.name=e,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe($(this.destroy$)).subscribe(e=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe($(this.destroy$)).subscribe(e=>{let r=this.isChecked;this.isChecked=this.nzValue===e,this.isNgModel&&r!==this.isChecked&&this.isChecked===!1&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe($(this.destroy$)).subscribe(e=>{e||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{St(this.elementRef.nativeElement,"click").pipe($(this.destroy$)).subscribe(e=>{e.stopPropagation(),e.preventDefault(),!(this.nzDisabled||this.isChecked)&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}};i.\u0275fac=function(r){return new(r||i)(w(Ye),w(de),w(xe),w(wu),w(Ct,8),w(Vd,8),w(_i,8))},i.\u0275cmp=L({type:i,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(r,o){if(r&1&&me(lT,7),r&2){let a;te(a=ie())&&(o.inputElement=a.first)}},hostVars:18,hostBindings:function(r,o){r&2&&A("ant-radio-wrapper-in-form-item",!!o.nzFormStatusService)("ant-radio-wrapper",!o.isRadioButton)("ant-radio-button-wrapper",o.isRadioButton)("ant-radio-wrapper-checked",o.isChecked&&!o.isRadioButton)("ant-radio-button-wrapper-checked",o.isChecked&&o.isRadioButton)("ant-radio-wrapper-disabled",o.nzDisabled&&!o.isRadioButton)("ant-radio-button-wrapper-disabled",o.nzDisabled&&o.isRadioButton)("ant-radio-wrapper-rtl",!o.isRadioButton&&o.dir==="rtl")("ant-radio-button-wrapper-rtl",o.isRadioButton&&o.dir==="rtl")},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",isRadioButton:[B.HasDecoratorInputTransform,"nz-radio-button","isRadioButton",ce]},exportAs:["nzRadio"],standalone:!0,features:[ct([{provide:Pn,useExisting:wo(()=>i),multi:!0}]),Vt,Y],attrs:cT,ngContentSelectors:k0,decls:6,vars:24,consts:[["type","radio",3,"disabled","checked"],["inputElement",""]],template:function(r,o){r&1&&(Ee(),m(0,"span"),N(1,"input",0,1)(3,"span"),f(),m(4,"span"),we(5),f()),r&2&&(A("ant-radio",!o.isRadioButton)("ant-radio-checked",o.isChecked&&!o.isRadioButton)("ant-radio-disabled",o.nzDisabled&&!o.isRadioButton)("ant-radio-button",o.isRadioButton)("ant-radio-button-checked",o.isChecked&&o.isRadioButton)("ant-radio-button-disabled",o.nzDisabled&&o.isRadioButton),d(),A("ant-radio-input",!o.isRadioButton)("ant-radio-button-input",o.isRadioButton),u("disabled",o.nzDisabled)("checked",o.isChecked),oe("autofocus",o.nzAutoFocus?"autofocus":null)("name",o.name),d(2),A("ant-radio-inner",!o.isRadioButton)("ant-radio-button-inner",o.isRadioButton))},encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzDisabled",void 0),H([X()],t.prototype,"nzAutoFocus",void 0),t})(),ln=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({});let t=i;return t})();var rl=class t{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(i,n=null,e=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,i instanceof t)return i;this.service=e||null,this.origin=i,this.key=i.key,this.parentNode=n,this._title=i.title||"---",this._icon=i.icon||"",this._isLeaf=i.isLeaf||!1,this._children=[],this._isChecked=i.checked||!1,this._isSelectable=i.disabled||i.selectable!==!1,this._isDisabled=i.disabled||!1,this._isDisableCheckbox=i.disableCheckbox||!1,this._isExpanded=i.isLeaf?!1:i.expanded||!1,this._isHalfChecked=!1,this._isSelected=!i.disabled&&i.selected||!1,this._isLoading=!1,this.isMatched=!1,n?this.level=n.level+1:this.level=0,typeof i.children<"u"&&i.children!==null&&i.children.forEach(r=>{let o=this.treeService;o&&!o.isCheckStrictly&&i.checked&&!i.disabled&&!r.disabled&&!r.disableCheckbox&&(r.checked=i.checked),this._children.push(new t(r,this))})}get title(){return this._title}set title(i){this._title=i,this.update()}get icon(){return this._icon}set icon(i){this._icon=i,this.update()}get children(){return this._children}set children(i){this._children=i,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(i){this._isLeaf=i,this.update()}get isChecked(){return this._isChecked}set isChecked(i){this._isChecked=i,this.origin.checked=i,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(i){this._isHalfChecked=i,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(i){this._isSelectable=i,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(i){this._isDisabled=i,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(i){this._isDisableCheckbox=i,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(i){this._isSelected=i,this.origin.selected=i,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(i){this._isLoading=i,this.update()}setSyncChecked(i=!1,n=!1){this.setChecked(i,n),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(i=!1,n=!1){this.origin.checked=i,this.isChecked=i,this.isHalfChecked=n}setExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(i,n=-1){this.isLeaf||(i.forEach(e=>{let r=a=>{a.getChildren().forEach(s=>{s.level=s.getParentNode().level+1,s.origin.level=s.level,r(s)})},o=e;o instanceof t?o.parentNode=this:o=new t(e,this),o.level=this.level+1,o.origin.level=o.level,r(o);try{n===-1?this.children.push(o):this.children.splice(n,0,o)}catch{}}),this.origin.children=this.getChildren().map(e=>e.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let i=this.getParentNode();i&&(i.children=i.getChildren().filter(n=>n.key!==this.key),i.origin.children=i.origin.children.filter(n=>n.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(i){if(this.treeService)switch(i){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(n=>n.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};var Y$=new eu("NzTreeHigherOrder");var I0=(()=>{let i=class i{constructor(e){this.c=e.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(e,r){let o=I({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},r),a=[],s=(c,p,h=0)=>{for(let _ of c){_[o.deepMapName]=h,_[o.parentMapName]=p,o.cb&&o.cb(_,p,h),a.push(_);let v=_[o.childrenMapName];v!=null&&Array.isArray(v)&&v.length>0&&s(v,_,h+1),o.clearChildren&&delete _[o.childrenMapName]}};return s(e,null),a}arrToTree(e,r){if(!Array.isArray(e)||e.length===0)return[];let o=I({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},r),a=[],s={},c=o.rootParentIdValue,p=e;if(!c){let h=p.map(v=>v[o.parentIdMapName]),_=h.findIndex(v=>v==null);c=_!==-1?h[_]:h.sort()[0]}for(let h of p){let _=h[o.idMapName],v=h[o.parentIdMapName];s[_]=s[_]||[],h[o.childrenMapName]=s[_],o.cb&&o.cb(h),v!==c?(s[v]=s[v]||[],s[v].push(h)):a.push(h)}return a}arrToTreeNode(e,r){let o=I({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},r),a=this.arrToTree(e,{idMapName:o.idMapName,parentIdMapName:o.parentIdMapName,childrenMapName:"children"});return this.visitTree(a,(s,c,p)=>{s.key=s[o.idMapName],s.title=s[o.titleMapName],s.checked=s[o.checkedMapname],s.selected=s[o.selectedMapname],s.expanded=s[o.expandedMapname],s.disabled=s[o.disabledMapname],s[o.isLeafMapName]==null?s.isLeaf=s.children.length===0:s.isLeaf=s[o.isLeafMapName],o.cb&&o.cb(s,c,p)}),a.map(s=>new rl(s))}visitTree(e,r,o){o=I({childrenMapName:this.c.childrenMapName},o);let a=(s,c,p)=>{for(let h of s){r(h,c,p);let _=h[o.childrenMapName];Array.isArray(_)&&_.length>0&&a(_,h,p+1)}};a(e,null,1)}findTree(e,r,o){let a;return this.visitTree(e,s=>{a===void 0&&r(s)&&(a=s)},o),a}getKeysByTreeNode(e,r){let o=I({includeHalfChecked:!0},r),a=[];return this.visitTree(e,(s,c,p)=>{(s.isChecked||o.includeHalfChecked&&s.isHalfChecked)&&a.push(o.cb?o.cb(s,c,p):o.keyMapName?s.origin[o.keyMapName]:s.key)}),a}baseFlat(e,r,o=[]){let a=-1;for(;++a<e.length;){let s=e[a];if(r>0&&Array.isArray(s))if(r>1)this.baseFlat(s,r-1,o);else{let c=-1,p=o.length;for(;++c<s.length;)o[p+c]=s[c]}else o[o.length]=s}return o}flat(e,r=1/0){return Array.isArray(e)?this.baseFlat(e,r):e}groupBy(e,r){return Array.isArray(e)?e.reduce((o,a)=>{let s=r(a);return Object.prototype.hasOwnProperty.call(o,s)?o[s].push(a):o[s]=[a],o},{}):{}}uniq(e,r){return Array.from(e.reduce((o,a)=>{let s=r?typeof r=="string"?a[r]:r(a):a;return o.has(s)||o.set(s,a),o},new Map).values())}};i.\u0275fac=function(r){return new(r||i)(lt(kt))},i.\u0275prov=rt({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var fT=["target"];function _T(t,i){}function gT(t,i){t&1&&Ze(0)}function CT(t,i){t&1&&we(0)}function yT(t,i){if(t&1&&N(0,"i",10),t&2){let n=l(5);u("nzType",n._btn.submit_icon.type)("nzTheme",n._btn.submit_icon.theme)("nzTwotoneColor",n._btn.submit_icon.twoToneColor)("nzIconfont",n._btn.submit_icon.iconfont)}}function vT(t,i){if(t&1&&N(0,"i",10),t&2){let n=l(6);u("nzType",n._btn.reset_icon.type)("nzTheme",n._btn.reset_icon.theme)("nzTwotoneColor",n._btn.reset_icon.twoToneColor)("nzIconfont",n._btn.reset_icon.iconfont)}}function zT(t,i){if(t&1){let n=V();m(0,"button",12),P("click",function(){b(n);let r=l(5);return S(r.reset(!0))}),g(1,vT,1,4,"i",10),R(2),f()}if(t&2){let n=l(5);u("nzType",n._btn.reset_type)("nzSize",n._btn.render.size)("disabled",n.loading),d(),D(1,n._btn.reset_icon?1:-1),d(),ee(" ",n._btn.reset," ")}}function xT(t,i){if(t&1&&(m(0,"button",9),g(1,yT,1,4,"i",10),R(2),f(),g(3,zT,3,5,"button",11)),t&2){let n=l(4);u("nzType",n._btn.submit_type)("nzSize",n._btn.render.size)("nzLoading",n.loading)("disabled",n.liveValidate&&!n.valid),d(),D(1,n._btn.submit_icon?1:-1),d(),ee(" ",n._btn.submit," "),d(),D(3,n._btn.reset?3:-1)}}function bT(t,i){}function ST(t,i){if(t&1&&g(0,bT,0,0,"ng-template",13),t&2){l(4);let n=q(1);u("ngTemplateOutlet",n)}}function TT(t,i){if(t&1&&(m(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),g(4,xT,4,7)(5,ST,1,1),f()()()()),t&2){let n=l(3);u("ngClass",n._btn.render.class)("fixed-label",n._btn.render.spanLabelFixed),d(),u("nzSpan",n.btnGrid.span)("nzOffset",n.btnGrid.offset)("nzXs",n.btnGrid.xs)("nzSm",n.btnGrid.sm)("nzMd",n.btnGrid.md)("nzLg",n.btnGrid.lg)("nzXl",n.btnGrid.xl)("nzXXl",n.btnGrid.xxl),d(3),D(4,n.button?4:5)}}function wT(t,i){if(t&1&&g(0,TT,6,11,"nz-form-item",4),t&2){let n=l(2);D(0,n._btn&&n._btn.render?0:-1)}}function kT(t,i){}function DT(t,i){if(t&1&&g(0,kT,0,0,"ng-template",13),t&2){l(2);let n=q(1);u("ngTemplateOutlet",n)}}function IT(t,i){if(t&1&&g(0,wT,1,1)(1,DT,1,1),t&2){let n=l();D(0,n.button!=="none"?0:1)}}function PT(t,i){if(t&1&&N(0,"sf-item",3),t&2){let n=l(),e=q(3);u("formProperty",n.rootProperty)("footer",e)}}var R0=["*"];function ET(t,i){if(t&1&&N(0,"i",11),t&2){let n=l(4);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipColor",n.oh.bgColor)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function MT(t,i){if(t&1&&(m(0,"span",10),R(1),g(2,ET,1,9,"i",11),f()),t&2){let n=l(3);d(),ee(" ",n.ui.optional," "),d(),D(2,n.oh?2:-1)}}function OT(t,i){if(t&1&&(m(0,"label")(1,"span",8),R(2),f(),g(3,MT,3,2,"span",9),f()),t&2){let n=l(2);A("ant-form-item-required",n.ui._required),oe("for",n.id),d(2),ae(n.t),d(),D(3,n.ui.optional||n.oh?3:-1)}}function NT(t,i){if(t&1&&(m(0,"div",6),g(1,OT,4,5,"label",7),f()),t&2){let n=l();u("nzSpan",n.ui.spanLabel),d(),D(1,n.t?1:-1)}}function $T(t,i){if(t&1&&(m(0,"div",12)(1,"div",13),R(2),f()()),t&2){let n=l();u("@helpMotion",void 0),d(2),ee(" ",n.error," ")}}function FT(t,i){if(t&1&&N(0,"div",14),t&2){let n=l();u("innerHTML",n.ui._description,Ke)}}function RT(t,i){if(t&1&&N(0,"i",9),t&2){let n=l(2);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function VT(t,i){if(t&1){let n=V();m(0,"div",7)(1,"label"),R(2),m(3,"span",8),R(4),g(5,RT,1,8,"i",9),f()(),m(6,"div",10)(7,"button",11),P("click",function(){b(n);let r=l();return S(r.addItem())}),f()()()}if(t&2){let n=l();u("nzSpan",n.ui.spanLabel),d(),A("ant-form-item-required",n.ui.required),d(),ee(" ",n.schema.title," "),d(2),ee(" ",n.ui.optional," "),d(),D(5,n.oh?5:-1),d(2),u("nzType",n.addType)("disabled",n.addDisabled)("innerHTML",n.addTitle,Ke)}}function AT(t,i){if(t&1){let n=V();m(0,"span",16),P("click",function(){b(n);let r=l(2).index,o=l();return S(o.removeItem(r))}),N(1,"i",17),f()}if(t&2){let n=l(3);oe("title",n.removeTitle)}}function HT(t,i){if(t&1&&(m(0,"div",13)(1,"nz-card"),N(2,"sf-item",14),g(3,AT,2,1,"span",15),f()()),t&2){let n=l(),e=n.index,r=n.$implicit,o=l();u("nzSpan",o.arraySpan),oe("data-index",e),d(2),u("formProperty",r),d(),D(3,o.showRemove?3:-1)}}function LT(t,i){if(t&1&&(pe(0),g(1,HT,4,4,"div",12),ue()),t&2){let n=i.$implicit;d(),D(1,n.visible&&!n.ui.hidden?1:-1)}}function jT(t,i){if(t&1&&(m(0,"div",18),R(1),f()),t&2){let n=l();d(),ae(n.error)}}function BT(t,i){if(t&1&&N(0,"div",19),t&2){let n=l();u("innerHTML",n.ui._description,Ke)}}function WT(t,i){if(t&1){let n=V();m(0,"label",3),Je("ngModelChange",function(r){b(n);let o=l(2);return Xe(o.allChecked,r)||(o.allChecked=r),S(r)}),P("ngModelChange",function(){b(n);let r=l(2);return S(r.onAllChecked())}),R(1),f()}if(t&2){let n=l(2);ot("ngModel",n.allChecked),u("nzIndeterminate",n.indeterminate),d(),ee(" ",n.ui.checkAllText||n.l.checkAllText," ")}}function qT(t,i){if(t&1&&g(0,WT,2,3,"label",2),t&2){let n=l();D(0,n.ui.checkAll?0:-1)}}function UT(t,i){if(t&1&&N(0,"i",7),t&2){let n=l(3);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function YT(t,i){if(t&1){let n=V();m(0,"label",5),P("ngModelChange",function(r){b(n);let o=l(2);return S(o._setValue(r))}),R(1),m(2,"span",6),R(3),g(4,UT,1,8,"i",7),f()()}if(t&2){let n=l(2);u("nzDisabled",n.disabled)("ngModel",n.value),d(),ee(" ",n.schema.title," "),d(2),ee(" ",n.ui.optional," "),d(),D(4,n.oh?4:-1)}}function QT(t,i){}function KT(t,i){if(t&1){let n=V();g(0,QT,0,0,"ng-template",8),m(1,"nz-checkbox-group",9),P("ngModelChange",function(){b(n);let r=l(3);return S(r.notifySet())}),f()}if(t&2){let n=l(3),e=q(1);u("ngTemplateOutlet",e),d(),u("ngModel",n.data)}}function GT(t,i){}function ZT(t,i){if(t&1&&(m(0,"div",12),g(1,GT,0,0,"ng-template",8),f()),t&2){let n=l(4),e=q(1);u("nzSpan",n.grid_span),d(),u("ngTemplateOutlet",e)}}function XT(t,i){if(t&1&&(m(0,"div",12)(1,"label",13),R(2),f()()),t&2){let n=i.$implicit,e=l(4);u("nzSpan",e.grid_span),d(),u("nzValue",n.value)("ngModel",n.checked)("nzDisabled",n.disabled),d(),ee(" ",n.label," ")}}function JT(t,i){if(t&1){let n=V();m(0,"nz-checkbox-wrapper",10),P("nzOnChange",function(r){b(n);let o=l(3);return S(o.groupInGridChange(r))}),m(1,"div",11),g(2,ZT,2,2,"div",12),se(3,XT,3,5,"div",12,wt),f()()}if(t&2){let n=l(3);d(2),D(2,n.ui.checkAll?2:-1),d(),le(n.data)}}function ew(t,i){if(t&1&&g(0,KT,2,2)(1,JT,5,1),t&2){let n=l(2);D(0,n.grid_span===0?0:1)}}function tw(t,i){if(t&1&&g(0,YT,5,5,"label",4)(1,ew,2,1),t&2){let n=l();D(0,n.data.length===0?0:1)}}function iw(t,i){}var nw=(t,i,n)=>({$implicit:t,schema:i,ui:n});function rw(t,i){if(t&1){let n=V();m(0,"nz-year-picker",1),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.displayValue,r)||(o.displayValue=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o._change(r))})("nzOnOpenChange",function(r){b(n);let o=l();return S(o._openChange(r))}),f()}if(t&2){let n=l();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),ot("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function ow(t,i){if(t&1){let n=V();m(0,"nz-month-picker",1),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.displayValue,r)||(o.displayValue=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o._change(r))})("nzOnOpenChange",function(r){b(n);let o=l();return S(o._openChange(r))}),f()}if(t&2){let n=l();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),ot("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function aw(t,i){if(t&1){let n=V();m(0,"nz-week-picker",2),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.displayValue,r)||(o.displayValue=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o._change(r))})("nzOnOpenChange",function(r){b(n);let o=l();return S(o._openChange(r))}),f()}if(t&2){let n=l();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),ot("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function sw(t,i){if(t&1){let n=V();m(0,"nz-range-picker",3),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.displayValue,r)||(o.displayValue=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o._change(r))})("nzOnOpenChange",function(r){b(n);let o=l();return S(o._openChange(r))})("nzOnOk",function(r){b(n);let o=l();return S(o._ok(r))}),f()}if(t&2){let n=l();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),ot("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzDisabledTime",n.ui.disabledTime)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzRanges",n.ui.ranges)("nzShowTime",n.ui.showTime)("nzSeparator",n.ui.separator)("nzShowWeekNumber",n.ui.showWeekNumber||!1)("nzMode",n.ui.rangeMode)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function lw(t,i){if(t&1){let n=V();m(0,"nz-date-picker",4),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.displayValue,r)||(o.displayValue=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o._change(r))})("nzOnOpenChange",function(r){b(n);let o=l();return S(o._openChange(r))})("nzOnOk",function(r){b(n);let o=l();return S(o._ok(r))}),f()}if(t&2){let n=l();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),ot("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzDisabledTime",n.ui.disabledTime)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzShowTime",n.ui.showTime)("nzShowToday",n.i.showToday)("nzShowWeekNumber",n.ui.showWeekNumber||!1)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}var cw=t=>({"ant-input-number__hide-step":t});function dw(t,i){if(t&1&&(m(0,"div",4),R(1),f()),t&2){let n=l(2);d(),ae(n.title)}}function pw(t,i){if(t&1&&(m(0,"div",5),N(1,"sf-item",6),f()),t&2){let n=l().$implicit;u("nzSpan",n.grid.span)("nzOffset",n.grid.offset)("nzXs",n.grid.xs)("nzSm",n.grid.sm)("nzMd",n.grid.md)("nzLg",n.grid.lg)("nzXl",n.grid.xl)("nzXXl",n.grid.xxl),d(),u("formProperty",n.property)("fixed-label",n.spanLabelFixed)}}function uw(t,i){if(t&1&&g(0,pw,2,10,"div",5),t&2){let n=i.$implicit;D(0,n.property.visible&&n.show?0:-1)}}function hw(t,i){if(t&1&&(m(0,"div",3),se(1,uw,1,1,null,null,wt),f()),t&2){let n=l(2);u("nzGutter",n.grid.gutter),d(),le(n.list)}}function mw(t,i){if(t&1&&N(0,"sf-item",6),t&2){let n=l().$implicit;u("formProperty",n.property)("fixed-label",n.spanLabelFixed)}}function fw(t,i){if(t&1&&g(0,mw,1,2,"sf-item",6),t&2){let n=i.$implicit;D(0,n.property.visible&&n.show?0:-1)}}function _w(t,i){if(t&1&&se(0,fw,1,1,null,null,wt),t&2){let n=l(2);le(n.list)}}function gw(t,i){if(t&1&&g(0,dw,2,1,"div",2)(1,hw,3,1,"div",3)(2,_w,2,0),t&2){let n=i.$implicit,e=l();D(0,!n&&e.title?0:-1),d(),D(1,e.grid?1:2)}}function Cw(t,i){if(t&1&&N(0,"i",13),t&2){let n=l(3);u("nzType",n.expand?"down":"up")}}function yw(t,i){if(t&1&&N(0,"i",15),t&2){let n=l(4);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipColor",n.oh.bgColor)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function vw(t,i){if(t&1&&(m(0,"span",14),R(1),g(2,yw,1,9,"i",15),f()),t&2){let n=l(3);d(),ee(" ",n.ui.optional," "),d(),D(2,n.oh?2:-1)}}function zw(t,i){if(t&1){let n=V();m(0,"div",10),P("click",function(){b(n);let r=l(2);return S(r.changeExpand())}),g(1,Cw,1,1,"i",11),R(2),g(3,vw,3,2,"span",12),f()}if(t&2){let n=l(2);A("point",n.showExpand),d(),D(1,n.showExpand?1:-1),d(),ee(" ",n.title," "),d(),D(3,n.ui.optional||n.oh?3:-1)}}function xw(t,i){}var bw=()=>[],Sw=()=>({$implicit:!0});function Tw(t,i){if(t&1&&(m(0,"nz-card",7),g(1,zw,4,5,"ng-template",null,8,he)(3,xw,0,0,"ng-template",9),f()),t&2){let n=q(2),e=l(),r=q(1);A("sf__object-card-fold",!e.expand),u("nzTitle",n)("nzExtra",e.ui.cardExtra)("nzSize",e.ui.cardSize||"small")("nzActions",e.ui.cardActions||ni(11,bw))("nzBodyStyle",e.ui.cardBodyStyle)("nzBordered",e.ui.cardBordered||!0)("nzBorderless",e.ui.cardBorderless||!1),d(3),u("ngTemplateOutlet",r)("ngTemplateOutletContext",ni(12,Sw))}}function ww(t,i){}function kw(t,i){if(t&1&&g(0,ww,0,0,"ng-template",16),t&2){l();let n=q(1);u("ngTemplateOutlet",n)}}function Dw(t,i){if(t&1&&(m(0,"label",2),N(1,"span",3),f()),t&2){let n=i.$implicit,e=l(2);u("nzValue",n.value)("nzDisabled",e.disabled||n.disabled),d(),u("innerHTML",n.label,Ke)}}function Iw(t,i){if(t&1&&se(0,Dw,2,3,"label",2,wt),t&2){let n=l();le(n.data)}}function Pw(t,i){if(t&1&&(m(0,"label",4),N(1,"span",3),f()),t&2){let n=i.$implicit,e=l(2);u("nzValue",n.value)("nzDisabled",e.disabled||n.disabled),d(),u("innerHTML",n.label,Ke)}}function Ew(t,i){if(t&1&&se(0,Pw,2,3,"label",4,wt),t&2){let n=l();le(n.data)}}function Mw(t,i){if(t&1&&N(0,"nz-option",3),t&2){let n=i.$implicit;u("nzLabel",n.label)("nzValue",n.value)("nzHide",n.hide)("nzDisabled",n.disabled)}}function Ow(t,i){if(t&1&&se(0,Mw,1,4,"nz-option",3,wt),t&2){let n=l();le(n.data)}}function Nw(t,i){if(t&1&&N(0,"nz-option",5),t&2){let n=i.$implicit;u("nzLabel",n.label)("nzValue",n.value)("nzDisabled",n.disabled)("nzHide",n.hide)}}function $w(t,i){if(t&1&&(m(0,"nz-option-group",4),se(1,Nw,1,4,"nz-option",5,wt),f()),t&2){let n=i.$implicit;u("nzLabel",n.label),d(),le(n.children)}}function Fw(t,i){if(t&1&&se(0,$w,3,1,"nz-option-group",4,wt),t&2){let n=l();le(n.data)}}function Rw(t,i){if(t&1&&(m(0,"nz-option",2),N(1,"i",6),R(2),f()),t&2){let n=l();d(2),ee(" ",n.ui.searchLoadingText," ")}}function Vw(t,i){if(t&1){let n=V();m(0,"input",3),P("ngModelChange",function(r){b(n);let o=l();return S(o.change(r))})("keyup.enter",function(r){b(n);let o=l();return S(o.enter(r))})("focus",function(r){b(n);let o=l();return S(o.focus(r))})("blur",function(r){b(n);let o=l();return S(o.blur(r))}),f()}if(t&2){let n=l();u("disabled",n.disabled)("nzSize",n.ui.size)("nzBorderless",n.ui.borderless)("ngModel",n.value),oe("id",n.id)("disabled",n.disabled)("maxLength",n.schema.maxLength||null)("type",n.ui.type||"text")("placeholder",n.ui.placeholder)("autocomplete",n.ui.autocomplete)("autoFocus",n.ui.autofocus)}}function Aw(t,i){}function Hw(t,i){if(t&1&&(m(0,"nz-input-group",2),g(1,Aw,0,0,"ng-template",4),f()),t&2){let n=l(),e=q(2);u("nzAddOnBefore",n.ui.addOnBefore)("nzAddOnAfter",n.ui.addOnAfter)("nzAddOnBeforeIcon",n.ui.addOnBeforeIcon)("nzAddOnAfterIcon",n.ui.addOnAfterIcon)("nzPrefix",n.ui.prefix)("nzPrefixIcon",n.ui.prefixIcon)("nzSuffix",n.ui.suffix)("nzSuffixIcon",n.ui.suffixIcon),d(),u("ngTemplateOutlet",e)}}function Lw(t,i){}function jw(t,i){if(t&1&&g(0,Lw,0,0,"ng-template",4),t&2){l();let n=q(2);u("ngTemplateOutlet",n)}}function Bw(t,i){if(t&1&&N(0,"span",1),t&2){let n=l();u("innerHTML",n.text,Ke)}}function Ww(t,i){if(t&1&&N(0,"span",2),t&2){let n=l();u("innerText",n.text)}}function qw(t,i){if(t&1){let n=V();m(0,"textarea",3),P("ngModelChange",function(r){b(n);let o=l();return S(o.change(r))})("focus",function(r){b(n);let o=l();return S(o.focus(r))})("blur",function(r){b(n);let o=l();return S(o.blur(r))}),R(1,"      "),f()}if(t&2){let n=l();u("disabled",n.disabled)("nzSize",n.ui.size)("ngModel",n.value)("nzAutosize",n.autosize)("nzBorderless",n.ui.borderless),oe("id",n.id)("disabled",n.disabled)("maxLength",n.schema.maxLength||null)("placeholder",n.ui.placeholder)}}function Uw(t,i){if(t&1){let n=V();m(0,"nz-textarea-count",2)(1,"textarea",3),P("ngModelChange",function(r){b(n);let o=l();return S(o.change(r))})("focus",function(r){b(n);let o=l();return S(o.focus(r))})("blur",function(r){b(n);let o=l();return S(o.blur(r))}),R(2,"        "),f()()}if(t&2){let n=l();u("nzMaxCharacterCount",n.ui.maxCharacterCount)("nzComputeCharacterCount",n.ui.computeCharacterCount),d(),u("disabled",n.disabled)("nzSize",n.ui.size)("ngModel",n.value)("nzAutosize",n.autosize)("nzBorderless",n.ui.borderless),oe("id",n.id)("disabled",n.disabled)("maxLength",n.schema.maxLength||null)("placeholder",n.ui.placeholder)}}function Yw(t,i){}function Qw(t,i){if(t&1&&g(0,Yw,0,0,"ng-template",4),t&2){l();let n=q(2);u("ngTemplateOutlet",n)}}var Kw={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function qd(t){return t.merge("sf",Kw)}var cn="/";function V0(t){return t==null}function Ui(t,i){return t==null?i:`${t}`!="false"}function ol(t,...i){}function Gw(t,i){let n=/^#\/definitions\/(.*)$/.exec(t);if(n&&n[1]){let e=n[1].split(cn),r=i;for(let o of e)if(o=o.replace(/~1/g,cn).replace(/~0/g,"~"),r.hasOwnProperty(o))r=r[o];else throw new Error(`Could not find a definition for ${t}.`);return r}throw new Error(`Could not find a definition for ${t}.`)}function Ud(t,i={}){if(t.hasOwnProperty("$ref")){let e=Gw(t.$ref,i),n=t,{$ref:r}=n,o=Wp(n,["$ref"]);return Ud(I(I({},e),o),i)}return t}function Zw(t,i){let n=(e,r)=>{Xw(e,r),Object.keys(e.properties).forEach(o=>{let a=e.properties[o],s=`$${o}`;a.items&&n(a.items,r[s].$items),a.properties&&n(a,r[s])})};n(t,i)}function Xw(t,i){if(!(t.hasOwnProperty("if")&&t.hasOwnProperty("then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let n=Object.keys(t.properties),e=Object.keys(t.if.properties);Hd(n,e),Hd(n,t.then.required),t.required=t.required.concat(t.then.required);let r=t.hasOwnProperty("else");r&&(Hd(n,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return e.forEach(s=>{let c=t.if.properties[s].enum;o[s]=c,r&&(a[s]=p=>!c.includes(p))}),t.then.required.forEach(s=>i[`$${s}`].visibleIf=o),r&&t.else.required.forEach(s=>i[`$${s}`].visibleIf=a),t}function Hd(t,i){i.forEach(n=>{if(!t.includes(n))throw new Error(`if: properties does not contain '${n}'`)})}function Jw(t,i){if(!Array.isArray(i))return t;let n=h=>h.reduce((_,v)=>(_[v]=!0,_),{}),e=h=>`property [${h.join("', '")}]`,r=n(t),o=n(i),a=i.filter(h=>h!=="*"&&!r[h]);if(a.length)throw new Error(`ui schema order list contains extraneous ${e(a)}`);let s=t.filter(h=>!o[h]),c=i.indexOf("*");if(c===-1){if(s.length)throw new Error(`ui schema order list does not contain ${e(s)}`);return i}if(c!==i.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let p=[...i];return p.splice(c,1,...s),p}function A0(t,i,n){return V0(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(e=>({label:e,value:e}))),i&&(Array.isArray(i)||(i=[i]),t.forEach(e=>{~i.indexOf(e.value)&&(e.checked=!0)})),n&&t.forEach(e=>e.disabled=!0),t)}function e2(t,i,n){return A0($i(t||[]),i,n)}function Yd(t,i,n,e){return typeof i.asyncData=="function"?i.asyncData(e).pipe(Te(r=>A0(r,n,t.readOnly))):Bt(e2(t.enum,n,t.readOnly))}var al=class{constructor(i,n,e,r,o,a,s,c){this.injector=i,this._options=c,this._errors=null,this._valueChanges=new bt({path:null,pathValue:null,value:null}),this._errorsChanges=new bt(null),this._visible=!0,this._visibilityChanges=new bt(!0),this._objErrors={},this._value=null,this.schema=e,this.ui=r,this.schemaValidator=n.createValidatorFn(e,{ingoreKeywords:this.ui.ingoreKeywords,debug:r.debug}),this.formData=o||e.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(i=!1){this.widget?.detectChanges(i)}updateValueAndValidity(i){i=I({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},i),this._updateValue(),i.emitValueEvent&&(i.updatePath=i.updatePath||this.path,i.updateValue=i.updateValue==null?this.value:i.updateValue,this.valueChanges.next({value:this.value,path:i.updatePath,pathValue:i.updateValue})),i.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!i.onlySelf&&this.parent.updateValueAndValidity(Me(I({},i),{emitValidator:!1}))}searchProperty(i){let n=this,e=null,r=null;if(i[0]===cn)e=this.findRoot(),r=e.getProperty(i.substring(1));else for(;r===null&&n.parent!==null;)n=e=n.parent,r=e.getProperty(i);return r}findRoot(){let i=this;for(;i.parent!==null;)i=i.parent;return i}isEmptyData(i){if(V0(i))return!0;switch(this.type){case"string":return`${i}`.length===0}return!1}_runValidation(){let i,n=this.isEmptyData(this._value);n&&this.ui._required?i=[{keyword:"required"}]:n?i=[]:i=this.schemaValidator(this._value)||[];let e=this.ui.validator;if(typeof e=="function"){let r=e(this.value,this,this.findRoot());if(r instanceof Yp){r.subscribe(o=>{this.setCustomErrors(i,o),this.cd(!1)});return}this.setCustomErrors(i,r);return}this._errors=i,this.setErrors(this._errors)}setCustomErrors(i,n){let e=Array.isArray(n)&&n.length>0;e&&n.forEach(r=>{if(!r.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");r.keyword=null}),this._errors=e?i.concat(...n):i,this.setErrors(this._errors)}setErrors(i=[],n=!0){let e=Array.isArray(i)?i:[i];if(n&&e&&!this.ui.onlyVisual){let r=this.widget&&this.widget.l.error||{};e=e.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||r[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([\.a-zA-Z0-9]+)}/g,(s,c)=>o.params[c]||"")),o.message=a),o})}this._errors=e,this._errorsChanges.next(e),this._parent&&this._parent.setParentAndPlatErrors(e,this.path)}setParentAndPlatErrors(i,n){this._objErrors[n]=i;let e=[];Object.keys(this._objErrors).forEach(r=>{let o=this.searchProperty(r);o&&!o.visible||e.push(...this._objErrors[r])}),this.setErrors(e,!1)}setVisible(i){return this._visible=i,this._visibilityChanges.next(i),i&&this.injector.get(Ye).onStable.pipe(kr(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let i=this.ui.visibleIf;if(typeof i=="object"&&Object.keys(i).length===0)this.setVisible(!1);else if(i!=null){let n=[];for(let e in i)if(i.hasOwnProperty(e)){let r=this.searchProperty(e);if(r){let o=r.valueChanges.pipe(Te(c=>{let p=i[e];if(typeof p=="function"){let h=p(c.value,r);if(typeof h=="object"){let _=I({show:!1,required:!1},h),v=this.parent?.schema.required;if(v&&this.propertyId){let y=v.findIndex(k=>k===this.propertyId);_.required?y===-1&&v.push(this.propertyId):y!==-1&&v.splice(y,1),this.ui._required=_.required}return _.show}return h}return p.indexOf("$ANY$")!==-1?c.value&&c.value.length>0:p.indexOf(c.value)!==-1})),a=r._visibilityChanges,s=fi([o,a]).pipe(Te(c=>c[0]&&c[1]));n.push(s)}}fi(n).pipe(Te(e=>this.ui.visibleIfLogical==="and"?e.every(r=>r):e.some(r=>r)),Ei()).subscribe(e=>this.setVisible(e))}}updateFeedback(i=""){this.ui.feedback=i,this.widget?.injector.get(_i).formStatusChanges.next({status:i,hasFeedback:!!i}),this.cd(!0)}},mo=class t extends al{constructor(){super(...arguments),this.properties=null}getProperty(i){let n=i.indexOf(cn),e=n!==-1?i.substring(0,n):i,r=this.properties[e];if(r!==null&&n!==-1&&r instanceof t){let o=i.substring(n+1);r=r.getProperty(o)}return r}forEachChild(i){for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let e=this.properties[n];i(e,n)}}forEachChildRecursive(i){this.forEachChild(n=>{i(n),n instanceof t&&n.forEachChildRecursive(i)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(i=>{i._bindVisibility()})}isRoot(){return this===this.root}},sl=class extends mo{get propertiesId(){return this._propertiesId}constructor(i,n,e,r,o,a,s,c,p){super(i,e,r,o,a,s,c,p),this.formPropertyFactory=n,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let i;try{i=Jw(Object.keys(this.schema.properties),this.ui.order)}catch(n){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,n)}i.forEach(n=>{this.properties[n]=this.formPropertyFactory.createProperty(this.schema.properties[n],this.ui[`$${n}`],(this.formData||{})[n],this,n),this._propertiesId.push(n)})}setValue(i,n){let e=this.properties;for(let r in i)i.hasOwnProperty(r)&&e[r]&&e[r].setValue(i[r],!0);this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}resetValue(i,n){i=i||this.schema.default||{};let e=this.properties;for(let r in this.schema.properties)this.schema.properties.hasOwnProperty(r)&&e[r].resetValue(i[r],!0);this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let i={};this.forEachChild((n,e)=>{n.visible&&n._hasValue()&&(i[e]=n.value)}),this._value=i}},ll=class extends mo{constructor(i,n,e,r,o,a,s,c,p){super(i,e,r,o,a,s,c,p),this.formPropertyFactory=n,this.properties=[]}getProperty(i){let n=i.indexOf(cn),e=+(n!==-1?i.substring(0,n):i),r=this.properties;if(isNaN(e)||e>=r.length)return;let o=i.substring(n+1);return r[e].getProperty(o)}setValue(i,n){this.properties=[],this.clearErrors(),this.resetProperties(i),this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}resetValue(i,n){this._value=i||this.schema.default||[],this.setValue(this._value,n)}_hasValue(){return!0}_updateValue(){let i=[];this.forEachChild(n=>{n.visible&&i.push(I(I({},this.widget?.cleanValue?null:n.formData),n.value))}),this._value=i}addProperty(i){let n=this.formPropertyFactory.createProperty($i(this.schema.items),$i(this.ui.$items),i,this);return this.properties.push(n),n}resetProperties(i){for(let n of i)this.addProperty(n).resetValue(n,!0)}clearErrors(i){(i||this)._objErrors={}}add(i){let n=this.addProperty(i);return n.resetValue(i,!1),n}remove(i){let n=this.properties;this.clearErrors(),n.splice(i,1),n.forEach((e,r)=>{e.path=[e.parent.path,r].join(cn),this.clearErrors(e),e instanceof sl&&e.forEachChild(o=>{o.updateValueAndValidity({emitValueEvent:!1})})}),n.length===0&&this.updateValueAndValidity()}},da=class extends al{setValue(i,n){this._value=i,this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}resetValue(i,n){i==null&&(i=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=i,this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0}),this.widget&&(this.widget.reset(i),this.cd(n))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}},Ld=class extends da{fallbackValue(){return null}},jd=class extends da{fallbackValue(){return null}setValue(i,n){typeof i=="string"&&(i.length?i=i.indexOf(".")>-1?parseFloat(i):parseInt(i,10):i=void 0),this._value=i,this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}},Bd=class extends da{fallbackValue(){return null}setValue(i,n){this._value=i??"",this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}},pa=class{constructor(i,n,e){this.injector=i,this.schemaValidatorFactory=n,this.options=qd(e)}createProperty(i,n,e,r=null,o){let a=null,s="";if(r)switch(s+=r.path,r.parent!==null&&(s+=cn),r.type){case"object":s+=o;break;case"array":s+=r.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${r.type}`)}else s=cn;if(i.$ref){let c=Ud(i,r.root.schema.definitions);a=this.createProperty(c,n,e,r,s)}else switch((o&&r.schema.required.indexOf(o.split(cn).pop())!==-1||n.showRequired===!0)&&(n._required=!0),i.title==null&&(i.title=o),(i.type==="string"||i.type==="number")&&!i.format&&!n.format?n.widget==="date"?n._format=i.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:n.widget==="time"&&(n._format=i.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):n._format=n.format,i.type){case"integer":case"number":a=new jd(this.injector,this.schemaValidatorFactory,i,n,e,r,s,this.options);break;case"string":a=new Bd(this.injector,this.schemaValidatorFactory,i,n,e,r,s,this.options);break;case"boolean":a=new Ld(this.injector,this.schemaValidatorFactory,i,n,e,r,s,this.options);break;case"object":a=new sl(this.injector,this,this.schemaValidatorFactory,i,n,e,r,s,this.options);break;case"array":a=new ll(this.injector,this,this.schemaValidatorFactory,i,n,e,r,s,this.options);break;default:throw new TypeError(`Undefined type ${i.type}`)}return a.propertyId=o,a instanceof mo&&this.initializeRoot(a),a}initializeRoot(i){i._bindVisibility()}},ua=class{constructor(){this.onDestroy=new ne}destroy(){this.onDestroy.next(!0)}},dl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),H0=(()=>{let i=class i extends dl{constructor(){if(super(),this.ngZone=j(Ye),this.cogSrv=j(kt),!(typeof document=="object"&&document))return;this.options=qd(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new $0.default(Me(I({allErrors:!0,loopEnum:50},e),{formats:I({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:Ja.color,mobile:Ja.mobile,"id-card":Ja.idCard},e.formats)})),(0,F0.default)(this.ajv)})}createValidatorFn(e,r){let o=[...this.options.ingoreKeywords,...r.ingoreKeywords||[]];return a=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,a))}catch{}let s=this.ajv.errors;return this.options&&o&&s&&(s=s.filter(c=>o.indexOf(c.keyword)===-1)),s}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),mr=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(i){this.defaultWidget=i}register(i,n){this._widgets[i]=n}has(i){return this._widgets.hasOwnProperty(i)}getType(i){return this.has(i)?this._widgets[i]:this.defaultWidget}},L0=(()=>{let i=class i{constructor(){this.registry=j(mr)}createWidget(e,r){this.registry.has(r);let o=this.registry.getType(r);return e.createComponent(o)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),t2=0,pl=(()=>{let i=class i{constructor(){this.widgetFactory=j(L0),this.terminator=j(ua),this.destroy$=new ne,this.widget=null,this.footer=null}onWidgetInstanciated(e){this.widget=e;let r=`_sf-${t2++}`,o=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=o,this.widget.id=r,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["sf-item"]],viewQuery:function(r,o){if(r&1&&me(fT,7,en),r&2){let a;te(a=ie())&&(o.container=a.first)}},hostVars:2,hostBindings:function(r,o){r&2&&A("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[ct([_i]),re],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(r,o){r&1&&g(0,_T,0,0,"ng-template",null,0,he)(2,gT,1,0,"ng-container",1),r&2&&(d(2),u("ngTemplateOutlet",o.footer))},dependencies:[ge],encapsulation:2});let t=i;return t})(),j0=(()=>{let i=class i{constructor(){this.el=j(de).nativeElement,this.render=j(Fe),this._inited=!1}init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,r=e.querySelector(".ant-row")||e;this.render.addClass(r,"sf__fixed");let o=r.querySelector(".ant-form-item-label"),a=r.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),s=`${this.num}px`;o?(this.render.setStyle(o,"flex",`0 0 ${s}`),this.render.setStyle(a,"max-width",`calc(100% - ${s})`)):this.render.setStyle(a,"margin-left",s)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["","fixed-label",""]],inputs:{num:[B.HasDecoratorInputTransform,"fixed-label","num",e=>pt(e,0)]},features:[Vt,re]});let t=i;return t})();function i2(t,i,n){return new pa(t,i,n)}var n2=(()=>{let i=class i{get btnGrid(){return this._btn.render.grid}set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,r){let o=this.getProperty(e);if(!o)throw new Error(`Invalid path: ${e}`);return o.resetValue(r,!1),this}setDisabled(e,r){let o=this.getProperty(e);if(!o)throw new Error(`Invalid path: ${e}`);return o.schema.readOnly=r,o.widget.detectChanges(),this}setRequired(e,r){let o=this.getProperty(e);if(!o)throw new Error(`Invalid path: ${e}`);let a=e.split(cn).pop(),s=o.parent?.schema.required||[],c=s.findIndex(p=>p===a);return r?c===-1&&s.push(a):c!==-1&&s.splice(c,1),o.parent.schema.required=s,o.ui._required=r,o.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,r=""){return this.getProperty(e)?.updateFeedback(r),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(e){this.formPropertyFactory=j(pa),this.terminator=j(ua),this.dom=j(nn),this.cdr=j(xe),this.localeSrv=j(Ba),this.aclSrv=j(Ia,{optional:!0}),this.i18nSrv=j(er,{optional:!0}),this.platform=j(oi),this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new W,this.formChange=new W,this.formSubmit=new W,this.formReset=new W,this.formError=new W,this.options=qd(e),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Xt()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())});let r=[this.aclSrv?this.aclSrv.change:null,this.i18nSrv?this.i18nSrv.change:null].filter(o=>o!=null);r.length>0&&Rt(...r).pipe(st(()=>this._inited),Xt()).subscribe(()=>this.refreshSchema())}fanyi(e){return(this.i18nSrv?this.i18nSrv.fanyi(e):"")||e}inheritUI(e){["optionalHelp"].filter(r=>!!this._defUi[r]).forEach(r=>e[r]=I(I({},this._defUi[r]),e[r]))}coverProperty(){let e=this.layout==="horizontal",r=$i(this.schema),{definitions:o}=r,a=(s,c,p,h,_)=>{Array.isArray(s.required)||(s.required=[]),Object.keys(s.properties).forEach(v=>{let y="$",k=y+v,T=Ud(s.properties[v],o),F=I(I({},T.ui),p[k]),E=I(I(I(I(Me(I(I({},this._defUi),h),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:T.type}),T.format&&this.options.formatMap[T.format]),typeof T.ui=="string"?{widget:T.ui}:null),!T.format&&!T.ui&&Array.isArray(T.enum)&&T.enum.length>0?{widget:"select"}:null),F);if(Object.keys(E).filter(U=>U.startsWith(y)).forEach(U=>delete E[U]),e?h.spanLabelFixed?F.spanLabelFixed||(E.spanLabelFixed=h.spanLabelFixed):(E.spanLabel||(E.spanLabel=typeof h.spanLabel>"u"?5:h.spanLabel),E.spanControl||(E.spanControl=typeof h.spanControl>"u"?19:h.spanControl),E.offsetControl||(E.offsetControl=typeof h.offsetControl>"u"?null:h.offsetControl)):(E.spanLabel=null,E.spanControl=null,E.offsetControl=null),this.layout==="inline"&&delete E.grid,this.layout!=="horizontal"&&(E.spanLabelFixed=null),E.spanLabelFixed!=null&&E.spanLabelFixed>0&&(E.spanLabel=null,E.spanControl=null),E.widget==="date"&&E.end!=null){let U=s.properties[E.end];U?U.ui=Me(I({},U.ui),{widget:E.widget,hidden:!0}):E.end=null}if(this.inheritUI(E),E.optionalHelp){typeof E.optionalHelp=="string"&&(E.optionalHelp={text:E.optionalHelp});let U=E.optionalHelp=I({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},E.optionalHelp);U.i18n&&(U.text=this.fanyi(U.i18n)),U.text||(E.optionalHelp=void 0)}if(E.i18n&&(T.title=this.fanyi(E.i18n)),E.descriptionI18n&&(T.description=this.fanyi(E.descriptionI18n)),T.description&&(E._description=this.dom.bypassSecurityTrustHtml(T.description)),E.hidden=typeof E.hidden=="boolean"?E.hidden:!1,E.hidden===!1&&E.acl&&this.aclSrv&&!this.aclSrv.can(E.acl)&&(E.hidden=!0),_[k]=E,delete T.ui,E.hidden===!0){let U=s.required.indexOf(v);U!==-1&&s.required.splice(U,1)}T.items&&(E.$items=I(I(I({},T.items.ui),p[k]),E.$items),a(T.items,T.items,p[k]?.$items??{},E.$items,E.$items)),T.properties&&Object.keys(T.properties).length&&a(T,s,p[k]||{},E,E)})};this.ui==null&&(this.ui={}),this._defUi=I(I(I({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),r.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=I({},this._defUi),a(r,r,this.ui,this.ui,this._ui),Zw(r,this._ui),this._schema=r,delete r.ui,ol(this._ui,"cover schema & ui",this._ui,r)}coverButtonProperty(){this._btn=I(I(I({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(o=>o.startsWith("$")),r=this._btn.render;if(this.layout==="horizontal"){let o=e?this._ui[e]:this._defUi;r.grid||(r.grid={offset:o.spanLabel,span:o.spanControl}),r.spanLabelFixed==null&&(r.spanLabelFixed=o.spanLabelFixed),!r.class&&typeof o.spanLabelFixed=="number"&&o.spanLabelFixed>0&&(r.class="text-center")}else r.grid={};this._mode&&(this.mode=this._mode),ol(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let r=["disabled","loading"];if(Object.keys(e).every(o=>r.includes(o))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,r){this._inited&&(this._renders.has(e)||(this._renders.set(e,r),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,r)=>{let o=this.rootProperty?.searchProperty(r);o!=null&&(o.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let r=a=>{a._runValidation(),!(!(a instanceof mo)||!a.properties)&&(Array.isArray(a.properties)?a.properties.forEach(s=>r(s)):Object.keys(a.properties).forEach(s=>r(a.properties[s])))};e.onlyRoot?this.rootProperty._runValidation():r(this.rootProperty);let o=this.rootProperty.errors;return this._valid=!(o&&o.length),e.emitError&&!this._valid&&this.formError.emit(o),this.cdr.detectChanges(),this._valid}refreshSchema(e,r){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),r&&(this.ui=r),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=I({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let o=!0;return this.rootProperty.valueChanges.subscribe(a=>{if(this._item=I(I({},this.cleanValue?null:this.formData),a.value),o){o=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:a.path,pathValue:a.pathValue})}),this.rootProperty.errorsChanges.subscribe(a=>{this._valid=!(a&&a.length),this.formError.emit(a),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};i.\u0275fac=function(r){return new(r||i)(w(kt))},i.\u0275cmp=L({type:i,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(r,o){r&2&&A("sf",!0)("sf__inline",o.layout==="inline")("sf__horizontal",o.layout==="horizontal")("sf__search",o.mode==="search")("sf__edit",o.mode==="edit")("sf__no-error",o.onlyVisual)("sf__no-colon",o.noColon)("sf__compact",o.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[B.HasDecoratorInputTransform,"liveValidate","liveValidate",ce],autocomplete:"autocomplete",firstVisual:[B.HasDecoratorInputTransform,"firstVisual","firstVisual",ce],onlyVisual:[B.HasDecoratorInputTransform,"onlyVisual","onlyVisual",ce],compact:[B.HasDecoratorInputTransform,"compact","compact",ce],mode:"mode",loading:[B.HasDecoratorInputTransform,"loading","loading",ce],disabled:[B.HasDecoratorInputTransform,"disabled","disabled",ce],noColon:[B.HasDecoratorInputTransform,"noColon","noColon",ce],cleanValue:[B.HasDecoratorInputTransform,"cleanValue","cleanValue",ce],delay:[B.HasDecoratorInputTransform,"delay","delay",ce]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[ct([L0,{provide:pa,useFactory:i2,deps:[gn,dl,kt]},ua]),Vt,re],ngContentSelectors:R0,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"nzLayout","submit"],[3,"formProperty","footer"],["class","sf-btns",3,"ngClass","fixed-label"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled","click"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(Ee(),g(0,CT,1,0,"ng-template",null,0,he)(2,IT,2,1,"ng-template",null,1,he),m(4,"form",2),P("submit",function(s){return o.onSubmit(s)}),g(5,PT,1,2,"sf-item",3),f()),r&2&&(d(4),u("nzLayout",o.layout),oe("autocomplete",o.autocomplete),d(),D(5,o.rootProperty?5:-1))},dependencies:[Mt,ge,nh,th,ih,Ri,Yt,Fi,qr,Wr,wh,os,Le,pl,j0],encapsulation:2,changeDetection:0});let t=i;return t})(),Pi=(()=>{let i=class i{constructor(){this.statusSrv=j(_i),this._showTitle=!1,this.title=null}set showTitle(e){this._showTitle=!!e}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[re],ngContentSelectors:R0,decls:8,vars:21,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected"],["class","ant-form-item-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[3,"ant-form-item-required"],[1,"sf__label-text"],["class","sf__optional"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra",3,"innerHTML"]],template:function(r,o){r&1&&(Ee(),m(0,"nz-form-item"),g(1,NT,2,2,"div",0),m(2,"div",1)(3,"div",2)(4,"div",3),we(5),f()(),g(6,$T,3,2,"div",4)(7,FT,1,1,"div",5),f()()),r&2&&(ze("width",o.ui.width,"px"),A("ant-form-item-has-error",o.showError)("ant-form-item-with-help",o.showError)("ant-form-item-has-success",o.ui.feedback==="success")("ant-form-item-has-warning",o.ui.feedback==="warning")("ant-form-item-has-error",o.ui.feedback==="error")("ant-form-item-is-validating",o.ui.feedback==="validating")("ant-form-item-has-feedback",o.ui.feedback),d(),D(1,o._showTitle?1:-1),d(),u("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),d(4),D(6,!o.ui.onlyVisual&&o.showError?6:-1),d(),D(7,o.schema.description?7:-1))},dependencies:[Yt,qr,Wr,os,Le,li],encapsulation:2,data:{animation:[qa]}});let t=i;return t})();var ul=(()=>{let i=class i{constructor(){this.cd=j(xe),this.injector=j(gn),this.sfItemComp=j(pl),this.sfComp=j(n2),this.showError=!1,this.id=""}get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(nn)}get cleanValue(){return this.sfComp?.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe($(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;ol(this.ui,"errorsChanges",this.formProperty.path,e);let r=this.sfComp?.firstVisual;(r||!r&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),ol(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,hostVars:2,hostBindings:function(r,o){r&2&&Ni(o.cls)}});let t=i;return t})(),B0=(()=>{let i=class i extends ul{reset(e){}afterViewInit(){}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275dir=Ie({type:i,features:[qe]});let t=i;return t})(),dn=(()=>{let i=class i extends ul{reset(e){}afterViewInit(){}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275dir=Ie({type:i,features:[qe]});let t=i;return t})(),r2=(()=>{let i=class i extends ul{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe($(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275dir=Ie({type:i,features:[qe]});let t=i;return t})(),o2=(()=>{let i=class i extends ul{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe($(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275dir=Ie({type:i,features:[qe]});let t=i;return t})(),a2=(()=>{let i=class i extends r2{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:r,addType:o,removable:a,removeTitle:s}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(r||this.l.addText),this.addType=o||"dashed",this.removeTitle=a===!1?null:s||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(I({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let r=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:r,emitValueEvent:!0}),this.ui.remove?.(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-array"]],hostVars:2,hostBindings:function(r,o){r&2&&A("sf__array",!0)},features:[qe],decls:8,vars:10,consts:[["nz-col","","class","ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[4,"ngFor","ngForOf"],["class","ant-form-explain"],["class","ant-form-extra",3,"innerHTML"],["nz-col","",1,"ant-form-item-label",3,"nzSpan"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"nzType","disabled","innerHTML","click"],["nz-col","","class","sf__array-item",3,"nzSpan"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],["class","sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"]],template:function(r,o){r&1&&(m(0,"nz-form-item"),g(1,VT,8,9,"div",0),m(2,"div",1)(3,"div",2)(4,"div",3),g(5,LT,2,1,"ng-container",4),f(),g(6,jT,2,1,"div",5)(7,BT,1,1,"div",6),f()()()),r&2&&(A("ant-form-item-with-help",o.showError),d(),D(1,o.schema.title?1:-1),d(),u("nzSpan",o.ui.spanControl)("nzOffset",o.ui.offsetControl),d(),A("has-error",o.showError),d(2),u("ngForOf",o.formProperty.properties),d(),D(6,!o.ui.onlyVisual&&o.showError?6:-1),d(),D(7,o.schema.description?7:-1))},dependencies:[zi,Ri,Yt,Fi,jl,qr,Wr,os,Le,li,pl],encapsulation:2});let t=i;return t})(),s2=(()=>{let i=class i extends dn{};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-boolean"]],features:[qe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading","ngModelChange"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-switch",1),P("ngModelChange",function(s){return o.setValue(s)}),f()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),u("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzCheckedChildren",o.ui.checkedChildren)("nzUnCheckedChildren",o.ui.unCheckedChildren)("nzLoading",o.ui.loading))},dependencies:[dt,tt,kh,Pi],encapsulation:2});let t=i;return t})(),l2=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(e){this.inited=!1,Yd(this.schema,this.ui,e).subscribe(r=>{this.data=r,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=r.length===0?"":this.schema.title;let{span:o}=this.ui;this.grid_span=o&&o>0?o:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(r=>r.checked);this.updateAllChecked().setValue(e.map(r=>r.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(r=>r.checked=e.indexOf(r.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-checkbox"]],features:[qe],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","","class","sf__checkbox-all mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate","ngModelChange"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"],[3,"ngModel","ngModelChange"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(r,o){r&1&&(g(0,qT,1,1,"ng-template",null,0,he),m(2,"sf-item-wrap",1),g(3,tw,2,1),f()),r&2&&(d(2),u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",!0)("title",o.labelTitle),d(),D(3,o.inited?3:-1))},dependencies:[ge,dt,tt,Yt,bi,lh,sh,qr,Wr,Le,li,Pi],encapsulation:2});let t=i;return t})(),c2=(()=>{let i=class i extends dn{};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-custom"]],features:[qe],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),g(1,iw,0,0,"ng-template",1),f()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),u("ngTemplateOutlet",o.ui._render)("ngTemplateOutletContext",ko(8,nw,o,o.schema,o.ui)))},dependencies:[ge,Pi],encapsulation:2});let t=i;return t})(),d2=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:e,end:r,displayFormat:o,allowClear:a,showToday:s}=this.ui;if(this.mode=e||"date",this.flatRange=r!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let c=this.endProperty.ui;this.endFormat=c.format?c._format:this.startFormat}if(o)this.displayFormat=o;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:Ui(a,!0),showToday:Ui(s,!0)}}reset(e){let r={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(o=>La(o,r)):e=La(e,r),this.flatRange){let o=La(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||o==null?[]:[e,o]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,r=!0){if(r&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let o=Array.isArray(e)?[Ra(e[0],this.startFormat),Ra(e[1],this.endFormat||this.startFormat)]:Ra(e,this.startFormat);this.flatRange?(this.setValue(o[0]),this.setEnd(o[1])):this.setValue(o)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-date"]],features:[qe],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline","ngModelChange","nzOnOpenChange","nzOnOk"]],template:function(r,o){if(r&1&&(m(0,"sf-item-wrap",0),g(1,rw,1,15)(2,ow,1,15)(3,aw,1,14)(4,sw,1,21)(5,lw,1,19),f()),r&2){let a;u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),D(1,(a=o.mode)==="year"?1:a==="month"?2:a==="week"?3:a==="range"?4:5)}},dependencies:[Mt,dt,tt,kn,nl,S0,w0,T0,Pi],encapsulation:2});let t=i;return t})(),P0=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.formatter=e=>e,this.parser=e=>e,this.width=""}ngOnInit(){let{minimum:e,exclusiveMinimum:r,maximum:o,exclusiveMaximum:a,multipleOf:s,type:c}=this.schema;this.step=s||1,typeof e<"u"&&(this.min=r?e+this.step:e),typeof o<"u"&&(this.max=a?o-this.step:o),c==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let p=this.ui;p.prefix!=null&&(p.formatter=h=>h==null?"":`${p.prefix} ${h}`,p.parser=h=>h.replace(`${p.prefix} `,"")),p.unit!=null&&(p.formatter=h=>h==null?"":`${h} ${p.unit}`,p.parser=h=>h.replace(` ${p.unit}`,"")),p.formatter&&(this.formatter=p.formatter),p.parser&&(this.parser=p.parser),this.width=typeof p.widgetWidth=="number"?`${p.widgetWidth}px`:p.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change&&this.ui.change(this.value)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-number"]],features:[qe],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass","ngModelChange"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-input-number",1),P("ngModelChange",function(s){return o._setValue(s)}),f()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),ze("width",o.width),u("nzId",o.id)("ngModel",o.value)("nzDisabled",o.disabled)("nzSize",o.ui.size)("nzMin",o.min)("nzMax",o.max)("nzStep",o.step)("nzFormatter",o.formatter)("nzParser",o.parser)("nzPrecision",o.ui.precision)("nzPlaceHolder",o.ui.placeholder||"")("ngClass",et(20,cw,o.ui.hideStep)))},dependencies:[Mt,dt,tt,rs,Pi],encapsulation:2});let t=i;return t})(),p2=(()=>{let i=class i extends o2{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:e,ui:r}=this,{grid:o,showTitle:a,type:s}=r;this.showExpand=Ui(r.showExpand,!0),this.expand=Ui(r.expand,!0),this.type=s??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof ll)&&a===!0)&&(this.title=this.schema.title),this.grid=o;let c=[];for(let p of e.propertiesId){let h=e.properties[p],_={property:h,grid:h.ui.grid||o||{},spanLabelFixed:h.ui.spanLabelFixed,show:h.ui.hidden===!1};c.push(_)}this.list=c}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-object"]],features:[qe],decls:4,vars:1,consts:[["default",""],["class","sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],["class","sf__title"],["nz-row","",3,"nzGutter"],[1,"sf__title"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],["cardTitleTpl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","","class","mr-xs text-xs",3,"nzType"],["class","sf__optional"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&g(0,gw,3,2,"ng-template",null,0,he)(2,Tw,4,13,"nz-card",1)(3,kw,1,1),r&2&&(d(2),D(2,o.type==="card"?2:3))},dependencies:[ge,Yt,jl,qr,Wr,Le,li,pl,j0],encapsulation:2});let t=i;return t})(),u2=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.data=[]}reset(e){this.styleType=(this.ui.styleType||"default")==="default",Yd(this.schema,this.ui,e).subscribe(r=>{this.data=r,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-radio"]],features:[qe],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzSize","nzName","ngModel","nzButtonStyle","ngModelChange"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-radio-group",1),P("ngModelChange",function(s){return o._setValue(s)}),g(2,Iw,2,0)(3,Ew,2,0),f()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),u("nzSize",o.ui.size)("nzName",o.id)("ngModel",o.value)("nzButtonStyle",o.ui.buttonStyle||"outline"),d(),D(2,o.styleType?2:3))},dependencies:[dt,tt,Dn,D0,Pi],encapsulation:2});let t=i;return t})(),h2=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.search$=new ne,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(e){this.hasGroup=(e||[]).filter(r=>r.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:r,autoFocus:o,dropdownMatchSelectWidth:a,serverSearch:s,maxMultipleCount:c,mode:p,showSearch:h,tokenSeparators:_,maxTagCount:v,compareWith:y,optionHeightPx:k,optionOverflowSize:T,showArrow:F}=this.ui;this.i={autoClearSearchValue:Ui(e,!0),borderless:Ui(r,!1),autoFocus:Ui(o,!1),dropdownMatchSelectWidth:Ui(a,!0),serverSearch:Ui(s,!1),maxMultipleCount:c||1/0,mode:p||"default",showSearch:Ui(h,!0),tokenSeparators:_||[],maxTagCount:v||void 0,optionHeightPx:k||32,optionOverflowSize:T||8,showArrow:typeof F!="boolean"?void 0:F,compareWith:y||((U,fe)=>U===fe)};let E=this.ui.onSearch;E&&this.search$.pipe($(this.sfItemComp.destroy$),Ei(),wr(this.ui.searchDebounceTime||300),Wt(U=>E(U)),xa(()=>[])).subscribe(U=>{this.data=U,this.checkGroup(U),this.loading=!1,this.detectChanges()})}reset(e){let r=this.ui.onSearch;Yd(this.schema,this.ui,e).subscribe(o=>{this._value=e,r==null&&(this.data=o),this.checkGroup(o),this.detectChanges()}),e&&r!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??void 0)}getOrgData(e){let r=this.injector.get(I0);return Array.isArray(e)?e.map(o=>r.findTree(this.data,a=>a.value===o)):r.findTree(this.data,o=>o.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-select"]],features:[qe],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize","ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0)(1,"nz-select",1),Je("ngModelChange",function(s){return Xe(o._value,s)||(o._value=s),s}),P("ngModelChange",function(s){return o.change(s)})("nzOpenChange",function(s){return o.openChange(s)})("nzOnSearch",function(s){return o.onSearch(s)})("nzScrollToBottom",function(){return o.scrollToBottom()}),g(2,Ow,2,0)(3,Fw,2,0)(4,Rw,3,1,"nz-option",2),f()()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),u("nzId",o.id)("nzDisabled",o.disabled),ot("ngModel",o._value),u("nzSize",o.ui.size)("nzPlaceHolder",o.ui.placeholder)("nzNotFoundContent",o.ui.notFoundContent)("nzDropdownClassName",o.ui.dropdownClassName)("nzAllowClear",o.ui.allowClear)("nzDropdownStyle",o.ui.dropdownStyle)("nzCustomTemplate",o.ui.customTemplate)("nzSuffixIcon",o.ui.suffixIcon)("nzRemoveIcon",o.ui.removeIcon)("nzClearIcon",o.ui.clearIcon)("nzMenuItemSelectedIcon",o.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",o.ui.maxTagPlaceholder)("nzDropdownRender",o.ui.dropdownRender)("nzAutoClearSearchValue",o.i.autoClearSearchValue)("nzBorderless",o.i.borderless)("nzAutoFocus",o.i.autoFocus)("nzDropdownMatchSelectWidth",o.i.dropdownMatchSelectWidth)("nzServerSearch",o.i.serverSearch)("nzMaxMultipleCount",o.i.maxMultipleCount)("nzMode",o.i.mode)("nzShowSearch",o.i.showSearch)("nzShowArrow",o.i.showArrow)("nzTokenSeparators",o.i.tokenSeparators)("nzMaxTagCount",o.i.maxTagCount)("compareWith",o.i.compareWith)("nzOptionHeightPx",o.i.optionHeightPx)("nzOptionOverflowSize",o.i.optionOverflowSize),d(),D(2,!o.loading&&!o.hasGroup?2:-1),d(),D(3,!o.loading&&o.hasGroup?3:-1),d(),D(4,o.loading?4:-1))},dependencies:[dt,tt,Yt,Le,ts,is,yh,Pi],encapsulation:2});let t=i;return t})(),E0=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:e,addOnAfterIcon:r,addOnBefore:o,addOnBeforeIcon:a,prefix:s,prefixIcon:c,suffix:p,suffixIcon:h,autofocus:_}=this.ui;this.type=e||o||r||a||s||c||p||h?"addon":"",_===!0&&setTimeout(()=>{this.injector.get(de).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,r=this.ui.change;if(e==null||e<=0||r==null)return;this.change$=new bt(this.value);let o=this.change$.asObservable().pipe(wr(e),$(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(o=o.pipe(Wt(this.ui.changeMap))),o.subscribe(a=>r(a))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-string"]],features:[qe],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],["nz-input","",3,"disabled","nzSize","nzBorderless","ngModel","ngModelChange","keyup.enter","focus","blur"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),g(1,Vw,1,11,"ng-template",null,1,he)(3,Hw,2,9,"nz-input-group",2)(4,jw,1,1),f()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(3),D(3,o.type==="addon"?3:4))},dependencies:[ge,zn,dt,tt,Yt,$o,xh,zh,Pi],encapsulation:2});let t=i;return t})(),m2=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=Ui(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-text"]],features:[qe],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),g(1,Bw,1,1,"span",1)(2,Ww,1,1),f()),r&2&&(A("sf__text-html",o.ui.html),u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(),D(1,o.ui.html?1:2))},dependencies:[Pi],encapsulation:2});let t=i;return t})(),f2=(()=>{let i=class i extends dn{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}};i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["sf-textarea"]],features:[qe],decls:5,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],["ipt",""],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],["nz-input","",3,"disabled","nzSize","ngModel","nzAutosize","nzBorderless","ngModelChange","focus","blur"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),g(1,qw,2,9,"ng-template",null,1,he)(3,Uw,3,11,"nz-textarea-count",2)(4,Qw,1,1),f()),r&2&&(u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title),d(3),D(3,o.ui.maxCharacterCount?3:4))},dependencies:[ge,zn,dt,tt,Sh,$o,bh,Pi],encapsulation:2});let t=i;return t})(),cl=class extends mr{constructor(){super(),this.register("object",p2),this.register("array",a2),this.register("text",m2),this.register("string",E0),this.register("number",P0),this.register("integer",P0),this.register("date",d2),this.register("radio",u2),this.register("checkbox",l2),this.register("boolean",s2),this.register("textarea",f2),this.register("select",h2),this.register("custom",c2),this.setDefault(E0)}},_2=[ai,Qr,si,Un,Yr,Ur,Qe,Nn,$n,Hr,ln,On,Kr,ci];var ha=(()=>{let i=class i{static forRoot(){return{ngModule:i,providers:[{provide:dl,useClass:H0,deps:[kt,Ye]},{provide:mr,useClass:cl}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,vt,Ku,_2]});let t=i;return t})();function AF(t){let i=[{provide:dl,useClass:H0,deps:[kt,Ye]},{provide:mr,useClass:cl}];return t?.widgets&&i.push({provide:Dr,multi:!0,useValue:()=>{let n=j(mr);t?.widgets?.forEach(e=>n.register(e.KEY,e.type))}}),Ir(i)}var C2=["fixedEl"],y2=["*"],Qd=function(t){return t.resize="resize",t.scroll="scroll",t.touchstart="touchstart",t.touchmove="touchmove",t.touchend="touchend",t.pageshow="pageshow",t.load="LOAD",t}(Qd||{});function v2(t){return typeof window<"u"&&t===window}function W0(t){return v2(t)?{top:0,left:0,bottom:0}:t.getBoundingClientRect()}var z2="affix",fo="ant-affix",x2=20,Kd=(()=>{let i=class i{get target(){let e=this.nzTarget;return(typeof e=="string"?this.document.querySelector(e):e)||window}constructor(e,r,o,a,s,c,p,h,_,v){this.nzConfigService=o,this.scrollSrv=a,this.ngZone=s,this.platform=c,this.renderer=p,this.nzResizeObserver=h,this.cdr=_,this.directionality=v,this._nzModuleName=z2,this.nzChange=new W,this.dir="ltr",this.positionChangeSubscription=Up.EMPTY,this.offsetChanged$=new _t(1),this.destroy$=new ne,this.placeholderNode=e.nativeElement,this.document=r}ngOnInit(){this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzOffsetBottom:r,nzOffsetTop:o,nzTarget:a}=e;(r||o)&&this.offsetChanged$.next(),a&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}ngOnDestroy(){this.removeListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();let e=this.target===window?this.document.body:this.target;this.positionChangeSubscription=this.ngZone.runOutsideAngular(()=>Rt(...Object.keys(Qd).map(r=>St(this.target,r)),this.offsetChanged$.pipe(Te(()=>({}))),this.nzResizeObserver.observe(e)).pipe(Jp(x2,void 0,{trailing:!0}),$(this.destroy$)).subscribe(r=>this.updatePosition(r))),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}getOffset(e,r){let o=e.getBoundingClientRect(),a=W0(r),s=this.scrollSrv.getScroll(r,!0),c=this.scrollSrv.getScroll(r,!1),p=this.document.body,h=p.clientTop||0,_=p.clientLeft||0;return{top:o.top-a.top+s-h,left:o.left-a.left+c-_,width:o.width,height:o.height}}setAffixStyle(e,r){let o=this.affixStyle,a=this.target===window;if(e.type==="scroll"&&o&&r&&a||Ol(o,r))return;let s=!!r,c=this.fixedEl.nativeElement;this.renderer.setStyle(c,"cssText",Fl(r)),this.affixStyle=r,s?c.classList.add(fo):c.classList.remove(fo),this.updateRtlClass(),(r&&!o||!r&&o)&&this.nzChange.emit(s)}setPlaceholderStyle(e){let r=this.placeholderStyle;Ol(e,r)||(this.renderer.setStyle(this.placeholderNode,"cssText",Fl(e)),this.placeholderStyle=e)}syncPlaceholderStyle(e){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;let r={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(e,I(I({},this.affixStyle),r)),this.setPlaceholderStyle(r)}updatePosition(e){if(!this.platform.isBrowser)return;let r=this.target,o=this.nzOffsetTop,a=this.scrollSrv.getScroll(r,!0),s=this.getOffset(this.placeholderNode,r),c=this.fixedEl.nativeElement,p={width:c.offsetWidth,height:c.offsetHeight},h={top:!1,bottom:!1};typeof o!="number"&&typeof this.nzOffsetBottom!="number"?(h.top=!0,o=0):(h.top=typeof o=="number",h.bottom=typeof this.nzOffsetBottom=="number");let _=W0(r),v=r.innerHeight||r.clientHeight;if(a>=s.top-o&&h.top){let y=s.width,k=_.top+o;this.setAffixStyle(e,{position:"fixed",top:k,left:_.left+s.left,width:y}),this.setPlaceholderStyle({width:y,height:p.height})}else if(a<=s.top+p.height+this.nzOffsetBottom-v&&h.bottom){let y=r===window?0:window.innerHeight-_.bottom,k=s.width;this.setAffixStyle(e,{position:"fixed",bottom:y+this.nzOffsetBottom,left:_.left+s.left,width:k}),this.setPlaceholderStyle({width:k,height:s.height})}else e.type===Qd.resize&&this.affixStyle&&this.affixStyle.position==="fixed"&&this.placeholderNode.offsetWidth?this.setAffixStyle(e,Me(I({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(e),this.setPlaceholderStyle();e.type==="resize"&&this.syncPlaceholderStyle(e)}updateRtlClass(){let e=this.fixedEl.nativeElement;this.dir==="rtl"?e.classList.contains(fo)?e.classList.add(`${fo}-rtl`):e.classList.remove(`${fo}-rtl`):e.classList.remove(`${fo}-rtl`)}};i.\u0275fac=function(r){return new(r||i)(w(de),w(tn),w(Ut),w($u),w(Ye),w(oi),w(Fe),w(rr),w(xe),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-affix"]],viewQuery:function(r,o){if(r&1&&me(C2,7),r&2){let a;te(a=ie())&&(o.fixedEl=a.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:"nzOffsetTop",nzOffsetBottom:"nzOffsetBottom"},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],standalone:!0,features:[re,Y],ngContentSelectors:y2,decls:3,vars:0,consts:[["fixedEl",""]],template:function(r,o){r&1&&(Ee(),m(0,"div",null,0),we(2),f())},dependencies:[hu,pu],encapsulation:2,changeDetection:0});let t=i;return H([Pe(),Xn(void 0)],t.prototype,"nzOffsetTop",void 0),H([Pe(),Xn(void 0)],t.prototype,"nzOffsetBottom",void 0),t})(),q0=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Kd]});let t=i;return t})();var Zd=["*"];function b2(t,i){}function S2(t,i){if(t&1&&(m(0,"span",2),g(1,b2,0,0,"ng-template",3),N(2,"span",4),f()),t&2){let n=l(),e=q(4);u("nzDropdownMenu",n.nzOverlay),d(),u("ngTemplateOutlet",e)}}function T2(t,i){}function w2(t,i){if(t&1&&g(0,T2,0,0,"ng-template",3),t&2){l();let n=q(4);u("ngTemplateOutlet",n)}}function k2(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ee(" ",n.nzBreadCrumbComponent.nzSeparator," ")}}function D2(t,i){if(t&1&&(m(0,"nz-breadcrumb-separator"),g(1,k2,2,1,"ng-container",5),f()),t&2){let n=l();d(),u("nzStringTemplateOutlet",n.nzBreadCrumbComponent.nzSeparator)}}function I2(t,i){t&1&&(m(0,"span",6),we(1),f())}var P2=(t,i)=>i.url;function E2(t,i){if(t&1){let n=V();m(0,"nz-breadcrumb-item")(1,"a",0),P("click",function(r){let a=b(n).$implicit,s=l(2);return S(s.navigate(a.url,r))}),R(2),f()()}if(t&2){let n=i.$implicit;d(),oe("href",n.url,Pr),d(),ae(n.label)}}function M2(t,i){if(t&1&&se(0,E2,3,2,"nz-breadcrumb-item",null,P2),t&2){let n=l();le(n.breadcrumbs)}}var O2=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],standalone:!0,features:[Y],ngContentSelectors:Zd,decls:1,vars:0,template:function(r,o){r&1&&(Ee(),we(0))},encapsulation:2});let t=i;return t})(),hl=class{},ml=(()=>{let i=class i{constructor(e){this.nzBreadCrumbComponent=e}};i.\u0275fac=function(r){return new(r||i)(w(hl))},i.\u0275cmp=L({type:i,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],standalone:!0,features:[Y],ngContentSelectors:Zd,decls:5,vars:2,consts:[["class","ant-breadcrumb-overlay-link","nz-dropdown","",3,"nzDropdownMenu"],["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(r,o){r&1&&(Ee(),g(0,S2,3,2,"span",0)(1,w2,1,1)(2,D2,2,1,"nz-breadcrumb-separator")(3,I2,2,0,"ng-template",null,1,he)),r&2&&(D(0,o.nzOverlay?0:1),d(2),D(2,o.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[ge,O2,Si,Hi,Qe,Le,Qt,Ft],encapsulation:2,changeDetection:0});let t=i;return t})(),Xd=(()=>{let i=class i{constructor(e,r,o,a,s){this.injector=e,this.cdr=r,this.elementRef=o,this.renderer=a,this.directionality=s,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=c=>c,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new ne}ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe($(this.destroy$)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(e,r){r.preventDefault(),this.injector.get(yn).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get(yn),r=this.injector.get(lu);e.events.pipe(st(o=>o instanceof ka),$(this.destroy$),Mi(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(r.root),this.cdr.markForCheck()})}catch{throw new Error(`${mu} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,r="",o=[]){let a=e.children;if(a.length===0)return o;for(let s of a)if(s.outlet===su){let c=s.snapshot.url.map(_=>_.path).filter(_=>_).join("/"),p=c?`${r}/${c}`:r,h=this.nzRouteLabelFn(s.snapshot.data[this.nzRouteLabel]);if(c&&h){let _={label:h,params:s.snapshot.params,url:p};o.push(_)}return this.getBreadcrumbs(s,p,o)}return o}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}};i.\u0275fac=function(r){return new(r||i)(w(gn),w(xe),w(de),w(Fe),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],standalone:!0,features:[ct([{provide:hl,useExisting:i}]),Y],ngContentSelectors:Zd,decls:2,vars:1,consts:[[3,"click"]],template:function(r,o){r&1&&(Ee(),we(0),g(1,M2,2,0)),r&2&&(d(),D(1,o.nzAutoGenerate&&o.breadcrumbs.length?1:-1))},dependencies:[ml],encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzAutoGenerate",void 0),t})(),_o=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Xd,ml]});let t=i;return t})();var $2=["nzType","avatar"];function F2(t,i){if(t&1&&(m(0,"div",5),N(1,"nz-skeleton-element",6),f()),t&2){let n=l(2);d(),u("nzSize",n.avatar.size||"default")("nzShape",n.avatar.shape||"circle")}}function R2(t,i){if(t&1&&N(0,"h3",7),t&2){let n=l(2);ze("width",n.toCSSUnit(n.title.width))}}function V2(t,i){if(t&1&&N(0,"li"),t&2){let n=i.index,e=l(3);ze("width",e.toCSSUnit(e.widthList[n]))}}function A2(t,i){if(t&1&&(m(0,"ul",8),g(1,V2,1,2,"li",9),f()),t&2){let n=l(2);d(),u("ngForOf",n.rowsList)}}function H2(t,i){if(t&1&&(pe(0),g(1,F2,2,2,"div",1),m(2,"div",2),g(3,R2,1,2,"h3",3)(4,A2,2,1,"ul",4),f(),ue()),t&2){let n=l();d(),u("ngIf",!!n.nzAvatar),d(2),u("ngIf",!!n.nzTitle),d(),u("ngIf",!!n.nzParagraph)}}function L2(t,i){t&1&&(pe(0),we(1),ue())}var j2=["*"],B2=(()=>{let i=class i{constructor(){this.nzActive=!1,this.nzBlock=!1}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(r,o){r&2&&A("ant-skeleton-active",o.nzActive)("ant-skeleton-block",o.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"},standalone:!0});let t=i;return H([X()],t.prototype,"nzBlock",void 0),t})();var W2=(()=>{let i=class i{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(e){if(e.nzSize&&typeof this.nzSize=="number"){let r=`${this.nzSize}px`;this.styleMap={width:r,height:r,"line-height":r}}else this.styleMap={}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},standalone:!0,features:[re,Y],attrs:$2,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(r,o){r&1&&N(0,"span",0),r&2&&(A("ant-skeleton-avatar-square",o.nzShape==="square")("ant-skeleton-avatar-circle",o.nzShape==="circle")("ant-skeleton-avatar-lg",o.nzSize==="large")("ant-skeleton-avatar-sm",o.nzSize==="small"),u("ngStyle",o.styleMap))},dependencies:[xi],encapsulation:2,changeDetection:0});let t=i;return t})();var U0=(()=>{let i=class i{constructor(e){this.cdr=e,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[]}toCSSUnit(e=""){return Cu(e)}getTitleProps(){let e=!!this.nzAvatar,r=!!this.nzParagraph,o="";return!e&&r?o="38%":e&&r&&(o="50%"),I({width:o},this.getProps(this.nzTitle))}getAvatarProps(){let e=this.nzTitle&&!this.nzParagraph?"square":"circle";return I({shape:e,size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){let e=!!this.nzAvatar,r=!!this.nzTitle,o={};return(!e||!r)&&(o.width="61%"),!e&&r?o.rows=3:o.rows=2,I(I({},o),this.getProps(this.nzParagraph))}getProps(e){return e&&typeof e=="object"?e:{}}getWidthList(){let{width:e,rows:r}=this.paragraph,o=[];return e&&Array.isArray(e)?o=e:e&&!Array.isArray(e)&&(o=[],o[r-1]=e),o}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(e){(e.nzTitle||e.nzAvatar||e.nzParagraph)&&this.updateProps()}};i.\u0275fac=function(r){return new(r||i)(w(xe))},i.\u0275cmp=L({type:i,selectors:[["nz-skeleton"]],hostAttrs:[1,"ant-skeleton"],hostVars:6,hostBindings:function(r,o){r&2&&A("ant-skeleton-with-avatar",!!o.nzAvatar)("ant-skeleton-active",o.nzActive)("ant-skeleton-round",!!o.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],standalone:!0,features:[re,Y],ngContentSelectors:j2,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(Ee(),g(0,H2,5,3,"ng-container",0)(1,L2,2,0,"ng-container",0)),r&2&&(u("ngIf",o.nzLoading),d(),u("ngIf",!o.nzLoading))},dependencies:[B2,W2,Nt,zi],encapsulation:2,changeDetection:0});let t=i;return t})(),Y0=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({});let t=i;return t})();var U2=["conTpl"],Y2=["affix"];function Q2(t,i){}function K2(t,i){if(t&1&&(m(0,"nz-affix",0,2),g(2,Q2,0,0,"ng-template",3),f()),t&2){let n=l(),e=q(3);u("nzOffsetTop",n.fixedOffsetTop),d(2),u("ngTemplateOutlet",e)}}function G2(t,i){}function Z2(t,i){if(t&1&&g(0,G2,0,0,"ng-template",3),t&2){l();let n=q(3);u("ngTemplateOutlet",n)}}function X2(t,i){}function J2(t,i){if(t&1&&g(0,X2,0,0,"ng-template",3),t&2){let n=l(2);u("ngTemplateOutlet",n.breadcrumb)}}function ek(t,i){if(t&1&&(m(0,"a",15),R(1),f()),t&2){let n=l().$implicit;u("routerLink",n.link),d(),ae(n.title)}}function tk(t,i){if(t&1&&R(0),t&2){let n=l().$implicit;ee(" ",n.title," ")}}function ik(t,i){if(t&1&&(m(0,"nz-breadcrumb-item"),g(1,ek,2,2,"a",15)(2,tk,1,1),f()),t&2){let n=i.$implicit;d(),D(1,n.link?1:2)}}function nk(t,i){if(t&1&&(m(0,"nz-breadcrumb"),se(1,ik,3,1,"nz-breadcrumb-item",null,wt),f()),t&2){let n=l(3);d(),le(n.paths)}}function rk(t,i){if(t&1&&g(0,nk,3,0,"nz-breadcrumb"),t&2){let n=l(2);D(0,n.paths&&n.paths.length>0?0:-1)}}function ok(t,i){}function ak(t,i){if(t&1&&(m(0,"div",16),g(1,ok,0,0,"ng-template",3),f()),t&2){let n=l(2);d(),u("ngTemplateOutlet",n.logo)}}function sk(t,i){}function lk(t,i){if(t&1&&g(0,sk,0,0,"ng-template",3),t&2){let n=l(3);u("ngTemplateOutlet",n._titleTpl)}}function ck(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(5);d(),ae(n.titleSub)}}function dk(t,i){if(t&1&&(m(0,"small"),g(1,ck,2,1,"ng-container",18),f()),t&2){let n=l(4);d(),u("nzStringTemplateOutlet",n.titleSub)}}function pk(t,i){if(t&1&&(R(0),g(1,dk,2,1,"small")),t&2){let n=l(3);ee(" ",n._titleVal," "),d(),D(1,n.titleSub?1:-1)}}function uk(t,i){if(t&1&&(m(0,"h1",17),g(1,lk,1,1,null,3)(2,pk,2,2),f()),t&2){let n=l(2);d(),D(1,n._titleTpl?1:2)}}function hk(t,i){}function mk(t,i){if(t&1&&(m(0,"div",19),g(1,hk,0,0,"ng-template",3),f()),t&2){let n=l(2);d(),u("ngTemplateOutlet",n.action)}}function fk(t,i){}function _k(t,i){}function gk(t,i){if(t&1&&(m(0,"div",20),g(1,_k,0,0,"ng-template",3),f()),t&2){let n=l(2);d(),u("ngTemplateOutlet",n.extra)}}function Ck(t,i){}var yk=()=>({rows:3}),vk=()=>({size:"large",shape:"circle"});function zk(t,i){if(t&1){let n=V();m(0,"div",4)(1,"div")(2,"nz-skeleton",5),g(3,J2,1,1,null,3)(4,rk,1,1),m(5,"div",6),g(6,ak,2,1,"div",7),m(7,"div",8)(8,"div",9),g(9,uk,3,1,"h1",10)(10,mk,2,1,"div",11),f(),m(11,"div",9)(12,"div",12,13),P("cdkObserveContent",function(){b(n);let r=l();return S(r.checkContent())}),we(14),g(15,fk,0,0,"ng-template",3),f(),g(16,gk,2,1,"div",14),f()()(),g(17,Ck,0,0,"ng-template",3),f()()()}if(t&2){let n=l();A("page-header-rtl",n.dir==="rtl"),d(),A("page-header__wide",n.wide),d(),u("nzLoading",n.loading)("nzTitle",!1)("nzActive",!0)("nzParagraph",ni(16,yk))("nzAvatar",ni(17,vk)),d(),D(3,n.breadcrumb?3:4),d(3),D(6,n.logo?6:-1),d(3),D(9,n._titleVal||n._titleTpl?9:-1),d(),D(10,n.action?10:-1),d(5),u("ngTemplateOutlet",n.content),d(),D(16,n.extra?16:-1),d(),u("ngTemplateOutlet",n.tab)}}var xk=["*"],bk=(()=>{let i=class i{get menus(){return this.menuSrv.getPathByUrl(this.router.url,this.recursiveBreadcrumb)}set title(e){e instanceof Oi?(this._title=null,this._titleTpl=e,this._titleVal=""):(this._title=e,this._titleVal=this._title)}constructor(e,r,o){this.renderer=j(Fe),this.router=j(yn),this.cdr=j(xe),this.menuSrv=j(ju),this.i18nSrv=j(er,{optional:!0}),this.titleSrv=j(Wu,{optional:!0}),this.reuseSrv=j(Dh,{optional:!0}),this.directionality=j(Ct,{optional:!0}),this.destroy$=j(Er),this.inited=!1,this.isBrowser=!0,this.dir="ltr",this._titleVal="",this.paths=[],this._title=null,this._titleTpl=null,this.loading=!1,this.wide=!1,this.breadcrumb=null,this.logo=null,this.action=null,this.content=null,this.extra=null,this.tab=null,this.isBrowser=o.isBrowser,r.attach(this,"pageHeader",{home:"\u9996\u9875",homeLink:"/",autoBreadcrumb:!0,recursiveBreadcrumb:!1,autoTitle:!0,syncTitle:!0,fixed:!1,fixedOffsetTop:64}),e.notify.pipe(Xt(),st(s=>this.affix&&s.type==="layout"&&s.name==="collapsed")).subscribe(()=>this.affix.updatePosition({}));let a=[this.router.events.pipe(st(s=>s instanceof ka))];this.menuSrv!=null&&a.push(this.menuSrv.change),this.i18nSrv!=null&&a.push(this.i18nSrv.change),Rt(...a).pipe(Xt(),st(()=>this.inited)).subscribe(()=>this.refresh())}refresh(){this.setTitle().genBreadcrumb(),this.cdr.detectChanges()}genBreadcrumb(){if(this.breadcrumb||!this.autoBreadcrumb||this.menus.length<=0){this.paths=[];return}let e=[];this.menus.forEach(r=>{if(typeof r.hideInBreadcrumb<"u"&&r.hideInBreadcrumb)return;let o=r.text;r.i18n&&this.i18nSrv&&(o=this.i18nSrv.fanyi(r.i18n)),e.push({title:o,link:r.link&&[r.link]})}),this.home&&e.splice(0,0,{title:this.homeI18n&&this.i18nSrv&&this.i18nSrv.fanyi(this.homeI18n)||this.home,link:[this.homeLink]}),this.paths=e}setTitle(){if(this._title==null&&this._titleTpl==null&&this.autoTitle&&this.menus.length>0){let e=this.menus[this.menus.length-1],r=e.text;e.i18n&&this.i18nSrv&&(r=this.i18nSrv.fanyi(e.i18n)),this._titleVal=r}return this._titleVal&&this.syncTitle&&(this.titleSrv&&this.titleSrv.setTitle(this._titleVal),!this.inited&&this.reuseSrv&&(this.reuseSrv.title=this._titleVal)),this}checkContent(){jr(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")}ngOnInit(){this.dir=this.directionality?.value,this.directionality?.change.pipe(Xt(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.refresh(),this.inited=!0}ngAfterViewInit(){this.checkContent()}ngOnChanges(){this.inited&&this.refresh()}};i.\u0275fac=function(r){return new(r||i)(w(Bu),w(kt),w(oi))},i.\u0275cmp=L({type:i,selectors:[["page-header"]],viewQuery:function(r,o){if(r&1&&(me(U2,5),me(Y2,5)),r&2){let a;te(a=ie())&&(o.conTpl=a.first),te(a=ie())&&(o.affix=a.first)}},inputs:{title:"title",titleSub:"titleSub",loading:[B.HasDecoratorInputTransform,"loading","loading",ce],wide:[B.HasDecoratorInputTransform,"wide","wide",ce],home:"home",homeLink:"homeLink",homeI18n:"homeI18n",autoBreadcrumb:[B.HasDecoratorInputTransform,"autoBreadcrumb","autoBreadcrumb",ce],autoTitle:[B.HasDecoratorInputTransform,"autoTitle","autoTitle",ce],syncTitle:[B.HasDecoratorInputTransform,"syncTitle","syncTitle",ce],fixed:[B.HasDecoratorInputTransform,"fixed","fixed",ce],fixedOffsetTop:[B.HasDecoratorInputTransform,"fixedOffsetTop","fixedOffsetTop",pt],breadcrumb:"breadcrumb",recursiveBreadcrumb:[B.HasDecoratorInputTransform,"recursiveBreadcrumb","recursiveBreadcrumb",ce],logo:"logo",action:"action",content:"content",extra:"extra",tab:"tab"},exportAs:["pageHeader"],standalone:!0,features:[Vt,re,Y],ngContentSelectors:xk,decls:4,vars:1,consts:[[3,"nzOffsetTop"],["phTpl",""],["affix",""],[3,"ngTemplateOutlet"],[1,"page-header"],[1,"d-block",3,"nzLoading","nzTitle","nzActive","nzParagraph","nzAvatar"],[1,"page-header__detail"],["class","page-header__logo"],[1,"page-header__main"],[1,"page-header__row"],["class","page-header__title"],["class","page-header__action"],[1,"page-header__desc",3,"cdkObserveContent"],["conTpl",""],["class","page-header__extra"],[3,"routerLink"],[1,"page-header__logo"],[1,"page-header__title"],[4,"nzStringTemplateOutlet"],[1,"page-header__action"],[1,"page-header__extra"]],template:function(r,o){r&1&&(Ee(),g(0,K2,3,2,"nz-affix",0)(1,Z2,1,1)(2,zk,18,18,"ng-template",null,1,he)),r&2&&D(0,o.isBrowser&&o.fixed?0:1)},dependencies:[Kd,ge,U0,Xd,ml,Da,Ft,Fr],encapsulation:2,changeDetection:0});let t=i;return t})(),Sk=[bk],fl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,Io,Oa,q0,Y0,_o,Qt,Sk]});let t=i;return t})();var ep=["*"];function wk(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.title)}}function kk(t,i){if(t&1&&(m(0,"div",0),g(1,wk,2,1,"ng-container",1),f()),t&2){let n=l();d(),u("nzStringTemplateOutlet",n.title)}}var Dk=["contentElement"];function Ik(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.label)}}function Pk(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(3);d(),ae(n.optional)}}function Ek(t,i){if(t&1&&N(0,"i",12),t&2){let n=l(3);u("nzTooltipTitle",n.optionalHelp)("nzTooltipColor",n.optionalHelpColor)}}function Mk(t,i){if(t&1&&(m(0,"span",11),g(1,Pk,2,1,"ng-container",9)(2,Ek,1,2,"i",12),f()),t&2){let n=l(2);A("se__label-optional-no-text",!n.optional),d(),u("nzStringTemplateOutlet",n.optional),d(),D(2,n.optionalHelp?2:-1)}}var Ok=(t,i)=>({"ant-form-item-required":t,"se__no-colon":i});function Nk(t,i){if(t&1&&(m(0,"label",7)(1,"span",8),g(2,Ik,2,1,"ng-container",9),f(),g(3,Mk,3,4,"span",10),f()),t&2){let n=l();u("ngClass",vi(4,Ok,n.required,n._noColon)),oe("for",n._id),d(2),u("nzStringTemplateOutlet",n.label),d(),D(3,n.optional||n.optionalHelp?3:-1)}}function $k(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n._error)}}function Fk(t,i){if(t&1&&(m(0,"div",13)(1,"div",14),g(2,$k,2,1,"ng-container",9),f()()),t&2){let n=l();u("@helpMotion",void 0),d(2),u("nzStringTemplateOutlet",n._error)}}function Rk(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.extra)}}function Vk(t,i){if(t&1&&(m(0,"div",15),g(1,Rk,2,1,"ng-container",9),f()),t&2){let n=l();d(),u("nzStringTemplateOutlet",n.extra)}}var Ak=(()=>{let i=class i{constructor(){if(this.parentComp=j(Q0,{host:!0,optional:!0}),this.el=j(de).nativeElement,this.ren=j(Fe),this.parentComp==null)throw new Error("[se-title] must include 'se-container' component")}setClass(){let{el:e}=this,r=this.parentComp.gutter;this.ren.setStyle(e,"padding-left",`${r/2}px`),this.ren.setStyle(e,"padding-right",`${r/2}px`)}ngOnInit(){this.setClass()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["se-title"],["","se-title",""]],hostVars:2,hostBindings:function(r,o){r&2&&A("se__title",!0)},exportAs:["seTitle"],standalone:!0,features:[Y],ngContentSelectors:ep,decls:1,vars:0,template:function(r,o){r&1&&(Ee(),we(0))},encapsulation:2,changeDetection:0});let t=i;return t})(),Q0=(()=>{let i=class i{get gutter(){return this.nzLayout==="horizontal"?this._gutter:0}set gutter(e){this._gutter=e}get nzLayout(){return this._nzLayout}set nzLayout(e){this._nzLayout=e,e==="inline"&&(this.size="compact")}set errors(e){this.setErrors(e)}get margin(){return-(this.gutter/2)}get errorNotify(){return this.errorNotify$.pipe(st(e=>e!=null))}constructor(e){this.errorNotify$=new bt(null),this.noColon=!1,this.line=!1,e.attach(this,"se",{size:"default",nzLayout:"horizontal",gutter:32,col:2,labelWidth:150,firstVisual:!1,ingoreDirty:!1})}setErrors(e){for(let r of e)this.errorNotify$.next(r)}};i.\u0275fac=function(r){return new(r||i)(w(kt))},i.\u0275cmp=L({type:i,selectors:[["se-container"],["","se-container",""]],hostVars:16,hostBindings:function(r,o){r&2&&(ze("margin-left",o.margin,"px")("margin-right",o.margin,"px"),A("ant-row",!0)("se__container",!0)("se__horizontal",o.nzLayout==="horizontal")("se__vertical",o.nzLayout==="vertical")("se__inline",o.nzLayout==="inline")("se__compact",o.size==="compact"))},inputs:{colInCon:[B.HasDecoratorInputTransform,"se-container","colInCon",e=>e==null?null:pt(e)],col:[B.HasDecoratorInputTransform,"col","col",e=>e==null?null:pt(e)],labelWidth:[B.HasDecoratorInputTransform,"labelWidth","labelWidth",e=>e==null?null:pt(e)],noColon:[B.HasDecoratorInputTransform,"noColon","noColon",ce],title:"title",gutter:[B.HasDecoratorInputTransform,"gutter","gutter",pt],nzLayout:"nzLayout",size:"size",firstVisual:[B.HasDecoratorInputTransform,"firstVisual","firstVisual",ce],ingoreDirty:[B.HasDecoratorInputTransform,"ingoreDirty","ingoreDirty",ce],line:[B.HasDecoratorInputTransform,"line","line",ce],errors:"errors"},exportAs:["seContainer"],standalone:!0,features:[Vt,Y],ngContentSelectors:ep,decls:2,vars:1,consts:[["se-title",""],[4,"nzStringTemplateOutlet"]],template:function(r,o){r&1&&(Ee(),g(0,kk,2,1,"div",0),we(1)),r&2&&D(0,o.title?0:-1)},dependencies:[Ak,Ft],encapsulation:2,changeDetection:0});let t=i;return t})(),Jd="se",Hk=0,cR=(()=>{let i=class i{set error(e){this.errorData=typeof e=="string"||e instanceof Oi?{"":e}:e}set id(e){this._id=e,this._autoId=!1}get paddingValue(){return this.parentComp.gutter/2}get showErr(){return this.invalid&&!!this._error&&!this.compact}get compact(){return this.parentComp.size==="compact"}get ngControl(){return this.ngModel||this.formControlName}constructor(){if(this.parentComp=j(Q0,{host:!0,optional:!0}),this.el=j(de).nativeElement,this.rep=j(ja),this.ren=j(Fe),this.cdr=j(xe),this.statusSrv=j(_i),this.destroy$=j(Er),this.clsMap=[],this.inited=!1,this.onceFlag=!1,this.errorData={},this.isBindModel=!1,this.invalid=!1,this._labelWidth=null,this._noColon=null,this.optional=null,this.optionalHelp=null,this.required=!1,this.controlClass="",this.hideLabel=!1,this._id=`_se-${++Hk}`,this._autoId=!0,this.parentComp==null)throw new Error("[se] must include 'se-container' component");this.parentComp.errorNotify.pipe(Xt(),st(e=>this.inited&&this.ngControl!=null&&this.ngControl.name===e.name)).subscribe(e=>{this.error=e.error,this.updateStatus(this.ngControl.invalid)})}setClass(){let{el:e,ren:r,clsMap:o,col:a,cdr:s,line:c,labelWidth:p,rep:h,noColon:_}=this,v=this.parentComp;this._noColon=_??v.noColon,this._labelWidth=v.nzLayout==="horizontal"?p??v.labelWidth:null,o.forEach(T=>r.removeClass(e,T)),o.length=0;let y=v.colInCon||v.col,k=v.nzLayout==="horizontal"?h.genCls(a??y,y):[];return o.push("ant-form-item",...k,`${Jd}__item`),(c||v.line)&&o.push(`${Jd}__line`),o.forEach(T=>r.addClass(e,T)),s.detectChanges(),this}bindModel(){if(!(!this.ngControl||this.isBindModel)){if(this.isBindModel=!0,this.ngControl.statusChanges.pipe(Xt(this.destroy$)).subscribe(e=>this.updateStatus(e==="INVALID")),this._autoId){let e=this.ngControl.valueAccessor,r=(e?.elementRef||e?._elementRef)?.nativeElement;r&&(r.id?this._id=r.id:r.id=this._id)}if(this.required!==!0){let e=this.ngControl?.control?.hasValidator(eh.required);e!==!0&&(e=(this.ngControl?._rawValidators).find(o=>o instanceof oh)!=null),this.required=e,this.cdr.detectChanges()}}}updateStatus(e){if(this.ngControl?.disabled||this.ngControl?.isDisabled)return;this.invalid=!this.onceFlag&&e&&this.parentComp.ingoreDirty===!1&&!this.ngControl?.dirty?!1:e;let r=this.ngControl?.errors;if(r!=null&&Object.keys(r).length>0){let o=Object.keys(r)[0]||"",a=this.errorData[o];this._error=a??(this.errorData[""]||"")}this.statusSrv.formStatusChanges.next({status:this.invalid?"error":"",hasFeedback:!1}),this.cdr.detectChanges()}checkContent(){let e=this.contentElement.nativeElement,r=`${Jd}__item-empty`;jr(e)?this.ren.addClass(e,r):this.ren.removeClass(e,r)}ngAfterContentInit(){this.checkContent()}ngOnChanges(){this.onceFlag=this.parentComp.firstVisual,this.inited&&this.setClass().bindModel()}ngAfterViewInit(){this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(()=>{this.updateStatus(this.ngControl?.invalid),this.onceFlag=!1})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["se"]],contentQueries:function(r,o,a){if(r&1&&(Cn(a,tt,7),Cn(a,rh,7)),r&2){let s;te(s=ie())&&(o.ngModel=s.first),te(s=ie())&&(o.formControlName=s.first)}},viewQuery:function(r,o){if(r&1&&me(Dk,7),r&2){let a;te(a=ie())&&(o.contentElement=a.first)}},hostVars:10,hostBindings:function(r,o){r&2&&(ze("padding-left",o.paddingValue,"px")("padding-right",o.paddingValue,"px"),A("se__hide-label",o.hideLabel)("ant-form-item-has-error",o.invalid)("ant-form-item-with-help",o.showErr))},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",error:"error",extra:"extra",label:"label",col:[B.HasDecoratorInputTransform,"col","col",e=>e==null?null:pt(e)],required:[B.HasDecoratorInputTransform,"required","required",ce],controlClass:"controlClass",line:[B.HasDecoratorInputTransform,"line","line",e=>e==null?null:ce(e)],labelWidth:[B.HasDecoratorInputTransform,"labelWidth","labelWidth",e=>e==null?null:pt(e)],noColon:[B.HasDecoratorInputTransform,"noColon","noColon",e=>e==null?null:ce(e)],hideLabel:[B.HasDecoratorInputTransform,"hideLabel","hideLabel",ce],id:"id"},exportAs:["se"],standalone:!0,features:[ct([_i]),Vt,re,Y],ngContentSelectors:ep,decls:9,vars:10,consts:[[1,"ant-form-item-label"],["class","se__label",3,"ngClass"],[1,"ant-form-item-control","se__control"],[1,"ant-form-item-control-input-content",3,"cdkObserveContent"],["contentElement",""],["class","ant-form-item-explain ant-form-item-explain-connected"],["class","ant-form-item-extra"],[1,"se__label",3,"ngClass"],[1,"se__label-text"],[4,"nzStringTemplateOutlet"],["class","se__label-optional",3,"se__label-optional-no-text"],[1,"se__label-optional"],["nz-tooltip","","nz-icon","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",1,"ant-form-item-explain-error"],[1,"ant-form-item-extra"]],template:function(r,o){r&1&&(Ee(),m(0,"div",0),g(1,Nk,4,7,"label",1),f(),m(2,"div",2)(3,"div")(4,"div",3,4),P("cdkObserveContent",function(){return o.checkContent()}),we(6),f()(),g(7,Fk,3,2,"div",5)(8,Vk,2,1,"div",6),f()),r&2&&(ze("width",o._labelWidth,"px"),A("se__nolabel",o.hideLabel||!o.label),d(),D(1,o.label?1:-1),d(2),Z("ant-form-item-control-input ",o.controlClass,""),d(4),D(7,o.showErr?7:-1),d(),D(8,o.extra&&!o.compact?8:-1))},dependencies:[Mt,Ft,li,Le,Fr],encapsulation:2,data:{animation:[qa]},changeDetection:0});let t=i;return t})();var _l=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,ci,Qe,Qt]});let t=i;return t})();function K0(t){if(!t)return!1;for(var i=0,n=t.length;i<n;){if(t[i]<=127){i++;continue}if(t[i]>=194&&t[i]<=223)if(t[i+1]>>6===2){i+=2;continue}else return!1;if((t[i]===224&&t[i+1]>=160&&t[i+1]<=191||t[i]===237&&t[i+1]>=128&&t[i+1]<=159)&&t[i+2]>>6===2){i+=3;continue}if((t[i]>=225&&t[i]<=236||t[i]>=238&&t[i]<=239)&&t[i+1]>>6===2&&t[i+2]>>6===2){i+=3;continue}if((t[i]===240&&t[i+1]>=144&&t[i+1]<=191||t[i]>=241&&t[i]<=243&&t[i+1]>>6===2||t[i]===244&&t[i+1]>=128&&t[i+1]<=143)&&t[i+2]>>6===2&&t[i+3]>>6===2){i+=4;continue}return!1}return!0}var G0=(()=>{let i=class i{constructor(e){this.http=j(au),this.lazy=j(du),this.ngZone=j(Ye),this.cog=e.merge("xlsx",{url:"https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js",modules:["https://cdn.jsdelivr.net/npm/xlsx/dist/cpexcel.js"]})}init(){return typeof XLSX<"u"?Promise.resolve([]):this.lazy.load([this.cog.url].concat(this.cog.modules))}read(e){let{read:r,utils:{sheet_to_json:o}}=XLSX,a={},s=new Uint8Array(e),c="array";if(!K0(s))try{e=cptable.utils.decode(936,s),c="string"}catch{}let p=r(e,{type:c});return p.SheetNames.forEach(h=>{let _=p.Sheets[h];a[h]=o(_,{header:1})}),a}import(e){return new Promise((r,o)=>{let a=s=>this.ngZone.run(()=>r(this.read(s)));this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:c=>a(new Uint8Array(c)),error:c=>o(c)});return}let s=new FileReader;s.onload=c=>a(c.target.result),s.onerror=c=>o(c),s.readAsArrayBuffer(e)}).catch(()=>o("Unable to load xlsx.js"))})}export(e){return Ji(this,null,function*(){return new Promise((r,o)=>{this.init().then(()=>{e=I({format:"xlsx"},e);let{writeFile:a,utils:{book_new:s,aoa_to_sheet:c,book_append_sheet:p}}=XLSX,h=s();Array.isArray(e.sheets)?e.sheets.forEach((v,y)=>{let k=c(v.data);p(h,k,v.name||`Sheet${y+1}`)}):(h.SheetNames=Object.keys(e.sheets),h.Sheets=e.sheets),e.callback&&e.callback(h);let _=e.filename||`export.${e.format}`;a(h,_,I({bookType:e.format,bookSST:!1,type:"array"},e.opts)),r({filename:_,wb:h})}).catch(a=>o(a))})})}numberToSchema(e){let o="";do--e,o=String.fromCharCode(65+e%26)+o,e=e/26>>0;while(e>0);return o}};i.\u0275fac=function(r){return new(r||i)(lt(kt))},i.\u0275prov=rt({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return H([Ll()],t.prototype,"read",null),H([Ll()],t.prototype,"export",null),t})();var tp=class{constructor(i){this.dir=i}get $implicit(){return this.dir.let}get let(){return this.dir.let}},Z0=(()=>{let i=class i{constructor(e,r){e.createEmbeddedView(r,new tp(this))}static ngTemplateContextGuard(e,r){return!0}};i.\u0275fac=function(r){return new(r||i)(w(en),w(Oi))},i.\u0275dir=Ie({type:i,selectors:[["","let",""]],inputs:{let:"let"},standalone:!0});let t=i;return t})();var X0=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({});let t=i;return t})();var Yn=["*"];function Wk(t,i){}function qk(t,i){if(t&1){let n=V();m(0,"label",15),P("ngModelChange",function(){b(n);let r=l().$implicit,o=l(2);return S(o.check(r))}),f()}if(t&2){let n=l().$implicit;u("ngModel",n.checked)}}function Uk(t,i){if(t&1){let n=V();m(0,"label",16),P("ngModelChange",function(){b(n);let r=l().$implicit,o=l(2);return S(o.check(r))}),f()}if(t&2){let n=l().$implicit;u("ngModel",n.checked)}}function Yk(t,i){if(t&1){let n=V();m(0,"li",12),P("click",function(){let o=b(n).$implicit,a=l(2);return S(a.check(o))}),g(1,qk,1,1,"label",13)(2,Uk,1,1,"label",14),m(3,"span"),R(4),f()()}if(t&2){let n=i.$implicit,e=l(2);u("nzSelected",n.checked),d(),u("ngIf",!e.filterMultiple),d(),u("ngIf",e.filterMultiple),d(2),ae(n.text)}}function Qk(t,i){if(t&1){let n=V();pe(0),m(1,"nz-filter-trigger",3),P("nzVisibleChange",function(r){b(n);let o=l();return S(o.onVisibleChange(r))}),N(2,"span",4),f(),m(3,"nz-dropdown-menu",null,5)(5,"div",6)(6,"ul",7),g(7,Yk,5,4,"li",8),f(),m(8,"div",9)(9,"button",10),P("click",function(){b(n);let r=l();return S(r.reset())}),R(10),f(),m(11,"button",11),P("click",function(){b(n);let r=l();return S(r.confirm())}),R(12),f()()()(),ue()}if(t&2){let n=q(4),e=l();d(),u("nzVisible",e.isVisible)("nzActive",e.isChecked)("nzDropdownMenu",n),d(6),u("ngForOf",e.listOfParsedFilter)("ngForTrackBy",e.trackByValue),d(2),u("disabled",!e.isChecked),d(),ee(" ",e.locale.filterReset," "),d(2),ae(e.locale.filterConfirm)}}function Kk(t,i){if(t&1){let n=V();m(0,"label",2),P("ngModelChange",function(r){b(n);let o=l();return S(o.onCheckedChange(r))}),f()}if(t&2){let n=l();A("ant-table-selection-select-all-custom",n.showRowSelection),u("ngModel",n.checked)("nzDisabled",n.disabled)("nzIndeterminate",n.indeterminate),oe("aria-label",n.label)}}function Gk(t,i){if(t&1){let n=V();m(0,"li",9),P("click",function(){let o=b(n).$implicit;return S(o.onSelect())}),R(1),f()}if(t&2){let n=i.$implicit;d(),ee(" ",n.text," ")}}function Zk(t,i){if(t&1&&(m(0,"div",3)(1,"span",4),N(2,"span",5),f(),m(3,"nz-dropdown-menu",null,6)(5,"ul",7),g(6,Gk,2,1,"li",8),f()()()),t&2){let n=q(4),e=l();d(),u("nzDropdownMenu",n),d(5),u("ngForOf",e.listOfSelections)}}function Xk(t,i){}function Jk(t,i){if(t&1&&N(0,"span",6),t&2){let n=l();A("active",n.sortOrder==="ascend")}}function eD(t,i){if(t&1&&N(0,"span",7),t&2){let n=l();A("active",n.sortOrder==="descend")}}var tD=["nzChecked",""];function iD(t,i){if(t&1){let n=V();m(0,"button",5),P("expandChange",function(r){b(n);let o=l(2);return S(o.onExpandChange(r))}),f()}if(t&2){let n=l(2);u("expand",n.nzExpand)("spaceMode",!n.nzShowExpand)}}function nD(t,i){}function rD(t,i){if(t&1&&(pe(0),g(1,nD,0,0,"ng-template",6),ue()),t&2){let n=l(2);d(),u("ngTemplateOutlet",n.nzExpandIcon)}}function oD(t,i){if(t&1&&(pe(0),N(1,"nz-row-indent",2),g(2,iD,1,2,"ng-template",null,3,he)(4,rD,2,1,"ng-container",4),ue()),t&2){let n=q(3),e=l();d(),u("indentSize",e.nzIndentSize),d(3),u("ngIf",e.nzExpandIcon)("ngIfElse",n)}}function aD(t,i){if(t&1){let n=V();m(0,"label",7),P("ngModelChange",function(r){b(n);let o=l();return S(o.onCheckedChange(r))}),f()}if(t&2){let n=l();u("nzDisabled",n.nzDisabled)("ngModel",n.nzChecked)("nzIndeterminate",n.nzIndeterminate),oe("aria-label",n.nzLabel)}}var sD=["nzColumnKey",""];function lD(t,i){if(t&1){let n=V();m(0,"nz-table-filter",5),P("filterChange",function(r){b(n);let o=l();return S(o.onFilterValueChange(r))}),f()}if(t&2){let n=l(),e=q(2),r=q(4);u("contentTemplate",e)("extraTemplate",r)("customFilter",n.nzCustomFilter)("filterMultiple",n.nzFilterMultiple)("listOfFilter",n.nzFilters)}}function cD(t,i){}function dD(t,i){if(t&1&&g(0,cD,0,0,"ng-template",6),t&2){let n=l(),e=q(6),r=q(8);u("ngTemplateOutlet",n.nzShowSort?e:r)}}function pD(t,i){t&1&&(we(0),we(1,1))}function uD(t,i){if(t&1&&N(0,"nz-table-sorters",7),t&2){let n=l(),e=q(8);u("sortOrder",n.sortOrder)("sortDirections",n.sortDirections)("contentTemplate",e)}}function hD(t,i){t&1&&we(0,2)}var mD=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],fD=["[nz-th-extra]","nz-filter-trigger","*"],_D=["nzSelections",""],gD=["nz-table-content",""];function CD(t,i){if(t&1&&N(0,"col"),t&2){let n=i.$implicit;ze("width",n)("min-width",n)}}function yD(t,i){}function vD(t,i){if(t&1&&(m(0,"thead",3),g(1,yD,0,0,"ng-template",2),f()),t&2){let n=l();d(),u("ngTemplateOutlet",n.theadTemplate)}}function zD(t,i){}var e_=["tdElement"],xD=["nz-table-fixed-row",""];function bD(t,i){}function SD(t,i){if(t&1&&(m(0,"div",4),At(1,"async"),g(2,bD,0,0,"ng-template",5),f()),t&2){let n=l(),e=q(5);ze("width",ri(1,3,n.hostWidth$),"px"),d(2),u("ngTemplateOutlet",e)}}function TD(t,i){t&1&&we(0)}var wD=["nz-table-measure-row",""];function kD(t,i){t&1&&N(0,"td",1,2)}function DD(t,i){if(t&1){let n=V();m(0,"tr",3),P("listOfAutoWidth",function(r){b(n);let o=l(2);return S(o.onListOfAutoWidthChange(r))}),f()}if(t&2){let n=l().ngIf;u("listOfMeasureColumn",n)}}function ID(t,i){if(t&1&&(pe(0),g(1,DD,1,1,"tr",2),ue()),t&2){let n=i.ngIf,e=l();d(),u("ngIf",e.isInsideTable&&n.length)}}function PD(t,i){if(t&1&&(m(0,"tr",4),N(1,"nz-embed-empty",5),At(2,"async"),f()),t&2){let n=l();d(),u("specificContent",ri(2,1,n.noResult$))}}var ED=["tableHeaderElement"],MD=["tableBodyElement"];function OD(t,i){if(t&1&&(m(0,"div",7,8),N(2,"table",9),f()),t&2){let n=l(2);u("ngStyle",n.bodyStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("contentTemplate",n.contentTemplate)}}function ND(t,i){}var $D=(t,i)=>({$implicit:t,index:i});function FD(t,i){if(t&1&&(pe(0),g(1,ND,0,0,"ng-template",13),ue()),t&2){let n=i.$implicit,e=i.index,r=l(3);d(),u("ngTemplateOutlet",r.virtualTemplate)("ngTemplateOutletContext",vi(2,$D,n,e))}}function RD(t,i){if(t&1&&(m(0,"cdk-virtual-scroll-viewport",10,8)(2,"table",11)(3,"tbody"),g(4,FD,2,5,"ng-container",12),f()()()),t&2){let n=l(2);ze("height",n.data.length?n.scrollY:n.noDateVirtualHeight),u("itemSize",n.virtualItemSize)("maxBufferPx",n.virtualMaxBufferPx)("minBufferPx",n.virtualMinBufferPx),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth),d(2),u("cdkVirtualForOf",n.data)("cdkVirtualForTrackBy",n.virtualForTrackBy)}}function VD(t,i){if(t&1&&(pe(0),m(1,"div",2,3),N(3,"table",4),f(),g(4,OD,3,4,"div",5)(5,RD,5,9,"cdk-virtual-scroll-viewport",6),ue()),t&2){let n=l();d(),u("ngStyle",n.headerStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("theadTemplate",n.theadTemplate),d(),u("ngIf",!n.virtualTemplate),d(),u("ngIf",n.virtualTemplate)}}function AD(t,i){if(t&1&&(m(0,"div",14,8),N(2,"table",15),f()),t&2){let n=l();u("ngStyle",n.bodyStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("theadTemplate",n.theadTemplate)("contentTemplate",n.contentTemplate)}}function HD(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l();d(),ae(n.title)}}function LD(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l();d(),ae(n.footer)}}function jD(t,i){}function BD(t,i){if(t&1&&(pe(0),g(1,jD,0,0,"ng-template",10),ue()),t&2){l();let n=q(11);d(),u("ngTemplateOutlet",n)}}function WD(t,i){if(t&1&&N(0,"nz-table-title-footer",11),t&2){let n=l();u("title",n.nzTitle)}}function qD(t,i){if(t&1&&N(0,"nz-table-inner-scroll",12),t&2){let n=l(),e=q(13),r=q(3);u("data",n.data)("scrollX",n.scrollX)("scrollY",n.scrollY)("contentTemplate",e)("listOfColWidth",n.listOfAutoColWidth)("theadTemplate",n.theadTemplate)("verticalScrollBarWidth",n.verticalScrollBarWidth)("virtualTemplate",n.nzVirtualScrollDirective?n.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",n.nzVirtualItemSize)("virtualMaxBufferPx",n.nzVirtualMaxBufferPx)("virtualMinBufferPx",n.nzVirtualMinBufferPx)("tableMainElement",r)("virtualForTrackBy",n.nzVirtualForTrackBy)}}function UD(t,i){if(t&1&&N(0,"nz-table-inner-default",13),t&2){let n=l(),e=q(13);u("tableLayout",n.nzTableLayout)("listOfColWidth",n.listOfManualColWidth)("theadTemplate",n.theadTemplate)("contentTemplate",e)}}function YD(t,i){if(t&1&&N(0,"nz-table-title-footer",14),t&2){let n=l();u("footer",n.nzFooter)}}function QD(t,i){}function KD(t,i){if(t&1&&(pe(0),g(1,QD,0,0,"ng-template",10),ue()),t&2){l();let n=q(11);d(),u("ngTemplateOutlet",n)}}function GD(t,i){if(t&1){let n=V();m(0,"nz-pagination",16),P("nzPageSizeChange",function(r){b(n);let o=l(2);return S(o.onPageSizeChange(r))})("nzPageIndexChange",function(r){b(n);let o=l(2);return S(o.onPageIndexChange(r))}),f()}if(t&2){let n=l(2);u("hidden",!n.showPagination)("nzShowSizeChanger",n.nzShowSizeChanger)("nzPageSizeOptions",n.nzPageSizeOptions)("nzItemRender",n.nzItemRender)("nzShowQuickJumper",n.nzShowQuickJumper)("nzHideOnSinglePage",n.nzHideOnSinglePage)("nzShowTotal",n.nzShowTotal)("nzSize",n.nzPaginationType==="small"?"small":n.nzSize==="default"?"default":"small")("nzPageSize",n.nzPageSize)("nzTotal",n.nzTotal)("nzSimple",n.nzSimple)("nzPageIndex",n.nzPageIndex)}}function ZD(t,i){if(t&1&&g(0,GD,1,12,"nz-pagination",15),t&2){let n=l();u("ngIf",n.nzShowPagination&&n.data.length)}}function XD(t,i){t&1&&we(0)}var JD=["contentTemplate"];function eI(t,i){t&1&&we(0)}function tI(t,i){}function iI(t,i){if(t&1&&(pe(0),g(1,tI,0,0,"ng-template",2),ue()),t&2){l();let n=q(1);d(),u("ngTemplateOutlet",n)}}var nI="filterTrigger",t_=(()=>{let i=class i{onVisibleChange(e){this.nzVisible=e,this.nzVisibleChange.next(e)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}constructor(e,r,o,a){this.nzConfigService=e,this.ngZone=r,this.cdr=o,this.destroy$=a,this._nzModuleName=nI,this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=!1,this.nzVisibleChange=new W}ngOnInit(){this.ngZone.runOutsideAngular(()=>{St(this.nzDropdown.nativeElement,"click").pipe($(this.destroy$)).subscribe(e=>{e.stopPropagation()})})}};i.\u0275fac=function(r){return new(r||i)(w(Ut),w(Ye),w(xe),w(Ot))},i.\u0275cmp=L({type:i,selectors:[["nz-filter-trigger"]],viewQuery:function(r,o){if(r&1&&me(Hi,7,de),r&2){let a;te(a=ie())&&(o.nzDropdown=a.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:"nzBackdrop"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],standalone:!0,features:[ct([Ot]),Y],ngContentSelectors:Yn,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible","nzVisibleChange"]],template:function(r,o){r&1&&(Ee(),m(0,"span",0),P("nzVisibleChange",function(s){return o.onVisibleChange(s)}),we(1),f()),r&2&&(A("active",o.nzActive)("ant-table-filter-open",o.nzVisible),u("nzBackdrop",o.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",o.nzDropdownMenu)("nzVisible",o.nzVisible))},dependencies:[Si,Hi],encapsulation:2,changeDetection:0});let t=i;return H([Pe(),X()],t.prototype,"nzBackdrop",void 0),t})(),i_=(()=>{let i=class i{trackByValue(e,r){return r.value}check(e){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(r=>r===e?Me(I({},r),{checked:!e.checked}):r),e.checked=!e.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(r=>Me(I({},r),{checked:r===e})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(e){this.isVisible=e,e?this.listOfChecked=this.listOfParsedFilter.filter(r=>r.checked).map(r=>r.value):this.emitFilterData()}emitFilterData(){let e=this.listOfParsedFilter.filter(r=>r.checked).map(r=>r.value);_u(this.listOfChecked,e)||(this.filterMultiple?this.filterChange.emit(e):this.filterChange.emit(e.length>0?e[0]:null))}parseListOfFilter(e,r){return e.map(o=>{let a=r?!1:!!o.byDefault;return{text:o.text,value:o.value,checked:a}})}getCheckedStatus(e){return e.some(r=>r.checked)}constructor(e,r){this.cdr=e,this.i18n=r,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new W,this.destroy$=new ne,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}ngOnInit(){this.i18n.localeChange.pipe($(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(e){let{listOfFilter:r}=e;r&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(xe),w(Vi))},i.\u0275cmp=L({type:i,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},standalone:!0,features:[re,Y],decls:3,vars:3,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","filter","nzTheme","fill"],["filterMenu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"disabled","click"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"nzSelected","click"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModel","ngModelChange"],["nz-checkbox","",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(m(0,"span",0),g(1,Wk,0,0,"ng-template",1),f(),g(2,Qk,13,8,"ng-container",2)),r&2&&(d(),u("ngTemplateOutlet",o.contentTemplate),d(),u("ngIf",!o.customFilter)("ngIfElse",o.extraTemplate))},dependencies:[ge,Nt,t_,Qe,Le,Si,ir,tr,nr,zi,Dn,si,bi,vt,dt,tt,ai,Ri,Yt,Fi],encapsulation:2,changeDetection:0});let t=i;return t})(),rI=(()=>{let i=class i{constructor(){this.expand=!1,this.spaceMode=!1,this.expandChange=new W}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["button","nz-row-expand-button",""]],hostAttrs:[1,"ant-table-row-expand-icon"],hostVars:7,hostBindings:function(r,o){r&1&&P("click",function(){return o.onHostClick()}),r&2&&(El("type","button"),A("ant-table-row-expand-icon-expanded",!o.spaceMode&&o.expand===!0)("ant-table-row-expand-icon-collapsed",!o.spaceMode&&o.expand===!1)("ant-table-row-expand-icon-spaced",o.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"},standalone:!0});let t=i;return t})(),oI=(()=>{let i=class i{constructor(){this.indentSize=0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["nz-row-indent"]],hostAttrs:[1,"ant-table-row-indent"],hostVars:2,hostBindings:function(r,o){r&2&&ze("padding-left",o.indentSize,"px")},inputs:{indentSize:"indentSize"},standalone:!0});let t=i;return t})(),n_=(()=>{let i=class i{constructor(){this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.label=null,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new W}onCheckedChange(e){this.checked=e,this.checkedChange.emit(e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["nz-table-selection"]],hostAttrs:[1,"ant-table-selection"],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",label:"label",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[Y],decls:2,vars:2,consts:[["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate","ngModelChange",4,"ngIf"],["class","ant-table-selection-extra",4,"ngIf"],["nz-checkbox","",3,"ngModel","nzDisabled","nzIndeterminate","ngModelChange"],[1,"ant-table-selection-extra"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["selectionMenu","nzDropdownMenu"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-menu-item","",3,"click"]],template:function(r,o){r&1&&g(0,Kk,1,6,"label",0)(1,Zk,7,2,"div",1),r&2&&(u("ngIf",o.showCheckbox),d(),u("ngIf",o.showRowSelection))},dependencies:[Nt,vt,dt,tt,si,bi,Si,ir,tr,Hi,nr,Qe,Le,zi],encapsulation:2,changeDetection:0});let t=i;return t})(),r_=(()=>{let i=class i{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(e){let{sortDirections:r}=e;r&&(this.isUp=this.sortDirections.indexOf("ascend")!==-1,this.isDown=this.sortDirections.indexOf("descend")!==-1)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},standalone:!0,features:[re,Y],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(r,o){r&1&&(m(0,"span",0),g(1,Xk,0,0,"ng-template",1),f(),m(2,"span",2)(3,"span",3),g(4,Jk,1,2,"span",4)(5,eD,1,2,"span",5),f()()),r&2&&(d(),u("ngTemplateOutlet",o.contentTemplate),d(),A("ant-table-column-sorter-full",o.isDown&&o.isUp),d(2),u("ngIf",o.isUp),d(),u("ngIf",o.isDown))},dependencies:[Qe,Le,ge,Nt],encapsulation:2,changeDetection:0});let t=i;return t})(),rp=(()=>{let i=class i{setAutoLeftWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"left",e)}setAutoRightWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"right",e)}setIsFirstRight(e){this.setFixClass(e,"ant-table-cell-fix-right-first")}setIsLastLeft(e){this.setFixClass(e,"ant-table-cell-fix-left-last")}setFixClass(e,r){this.renderer.removeClass(this.elementRef.nativeElement,r),e&&this.renderer.addClass(this.elementRef.nativeElement,r)}constructor(e,r){this.renderer=e,this.elementRef=r,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new ne,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=this.nzLeft===""||this.nzLeft===!0,this.isAutoRight=this.nzRight===""||this.nzRight===!0,this.isFixedLeft=this.nzLeft!==!1,this.isFixedRight=this.nzRight!==!1,this.isFixed=this.isFixedLeft||this.isFixedRight;let e=r=>typeof r=="string"&&r!==""?r:null;this.setAutoLeftWidth(e(this.nzLeft)),this.setAutoRightWidth(e(this.nzRight)),this.changes$.next()}};i.\u0275fac=function(r){return new(r||i)(w(Fe),w(de))},i.\u0275dir=Ie({type:i,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(r,o){r&2&&(ze("position",o.isFixed?"sticky":null),A("ant-table-cell-fix-right",o.isFixedRight)("ant-table-cell-fix-left",o.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},standalone:!0,features:[re]});let t=i;return t})(),fr=(()=>{let i=class i{setTheadTemplate(e){this.theadTemplate$.next(e)}setHasFixLeft(e){this.hasFixLeft$.next(e)}setHasFixRight(e){this.hasFixRight$.next(e)}setTableWidthConfig(e){this.tableWidthConfigPx$.next(e)}setListOfTh(e){let r=0;e.forEach(a=>{r+=a.colspan&&+a.colspan||a.colSpan&&+a.colSpan||1});let o=e.map(a=>a.nzWidth);this.columnCount$.next(r),this.listOfThWidthConfigPx$.next(o)}setListOfMeasureColumn(e){let r=[];e.forEach(o=>{let a=o.colspan&&+o.colspan||o.colSpan&&+o.colSpan||1;for(let s=0;s<a;s++)r.push(`measure_key_${s}`)}),this.listOfMeasureColumn$.next(r)}setListOfAutoWidth(e){this.listOfAutoWidthPx$.next(e.map(r=>`${r}px`))}setShowEmpty(e){this.showEmpty$.next(e)}setNoResult(e){this.noResult$.next(e)}setScroll(e,r){let o=!!(e||r);o||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(o)}constructor(){this.theadTemplate$=new _t(1),this.hasFixLeft$=new _t(1),this.hasFixRight$=new _t(1),this.hostWidth$=new _t(1),this.columnCount$=new _t(1),this.showEmpty$=new _t(1),this.noResult$=new _t(1),this.listOfThWidthConfigPx$=new bt([]),this.tableWidthConfigPx$=new bt([]),this.manualWidthConfigPx$=fi([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe(Te(([e,r])=>e.length?e:r)),this.listOfAutoWidthPx$=new _t(1),this.listOfListOfThWidthPx$=Rt(this.manualWidthConfigPx$,fi([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe(Te(([e,r])=>e.length===r.length?e.map((o,a)=>o==="0px"?r[a]||null:r[a]||o):r))),this.listOfMeasureColumn$=new _t(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe(Te(e=>e.map(r=>parseInt(r,10)))),this.enableAutoMeasure$=new _t(1)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),o_=(()=>{let i=class i{constructor(e){this.isInsideTable=!1,this.isInsideTable=!!e}};i.\u0275fac=function(r){return new(r||i)(w(fr,8))},i.\u0275dir=Ie({type:i,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(r,o){r&2&&A("ant-table-cell",o.isInsideTable)},standalone:!0});let t=i;return t})(),ip=(()=>{let i=class i{updatePageSize(e){this.pageSize$.next(e)}updateFrontPagination(e){this.frontPagination$.next(e)}updatePageIndex(e){this.pageIndex$.next(e)}updateListOfData(e){this.listOfData$.next(e)}updateListOfCustomColumn(e){this.listOfCustomColumn$.next(e)}constructor(){this.destroy$=new ne,this.pageIndex$=new bt(1),this.frontPagination$=new bt(!0),this.pageSize$=new bt(10),this.listOfData$=new bt([]),this.listOfCustomColumn$=new bt([]),this.pageIndexDistinct$=this.pageIndex$.pipe(Ei()),this.pageSizeDistinct$=this.pageSize$.pipe(Ei()),this.listOfCalcOperator$=new bt([]),this.queryParams$=fi([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe(wr(0),Xp(1),Te(([e,r,o])=>({pageIndex:e,pageSize:r,sort:o.filter(a=>a.sortFn).map(a=>({key:a.key,value:a.sortOrder})),filter:o.filter(a=>a.filterFn).map(a=>({key:a.key,value:a.filterValue}))}))),this.listOfDataAfterCalc$=fi([this.listOfData$,this.listOfCalcOperator$]).pipe(Te(([e,r])=>{let o=[...e],a=r.filter(c=>{let{filterValue:p,filterFn:h}=c;return!(p==null||Array.isArray(p)&&p.length===0)&&typeof h=="function"});for(let c of a){let{filterFn:p,filterValue:h}=c;o=o.filter(_=>p(h,_))}let s=r.filter(c=>c.sortOrder!==null&&typeof c.sortFn=="function").sort((c,p)=>+p.sortPriority-+c.sortPriority);return r.length&&o.sort((c,p)=>{for(let h of s){let{sortFn:_,sortOrder:v}=h;if(_&&v){let y=_(c,p,v);if(y!==0)return v==="ascend"?y:-y}}return 0}),o})),this.listOfFrontEndCurrentPageData$=fi([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe($(this.destroy$),st(e=>{let[r,o,a]=e,s=Math.ceil(a.length/o)||1;return r<=s}),Te(([e,r,o])=>o.slice((e-1)*r,e*r))),this.listOfCurrentPageData$=this.frontPagination$.pipe(Wt(e=>e?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe(Wt(e=>e?this.listOfDataAfterCalc$:this.listOfData$),Te(e=>e.length),Ei())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})();var op=(()=>{let i=class i{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzExpandIcon=null,this.nzCheckedChange=new W,this.nzExpandChange=new W,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(e){this.nzChecked=e,this.nzCheckedChange.emit(e)}onExpandChange(e){this.nzExpand=e,this.nzExpandChange.emit(e)}ngOnChanges(e){let r=p=>p&&p.firstChange&&p.currentValue!==void 0,{nzExpand:o,nzChecked:a,nzShowExpand:s,nzShowCheckbox:c}=e;s&&(this.isNzShowExpandChanged=!0),c&&(this.isNzShowCheckboxChanged=!0),r(o)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),r(a)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(r,o){r&2&&A("ant-table-cell-with-append",o.nzShowExpand||o.nzIndentSize>0)("ant-table-selection-column",o.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzIndentSize:"nzIndentSize",nzShowExpand:"nzShowExpand",nzShowCheckbox:"nzShowCheckbox",nzExpand:"nzExpand",nzExpandIcon:"nzExpandIcon"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},standalone:!0,features:[re,Y],attrs:tD,ngContentSelectors:Yn,decls:3,vars:2,consts:[[4,"ngIf"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange",4,"ngIf"],[3,"indentSize"],["rowExpand",""],[4,"ngIf","ngIfElse"],["nz-row-expand-button","",3,"expand","spaceMode","expandChange"],[3,"ngTemplateOutlet"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange"]],template:function(r,o){r&1&&(Ee(),g(0,oD,5,3,"ng-container",0)(1,aD,1,4,"label",1),we(2)),r&2&&(u("ngIf",o.nzShowExpand||o.nzIndentSize>0),d(),u("ngIf",o.nzShowCheckbox))},dependencies:[oI,rI,Nt,ge,si,bi,vt,dt,tt],encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzShowExpand",void 0),H([X()],t.prototype,"nzShowCheckbox",void 0),H([X()],t.prototype,"nzExpand",void 0),t})(),gl=(()=>{let i=class i{getNextSortDirection(e,r){let o=e.indexOf(r);return o===e.length-1?e[0]:e[o+1]}setSortOrder(e){this.sortOrderChange$.next(e)}clearSortOrder(){this.sortOrder!==null&&this.setSortOrder(null)}onFilterValueChange(e){this.nzFilterChange.emit(e),this.nzFilterValue=e,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}constructor(e,r,o,a){this.host=e,this.cdr=r,this.ngZone=o,this.destroy$=a,this.manualClickOrder$=new ne,this.calcOperatorChange$=new ne,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new ne,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new W,this.nzSortOrderChange=new W,this.nzFilterChange=new W}ngOnInit(){this.ngZone.runOutsideAngular(()=>St(this.host.nativeElement,"click").pipe(st(()=>this.nzShowSort),$(this.destroy$)).subscribe(()=>{let e=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(e),this.manualClickOrder$.next(this)})})),this.sortOrderChange$.pipe($(this.destroy$)).subscribe(e=>{this.sortOrder!==e&&(this.sortOrder=e,this.nzSortOrderChange.emit(e)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(e){let{nzSortDirections:r,nzFilters:o,nzSortOrder:a,nzSortFn:s,nzFilterFn:c,nzSortPriority:p,nzFilterMultiple:h,nzShowSort:_,nzShowFilter:v}=e;r&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),a&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),_&&(this.isNzShowSortChanged=!0),v&&(this.isNzShowFilterChanged=!0);let y=k=>k&&k.firstChange&&k.currentValue!==void 0;if((y(a)||y(s))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),y(o)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(o||h)&&this.nzShowFilter){let k=this.nzFilters.filter(T=>T.byDefault).map(T=>T.value);this.nzFilterValue=this.nzFilterMultiple?k:k[0]||null}(s||c||p||o)&&this.updateCalcOperator()}};i.\u0275fac=function(r){return new(r||i)(w(de),w(xe),w(Ye),w(Ot))},i.\u0275cmp=L({type:i,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(r,o){r&2&&A("ant-table-column-has-sorters",o.nzShowSort)("ant-table-column-sort",o.sortOrder==="descend"||o.sortOrder==="ascend")},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},standalone:!0,features:[ct([Ot]),re,Y],attrs:sD,ngContentSelectors:fD,decls:9,vars:2,consts:[[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(r,o){if(r&1&&(Ee(mD),g(0,lD,1,5,"nz-table-filter",0)(1,dD,1,1,"ng-template",null,1,he)(3,pD,2,0,"ng-template",null,2,he)(5,uD,1,3,"ng-template",null,3,he)(7,hD,1,0,"ng-template",null,4,he)),r&2){let a=q(2);u("ngIf",o.nzShowFilter||o.nzCustomFilter)("ngIfElse",a)}},dependencies:[i_,Nt,ge,r_],encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzShowSort",void 0),H([X()],t.prototype,"nzShowFilter",void 0),H([X()],t.prototype,"nzCustomFilter",void 0),t})(),ap=(()=>{let i=class i{constructor(e,r){this.renderer=e,this.elementRef=r,this.changes$=new ne,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(e){let{nzWidth:r,colspan:o,rowspan:a,colSpan:s,rowSpan:c}=e;if(o||s){let p=this.colspan||this.colSpan;$r(p)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${p}`)}if(a||c){let p=this.rowspan||this.rowSpan;$r(p)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${p}`)}(r||o)&&this.changes$.next()}};i.\u0275fac=function(r){return new(r||i)(w(Fe),w(de))},i.\u0275dir=Ie({type:i,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},standalone:!0,features:[re]});let t=i;return t})(),aI=(()=>{let i=class i{constructor(){this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new W,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(e){this.nzChecked=e,this.nzCheckedChange.emit(e)}ngOnChanges(e){let r=p=>p&&p.firstChange&&p.currentValue!==void 0,{nzChecked:o,nzSelections:a,nzShowExpand:s,nzShowCheckbox:c}=e;s&&(this.isNzShowExpandChanged=!0),c&&(this.isNzShowCheckboxChanged=!0),r(a)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),r(o)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],hostAttrs:[1,"ant-table-selection-column"],inputs:{nzSelections:"nzSelections",nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzShowCheckbox:"nzShowCheckbox",nzShowRowSelection:"nzShowRowSelection"},outputs:{nzCheckedChange:"nzCheckedChange"},standalone:!0,features:[re,Y],attrs:_D,ngContentSelectors:Yn,decls:2,vars:7,consts:[[3,"checked","disabled","indeterminate","label","listOfSelections","showCheckbox","showRowSelection","checkedChange"]],template:function(r,o){r&1&&(Ee(),m(0,"nz-table-selection",0),P("checkedChange",function(s){return o.onCheckedChange(s)}),f(),we(1)),r&2&&u("checked",o.nzChecked)("disabled",o.nzDisabled)("indeterminate",o.nzIndeterminate)("label",o.nzLabel)("listOfSelections",o.nzSelections)("showCheckbox",o.nzShowCheckbox)("showRowSelection",o.nzShowRowSelection)},dependencies:[n_],encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzShowCheckbox",void 0),H([X()],t.prototype,"nzShowRowSelection",void 0),t})();var a_=(()=>{let i=class i{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(r,o){r&2&&(ze("table-layout",o.tableLayout)("width",o.scrollX)("min-width",o.scrollX?"100%":null),A("ant-table-fixed",o.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},standalone:!0,features:[Y],attrs:gD,ngContentSelectors:Yn,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(r,o){r&1&&(Ee(),g(0,CD,1,4,"col",0)(1,vD,2,1,"thead",1)(2,zD,0,0,"ng-template",2),we(3)),r&2&&(u("ngForOf",o.listOfColWidth),d(),u("ngIf",o.theadTemplate),d(),u("ngTemplateOutlet",o.contentTemplate))},dependencies:[ge,Nt,zi],encapsulation:2,changeDetection:0});let t=i;return t})(),sp=(()=>{let i=class i{constructor(e,r){this.nzTableStyleService=e,this.renderer=r,this.hostWidth$=new bt(null),this.enableAutoMeasure$=new bt(!1),this.destroy$=new ne}ngOnInit(){if(this.nzTableStyleService){let{enableAutoMeasure$:e,hostWidth$:r}=this.nzTableStyleService;e.pipe($(this.destroy$)).subscribe(this.enableAutoMeasure$),r.pipe($(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe($(this.destroy$)).subscribe(e=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${e}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(fr),w(Fe))},i.\u0275cmp=L({type:i,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(r,o){if(r&1&&me(e_,7),r&2){let a;te(a=ie())&&(o.tdElement=a.first)}},standalone:!0,features:[Y],attrs:xD,ngContentSelectors:Yn,decls:6,vars:4,consts:[[1,"nz-disable-td","ant-table-cell"],["tdElement",""],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(r,o){if(r&1&&(Ee(),m(0,"td",0,1),g(2,SD,3,5,"div",2),At(3,"async"),f(),g(4,TD,1,0,"ng-template",null,3,he)),r&2){let a=q(5);d(2),u("ngIf",ri(3,2,o.enableAutoMeasure$))("ngIfElse",a)}},dependencies:[Nt,Do,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),sI=(()=>{let i=class i{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},standalone:!0,features:[Y],decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(r,o){r&1&&(m(0,"div",0),N(1,"table",1),f()),r&2&&(d(),u("contentTemplate",o.contentTemplate)("tableLayout",o.tableLayout)("listOfColWidth",o.listOfColWidth)("theadTemplate",o.theadTemplate))},dependencies:[a_],encapsulation:2,changeDetection:0});let t=i;return t})(),lI=(()=>{let i=class i{constructor(e,r){this.nzResizeObserver=e,this.ngZone=r,this.listOfMeasureColumn=[],this.listOfAutoWidth=new W,this.destroy$=new ne}trackByFunc(e,r){return r}ngAfterViewInit(){this.listOfTdElement.changes.pipe(Mi(this.listOfTdElement)).pipe(Wt(e=>fi(e.toArray().map(r=>this.nzResizeObserver.observe(r).pipe(Te(([o])=>{let{width:a}=o.target.getBoundingClientRect();return Math.floor(a)}))))),wr(16),$(this.destroy$)).subscribe(e=>{this.ngZone instanceof Ye&&Ye.isInAngularZone()?this.listOfAutoWidth.next(e):this.ngZone.run(()=>this.listOfAutoWidth.next(e))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(rr),w(Ye))},i.\u0275cmp=L({type:i,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(r,o){if(r&1&&me(e_,5),r&2){let a;te(a=ie())&&(o.listOfTdElement=a)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},standalone:!0,features:[Y],attrs:wD,decls:1,vars:2,consts:[["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"],["tdElement",""]],template:function(r,o){r&1&&g(0,kD,2,0,"td",0),r&2&&u("ngForOf",o.listOfMeasureColumn)("ngForTrackBy",o.trackByFunc)},dependencies:[zi],encapsulation:2,changeDetection:0});let t=i;return t})(),Cl=(()=>{let i=class i{constructor(e){if(this.nzTableStyleService=e,this.isInsideTable=!1,this.showEmpty$=new bt(!1),this.noResult$=new bt(void 0),this.listOfMeasureColumn$=new bt([]),this.destroy$=new ne,this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){let{showEmpty$:r,noResult$:o,listOfMeasureColumn$:a}=this.nzTableStyleService;o.pipe($(this.destroy$)).subscribe(this.noResult$),a.pipe($(this.destroy$)).subscribe(this.listOfMeasureColumn$),r.pipe($(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(e){this.nzTableStyleService.setListOfAutoWidth(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(fr,8))},i.\u0275cmp=L({type:i,selectors:[["tbody"]],hostVars:2,hostBindings:function(r,o){r&2&&A("ant-table-tbody",o.isInsideTable)},standalone:!0,features:[Y],ngContentSelectors:Yn,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(r,o){r&1&&(Ee(),g(0,ID,2,1,"ng-container",0),At(1,"async"),we(2),g(3,PD,3,3,"tr",1),At(4,"async")),r&2&&(u("ngIf",ri(1,2,o.listOfMeasureColumn$)),d(3),u("ngIf",ri(4,4,o.showEmpty$)))},dependencies:[Nt,Do,lI,sp,Ch,gh],encapsulation:2,changeDetection:0});let t=i;return t})(),np=(()=>{let i=class i{setScrollPositionClassName(e=!1){let{scrollWidth:r,scrollLeft:o,clientWidth:a}=this.tableBodyElement.nativeElement,s="ant-table-ping-left",c="ant-table-ping-right";r===a&&r!==0||e?(this.renderer.removeClass(this.tableMainElement,s),this.renderer.removeClass(this.tableMainElement,c)):o===0?(this.renderer.removeClass(this.tableMainElement,s),this.renderer.addClass(this.tableMainElement,c)):r===o+a?(this.renderer.removeClass(this.tableMainElement,c),this.renderer.addClass(this.tableMainElement,s)):(this.renderer.addClass(this.tableMainElement,s),this.renderer.addClass(this.tableMainElement,c))}constructor(e,r,o,a){this.renderer=e,this.ngZone=r,this.platform=o,this.resizeService=a,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=s=>s,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new ne,this.scroll$=new ne,this.destroy$=new ne}ngOnChanges(e){let{scrollX:r,scrollY:o,data:a}=e;if(r||o){let s=this.verticalScrollBarWidth!==0;this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&s?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())}a&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{let e=this.scroll$.pipe(Mi(null),ba(0),Wt(()=>St(this.tableBodyElement.nativeElement,"scroll").pipe(Mi(!0))),$(this.destroy$)),r=this.resizeService.subscribe().pipe($(this.destroy$)),o=this.data$.pipe($(this.destroy$));Rt(e,r,o,this.scroll$).pipe(Mi(!0),ba(0),$(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),e.pipe(st(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(Fe),w(Ye),w(oi),w(Nu))},i.\u0275cmp=L({type:i,selectors:[["nz-table-inner-scroll"]],viewQuery:function(r,o){if(r&1&&(me(ED,5,de),me(MD,5,de),me(Mo,5,Mo)),r&2){let a;te(a=ie())&&(o.tableHeaderElement=a.first),te(a=ie())&&(o.tableBodyElement=a.first),te(a=ie())&&(o.cdkVirtualScrollViewport=a.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth"},standalone:!0,features:[re,Y],decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["tableHeaderElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["tableBodyElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(r,o){r&1&&g(0,VD,6,6,"ng-container",0)(1,AD,3,5,"div",1),r&2&&(u("ngIf",o.scrollY),d(),u("ngIf",!o.scrollY))},dependencies:[a_,Nt,xi,bu,zu,xu,Mo,ge,Cl],encapsulation:2,changeDetection:0});let t=i;return t})(),lp=(()=>{let i=class i{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,r){return!0}};i.\u0275fac=function(r){return new(r||i)(w(Oi))},i.\u0275dir=Ie({type:i,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"],standalone:!0});let t=i;return t})(),s_=(()=>{let i=class i{constructor(){this.title=null,this.footer=null}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(r,o){r&2&&A("ant-table-title",o.title!==null)("ant-table-footer",o.footer!==null)},inputs:{title:"title",footer:"footer"},standalone:!0,features:[Y],decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(r,o){r&1&&g(0,HD,2,1,"ng-container",0)(1,LD,2,1,"ng-container",0),r&2&&(u("nzStringTemplateOutlet",o.title),d(),u("nzStringTemplateOutlet",o.footer))},dependencies:[Qt,Ft],encapsulation:2,changeDetection:0});let t=i;return t})(),J0="table",cp=(()=>{let i=class i{onPageSizeChange(e){this.nzTableDataService.updatePageSize(e)}onPageIndexChange(e){this.nzTableDataService.updatePageIndex(e)}constructor(e,r,o,a,s,c,p){this.elementRef=e,this.nzResizeObserver=r,this.nzConfigService=o,this.cdr=a,this.nzTableStyleService=s,this.nzTableDataService=c,this.directionality=p,this._nzModuleName=J0,this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=h=>h,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzCustomColumn=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new W,this.nzPageIndexChange=new W,this.nzQueryParams=new W,this.nzCurrentPageDataChange=new W,this.nzCustomColumnChange=new W,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new ne,this.templateMode$=new bt(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent(J0).pipe($(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){let{pageIndexDistinct$:e,pageSizeDistinct$:r,listOfCurrentPageData$:o,total$:a,queryParams$:s,listOfCustomColumn$:c}=this.nzTableDataService,{theadTemplate$:p,hasFixLeft$:h,hasFixRight$:_}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe($(this.destroy$)).subscribe(v=>{this.dir=v,this.cdr.detectChanges()}),s.pipe($(this.destroy$)).subscribe(this.nzQueryParams),e.pipe($(this.destroy$)).subscribe(v=>{v!==this.nzPageIndex&&(this.nzPageIndex=v,this.nzPageIndexChange.next(v))}),r.pipe($(this.destroy$)).subscribe(v=>{v!==this.nzPageSize&&(this.nzPageSize=v,this.nzPageSizeChange.next(v))}),a.pipe($(this.destroy$),st(()=>this.nzFrontPagination)).subscribe(v=>{v!==this.nzTotal&&(this.nzTotal=v,this.cdr.markForCheck())}),o.pipe($(this.destroy$)).subscribe(v=>{this.data=v,this.nzCurrentPageDataChange.next(v),this.cdr.markForCheck()}),c.pipe($(this.destroy$)).subscribe(v=>{this.nzCustomColumn=v,this.nzCustomColumnChange.next(v),this.cdr.markForCheck()}),p.pipe($(this.destroy$)).subscribe(v=>{this.theadTemplate=v,this.cdr.markForCheck()}),h.pipe($(this.destroy$)).subscribe(v=>{this.hasFixLeft=v,this.cdr.markForCheck()}),_.pipe($(this.destroy$)).subscribe(v=>{this.hasFixRight=v,this.cdr.markForCheck()}),fi([a,this.templateMode$]).pipe(Te(([v,y])=>v===0&&!y),$(this.destroy$)).subscribe(v=>{this.nzTableStyleService.setShowEmpty(v)}),this.verticalScrollBarWidth=yu("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe($(this.destroy$)).subscribe(v=>{this.listOfAutoColWidth=v,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe($(this.destroy$)).subscribe(v=>{this.listOfManualColWidth=v,this.cdr.markForCheck()})}ngOnChanges(e){let{nzScroll:r,nzPageIndex:o,nzPageSize:a,nzFrontPagination:s,nzData:c,nzCustomColumn:p,nzWidthConfig:h,nzNoResult:_,nzTemplateMode:v}=e;o&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),a&&this.nzTableDataService.updatePageSize(this.nzPageSize),c&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),p&&(this.nzCustomColumn=this.nzCustomColumn||[],this.nzTableDataService.updateListOfCustomColumn(this.nzCustomColumn)),s&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),r&&this.setScrollOnChanges(),h&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),v&&this.templateMode$.next(this.nzTemplateMode),_&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(Te(([e])=>{let{width:r}=e.target.getBoundingClientRect(),o=this.scrollY?this.verticalScrollBarWidth:0;return Math.floor(r-o)}),$(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}};i.\u0275fac=function(r){return new(r||i)(w(de),w(rr),w(Ut),w(xe),w(fr),w(ip),w(Ct,8))},i.\u0275cmp=L({type:i,selectors:[["nz-table"]],contentQueries:function(r,o,a){if(r&1&&Cn(a,lp,5),r&2){let s;te(s=ie())&&(o.nzVirtualScrollDirective=s.first)}},viewQuery:function(r,o){if(r&1&&me(np,5),r&2){let a;te(a=ie())&&(o.nzTableInnerScrollComponent=a.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:4,hostBindings:function(r,o){r&2&&A("ant-table-wrapper-rtl",o.dir==="rtl")("ant-table-custom-column",o.nzCustomColumn.length)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzCustomColumn:"nzCustomColumn",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange",nzCustomColumnChange:"nzCustomColumnChange"},exportAs:["nzTable"],standalone:!0,features:[ct([fr,ip]),re,Y],ngContentSelectors:Yn,decls:14,vars:27,consts:[[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],["tableMainElement",""],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"footer",4,"ngIf"],["paginationTemplate",""],["contentTemplate",""],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange"]],template:function(r,o){if(r&1&&(Ee(),m(0,"nz-spin",0),g(1,BD,2,1,"ng-container",1),m(2,"div",2,3),g(4,WD,1,1,"nz-table-title-footer",4)(5,qD,1,13,"nz-table-inner-scroll",5)(6,UD,1,4,"ng-template",null,6,he)(8,YD,1,1,"nz-table-title-footer",7),f(),g(9,KD,2,1,"ng-container",1),f(),g(10,ZD,1,1,"ng-template",null,8,he)(12,XD,1,0,"ng-template",null,9,he)),r&2){let a=q(7);u("nzDelay",o.nzLoadingDelay)("nzSpinning",o.nzLoading)("nzIndicator",o.nzLoadingIndicator),d(),u("ngIf",o.nzPaginationPosition==="both"||o.nzPaginationPosition==="top"),d(),A("ant-table-rtl",o.dir==="rtl")("ant-table-fixed-header",o.nzData.length&&o.scrollY)("ant-table-fixed-column",o.scrollX)("ant-table-has-fix-left",o.hasFixLeft)("ant-table-has-fix-right",o.hasFixRight)("ant-table-bordered",o.nzBordered)("nz-table-out-bordered",o.nzOuterBordered&&!o.nzBordered)("ant-table-middle",o.nzSize==="middle")("ant-table-small",o.nzSize==="small"),d(2),u("ngIf",o.nzTitle),d(),u("ngIf",o.scrollY||o.scrollX)("ngIfElse",a),d(3),u("ngIf",o.nzFooter),d(),u("ngIf",o.nzPaginationPosition==="both"||o.nzPaginationPosition==="bottom")}},dependencies:[vh,Nt,ge,s_,np,sI,Nh,Wl],encapsulation:2,changeDetection:0});let t=i;return H([X()],t.prototype,"nzFrontPagination",void 0),H([X()],t.prototype,"nzTemplateMode",void 0),H([X()],t.prototype,"nzShowPagination",void 0),H([X()],t.prototype,"nzLoading",void 0),H([X()],t.prototype,"nzOuterBordered",void 0),H([Pe()],t.prototype,"nzLoadingIndicator",void 0),H([Pe(),X()],t.prototype,"nzBordered",void 0),H([Pe()],t.prototype,"nzSize",void 0),H([Pe(),X()],t.prototype,"nzShowSizeChanger",void 0),H([Pe(),X()],t.prototype,"nzHideOnSinglePage",void 0),H([Pe(),X()],t.prototype,"nzShowQuickJumper",void 0),H([Pe(),X()],t.prototype,"nzSimple",void 0),t})(),dp=(()=>{let i=class i{constructor(e){this.nzTableStyleService=e,this.destroy$=new ne,this.listOfFixedColumns$=new _t(1),this.listOfColumns$=new _t(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe(Wt(r=>Rt(this.listOfFixedColumns$,...r.map(o=>o.changes$)).pipe(za(()=>this.listOfFixedColumns$))),$(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe(Te(r=>r.filter(o=>o.nzLeft!==!1))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe(Te(r=>r.filter(o=>o.nzRight!==!1))),this.listOfColumnsChanges$=this.listOfColumns$.pipe(Wt(r=>Rt(this.listOfColumns$,...r.map(o=>o.changes$)).pipe(za(()=>this.listOfColumns$))),$(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!e}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe(Mi(this.listOfCellFixedDirective),$(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe(Mi(this.listOfNzThDirective),$(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(e=>{e.forEach(r=>r.setIsLastLeft(r===e[e.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(e=>{e.forEach(r=>r.setIsFirstRight(r===e[0]))}),fi([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe($(this.destroy$)).subscribe(([e,r])=>{r.forEach((o,a)=>{if(o.isAutoLeft){let c=r.slice(0,a).reduce((h,_)=>h+(_.colspan||_.colSpan||1),0),p=e.slice(0,c).reduce((h,_)=>h+_,0);o.setAutoLeftWidth(`${p}px`)}})}),fi([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe($(this.destroy$)).subscribe(([e,r])=>{r.forEach((o,a)=>{let s=r[r.length-a-1];if(s.isAutoRight){let p=r.slice(r.length-a,r.length).reduce((_,v)=>_+(v.colspan||v.colSpan||1),0),h=e.slice(e.length-p,e.length).reduce((_,v)=>_+v,0);s.setAutoRightWidth(`${h}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(fr,8))},i.\u0275dir=Ie({type:i,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(r,o,a){if(r&1&&(Cn(a,ap,4),Cn(a,rp,4)),r&2){let s;te(s=ie())&&(o.listOfNzThDirective=s),te(s=ie())&&(o.listOfCellFixedDirective=s)}},hostVars:2,hostBindings:function(r,o){r&2&&A("ant-table-row",o.isInsideTable)},standalone:!0});let t=i;return t})(),l_=(()=>{let i=class i{constructor(e,r,o,a){this.elementRef=e,this.renderer=r,this.nzTableStyleService=o,this.nzTableDataService=a,this.destroy$=new ne,this.isInsideTable=!1,this.nzSortOrderChange=new W,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){let e=this.listOfNzTrDirective.changes.pipe(Mi(this.listOfNzTrDirective),Te(s=>s&&s.first)),r=e.pipe(Wt(s=>s?s.listOfColumnsChanges$:va),$(this.destroy$));r.subscribe(s=>this.nzTableStyleService.setListOfTh(s)),this.nzTableStyleService.enableAutoMeasure$.pipe(Wt(s=>s?r:Bt([]))).pipe($(this.destroy$)).subscribe(s=>this.nzTableStyleService.setListOfMeasureColumn(s));let o=e.pipe(Wt(s=>s?s.listOfFixedLeftColumnChanges$:va),$(this.destroy$)),a=e.pipe(Wt(s=>s?s.listOfFixedRightColumnChanges$:va),$(this.destroy$));o.subscribe(s=>{this.nzTableStyleService.setHasFixLeft(s.length!==0)}),a.subscribe(s=>{this.nzTableStyleService.setHasFixRight(s.length!==0)})}if(this.nzTableDataService){let e=this.listOfNzThAddOnComponent.changes.pipe(Mi(this.listOfNzThAddOnComponent));e.pipe(Wt(()=>Rt(...this.listOfNzThAddOnComponent.map(a=>a.manualClickOrder$))),$(this.destroy$)).subscribe(a=>{let s={key:a.nzColumnKey,value:a.sortOrder};this.nzSortOrderChange.emit(s),a.nzSortFn&&a.nzSortPriority===!1&&this.listOfNzThAddOnComponent.filter(c=>c!==a).forEach(c=>c.clearSortOrder())}),e.pipe(Wt(a=>Rt(e,...a.map(s=>s.calcOperatorChange$)).pipe(za(()=>e))),Te(a=>a.filter(s=>!!s.nzSortFn||!!s.nzFilterFn).map(s=>{let{nzSortFn:c,sortOrder:p,nzFilterFn:h,nzFilterValue:_,nzSortPriority:v,nzColumnKey:y}=s;return{key:y,sortFn:c,sortPriority:v,sortOrder:p,filterFn:h,filterValue:_}})),ba(0),$(this.destroy$)).subscribe(a=>{this.nzTableDataService.listOfCalcOperator$.next(a)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(r){return new(r||i)(w(de),w(Fe),w(fr,8),w(ip,8))},i.\u0275cmp=L({type:i,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(r,o,a){if(r&1&&(Cn(a,dp,5),Cn(a,gl,5)),r&2){let s;te(s=ie())&&(o.listOfNzTrDirective=s),te(s=ie())&&(o.listOfNzThAddOnComponent=s)}},viewQuery:function(r,o){if(r&1&&me(JD,7),r&2){let a;te(a=ie())&&(o.templateRef=a.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},standalone:!0,features:[Y],ngContentSelectors:Yn,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&(Ee(),g(0,eI,1,0,"ng-template",null,0,he)(2,iI,2,1,"ng-container",1)),r&2&&(d(2),u("ngIf",!o.isInsideTable))},dependencies:[Nt,ge],encapsulation:2,changeDetection:0});let t=i;return t})(),c_=(()=>{let i=class i{constructor(){this.nzExpand=!0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["tr","nzExpand",""]],hostAttrs:[1,"ant-table-expanded-row"],hostVars:1,hostBindings:function(r,o){r&2&&El("hidden",!o.nzExpand)},inputs:{nzExpand:"nzExpand"},standalone:!0});let t=i;return t})(),go=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[cp,gl,op,Cl,s_,np,r_,i_,n_,t_,aI]});let t=i;return t})();var cI=["*"];function p_(t){return $l(t)?t.touches[0]||t.changedTouches[0]:t}var pp=(()=>{let i=class i{constructor(e,r){this.ngZone=e,this.listeners=new Map,this.handleMouseDownOutsideAngular$=new ne,this.documentMouseUpOutsideAngular$=new ne,this.documentMouseMoveOutsideAngular$=new ne,this.mouseEnteredOutsideAngular$=new ne,this.document=r}startResizing(e){let r=$l(e);this.clearListeners();let o=r?"touchmove":"mousemove",a=r?"touchend":"mouseup",s=p=>{this.documentMouseMoveOutsideAngular$.next(p)},c=p=>{this.documentMouseUpOutsideAngular$.next(p),this.clearListeners()};this.listeners.set(o,s),this.listeners.set(a,c),this.ngZone.runOutsideAngular(()=>{this.listeners.forEach((p,h)=>{this.document.addEventListener(h,p)})})}clearListeners(){this.listeners.forEach((e,r)=>{this.document.removeEventListener(r,e)}),this.listeners.clear()}ngOnDestroy(){this.handleMouseDownOutsideAngular$.complete(),this.documentMouseUpOutsideAngular$.complete(),this.documentMouseMoveOutsideAngular$.complete(),this.mouseEnteredOutsideAngular$.complete(),this.clearListeners()}};i.\u0275fac=function(r){return new(r||i)(lt(Ye),lt(tn))},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),h_=(()=>{let i=class i{constructor(e,r,o,a,s,c){this.elementRef=e,this.renderer=r,this.nzResizableService=o,this.platform=a,this.ngZone=s,this.destroy$=c,this.nzBounds="parent",this.nzMinHeight=40,this.nzMinWidth=40,this.nzGridColumnCount=-1,this.nzMaxColumn=-1,this.nzMinColumn=-1,this.nzLockAspectRatio=!1,this.nzPreview=!1,this.nzDisabled=!1,this.nzResize=new W,this.nzResizeEnd=new W,this.nzResizeStart=new W,this.resizing=!1,this.currentHandleEvent=null,this.ghostElement=null,this.sizeCache=null,this.nzResizableService.handleMouseDownOutsideAngular$.pipe($(this.destroy$)).subscribe(p=>{this.nzDisabled||(this.resizing=!0,this.nzResizableService.startResizing(p.mouseEvent),this.currentHandleEvent=p,this.nzResizeStart.observers.length&&this.ngZone.run(()=>this.nzResizeStart.emit({mouseEvent:p.mouseEvent,direction:p.direction})),this.elRect=this.el.getBoundingClientRect())}),this.nzResizableService.documentMouseUpOutsideAngular$.pipe($(this.destroy$),st(Boolean)).subscribe(p=>{this.resizing&&(this.resizing=!1,this.nzResizableService.documentMouseUpOutsideAngular$.next(null),this.endResize(p))}),this.nzResizableService.documentMouseMoveOutsideAngular$.pipe($(this.destroy$)).subscribe(p=>{this.resizing&&this.resize(p)})}setPosition(){let e=getComputedStyle(this.el).position;(e==="static"||!e)&&this.renderer.setStyle(this.el,"position","relative")}calcSize(e,r,o){let a,s,c,p,h=0,_=0,v=this.nzMinWidth,y=1/0,k=1/0;if(this.nzBounds==="parent"){let T=this.renderer.parentNode(this.el);if(T instanceof HTMLElement){let F=T.getBoundingClientRect();y=F.width,k=F.height}}else if(this.nzBounds==="window")typeof window<"u"&&(y=window.innerWidth,k=window.innerHeight);else if(this.nzBounds&&this.nzBounds.nativeElement&&this.nzBounds.nativeElement instanceof HTMLElement){let T=this.nzBounds.nativeElement.getBoundingClientRect();y=T.width,k=T.height}return c=Rl(this.nzMaxWidth,y),p=Rl(this.nzMaxHeight,k),this.nzGridColumnCount!==-1&&(_=c/this.nzGridColumnCount,v=this.nzMinColumn!==-1?_*this.nzMinColumn:v,c=this.nzMaxColumn!==-1?_*this.nzMaxColumn:c),o!==-1?/(left|right)/i.test(this.currentHandleEvent.direction)?(a=Math.min(Math.max(e,v),c),s=Math.min(Math.max(a/o,this.nzMinHeight),p),(s>=p||s<=this.nzMinHeight)&&(a=Math.min(Math.max(s*o,v),c))):(s=Math.min(Math.max(r,this.nzMinHeight),p),a=Math.min(Math.max(s*o,v),c),(a>=c||a<=v)&&(s=Math.min(Math.max(a/o,this.nzMinHeight),p))):(a=Math.min(Math.max(e,v),c),s=Math.min(Math.max(r,this.nzMinHeight),p)),this.nzGridColumnCount!==-1&&(h=Math.round(a/_),a=h*_),{col:h,width:a,height:s}}resize(e){let r=this.elRect,o=p_(e),a=p_(this.currentHandleEvent.mouseEvent),s=r.width,c=r.height,p=this.nzLockAspectRatio?s/c:-1;switch(this.currentHandleEvent.direction){case"bottomRight":s=o.clientX-r.left,c=o.clientY-r.top;break;case"bottomLeft":s=r.width+a.clientX-o.clientX,c=o.clientY-r.top;break;case"topRight":s=o.clientX-r.left,c=r.height+a.clientY-o.clientY;break;case"topLeft":s=r.width+a.clientX-o.clientX,c=r.height+a.clientY-o.clientY;break;case"top":c=r.height+a.clientY-o.clientY;break;case"right":s=o.clientX-r.left;break;case"bottom":c=o.clientY-r.top;break;case"left":s=r.width+a.clientX-o.clientX}let h=this.calcSize(s,c,p);this.sizeCache=I({},h),this.nzResize.observers.length&&this.ngZone.run(()=>{this.nzResize.emit(Me(I({},h),{mouseEvent:e,direction:this.currentHandleEvent.direction}))}),this.nzPreview&&this.previewResize(h)}endResize(e){this.removeGhostElement();let r=this.sizeCache?I({},this.sizeCache):{width:this.elRect.width,height:this.elRect.height};this.nzResizeEnd.observers.length&&this.ngZone.run(()=>{this.nzResizeEnd.emit(Me(I({},r),{mouseEvent:e,direction:this.currentHandleEvent.direction}))}),this.sizeCache=null,this.currentHandleEvent=null}previewResize({width:e,height:r}){this.createGhostElement(),this.renderer.setStyle(this.ghostElement,"width",`${e}px`),this.renderer.setStyle(this.ghostElement,"height",`${r}px`)}createGhostElement(){this.ghostElement||(this.ghostElement=this.renderer.createElement("div"),this.renderer.setAttribute(this.ghostElement,"class","nz-resizable-preview")),this.renderer.appendChild(this.el,this.ghostElement)}removeGhostElement(){this.ghostElement&&this.renderer.removeChild(this.el,this.ghostElement)}ngAfterViewInit(){this.platform.isBrowser&&(this.el=this.elementRef.nativeElement,this.setPosition(),this.ngZone.runOutsideAngular(()=>{St(this.el,"mouseenter").pipe($(this.destroy$)).subscribe(()=>{this.nzResizableService.mouseEnteredOutsideAngular$.next(!0)}),St(this.el,"mouseleave").pipe($(this.destroy$)).subscribe(()=>{this.nzResizableService.mouseEnteredOutsideAngular$.next(!1)})}))}ngOnDestroy(){this.ghostElement=null,this.sizeCache=null}};i.\u0275fac=function(r){return new(r||i)(w(de),w(Fe),w(pp),w(oi),w(Ye),w(Ot))},i.\u0275dir=Ie({type:i,selectors:[["","nz-resizable",""]],hostAttrs:[1,"nz-resizable"],hostVars:4,hostBindings:function(r,o){r&2&&A("nz-resizable-resizing",o.resizing)("nz-resizable-disabled",o.nzDisabled)},inputs:{nzBounds:"nzBounds",nzMaxHeight:"nzMaxHeight",nzMaxWidth:"nzMaxWidth",nzMinHeight:"nzMinHeight",nzMinWidth:"nzMinWidth",nzGridColumnCount:"nzGridColumnCount",nzMaxColumn:"nzMaxColumn",nzMinColumn:"nzMinColumn",nzLockAspectRatio:"nzLockAspectRatio",nzPreview:"nzPreview",nzDisabled:"nzDisabled"},outputs:{nzResize:"nzResize",nzResizeEnd:"nzResizeEnd",nzResizeStart:"nzResizeStart"},exportAs:["nzResizable"],standalone:!0,features:[ct([pp,Ot])]});let t=i;return H([X()],t.prototype,"nzLockAspectRatio",void 0),H([X()],t.prototype,"nzPreview",void 0),H([X()],t.prototype,"nzDisabled",void 0),t})(),up=class{constructor(i,n){this.direction=i,this.mouseEvent=n}},u_=uu({passive:!0}),m_=(()=>{let i=class i{constructor(e,r,o,a,s){this.ngZone=e,this.nzResizableService=r,this.renderer=o,this.host=a,this.destroy$=s,this.nzDirection="bottomRight",this.nzCursorType="window",this.nzMouseDown=new W}ngOnInit(){this.nzResizableService.mouseEnteredOutsideAngular$.pipe($(this.destroy$)).subscribe(e=>{e?this.renderer.addClass(this.host.nativeElement,"nz-resizable-handle-box-hover"):this.renderer.removeClass(this.host.nativeElement,"nz-resizable-handle-box-hover")}),this.ngZone.runOutsideAngular(()=>{Rt(St(this.host.nativeElement,"mousedown",u_),St(this.host.nativeElement,"touchstart",u_)).pipe($(this.destroy$)).subscribe(e=>{this.nzResizableService.handleMouseDownOutsideAngular$.next(new up(this.nzDirection,e))})})}onPointerDown(e){e.target.setPointerCapture(e.pointerId)}onPointerUp(e){e.target.releasePointerCapture(e.pointerId)}};i.\u0275fac=function(r){return new(r||i)(w(Ye),w(pp),w(Fe),w(de),w(Ot))},i.\u0275cmp=L({type:i,selectors:[["nz-resize-handle"],["","nz-resize-handle",""]],hostAttrs:[1,"nz-resizable-handle"],hostVars:20,hostBindings:function(r,o){r&1&&P("pointerdown",function(s){return o.onPointerDown(s)})("pointerup",function(s){return o.onPointerUp(s)}),r&2&&A("nz-resizable-handle-top",o.nzDirection==="top")("nz-resizable-handle-right",o.nzDirection==="right")("nz-resizable-handle-bottom",o.nzDirection==="bottom")("nz-resizable-handle-left",o.nzDirection==="left")("nz-resizable-handle-topRight",o.nzDirection==="topRight")("nz-resizable-handle-bottomRight",o.nzDirection==="bottomRight")("nz-resizable-handle-bottomLeft",o.nzDirection==="bottomLeft")("nz-resizable-handle-topLeft",o.nzDirection==="topLeft")("nz-resizable-handle-cursor-type-grid",o.nzCursorType==="grid")("nz-resizable-handle-cursor-type-window",o.nzCursorType==="window")},inputs:{nzDirection:"nzDirection",nzCursorType:"nzCursorType"},outputs:{nzMouseDown:"nzMouseDown"},exportAs:["nzResizeHandle"],standalone:!0,features:[ct([Ot]),Y],ngContentSelectors:cI,decls:1,vars:0,template:function(r,o){r&1&&(Ee(),we(0))},encapsulation:2,changeDetection:0});let t=i;return t})();var f_=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({});let t=i;return t})();var uI=["imgRef"],hI=["imagePreviewWrapper"];function mI(t,i){if(t&1){let n=V();m(0,"li",7),P("click",function(){let o=b(n).$implicit;return S(o.onClick())}),N(1,"span",8),f()}if(t&2){let n=i.$implicit,e=l(),r;A("ant-image-preview-operations-operation-disabled",e.zoomOutDisabled&&n.type==="zoomOut"),d(),u("nzType",n.icon)("nzRotate",(r=n.rotate)!==null&&r!==void 0?r:0)}}function fI(t,i){if(t&1&&N(0,"img",10,11),t&2){let n=l().$implicit,e=l();ze("width",n.width)("height",n.height)("transform",e.previewImageTransform),oe("src",e.sanitizerResourceUrl(n.src),Pr)("srcset",n.srcset)("alt",n.alt)}}function _I(t,i){if(t&1&&g(0,fI,2,9,"img",9),t&2){let n=i.$index,e=l();D(0,n===e.index?0:-1)}}function gI(t,i){if(t&1){let n=V();pe(0),m(1,"div",12),P("click",function(r){b(n);let o=l();return S(o.onSwitchLeft(r))}),N(2,"span",13),f(),m(3,"div",14),P("click",function(r){b(n);let o=l();return S(o.onSwitchRight(r))}),N(4,"span",15),f(),ue()}if(t&2){let n=l();d(),A("ant-image-preview-switch-left-disabled",n.index<=0),d(2),A("ant-image-preview-switch-right-disabled",n.index>=n.images.length-1)}}var yl={enter:"ant-fade-enter",enterActive:"ant-fade-enter-active",leave:"ant-fade-leave",leaveActive:"ant-fade-leave-active"},CI="ant-image-preview-mask",v_="image";function yI(t){let i={};return t.width<=t.clientWidth&&t.height<=t.clientHeight&&(i={x:0,y:0}),(t.width>t.clientWidth||t.height>t.clientHeight)&&(i={x:C_(t.left,t.width,t.clientWidth),y:C_(t.top,t.height,t.clientHeight)}),i}function vI(t){let i=t.getBoundingClientRect(),n=document.documentElement;return{left:i.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:i.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function zI(){let t=document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:i}}function C_(t,i,n){let e=t+i,r=(i-n)/2,o=null;return i>n?(t>0&&(o=r),t<0&&e<n&&(o=-r)):(t<0||e>n)&&(o=t<0?r:-r),o}var ma=class{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}},y_={x:0,y:0},xI=.5,bI=1,SI=0,z_=(()=>{let i=class i{get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){let e=this.nzConfigService.getConfigForComponent(v_)||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,r,o,a,s,c,p,h){this.ngZone=e,this.host=r,this.cdr=o,this.nzConfigService=a,this.config=s,this.overlayRef=c,this.destroy$=p,this.sanitizer=h,this._defaultNzZoom=bI,this._defaultNzScaleStep=xI,this._defaultNzRotate=SI,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationState="enter",this.animationStateChanged=new W,this.scaleStepMap=new Map,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"},{icon:"swap",onClick:()=>{this.onHorizontalFlip()},type:"flipHorizontally"},{icon:"swap",onClick:()=>{this.onVerticalFlip()},type:"flipVertically",rotate:90}],this.zoomOutDisabled=!1,this.position=I({},y_),this.containerClick=new W,this.closeClick=new W,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=this.config.nzFlipHorizontally??!1,this.flipVertically=this.config.nzFlipVertically??!1,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{St(this.host.nativeElement,"click").pipe($(this.destroy$)).subscribe(e=>{e.target===e.currentTarget&&this.maskClosable&&this.containerClick.observers.length&&this.ngZone.run(()=>this.containerClick.emit())}),St(this.imagePreviewWrapper.nativeElement,"mousedown").pipe($(this.destroy$)).subscribe(()=>{this.isDragging=!0}),St(this.imagePreviewWrapper.nativeElement,"wheel").pipe($(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>this.wheelZoomEventHandler(e))})})}setImages(e,r){r&&(this.scaleStepMap=r),this.images=e,this.markForCheck()}switchTo(e){this.index=e,this.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.closeClick.emit()}onZoomIn(){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled()}onZoomOut(){if(this.zoom>1){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.zoom<=1&&this.reCenterImage()}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onHorizontalFlip(){this.flipHorizontally=!this.flipHorizontally,this.updatePreviewImageTransform()}onVerticalFlip(){this.flipVertically=!this.flipVertically,this.updatePreviewImageTransform()}wheelZoomEventHandler(e){e.preventDefault(),e.stopPropagation(),this.handlerImageTransformationWhileZoomingWithMouse(e,e.deltaY),this.handleImageScaleWhileZoomingWithMouse(e.deltaY),this.updatePreviewImageWrapperTransform(),this.updatePreviewImageTransform(),this.markForCheck()}onAnimationStart(e){e.toState==="enter"?this.setEnterAnimationClass():e.toState==="leave"&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(e)}onAnimationDone(e){e.toState==="enter"?this.setEnterAnimationClass():e.toState==="leave"&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(e)}startLeaveAnimation(){this.animationState="leave",this.markForCheck()}onDragEnd(e){this.isDragging=!1;let r=this.imageRef.nativeElement.offsetWidth*this.zoom,o=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:a,top:s}=vI(this.imageRef.nativeElement),{width:c,height:p}=zI(),h=this.rotate%180!==0,v=yI({width:h?o:r,height:h?r:o,left:a,top:s,clientWidth:c,clientHeight:p});yt(v.x)||yt(v.y)?this.position=I(I({},this.position),v):!yt(v.x)&&!yt(v.y)&&(this.position={x:e.source.getFreeDragPosition().x,y:e.source.getFreeDragPosition().y})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom*(this.flipHorizontally?-1:1)}, ${this.zoom*(this.flipVertically?-1:1)}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}setEnterAnimationClass(){if(this.animationDisabled)return;let e=this.overlayRef.backdropElement;e&&(e.classList.add(yl.enter),e.classList.add(yl.enterActive))}setLeaveAnimationClass(){if(this.animationDisabled)return;let e=this.overlayRef.backdropElement;e&&(e.classList.add(yl.leave),e.classList.add(yl.leaveActive))}handlerImageTransformationWhileZoomingWithMouse(e,r){let o,a=this.imageRef.nativeElement,c=getComputedStyle(a).transform.match(/matrix.*\((.+)\)/);c?o=+c[1].split(", ")[0]:o=this.zoom;let p=(e.clientX-a.getBoundingClientRect().x)/o,h=(e.clientY-a.getBoundingClientRect().y)/o,_=r<0?this.scaleStep/2:-this.scaleStep/2;this.position.x+=-p*_*2+a.offsetWidth*_,this.position.y+=-h*_*2+a.offsetHeight*_}handleImageScaleWhileZoomingWithMouse(e){this.isZoomedInWithMouseWheel(e)?this.onZoomIn():this.onZoomOut(),this.zoom<=1&&this.reCenterImage()}isZoomedInWithMouseWheel(e){return e<0}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=!1,this.flipVertically=!1,this.reCenterImage()}reCenterImage(){this.position=I({},y_)}};i.\u0275fac=function(r){return new(r||i)(w(Ye),w(de),w(xe),w(Ut),w(ma),w(Na),w(Ot),w(nn))},i.\u0275cmp=L({type:i,selectors:[["nz-image-preview"]],viewQuery:function(r,o){if(r&1&&(me(uI,5),me(hI,7)),r&2){let a;te(a=ie())&&(o.imageRef=a.first),te(a=ie())&&(o.imagePreviewWrapper=a.first)}},hostAttrs:["tabindex","-1","role","document",1,"ant-image-preview-wrap"],hostVars:6,hostBindings:function(r,o){r&1&&ou("@fadeMotion.start",function(s){return o.onAnimationStart(s)})("@fadeMotion.done",function(s){return o.onAnimationDone(s)}),r&2&&(ru("@.disabled",o.config.nzNoAnimation)("@fadeMotion",o.animationState),ze("z-index",o.config.nzZIndex),A("ant-image-preview-moving",o.isDragging))},exportAs:["nzImagePreview"],standalone:!0,features:[ct([Ot]),Y],decls:13,vars:4,consts:[[1,"ant-image-preview"],["tabindex","0","aria-hidden","true",2,"width","0","height","0","overflow","hidden","outline","none"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],[1,"ant-image-preview-operations"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragFreeDragPosition","cdkDragEnded"],["imagePreviewWrapper",""],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType","nzRotate"],["cdkDragHandle","","class","ant-image-preview-img",3,"width","height","transform"],["cdkDragHandle","",1,"ant-image-preview-img"],["imgRef",""],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"],["class","ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled"]],template:function(r,o){r&1&&(m(0,"div",0),N(1,"div",1),m(2,"div",2)(3,"div",3)(4,"ul",4),se(5,mI,2,4,"li",16,qt),f(),m(7,"div",5,6),P("cdkDragEnded",function(s){return o.onDragEnd(s)}),se(9,_I,1,1,null,null,qt),f(),g(11,gI,5,4,"ng-container"),f()(),N(12,"div",1),f()),r&2&&(d(5),le(o.operations),d(2),ze("transform",o.previewImageWrapperTransform),u("cdkDragFreeDragPosition",o.position),d(2),le(o.images),d(2),D(11,o.images.length>1?11:-1))},dependencies:[Qe,Le,Du,Iu],encapsulation:2,data:{animation:[Xu]},changeDetection:0});let t=i;return t})(),hp=class{constructor(i,n,e){this.previewInstance=i,this.config=n,this.overlayRef=e,this.destroy$=new ne,e.keydownEvents().pipe(st(r=>this.config.nzKeyboard&&(r.keyCode===27||r.keyCode===37||r.keyCode===39)&&!Su(r))).subscribe(r=>{r.preventDefault(),r.keyCode===27&&this.close(),r.keyCode===37&&this.prev(),r.keyCode===39&&this.next()}),e.detachments().subscribe(()=>{this.overlayRef.dispose()}),i.containerClick.pipe(kr(1),$(this.destroy$)).subscribe(()=>{this.close()}),i.closeClick.pipe(kr(1),$(this.destroy$)).subscribe(()=>{this.close()}),i.animationStateChanged.pipe(st(r=>r.phaseName==="done"&&r.toState==="leave"),kr(1)).subscribe(()=>{this.dispose()})}switchTo(i){this.previewInstance.switchTo(i)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.previewInstance.startLeaveAnimation()}dispose(){this.destroy$.next(),this.overlayRef.dispose()}},mp=(()=>{let i=class i{constructor(e,r,o,a){this.overlay=e,this.injector=r,this.nzConfigService=o,this.directionality=a}preview(e,r,o){return this.display(e,r,o)}display(e,r,o){let a=I(I({},new ma),r??{}),s=this.createOverlay(a),c=this.attachPreviewComponent(s,a);c.setImages(e,o);let p=new hp(c,a,s);return c.previewRef=p,p}attachPreviewComponent(e,r){let o=gn.create({parent:this.injector,providers:[{provide:Na,useValue:e},{provide:ma,useValue:r}]}),a=new Pu(z_,null,o);return e.attach(a).instance}createOverlay(e){let r=this.nzConfigService.getConfigForComponent(v_)||{},o=new Eu({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??r.nzCloseOnNavigation??!0,backdropClass:CI,direction:e.nzDirection||r.nzDirection||this.directionality.value});return this.overlay.create(o)}};i.\u0275fac=function(r){return new(r||i)(lt(Mu),lt(gn),lt(Ut),lt(Ct,8))},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})();var x_=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({providers:[mp],imports:[z_]});let t=i;return t})();var b_=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({});let t=i;return t})();function TI(t,i){if(t&1){let n=V();m(0,"label",3),P("ngModelChange",function(r){b(n);let o=l(2);return S(o.change(r))}),R(1),f()}if(t&2){let n=l(2);u("nzDisabled",n.disabled)("ngModel",n.value),d(),ee(" ",n.safeOpt.checkbox==null?null:n.safeOpt.checkbox.label," ")}}function wI(t,i){if(t&1){let n=V();m(0,"label",4),P("ngModelChange",function(r){b(n);let o=l(2);return S(o.change(r))}),R(1),f()}if(t&2){let n=l(2);u("nzDisabled",n.disabled)("ngModel",n.value),d(),ee(" ",n.safeOpt.radio==null?null:n.safeOpt.radio.label," ")}}function kI(t,i){if(t&1){let n=V();m(0,"a",5),P("click",function(r){b(n);let o=l(2);return S(o._link(r))}),f()}if(t&2){let n=l(2);u("innerHTML",n._text,Ke),oe("target",n.safeOpt.link==null?null:n.safeOpt.link.target)("title",n.value)}}function DI(t,i){if(t&1&&(m(0,"nz-tag",6),N(1,"span",7),f()),t&2){let n=l(2);u("nzColor",n.res==null||n.res.result==null?null:n.res.result.color),d(),u("innerHTML",n._text,Ke)}}function II(t,i){if(t&1&&N(0,"nz-badge",8),t&2){let n=l(2);Re("nzText",n._text),u("nzStatus",n.res==null||n.res.result==null?null:n.res.result.color)}}function PI(t,i){}function EI(t,i){if(t&1&&g(0,PI,0,0,"ng-template",9),t&2){let n=l(3);u("data",n.res)}}function MI(t,i){if(t&1&&g(0,EI,1,1,null,9),t&2){let n=l(2);D(0,n.res?0:-1)}}function OI(t,i){if(t&1){let n=V();m(0,"img",10),P("click",function(){let o=b(n).$implicit,a=l(3);return S(a._showImg(o))}),f()}if(t&2){let n=i.$implicit,e=l(3);A("point",e.safeOpt.img==null?null:e.safeOpt.img.big),oe("src",n,Pr)("height",e.safeOpt.img==null?null:e.safeOpt.img.size)("width",e.safeOpt.img==null?null:e.safeOpt.img.size)}}function NI(t,i){if(t&1&&se(0,OI,1,5,"img",11,wt),t&2){let n=l(2);le(n._text)}}function $I(t,i){if(t&1&&N(0,"span",12),t&2){let n=l(3);u("innerText",n._text),oe("title",n.value)}}function FI(t,i){if(t&1&&N(0,"span",7),t&2){let n=l(3);u("innerHTML",n._text,Ke),oe("title",n.value)}}function RI(t,i){if(t&1&&(m(0,"span",14),R(1),f()),t&2){let n=l(3);d(),ae(n._unit)}}function VI(t,i){if(t&1&&g(0,$I,1,2,"span",12)(1,FI,1,2)(2,RI,2,1,"span",13),t&2){let n=l(2);D(0,n.isText?0:1),d(2),D(2,n._unit?2:-1)}}function AI(t,i){if(t&1&&g(0,TI,2,3)(1,wI,2,3)(2,kI,1,3)(3,DI,2,2)(4,II,1,2)(5,MI,1,1)(6,NI,2,0)(7,VI,3,2),t&2){let n=l(),e;D(0,(e=n.safeOpt.type)==="checkbox"?0:e==="radio"?1:e==="link"?2:e==="tag"?3:e==="badge"?4:e==="widget"?5:e==="img"?6:7)}}function HI(t,i){if(t&1&&R(0),t&2){let n=l(2);ee(" ",n.safeOpt.default==null?null:n.safeOpt.default.text," ")}}function LI(t,i){}function jI(t,i){if(t&1&&(m(0,"span",15),g(1,LI,0,0,"ng-template",16),f()),t&2){let n=l(3),e=q(1);u("nz-tooltip",n.safeOpt.tooltip),d(),u("ngTemplateOutlet",e)}}function BI(t,i){}function WI(t,i){if(t&1&&g(0,BI,0,0,"ng-template",16),t&2){l(3);let n=q(1);u("ngTemplateOutlet",n)}}function qI(t,i){if(t&1&&g(0,jI,2,2,"span",15)(1,WI,1,1),t&2){let n=l(2);D(0,n.safeOpt.tooltip?0:1)}}function UI(t,i){if(t&1&&g(0,HI,1,1)(1,qI,2,1),t&2){let n=l();D(0,n.showDefault?0:1)}}function YI(t,i){t&1&&N(0,"span",2)}function QI(t,i){}function KI(t,i){if(t&1&&g(0,QI,0,0,"ng-template",16),t&2){l();let n=q(3);u("ngTemplateOutlet",n)}}var fp=(()=>{let i=class i{constructor(e){this.nzI18n=j(Vi),this.currency=j(es),this.dom=j(nn),this.widgets={date:{type:"fn",ref:(r,o)=>({text:Lu(r,o.date.format,this.nzI18n.getDateLocale())})},mega:{type:"fn",ref:(r,o)=>{let a=this.currency.mega(r,o.mega);return{text:a.value,unit:a.unitI18n}}},currency:{type:"fn",ref:(r,o)=>({text:this.currency.format(r,o.currency)})},cny:{type:"fn",ref:(r,o)=>({text:this.currency.cny(r,o.cny)})},boolean:{type:"fn",ref:(r,o)=>({text:this.dom.bypassSecurityTrustHtml(Gu(r,o.boolean))})},img:{type:"fn",ref:r=>({text:Array.isArray(r)?r:[r]})}},this.globalOptions=e.merge("cell",{date:{format:"yyyy-MM-dd HH:mm:ss"},img:{size:32},default:{text:"-"}})}registerWidget(e,r){this.widgets[e]={type:"widget",ref:r}}getWidget(e){return this.widgets[e]}genType(e,r){if(r.type!=null)return r.type;let o=typeof e;return o==="number"&&/^[0-9]{13}$/g.test(e)||e instanceof Date||r.date!=null?"date":r.widget!=null?"widget":r.mega!=null?"mega":r.currency!=null?"currency":r.cny!=null?"cny":r.img!=null?"img":r.link!=null?"link":r.html!=null?"html":r.badge!=null?"badge":r.tag!=null?"tag":r.checkbox!=null?"checkbox":r.radio!=null?"radio":r.enum!=null?"enum":o==="number"?"number":o==="boolean"||r.boolean!=null?"boolean":"string"}fixOptions(e){return cu({},this.globalOptions,e)}get(e,r){let o=this.genType(e,I({},r)),a=this.fixOptions(r);a.type=o;let s=typeof e=="object"&&typeof e?.getTypeName=="function"&&e?.getTypeName()!=null,c={result:typeof e=="object"&&!s?e:{text:e==null?"":s?e:`${e}`},options:a},p=this.widgets[o];return p?.type==="fn"&&(c.result=p.ref(e,a)),(typeof e=="function"?e(e,a):Bt(c.result)).pipe(Te(h=>{c.result=h;let _;switch(o){case"badge":_=(a.badge?.data??{})[e],c.result=I({color:"default"},_);break;case"tag":_=(a.tag?.data??{})[e],c.result=_;break;case"enum":c.result={text:(a.enum??{})[e]};break;case"html":c.safeHtml=a.html?.safe;break;case"string":s&&(c.safeHtml="safeHtml");break}return(o==="badge"||o==="tag")&&_?.tooltip!=null&&(c.options.tooltip=_.tooltip),a.mask!=null&&(c.result.text=ph(c.result.text,a.mask)),c}))}};i.\u0275fac=function(r){return new(r||i)(lt(kt))},i.\u0275prov=rt({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),GI=(()=>{let i=class i{constructor(){this.srv=j(fp),this.viewContainerRef=j(en)}ngOnInit(){let e=this.data.options.widget,r=this.srv.getWidget(e.key)?.ref;if(r==null)return;this.viewContainerRef.clear();let o=this.viewContainerRef.createComponent(r);o.instance.data=this.data}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["","cell-widget-host",""]],inputs:{data:"data"},standalone:!0});let t=i;return t})(),_p=(()=>{let i=class i{constructor(){this.srv=j(fp),this.router=j(yn),this.cdr=j(xe),this.renderer=j(Fe),this.imgSrv=j(mp),this.win=j(ah),this.el=j(de).nativeElement,this.showDefault=!1,this.valueChange=new W,this.loading=!1,this.disabled=!1}get safeOpt(){return this.res?.options??{}}get isText(){return this.res?.safeHtml==="text"}updateValue(){this.destroy$?.unsubscribe(),this.destroy$=this.srv.get(this.value,this.options).subscribe(e=>{this.res=e,this.showDefault=this.value==this.safeOpt.default.condition,this._text=e.result?.text??"",this._unit=e.result?.unit??this.safeOpt?.unit,this.cdr.detectChanges(),this.setClass()})}setClass(){let{el:e,renderer:r}=this,{renderType:o,size:a,type:s}=this.safeOpt;Zu(e,r,{cell:!0,[`cell__${o}`]:o!=null,[`cell__${a}`]:a!=null,"cell__has-unit":this._unit,"cell__has-default":this.showDefault,cell__disabled:this.disabled}),e.setAttribute("data-type",`${s}`)}ngOnChanges(e){Object.keys(e).every(r=>["loading","disabled"].includes(r))?this.setClass():this.updateValue()}change(e){this.value=e,this.valueChange.emit(e)}_link(e){if(e.preventDefault(),e.stopPropagation(),this.disabled)return;let r=this.safeOpt.link,o=r?.url;o!=null&&(/https?:\/\//g.test(o)?this.win.open(o,r?.target):this.router.navigateByUrl(o))}_showImg(e){let r=this.safeOpt.img;if(r==null||r.big==null)return;let o=-1,a=this._text.map((s,c)=>(o===-1&&s===e&&(o=c),typeof r.big=="function"?r.big(s):s));this.imgSrv.preview(a.map(s=>({src:s})),r.previewOptions).switchTo(o)}ngOnDestroy(){this.destroy$?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["cell"],["","cell",""]],inputs:{value:"value",options:"options",loading:[B.HasDecoratorInputTransform,"loading","loading",ce],disabled:[B.HasDecoratorInputTransform,"disabled","disabled",ce]},outputs:{valueChange:"valueChange"},exportAs:["cell"],standalone:!0,features:[Vt,re,Y],decls:6,vars:1,consts:[["text",""],["textWrap",""],["nz-icon","","nzType","loading"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],["nz-radio","",3,"nzDisabled","ngModel","ngModelChange"],[3,"innerHTML","click"],[3,"nzColor"],[3,"innerHTML"],[3,"nzStatus","nzText"],["cell-widget-host","",3,"data"],[1,"img",3,"click"],["class","img",3,"point"],[3,"innerText"],["class","unit"],[1,"unit"],[3,"nz-tooltip"],[3,"ngTemplateOutlet"]],template:function(r,o){r&1&&g(0,AI,8,1,"ng-template",null,0,he)(2,UI,2,1,"ng-template",null,1,he)(4,YI,1,0,"span",2)(5,KI,1,1),r&2&&(d(4),D(4,o.loading?4:5))},dependencies:[vt,dt,tt,ge,bi,Dn,Le,Xa,Qa,li,x_,GI],encapsulation:2,changeDetection:0});let t=i;return t})(),ZI=[_p],S_=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,vt,si,ln,En,Mn,ci,Qe,b_,ZI]});let t=i;return t})();function kA(...t){return Ir([{provide:Dr,multi:!0,useValue:()=>{let i=j(fp);t.forEach(n=>i.registerWidget(n.KEY,n.type))}}])}var JI=["okBtn"],eP=["cancelBtn"];function tP(t,i){t&1&&(m(0,"div",15),N(1,"span",16),f())}function iP(t,i){if(t&1&&(pe(0),N(1,"span",18),ue()),t&2){let n=i.$implicit;d(),u("nzType",n||"exclamation-circle")}}function nP(t,i){if(t&1&&(pe(0),g(1,iP,2,1,"ng-container",8),m(2,"div",17),R(3),f(),ue()),t&2){let n=l(2);d(),u("nzStringTemplateOutlet",n.nzIcon),d(2),ae(n.nzTitle)}}function rP(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.nzCancelText)}}function oP(t,i){t&1&&(pe(0),R(1),At(2,"nzI18n"),ue()),t&2&&(d(),ae(ri(2,1,"Modal.cancelText")))}function aP(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.nzOkText)}}function sP(t,i){t&1&&(pe(0),R(1),At(2,"nzI18n"),ue()),t&2&&(d(),ae(ri(2,1,"Modal.okText")))}function lP(t,i){if(t&1){let n=V();m(0,"div",2)(1,"div",3),g(2,tP,2,0,"div",4),m(3,"div",5)(4,"div")(5,"div",6)(6,"div",7),g(7,nP,4,2,"ng-container",8),f(),m(8,"div",9)(9,"button",10,11),P("click",function(){b(n);let r=l();return S(r.onCancel())}),g(11,rP,2,1,"ng-container",12)(12,oP,3,3,"ng-container",12),f(),m(13,"button",13,14),P("click",function(){b(n);let r=l();return S(r.onConfirm())}),g(15,aP,2,1,"ng-container",12)(16,sP,3,3,"ng-container",12),f()()()()()()()}if(t&2){let n=l();A("ant-popover-rtl",n.dir==="rtl"),u("cdkTrapFocusAutoCapture",n.nzAutoFocus!==null)("ngClass",n._classMap)("ngStyle",n.nzOverlayStyle)("@.disabled",!!(n.noAnimation!=null&&n.noAnimation.nzNoAnimation))("nzNoAnimation",n.noAnimation==null?null:n.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),d(2),u("ngIf",n.nzPopconfirmShowArrow),d(5),u("nzStringTemplateOutlet",n.nzTitle),d(2),u("nzSize","small"),oe("cdkFocusInitial",n.nzAutoFocus==="cancel"||null),d(2),u("ngIf",n.nzCancelText),d(),u("ngIf",!n.nzCancelText),d(),u("nzSize","small")("nzType",n.nzOkType!=="danger"?n.nzOkType:"primary")("nzDanger",n.nzOkDanger||n.nzOkType==="danger")("nzLoading",n.confirmLoading),oe("cdkFocusInitial",n.nzAutoFocus==="ok"||null),d(2),u("ngIf",n.nzOkText),d(),u("ngIf",!n.nzOkText)}}var cP="popconfirm",T_=(()=>{let i=class i extends ch{getProxyPropertyMap(){return I({nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus]},super.getProxyPropertyMap())}constructor(e,r,o,a,s){super(e,r,o,a,s),this._nzModuleName=cP,this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new W,this.nzOnCancel=new W,this.nzOnConfirm=new W,this.componentRef=this.hostView.createComponent(w_)}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe($(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe($(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}};i.\u0275fac=function(r){return new(r||i)(w(de),w(en),w(Fe),w(vn,9),w(Ut))},i.\u0275dir=Ie({type:i,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(r,o){r&2&&A("ant-popover-open",o.visible)},inputs:{arrowPointAtCenter:[B.None,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:[B.None,"nzPopconfirmTitle","title"],directiveTitle:[B.None,"nz-popconfirm","directiveTitle"],trigger:[B.None,"nzPopconfirmTrigger","trigger"],placement:[B.None,"nzPopconfirmPlacement","placement"],origin:[B.None,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[B.None,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[B.None,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[B.None,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[B.None,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[B.None,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[qe]});let t=i;return H([X()],t.prototype,"arrowPointAtCenter",void 0),H([X()],t.prototype,"nzOkDanger",void 0),H([X()],t.prototype,"nzCondition",void 0),H([X()],t.prototype,"nzPopconfirmShowArrow",void 0),H([Pe()],t.prototype,"nzPopconfirmBackdrop",void 0),H([Pe()],t.prototype,"nzAutofocus",void 0),t})(),w_=(()=>{let i=class i extends dh{constructor(e,r,o,a,s){super(e,o,s),this.elementRef=r,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new ne,this.nzOnConfirm=new ne,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=a}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){let e=vu(this.nzBeforeConfirm()).pipe(Zp());this.confirmLoading=!0,e.pipe(Sa(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),$(this.nzVisibleChange),$(this.destroy$)).subscribe(r=>{r&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){let e=this.elementFocusedBeforeModalWasOpened;if(e&&typeof e.focus=="function"){let r=this.document.activeElement,o=this.elementRef.nativeElement;(!r||r===this.document.body||r===o||o.contains(r))&&e.focus()}}};i.\u0275fac=function(r){return new(r||i)(w(xe),w(de),w(Ct,8),w(tn,8),w(vn,9))},i.\u0275cmp=L({type:i,selectors:[["nz-popconfirm"]],viewQuery:function(r,o){if(r&1&&(me(JI,5,de),me(eP,5,de)),r&2){let a;te(a=ie())&&(o.okBtn=a),te(a=ie())&&(o.cancelBtn=a)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[qe,Y],decls:2,vars:6,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],["class","ant-popover-arrow",4,"ngIf"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"nzSize","click"],["cancelBtn",""],[4,"ngIf"],["nz-button","",3,"nzSize","nzType","nzDanger","nzLoading","click"],["okBtn",""],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(r,o){r&1&&(g(0,lP,17,21,"ng-template",0,1,he),P("overlayOutsideClick",function(s){return o.onClickOutside(s)})("detach",function(){return o.hide()})("positionChange",function(s){return o.onPositionChange(s)})),r&2&&u("cdkConnectedOverlayHasBackdrop",o.nzBackdrop)("cdkConnectedOverlayOrigin",o.origin)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayOpen",o._visible)("cdkConnectedOverlayPush",o.cdkConnectedOverlayPush)("nzArrowPointAtCenter",o.nzArrowPointAtCenter)},dependencies:[Fa,Jn,Vr,Rr,ku,Tu,Mt,xi,vn,Nt,Qt,Ft,Qe,Le,ai,Ri,Yt,Fi,Aa,Va],encapsulation:2,data:{animation:[Ju]},changeDetection:0});let t=i;return t})(),Co=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[w_]});let t=i;return t})();function hP(t,i){if(t&1){let n=V();m(0,"div",5)(1,"input",6),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.f.menus[0].value,r)||(o.f.menus[0].value=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o.n.emit(r))})("keyup.enter",function(){b(n);let r=l();return S(r.confirm())}),f()()}if(t&2){let n=l();d(),ot("ngModel",n.f.menus[0].value),oe("placeholder",n.f.placeholder)}}function mP(t,i){if(t&1){let n=V();m(0,"div",7)(1,"nz-input-number",8),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o.f.menus[0].value,r)||(o.f.menus[0].value=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l();return S(o.n.emit(r))}),f()()}if(t&2){let n=l();d(),ot("ngModel",n.f.menus[0].value),u("nzMin",n.f.number.min)("nzMax",n.f.number.max)("nzStep",n.f.number.step)("nzPrecision",n.f.number.precision)("nzPlaceHolder",n.f.placeholder)}}function fP(t,i){if(t&1){let n=V();m(0,"nz-range-picker",11),Je("ngModelChange",function(r){b(n);let o=l(2);return Xe(o.f.menus[0].value,r)||(o.f.menus[0].value=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l(2);return S(o.n.emit(r))}),f()}if(t&2){let n=l(2);u("nzMode",n.f.date.mode),ot("ngModel",n.f.menus[0].value),u("nzShowNow",n.f.date.showNow)("nzShowToday",n.f.date.showToday)("nzDisabledDate",n.f.date.disabledDate)("nzDisabledTime",n.f.date.disabledTime)}}function _P(t,i){if(t&1){let n=V();m(0,"nz-date-picker",11),Je("ngModelChange",function(r){b(n);let o=l(2);return Xe(o.f.menus[0].value,r)||(o.f.menus[0].value=r),S(r)}),P("ngModelChange",function(r){b(n);let o=l(2);return S(o.n.emit(r))}),f()}if(t&2){let n=l(2);u("nzMode",n.f.date.mode),ot("ngModel",n.f.menus[0].value),u("nzShowNow",n.f.date.showNow)("nzShowToday",n.f.date.showToday)("nzDisabledDate",n.f.date.disabledDate)("nzDisabledTime",n.f.date.disabledTime)}}function gP(t,i){if(t&1&&(m(0,"div",9),g(1,fP,1,6,"nz-range-picker",10)(2,_P,1,6),f()),t&2){let n=l();d(),D(1,n.f.date.range?1:2)}}function CP(t,i){}var yP=(t,i,n)=>({$implicit:t,col:i,handle:n});function vP(t,i){if(t&1&&(m(0,"div",12),g(1,CP,0,0,"ng-template",13),f()),t&2){let n=l();d(),u("ngTemplateOutlet",n.f.custom)("ngTemplateOutletContext",ko(2,yP,n.f,n.col,n))}}function zP(t,i){if(t&1){let n=V();m(0,"label",17),Je("ngModelChange",function(r){b(n);let o=l().$implicit;return Xe(o.checked,r)||(o.checked=r),S(r)}),P("ngModelChange",function(){b(n);let r=l(3);return S(r.checkboxChange())}),R(1),f()}if(t&2){let n=l().$implicit;ot("ngModel",n.checked),d(),ee(" ",n.text," ")}}function xP(t,i){if(t&1){let n=V();m(0,"label",18),P("ngModelChange",function(){b(n);let r=l().$implicit,o=l(2);return S(o.radioChange(r))}),R(1),f()}if(t&2){let n=l().$implicit;u("ngModel",n.checked),d(),ee(" ",n.text," ")}}function bP(t,i){if(t&1&&(m(0,"li",15),g(1,zP,2,2,"label",16)(2,xP,2,2),f()),t&2){let n=l(2);d(),D(1,n.f.multiple?1:2)}}function SP(t,i){if(t&1&&(m(0,"ul",14),se(1,bP,3,1,"li",15,wt),f()),t&2){let n=l();d(),le(n.f.menus)}}function TP(t,i){if(t&1){let n=V();m(0,"div",19)(1,"a",20),P("click",function(){b(n);let r=l();return S(r.confirm())}),m(2,"span"),R(3),f()(),m(4,"a",21),P("click",function(){b(n);let r=l();return S(r.reset())}),m(5,"span"),R(6),f()()()}if(t&2){let n=l();d(3),ae(n.f.confirmText||n.locale.filterConfirm),d(3),ae(n.f.clearText||n.locale.filterReset)}}var wP=["table"],kP=["contextmenuTpl"];function DP(t,i){if(t&1&&N(0,"small",14),t&2){let n=l().$implicit;u("innerHTML",n.optional,Ke)}}function IP(t,i){if(t&1&&N(0,"i",15),t&2){let n=l().$implicit;u("nzTooltipTitle",n.optionalHelp)}}function PP(t,i){if(t&1&&(N(0,"span",11),g(1,DP,1,1,"small",12)(2,IP,1,1,"i",13)),t&2){let n=i.$implicit;u("innerHTML",n._text,Ke),d(),D(1,n.optional?1:-1),d(),D(2,n.optionalHelp?2:-1)}}function EP(t,i){if(t&1){let n=V();m(0,"label",16),Je("ngModelChange",function(r){b(n);let o=l();return Xe(o._allChecked,r)||(o._allChecked=r),S(r)}),P("ngModelChange",function(){b(n);let r=l();return S(r.checkAll())}),f()}if(t&2){let n=i.$implicit,e=l();A("ant-table-selection-select-all-custom",n),u("nzDisabled",e._allCheckedDisabled),ot("ngModel",e._allChecked),u("nzIndeterminate",e._indeterminate)}}function MP(t,i){if(t&1&&N(0,"th",17),t&2){let n=l(3);u("rowSpan",n._headers.length)}}function OP(t,i){t&1&&(m(0,"nz-resize-handle",20),N(1,"i"),f())}function NP(t,i){}var vl=(t,i)=>({$implicit:t,index:i});function $P(t,i){if(t&1&&g(0,NP,0,0,"ng-template",5),t&2){let n=l().let,e=l(),r=e.$implicit,o=e.$index;u("ngTemplateOutlet",n.__renderTitle)("ngTemplateOutletContext",vi(2,vl,r.column,o))}}function FP(t,i){}var RP=()=>({$implicit:!1});function VP(t,i){if(t&1&&g(0,FP,0,0,"ng-template",5),t&2){l(7);let n=q(3);u("ngTemplateOutlet",n)("ngTemplateOutletContext",ni(2,RP))}}function AP(t,i){}function HP(t,i){if(t&1&&(m(0,"div",26)(1,"div",27),N(2,"i",28),f()()),t&2){l();let n=q(4);d(),u("nzDropdownMenu",n)}}function LP(t,i){if(t&1){let n=V();m(0,"li",29),P("click",function(){let o=b(n).$implicit,a=l(8);return S(a._rowSelection(o))}),f()}if(t&2){let n=i.$implicit;u("innerHTML",n.text,Ke)}}var jP=()=>({$implicit:!0});function BP(t,i){if(t&1&&(m(0,"div",22),g(1,AP,0,0,"ng-template",5)(2,HP,3,1,"div",23),m(3,"nz-dropdown-menu",null,24)(5,"ul",25),se(6,LP,1,1,"li",30,wt),f()()()),t&2){let n=l(3).let;l(4);let e=q(3);d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",ni(3,jP)),d(),D(2,n.selections.length?2:-1),d(4),le(n.selections)}}function WP(t,i){if(t&1&&g(0,VP,1,3,null,5)(1,BP,8,4),t&2){let n=l(2).let;D(0,n.selections.length===0?0:1)}}function qP(t,i){}var Qn=t=>({$implicit:t});function UP(t,i){if(t&1&&g(0,qP,0,0,"ng-template",5),t&2){let n=l(2).let;l(4);let e=q(1);u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(2,Qn,n.title))}}function YP(t,i){if(t&1&&g(0,WP,2,1)(1,UP,1,4),t&2){let n=l().let,e;D(0,(e=n.type)==="checkbox"?0:1)}}function QP(t,i){if(t&1){let n=V();m(0,"st-filter",31),P("n",function(r){b(n);let o=l(5);return S(o.handleFilterNotify(r))})("handle",function(r){b(n);let o=l().let,a=l(4);return S(a._handleFilter(o,r))}),f()}if(t&2){let n=l().let,e=l().$implicit,r=l(3);u("col",e.column)("f",n.filter)("locale",r.locale)}}function KP(t,i){if(t&1){let n=V();m(0,"th",19),P("nzSortOrderChange",function(r){let a=b(n).let,s=l(4);return S(s.sort(a,r))})("nzResizeEnd",function(r){let a=b(n).let,s=l(4);return S(s.colResize(r,a))}),g(1,OP,2,0,"nz-resize-handle",20)(2,$P,1,5,null,5)(3,YP,2,1)(4,QP,1,3,"st-filter",21),f()}if(t&2){let n=i.let,e=l(),r=e.$implicit,o=e.$index,a=e.$count,s=e.$index;A("st__has-filter",n.filter),u("colSpan",r.colSpan)("rowSpan",r.rowSpan)("nzWidth",n.width)("nzLeft",n._left)("nzRight",n._right)("ngClass",n._className)("nzShowSort",n._sort.enabled)("nzSortOrder",n._sort.default)("nzCustomFilter",!!n.filter)("nzDisabled",o===a-1||n.resizable.disabled)("nzMaxWidth",n.resizable.maxWidth)("nzMinWidth",n.resizable.minWidth)("nzBounds",n.resizable.bounds)("nzPreview",n.resizable.preview),oe("data-col",n.indexKey)("data-col-index",s),d(),D(1,o!==a-1&&!n.resizable.disabled?1:-1),d(),D(2,n.__renderTitle?2:3),d(2),D(4,n.filter?4:-1)}}function GP(t,i){if(t&1&&g(0,KP,5,21,"th",18),t&2){let n=i.$implicit;u("let",n.column)}}function ZP(t,i){if(t&1&&(m(0,"tr"),g(1,MP,1,1,"th",17),se(2,GP,1,1,"th",32,qt),f()),t&2){let n=i.$implicit,e=i.$index,r=l(2);d(),D(1,e===0&&r.expand?1:-1),d(),le(n)}}function XP(t,i){if(t&1&&(m(0,"thead"),se(1,ZP,4,1,"tr",null,qt),f()),t&2){let n=l();d(),le(n._headers)}}function JP(t,i){}function eE(t,i){if(t&1&&g(0,JP,0,0,"ng-template",5),t&2){let n=l();u("ngTemplateOutlet",n.bodyHeader)("ngTemplateOutletContext",et(2,Qn,n._statistical))}}function tE(t,i){if(t&1){let n=V();m(0,"td",36),P("nzExpandChange",function(r){b(n);let o=l().$implicit,a=l();return S(a._expandChange(o,r))})("click",function(r){b(n);let o=l(2);return S(o._stopPropagation(r))}),f()}if(t&2){let n=l().$implicit,e=l();u("nzShowExpand",e.expand&&n.showExpand!==!1)("nzExpand",n.expand)}}function iE(t,i){}function nE(t,i){if(t&1&&(m(0,"span",40),g(1,iE,0,0,"ng-template",5),f()),t&2){let n=l(2).$implicit;l(2);let e=q(1);d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(2,Qn,n.title))}}function rE(t,i){if(t&1){let n=V();m(0,"td",37),g(1,nE,2,4,"span",38),m(2,"st-td",39),P("n",function(r){b(n);let o=l(3);return S(o._handleTd(r))}),f()()}if(t&2){let n=l(),e=n.$implicit,r=n.$index,o=l(),a=o.$implicit,s=o.index,c=l();u("nzLeft",!!e._left)("nzRight",!!e._right)("ngClass",e._className),oe("data-col-index",r)("colspan",(a._values[r].props==null?null:a._values[r].props.colSpan)===1||a._values[r].props==null?null:a._values[r].props.colSpan)("rowspan",(a._values[r].props==null?null:a._values[r].props.rowSpan)===1||a._values[r].props==null?null:a._values[r].props.rowSpan),d(),D(1,c.responsive?1:-1),d(),u("data",c._data)("i",a)("index",s)("c",e)("cIdx",r)}}function oE(t,i){if(t&1&&g(0,rE,3,12,"td",37),t&2){let n=i.$index,e=l().$implicit;D(0,(e._values[n].props==null?null:e._values[n].props.colSpan)>0&&(e._values[n].props==null?null:e._values[n].props.rowSpan)>0?0:-1)}}function aE(t,i){}function sE(t,i){if(t&1){let n=V();m(0,"tr",33),P("click",function(r){let o=b(n),a=o.$implicit,s=o.index,c=l();return S(c._rowClick(r,a,s,!1))})("dblclick",function(r){let o=b(n),a=o.$implicit,s=o.index,c=l();return S(c._rowClick(r,a,s,!0))}),g(1,tE,1,2,"td",34),se(2,oE,1,1,null,null,wt),f(),m(4,"tr",35),g(5,aE,0,0,"ng-template",5),f()}if(t&2){let n=i.$implicit,e=i.index,r=l();u("ngClass",n._rowClassName),oe("data-index",e),d(),D(1,r.expand?1:-1),d(),le(r._columns),d(2),u("nzExpand",n.expand),d(),u("ngTemplateOutlet",r.expand)("ngTemplateOutletContext",vi(6,vl,n,e))}}function lE(t,i){}function cE(t,i){if(t&1&&g(0,lE,0,0,"ng-template",5),t&2){let n=i.$implicit,e=i.index;l(2);let r=q(10);u("ngTemplateOutlet",r)("ngTemplateOutletContext",vi(2,vl,n,e))}}function dE(t,i){t&1&&g(0,cE,1,5,"ng-template",7)}function pE(t,i){}function uE(t,i){if(t&1&&g(0,pE,0,0,"ng-template",5),t&2){let n=i.$implicit,e=i.$index;l(2);let r=q(10);u("ngTemplateOutlet",r)("ngTemplateOutletContext",vi(2,vl,n,e))}}function hE(t,i){if(t&1&&se(0,uE,1,5,null,5,nu().trackBy),t&2){let n=l();le(n._data)}}function mE(t,i){}function fE(t,i){if(t&1&&g(0,mE,0,0,"ng-template",5),t&2){let n=l();u("ngTemplateOutlet",n.body)("ngTemplateOutletContext",et(2,Qn,n._statistical))}}function _E(t,i){if(t&1&&R(0),t&2){let n=i.range,e=i.$implicit,r=l();ae(r.renderTotal(e,n))}}function gE(t,i){if(t&1){let n=V();m(0,"li",29),P("click",function(){b(n);let r=l().$implicit;return S(r.fn(r))}),f()}if(t&2){let n=l().$implicit;u("innerHTML",n.text,Ke)}}function CE(t,i){if(t&1){let n=V();m(0,"li",29),P("click",function(){let o=b(n).$implicit;return S(o.fn(o))}),f()}if(t&2){let n=i.$implicit;u("innerHTML",n.text,Ke)}}function yE(t,i){if(t&1&&(m(0,"li",41)(1,"ul"),se(2,CE,1,1,"li",30,wt),f()()),t&2){let n=l().$implicit;u("nzTitle",n.text),d(2),le(n.children)}}function vE(t,i){if(t&1&&g(0,gE,1,1,"li",30)(1,yE,4,1),t&2){let n=i.$implicit;D(0,n.children.length===0?0:1)}}function zE(t,i){}function xE(t,i){if(t&1&&(m(0,"span",5),g(1,zE,0,0,"ng-template",3),f()),t&2){let n=l(),e=n.child,r=n.$implicit;l();let o=q(3);A("d-block",e)("width-100",e),u("nzTooltipTitle",r.tooltip),d(),u("ngTemplateOutlet",o)("ngTemplateOutletContext",et(7,Qn,r))}}function bE(t,i){}function SE(t,i){if(t&1&&g(0,bE,0,0,"ng-template",3),t&2){let n=l().$implicit;l();let e=q(3);u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(2,Qn,n))}}function TE(t,i){if(t&1&&g(0,xE,2,9,"span",4)(1,SE,1,4),t&2){let n=i.$implicit;D(0,n.tooltip?0:1)}}function wE(t,i){}function kE(t,i){if(t&1){let n=V();m(0,"a",7),P("nzOnConfirm",function(){b(n);let r=l().$implicit,o=l();return S(o._btn(r))})("click",function(r){b(n);let o=l(2);return S(o._stopPropagation(r))}),g(1,wE,0,0,"ng-template",3),f()}if(t&2){let n=l().$implicit;l();let e=q(5);u("nzPopconfirmTitle",n.pop.title)("nzIcon",n.pop.icon)("nzCondition",n.pop.condition(n))("nzCancelText",n.pop.cancelText)("nzOkText",n.pop.okText)("nzOkType",n.pop.okType)("ngClass",n._className),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(9,Qn,n))}}function DE(t,i){}function IE(t,i){if(t&1){let n=V();m(0,"a",8),P("click",function(r){b(n);let o=l().$implicit,a=l();return S(a._btn(o,r))}),g(1,DE,0,0,"ng-template",3),f()}if(t&2){let n=l().$implicit;l();let e=q(5);u("ngClass",n._className),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(3,Qn,n))}}function PE(t,i){if(t&1&&g(0,kE,2,11,"a",6)(1,IE,2,5),t&2){let n=i.$implicit;D(0,n.pop?0:1)}}function EE(t,i){if(t&1&&N(0,"i",10),t&2){let n=l(2).$implicit;u("nzIconfont",n._icon.iconfont)}}function ME(t,i){if(t&1&&N(0,"i",11),t&2){let n=l(2).$implicit;u("nzType",n._icon.type)("nzTheme",n._icon.theme)("nzSpin",n._icon.spin)("nzTwotoneColor",n._icon.twoToneColor)}}function OE(t,i){if(t&1&&g(0,EE,1,1,"i",10)(1,ME,1,4),t&2){let n=l().$implicit;D(0,n._icon.iconfont?0:1)}}var NE=t=>({"pl-xs":t});function $E(t,i){if(t&1&&(g(0,OE,2,1),N(1,"span",9)),t&2){let n=i.$implicit;D(0,n._icon?0:-1),d(),u("innerHTML",n._text,Ke)("ngClass",et(3,NE,n._icon))}}function FE(t,i){}var RE=(t,i,n)=>({$implicit:t,index:i,column:n});function VE(t,i){if(t&1&&g(0,FE,0,0,"ng-template",3),t&2){let n=l();u("ngTemplateOutlet",n.c.__render)("ngTemplateOutletContext",ko(2,RE,n.i,n.index,n.c))}}function AE(t,i){if(t&1){let n=V();m(0,"label",12),P("ngModelChange",function(r){b(n);let o=l(2);return S(o._checkbox(r))}),f()}if(t&2){let n=l(2);u("nzDisabled",n.i.disabled)("ngModel",n.i.checked)}}function HE(t,i){if(t&1){let n=V();m(0,"label",13),P("ngModelChange",function(){b(n);let r=l(2);return S(r._radio())}),f()}if(t&2){let n=l(2);u("nzDisabled",n.i.disabled)("ngModel",n.i.checked)}}function LE(t,i){if(t&1){let n=V();m(0,"a",14),P("click",function(r){b(n);let o=l(2);return S(o._link(r))}),f()}if(t&2){let n=l(2);u("innerHTML",n.i._values[n.cIdx]._text,Ke),oe("title",n.i._values[n.cIdx].text)}}function jE(t,i){if(t&1&&(m(0,"nz-tag",15),N(1,"span",16),f()),t&2){let n=l(2);u("nzColor",n.i._values[n.cIdx].color)("nz-tooltip",n.i._values[n.cIdx].tooltip),d(),u("innerHTML",n.i._values[n.cIdx]._text,Ke)}}function BE(t,i){if(t&1&&N(0,"nz-badge",17),t&2){let n=l(2);u("nzStatus",n.i._values[n.cIdx].color)("nzText",n.i._values[n.cIdx].text)("nz-tooltip",n.i._values[n.cIdx].tooltip)}}function WE(t,i){if(t&1&&N(0,"cell",18),t&2){let n=l(2),e;u("value",n.i._values[n.cIdx].text)("options",(e=n.i._values[n.cIdx].cell)!==null&&e!==void 0?e:n.c.cell)}}function qE(t,i){}function UE(t,i){if(t&1&&g(0,qE,0,0,"ng-template",19),t&2){let n=l(2);u("record",n.i)("column",n.c)}}function YE(t,i){if(t&1&&N(0,"span",20),t&2){let n=l(3);u("innerText",n.i._values[n.cIdx]._text),oe("title",n.c._isTruncate?n.i._values[n.cIdx].text:null)}}function QE(t,i){if(t&1&&N(0,"span",16),t&2){let n=l(3);u("innerHTML",n.i._values[n.cIdx]._text,Ke),oe("title",n.c._isTruncate?n.i._values[n.cIdx].text:null)}}function KE(t,i){if(t&1&&g(0,YE,1,2,"span",20)(1,QE,1,2),t&2){let n=l(2);D(0,n.c.safeType==="text"?0:1)}}function GE(t,i){t&1&&N(0,"li",26)}function ZE(t,i){}var XE=t=>({$implicit:t,child:!0});function JE(t,i){if(t&1&&(m(0,"li",27),g(1,ZE,0,0,"ng-template",3),f()),t&2){let n=l().$implicit;l(4);let e=q(1);A("st__btn-disabled",n._disabled),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(4,XE,n))}}function eM(t,i){if(t&1&&g(0,GE,1,0,"li",26)(1,JE,2,6),t&2){let n=i.$implicit;D(0,n.type==="divider"?0:1)}}function tM(t,i){if(t&1&&(m(0,"a",22),N(1,"span",16)(2,"i",23),f(),m(3,"nz-dropdown-menu",null,24)(5,"ul",25),se(6,eM,2,1,null,null,wt),f()()),t&2){let n=q(4),e=l().$implicit;u("nzDropdownMenu",n),d(),u("innerHTML",e._text,Ke),d(5),le(e.children)}}function iM(t,i){}var nM=t=>({$implicit:t,child:!1});function rM(t,i){if(t&1&&(m(0,"span"),g(1,iM,0,0,"ng-template",3),f()),t&2){let n=l().$implicit;l(2);let e=q(1);A("st__btn-disabled",n._disabled),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",et(4,nM,n))}}function oM(t,i){t&1&&N(0,"nz-divider",21)}function aM(t,i){if(t&1&&g(0,tM,8,2)(1,rM,2,6)(2,oM,1,0,"nz-divider",21),t&2){let n=i.$implicit,e=i.$index,r=i.$count;D(0,n.children.length>0?0:1),d(2),D(2,e!==r-1?2:-1)}}function sM(t,i){if(t&1&&(g(0,AE,1,2)(1,HE,1,2)(2,LE,1,2)(3,jE,2,3)(4,BE,1,3)(5,WE,1,2)(6,UE,1,2)(7,KE,2,1),se(8,aM,3,2,null,null,wt)),t&2){let n=l(),e;D(0,(e=n.c.type)==="checkbox"?0:e==="radio"?1:e==="link"?2:e==="tag"?3:e==="badge"?4:e==="cell"?5:e==="widget"?6:7),d(8),le(n.i._values[n.cIdx].buttons)}}var gp=(()=>{let i=class i{constructor(){this.titles={},this.rows={}}add(e,r,o){this[e==="title"?"titles":"rows"][r]=o}getTitle(e){return this.titles[e]}getRow(e){return this.rows[e]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),Y4=(()=>{let i=class i{constructor(){this.source=j(gp,{host:!0}),this.ref=j(Oi)}ngOnInit(){this.source.add(this.type,this.id,this.ref)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["","st-row",""]],inputs:{id:[B.None,"st-row","id"],type:"type"}});let t=i;return t})(),Cp=(()=>{let i=class i{constructor(){this._widgets={}}get widgets(){return this._widgets}register(e,r){this._widgets[e]=r}has(e){return this._widgets.hasOwnProperty(e)}get(e){return this._widgets[e]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),D_=(()=>{let i=class i{constructor(e,r,o,a,s){this.dom=e,this.rowSource=r,this.acl=o,this.i18nSrv=a,this.stWidgetRegistry=s}setCog(e){this.cog=e}fixPop(e,r){if(e.pop==null||e.pop===!1){e.pop=!1;return}let o=I({},r);typeof e.pop=="string"?o.title=e.pop:typeof e.pop=="object"&&(o=I(I({},o),e.pop)),typeof o.condition!="function"&&(o.condition=()=>!1),e.pop=o}btnCoerce(e){if(!e)return[];let r=[],{modal:o,drawer:a,pop:s,btnIcon:c}=this.cog;for(let p of e)this.acl&&p.acl&&!this.acl.can(p.acl)||((p.type==="modal"||p.type==="static")&&(p.modal==null||p.modal.component==null?p.type="none":p.modal=I(I({paramsName:"record",size:"lg"},o),p.modal)),p.type==="drawer"&&(p.drawer==null||p.drawer.component==null?p.type="none":p.drawer=I(I({paramsName:"record",size:"lg"},a),p.drawer)),p.type==="del"&&typeof p.pop>"u"&&(p.pop=!0),this.fixPop(p,s),typeof p.icon!="function"&&(p.icon=I(I({},c),typeof p.icon=="string"?{type:p.icon}:p.icon)),p.children=p.children&&p.children.length>0?this.btnCoerce(p.children):[],p.i18n&&this.i18nSrv&&(p.text=this.i18nSrv.fanyi(p.i18n)),r.push(p));return this.btnCoerceIf(r),r}btnCoerceIf(e){for(let r of e)r.iifBehavior=r.iifBehavior||this.cog.iifBehavior,r.children&&r.children.length>0?this.btnCoerceIf(r.children):r.children=[]}fixedCoerce(e){let r=(o,a)=>o+ +a.width.toString().replace("px","");e.filter(o=>o.fixed&&o.fixed==="left"&&o.width).forEach((o,a)=>o._left=`${e.slice(0,a).reduce(r,0)}px`),e.filter(o=>o.fixed&&o.fixed==="right"&&o.width).reverse().forEach((o,a)=>o._right=`${a>0?e.slice(-a).reduce(r,0):0}px`)}sortCoerce(e){let r=this.fixSortCoerce(e);return r.reName=I(I({},this.cog.sortReName),r.reName),r}fixSortCoerce(e){if(typeof e.sort>"u")return{enabled:!1};let r={};return typeof e.sort=="string"?r.key=e.sort:typeof e.sort!="boolean"?r=e.sort:typeof e.sort=="boolean"&&(r.compare=(o,a)=>o[e.indexKey]-a[e.indexKey]),r.key||(r.key=e.indexKey),r.enabled=!0,r}filterCoerce(e){if(e.filter==null)return null;let r=e.filter;r.type=r.type||"default",r.showOPArea=r.showOPArea!==!1;let o="filter",a="fill",s=!0,c;switch(r.type){case"keyword":o="search",a="outline";break;case"number":o="search",a="outline",r.number=I({step:1,min:-1/0,max:1/0},r.number);break;case"date":o="calendar",a="outline",r.date=I({range:!1,mode:"date",showToday:!0,showNow:!1},r.date);break;case"custom":break;default:s=!1;break}if(s&&(r.menus==null||r.menus.length===0)&&(r.menus=[{value:c}]),r.menus?.length===0)return null;typeof r.multiple>"u"&&(r.multiple=!0),r.confirmText=r.confirmText||this.cog.filterConfirmText,r.clearText=r.clearText||this.cog.filterClearText,r.key=r.key||e.indexKey,r.icon=r.icon||o;let p={type:o,theme:a};return typeof r.icon=="string"?r.icon=Me(I({},p),{type:r.icon}):r.icon=I(I({},p),r.icon),this.updateDefault(r),this.acl&&(r.menus=r.menus?.filter(h=>this.acl.can(h.acl))),r.menus?.length===0?null:r}restoreRender(e){e.renderTitle&&(e.__renderTitle=typeof e.renderTitle=="string"?this.rowSource.getTitle(e.renderTitle):e.renderTitle),e.render&&(e.__render=typeof e.render=="string"?this.rowSource.getRow(e.render):e.render)}widgetCoerce(e){e.type==="widget"&&(e.widget==null||!this.stWidgetRegistry.has(e.widget.type))&&delete e.type}genHeaders(e){let r=[],o=[],a=(c,p,h=0)=>{r[h]=r[h]||[];let _=p;return c.map(y=>{let k={column:y,colStart:_,hasSubColumns:!1},T=1,F=y.children;return Array.isArray(F)&&F.length>0?(T=a(F,_,h+1).reduce((E,U)=>E+U,0),k.hasSubColumns=!0):o.push(k.column.width||""),"colSpan"in y&&(T=y.colSpan),"rowSpan"in y&&(k.rowSpan=y.rowSpan),k.colSpan=T,k.colEnd=k.colStart+T-1,r[h].push(k),_+=T,T})};a(e,0);let s=r.length;for(let c=0;c<s;c+=1)r[c].forEach(p=>{!("rowSpan"in p)&&!p.hasSubColumns&&(p.rowSpan=s-c)});return{headers:r,headerWidths:s>1?o:null}}cleanCond(e){let r=[],o=$i(e);for(let a of o)typeof a.iif=="function"&&!a.iif(a)||this.acl&&a.acl&&!this.acl.can(a.acl)||(Array.isArray(a.children)&&a.children.length>0&&(a.children=this.cleanCond(a.children)),r.push(a));return r}mergeClass(e){let r=[];e._isTruncate&&r.push("text-truncate");let o=e.className;if(!o){let c={number:"text-right",currency:"text-right",date:"text-center"}[e.type];c&&r.push(c),e._className=r;return}let a=Array.isArray(o);if(!a&&typeof o=="object"){let c=o;r.forEach(p=>c[p]=!0),e._className=c;return}let s=a?Array.from(o):[o];s.splice(0,0,...r),e._className=[...new Set(s)].filter(c=>!!c)}process(e,r){if(!e||e.length===0)return{columns:[],headers:[],headerWidths:null};let{noIndex:o}=this.cog,a=0,s=0,c=0,p=[],h=y=>{y.index&&(Array.isArray(y.index)||(y.index=y.index.toString().split(".")),y.indexKey=y.index.join("."));let k=(typeof y.title=="string"?{text:y.title}:y.title)||{};return k.i18n&&this.i18nSrv&&(k.text=this.i18nSrv.fanyi(k.i18n)),k.text&&(k._text=this.dom.bypassSecurityTrustHtml(k.text)),y.title=k,y.type==="no"&&(y.noIndex=y.noIndex==null?o:y.noIndex),y.selections==null&&(y.selections=[]),y.type==="checkbox"&&(++a,y.width||(y.width=`${y.selections.length>0?62:50}px`)),this.acl&&(y.selections=y.selections.filter(T=>this.acl.can(T.acl))),y.type==="radio"&&(++s,y.selections=[],y.width||(y.width="50px")),y.cell!=null&&(y.type="cell"),y.type==="yn"&&(y.yn=I(I({truth:!0},this.cog.yn),y.yn)),y.type==="date"&&(y.dateFormat=y.dateFormat||this.cog.date?.format),(y.type==="link"&&typeof y.click!="function"||y.type==="badge"&&y.badge==null||y.type==="tag"&&y.tag==null||y.type==="enum"&&y.enum==null)&&(y.type=""),y._isTruncate=!!y.width&&r.widthMode.strictBehavior==="truncate"&&y.type!=="img",this.mergeClass(y),typeof y.width=="number"&&(y._width=y.width,y.width=`${y.width}px`),y._left=!1,y._right=!1,y.safeType=y.safeType??r.safeType,y._sort=this.sortCoerce(y),y.filter=this.filterCoerce(y),y.buttons=this.btnCoerce(y.buttons),this.widgetCoerce(y),this.restoreRender(y),y.resizable=I(I({disabled:!0,bounds:"window",minWidth:60,maxWidth:360,preview:!0},r.resizable),typeof y.resizable=="boolean"?{disabled:!y.resizable}:y.resizable),y.__point=c++,y},_=y=>{for(let k of y)p.push(h(k)),Array.isArray(k.children)&&_(k.children)},v=this.cleanCond(e);if(_(v),a>1)throw new Error("[st]: just only one column checkbox");if(s>1)throw new Error("[st]: just only one column radio");return this.fixedCoerce(p),I({columns:p.filter(y=>!Array.isArray(y.children)||y.children.length===0)},this.genHeaders(v))}restoreAllRender(e){e.forEach(r=>this.restoreRender(r))}updateDefault(e){return e.menus==null?this:(e.type==="default"?e.default=e.menus.findIndex(r=>r.checked)!==-1:e.default=!!e.menus[0].value,this)}cleanFilter(e){let r=e.filter;return r.default=!1,r.type==="default"?r.menus.forEach(o=>o.checked=!1):r.menus[0].value=void 0,this}};i.\u0275fac=function(r){return new(r||i)(lt(nn),lt(gp,1),lt(Ia,8),lt(er,8),lt(Cp))},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),I_=(()=>{let i=class i{constructor(e,r,o,a,s,c){this.http=e,this.datePipe=r,this.ynPipe=o,this.numberPipe=a,this.currencySrv=s,this.dom=c,this.sortTick=0}setCog(e){this.cog=e}process(e){let r,o=!1,{data:a,res:s,total:c,page:p,pi:h,ps:_,paginator:v,columns:y,headers:k}=e,T,F,E,U,fe,Ae=p.show;return typeof a=="string"?(o=!0,r=this.getByRemote(a,e).pipe(Te(Q=>{fe=Q;let Ne;if(Array.isArray(Q))Ne=Q,T=Ne.length,F=T,Ae=!1;else{let xt=s.reName;if(typeof xt=="function"){let ii=xt(Q,{pi:h,ps:_,total:c});Ne=ii.list,T=ii.total}else{Ne=Po(Q,xt.list,[]),(Ne==null||!Array.isArray(Ne))&&(Ne=[]);let ii=xt.total&&Po(Q,xt.total,null);T=ii==null?c||0:+ii}}return $i(Ne)}))):a==null||Array.isArray(a)?r=Bt(a??[]):r=a,o||(r=r.pipe(Te(Q=>{fe=Q;let Ne=$i(Q),xt=this.getSorterFn(k);return xt&&(Ne=Ne.sort(xt)),Ne}),Te(Q=>(y.filter(Ne=>Ne.filter).forEach(Ne=>{let xt=Ne.filter,ii=this.getFilteredData(xt);if(ii.length===0)return;let Yi=xt.fn;typeof Yi=="function"&&(Q=Q.filter($t=>ii.some(pn=>Yi(pn,$t))))}),Q)),Te(Q=>{if(v&&p.front){let Ne=Math.ceil(Q.length/_);if(U=Math.max(1,h>Ne?Ne:h),T=Q.length,p.show===!0)return Q.slice((U-1)*_,U*_)}return Q}))),typeof s.process=="function"&&(r=r.pipe(Te(Q=>s.process(Q,fe)))),r=r.pipe(Te(Q=>this.optimizeData({result:Q,columns:y,rowClassName:e.rowClassName}))),r.pipe(Te(Q=>{E=Q;let Ne=T||c,xt=F||_;return{pi:U,ps:F,total:T,list:E,statistical:this.genStatistical(y,E,fe),pageShow:typeof Ae>"u"?Ne>xt:Ae}}))}get(e,r,o){try{let a=r.safeType==="safeHtml";if(r.format){let _=r.format(e,r,o)||"";return{text:_,_text:a?this.dom.bypassSecurityTrustHtml(_):_,org:_,safeType:r.safeType}}let s=Po(e,r.index,r.default),c=s,p,h;switch(r.type){case"no":c=this.getNoIndex(e,r,o);break;case"img":c=s?`<img src="${s}" class="img">`:"";break;case"number":c=this.numberPipe.transform(s,r.numberDigits);break;case"currency":c=this.currencySrv.format(s,r.currency?.format);break;case"date":c=s===r.default?r.default:this.datePipe.transform(s,r.dateFormat);break;case"yn":c=this.ynPipe.transform(s===r.yn.truth,r.yn.yes,r.yn.no,r.yn.mode,!1);break;case"enum":c=r.enum[s];break;case"tag":case"badge":let _=r.type==="tag"?r.tag:r.badge;if(_&&_[c]){let v=_[c];c=v.text,p=v.color,h=v.tooltip}else c="";break}return c==null&&(c=""),{text:c,_text:a?this.dom.bypassSecurityTrustHtml(c):c,org:s,color:p,tooltip:h,safeType:r.safeType,buttons:[]}}catch(a){let s="INVALID DATA";return console.error("Failed to get data",e,r,a),{text:s,_text:s,org:s,buttons:[],safeType:"text"}}}getByRemote(e,r){let{req:o,page:a,paginator:s,pi:c,ps:p,singleSort:h,multiSort:_,columns:v,headers:y}=r,k=(o.method||"GET").toUpperCase(),T={},F=o.reName;s&&(o.type==="page"?T={[F.pi]:a.zeroIndexed?c-1:c,[F.ps]:p}:T={[F.skip]:(c-1)*p,[F.limit]:p}),T=I(I(I(I({},T),o.params),this.getReqSortMap(h,_,y)),this.getReqFilterMap(v)),r.req.ignoreParamNull==!0&&Object.keys(T).forEach(U=>{T[U]==null&&delete T[U]});let E={params:T,body:o.body,headers:o.headers};return k==="POST"&&o.allInBody===!0&&(E={body:I(I({},o.body),T),headers:o.headers}),typeof o.process=="function"&&(E=o.process(E)),E.params instanceof Ml||(E.params=new Ml({fromObject:E.params})),typeof r.customRequest=="function"?r.customRequest({method:k,url:e,options:E}):this.http.request(k,e,E)}getCell(e,r,o){let a=typeof e.onCell=="function"?e.onCell(r,o):null,s=a?.colSpan??1,c=a?.rowSpan??1;return{colSpan:s<=0?null:s,rowSpan:c<=0?null:c}}optimizeData(e){let{result:r,columns:o,rowClassName:a}=e;for(let s=0,c=r.length;s<c;s++)r[s]._values=o.map(p=>{let h=this.getCell(p,r[s],s);if(Array.isArray(p.buttons)&&p.buttons.length>0)return{buttons:this.genButtons(p.buttons,r[s],p),_text:"",props:h};let _;return typeof p.cell=="function"&&(_=p.cell(r[s],p)),Me(I({},this.get(r[s],p,s)),{props:h,cell:_})}),r[s]._rowClassName=[a?a(r[s],s):null,r[s].className].filter(p=>!!p).join(" ");return r}getNoIndex(e,r,o){return typeof r.noIndex=="function"?r.noIndex(e,r,o):r.noIndex+o}genButtons(e,r,o){let a=p=>$i(p).filter(h=>{let _=typeof h.iif=="function"?h.iif(r,h,o):!0,v=h.iifBehavior==="disabled";return h._result=_,h._disabled=!_&&v,h.children?.length&&(h.children=a(h.children)),_||v}),s=a(e),c=p=>{for(let h of p)h._text=typeof h.text=="function"?h.text(r,h):h.text||"",h._className=typeof h.className=="function"?h.className(r,h):h.className,h._icon=typeof h.icon=="function"?h.icon(r,h):h.icon,h.children?.length&&(h.children=c(h.children));return p};return this.fixMaxMultiple(c(s),o)}fixMaxMultiple(e,r){let o=r.maxMultipleButton,a=e.length;if(o==null||a<=0)return e;let s=I(I({},this.cog.maxMultipleButton),typeof o=="number"?{count:o}:o);if(s.count>=a)return e;let c=e.slice(0,s.count);return c.push({_text:s.text,children:e.slice(s.count)}),c}getValidSort(e){return e.reduce((r,o)=>{let a=o.map(s=>s.column).filter(s=>s._sort&&s._sort.enabled&&s._sort.default).map(s=>s._sort);return r.concat(...a)},[])}getSorterFn(e){let r=this.getValidSort(e);if(r.length===0)return;let o=r[0];if(o.compare!==null&&typeof o.compare=="function")return(a,s)=>{let c=o.compare(a,s);return c!==0?o.default==="descend"?-c:c:0}}get nextSortTick(){return++this.sortTick}getReqSortMap(e,r,o){let a={},s=this.getValidSort(o);if(r){let _=I({key:"sort",separator:"-",nameSeparator:".",keepEmptyKey:!0,arrayParam:!1},r),v=s.sort((y,k)=>y.tick-k.tick).map(y=>y.key+_.nameSeparator+((y.reName||{})[y.default]||y.default));return a={[_.key]:_.arrayParam?v:v.join(_.separator)},v.length===0&&_.keepEmptyKey===!1?{}:a}if(s.length===0)return a;let c=s[0],p=c.key,h=(s[0].reName||{})[c.default]||c.default;return e&&(h=p+(e.nameSeparator||".")+h,p=e.key||"sort"),a[p]=h,a}getFilteredData(e){return e.type==="default"?e.menus.filter(r=>r.checked===!0):e.menus.slice(0,1)}getReqFilterMap(e){let r={};return e.filter(o=>o.filter&&o.filter.default===!0).forEach(o=>{let a=o.filter,s=this.getFilteredData(a),c={};a.reName?c=a.reName(a.menus,o):c[a.key]=s.map(p=>p.value).join(","),r=I(I({},r),c)}),r}genStatistical(e,r,o){let a={};return e.forEach((s,c)=>{a[s.key||s.indexKey||c]=s.statistical==null?{}:this.getStatistical(s,c,r,o)}),a}getStatistical(e,r,o,a){let s=e.statistical,c=I({digits:2,currency:void 0},typeof s=="string"?{type:s}:s),p={value:0},h=!1;if(typeof c.type=="function")p=c.type(this.getValues(r,o),e,o,a),h=!0;else switch(c.type){case"count":p.value=o.length;break;case"distinctCount":p.value=this.getValues(r,o).filter((_,v,y)=>y.indexOf(_)===v).length;break;case"sum":p.value=this.toFixed(this.getSum(r,o),c.digits),h=!0;break;case"average":p.value=this.toFixed(this.getSum(r,o)/o.length,c.digits),h=!0;break;case"max":p.value=Math.max(...this.getValues(r,o)),h=!0;break;case"min":p.value=Math.min(...this.getValues(r,o)),h=!0;break}return c.currency===!0||c.currency==null&&h===!0?p.text=this.currencySrv.format(p.value,e.currency?.format):p.text=String(p.value),p}toFixed(e,r){return isNaN(e)||!isFinite(e)?0:parseFloat(e.toFixed(r))}getValues(e,r){return r.map(o=>o._values[e].org).map(o=>o===""||o==null?0:o)}getSum(e,r){return this.getValues(e,r).reduce((o,a)=>o+=parseFloat(String(a)),0)}};i.\u0275fac=function(r){return new(r||i)(lt(Qu),lt(Lr,1),lt(Wa,1),lt(Or,1),lt(es),lt(nn))},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),P_=(()=>{let i=class i{constructor(){this.xlsxSrv=j(G0,{optional:!0})}_stGet(e,r,o,a){let s={t:"s",v:""};if(r.format)s.v=r.format(e,r,o);else{let c=e._values?e._values[a].text:Po(e,r.index,"");if(s.v=c,c!=null)switch(r.type){case"currency":s.t="n";break;case"date":`${c}`.length>0&&(s.t="d",s.z=r.dateFormat);break;case"yn":let p=r.yn;s.v=c===p.truth?p.yes:p.no;break}}return s.v=s.v??"",s}genSheet(e){let r={},o=r[e.sheetname||"Sheet1"]={},a=e.data.length,s=e.columens,c=0,p=!1,h=_=>_.exported===!1||!_.index||!(!_.buttons||_.buttons.length===0);for(let[_,v]of s.entries()){if(h(v))continue;!p&&v._width!=null&&(p=!0),++c;let y=this.xlsxSrv.numberToSchema(c);o[`${y}1`]={t:"s",v:typeof v.title=="object"?v.title.text:v.title};for(let k=0;k<a;k++)o[`${y}${k+2}`]=this._stGet(e.data[k],v,k,_)}return p&&(o["!cols"]=s.filter(_=>!h(_)).map(_=>({wpx:_._width}))),c>0&&a>0&&(o["!ref"]=`A1:${this.xlsxSrv.numberToSchema(c)}${a+1}`),r}export(e){return Ji(this,null,function*(){if(this.xlsxSrv==null)return Promise.reject();let r=this.genSheet(e);return this.xlsxSrv.export({sheets:r,filename:e.filename,callback:e.callback})})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=rt({token:i,factory:i.\u0275fac});let t=i;return t})(),lM=(()=>{let i=class i{constructor(){this.stWidgetRegistry=j(Cp),this.viewContainerRef=j(en)}ngOnInit(){let e=this.column.widget,r=this.stWidgetRegistry.get(e.type);this.viewContainerRef.clear();let o=this.viewContainerRef.createComponent(r),{record:a,column:s}=this,c=e.params?e.params({record:a,column:s}):{record:a};Object.keys(c).forEach(p=>{o.instance[p]=c[p]})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Ie({type:i,selectors:[["","st-widget-host",""]],inputs:{record:"record",column:"column"}});let t=i;return t})(),cM={pi:1,ps:10,size:"default",responsive:!0,responsiveHideHeaderFooter:!1,req:{type:"page",method:"GET",allInBody:!1,lazyLoad:!1,ignoreParamNull:!1,reName:{pi:"pi",ps:"ps",skip:"skip",limit:"limit"}},res:{reName:{list:["list"],total:["total"]}},page:{front:!0,zeroIndexed:!1,position:"bottom",placement:"right",show:!0,showSize:!1,pageSizes:[10,20,30,40,50],showQuickJumper:!1,total:!0,toTop:!0,toTopOffset:100,itemRender:null,simple:!1},modal:{paramsName:"record",size:"lg",exact:!0},drawer:{paramsName:"record",size:"md",footer:!0,footerHeight:55},pop:{title:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F",trigger:"click",placement:"top"},btnIcon:{theme:"outline",spin:!1},noIndex:1,expandRowByClick:!1,expandAccordion:!1,widthMode:{type:"default",strictBehavior:"truncate"},virtualItemSize:54,virtualMaxBufferPx:200,virtualMinBufferPx:100,iifBehavior:"hide",loadingDelay:0,safeType:"safeHtml",date:{format:"yyyy-MM-dd HH:mm"},yn:{truth:!0,yes:"\u662F",mode:"icon"},maxMultipleButton:{text:"\u66F4\u591A",count:2}},dM=(()=>{let i=class i{constructor(){this.cdr=j(xe),this.visible=!1,this.locale={},this.n=new W,this.handle=new W}get icon(){return this.f.icon}stopPropagation(e){e.stopPropagation()}checkboxChange(){this.n.emit(this.f.menus?.filter(e=>e.checked))}radioChange(e){this.f.menus.forEach(r=>r.checked=!1),e.checked=!e.checked,this.n.emit(e)}close(e){e!=null&&this.handle.emit(e),this.visible=!1,this.cdr.detectChanges()}confirm(){return this.handle.emit(!0),this}reset(){return this.handle.emit(!1),this}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["st-filter"]],hostVars:6,hostBindings:function(r,o){r&2&&A("ant-table-filter-trigger-container",!0)("st__filter",!0)("ant-table-filter-trigger-container-open",o.visible)},inputs:{col:"col",locale:"locale",f:"f"},outputs:{n:"n",handle:"handle"},decls:11,vars:9,consts:[["nz-dropdown","","nzTrigger","click","nzOverlayClassName","st__filter-wrap",1,"ant-table-filter-trigger",3,"nzDropdownMenu","nzClickHide","nzVisible","nzVisibleChange","click"],["nz-icon","",3,"nzType","nzTheme"],["filterMenu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],["class","ant-table-filter-dropdown-btns"],[1,"st__filter-keyword"],["type","text","nz-input","",3,"ngModel","ngModelChange","keyup.enter"],[1,"p-sm","st__filter-number"],[1,"width-100",3,"ngModel","nzMin","nzMax","nzStep","nzPrecision","nzPlaceHolder","ngModelChange"],[1,"p-sm","st__filter-date"],["nzInline","",3,"nzMode","ngModel","nzShowNow","nzShowToday","nzDisabledDate","nzDisabledTime"],["nzInline","",3,"nzMode","ngModel","nzShowNow","nzShowToday","nzDisabledDate","nzDisabledTime","ngModelChange"],[1,"st__filter-custom"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-menu",""],["nz-menu-item",""],["nz-checkbox","",3,"ngModel"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-radio","",3,"ngModel","ngModelChange"],[1,"ant-table-filter-dropdown-btns"],[1,"ant-table-filter-dropdown-link","confirm",3,"click"],[1,"ant-table-filter-dropdown-link","clear",3,"click"]],template:function(r,o){if(r&1&&(m(0,"span",0),Je("nzVisibleChange",function(s){return Xe(o.visible,s)||(o.visible=s),s}),P("click",function(s){return o.stopPropagation(s)}),N(1,"i",1),f(),m(2,"nz-dropdown-menu",null,2)(4,"div",3),g(5,hP,2,2)(6,mP,2,6)(7,gP,3,1)(8,vP,2,6)(9,SP,3,0)(10,TP,7,2,"div",4),f()()),r&2){let a=q(3),s;A("active",o.visible||o.f.default),u("nzDropdownMenu",a)("nzClickHide",!1),ot("nzVisible",o.visible),d(),u("nzType",o.icon.type)("nzTheme",o.icon.theme),d(4),D(5,(s=o.f.type)==="keyword"?5:s==="number"?6:s==="date"?7:s==="custom"?8:9),d(5),D(10,o.f.showOPArea?10:-1)}},dependencies:[ge,zn,dt,tt,Le,bi,ir,tr,Hi,nr,Dn,$o,rs,kn,nl],encapsulation:2,changeDetection:0});let t=i;return t})(),pM=(()=>{let i=class i{get req(){return this._req}set req(e){this._req=Nr({},!0,this.cog.req,e)}get res(){return this._res}set res(e){let r=this._res=Nr({},!0,this.cog.res,e),o=r.reName;typeof o!="function"&&(Array.isArray(o.list)||(o.list=o.list.split(".")),Array.isArray(o.total)||(o.total=o.total.split("."))),this._res=r}get page(){return this._page}set page(e){this._page=I(I({},this.cog.page),e),this.updateTotalTpl()}get multiSort(){return this._multiSort}set multiSort(e){if(typeof e=="boolean"&&!ce(e)||typeof e=="object"&&Object.keys(e).length===0){this._multiSort=void 0;return}this._multiSort=I({},typeof e=="object"?e:{})}set widthMode(e){this._widthMode=I(I({},this.cog.widthMode),e)}get widthMode(){return this._widthMode}set widthConfig(e){this._widthConfig=e,this.customWidthConfig=e&&e.length>0}set resizable(e){this._resizable=typeof e=="object"?e:{disabled:!ce(e)}}get count(){return this._data.length}get list(){return this._data}get noColumns(){return this.columns==null}constructor(e){this.i18nSrv=j(er,{optional:!0}),this.el=j(de).nativeElement,this.cdr=j(xe),this.doc=j(tn),this.exportSrv=j(P_),this.columnSource=j(D_),this.dataSource=j(I_),this.delonI18n=j(Ba),this.cms=j(_h),this.destroy$=j(Er),this.totalTpl="",this.inied=!1,this.customWidthConfig=!1,this._widthConfig=[],this.locale={},this._loading=!1,this._data=[],this._statistical={},this._isPagination=!0,this._allChecked=!1,this._allCheckedDisabled=!1,this._indeterminate=!1,this._headers=[],this._columns=[],this.contextmenuList=[],this.ps=10,this.pi=1,this.total=0,this.loading=null,this.loadingDelay=0,this.loadingIndicator=null,this.bordered=!1,this.scroll={x:null,y:null},this.showHeader=!0,this.expandRowByClick=!1,this.expandAccordion=!1,this.expand=null,this.responsive=!0,this.error=new W,this.change=new W,this.virtualScroll=!1,this.virtualItemSize=54,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=r=>r,this.trackBy=(r,o)=>o,this.delonI18n.change.pipe(Xt()).subscribe(()=>{this.locale=this.delonI18n.getData("st"),this._columns.length>0&&(this.updateTotalTpl(),this.cd())}),this.i18nSrv?.change.pipe(Xt(),st(()=>this._columns.length>0)).subscribe(()=>this.refreshColumns()),this.setCog(e.merge("st",cM))}setCog(e){let r=I({},e.multiSort);delete e.multiSort,this.cog=e,Object.assign(this,e),r.global!==!1&&(this.multiSort=r),this.columnSource.setCog(e),this.dataSource.setCog(e)}cd(){return this.cdr.detectChanges(),this}refreshData(){return this._data=[...this._data],this.cd()}renderTotal(e,r){return this.totalTpl?this.totalTpl.replace("{{total}}",e).replace("{{range[0]}}",r[0]).replace("{{range[1]}}",r[1]):""}changeEmit(e,r){let o={type:e,pi:this.pi,ps:this.ps,total:this.total};r!=null&&(o[e]=r),this.change.emit(o)}get filteredData(){return this.loadData({paginator:!1}).pipe(Te(e=>e.list))}updateTotalTpl(){let{total:e}=this.page;typeof e=="string"&&e.length?this.totalTpl=e:ce(e)?this.totalTpl=this.locale.total:this.totalTpl=""}setLoading(e){this.loading==null&&(this._loading=e,this.cdr.detectChanges())}loadData(e){let{pi:r,ps:o,data:a,req:s,res:c,page:p,total:h,singleSort:_,multiSort:v,rowClassName:y,_columns:k,_headers:T}=this;return this.dataSource.process(I({pi:r,ps:o,total:h,data:a,req:s,res:c,page:p,columns:k,headers:T,singleSort:_,multiSort:v,rowClassName:y,paginator:!0,customRequest:this.customRequest||this.cog.customRequest},e)).pipe(Xt(this.destroy$))}loadPageData(){return this.setLoading(!0),this.loadData().pipe(Sa(()=>this.setLoading(!1)),xa(e=>(this.error.emit({type:"req",error:e}),Qp(()=>e))),Te(e=>{let r="undefined";return typeof e.pi!==r&&(this.pi=e.pi),typeof e.ps!==r&&(this.ps=e.ps),typeof e.total!==r&&(this.total=e.total),typeof e.pageShow!==r&&(this._isPagination=e.pageShow),this._data=e.list??[],this._statistical=e.statistical,this.cdkVirtualScrollViewport!=null&&Promise.resolve().then(()=>this.cdkVirtualScrollViewport?.checkViewportSize()),this._refCheck(),this.changeEmit("loaded",e.list),this}))}clear(e=!0){return e&&this.clearStatus(),this._data=[],this.cd()}clearStatus(){return this.clearCheck().clearRadio().clearFilter().clearSort()}load(e=1,r,o){return e!==-1&&(this.pi=e),typeof r<"u"&&(this.req.params=o&&o.merge?I(I({},this.req.params),r):r),this._change("pi",o),this}reload(e,r){return this.load(-1,e,r)}reset(e,r){return this.clearStatus().load(1,e,r),this}_toTop(e){if(!(e??this.page.toTop))return;let r=this.el;r.scrollIntoView(),this.doc.documentElement.scrollTop-=this.page.toTopOffset,this.scroll&&(this.cdkVirtualScrollViewport?this.cdkVirtualScrollViewport.scrollTo({top:0,left:0}):r.querySelector(".ant-table-body, .ant-table-content")?.scrollTo(0,0))}_change(e,r){(e==="pi"||e==="ps"&&this.pi<=Math.ceil(this.total/this.ps))&&this.loadPageData().subscribe(()=>this._toTop(r?.toTop)),this.changeEmit(e)}closeOtherExpand(e){this.expandAccordion!==!1&&this._data.filter(r=>r!==e).forEach(r=>r.expand=!1)}_rowClick(e,r,o,a){let s=e.target;if(s.nodeName==="INPUT")return;let{expand:c,expandRowByClick:p}=this;if(c&&r.showExpand!==!1&&p){r.expand=!r.expand,this.closeOtherExpand(r),this.changeEmit("expand",r);return}let h={e,item:r,index:o};a?this.changeEmit("dblClick",h):(this._clickRowClassName(s,r,o),this.changeEmit("click",h))}_clickRowClassName(e,r,o){let a=this.clickRowClassName;if(a==null)return;let s=I({exclusive:!1},typeof a=="string"?{fn:()=>a}:a),c=s.fn(r,o),p=e.closest("tr");s.exclusive&&p.parentElement.querySelectorAll("tr").forEach(h=>h.classList.remove(c)),p.classList.contains(c)?p.classList.remove(c):p.classList.add(c)}_expandChange(e,r){e.expand=r,this.closeOtherExpand(e),this.changeEmit("expand",e)}_stopPropagation(e){e.stopPropagation()}_refColAndData(){return this._columns.forEach(e=>{this._data.forEach((r,o)=>{let a=r._values;if(e.type==="no"){let s=`${this.dataSource.getNoIndex(r,e,o)}`;a[e.__point]={text:s,_text:s,org:o,safeType:"text"}}a[e.__point].props=this.dataSource.getCell(e,r,o)})}),this.refreshData()}addRow(e,r){return Array.isArray(e)||(e=[e]),this._data.splice(r?.index??0,0,...e),this.optimizeData()._refColAndData()}removeRow(e){if(typeof e=="number")this._data.splice(e,1);else{Array.isArray(e)||(e=[e]);let o=this._data;for(var r=o.length;r--;)e.indexOf(o[r])!==-1&&o.splice(r,1)}return this._refCheck()._refColAndData()}setRow(e,r,o){return o=I({refreshSchema:!1,emitReload:!1},o),typeof e!="number"&&(e=this._data.indexOf(e)),this._data[e]=Nr(this._data[e],!1,r),this.optimizeData(),o.refreshSchema?(this.resetColumns({emitReload:o.emitReload}),this):this.refreshData()}sort(e,r){this.multiSort?(e._sort.default=r,e._sort.tick=this.dataSource.nextSortTick):this._headers.forEach(o=>{o.forEach(a=>a.column._sort.default=a.column===e?r:null)}),this.cdr.detectChanges(),this.loadPageData().subscribe(()=>{let o={value:r,map:this.dataSource.getReqSortMap(this.singleSort,this.multiSort,this._headers),column:e};this.changeEmit("sort",o)})}clearSort(){return this._headers.forEach(e=>{e.forEach(r=>r.column._sort.default=null)}),this}_handleFilter(e,r){r||this.columnSource.cleanFilter(e),this.pi=1,this.columnSource.updateDefault(e.filter),this.loadPageData().subscribe(()=>this.changeEmit("filter",e))}handleFilterNotify(e){this.changeEmit("filterChange",e)}clearFilter(){return this._columns.filter(e=>e.filter&&e.filter.default===!0).forEach(e=>this.columnSource.cleanFilter(e)),this}clearCheck(){return this.checkAll(!1)}_refCheck(){let e=this._data.filter(a=>!a.disabled),r=e.filter(a=>a.checked===!0);this._allChecked=r.length>0&&r.length===e.length;let o=e.every(a=>!a.checked);return this._indeterminate=!this._allChecked&&!o,this._allCheckedDisabled=this._data.length===this._data.filter(a=>a.disabled).length,this.cd()}checkAll(e){return e=typeof e>"u"?this._allChecked:e,this._data.filter(r=>!r.disabled).forEach(r=>r.checked=e),this._refCheck()._checkNotify().refreshData()}_rowSelection(e){return e.select(this._data),this._refCheck()._checkNotify()}_checkNotify(){let e=this._data.filter(r=>!r.disabled&&r.checked===!0);return this.changeEmit("checkbox",e),this}clearRadio(){return this._data.filter(e=>e.checked).forEach(e=>e.checked=!1),this.changeEmit("radio",null),this.refreshData()}_handleTd(e){switch(e.type){case"checkbox":this._refCheck()._checkNotify();break;case"radio":this.changeEmit("radio",e.item),this.refreshData();break}}export(e,r){let o=Array.isArray(e)?this.dataSource.optimizeData({columns:this._columns,result:e}):this._data;(e===!0?this.filteredData:Bt(o)).subscribe(a=>this.exportSrv.export(Me(I({columens:this._columns},r),{data:a})))}colResize({width:e},r){r.width=`${e}px`,this.changeEmit("resize",r)}onContextmenu(e){if(!this.contextmenu)return;e.preventDefault(),e.stopPropagation();let r=e.target.closest("[data-col-index]");if(!r)return;let o=Number(r.dataset.colIndex),a=Number(r.closest("tr").dataset.index),s=isNaN(a),c=this.contextmenu({event:e,type:s?"head":"body",rowIndex:s?null:a,colIndex:o,data:s?null:this.list[a],column:this._columns[o]});(Kp(c)?c:Bt(c)).pipe(Xt(this.destroy$),st(p=>p.length>0)).subscribe(p=>{this.contextmenuList=p.map(h=>(Array.isArray(h.children)||(h.children=[]),h)),this.cdr.detectChanges(),this.cms.create(e,this.contextmenuTpl)})}get cdkVirtualScrollViewport(){return this.orgTable?.cdkVirtualScrollViewport}_resetColumns(e){return e=I({emitReload:!0,preClearData:!1},e),typeof e.columns<"u"&&(this.columns=e.columns),typeof e.pi<"u"&&(this.pi=e.pi),typeof e.ps<"u"&&(this.ps=e.ps),e.emitReload&&(e.preClearData=!0),e.preClearData&&(this._data=[]),this.refreshColumns(),e.emitReload?this.loadPageData():(this.cd(),Bt(this))}resetColumns(e){return Gp(this._resetColumns(e))}refreshColumns(){let e=this.columnSource.process(this.columns,{widthMode:this.widthMode,resizable:this._resizable,safeType:this.cog.safeType});return this._columns=e.columns,this._headers=e.headers,this.customWidthConfig===!1&&e.headerWidths!=null&&(this._widthConfig=e.headerWidths),this}optimizeData(){return this._data=this.dataSource.optimizeData({columns:this._columns,result:this._data,rowClassName:this.rowClassName}),this}pureItem(e){if(typeof e=="number"&&(e=this._data[e]),!e)return null;let r=$i(e);return["_values","_rowClassName"].forEach(o=>delete r[o]),r}ngAfterViewInit(){this.refreshColumns(),this.req.lazyLoad||this.loadPageData().subscribe(),this.inied=!0}ngOnChanges(e){e.loading&&(this._loading=e.loading.currentValue),this.inied&&(e.columns&&this.refreshColumns().optimizeData(),e.data&&this.loadPageData().subscribe())}};i.\u0275fac=function(r){return new(r||i)(w(kt))},i.\u0275cmp=L({type:i,selectors:[["st"]],viewQuery:function(r,o){if(r&1&&(me(wP,5),me(kP,5)),r&2){let a;te(a=ie())&&(o.orgTable=a.first),te(a=ie())&&(o.contextmenuTpl=a.first)}},hostVars:14,hostBindings:function(r,o){r&2&&A("st",!0)("st__p-left",o.page.placement==="left")("st__p-center",o.page.placement==="center")("st__width-strict",o.widthMode.type==="strict")("st__row-class",o.rowClassName)("ant-table-rep",o.responsive)("ant-table-rep__hide-header-footer",o.responsiveHideHeaderFooter)},inputs:{req:"req",res:"res",page:"page",data:"data",columns:"columns",contextmenu:"contextmenu",ps:[B.HasDecoratorInputTransform,"ps","ps",e=>pt(e,10)],pi:[B.HasDecoratorInputTransform,"pi","pi",e=>pt(e,1)],total:[B.HasDecoratorInputTransform,"total","total",e=>pt(e,0)],loading:"loading",loadingDelay:[B.HasDecoratorInputTransform,"loadingDelay","loadingDelay",pt],loadingIndicator:"loadingIndicator",bordered:[B.HasDecoratorInputTransform,"bordered","bordered",ce],size:"size",scroll:"scroll",singleSort:"singleSort",multiSort:"multiSort",rowClassName:"rowClassName",clickRowClassName:"clickRowClassName",widthMode:"widthMode",widthConfig:"widthConfig",resizable:"resizable",header:"header",showHeader:[B.HasDecoratorInputTransform,"showHeader","showHeader",ce],footer:"footer",bodyHeader:"bodyHeader",body:"body",expandRowByClick:[B.HasDecoratorInputTransform,"expandRowByClick","expandRowByClick",ce],expandAccordion:[B.HasDecoratorInputTransform,"expandAccordion","expandAccordion",ce],expand:"expand",noResult:"noResult",responsive:[B.HasDecoratorInputTransform,"responsive","responsive",ce],responsiveHideHeaderFooter:[B.HasDecoratorInputTransform,"responsiveHideHeaderFooter","responsiveHideHeaderFooter",ce],virtualScroll:[B.HasDecoratorInputTransform,"virtualScroll","virtualScroll",ce],virtualItemSize:[B.HasDecoratorInputTransform,"virtualItemSize","virtualItemSize",pt],virtualMaxBufferPx:[B.HasDecoratorInputTransform,"virtualMaxBufferPx","virtualMaxBufferPx",pt],virtualMinBufferPx:[B.HasDecoratorInputTransform,"virtualMinBufferPx","virtualMinBufferPx",pt],customRequest:"customRequest",virtualForTrackBy:"virtualForTrackBy",trackBy:"trackBy"},outputs:{error:"error",change:"change"},exportAs:["st"],features:[ct([I_,gp,D_,P_,Lr,Wa,Or]),Vt,re],decls:21,vars:34,consts:[["titleTpl",""],["chkAllTpl",""],[3,"nzData","nzPageIndex","nzPageSize","nzTotal","nzShowPagination","nzFrontPagination","nzBordered","nzSize","nzLoading","nzLoadingDelay","nzLoadingIndicator","nzTitle","nzFooter","nzScroll","nzVirtualItemSize","nzVirtualMaxBufferPx","nzVirtualMinBufferPx","nzVirtualForTrackBy","nzNoResult","nzPageSizeOptions","nzShowQuickJumper","nzShowSizeChanger","nzPaginationPosition","nzPaginationType","nzItemRender","nzSimple","nzShowTotal","nzWidthConfig","nzPageIndexChange","nzPageSizeChange","contextmenu"],["table",""],[1,"st__body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bodyTpl",""],["nz-virtual-scroll",""],["totalTpl",""],["contextmenuTpl","nzDropdownMenu"],["nz-menu","",1,"st__contextmenu"],[3,"innerHTML"],["class","st__head-optional",3,"innerHTML"],["class","st__head-tip","nz-tooltip","","nz-icon","","nzType","question-circle",3,"nzTooltipTitle"],[1,"st__head-optional",3,"innerHTML"],["nz-tooltip","","nz-icon","","nzType","question-circle",1,"st__head-tip",3,"nzTooltipTitle"],["nz-checkbox","",1,"st__checkall",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange"],["nzWidth","50px",3,"rowSpan"],["nz-resizable","",3,"colSpan","rowSpan","nzWidth","nzLeft","nzRight","ngClass","nzShowSort","nzSortOrder","nzCustomFilter","st__has-filter","nzDisabled","nzMaxWidth","nzMinWidth","nzBounds","nzPreview","nzSortOrderChange","nzResizeEnd",4,"let"],["nz-resizable","",3,"colSpan","rowSpan","nzWidth","nzLeft","nzRight","ngClass","nzShowSort","nzSortOrder","nzCustomFilter","nzDisabled","nzMaxWidth","nzMinWidth","nzBounds","nzPreview","nzSortOrderChange","nzResizeEnd"],["nzDirection","right"],["nz-th-extra","",3,"col","f","locale"],[1,"ant-table-selection"],["class","ant-table-selection-extra"],["selectionMenu","nzDropdownMenu"],["nz-menu","",1,"ant-table-selection-menu"],[1,"ant-table-selection-extra"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down","st__checkall-selection",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"innerHTML","click"],["nz-menu-item","",3,"innerHTML"],["nz-th-extra","",3,"col","f","locale","n","handle"],["nz-resizable","",3,"colSpan","rowSpan","nzWidth","nzLeft","nzRight","ngClass","nzShowSort","nzSortOrder","nzCustomFilter","st__has-filter","nzDisabled","nzMaxWidth","nzMinWidth","nzBounds","nzPreview"],[3,"ngClass","click","dblclick"],["nzWidth","50px",3,"nzShowExpand","nzExpand"],[3,"nzExpand"],["nzWidth","50px",3,"nzShowExpand","nzExpand","nzExpandChange","click"],[3,"nzLeft","nzRight","ngClass"],["class","ant-table-rep__title"],[3,"data","i","index","c","cIdx","n"],[1,"ant-table-rep__title"],["nz-submenu","",3,"nzTitle"]],template:function(r,o){if(r&1&&(g(0,PP,3,3,"ng-template",null,0,he)(2,EP,1,5,"ng-template",null,1,he),m(4,"nz-table",2,3),Je("nzPageIndexChange",function(s){return Xe(o.pi,s)||(o.pi=s),s}),P("nzPageIndexChange",function(){return o._change("pi")}),Je("nzPageSizeChange",function(s){return Xe(o.ps,s)||(o.ps=s),s}),P("nzPageSizeChange",function(){return o._change("ps")})("contextmenu",function(s){return o.onContextmenu(s)}),g(6,XP,3,0,"thead"),m(7,"tbody",4),g(8,eE,1,4,null,5)(9,sE,6,9,"ng-template",null,6,he)(11,dE,1,0,null,7)(12,hE,2,0)(13,fE,1,4,null,5),f(),g(14,_E,1,1,"ng-template",null,8,he),f(),m(16,"nz-dropdown-menu",null,9)(18,"ul",10),se(19,vE,2,1,null,null,wt),f()()),r&2){let a=q(15);d(4),A("st__no-column",o.noColumns),u("nzData",o._data),ot("nzPageIndex",o.pi)("nzPageSize",o.ps),u("nzTotal",o.total)("nzShowPagination",o._isPagination)("nzFrontPagination",!1)("nzBordered",o.bordered)("nzSize",o.size)("nzLoading",o.noColumns||o._loading)("nzLoadingDelay",o.loadingDelay)("nzLoadingIndicator",o.loadingIndicator)("nzTitle",o.header)("nzFooter",o.footer)("nzScroll",o.scroll)("nzVirtualItemSize",o.virtualItemSize)("nzVirtualMaxBufferPx",o.virtualMaxBufferPx)("nzVirtualMinBufferPx",o.virtualMinBufferPx)("nzVirtualForTrackBy",o.virtualForTrackBy)("nzNoResult",o.noResult)("nzPageSizeOptions",o.page.pageSizes)("nzShowQuickJumper",o.page.showQuickJumper)("nzShowSizeChanger",o.page.showSize)("nzPaginationPosition",o.page.position)("nzPaginationType",o.page.type)("nzItemRender",o.page.itemRender)("nzSimple",o.page.simple)("nzShowTotal",a)("nzWidthConfig",o._widthConfig),d(2),D(6,o.showHeader?6:-1),d(2),D(8,o._loading?-1:8),d(3),D(11,o.virtualScroll?11:12),d(2),D(13,o._loading?-1:13),d(6),le(o.contextmenuList)}},dependencies:()=>[Mt,ge,dt,tt,Z0,cp,gl,o_,ap,op,l_,Cl,dp,lp,rp,c_,sp,Le,bi,ir,tr,uh,Hi,nr,li,h_,m_,dM,uM],encapsulation:2,changeDetection:0});let t=i;return t})(),uM=(()=>{let i=class i{constructor(){this.stComp=j(pM,{host:!0}),this.router=j(yn),this.modalHelper=j(Uu),this.drawerHelper=j(Yu),this.n=new W}get routerState(){let{pi:e,ps:r,total:o}=this.stComp;return{pi:e,ps:r,total:o}}report(e){this.n.emit({type:e,item:this.i,col:this.c})}_checkbox(e){this.i.checked=e,this.report("checkbox")}_radio(){this.data.filter(e=>!e.disabled).forEach(e=>e.checked=!1),this.i.checked=!0,this.report("radio")}_link(e){this._stopPropagation(e);let r=this.c.click(this.i,this.stComp);return typeof r=="string"&&this.router.navigateByUrl(r,{state:this.routerState}),!1}_stopPropagation(e){e.preventDefault(),e.stopPropagation()}_btn(e,r){r?.stopPropagation();let o=this.stComp.cog,a=this.i;if(e.type==="modal"||e.type==="static"){o.modal.pureRecoard===!0&&(a=this.stComp.pureItem(a));let s=e.modal,c={[s.paramsName]:a};this.modalHelper[e.type==="modal"?"create":"createStatic"](s.component,I(I({},c),s.params&&s.params(a)),Nr({},!0,o.modal,s)).pipe(st(p=>typeof p<"u")).subscribe(p=>this.btnCallback(a,e,p));return}else if(e.type==="drawer"){o.drawer.pureRecoard===!0&&(a=this.stComp.pureItem(a));let s=e.drawer,c={[s.paramsName]:a};this.drawerHelper.create(s.title,s.component,I(I({},c),s.params&&s.params(a)),Nr({},!0,o.drawer,s)).pipe(st(p=>typeof p<"u")).subscribe(p=>this.btnCallback(a,e,p));return}else if(e.type==="link"){let s=this.btnCallback(a,e);typeof s=="string"&&this.router.navigateByUrl(s,{state:this.routerState});return}this.btnCallback(a,e)}btnCallback(e,r,o){if(r.click)if(typeof r.click=="string")switch(r.click){case"load":this.stComp.load();break;case"reload":this.stComp.reload();break}else return r.click(e,o,this.stComp)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["st-td"]],inputs:{c:"c",cIdx:"cIdx",data:"data",i:"i",index:"index"},outputs:{n:"n"},decls:8,vars:1,consts:[["btnTpl",""],["btnItemTpl",""],["btnTextTpl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-tooltip","",3,"nzTooltipTitle","d-block","width-100"],["nz-tooltip","",3,"nzTooltipTitle"],["nz-popconfirm","","class","st__btn-text",3,"nzPopconfirmTitle","nzIcon","nzCondition","nzCancelText","nzOkText","nzOkType","ngClass"],["nz-popconfirm","",1,"st__btn-text",3,"nzPopconfirmTitle","nzIcon","nzCondition","nzCancelText","nzOkText","nzOkType","ngClass","nzOnConfirm","click"],[1,"st__btn-text",3,"ngClass","click"],[3,"innerHTML","ngClass"],["nz-icon","",3,"nzIconfont"],["nz-icon","",3,"nzType","nzTheme","nzSpin","nzTwotoneColor"],["nz-checkbox","",3,"nzDisabled","ngModel","ngModelChange"],["nz-radio","",3,"nzDisabled","ngModel","ngModelChange"],[3,"innerHTML","click"],[3,"nzColor","nz-tooltip"],[3,"innerHTML"],[3,"nzStatus","nzText","nz-tooltip"],[3,"value","options"],["st-widget-host","",3,"record","column"],[3,"innerText"],["nzType","vertical"],["nz-dropdown","","nzOverlayClassName","st__btn-sub",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["btnMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-divider",""],["nz-menu-item",""]],template:function(r,o){r&1&&g(0,TE,2,1,"ng-template",null,0,he)(2,PE,2,1,"ng-template",null,1,he)(4,$E,2,5,"ng-template",null,2,he)(6,VE,1,6,null,3)(7,sM,10,1),r&2&&(d(6),D(6,o.c.__render?6:7))},dependencies:[Mt,ge,dt,tt,_p,T_,Le,Qa,bi,Th,ir,tr,hh,Hi,fh,nr,Dn,Xa,li,lM],encapsulation:2,changeDetection:0});let t=i;return t})();var zl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,vt,Eo,X0,S_,Co,go,Qe,En,si,Br,Si,mh,ln,Mn,Nn,ci,f_,$n,Un]});let t=i;return t})();function Q4(...t){return Ir([{provide:Dr,multi:!0,useValue:()=>{let i=j(Cp);t.forEach(n=>i.register(n.KEY,n.type))}}])}var vp=["*"];function mM(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.title)}}function fM(t,i){if(t&1&&(m(0,"sv-title"),g(1,mM,2,1,"ng-container",1),f()),t&2){let n=l();d(),u("nzStringTemplateOutlet",n.title)}}var _M=["conEl"];function gM(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(2);d(),ae(n.label)}}function CM(t,i){if(t&1&&(pe(0),R(1),ue()),t&2){let n=l(3);d(),ae(n.optional)}}function yM(t,i){if(t&1&&N(0,"i",10),t&2){let n=l(3);u("nzTooltipTitle",n.optionalHelp)("nzTooltipColor",n.optionalHelpColor)}}function vM(t,i){if(t&1&&(m(0,"span",9),g(1,CM,2,1,"ng-container",7)(2,yM,1,2,"i",10),f()),t&2){let n=l(2);A("sv__label-optional-no-text",!n.optional),d(),u("nzStringTemplateOutlet",n.optional),d(),D(2,n.optionalHelp?2:-1)}}function zM(t,i){if(t&1&&(m(0,"div",5)(1,"span",6),g(2,gM,2,1,"ng-container",7),f(),g(3,vM,3,4,"span",8),f()),t&2){let n=l();ze("width",n.labelWidth,"px"),A("sv__label-empty",!n.label)("sv__label-width",n.labelWidth!==null&&n.labelWidth!==void 0)("sv__no-colon",n._noColon),d(2),u("nzStringTemplateOutlet",n.label),d(),D(3,n.optional||n.optionalHelp?3:-1)}}function xM(t,i){if(t&1&&(m(0,"span",12),R(1),f()),t&2){let n=l(2);d(),ae(n.unit)}}function bM(t,i){if(t&1&&g(0,xM,2,1,"span",11),t&2){let n=l();u("nzStringTemplateOutlet",n.unit)}}var SM=(()=>{let i=class i{constructor(){if(this.el=j(de).nativeElement,this.parentComp=j(E_,{host:!0,optional:!0}),this.ren=j(Fe),this.parentComp==null)throw new Error("[sv-title] must include 'sv-container' component")}setClass(){let e=this.parentComp.gutter,r=this.el;this.ren.setStyle(r,"padding-left",`${e/2}px`),this.ren.setStyle(r,"padding-right",`${e/2}px`)}ngOnInit(){this.setClass()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["sv-title"],["","sv-title",""]],hostVars:2,hostBindings:function(r,o){r&2&&A("sv__title",!0)},exportAs:["svTitle"],standalone:!0,features:[Y],ngContentSelectors:vp,decls:1,vars:0,template:function(r,o){r&1&&(Ee(),we(0))},encapsulation:2,changeDetection:0});let t=i;return t})(),E_=(()=>{let i=class i{get margin(){return this.bordered?{}:{"margin-left.px":-(this.gutter/2),"margin-right.px":-(this.gutter/2)}}constructor(e){this.noColon=!1,this.bordered=!1,e.attach(this,"sv",{size:"large",gutter:32,layout:"horizontal",col:3,default:!0})}};i.\u0275fac=function(r){return new(r||i)(w(kt))},i.\u0275cmp=L({type:i,selectors:[["sv-container"],["","sv-container",""]],hostVars:14,hostBindings:function(r,o){r&2&&A("sv__container",!0)("sv__horizontal",o.layout==="horizontal")("sv__vertical",o.layout==="vertical")("sv__small",o.size==="small")("sv__large",o.size==="large")("sv__bordered",o.bordered)("clearfix",!0)},inputs:{colInCon:[B.HasDecoratorInputTransform,"sv-container","colInCon",e=>e==null?null:pt(e)],title:"title",size:"size",gutter:[B.HasDecoratorInputTransform,"gutter","gutter",pt],layout:"layout",labelWidth:[B.HasDecoratorInputTransform,"labelWidth","labelWidth",pt],col:[B.HasDecoratorInputTransform,"col","col",pt],default:[B.HasDecoratorInputTransform,"default","default",ce],noColon:[B.HasDecoratorInputTransform,"noColon","noColon",ce],bordered:[B.HasDecoratorInputTransform,"bordered","bordered",ce]},exportAs:["svContainer"],standalone:!0,features:[Vt,Y],ngContentSelectors:vp,decls:3,vars:2,consts:[[1,"ant-row",3,"ngStyle"],[4,"nzStringTemplateOutlet"]],template:function(r,o){r&1&&(Ee(),m(0,"div",0),g(1,fM,2,1,"sv-title"),we(2),f()),r&2&&(u("ngStyle",o.margin),d(),D(1,o.title?1:-1))},dependencies:[xi,SM,Ft],encapsulation:2,changeDetection:0});let t=i;return t})();var yp="sv",dH=(()=>{let i=class i{get paddingValue(){return this.parentComp.bordered?null:this.parentComp.gutter/2}get labelWidth(){let{labelWidth:e,layout:r}=this.parentComp;return r==="horizontal"?e:null}constructor(){if(this.el=j(de).nativeElement,this.parentComp=j(E_,{host:!0,optional:!0}),this.rep=j(ja),this.ren=j(Fe),this.clsMap=[],this._noColon=!1,this.hideLabel=!1,this.parentComp==null)throw new Error("[sv] must include 'sv-container' component")}setClass(){let{ren:e,col:r,clsMap:o,type:a,rep:s,noColon:c}=this,p=this.parentComp,h=this.el;this._noColon=p.bordered?!0:c??p.noColon,o.forEach(v=>e.removeClass(h,v)),o.length=0;let _=p.colInCon||p.col;o.push(...s.genCls(r??_,_)),o.push(`${yp}__item`),p.labelWidth&&o.push(`${yp}__item-fixed`),a&&o.push(`${yp}__type-${a}`),o.forEach(v=>e.addClass(h,v))}ngAfterViewInit(){this.setClass(),this.checkContent()}ngOnChanges(){this.setClass()}checkContent(){let{conEl:e}=this,r=this.default;if(!(r??this.parentComp?.default))return;let o=e.nativeElement,a="sv__default";o.classList.contains(a)&&o.classList.remove(a),jr(o)&&o.classList.add(a)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=L({type:i,selectors:[["sv"],["","sv",""]],viewQuery:function(r,o){if(r&1&&me(_M,5),r&2){let a;te(a=ie())&&(o.conEl=a.first)}},hostVars:4,hostBindings:function(r,o){r&2&&ze("padding-left",o.paddingValue,"px")("padding-right",o.paddingValue,"px")},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",label:"label",unit:"unit",col:[B.HasDecoratorInputTransform,"col","col",e=>e==null?null:pt(e)],default:[B.HasDecoratorInputTransform,"default","default",e=>e==null?null:ce(e)],type:"type",noColon:[B.HasDecoratorInputTransform,"noColon","noColon",e=>e==null?null:ce(e)],hideLabel:[B.HasDecoratorInputTransform,"hideLabel","hideLabel",ce]},exportAs:["sv"],standalone:!0,features:[Vt,re,Y],ngContentSelectors:vp,decls:6,vars:2,consts:[["class","sv__label",3,"sv__label-empty","sv__label-width","sv__no-colon","width"],[1,"sv__detail"],[3,"cdkObserveContent"],["conEl",""],["class","sv__unit"],[1,"sv__label"],[1,"sv__label-text"],[4,"nzStringTemplateOutlet"],["class","sv__label-optional",3,"sv__label-optional-no-text"],[1,"sv__label-optional"],["nz-tooltip","","nz-icon","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["class","sv__unit",4,"nzStringTemplateOutlet"],[1,"sv__unit"]],template:function(r,o){r&1&&(Ee(),g(0,zM,4,10,"div",0),m(1,"div",1)(2,"span",2,3),P("cdkObserveContent",function(){return o.checkContent()}),we(4),f(),g(5,bM,1,1,"span",4),f()),r&2&&(D(0,o.hideLabel?-1:0),d(5),D(5,o.unit?5:-1))},dependencies:[Ft,li,Le,Fr],encapsulation:2,changeDetection:0});let t=i;return t})();var xl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,Oa,ci,Qe,Qt]});let t=i;return t})();var bl=[zl,xl,_l,fl];var Sl=[ai,Ya,Si,Ur,si,ci,ds,On,Qe,En,ss,Hr,go,Ha,as,Nn,Un,ho,Mn,$n,_o,cs,Kr,ln,Yr,ls,ns,Qr,Br,ps,Co];var wM=[];var uL=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Ce({type:i}),i.\u0275inj=ye({imports:[Zt,vt,Io,No,Hl,Eo,ha,bl,Sl,wM,Zt,vt,No,Io,Hl,Eo,ha,zl,xl,_l,fl,ai,Ya,Si,Ur,si,ci,ds,On,Qe,En,ss,Hr,go,Ha,as,Nn,Un,ho,Mn,$n,_o,cs,Kr,ln,Yr,ls,ns,Qr,Br,ps,Co]});let t=i;return t})();function mL(t,i=2){return typeof t=="number"&&(t=t.toFixed(i)),`&yen ${t}`}var xL=[vt,No,Da,ge,Mt,xi,qu,Lr,...bl,...Sl];var zp=(()=>{let i=class i extends B0{ngOnInit(){console.warn("init test widget")}};i.KEY="test",i.\u0275fac=(()=>{let e;return function(o){return(e||(e=gt(i)))(o||i)}})(),i.\u0275cmp=L({type:i,selectors:[["test"]],standalone:!0,features:[qe,Y],decls:2,vars:6,consts:[[3,"id","schema","ui","showError","error","showTitle"]],template:function(r,o){r&1&&(m(0,"sf-item-wrap",0),R(1," test widget "),f()),r&2&&u("id",o.id)("schema",o.schema)("ui",o.ui)("showError",o.showError)("error",o.error)("showTitle",o.schema.title)},dependencies:[ha,Pi],encapsulation:2,changeDetection:0});let t=i;return t})();var kL=[{KEY:zp.KEY,type:zp}];var IL=[];var EL=[];export{D0 as a,Dn as b,ln as c,kA as d,G0 as e,Wl as f,Nh as g,o_ as h,ap as i,Cl as j,cp as k,dp as l,l_ as m,go as n,Ex as o,ho as p,kn as q,nl as r,Un as s,T_ as t,Co as u,Y4 as v,pM as w,zl as x,Q4 as y,n2 as z,AF as A,mL as B,ml as C,Xd as D,_o as E,U0 as F,Y0 as G,bk as H,fl as I,Q0 as J,cR as K,_l as L,E_ as M,dH as N,xl as O,uL as P,kL as Q,IL as R,EL as S};
