import{a as ot}from"./chunk-6CNTHWMA.js";import{$a as R,Bc as P,Ca as b,Ch as nt,Db as O,Eb as F,Fb as $,Ha as r,Ia as M,Kb as u,Kh as rt,Lh as ct,Mb as _,Oa as a,Pa as S,Qc as Q,Va as w,_a as m,_c as K,ab as I,bg as X,ca as D,cd as Y,fa as o,gc as A,hb as L,he as W,hg as J,ib as N,id as q,ie as Z,jg as C,ka as h,kb as j,la as g,lb as H,lg as v,mb as c,nb as p,ob as l,od as G,pd as E,ph as tt,qa as z,sb as f,sh as et,th as it,vb as d,xb as y,yb as V,zb as B,zd as U}from"./chunk-2NBHHZGH.js";var mt=["conTpl"],lt=["*"];function dt(i,k){if(i&1&&(c(0,"button",8),u(1),p()),i&2){let t=y();m("routerLink",t.backRouterLink)("nzType","primary"),r(),_(" ",t.locale.backToHome," ")}}var T=(()=>{class i{static ngAcceptInputType_type;i18n=o(et);dom=o(Q);directionality=o(U);cdr=o(A);destroy$=o(z);conTpl;_type;locale={};hasCon=!1;dir="ltr";_img="";_title="";_desc="";typeDict;set type(t){let e=this.typeDict[t];e&&(this.fixImg(e.img),this._type=t,this._title=e.title,this._desc="")}fixImg(t){this._img=this.dom.bypassSecurityTrustStyle(`url('${t}')`)}set img(t){this.fixImg(t)}set title(t){this._title=this.dom.bypassSecurityTrustHtml(t)}set desc(t){this._desc=this.dom.bypassSecurityTrustHtml(t)}backRouterLink="/";checkContent(){this.hasCon=!nt(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(t){t.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(E(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.i18n.change.pipe(E(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}static \u0275fac=function(e){return new(e||i)(M(G))};static \u0275cmp=a({type:i,selectors:[["exception"]],viewQuery:function(e,n){if(e&1&&O(mt,7),e&2){let s;F(s=$())&&(n.conTpl=s.first)}},hostVars:4,hostBindings:function(e,n){e&2&&I("exception",!0)("exception-rtl",n.dir==="rtl")},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],ngContentSelectors:lt,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(e,n){if(e&1){let s=f();V(),c(0,"div",1),l(1,"div",2),p(),c(2,"div",3),l(3,"h1",4)(4,"div",5),c(5,"div",6)(6,"div",7,0),d("cdkObserveContent",function(){return h(s),g(n.checkContent())}),B(8),p(),w(9,dt,2,3,"button",8),p()()}e&2&&(r(),R("background-image",n._img),r(2),m("innerHTML",n._title,b),r(),m("innerHTML",n._desc||n.locale[n._type],b),r(5),L(n.hasCon?-1:9))},dependencies:[W,C,Y],encapsulation:2,changeDetection:0})}return i})(),ut=[T],st=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=S({type:i});static \u0275inj=D({imports:[P,Z,q,it,v,ut]})}return i})();var x=(()=>{class i{constructor(){this.route=o(K)}get type(){return this.route.snapshot.data.type}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=a({type:i,selectors:[["app-exception"]],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(e,n){e&1&&l(0,"exception",0),e&2&&m("type",n.type)},dependencies:[st,T],encapsulation:2,changeDetection:0})}}return i})();function gt(i,k){if(i&1){let t=f();c(0,"button",3),d("click",function(){let n=h(t).$implicit,s=y();return g(s.go(n))}),u(1),p()}if(i&2){let t=k.$implicit;r(),_("\u89E6\u53D1",t,"")}}var at=(()=>{class i{constructor(){this.http=o(tt),this.tokenService=o(ot),this.types=[401,403,404,500]}go(t){this.http.get(`/api/${t}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:t=>console.warn("\u6210\u529F",t),error:t=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",t)}})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=a({type:i,selectors:[["exception-trigger"]],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(e,n){e&1&&(c(0,"div",0)(1,"nz-card"),j(2,gt,2,1,"button",1,N),c(4,"button",2),d("click",function(){return n.refresh()}),u(5,"\u89E6\u53D1\u5237\u65B0Token"),p()()()),e&2&&(r(2),H(n.types))},dependencies:[ct,rt,v,C,X,J],encapsulation:2})}}return i})();var Jt=[{path:"403",component:x,data:{type:403}},{path:"404",component:x,data:{type:404}},{path:"500",component:x,data:{type:500}},{path:"trigger",component:at}];export{Jt as routes};
