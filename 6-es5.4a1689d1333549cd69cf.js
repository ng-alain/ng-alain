function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_unsupportedIterableToArray(n)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(n,t){if(n){if("string"==typeof n)return _arrayLikeToArray(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(n,t):void 0}}function _iterableToArray(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}function _arrayWithoutHoles(n){if(Array.isArray(n))return _arrayLikeToArray(n)}function _arrayLikeToArray(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EjGq:function(n,t,e){"use strict";e.r(t),e.d(t,"DelonModule",(function(){return et}));var o,i,c,r=e("ofXK"),a=e("M0ag"),s=e("tyNb"),l=e("atJ9"),u=e("fXoL"),b=e("Ac7g"),f=e("B+r4"),p=e("JA5x"),h=e("OzZK"),d=e("RwU8"),m=e("C2AL"),g=((o=function(){function n(t,e){_classCallCheck(this,n),this.aclSrv=t,this.menuSrv=e,this.full=!0,this.roleA="",this.roleB=""}return _createClass(n,[{key:"reMenu",value:function(){this.menuSrv.resume()}},{key:"toggleFull",value:function(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}},{key:"toggleRoleA",value:function(){this.full=!1,this.roleA="role-a"===this.roleA?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}},{key:"toggleRoleB",value:function(){this.full=!1,this.roleB="role-b"===this.roleB?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}}]),n}()).\u0275fac=function(n){return new(n||o)(u.Tb(l.c),u.Tb(b.i))},o.\u0275cmp=u.Nb({type:o,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94ae\u7c92\u5ea6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91cf"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89d2\u8272[role-a]"],["nzTitle","\u89d2\u8272[role-b]"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," ACL \u8bbf\u95ee\u63a7\u5236 "),u.Zb(3,"small"),u.Pc(4,"\u6ce8\u610f\u89c2\u5bdf\u5de6\u8fb9\u7684\u83dc\u5355\uff1bACLService\u63d0\u4f9b\u4e00\u4e2a\u5b8c\u6574\u7684\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u7684\u670d\u52a1\uff0c\u82e5\u9700\u8981\u652f\u6301\u8def\u7531\u5b88\u536b\uff0c\u8bf7\u914d\u5408ACLService\u4e0eRoute Guard\u914d\u5408\u7b80\u4fbf\u5b9e\u73b0\u3002"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"div",1),u.Zb(6,"div",2),u.Zb(7,"nz-card",3),u.Pc(8),u.lc(9,"json"),u.Zb(10,"button",4),u.Pc(11,"role-a"),u.Yb(),u.Zb(12,"button",5),u.Pc(13,"role-b"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(14,"div",1),u.Zb(15,"div",2),u.Zb(16,"nz-card",6),u.Zb(17,"button",7),u.hc("click",(function(){return t.toggleFull()})),u.Zb(18,"span"),u.Pc(19),u.Yb(),u.Yb(),u.Zb(20,"p",8),u.Pc(21,"\u5168\u91cf\u7c7b\u6307\u7cfb\u7edf\u7ba1\u7406\u5458\u89d2\u8272\uff0c\u65e0\u4efb\u4f55\u53d7\u9650\u3002"),u.Yb(),u.Yb(),u.Yb(),u.Zb(22,"div",2),u.Zb(23,"nz-card",9),u.Zb(24,"button",7),u.hc("click",(function(){return t.toggleRoleA()})),u.Zb(25,"span"),u.Pc(26),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(27,"div",2),u.Zb(28,"nz-card",10),u.Zb(29,"button",7),u.hc("click",(function(){return t.toggleRoleB()})),u.Zb(30,"span"),u.Pc(31),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&n&&(u.Db(5),u.sc("nzGutter",8),u.Db(1),u.sc("nzSpan",24),u.Db(2),u.Rc(" ACL\u539f\u59cb\u6570\u636e\uff1a",u.mc(9,12,t.aclSrv.data)," "),u.Db(2),u.sc("acl","role-a"),u.Db(2),u.sc("acl","role-b"),u.Db(2),u.sc("nzGutter",8),u.Db(1),u.sc("nzSpan",8),u.Db(4),u.Rc("",t.full?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"),u.Db(3),u.sc("nzSpan",8),u.Db(4),u.Rc("",t.roleA.length>0?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"),u.Db(1),u.sc("nzSpan",8),u.Db(4),u.Rc("",t.roleB.length>0?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"))},directives:[f.c,f.a,p.a,h.a,d.a,m.a,l.a],pipes:[r.h],encapsulation:2}),o),v=e("tk/3"),z=e("RY2A"),y=e("Ctv7"),k=e("HDdC"),Y=e("LRne"),Z=e("2Vo4"),_=e("vkgz"),C=e("lJxs"),D=new u.q("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:function(){return new S}}),S=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"get",value:function(n){return JSON.parse(localStorage.getItem(n)||"null")||null}},{key:"set",value:function(n,t){return localStorage.setItem(n,JSON.stringify(t)),!0}},{key:"remove",value:function(n){localStorage.removeItem(n)}}]),n}(),M=((i=function(){function n(t,e,o){_classCallCheck(this,n),this.store=e,this.http=o,this.memory=new Map,this.notifyBuffer=new Map,this.meta=new Set,this.freqTick=3e3,this.cog=t.merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"}),this.loadMeta(),this.startExpireNotify()}return _createClass(n,[{key:"deepGet",value:function(n,t,e){if(!n)return e;if(t.length<=1){var o=t.length?n[t[0]]:n;return void 0===o?e:o}return t.reduce((function(n,t){return n[t]}),n)||e}},{key:"pushMeta",value:function(n){this.meta.has(n)||(this.meta.add(n),this.saveMeta())}},{key:"removeMeta",value:function(n){this.meta.has(n)&&(this.meta.delete(n),this.saveMeta())}},{key:"loadMeta",value:function(){var n=this,t=this.store.get(this.cog.meta_key);t&&t.v&&t.v.forEach((function(t){return n.meta.add(t)}))}},{key:"saveMeta",value:function(){var n=[];this.meta.forEach((function(t){return n.push(t)})),this.store.set(this.cog.meta_key,{v:n,e:0})}},{key:"getMeta",value:function(){return this.meta}},{key:"set",value:function(n,t){var e=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0,c=this.cog,r=c.type,a=c.expire;if((o=Object.assign({type:r,expire:a},o)).expire&&(i=Object(y.a)(new Date,o.expire).valueOf()),t instanceof k.a)return t.pipe(Object(_.a)((function(t){e.save(o.type,n,{v:t,e:i})})));this.save(o.type,n,{v:t,e:i})}},{key:"save",value:function(n,t,e){"m"===n?this.memory.set(t,e):(this.store.set(this.cog.prefix+t,e),this.pushMeta(t)),this.runNotify(t,"set")}},{key:"get",value:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="none"!==e.mode&&"promise"===this.cog.mode,i=this.memory.has(n)?this.memory.get(n):this.store.get(this.cog.prefix+n);return!i||i.e&&i.e>0&&i.e<(new Date).valueOf()?o?this.http.get(n).pipe(Object(C.a)((function(n){return t.deepGet(n,t.cog.reName,null)})),Object(_.a)((function(o){return t.set(n,o,{type:e.type,expire:e.expire})}))):null:o?Object(Y.a)(i.v):i.v}},{key:"getNone",value:function(n){return this.get(n,{mode:"none"})}},{key:"tryGet",value:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getNone(n);return null===o?t instanceof k.a?this.set(n,t,e):(this.set(n,t,e),t):Object(Y.a)(o)}},{key:"has",value:function(n){return this.memory.has(n)||this.meta.has(n)}},{key:"_remove",value:function(n,t){t&&this.runNotify(n,"remove"),this.memory.has(n)?this.memory.delete(n):(this.store.remove(this.cog.prefix+n),this.removeMeta(n))}},{key:"remove",value:function(n){this._remove(n,!0)}},{key:"clear",value:function(){var n=this;this.notifyBuffer.forEach((function(t,e){return n.runNotify(e,"remove")})),this.memory.clear(),this.meta.forEach((function(t){return n.store.remove(n.cog.prefix+t)}))}},{key:"startExpireNotify",value:function(){this.checkExpireNotify(),this.runExpireNotify()}},{key:"runExpireNotify",value:function(){var n=this;this.freqTime=setTimeout((function(){n.checkExpireNotify(),n.runExpireNotify()}),this.freqTick)}},{key:"checkExpireNotify",value:function(){var n=this,t=[];this.notifyBuffer.forEach((function(e,o){n.has(o)&&null===n.getNone(o)&&t.push(o)})),t.forEach((function(t){n.runNotify(t,"expire"),n._remove(t,!1)}))}},{key:"abortExpireNotify",value:function(){clearTimeout(this.freqTime)}},{key:"runNotify",value:function(n,t){this.notifyBuffer.has(n)&&this.notifyBuffer.get(n).next({type:t,value:this.getNone(n)})}},{key:"notify",value:function(n){if(!this.notifyBuffer.has(n)){var t=new Z.a(this.getNone(n));this.notifyBuffer.set(n,t)}return this.notifyBuffer.get(n).asObservable()}},{key:"cancelNotify",value:function(n){this.notifyBuffer.has(n)&&(this.notifyBuffer.get(n).unsubscribe(),this.notifyBuffer.delete(n))}},{key:"hasNotify",value:function(n){return this.notifyBuffer.has(n)}},{key:"clearNotify",value:function(){this.notifyBuffer.forEach((function(n){return n.unsubscribe()})),this.notifyBuffer.clear()}},{key:"ngOnDestroy",value:function(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}},{key:"freq",set:function(n){this.freqTick=Math.max(20,n),this.abortExpireNotify(),this.startExpireNotify()}}]),n}()).\u0275fac=function(n){return new(n||i)(u.dc(z.b),u.dc(D),u.dc(v.c))},i.\u0275prov=Object(u.Pb)({factory:function(){return new i(Object(u.dc)(z.b),Object(u.dc)(D),Object(u.dc)(v.c))},token:i,providedIn:"root"}),i),P=e("PScX"),w=((c=function(){function n(t,e){_classCallCheck(this,n),this.cache=t,this.msg=e,this.KEY="user"}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"set",value:function(){this.cache.set(this.KEY,+new Date)}},{key:"get",value:function(){this.msg.success(this.cache.getNone(this.KEY))}}]),n}()).\u0275fac=function(n){return new(n||c)(u.Tb(M),u.Tb(P.e))},c.\u0275cmp=u.Nb({type:c,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," Cache \u7f13\u5b58, "),u.Zb(3,"a",1),u.Pc(4,"Document"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"nz-card",2),u.Zb(6,"button",3),u.hc("click",(function(){return t.set()})),u.Pc(7,"\u8bbe\u7f6e"),u.Yb(),u.Zb(8,"button",4),u.hc("click",(function(){return t.get()})),u.Pc(9,"\u83b7\u53d6"),u.Yb(),u.Yb())},directives:[p.a,h.a,d.a,m.a],encapsulation:2}),c),T=e("Ah5K");function x(n,t){if(1&n&&(u.Zb(0,"button",3),u.Pc(1),u.Yb()),2&n){var e=t.$implicit,o=u.kc();u.uc("http-url","assets/tmp/demo",e,""),u.sc("http-data",o.data),u.Db(1),u.Rc(" ",e," ")}}var O,N,A,E,j,R,L,I,F=((O=function n(){_classCallCheck(this,n),this.fileTypes=[".xlsx",".docx",".pptx",".pdf"],this.data={otherdata:1,time:new Date}}).\u0275fac=function(n){return new(n||O)},O.\u0275cmp=u.Nb({type:O,selectors:[["app-down-file"]],decls:5,vars:1,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","class","mr-sm","down-file","","file-name","demo\u4e2d\u6587",3,"http-data","http-url",4,"ngFor","ngForOf"],["nz-button","","down-file","","file-name","demo\u4e2d\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2,"Download a file"),u.Yb(),u.Yb(),u.Zb(3,"nz-card",1),u.Nc(4,x,2,3,"button",2),u.Yb()),2&n&&(u.Db(4),u.sc("ngForOf",t.fileTypes))},directives:[p.a,r.m,h.a,d.a,m.a,T.a],encapsulation:2}),O),B=e("SdXu"),G=e("ok2U"),q=e("DGaY"),U=["st"],V=function(n){return{params:n}},J=((E=function(){function n(t){_classCallCheck(this,n),this.http=t,this.params={},this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7f16\u53f7"}}},this.columns=[{title:"\u7f16\u53f7",index:"no"},{title:"\u8c03\u7528\u6b21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50cf",type:"img",width:"50px",index:"avatar"},{title:"\u65f6\u95f4",type:"date",index:"updatedAt"}]}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||E)(u.Tb(b.r))},E.\u0275cmp=u.Nb({type:E,selectors:[["app-delon-form"]],viewQuery:function(n,t){var e;1&n&&u.Kc(U,!0),2&n&&u.Bc(e=u.ic())&&(t.st=e.first)},decls:5,vars:8,consts:[[3,"title"],["mode","search",3,"schema","formData","formSubmit","formReset"],[3,"data","columns","req"],["st",""]],template:function(n,t){if(1&n){var e=u.ac();u.Ub(0,"page-header",0),u.Zb(1,"nz-card"),u.Zb(2,"sf",1),u.hc("formSubmit",(function(n){return u.Fc(e),u.Cc(4).reset(n)}))("formReset",(function(){return u.Fc(e),u.Cc(4).reset(t.params)})),u.Yb(),u.Ub(3,"st",2,3),u.Yb()}2&n&&(u.sc("title","Page Name"),u.Db(2),u.sc("schema",t.searchSchema)("formData",t.params),u.Db(1),u.sc("data",t.url)("columns",t.columns)("req",u.wc(6,V,t.params)))},directives:[B.a,p.a,G.b,q.a],encapsulation:2}),E),H=((A=function n(){_classCallCheck(this,n)}).\u0275fac=function(n){return new(n||A)},A.\u0275cmp=u.Nb({type:A,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(n,t){1&n&&(u.Zb(0,"p"),u.Pc(1,"\u8fd9\u662f\u4e00\u4e2aadmin\u9875\u9762"),u.Yb())},encapsulation:2}),A),X=((N=function n(){_classCallCheck(this,n)}).\u0275fac=function(n){return new(n||N)},N.\u0275cmp=u.Nb({type:N,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(n,t){1&n&&(u.Zb(0,"p"),u.Pc(1,"\u8fd9\u662f\u4e00\u4e2auser1\u9875\u9762"),u.Yb())},encapsulation:2}),N),K=e("dEAy"),$=((j=function(){function n(t){_classCallCheck(this,n),this.confirmSrv=t}return _createClass(n,[{key:"canDeactivate",value:function(n,t,e,o){var i=this;return new k.a((function(n){i.confirmSrv.confirm({nzTitle:"\u786e\u8ba4\u8981\u79bb\u5f00\u5417\uff1f",nzContent:"\u4f60\u5df2\u7ecf\u586b\u5199\u4e86\u90e8\u5206\u8868\u5355\u79bb\u5f00\u4f1a\u653e\u5f03\u5df2\u7ecf\u586b\u5199\u7684\u5185\u5bb9\u3002",nzOkText:"\u79bb\u5f00",nzCancelText:"\u53d6\u6d88",nzOnOk:function(){n.next(!0),n.complete()},nzOnCancel:function(){n.next(!1),n.complete()}})}))}}]),n}()).\u0275fac=function(n){return new(n||j)(u.dc(K.c))},j.\u0275prov=u.Pb({token:j,factory:j.\u0275fac}),j),Q=function(){return["/delon/guard/leave"]},W=function(){return["/delon/guard/auth"]},nn=function(){return["/delon/guard/admin"]},tn=((R=function(){function n(t,e,o){_classCallCheck(this,n),this.aclSrv=t,this.menuSrv=e,this.router=o}return _createClass(n,[{key:"setRole",value:function(n){this.aclSrv.setFull("boolean"==typeof n&&n),this.aclSrv.set({role:[n]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}}]),n}()).\u0275fac=function(n){return new(n||R)(u.Tb(l.c),u.Tb(b.i),u.Tb(s.l))},R.\u0275cmp=u.Nb({type:R,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," \u8def\u7531\u5b88\u536b "),u.Yb(),u.Yb(),u.Zb(3,"nz-button-group"),u.Zb(4,"button",1),u.Zb(5,"span"),u.Pc(6,"\u79bb\u5f00\u786e\u8ba4\u9875"),u.Yb(),u.Yb(),u.Yb(),u.Zb(7,"nz-button-group",2),u.Zb(8,"button",3),u.hc("click",(function(){return t.setRole(!0)})),u.Zb(9,"span"),u.Pc(10,"\u8bbe\u7f6e\u7ba1\u7406\u5458"),u.Yb(),u.Yb(),u.Zb(11,"button",3),u.hc("click",(function(){return t.setRole("user1")})),u.Zb(12,"span"),u.Pc(13,"\u8bbe\u7f6e\u5458\u5de51"),u.Yb(),u.Yb(),u.Zb(14,"button",3),u.hc("click",(function(){return t.setRole("user2")})),u.Zb(15,"span"),u.Pc(16,"\u8bbe\u7f6e\u5458\u5de52"),u.Yb(),u.Yb(),u.Yb(),u.Zb(17,"nz-button-group",2),u.Zb(18,"button",1),u.Zb(19,"span"),u.Pc(20,"\u9700\u8981user1"),u.Yb(),u.Yb(),u.Zb(21,"button",1),u.Zb(22,"span"),u.Pc(23,"\u9700\u8981\u7ba1\u7406\u5458"),u.Yb(),u.Yb(),u.Yb(),u.Zb(24,"p",4),u.Pc(25),u.lc(26,"json"),u.Yb(),u.Ub(27,"router-outlet")),2&n&&(u.Db(4),u.sc("routerLink",u.vc(6,Q)),u.Db(14),u.sc("routerLink",u.vc(7,W)),u.Db(3),u.sc("routerLink",u.vc(8,nn)),u.Db(4),u.Rc("\u5f53\u524dACL\u4fe1\u606f\uff1a",u.mc(26,4,t.aclSrv.data),""))},directives:[h.b,m.a,h.a,d.a,s.m,s.p],pipes:[r.h],encapsulation:2}),R),en=function(){return["/logics/guard"]},on=((L=function n(){_classCallCheck(this,n)}).\u0275fac=function(n){return new(n||L)},L.\u0275cmp=u.Nb({type:L,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(n,t){1&n&&(u.Zb(0,"p"),u.Pc(1,"\u79bb\u5f00\u65f6\u9700\u8981\u786e\u8ba4"),u.Yb(),u.Zb(2,"button",0),u.Zb(3,"span"),u.Pc(4,"\u6211\u8981\u79bb\u5f00"),u.Yb(),u.Yb()),2&n&&(u.Db(2),u.sc("nzType","primary")("routerLink",u.vc(2,en)))},directives:[h.a,d.a,m.a,s.m],encapsulation:2}),L),cn=e("XNiG"),rn=((I=function(){function n(t,e){_classCallCheck(this,n),this.scriptSrv=t,this.pending=!1,this._lodop=null,this._init=new cn.a,this._events=new cn.a,this.printBuffer=[],this.defaultConfig=e.merge("lodop",{url:"//localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}return _createClass(n,[{key:"check",value:function(){if(!this._lodop)throw new Error("\u8bf7\u52a1\u5fc5\u5148\u8c03\u7528 lodop \u83b7\u53d6\u5bf9\u8c61")}},{key:"request",value:function(){var n=this;this.pending=!0;var t=this.cog.checkMaxCount,e=function(t,e){n._init.next({ok:"ok"===t,status:t,error:e,lodop:n._lodop})};this.scriptSrv.loadScript("".concat(this.cog.url,"?name=").concat(this.cog.name)).then((function(o){if("ok"!==o.status)return n.pending=!1,void e("script-load-error",o[0]);var i=window;i.hasOwnProperty(n.cog.name)&&(n._lodop=i[n.cog.name]),null!==n._lodop?(n._lodop.SET_LICENSES(n.cog.companyName,n.cog.license,n.cog.licenseA,n.cog.licenseB),function o(){if(--t,n._lodop.webskt&&1===n._lodop.webskt.readyState)e("ok");else{if(t<0)return void e("check-limit");setTimeout((function(){return o()}),100)}}()):e("load-variable-name-error",{name:n.cog.name})}))}},{key:"reset",value:function(){this._lodop=null,this.pending=!1,this.request()}},{key:"attachCode",value:function(n,t,e){var o=this;this.check(),e||(e=/LODOP\.([^(]+)\(([^\n]+)\);/i),n.split("\n").forEach((function(n){var i=e.exec(n.trim());if(i){var c=o._lodop[i[1]];if(c){var r=null;try{r=new Function("return [".concat(i[2],"]"))()}catch(s){}if(null!=r&&Array.isArray(r)&&t)for(var a=0;a<r.length;a++)"string"==typeof r[a]&&(r[a]=r[a].replace(/{{(.*?)}}/g,(function(n,e){return t[e.trim()]||""})));c.apply(o._lodop,r)}}}))}},{key:"design",value:function(){var n=this;this.check();var t=this._lodop.PRINT_DESIGN();return new Promise((function(e){n._lodop.On_Return=function(o,i){t===o&&(n._lodop.On_Return=null,e(""+i))}}))}},{key:"printDo",value:function(){var n=this,t=this.printBuffer.shift();if(t){this.attachCode(t.code,t.item,t.parser);var e=this._lodop.PRINT();this._lodop.On_Return=function(o,i){e===o&&(n._lodop.On_Return=null,n._events.next(Object.assign({ok:!0===i,error:!0===i?null:i},t)),n.printDo())}}}},{key:"print",value:function(n,t,e){var o;this.check(),t&&(o=this.printBuffer).push.apply(o,_toConsumableArray((Array.isArray(t)?t:[t]).map((function(t){return{code:n,parser:e,item:t}})))),this.printDo()}},{key:"ngOnDestroy",value:function(){this._init.unsubscribe(),this._events.unsubscribe()}},{key:"cog",get:function(){return this._cog},set:function(n){this._cog=Object.assign(Object.assign({},this.defaultConfig),n)}},{key:"events",get:function(){return this._events.asObservable()}},{key:"lodop",get:function(){return this._lodop?Object(Y.a)({ok:!0,lodop:this._lodop}):(this.pending||this.request(),this._init.asObservable())}},{key:"printer",get:function(){this.check();for(var n=[],t=this._lodop.GET_PRINTER_COUNT(),e=0;e<t;e++)n.push(this._lodop.GET_PRINTER_NAME(e));return n}}]),n}()).\u0275fac=function(n){return new(n||I)(u.dc(z.f),u.dc(z.b))},I.\u0275prov=Object(u.Pb)({factory:function(){return new I(Object(u.dc)(z.f),Object(u.dc)(z.b))},token:I,providedIn:"root"}),I),an=e("bNXi"),sn=e("Wfee"),ln=e("3Pt+"),un=e("ocnv"),bn=e("PTRe"),fn=e("zAKX");function pn(n,t){1&n&&(u.Pc(0," \u8bf7\u5148\u4e0b\u8f7d "),u.Zb(1,"a",6),u.Pc(2,"Lodop\u63d2\u4ef6"),u.Yb(),u.Pc(3,"\u3002 "))}function hn(n,t){if(1&n&&(u.Zb(0,"nz-alert",4),u.Nc(1,pn,4,0,"ng-template",null,5,u.Oc),u.Yb()),2&n){var e=u.Cc(2);u.sc("nzType","warning")("nzMessage",e)}}function dn(n,t){if(1&n&&u.Ub(0,"nz-option",20),2&n){var e=t.$implicit;u.sc("nzLabel",e)("nzValue",e)}}function mn(n,t){if(1&n&&u.Ub(0,"nz-option",20),2&n){var e=t.$implicit;u.sc("nzLabel",e)("nzValue",e)}}function gn(n,t){if(1&n){var e=u.ac();u.Zb(0,"form",7),u.Zb(1,"nz-form-item",8),u.Zb(2,"nz-form-label",9),u.Pc(3,"\u6253\u5370\u670d\u52a1\u5668"),u.Yb(),u.Zb(4,"nz-form-control",9),u.Zb(5,"nz-input-group"),u.Zb(6,"div",10),u.Zb(7,"input",11),u.hc("ngModelChange",(function(n){return u.Fc(e),u.kc().cog.url=n})),u.Yb(),u.Yb(),u.Zb(8,"div",10),u.Zb(9,"button",12),u.hc("click",(function(){return u.Fc(e),u.kc().reload(null)})),u.Pc(10,"\u91cd\u65b0\u52a0\u8f7d\u6253\u5370\u673a"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(11,"nz-form-item",8),u.Zb(12,"nz-form-label",9),u.Pc(13,"\u6253\u5370\u673a"),u.Yb(),u.Zb(14,"nz-form-control",9),u.Zb(15,"nz-select",13),u.hc("ngModelChange",(function(n){return u.Fc(e),u.kc().cog.printer=n}))("ngModelChange",(function(n){return u.Fc(e),u.kc().changePinter(n)})),u.Nc(16,dn,1,2,"nz-option",14),u.Yb(),u.Yb(),u.Yb(),u.Zb(17,"nz-form-item",8),u.Zb(18,"nz-form-label",9),u.Pc(19,"\u7eb8\u5f20\u7c7b\u578b"),u.Yb(),u.Zb(20,"nz-form-control",9),u.Zb(21,"nz-select",15),u.hc("ngModelChange",(function(n){return u.Fc(e),u.kc().cog.paper=n})),u.Nc(22,mn,1,2,"nz-option",14),u.Yb(),u.Yb(),u.Yb(),u.Zb(23,"nz-form-item",8),u.Zb(24,"nz-form-label",9),u.Pc(25,"\u6253\u5370\u5185\u5bb9"),u.Yb(),u.Zb(26,"nz-form-control",9),u.Zb(27,"textarea",16),u.hc("ngModelChange",(function(n){return u.Fc(e),u.kc().cog.html=n})),u.Yb(),u.Zb(28,"div",17),u.Pc(29,"\u4ec5\u9650HTML\uff0c\u66f4\u591a\u7c7b\u578b\u652f\u6301\u8bf7\u53c2\u8003\u5b98\u7f51"),u.Yb(),u.Yb(),u.Yb(),u.Zb(30,"nz-form-item",8),u.Zb(31,"nz-form-control",18),u.Zb(32,"button",19),u.hc("click",(function(){return u.Fc(e),u.kc().print(!0)})),u.Pc(33,"\u6253\u5370\u9884\u89c8"),u.Yb(),u.Zb(34,"button",19),u.hc("click",(function(){return u.Fc(e),u.kc().print()})),u.Pc(35,"\u76f4\u63a5\u6253\u5370"),u.Yb(),u.Yb(),u.Yb(),u.Yb()}if(2&n){var o=u.kc();u.Db(2),u.sc("nzSm",6),u.Db(2),u.sc("nzSm",18),u.Db(2),u.sc("nzSpan",16),u.Db(1),u.sc("ngModel",o.cog.url),u.Db(1),u.sc("nzSpan",8),u.Db(4),u.sc("nzSm",6),u.Db(2),u.sc("nzSm",18),u.Db(1),u.sc("ngModel",o.cog.printer),u.Db(1),u.sc("ngForOf",o.pinters),u.Db(2),u.sc("nzSm",6),u.Db(2),u.sc("nzSm",18),u.Db(1),u.sc("ngModel",o.cog.paper),u.Db(1),u.sc("ngForOf",o.papers),u.Db(2),u.sc("nzSm",6),u.Db(2),u.sc("nzSm",18),u.Db(1),u.sc("ngModel",o.cog.html),u.Db(4),u.sc("nzSm",18)("nzOffset",6),u.Db(1),u.sc("nzLoading",o.printing),u.Db(2),u.sc("nzLoading",o.printing)}}var vn,zn,yn=((vn=function(){function n(t,e,o){var i=this;_classCallCheck(this,n),this.lodopSrv=t,this.msg=e,this.notify=o,this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:"\n      <h1>Title</h1>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n    "},this.error=!1,this.lodop=null,this.pinters=[],this.papers=[],this.printing=!1,this.lodopSrv.lodop.subscribe((function(n){var t=n.lodop;n.ok?(i.error=!1,i.msg.success("\u6253\u5370\u673a\u52a0\u8f7d\u6210\u529f"),i.lodop=t,i.pinters=i.lodopSrv.printer):i.error=!0}))}return _createClass(n,[{key:"reload",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"https://localhost:8443/CLodopfuncs.js"};this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=Object.assign(Object.assign({},this.cog),n),this.error=!1,null===n&&this.lodopSrv.reset()}},{key:"changePinter",value:function(n){null!=this.lodop&&(this.papers=this.lodop.GET_PAGESIZES_LIST(n,"\n").split("\n"))}},{key:"print",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.lodop;t.PRINT_INITA(10,20,810,610,"\u6d4b\u8bd5C-Lodop\u8fdc\u7a0b\u6253\u5370\u56db\u6b65\u9aa4"),t.SET_PRINTER_INDEXA(this.cog.printer),t.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),t.ADD_PRINT_TEXT(1,1,300,200,"\u4e0b\u9762\u8f93\u51fa\u7684\u662f\u672c\u9875\u6e90\u4ee3\u7801\u53ca\u5176\u5c55\u73b0\u6548\u679c\uff1a"),t.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),t.SET_PRINT_STYLEA(0,"ItemType",4),t.NewPageA(),t.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),n?t.PREVIEW():t.PRINT()}}]),n}()).\u0275fac=function(n){return new(n||vn)(u.Tb(rn),u.Tb(P.e),u.Tb(an.b))},vn.\u0275cmp=u.Nb({type:vn,selectors:[["app-print"]],decls:10,vars:2,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage",4,"ngIf"],["nz-form","",4,"ngIf"],[3,"nzType","nzMessage"],["message",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-form",""],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModel","ngModelChange"],["nz-button","",3,"click"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u6253\u5370\u673a","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u7eb8\u5f20\u7c7b\u578b","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModel","ngModelChange"],["nz-input","","name","html","nzAutosize","",3,"ngModel","ngModelChange"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"nzLoading","click"],[3,"nzLabel","nzValue"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," Lodop\u6253\u5370 "),u.Zb(3,"small"),u.Pc(4,"\u66f4\u591a\u4f53\u9a8c\u8bf7\u81f3 "),u.Zb(5,"a",1),u.Pc(6,"ng-alain.com"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(7,"nz-card"),u.Nc(8,hn,3,2,"nz-alert",2),u.Nc(9,gn,36,20,"form",3),u.Yb()),2&n&&(u.Db(8),u.sc("ngIf",t.error),u.Db(1),u.sc("ngIf",!t.error))},directives:[p.a,r.n,sn.a,ln.v,ln.o,ln.p,un.b,f.c,un.c,f.a,un.d,un.a,bn.c,bn.b,ln.b,ln.n,ln.q,h.a,d.a,m.a,fn.e,r.m,bn.a,fn.a],encapsulation:2}),vn),kn=e("dMCN"),Yn=e("z4wI"),Zn=function(){return{standalone:!0}},_n=((zn=function n(){_classCallCheck(this,n),this.value="https://ng-alain.com/",this.background="#ffffff",this.backgroundAlpha=1,this.foreground="#000000",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=10,this.size=220}).\u0275fac=function(n){return new(n||zn)},zn.\u0275cmp=u.Nb({type:zn,selectors:[["app-qr"]],decls:54,vars:59,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/qr","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[2,"border","1px solid #999",3,"value","background","backgroundAlpha","foreground","foregroundAlpha","level","mime","padding","size"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],["nzValue","image/png","nzLabel","image/png"],["nzValue","image/jpeg","nzLabel","image/jpeg"],["nzValue","image/gif","nzLabel","image/gif"],[3,"ngModel","ngModelOptions","nzMin","nzMax","ngModelChange"],[3,"ngModel","ngModelOptions","nzMin","nzMax","nzStep","ngModelChange"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," \u4e8c\u7ef4\u7801 "),u.Zb(3,"a",1),u.Pc(4,"Document"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"nz-card"),u.Zb(6,"nz-row",2),u.Zb(7,"nz-col",3),u.Ub(8,"qr",4),u.Yb(),u.Zb(9,"nz-col",5),u.Zb(10,"form",6),u.Zb(11,"nz-form-item"),u.Zb(12,"nz-form-label",5),u.Pc(13,"\u80cc\u666f"),u.Yb(),u.Zb(14,"nz-form-control",5),u.Zb(15,"nz-input-group"),u.Zb(16,"input",7),u.hc("ngModelChange",(function(n){return t.background=n})),u.Yb(),u.Zb(17,"nz-input-number",8),u.hc("ngModelChange",(function(n){return t.backgroundAlpha=n})),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(18,"nz-form-item"),u.Zb(19,"nz-form-label",5),u.Pc(20,"\u524d\u666f"),u.Yb(),u.Zb(21,"nz-form-control",5),u.Zb(22,"nz-input-group"),u.Zb(23,"input",7),u.hc("ngModelChange",(function(n){return t.foreground=n})),u.Yb(),u.Zb(24,"nz-input-number",8),u.hc("ngModelChange",(function(n){return t.foregroundAlpha=n})),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(25,"nz-form-item"),u.Zb(26,"nz-form-label",5),u.Pc(27,"\u8bef\u5dee"),u.Yb(),u.Zb(28,"nz-form-control",5),u.Zb(29,"nz-select",9),u.hc("ngModelChange",(function(n){return t.level=n})),u.Ub(30,"nz-option",10),u.Ub(31,"nz-option",11),u.Ub(32,"nz-option",12),u.Ub(33,"nz-option",13),u.Yb(),u.Yb(),u.Yb(),u.Zb(34,"nz-form-item"),u.Zb(35,"nz-form-label",5),u.Pc(36,"Mime"),u.Yb(),u.Zb(37,"nz-form-control",5),u.Zb(38,"nz-select",9),u.hc("ngModelChange",(function(n){return t.mime=n})),u.Ub(39,"nz-option",14),u.Ub(40,"nz-option",15),u.Ub(41,"nz-option",16),u.Yb(),u.Yb(),u.Yb(),u.Zb(42,"nz-form-item"),u.Zb(43,"nz-form-label",5),u.Pc(44,"\u5185\u8fb9\u8ddd"),u.Yb(),u.Zb(45,"nz-form-control",5),u.Zb(46,"nz-input-number",17),u.hc("ngModelChange",(function(n){return t.padding=n})),u.Yb(),u.Pc(47,"px "),u.Yb(),u.Yb(),u.Zb(48,"nz-form-item"),u.Zb(49,"nz-form-label",5),u.Pc(50,"\u5927\u5c0f"),u.Yb(),u.Zb(51,"nz-form-control",5),u.Zb(52,"nz-input-number",18),u.hc("ngModelChange",(function(n){return t.size=n})),u.Yb(),u.Pc(53,"px "),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&n&&(u.Db(6),u.sc("nzGutter",24),u.Db(1),u.sc("nzSpan",8),u.Db(1),u.sc("value",t.value)("background",t.background)("backgroundAlpha",t.backgroundAlpha)("foreground",t.foreground)("foregroundAlpha",t.foregroundAlpha)("level",t.level)("mime",t.mime)("padding",t.padding)("size",t.size),u.Db(1),u.sc("nzSpan",16),u.Db(3),u.sc("nzSpan",8),u.Db(2),u.sc("nzSpan",16),u.Db(2),u.sc("ngModel",t.background)("ngModelOptions",u.vc(51,Zn)),u.Db(1),u.sc("ngModel",t.backgroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",u.vc(52,Zn)),u.Db(2),u.sc("nzSpan",8),u.Db(2),u.sc("nzSpan",16),u.Db(2),u.sc("ngModel",t.foreground)("ngModelOptions",u.vc(53,Zn)),u.Db(1),u.sc("ngModel",t.foregroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",u.vc(54,Zn)),u.Db(2),u.sc("nzSpan",8),u.Db(2),u.sc("nzSpan",16),u.Db(1),u.sc("ngModel",t.level)("ngModelOptions",u.vc(55,Zn)),u.Db(6),u.sc("nzSpan",8),u.Db(2),u.sc("nzSpan",16),u.Db(1),u.sc("ngModel",t.mime)("ngModelOptions",u.vc(56,Zn)),u.Db(5),u.sc("nzSpan",8),u.Db(2),u.sc("nzSpan",16),u.Db(1),u.sc("ngModel",t.padding)("ngModelOptions",u.vc(57,Zn))("nzMin",0)("nzMax",100),u.Db(3),u.sc("nzSpan",8),u.Db(2),u.sc("nzSpan",16),u.Db(1),u.sc("ngModel",t.size)("ngModelOptions",u.vc(58,Zn))("nzMin",100)("nzMax",1e3)("nzStep",t.padding))},directives:[p.a,f.c,f.a,kn.a,ln.v,ln.o,ln.p,un.b,un.c,un.d,un.a,bn.c,bn.b,ln.b,ln.n,ln.q,Yn.a,fn.e,fn.a],encapsulation:2}),zn),Cn=e("T//C"),Dn=e("O3k0"),Sn=e("Nqz0"),Mn=e("FwiY"),Pn=e("Q8cG"),wn=e("DOVM"),Tn=function(){return[0,0,0,0]};function xn(n,t){if(1&n&&u.Ub(0,"g2-mini-bar",21),2&n){var e=u.kc();u.sc("padding",u.vc(2,Tn))("data",e.events)}}var On,Nn,An,En,jn=function(n){return{params:n}},Rn=function(){return{list:"results"}},Ln=function(n){return{reName:n}},In=((On=function(){function n(t,e){var o=this;_classCallCheck(this,n),this.http=t,this.message=e,this.ps=20,this.total=200,this.args={_allow_anonymous:!0},this.url="https://api.randomuser.me/?results=20",this.events=[],this.scroll={y:"230px"},this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:function(n){return"".concat(n.name.first," ").concat(n.name.last)},type:"link",click:function(n){return o.message.info("".concat(n.name.first))}},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:function(n){return o.message.info("edit [".concat(n.id.value,"]"))},if:function(n){return"female"===n.gender}},{text:"Delete",type:"del",click:function(n){return o.message.info("deleted [".concat(n.id.value,"]"))}}]}]}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.http.get("/chart/visit").subscribe((function(t){return n.events=t.slice(0,8)}))}},{key:"fullChange",value:function(n){this.scroll=n?{y:"350px"}:{y:"230px"}}}]),n}()).\u0275fac=function(n){return new(n||On)(u.Tb(b.r),u.Tb(P.e))},On.\u0275cmp=u.Nb({type:On,selectors:[["app-st"]],decls:43,vars:18,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModel","ngModelChange"],["nz-button","",3,"nzType","nzLoading","click"],["nz-button","",3,"disabled","click"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["exportMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st",""],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(n,t){if(1&n){var e=u.ac();u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," Fullscreen & ST "),u.Zb(3,"small"),u.Pc(4,"\u4f7f\u7528 "),u.Zb(5,"a",1),u.Pc(6,"st"),u.Yb(),u.Pc(7,"\u3001 "),u.Zb(8,"a",2),u.Pc(9,"full-content"),u.Yb(),u.Pc(10," \u7ec4\u5408\uff0c\u7531\u4e8e nz-table \u56fa\u5b9a\u8868\u5934\u6682\u4e0d\u652f\u6301\u81ea\u9002\u5e94\uff0c\u56e0\u6b64\u8868\u683c\u7684\u5c55\u793a\u7684\u6548\u679c\u5728\u54cd\u5e94\u5f0f\u91cc\u9762\u6548\u679c\u5e76\u4e0d\u662f\u7279\u522b\u597d\u3002"),u.Yb(),u.Yb(),u.Yb(),u.Zb(11,"full-content",3),u.hc("fullscreenChange",(function(n){return t.fullChange(n)})),u.Zb(12,"nz-card"),u.Zb(13,"div",4),u.Zb(14,"div",5),u.Zb(15,"form",6),u.Zb(16,"se",7),u.Zb(17,"input",8),u.hc("ngModelChange",(function(n){return t.args.userid=n})),u.Yb(),u.Yb(),u.Zb(18,"se"),u.Zb(19,"button",9),u.hc("click",(function(){return u.Fc(e),u.Cc(41).load()})),u.Pc(20,"Search"),u.Yb(),u.Zb(21,"button",10),u.hc("click",(function(){return u.Fc(e),u.Cc(41).load(1,{_allow_anonymous:!0})})),u.Pc(22,"Clear"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(23,"div",5),u.Zb(24,"div",11),u.Zb(25,"button",12),u.Zb(26,"span"),u.Pc(27,"Export"),u.Yb(),u.Ub(28,"i",13),u.Yb(),u.Zb(29,"nz-dropdown-menu",null,14),u.Zb(31,"ul",15),u.Zb(32,"li",16),u.Pc(33,"Excel"),u.Yb(),u.Zb(34,"li",16),u.Pc(35,"JSON"),u.Yb(),u.Zb(36,"li",16),u.Pc(37,"PNG"),u.Yb(),u.Yb(),u.Yb(),u.Zb(38,"button",17),u.Pc(39,"Full"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(40,"st",18,19),u.Nc(42,xn,1,3,"ng-template",20),u.Yb(),u.Yb(),u.Yb()}if(2&n){var o=u.Cc(30);u.Db(17),u.sc("ngModel",t.args.userid),u.Db(2),u.sc("nzType","primary")("nzLoading",t.http.loading),u.Db(2),u.sc("disabled",t.http.loading),u.Db(4),u.sc("nzDropdownMenu",o),u.Db(13),u.sc("nzType","default"),u.Db(2),u.sc("data",t.url)("req",u.wc(13,jn,t.args))("res",u.wc(16,Ln,u.vc(15,Rn)))("total",t.total)("ps",t.ps)("columns",t.columns)("scroll",t.scroll)}},directives:[Cn.a,p.a,f.c,f.a,ln.v,ln.o,ln.p,un.b,Dn.b,Dn.a,bn.b,ln.b,ln.n,ln.q,h.a,d.a,m.a,Sn.d,Sn.b,Mn.a,Sn.e,Pn.c,Pn.e,Cn.c,q.a,q.c,wn.a],encapsulation:2}),On),Fn=function(){return{standalone:!0}},Bn=((Nn=function(){function n(t){_classCallCheck(this,n),this.messageSrv=t,this.format_str="this is ${name}",this.format_res="",this.format_obj=JSON.stringify({name:"asdf"}),this.content="time ".concat(+new Date,"\n\n    \u4e2d\u6587\uff01@#\uffe5%\u2026\u2026&*")}return _createClass(n,[{key:"onFormat",value:function(){var n=null;try{n=JSON.parse(this.format_obj)}catch(t){return void this.messageSrv.error("\u65e0\u6cd5\u4f7f\u7528 JSON.parse \u8f6c\u6362")}this.format_res=Object(z.n)(this.format_str,n,!0)}},{key:"onYuan",value:function(n){this.yuan_res=Object(a.c)(n)}},{key:"onCopy",value:function(){var n=this;Object(z.g)("time ".concat(+new Date)).then((function(){return n.messageSrv.success("success")}))}}]),n}()).\u0275fac=function(n){return new(n||Nn)(u.Tb(P.e))},Nn.\u0275cmp=u.Nb({type:Nn,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5b57\u7b26\u4e32\u7c7b"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModel","ngModelChange"],[3,"innerHTML"],["nzTitle","\u5176\u5b83\u7c7b"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," \u5de5\u5177\u96c6 "),u.Zb(3,"small"),u.Pc(4,"@delon/util \u65e5\u5e38\u7528\u6cd5\u3002"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"nz-row",1),u.Zb(6,"nz-col",2),u.Zb(7,"nz-card",3),u.Zb(8,"nz-card",4),u.Zb(9,"form",5),u.Zb(10,"nz-form-item"),u.Zb(11,"nz-form-label",6),u.Pc(12,"String"),u.Yb(),u.Zb(13,"nz-form-control",6),u.Zb(14,"input",7),u.hc("ngModelChange",(function(n){return t.format_str=n})),u.Yb(),u.Yb(),u.Yb(),u.Zb(15,"nz-form-item"),u.Zb(16,"nz-form-label",6),u.Pc(17,"Object"),u.Yb(),u.Zb(18,"nz-form-control",6),u.Zb(19,"input",7),u.hc("ngModelChange",(function(n){return t.format_obj=n})),u.Yb(),u.Yb(),u.Yb(),u.Zb(20,"nz-form-item"),u.Zb(21,"nz-form-control",8),u.Zb(22,"button",9),u.hc("click",(function(){return t.onFormat()})),u.Pc(23,"Run"),u.Yb(),u.Yb(),u.Yb(),u.Zb(24,"nz-form-item"),u.Zb(25,"nz-form-label",6),u.Pc(26,"Result"),u.Yb(),u.Zb(27,"nz-form-control",6),u.Pc(28),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(29,"nz-card",10),u.Zb(30,"nz-row",1),u.Zb(31,"nz-col",2),u.Zb(32,"input",11),u.hc("ngModelChange",(function(n){return t.yuan_str=n}))("ngModelChange",(function(n){return t.onYuan(n)})),u.Yb(),u.Yb(),u.Zb(33,"nz-col",2),u.Ub(34,"div",12),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(35,"nz-col",2),u.Zb(36,"nz-card",13),u.Zb(37,"button",9),u.hc("click",(function(){return t.onCopy()})),u.Pc(38,"Copy"),u.Yb(),u.Yb(),u.Yb(),u.Yb()),2&n&&(u.Db(5),u.sc("nzGutter",16),u.Db(1),u.sc("nzSpan",12),u.Db(5),u.sc("nzSm",8),u.Db(2),u.sc("nzSm",16),u.Db(1),u.sc("ngModel",t.format_str)("ngModelOptions",u.vc(21,Fn)),u.Db(2),u.sc("nzSm",8),u.Db(2),u.sc("nzSm",16),u.Db(1),u.sc("ngModel",t.format_obj)("ngModelOptions",u.vc(22,Fn)),u.Db(2),u.sc("nzSpan",16)("nzOffset",8),u.Db(4),u.sc("nzSm",8),u.Db(2),u.sc("nzSm",16),u.Db(1),u.Rc(" ",t.format_res," "),u.Db(2),u.sc("nzGutter",16),u.Db(1),u.sc("nzSpan",12),u.Db(1),u.sc("ngModel",t.yuan_str),u.Db(1),u.sc("nzSpan",12),u.Db(1),u.sc("innerHTML",t.yuan_res,u.Gc),u.Db(1),u.sc("nzSpan",12))},directives:[f.c,f.a,p.a,ln.v,ln.o,ln.p,un.b,un.c,un.d,un.a,bn.b,ln.b,ln.n,ln.q,h.a,d.a,m.a,ln.r],encapsulation:2}),Nn),Gn=e("updA"),qn=((An=function(){function n(t){_classCallCheck(this,n),this.xlsx=t,this.users=Array(100).fill({}).map((function(n,t){return{id:t+1,name:"name ".concat(t+1),age:Math.ceil(10*Math.random())+20}})),this.columns=[{title:"\u7f16\u53f7",index:"id",type:"checkbox"},{title:"\u59d3\u540d",index:"name"},{title:"\u5e74\u9f84",index:"age"}]}return _createClass(n,[{key:"url",value:function(){var n=this;this.xlsx.import("./assets/tmp/demo.xlsx").then((function(t){return n.data=t}))}},{key:"change",value:function(n){var t=this;this.xlsx.import(n.target.files[0]).then((function(n){return t.data=n}))}},{key:"download",value:function(){var n=this,t=[this.columns.map((function(n){return n.title}))];this.users.forEach((function(e){return t.push(n.columns.map((function(n){return e[n.index]})))})),this.xlsx.export({sheets:[{data:t,name:"sheet name"}]})}}]),n}()).\u0275fac=function(n){return new(n||An)(u.Tb(Gn.a))},An.\u0275cmp=u.Nb({type:An,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," Import & Export excel file, "),u.Zb(3,"a",1),u.Pc(4,"Document"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"nz-card",2),u.Zb(6,"button",3),u.hc("click",(function(){return t.url()})),u.Pc(7,"Via Url"),u.Yb(),u.Zb(8,"input",4),u.hc("change",(function(n){return t.change(n)})),u.Yb(),u.Zb(9,"p",5),u.Pc(10),u.lc(11,"json"),u.Yb(),u.Yb(),u.Zb(12,"nz-card",6),u.Zb(13,"button",3),u.hc("click",(function(){return t.download()})),u.Pc(14,"Export"),u.Yb(),u.Ub(15,"st",7),u.Yb()),2&n&&(u.Db(10),u.Rc("result: ",u.mc(11,4,t.data),""),u.Db(5),u.sc("data",t.users)("ps",3)("columns",t.columns))},directives:[p.a,h.a,d.a,m.a,q.a],pipes:[r.h],encapsulation:2}),An),Un=e("Iab2"),Vn=((En=function(){function n(t,e,o){_classCallCheck(this,n),this.http=t,this.lazy=e,this.cog=o.merge("zip",{url:"//cdn.bootcss.com/jszip/3.3.0/jszip.min.js",utils:[]})}return _createClass(n,[{key:"init",value:function(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}},{key:"check",value:function(n){if(!n)throw new Error("get instance via `ZipService.create()`")}},{key:"read",value:function(n,t){var e=this;return new Promise((function(o,i){e.init().then((function(){if("string"!=typeof n){var c=new FileReader;c.onload=function(n){JSZip.loadAsync(n.target.result,t).then((function(n){return o(n)}))},c.readAsBinaryString(n)}else e.http.request("GET",n,{responseType:"arraybuffer"}).subscribe((function(n){JSZip.loadAsync(n,t).then((function(n){return o(n)}))}),(function(n){i(n)}))}))}))}},{key:"create",value:function(){var n=this;return new Promise((function(t){n.init().then((function(){var n=new JSZip;t(n)}))}))}},{key:"pushUrl",value:function(n,t,e){var o=this;return this.check(n),new Promise((function(i,c){o.http.request("GET",e,{responseType:"arraybuffer"}).subscribe((function(e){n.file(t,e),i()}),(function(n){c({url:e,error:n})}))}))}},{key:"save",value:function(n,t){this.check(n);var e=Object.assign({},t);return new Promise((function(t,o){n.generateAsync(Object.assign({type:"blob"},e.options),e.update).then((function(n){e.callback&&e.callback(n),Object(Un.saveAs)(n,e.filename||"download.zip"),t()}),(function(n){o(n)}))}))}}]),n}()).\u0275fac=function(n){return new(n||En)(u.dc(v.c),u.dc(z.f),u.dc(z.b))},En.\u0275prov=Object(u.Pb)({factory:function(){return new En(Object(u.dc)(v.c),Object(u.dc)(z.f),Object(u.dc)(z.b))},token:En,providedIn:"root"}),En),Jn=e("rMZv");function Hn(n,t){if(1&n&&(u.Zb(0,"li"),u.Pc(1),u.lc(2,"json"),u.Yb()),2&n){var e=t.$implicit;u.Db(1),u.Qc(u.mc(2,1,e))}}function Xn(n,t){if(1&n){var e=u.ac();u.Zb(0,"tr"),u.Zb(1,"td"),u.Zb(2,"input",11),u.hc("ngModelChange",(function(n){return u.Fc(e),t.$implicit.path=n})),u.Yb(),u.Yb(),u.Zb(3,"td"),u.Zb(4,"input",11),u.hc("ngModelChange",(function(n){return u.Fc(e),t.$implicit.url=n})),u.Yb(),u.Yb(),u.Yb()}if(2&n){var o=t.$implicit,i=t.index;u.Db(2),u.uc("name","path",i,""),u.sc("ngModel",o.path),u.Db(2),u.uc("name","url",i,""),u.sc("ngModel",o.url)}}function Kn(n,t){if(1&n){var e=u.ac();u.Zb(0,"nz-card",7),u.Zb(1,"button",8),u.hc("click",(function(){return u.Fc(e),u.kc().data.push({})})),u.Pc(2,"new"),u.Yb(),u.Zb(3,"button",9),u.hc("click",(function(){return u.Fc(e),u.kc().download()})),u.Pc(4,"download"),u.Yb(),u.Zb(5,"nz-table",10),u.Zb(6,"thead"),u.Zb(7,"tr"),u.Zb(8,"th"),u.Zb(9,"span"),u.Pc(10,"path"),u.Yb(),u.Yb(),u.Zb(11,"th"),u.Zb(12,"span"),u.Pc(13,"url"),u.Yb(),u.Yb(),u.Yb(),u.Yb(),u.Zb(14,"tbody"),u.Nc(15,Xn,5,4,"tr",5),u.Yb(),u.Yb(),u.Yb()}if(2&n){var o=u.kc();u.Db(1),u.sc("nzType","primary"),u.Db(4),u.sc("nzData",o.data)("nzFrontPagination",!1)("nzShowPagination",!1),u.Db(10),u.sc("ngForOf",o.data)}}var $n,Qn,Wn,nt=[{path:"st",component:In},{path:"util",component:Bn},{path:"print",component:yn},{path:"acl",component:g},{path:"guard",component:tn,children:[{path:"leave",component:on,canDeactivate:[$]},{path:"auth",component:X,canActivate:[l.b],data:{guard:"user1"}},{path:"admin",component:H,canActivate:[l.b],data:{guard:"admin"}}]},{path:"cache",component:w},{path:"qr",component:_n},{path:"downfile",component:F},{path:"xlsx",component:qn},{path:"zip",component:($n=function(){function n(t,e){var o=this;_classCallCheck(this,n),this.zip=t,this.msg=e,this.instance=null,this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5c0f\u7a0b\u5e8f\u6807\u5fd7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}],this.zip.create().then((function(n){return o.instance=n}))}return _createClass(n,[{key:"format",value:function(n){var t=n.files;this.list=Object.keys(t).map((function(n){return{name:n,dir:t[n].dir,date:t[n].date}}))}},{key:"url",value:function(){var n=this;this.zip.read("./assets/tmp/demo.zip").then((function(t){return n.format(t)}))}},{key:"change",value:function(n){var t=this;this.zip.read(n.target.files[0]).then((function(n){return t.format(n)}))}},{key:"download",value:function(){var n=this,t=[];this.data.forEach((function(e){t.push(n.zip.pushUrl(n.instance,e.path,e.url))})),Promise.all(t).then((function(){n.zip.save(n.instance).then((function(){n.msg.success("download success"),n.data=[]}))}),(function(t){console.warn(t),n.msg.error(JSON.stringify(t))}))}}]),n}(),$n.\u0275fac=function(n){return new(n||$n)(u.Tb(Vn),u.Tb(P.e))},$n.\u0275cmp=u.Nb({type:$n,selectors:[["app-zip"]],decls:12,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89e3\u538b"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[4,"ngFor","ngForOf"],["nzTitle","\u538b\u7f29",4,"ngIf"],["nzTitle","\u538b\u7f29"],["nz-button","",3,"nzType","click"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModel","name","ngModelChange"]],template:function(n,t){1&n&&(u.Zb(0,"div",0),u.Zb(1,"h1"),u.Pc(2," Read & Write zip file, "),u.Zb(3,"a",1),u.Pc(4,"Document"),u.Yb(),u.Yb(),u.Yb(),u.Zb(5,"nz-card",2),u.Zb(6,"button",3),u.hc("click",(function(){return t.url()})),u.Pc(7,"Via Url"),u.Yb(),u.Zb(8,"input",4),u.hc("change",(function(n){return t.change(n)})),u.Yb(),u.Zb(9,"ol"),u.Nc(10,Hn,3,3,"li",5),u.Yb(),u.Yb(),u.Nc(11,Kn,16,5,"nz-card",6)),2&n&&(u.Db(10),u.sc("ngForOf",t.list),u.Db(1),u.sc("ngIf",t.instance))},directives:[p.a,h.a,d.a,m.a,r.m,r.n,Jn.c,Jn.k,Jn.l,Jn.b,Jn.j,Jn.g,bn.b,ln.b,ln.n,ln.q],pipes:[r.h],encapsulation:2}),$n)},{path:"form",component:J}],tt=((Wn=function n(){_classCallCheck(this,n)}).\u0275mod=u.Rb({type:Wn}),Wn.\u0275inj=u.Qb({factory:function(n){return new(n||Wn)},imports:[[s.o.forChild(nt)],s.o]}),Wn),et=((Qn=function n(){_classCallCheck(this,n)}).\u0275mod=u.Rb({type:Qn}),Qn.\u0275inj=u.Qb({factory:function(n){return new(n||Qn)},providers:[$],imports:[[r.c,a.b,tt]]}),Qn)}}]);