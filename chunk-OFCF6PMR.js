import{$a as Xe,O as Ze,Q as Qe,ab as Ye}from"./chunk-7ARIWAEL.js";import{Ac as $e,B as j,Ba as B,Cc as ke,Ea as p,Eb as te,Ed as Me,F as Ce,Fa as I,Fb as de,Gb as M,If as Ve,Jf as je,Kf as Ae,Lf as Be,Ma as Te,Mf as ge,Na as d,Nb as C,Nf as oe,Oa as U,Of as ze,Pa as s,Qa as X,Ra as P,Sf as qe,U as k,Ua as le,Uf as He,V as O,Va as be,Vb as me,W as ye,Wb as $,Xb as _e,a as H,aa as xe,ac as ue,bb as g,cb as z,da as A,db as L,eb as T,ec as Ue,fa as Z,fb as b,fc as Le,ga as ve,gb as Ie,gc as fe,h as re,hb as N,hc as Fe,ic as Ne,j as S,jc as Se,k as W,kb as F,kc as Re,kd as ne,la as ae,lc as he,ma as v,mb as l,na as w,nb as pe,ob as ce,od as Pe,pg as We,s as E,sb as Y,ta as se,tb as G,tc as De,ua as Q,ub as J,va as we,vb as f,vd as ie,w as V,wb as K,xc as Ee,yb as ee,yc as Oe}from"./chunk-GWONNR5K.js";var et=["file"],tt=["nz-upload-btn",""],Je=["*"],q=n=>({$implicit:n}),nt=()=>({opacity:.5,"pointer-events":"none"});function it(n,r){}function ot(n,r){if(n&1&&(g(0,"div",20),d(1,it,0,0,"ng-template",21),z()),n&2){let i=l(2).$implicit,e=f(5);P("ant-upload-list-item-file",!i.isUploading),p(),s("ngTemplateOutlet",e)("ngTemplateOutletContext",M(4,q,i))}}function rt(n,r){if(n&1&&L(0,"img",24),n&2){let i=l(3).$implicit;s("src",i.thumbUrl||i.url,B),U("alt",i.name)}}function at(n,r){if(n&1){let i=N();g(0,"a",22),F("click",function(t){v(i);let o=l(2).$implicit,a=l();return w(a.handlePreview(o,t))}),d(1,rt,1,2,"img",23),z()}if(n&2){l();let i=f(5),e=l().$implicit;P("ant-upload-list-item-file",!e.isImageUrl),s("href",e.url||e.thumbUrl,B),p(),s("ngIf",e.isImageUrl)("ngIfElse",i)}}function st(n,r){}function lt(n,r){if(n&1&&(g(0,"div",25),d(1,st,0,0,"ng-template",21),z()),n&2){let i=l(2).$implicit,e=f(5);p(),s("ngTemplateOutlet",e)("ngTemplateOutletContext",M(2,q,i))}}function pt(n,r){}function ct(n,r){if(n&1&&d(0,pt,0,0,"ng-template",21),n&2){let i=l(2).$implicit,e=f(5);s("ngTemplateOutlet",e)("ngTemplateOutletContext",M(2,q,i))}}function dt(n,r){if(n&1&&(T(0,16),d(1,ot,2,6,"div",17)(2,at,2,5,"a",18)(3,lt,2,4,"div",19),b(),d(4,ct,1,4,"ng-template",null,6,C)),n&2){let i=l().$implicit;s("ngSwitch",i.iconType),p(),s("ngSwitchCase","uploading"),p(),s("ngSwitchCase","thumbnail")}}function mt(n,r){n&1&&(T(0),L(1,"span",29),b())}function _t(n,r){if(n&1&&(T(0),d(1,mt,2,0,"ng-container",26),b()),n&2){let i=l(2).$implicit,e=f(4);p(),s("ngIf",i.isUploading)("ngIfElse",e)}}function ut(n,r){if(n&1&&(T(0),K(1),b()),n&2){let i=l(5);p(),ee(" ",i.locale.uploading," ")}}function ft(n,r){if(n&1&&(T(0),d(1,ut,2,1,"ng-container",26),b()),n&2){let i=l(2).$implicit,e=f(4);p(),s("ngIf",i.isUploading)("ngIfElse",e)}}function ht(n,r){if(n&1&&L(0,"span",30),n&2){let i=l(2).$implicit;s("nzType",i.isUploading?"loading":"paper-clip")}}function gt(n,r){if(n&1&&(T(0)(1,16),d(2,_t,2,2,"ng-container",27)(3,ft,2,2,"ng-container",27)(4,ht,1,1,"span",28),b()()),n&2){let i=l(3);p(),s("ngSwitch",i.listType),p(),s("ngSwitchCase","picture"),p(),s("ngSwitchCase","picture-card")}}function zt(n,r){}function Ct(n,r){if(n&1&&L(0,"span",31),n&2){let i=l().$implicit;s("nzType",i.isImageUrl?"picture":"file")}}function yt(n,r){if(n&1&&d(0,gt,5,3,"ng-container",26)(1,zt,0,0,"ng-template",21,7,C)(3,Ct,1,1,"ng-template",null,8,C),n&2){let i=r.$implicit,e=f(2),t=l(2);s("ngIf",!t.iconRender)("ngIfElse",e),p(),s("ngTemplateOutlet",t.iconRender)("ngTemplateOutletContext",M(4,q,i))}}function xt(n,r){if(n&1){let i=N();g(0,"button",33),F("click",function(t){v(i);let o=l(2).$implicit,a=l();return w(a.handleRemove(o,t))}),L(1,"span",34),z()}if(n&2){let i=l(3);U("title",i.locale.removeFile)}}function vt(n,r){if(n&1&&d(0,xt,2,1,"button",32),n&2){let i=l(2);s("ngIf",i.icons.showRemoveIcon)}}function wt(n,r){if(n&1){let i=N();g(0,"button",33),F("click",function(){v(i);let t=l(2).$implicit,o=l();return w(o.handleDownload(t))}),L(1,"span",35),z()}if(n&2){let i=l(3);U("title",i.locale.downloadFile)}}function Tt(n,r){if(n&1&&d(0,wt,2,1,"button",32),n&2){let i=l().$implicit;s("ngIf",i.showDownload)}}function bt(n,r){}function It(n,r){}function Ut(n,r){if(n&1&&(g(0,"span"),d(1,bt,0,0,"ng-template",13)(2,It,0,0,"ng-template",13),z()),n&2){l(2);let i=f(7),e=f(9),t=l();le("ant-upload-list-item-card-actions ",t.listType==="picture"?"picture":"",""),p(),s("ngTemplateOutlet",e),p(),s("ngTemplateOutlet",i)}}function Lt(n,r){if(n&1&&d(0,Ut,3,5,"span",36),n&2){let i=l(2);s("ngIf",i.listType!=="picture-card")}}function Ft(n,r){if(n&1){let i=N();g(0,"a",39),F("click",function(t){v(i);let o=l(2).$implicit,a=l();return w(a.handlePreview(o,t))}),K(1),z()}if(n&2){let i=l(2).$implicit;s("href",i.url,B),U("title",i.name)("download",i.linkProps&&i.linkProps.download),p(),ee(" ",i.name," ")}}function Nt(n,r){if(n&1){let i=N();g(0,"span",40),F("click",function(t){v(i);let o=l(2).$implicit,a=l();return w(a.handlePreview(o,t))}),K(1),z()}if(n&2){let i=l(2).$implicit;U("title",i.name),p(),ee(" ",i.name," ")}}function St(n,r){}function Rt(n,r){if(n&1&&d(0,Ft,2,4,"a",37)(1,Nt,2,2,"span",38)(2,St,0,0,"ng-template",13),n&2){let i=l().$implicit,e=f(11);s("ngIf",i.url),p(),s("ngIf",!i.url),p(),s("ngTemplateOutlet",e)}}function Dt(n,r){}function Et(n,r){}function Ot(n,r){if(n&1){let i=N();g(0,"a",44),F("click",function(t){v(i);let o=l(2).$implicit,a=l();return w(a.handlePreview(o,t))}),L(1,"span",45),z()}if(n&2){let i=l(2).$implicit,e=l();s("href",i.url||i.thumbUrl,B)("ngStyle",i.url||i.thumbUrl?null:de(3,nt)),U("title",e.locale.previewFile)}}function $t(n,r){}function kt(n,r){if(n&1&&(T(0),d(1,$t,0,0,"ng-template",13),b()),n&2){l(2);let i=f(9);p(),s("ngTemplateOutlet",i)}}function Pt(n,r){}function Mt(n,r){if(n&1&&(g(0,"span",41),d(1,Ot,2,4,"a",42)(2,kt,2,1,"ng-container",43)(3,Pt,0,0,"ng-template",13),z()),n&2){let i=l().$implicit,e=f(7),t=l();p(),s("ngIf",t.icons.showPreviewIcon),p(),s("ngIf",i.status==="done"),p(),s("ngTemplateOutlet",e)}}function Vt(n,r){if(n&1&&(g(0,"div",46),L(1,"nz-progress",47),z()),n&2){let i=l().$implicit;p(),s("nzPercent",i.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function jt(n,r){if(n&1&&(g(0,"div")(1,"div",10),d(2,dt,6,3,"ng-template",null,0,C)(4,yt,5,6,"ng-template",null,1,C)(6,vt,1,1,"ng-template",null,2,C)(8,Tt,1,1,"ng-template",null,3,C)(10,Lt,1,1,"ng-template",null,4,C)(12,Rt,3,3,"ng-template",null,5,C),g(14,"div",11)(15,"span",12),d(16,Dt,0,0,"ng-template",13)(17,Et,0,0,"ng-template",13),z()(),d(18,Mt,4,3,"span",14)(19,Vt,2,3,"div",15),z()()),n&2){let i=r.$implicit,e=f(3),t=f(13),o=l();le("ant-upload-list-",o.listType,"-container"),p(),be("ant-upload-list-item ant-upload-list-item-",i.status," ant-upload-list-item-list-type-",o.listType,""),s("@itemState",void 0)("nzTooltipTitle",i.status==="error"?i.message:null),U("data-key",i.key),p(15),s("ngTemplateOutlet",e),p(),s("ngTemplateOutlet",t),p(),s("ngIf",o.listType==="picture-card"&&!i.isUploading),p(),s("ngIf",i.isUploading)}}var At=["uploadComp"],Bt=["listComp"],qt=()=>[];function Ht(n,r){if(n&1&&L(0,"nz-upload-list",10,5),n&2){let i=l(2);X("display",i.nzShowUploadList?"":"none"),s("locale",i.locale)("listType",i.nzListType)("items",i.nzFileList||de(13,qt))("icons",i.nzShowUploadList)("iconRender",i.nzIconRender)("previewFile",i.nzPreviewFile)("previewIsImage",i.nzPreviewIsImage)("onPreview",i.nzPreview)("onRemove",i.onRemove)("onDownload",i.nzDownload)("dir",i.dir)}}function Wt(n,r){n&1&&Ie(0)}function Zt(n,r){if(n&1&&(T(0),d(1,Wt,1,0,"ng-container",11),b()),n&2){let i=l(2);p(),s("ngTemplateOutlet",i.nzFileListRender)("ngTemplateOutletContext",M(2,q,i.nzFileList))}}function Qt(n,r){if(n&1&&d(0,Ht,2,14,"nz-upload-list",8)(1,Zt,2,4,"ng-container",9),n&2){let i=l();s("ngIf",i.locale&&!i.nzFileListRender),p(),s("ngIf",i.nzFileListRender)}}function Xt(n,r){n&1&&ce(0)}function Yt(n,r){}function Gt(n,r){if(n&1&&(g(0,"div",12)(1,"div",13,6),d(3,Yt,0,0,"ng-template",14),z()()),n&2){let i=l(),e=f(3);X("display",i.nzShowButton?"":"none"),s("ngClass",i.classList),p(),s("options",i._btnOptions),p(2),s("ngTemplateOutlet",e)}}function Jt(n,r){}function Kt(n,r){}function en(n,r){if(n&1){let i=N();T(0),g(1,"div",15),F("drop",function(t){v(i);let o=l();return w(o.fileDrop(t))})("dragover",function(t){v(i);let o=l();return w(o.fileDrop(t))})("dragleave",function(t){v(i);let o=l();return w(o.fileDrop(t))}),g(2,"div",16,6)(4,"div",17),d(5,Jt,0,0,"ng-template",14),z()()(),d(6,Kt,0,0,"ng-template",14),b()}if(n&2){let i=l(),e=f(1),t=f(3);p(),s("ngClass",i.classList),p(),s("options",i._btnOptions),p(3),s("ngTemplateOutlet",t),p(),s("ngTemplateOutlet",e)}}function tn(n,r){}function nn(n,r){}function on(n,r){if(n&1&&(T(0),d(1,tn,0,0,"ng-template",14)(2,nn,0,0,"ng-template",14),b()),n&2){l(2);let i=f(1),e=f(5);p(),s("ngTemplateOutlet",i),p(),s("ngTemplateOutlet",e)}}function rn(n,r){if(n&1&&d(0,on,3,2,"ng-container",7),n&2){let i=l(),e=f(10);s("ngIf",i.nzListType==="picture-card")("ngIfElse",e)}}function an(n,r){}function sn(n,r){}function ln(n,r){if(n&1&&d(0,an,0,0,"ng-template",14)(1,sn,0,0,"ng-template",14),n&2){l();let i=f(1),e=f(5);s("ngTemplateOutlet",e),p(),s("ngTemplateOutlet",i)}}var pn=(()=>{let r=class r{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(e){if(this.options.disabled||e.type==="dragover"){e.preventDefault();return}if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{let t=Array.prototype.slice.call(e.dataTransfer.files).filter(o=>this.attrAccept(o,this.options.accept));t.length&&this.uploadFiles(t)}e.preventDefault()}onChange(e){if(this.options.disabled)return;let t=e.target;this.uploadFiles(t.files),t.value=""}traverseFileTree(e){let t=(o,a)=>{o.isFile?o.file(c=>{this.attrAccept(c,this.options.accept)&&this.uploadFiles([c])}):o.isDirectory&&o.createReader().readEntries(m=>{for(let h of m)t(h,`${a}${o.name}/`)})};for(let o of e)t(o.webkitGetAsEntry(),"")}attrAccept(e,t){if(e&&t){let o=Array.isArray(t)?t:t.split(","),a=`${e.name}`,c=`${e.type}`,m=c.replace(/\/.*$/,"");return o.some(h=>{let _=h.trim();return _.charAt(0)==="."?a.toLowerCase().indexOf(_.toLowerCase(),a.toLowerCase().length-_.toLowerCase().length)!==-1:/\/\*$/.test(_)?m===_.replace(/\/.*$/,""):c===_})}return!0}attachUid(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e}uploadFiles(e){let t=E(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach(o=>{t=t.pipe(k(a=>{let c=o.fn(a);return c instanceof S?c:E(c)}))}),t.subscribe(o=>{o.forEach(a=>{this.attachUid(a),this.upload(a,o)})},o=>{ie("Unhandled upload filter error",o)})}upload(e,t){if(!this.options.beforeUpload)return this.post(e);let o=this.options.beforeUpload(e,t);if(o instanceof S)o.subscribe(a=>{let c=Object.prototype.toString.call(a);c==="[object File]"||c==="[object Blob]"?(this.attachUid(a),this.post(a)):typeof a=="boolean"&&a!==!1&&this.post(e)},a=>{ie("Unhandled upload beforeUpload error",a)});else if(o!==!1)return this.post(e)}post(e){if(this.destroy)return;let t=E(e),o,a=this.options,{uid:c}=e,{action:m,data:h,headers:_,transformFile:D}=a,x={action:typeof m=="string"?m:"",name:a.name,headers:_,file:e,postFile:e,data:h,withCredentials:a.withCredentials,onProgress:a.onProgress?u=>{a.onProgress(u,e)}:void 0,onSuccess:(u,y)=>{this.clean(c),a.onSuccess(u,e,y)},onError:u=>{this.clean(c),a.onError(u,e)}};if(typeof m=="function"){let u=m(e);u instanceof S?t=t.pipe(k(()=>u),V(y=>(x.action=y,e))):x.action=u}if(typeof D=="function"){let u=D(e);t=t.pipe(k(()=>u instanceof S?u:E(u)),ye(y=>o=y))}if(typeof h=="function"){let u=h(e);u instanceof S?t=t.pipe(k(()=>u),V(y=>(x.data=y,o??e))):x.data=u}if(typeof _=="function"){let u=_(e);u instanceof S?t=t.pipe(k(()=>u),V(y=>(x.headers=y,o??e))):x.headers=u}t.subscribe(u=>{x.postFile=u;let y=(a.customRequest||this.xhr).call(this,x);y instanceof re||ie("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[c]=y,a.onStart(e)})}xhr(e){let t=new FormData;e.data&&Object.keys(e.data).map(a=>{t.append(a,e.data[a])}),t.append(e.name,e.postFile),e.headers||(e.headers={}),e.headers["X-Requested-With"]!==null?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];let o=new Ee("POST",e.action,t,{reportProgress:!0,withCredentials:e.withCredentials,headers:new De(e.headers)});return this.http.request(o).subscribe(a=>{a.type===Oe.UploadProgress?(a.total>0&&(a.percent=a.loaded/a.total*100),e.onProgress(a,e.file)):a instanceof $e&&e.onSuccess(a.body,e.file,a)},a=>{this.abort(e.file),e.onError(a,e.file)})}clean(e){let t=this.reqs[e];t instanceof re&&t.unsubscribe(),delete this.reqs[e]}abort(e){e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach(t=>this.clean(t))}constructor(e,t){if(this.ngZone=e,this.elementRef=t,this.reqs={},this.destroy=!1,this.destroy$=new W,this.http=A(ke,{optional:!0}),!this.http)throw new Error("Not found 'HttpClient', You can configure 'HttpClient' with 'provideHttpClient()' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{j(this.elementRef.nativeElement,"click").pipe(O(this.destroy$)).subscribe(()=>this.onClick()),j(this.elementRef.nativeElement,"keydown").pipe(O(this.destroy$)).subscribe(e=>{this.options.disabled||(e.key==="Enter"||e.keyCode===13)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}};r.\u0275fac=function(t){return new(t||r)(I(Q),I(we))},r.\u0275cmp=Z({type:r,selectors:[["","nz-upload-btn",""]],viewQuery:function(t,o){if(t&1&&Y(et,7),t&2){let a;G(a=J())&&(o.file=a.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(t,o){t&1&&F("drop",function(c){return o.onFileDrop(c)})("dragover",function(c){return o.onFileDrop(c)}),t&2&&(U("tabindex","0")("role","button"),P("ant-upload-disabled",o.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[te],attrs:tt,ngContentSelectors:Je,decls:3,vars:6,consts:[["file",""],["type","file",3,"change","multiple"]],template:function(t,o){if(t&1){let a=N();pe(),g(0,"input",1,0),F("change",function(m){return v(a),w(o.onChange(m))}),z(),ce(2)}t&2&&(X("display","none"),s("multiple",o.options.multiple),U("accept",o.options.accept)("directory",o.options.directory?"directory":null)("webkitdirectory",o.options.directory?"webkitdirectory":null))},encapsulation:2});let n=r;return n})(),Ge=n=>!!n&&n.indexOf("image/")===0,R=200,Ke=(()=>{let r=class r{get showPic(){return this.listType==="picture"||this.listType==="picture-card"}set items(e){this.list=e}genErr(e){return e.response&&typeof e.response=="string"?e.response:e.error&&e.error.statusText||this.locale.uploadError}extname(e){let t=e.split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]}isImageUrl(e){if(Ge(e.type))return!0;let t=e.thumbUrl||e.url||"";if(!t)return!1;let o=this.extname(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(o)?!0:/^data:/.test(t)?!1:!o}getIconType(e){return this.showPic?e.isUploading||!e.thumbUrl&&!e.url?"uploading":"thumbnail":""}previewImage(e){if(!Ge(e.type)||!this.platform.isBrowser)return E("");let t=this.document.createElement("canvas");t.width=R,t.height=R,t.style.cssText=`position: fixed; left: 0; top: 0; width: ${R}px; height: ${R}px; z-index: 9999; display: none;`,this.document.body.appendChild(t);let o=t.getContext("2d"),a=new Image,c=URL.createObjectURL(e);return a.src=c,j(a,"load").pipe(V(()=>{let{width:m,height:h}=a,_=R,D=R,x=0,u=0;m<h?(D=h*(R/m),u=-(D-_)/2):(_=m*(R/h),x=-(_-D)/2);try{o.drawImage(a,x,u,_,D)}catch{}let y=t.toDataURL();return this.document.body.removeChild(t),URL.revokeObjectURL(c),y}))}genThumb(){if(!this.platform.isBrowser)return;let e=window;!this.showPic||typeof document>"u"||typeof e>"u"||!e.FileReader||!e.File||this.list.filter(t=>t.originFileObj instanceof File&&t.thumbUrl===void 0).forEach(t=>{t.thumbUrl="";let o=(this.previewFile?this.previewFile(t):this.previewImage(t.originFileObj)).pipe(O(this.destroy$));this.ngZone.runOutsideAngular(()=>{o.subscribe(a=>{this.ngZone.run(()=>{t.thumbUrl=a,this.detectChanges()})})})})}showDownload(e){return!!(this.icons.showDownloadIcon&&e.status==="done")}fixData(){this.list.forEach(e=>{e.isUploading=e.status==="uploading",e.message=this.genErr(e),e.linkProps=typeof e.linkProps=="string"?JSON.parse(e.linkProps):e.linkProps,e.isImageUrl=this.previewIsImage?this.previewIsImage(e):this.isImageUrl(e),e.iconType=this.getIconType(e),e.showDownload=this.showDownload(e)})}handlePreview(e,t){if(this.onPreview)return t.preventDefault(),this.onPreview(e)}handleRemove(e,t){t.preventDefault(),this.onRemove&&this.onRemove(e)}handleDownload(e){typeof this.onDownload=="function"?this.onDownload(e):e.url&&window.open(e.url)}constructor(e,t,o){this.cdr=e,this.ngZone=t,this.platform=o,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.document=A(ue),this.destroy$=new W}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}};r.\u0275fac=function(t){return new(t||r)(I(me),I(Q),I(ne))},r.\u0275cmp=Z({type:r,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(t,o){t&2&&P("ant-upload-list-rtl",o.dir==="rtl")("ant-upload-list-text",o.listType==="text")("ant-upload-list-picture",o.listType==="picture")("ant-upload-list-picture-card",o.listType==="picture-card")},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[ae,te],decls:1,vars:1,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],["noImageThumbTpl",""],["customIconRender",""],["iconNodeFileIcon",""],[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(t,o){t&1&&d(0,jt,20,14,"div",9),t&2&&s("ngForOf",o.list)},dependencies:[Le,Qe,Ze,Fe,he,fe,Se,Ne,je,Ve,He,qe,Ae,Re,Ye,Xe],encapsulation:2,data:{animation:[Be("itemState",[ze(":enter",[oe({height:"0",width:"0",opacity:0}),ge(150,oe({height:"*",width:"*",opacity:1}))]),ze(":leave",[ge(150,oe({height:"0",width:"0",opacity:0}))])])]},changeDetection:0});let n=r;return n})(),cn=(()=>{let r=class r{set nzShowUploadList(e){this._showUploadList=typeof e=="boolean"?Me(e):e}get nzShowUploadList(){return this._showUploadList}zipOptions(){typeof this.nzShowUploadList=="boolean"&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});let e=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&e.findIndex(t=>t.name==="limit")===-1&&e.push({name:"limit",fn:t=>t.slice(-this.nzLimit)}),this.nzSize>0&&e.findIndex(t=>t.name==="size")===-1&&e.push({name:"size",fn:t=>t.filter(o=>o.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&e.findIndex(t=>t.name==="type")===-1){let t=this.nzFileType.split(",");e.push({name:"type",fn:o=>o.filter(a=>~t.indexOf(a.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:e,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(e,t,o,a){this.ngZone=e,this.cdr=t,this.i18n=o,this.directionality=a,this.destroy$=new W,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.document=A(ue),this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new se,this.nzFileListChange=new se,this.platform=A(ne),this.onStart=c=>{this.nzFileList||(this.nzFileList=[]);let m=this.fileToObject(c);m.status="uploading",this.nzFileList=this.nzFileList.concat(m),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:m,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(c,m)=>{let h=this.nzFileList,_=this.getFileItem(m,h);_.percent=c.percent,this.nzChange.emit({event:c,file:H({},_),fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(c,m)=>{let h=this.nzFileList,_=this.getFileItem(m,h);_.status="done",_.response=c,this.nzChange.emit({file:H({},_),fileList:h,type:"success"}),this.detectChangesList()},this.onError=(c,m)=>{let h=this.nzFileList,_=this.getFileItem(m,h);_.error=c,_.status="error",this.nzChange.emit({file:H({},_),fileList:h,type:"error"}),this.detectChangesList()},this.onRemove=c=>{this.uploadComp.abort(c),c.status="removed";let m=typeof this.nzRemove=="function"?this.nzRemove(c):this.nzRemove==null?!0:this.nzRemove;(m instanceof S?m:E(m)).pipe(Ce(h=>h)).subscribe(()=>{this.nzFileList=this.removeFileItem(c,this.nzFileList),this.nzChange.emit({file:c,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}getFileItem(e,t){return t.filter(o=>o.uid===e.uid)[0]}removeFileItem(e,t){return t.filter(o=>o.uid!==e.uid)}fileDrop(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let e=[];this.nzType==="drag"?(this.nzFileList.some(t=>t.status==="uploading")&&e.push(`${this.prefixCls}-drag-uploading`),this.dragState==="dragover"&&e.push(`${this.prefixCls}-drag-hover`)):e=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...e,this.nzDisabled&&`${this.prefixCls}-disabled`||"",this.dir==="rtl"&&`${this.prefixCls}-rtl`||""].filter(t=>!!t),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(O(this.destroy$)).subscribe(e=>{this.dir=e,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe(O(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.platform.FIREFOX&&this.ngZone.runOutsideAngular(()=>j(this.document.body,"drop").pipe(O(this.destroy$)).subscribe(e=>{e.preventDefault(),e.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};r.\u0275fac=function(t){return new(t||r)(I(Q),I(me),I(We),I(Pe))},r.\u0275cmp=Z({type:r,selectors:[["nz-upload"]],viewQuery:function(t,o){if(t&1&&(Y(At,5),Y(Bt,5)),t&2){let a;G(a=J())&&(o.uploadComp=a.first),G(a=J())&&(o.listComp=a.first)}},hostVars:2,hostBindings:function(t,o){t&2&&P("ant-upload-picture-card-wrapper",o.nzListType==="picture-card")},inputs:{nzType:"nzType",nzLimit:[2,"nzLimit","nzLimit",_e],nzSize:[2,"nzSize","nzSize",_e],nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:[2,"nzDirectory","nzDirectory",$],nzOpenFileDialogOnClick:[2,"nzOpenFileDialogOnClick","nzOpenFileDialogOnClick",$],nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:[2,"nzDisabled","nzDisabled",$],nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:[2,"nzMultiple","nzMultiple",$],nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:[2,"nzShowButton","nzShowButton",$],nzWithCredentials:[2,"nzWithCredentials","nzWithCredentials",$],nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[Te,ae,te],ngContentSelectors:Je,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],["select",""],["pic",""],["listComp",""],["uploadComp",""],[4,"ngIf","ngIfElse"],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(t,o){if(t&1&&(pe(),d(0,Qt,2,2,"ng-template",null,0,C)(2,Xt,1,0,"ng-template",null,1,C)(4,Gt,4,5,"ng-template",null,2,C)(6,en,7,4,"ng-container",7)(7,rn,1,2,"ng-template",null,3,C)(9,ln,2,2,"ng-template",null,4,C)),t&2){let a=f(8);p(6),s("ngIf",o.nzType==="drag")("ngIfElse",a)}},dependencies:[Ke,fe,he,Ue,pn],encapsulation:2,changeDetection:0});let n=r;return n})(),jn=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=xe({imports:[cn,Ke]});let n=r;return n})();export{cn as a,jn as b};
