import{a as se}from"./chunk-4RXN6K7W.js";import{$c as W,$f as E,Ab as q,Ba as c,Bc as Y,Bd as J,Ch as pe,Db as v,Eg as ne,Fb as b,Fg as ie,Ha as a,Ia as L,Kh as ae,Lh as le,Ra as H,Rc as G,Tf as ee,Xa as w,Za as N,Zf as te,_a as j,ab as B,ag as k,ba as I,bb as V,cb as l,cc as T,db as p,dc as K,dd as Z,ea as r,eb as s,fb as m,ha as C,hc as u,ia as x,ic as Q,jb as _,jd as U,mb as y,oa as S,ob as h,pb as O,pd as X,ph as oe,qb as F,sh as re,th as ce,wa as M,wb as P,xb as A,zb as $}from"./chunk-JRYZAIIE.js";var de=["conTpl"],fe=["*"];function ge(t,i){if(t&1&&m(0,"h1",4),t&2){let e=h();l("innerHTML",e._title(),M)}}function ye(t,i){if(t&1&&(p(0,"button",8),v(1),s()),t&2){let e=h();l("routerLink",e.backRouterLink())("nzType","primary"),c(),b(" ",e.locale().backToHome," ")}}var R=(()=>{class t{dom=r(G);cogSrv=r(X);conTpl=Q.required("conTpl");locale=r(re).valueSignal("exception");dir=r(J).valueSignal;hasCon=S(!1);typeDict;typeItem=S(null);type=u(404);img=u();title=u();desc=u();backRouterLink=u("/");_img=T(()=>{let e=this.typeItem()?.img??this.img();return e==null?null:this.dom.bypassSecurityTrustStyle(`url('${e}')`)});_title=T(()=>{let e=this.typeItem()?.title??this.title();return e==null?null:this.dom.bypassSecurityTrustHtml(e)});_desc=T(()=>{let e=this.typeItem()?.desc??this.desc()??this.locale()[this.type()];return e==null?null:this.dom.bypassSecurityTrustHtml(e)});constructor(){this.cogSrv.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}}),K(()=>{let e=this.type();this.typeItem.set(this.typeDict?.[e])}),H(()=>{this.checkContent()})}checkContent(){this.hasCon.set(!pe(this.conTpl().nativeElement))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=a({type:t,selectors:[["exception"]],viewQuery:function(n,o){n&1&&P(o.conTpl,de,5),n&2&&A()},hostVars:4,hostBindings:function(n,o){n&2&&q("exception",!0)("exception-rtl",o.dir()==="rtl")},inputs:{type:[1,"type"],img:[1,"img"],title:[1,"title"],desc:[1,"desc"],backRouterLink:[1,"backRouterLink"]},exportAs:["exception"],ngContentSelectors:fe,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(n,o){if(n&1){let z=_();O(),p(0,"div",1),m(1,"div",2),s(),p(2,"div",3),w(3,ge,1,1,"h1",4),m(4,"div",5),p(5,"div",6)(6,"div",7,0),y("cdkObserveContent",function(){return C(z),x(o.checkContent())}),F(8),s(),w(9,ye,2,3,"button",8),s()()}n&2&&(c(),$("background-image",o._img()),c(2),N(o._title()?3:-1),c(),l("innerHTML",o._desc(),M),c(5),N(o.hasCon()?-1:9))},dependencies:[ne,E,Z],encapsulation:2,changeDetection:0})}return t})(),he=[R],ue=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=I({imports:[Y,ie,U,ce,k,he]})}return t})();var d=class d{constructor(){this.route=r(W)}get type(){return this.route.snapshot.data.type}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=a({type:d,selectors:[["app-exception"]],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(e,n){e&1&&m(0,"exception",0),e&2&&l("type",n.type)},dependencies:[ue,R],encapsulation:2,changeDetection:0});var f=d;function xe(t,i){if(t&1){let e=_();p(0,"button",3),y("click",function(){let o=C(e).$implicit,z=h();return x(z.go(o))}),v(1),s()}if(t&2){let e=i.$implicit;c(),b("\u89E6\u53D1",e)}}var g=class g{constructor(){this.http=r(oe);this.tokenService=r(se);this.types=[401,403,404,500]}go(i){this.http.get(`/api/${i}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:i=>console.warn("\u6210\u529F",i),error:i=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",i)}})}};g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=a({type:g,selectors:[["exception-trigger"]],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"nz-card"),B(2,xe,2,1,"button",1,j),p(4,"button",2),y("click",function(){return n.refresh()}),v(5,"\u89E6\u53D1\u5237\u65B0Token"),s()()()),e&2&&(c(2),V(n.types))},dependencies:[le,ae,k,E,ee,te],encapsulation:2});var D=g;var nt=[{path:"403",component:f,data:{type:403}},{path:"404",component:f,data:{type:404}},{path:"500",component:f,data:{type:500}},{path:"trigger",component:D}];export{nt as routes};
