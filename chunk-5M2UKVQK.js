import{$ as hi,A as Hp,Aa as Yn,B as Ur,Ba as oa,C as Ui,Ca as au,D as Yt,E as Yr,F as Kr,Fa as Kn,G as Gr,Ga as cu,H as Lp,Ha as Zn,I as Zt,J as jp,K as At,Ka as ra,L as Zr,La as du,M as Yi,N as Bp,Na as aa,O as Ht,P as Wp,Pa as sa,Q as Lt,S as qp,T as Xr,U as Jr,V as Ns,W as hn,X as Qp,Y as mn,Ya as la,Z as Up,_ as Yp,_a as ca,aa as Kp,ab as da,ca as fn,d as Qr,da as Xt,ea as Gp,f as Qi,fa as Zp,g as Fi,ga as Xp,h as Np,ha as _n,i as Ge,ia as Jp,j as $p,ja as ea,ka as ta,l as Fp,la as Ki,ma as eu,n as We,na as ia,o as Vp,oa as $o,pa as tu,qa as iu,ra as nu,sa as ou,t as Rp,ta as Gi,u as Ap,ua as na,va as Zi,wa as ru,xa as qn,y as ot,ya as Qn,z as No,za as Un}from"./chunk-7ARIWAEL.js";import{$ as Qe,$a as Q,$c as ko,$f as yp,Ab as Be,Ad as Vn,Ae as gp,B as lt,Ba as En,Bb as Le,Bd as ws,Be as mt,Cb as je,Cc as Rd,Cd as Po,Cg as Hr,Db as Ke,Dd as Mo,E as Ct,Ea as d,Eb as j,Ed as Gd,F as Ye,Fa as k,Fb as Nt,Fd as Ts,Fe as Cp,Fg as xp,Ga as si,Gb as Fe,Gc as vi,Gd as ks,Ge as Os,Ha as Ee,Hb as Gt,Hc as Ad,He as An,Hg as Eo,I as vr,Ib as So,Id as xi,Ie as Hn,If as Pe,Ja as qi,Jc as Pr,Jd as Ds,Jf as He,K as Pn,Kb as yt,Kf as bt,L as xr,La as De,Lb as $t,Ld as Ps,Lg as Lr,Ma as ne,Mb as kr,Md as Zd,N as br,Na as _,Nb as oe,Nd as Ms,Ng as jr,O as ri,Oa as Z,Od as Xd,Og as bp,P as Sr,Pa as u,Pd as Ir,Q as Md,Qa as le,Qc as Hd,Qf as di,Qg as un,Ra as F,Rd as Vt,S as Od,Sd as ye,Sf as pi,Sg as Sp,T as ai,Ta as Qt,Tc as $i,Td as Jd,Tg as wp,U as _t,Ua as A,Uc as Mr,Uf as Rt,Ug as Br,V as N,Va as Nn,Vb as xe,Vd as Oo,Vf as gt,Wa as Nd,Wb as M,Wd as ep,Wf as St,Wg as Tp,X as Id,Xa as Tr,Xb as ge,Xd as tp,Xg as kp,Y as wr,Ya as x,Yd as ip,Yg as Dp,Za as et,Zd as Rn,Zg as Pp,_ as bo,_a as ct,_c as To,_d as Er,_f as Io,_g as Mp,a as T,aa as he,ab as U,ac as zi,ad as ci,b as ce,ba as Ed,bb as m,bd as Fn,be as np,bh as Wr,c as bd,ca as it,cb as f,cd as Ld,ce as op,ch as Op,d as H,da as O,db as D,dd as jd,ea as Mn,eb as Ne,ec as dt,ed as pt,ee as rp,f as Sd,fa as V,fb as $e,fc as Dr,fd as Pt,fe as ap,fh as Bn,g as yi,ga as me,gb as Te,gc as bs,gd as Or,ge as sp,gg as Fr,gh as Ip,h as wd,ha as be,hb as I,he as lp,hh as qr,ib as xs,ih as Es,j as Td,ja as On,jb as $d,jd as Do,jg as Is,k as X,kb as w,kc as li,kd as Ft,kg as zp,l as rt,la as J,lb as Fd,lc as ae,ld as Bd,le as cp,lg as Ln,m as Ze,ma as y,mb as c,mc as wo,md as Wd,mg as st,mh as Wn,na as z,nb as Se,nd as qd,ne as dp,ob as ve,od as at,oe as pp,oh as Ep,p as yr,pb as pe,pc as $n,pd as Qd,pe as Nr,pg as ui,ph as su,q as de,qa as nt,qe as pn,qg as Vr,qh as lu,ra as Ei,rb as Ni,rc as Dt,re as $r,rg as Rr,s as xt,sa as In,sb as te,sg as Ut,t as kd,ta as R,tb as K,te as up,u as Dd,ua as Re,ub as G,uc as Ss,ud as Ud,ue as hp,uh as $s,v as Pd,va as ee,vb as L,vd as Yd,vh as Gn,w as _e,wb as E,wg as jn,x as Et,xb as ie,xe as mp,y as zr,yb as q,yd as Kd,ye as fp,yg as vp,za as Ae,zb as Vd,zd as ft,ze as _p,zg as Ar}from"./chunk-GWONNR5K.js";var Ho=H(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.regexpCode=Me.getEsmExportName=Me.getProperty=Me.safeStringify=Me.stringify=Me.strConcat=Me.addCodeArg=Me.str=Me._=Me.nil=Me._Code=Me.Name=Me.IDENTIFIER=Me._CodeOrName=void 0;var Ro=class{};Me._CodeOrName=Ro;Me.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Cn=class extends Ro{constructor(i){if(super(),!Me.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Me.Name=Cn;var Jt=class extends Ro{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((n,e)=>`${n}${e}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((n,e)=>(e instanceof Cn&&(n[e.str]=(n[e.str]||0)+1),n),{})}};Me._Code=Jt;Me.nil=new Jt("");function gu(t,...i){let n=[t[0]],e=0;for(;e<i.length;)As(n,i[e]),n.push(t[++e]);return new Jt(n)}Me._=gu;var Rs=new Jt("+");function Cu(t,...i){let n=[Ao(t[0])],e=0;for(;e<i.length;)n.push(Rs),As(n,i[e]),n.push(Rs,Ao(t[++e]));return u_(n),new Jt(n)}Me.str=Cu;function As(t,i){i instanceof Jt?t.push(...i._items):i instanceof Cn?t.push(i):t.push(f_(i))}Me.addCodeArg=As;function u_(t){let i=1;for(;i<t.length-1;){if(t[i]===Rs){let n=h_(t[i-1],t[i+1]);if(n!==void 0){t.splice(i-1,3,n);continue}t[i++]="+"}i++}}function h_(t,i){if(i==='""')return t;if(t==='""')return i;if(typeof t=="string")return i instanceof Cn||t[t.length-1]!=='"'?void 0:typeof i!="string"?`${t.slice(0,-1)}${i}"`:i[0]==='"'?t.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(t instanceof Cn))return`"${t}${i.slice(1)}`}function m_(t,i){return i.emptyStr()?t:t.emptyStr()?i:Cu`${t}${i}`}Me.strConcat=m_;function f_(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Ao(Array.isArray(t)?t.join(","):t)}function __(t){return new Jt(Ao(t))}Me.stringify=__;function Ao(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Me.safeStringify=Ao;function g_(t){return typeof t=="string"&&Me.IDENTIFIER.test(t)?new Jt(`.${t}`):gu`[${t}]`}Me.getProperty=g_;function C_(t){if(typeof t=="string"&&Me.IDENTIFIER.test(t))return new Jt(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}Me.getEsmExportName=C_;function y_(t){return new Jt(t.toString())}Me.regexpCode=y_});var js=H(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.ValueScope=Bt.ValueScopeName=Bt.Scope=Bt.varKinds=Bt.UsedValueState=void 0;var jt=Ho(),Hs=class extends Error{constructor(i){super(`CodeGen: "code" for ${i} not defined`),this.value=i.value}},ua=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(ua||(Bt.UsedValueState=ua={}));Bt.varKinds={const:new jt.Name("const"),let:new jt.Name("let"),var:new jt.Name("var")};var ha=class{constructor({prefixes:i,parent:n}={}){this._names={},this._prefixes=i,this._parent=n}toName(i){return i instanceof jt.Name?i:this.name(i)}name(i){return new jt.Name(this._newName(i))}_newName(i){let n=this._names[i]||this._nameGroup(i);return`${i}${n.index++}`}_nameGroup(i){var n,e;if(!((e=(n=this._parent)===null||n===void 0?void 0:n._prefixes)===null||e===void 0)&&e.has(i)||this._prefixes&&!this._prefixes.has(i))throw new Error(`CodeGen: prefix "${i}" is not allowed in this scope`);return this._names[i]={prefix:i,index:0}}};Bt.Scope=ha;var ma=class extends jt.Name{constructor(i,n){super(n),this.prefix=i}setValue(i,{property:n,itemIndex:e}){this.value=i,this.scopePath=(0,jt._)`.${new jt.Name(n)}[${e}]`}};Bt.ValueScopeName=ma;var z_=(0,jt._)`\n`,Ls=class extends ha{constructor(i){super(i),this._values={},this._scope=i.scope,this.opts=ce(T({},i),{_n:i.lines?z_:jt.nil})}get(){return this._scope}name(i){return new ma(i,this._newName(i))}value(i,n){var e;if(n.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(i),{prefix:r}=o,a=(e=n.key)!==null&&e!==void 0?e:n.ref,s=this._values[r];if(s){let h=s.get(a);if(h)return h}else s=this._values[r]=new Map;s.set(a,o);let l=this._scope[r]||(this._scope[r]=[]),p=l.length;return l[p]=n.ref,o.setValue(n,{property:r,itemIndex:p}),o}getValue(i,n){let e=this._values[i];if(e)return e.get(n)}scopeRefs(i,n=this._values){return this._reduceValues(n,e=>{if(e.scopePath===void 0)throw new Error(`CodeGen: name "${e}" has no value`);return(0,jt._)`${i}${e.scopePath}`})}scopeCode(i=this._values,n,e){return this._reduceValues(i,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},n,e)}_reduceValues(i,n,e={},o){let r=jt.nil;for(let a in i){let s=i[a];if(!s)continue;let l=e[a]=e[a]||new Map;s.forEach(p=>{if(l.has(p))return;l.set(p,ua.Started);let h=n(p);if(h){let g=this.opts.es5?Bt.varKinds.var:Bt.varKinds.const;r=(0,jt._)`${r}${g} ${p} = ${h};${this.opts._n}`}else if(h=o?.(p))r=(0,jt._)`${r}${h}${this.opts._n}`;else throw new Hs(p);l.set(p,ua.Completed)})}return r}};Bt.ValueScope=Ls});var fe=H(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.or=Ce.and=Ce.not=Ce.CodeGen=Ce.operators=Ce.varKinds=Ce.ValueScopeName=Ce.ValueScope=Ce.Scope=Ce.Name=Ce.regexpCode=Ce.stringify=Ce.getProperty=Ce.nil=Ce.strConcat=Ce.str=Ce._=void 0;var we=Ho(),mi=js(),Xi=Ho();Object.defineProperty(Ce,"_",{enumerable:!0,get:function(){return Xi._}});Object.defineProperty(Ce,"str",{enumerable:!0,get:function(){return Xi.str}});Object.defineProperty(Ce,"strConcat",{enumerable:!0,get:function(){return Xi.strConcat}});Object.defineProperty(Ce,"nil",{enumerable:!0,get:function(){return Xi.nil}});Object.defineProperty(Ce,"getProperty",{enumerable:!0,get:function(){return Xi.getProperty}});Object.defineProperty(Ce,"stringify",{enumerable:!0,get:function(){return Xi.stringify}});Object.defineProperty(Ce,"regexpCode",{enumerable:!0,get:function(){return Xi.regexpCode}});Object.defineProperty(Ce,"Name",{enumerable:!0,get:function(){return Xi.Name}});var ya=js();Object.defineProperty(Ce,"Scope",{enumerable:!0,get:function(){return ya.Scope}});Object.defineProperty(Ce,"ValueScope",{enumerable:!0,get:function(){return ya.ValueScope}});Object.defineProperty(Ce,"ValueScopeName",{enumerable:!0,get:function(){return ya.ValueScopeName}});Object.defineProperty(Ce,"varKinds",{enumerable:!0,get:function(){return ya.varKinds}});Ce.operators={GT:new we._Code(">"),GTE:new we._Code(">="),LT:new we._Code("<"),LTE:new we._Code("<="),EQ:new we._Code("==="),NEQ:new we._Code("!=="),NOT:new we._Code("!"),OR:new we._Code("||"),AND:new we._Code("&&"),ADD:new we._Code("+")};var Ri=class{optimizeNodes(){return this}optimizeNames(i,n){return this}},Bs=class extends Ri{constructor(i,n,e){super(),this.varKind=i,this.name=n,this.rhs=e}render({es5:i,_n:n}){let e=i?mi.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${e} ${this.name}${o};`+n}optimizeNames(i,n){if(i[this.name.str])return this.rhs&&(this.rhs=Jn(this.rhs,i,n)),this}get names(){return this.rhs instanceof we._CodeOrName?this.rhs.names:{}}},_a=class extends Ri{constructor(i,n,e){super(),this.lhs=i,this.rhs=n,this.sideEffects=e}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,n){if(!(this.lhs instanceof we.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=Jn(this.rhs,i,n),this}get names(){let i=this.lhs instanceof we.Name?{}:T({},this.lhs.names);return Ca(i,this.rhs)}},Ws=class extends _a{constructor(i,n,e,o){super(i,e,o),this.op=n}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}},qs=class extends Ri{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}},Qs=class extends Ri{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}},Us=class extends Ri{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}},Ys=class extends Ri{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,n){return this.code=Jn(this.code,i,n),this}get names(){return this.code instanceof we._CodeOrName?this.code.names:{}}},Lo=class extends Ri{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((n,e)=>n+e.render(i),"")}optimizeNodes(){let{nodes:i}=this,n=i.length;for(;n--;){let e=i[n].optimizeNodes();Array.isArray(e)?i.splice(n,1,...e):e?i[n]=e:i.splice(n,1)}return i.length>0?this:void 0}optimizeNames(i,n){let{nodes:e}=this,o=e.length;for(;o--;){let r=e[o];r.optimizeNames(i,n)||(v_(i,r.names),e.splice(o,1))}return e.length>0?this:void 0}get names(){return this.nodes.reduce((i,n)=>yn(i,n.names),{})}},Ai=class extends Lo{render(i){return"{"+i._n+super.render(i)+"}"+i._n}},Ks=class extends Lo{},Gs=(()=>{class t extends Ai{}return t.kind="else",t})(),fa=(()=>{class t extends Ai{constructor(n,e){super(e),this.condition=n}render(n){let e=`if(${this.condition})`+super.render(n);return this.else&&(e+="else "+this.else.render(n)),e}optimizeNodes(){super.optimizeNodes();let n=this.condition;if(n===!0)return this.nodes;let e=this.else;if(e){let o=e.optimizeNodes();e=this.else=Array.isArray(o)?new Gs(o):o}if(e)return n===!1?e instanceof t?e:e.nodes:this.nodes.length?this:new t(bu(n),e instanceof t?[e]:e.nodes);if(!(n===!1||!this.nodes.length))return this}optimizeNames(n,e){var o;if(this.else=(o=this.else)===null||o===void 0?void 0:o.optimizeNames(n,e),!!(super.optimizeNames(n,e)||this.else))return this.condition=Jn(this.condition,n,e),this}get names(){let n=super.names;return Ca(n,this.condition),this.else&&yn(n,this.else.names),n}}return t.kind="if",t})(),za=(()=>{class t extends Ai{}return t.kind="for",t})(),Zs=class extends za{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,n){if(super.optimizeNames(i,n))return this.iteration=Jn(this.iteration,i,n),this}get names(){return yn(super.names,this.iteration.names)}},Xs=class extends za{constructor(i,n,e,o){super(),this.varKind=i,this.name=n,this.from=e,this.to=o}render(i){let n=i.es5?mi.varKinds.var:this.varKind,{name:e,from:o,to:r}=this;return`for(${n} ${e}=${o}; ${e}<${r}; ${e}++)`+super.render(i)}get names(){let i=Ca(super.names,this.from);return Ca(i,this.to)}},ga=class extends za{constructor(i,n,e,o){super(),this.loop=i,this.varKind=n,this.name=e,this.iterable=o}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,n){if(super.optimizeNames(i,n))return this.iterable=Jn(this.iterable,i,n),this}get names(){return yn(super.names,this.iterable.names)}},yu=(()=>{class t extends Ai{constructor(n,e,o){super(),this.name=n,this.args=e,this.async=o}render(n){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(n)}}return t.kind="func",t})(),zu=(()=>{class t extends Lo{render(n){return"return "+super.render(n)}}return t.kind="return",t})(),Js=class extends Ai{render(i){let n="try"+super.render(i);return this.catch&&(n+=this.catch.render(i)),this.finally&&(n+=this.finally.render(i)),n}optimizeNodes(){var i,n;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(n=this.finally)===null||n===void 0||n.optimizeNodes(),this}optimizeNames(i,n){var e,o;return super.optimizeNames(i,n),(e=this.catch)===null||e===void 0||e.optimizeNames(i,n),(o=this.finally)===null||o===void 0||o.optimizeNames(i,n),this}get names(){let i=super.names;return this.catch&&yn(i,this.catch.names),this.finally&&yn(i,this.finally.names),i}},vu=(()=>{class t extends Ai{constructor(n){super(),this.error=n}render(n){return`catch(${this.error})`+super.render(n)}}return t.kind="catch",t})(),xu=(()=>{class t extends Ai{render(n){return"finally"+super.render(n)}}return t.kind="finally",t})(),el=class{constructor(i,n={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ce(T({},n),{_n:n.lines?`
`:""}),this._extScope=i,this._scope=new mi.Scope({parent:i}),this._nodes=[new Ks]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,n){let e=this._extScope.value(i,n);return(this._values[e.prefix]||(this._values[e.prefix]=new Set)).add(e),e}getScopeValue(i,n){return this._extScope.getValue(i,n)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,n,e,o){let r=this._scope.toName(n);return e!==void 0&&o&&(this._constants[r.str]=e),this._leafNode(new Bs(i,r,e)),r}const(i,n,e){return this._def(mi.varKinds.const,i,n,e)}let(i,n,e){return this._def(mi.varKinds.let,i,n,e)}var(i,n,e){return this._def(mi.varKinds.var,i,n,e)}assign(i,n,e){return this._leafNode(new _a(i,n,e))}add(i,n){return this._leafNode(new Ws(i,Ce.operators.ADD,n))}code(i){return typeof i=="function"?i():i!==we.nil&&this._leafNode(new Ys(i)),this}object(...i){let n=["{"];for(let[e,o]of i)n.length>1&&n.push(","),n.push(e),(e!==o||this.opts.es5)&&(n.push(":"),(0,we.addCodeArg)(n,o));return n.push("}"),new we._Code(n)}if(i,n,e){if(this._blockNode(new fa(i)),n&&e)this.code(n).else().code(e).endIf();else if(n)this.code(n).endIf();else if(e)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new fa(i))}else(){return this._elseNode(new Gs)}endIf(){return this._endBlockNode(fa,Gs)}_for(i,n){return this._blockNode(i),n&&this.code(n).endFor(),this}for(i,n){return this._for(new Zs(i),n)}forRange(i,n,e,o,r=this.opts.es5?mi.varKinds.var:mi.varKinds.let){let a=this._scope.toName(i);return this._for(new Xs(r,a,n,e),()=>o(a))}forOf(i,n,e,o=mi.varKinds.const){let r=this._scope.toName(i);if(this.opts.es5){let a=n instanceof we.Name?n:this.var("_arr",n);return this.forRange("_i",0,(0,we._)`${a}.length`,s=>{this.var(r,(0,we._)`${a}[${s}]`),e(r)})}return this._for(new ga("of",o,r,n),()=>e(r))}forIn(i,n,e,o=this.opts.es5?mi.varKinds.var:mi.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,we._)`Object.keys(${n})`,e);let r=this._scope.toName(i);return this._for(new ga("in",o,r,n),()=>e(r))}endFor(){return this._endBlockNode(za)}label(i){return this._leafNode(new qs(i))}break(i){return this._leafNode(new Qs(i))}return(i){let n=new zu;if(this._blockNode(n),this.code(i),n.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(zu)}try(i,n,e){if(!n&&!e)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new Js;if(this._blockNode(o),this.code(i),n){let r=this.name("e");this._currNode=o.catch=new vu(r),n(r)}return e&&(this._currNode=o.finally=new xu,this.code(e)),this._endBlockNode(vu,xu)}throw(i){return this._leafNode(new Us(i))}block(i,n){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(n),this}endBlock(i){let n=this._blockStarts.pop();if(n===void 0)throw new Error("CodeGen: not in self-balancing block");let e=this._nodes.length-n;if(e<0||i!==void 0&&e!==i)throw new Error(`CodeGen: wrong number of nodes: ${e} vs ${i} expected`);return this._nodes.length=n,this}func(i,n=we.nil,e,o){return this._blockNode(new yu(i,n,e)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(yu)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,n){let e=this._currNode;if(e instanceof i||n&&e instanceof n)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${n?`${i.kind}/${n.kind}`:i.kind}"`)}_elseNode(i){let n=this._currNode;if(!(n instanceof fa))throw new Error('CodeGen: "else" without "if"');return this._currNode=n.else=i,this}get _root(){return this._nodes[0]}get _currNode(){let i=this._nodes;return i[i.length-1]}set _currNode(i){let n=this._nodes;n[n.length-1]=i}};Ce.CodeGen=el;function yn(t,i){for(let n in i)t[n]=(t[n]||0)+(i[n]||0);return t}function Ca(t,i){return i instanceof we._CodeOrName?yn(t,i.names):t}function Jn(t,i,n){if(t instanceof we.Name)return e(t);if(!o(t))return t;return new we._Code(t._items.reduce((r,a)=>(a instanceof we.Name&&(a=e(a)),a instanceof we._Code?r.push(...a._items):r.push(a),r),[]));function e(r){let a=n[r.str];return a===void 0||i[r.str]!==1?r:(delete i[r.str],a)}function o(r){return r instanceof we._Code&&r._items.some(a=>a instanceof we.Name&&i[a.str]===1&&n[a.str]!==void 0)}}function v_(t,i){for(let n in i)t[n]=(t[n]||0)-(i[n]||0)}function bu(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,we._)`!${tl(t)}`}Ce.not=bu;var x_=Su(Ce.operators.AND);function b_(...t){return t.reduce(x_)}Ce.and=b_;var S_=Su(Ce.operators.OR);function w_(...t){return t.reduce(S_)}Ce.or=w_;function Su(t){return(i,n)=>i===we.nil?n:n===we.nil?i:(0,we._)`${tl(i)} ${t} ${tl(n)}`}function tl(t){return t instanceof we.Name?t:(0,we._)`(${t})`}});var Oe=H(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.checkStrictMode=ze.getErrorPath=ze.Type=ze.useFunc=ze.setEvaluated=ze.evaluatedPropsToName=ze.mergeEvaluated=ze.eachItem=ze.unescapeJsonPointer=ze.escapeJsonPointer=ze.escapeFragment=ze.unescapeFragment=ze.schemaRefOrVal=ze.schemaHasRulesButRef=ze.schemaHasRules=ze.checkUnknownRules=ze.alwaysValidSchema=ze.toHash=void 0;var Ue=fe(),T_=Ho();function k_(t){let i={};for(let n of t)i[n]=!0;return i}ze.toHash=k_;function D_(t,i){return typeof i=="boolean"?i:Object.keys(i).length===0?!0:(ku(t,i),!Du(i,t.self.RULES.all))}ze.alwaysValidSchema=D_;function ku(t,i=t.schema){let{opts:n,self:e}=t;if(!n.strictSchema||typeof i=="boolean")return;let o=e.RULES.keywords;for(let r in i)o[r]||Ou(t,`unknown keyword: "${r}"`)}ze.checkUnknownRules=ku;function Du(t,i){if(typeof t=="boolean")return!t;for(let n in t)if(i[n])return!0;return!1}ze.schemaHasRules=Du;function P_(t,i){if(typeof t=="boolean")return!t;for(let n in t)if(n!=="$ref"&&i.all[n])return!0;return!1}ze.schemaHasRulesButRef=P_;function M_({topSchemaRef:t,schemaPath:i},n,e,o){if(!o){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,Ue._)`${n}`}return(0,Ue._)`${t}${i}${(0,Ue.getProperty)(e)}`}ze.schemaRefOrVal=M_;function O_(t){return Pu(decodeURIComponent(t))}ze.unescapeFragment=O_;function I_(t){return encodeURIComponent(nl(t))}ze.escapeFragment=I_;function nl(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}ze.escapeJsonPointer=nl;function Pu(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}ze.unescapeJsonPointer=Pu;function E_(t,i){if(Array.isArray(t))for(let n of t)i(n);else i(t)}ze.eachItem=E_;function wu({mergeNames:t,mergeToName:i,mergeValues:n,resultToName:e}){return(o,r,a,s)=>{let l=a===void 0?r:a instanceof Ue.Name?(r instanceof Ue.Name?t(o,r,a):i(o,r,a),a):r instanceof Ue.Name?(i(o,a,r),r):n(r,a);return s===Ue.Name&&!(l instanceof Ue.Name)?e(o,l):l}}ze.mergeEvaluated={props:wu({mergeNames:(t,i,n)=>t.if((0,Ue._)`${n} !== true && ${i} !== undefined`,()=>{t.if((0,Ue._)`${i} === true`,()=>t.assign(n,!0),()=>t.assign(n,(0,Ue._)`${n} || {}`).code((0,Ue._)`Object.assign(${n}, ${i})`))}),mergeToName:(t,i,n)=>t.if((0,Ue._)`${n} !== true`,()=>{i===!0?t.assign(n,!0):(t.assign(n,(0,Ue._)`${n} || {}`),ol(t,n,i))}),mergeValues:(t,i)=>t===!0?!0:T(T({},t),i),resultToName:Mu}),items:wu({mergeNames:(t,i,n)=>t.if((0,Ue._)`${n} !== true && ${i} !== undefined`,()=>t.assign(n,(0,Ue._)`${i} === true ? true : ${n} > ${i} ? ${n} : ${i}`)),mergeToName:(t,i,n)=>t.if((0,Ue._)`${n} !== true`,()=>t.assign(n,i===!0?!0:(0,Ue._)`${n} > ${i} ? ${n} : ${i}`)),mergeValues:(t,i)=>t===!0?!0:Math.max(t,i),resultToName:(t,i)=>t.var("items",i)})};function Mu(t,i){if(i===!0)return t.var("props",!0);let n=t.var("props",(0,Ue._)`{}`);return i!==void 0&&ol(t,n,i),n}ze.evaluatedPropsToName=Mu;function ol(t,i,n){Object.keys(n).forEach(e=>t.assign((0,Ue._)`${i}${(0,Ue.getProperty)(e)}`,!0))}ze.setEvaluated=ol;var Tu={};function N_(t,i){return t.scopeValue("func",{ref:i,code:Tu[i.code]||(Tu[i.code]=new T_._Code(i.code))})}ze.useFunc=N_;var il=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(il||(ze.Type=il={}));function $_(t,i,n){if(t instanceof Ue.Name){let e=i===il.Num;return n?e?(0,Ue._)`"[" + ${t} + "]"`:(0,Ue._)`"['" + ${t} + "']"`:e?(0,Ue._)`"/" + ${t}`:(0,Ue._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,Ue.getProperty)(t).toString():"/"+nl(t)}ze.getErrorPath=$_;function Ou(t,i,n=t.opts.strictSchema){if(n){if(i=`strict mode: ${i}`,n===!0)throw new Error(i);t.self.logger.warn(i)}}ze.checkStrictMode=Ou});var Hi=H(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});var wt=fe(),F_={data:new wt.Name("data"),valCxt:new wt.Name("valCxt"),instancePath:new wt.Name("instancePath"),parentData:new wt.Name("parentData"),parentDataProperty:new wt.Name("parentDataProperty"),rootData:new wt.Name("rootData"),dynamicAnchors:new wt.Name("dynamicAnchors"),vErrors:new wt.Name("vErrors"),errors:new wt.Name("errors"),this:new wt.Name("this"),self:new wt.Name("self"),scope:new wt.Name("scope"),json:new wt.Name("json"),jsonPos:new wt.Name("jsonPos"),jsonLen:new wt.Name("jsonLen"),jsonPart:new wt.Name("jsonPart")};rl.default=F_});var jo=H(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.extendErrors=Tt.resetErrorsCount=Tt.reportExtraError=Tt.reportError=Tt.keyword$DataError=Tt.keywordError=void 0;var ke=fe(),va=Oe(),Mt=Hi();Tt.keywordError={message:({keyword:t})=>(0,ke.str)`must pass "${t}" keyword validation`};Tt.keyword$DataError={message:({keyword:t,schemaType:i})=>i?(0,ke.str)`"${t}" keyword must be ${i} ($data)`:(0,ke.str)`"${t}" keyword is invalid ($data)`};function V_(t,i=Tt.keywordError,n,e){let{it:o}=t,{gen:r,compositeRule:a,allErrors:s}=o,l=Nu(t,i,n);e??(a||s)?Iu(r,l):Eu(o,(0,ke._)`[${l}]`)}Tt.reportError=V_;function R_(t,i=Tt.keywordError,n){let{it:e}=t,{gen:o,compositeRule:r,allErrors:a}=e,s=Nu(t,i,n);Iu(o,s),r||a||Eu(e,Mt.default.vErrors)}Tt.reportExtraError=R_;function A_(t,i){t.assign(Mt.default.errors,i),t.if((0,ke._)`${Mt.default.vErrors} !== null`,()=>t.if(i,()=>t.assign((0,ke._)`${Mt.default.vErrors}.length`,i),()=>t.assign(Mt.default.vErrors,null)))}Tt.resetErrorsCount=A_;function H_({gen:t,keyword:i,schemaValue:n,data:e,errsCount:o,it:r}){if(o===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",o,Mt.default.errors,s=>{t.const(a,(0,ke._)`${Mt.default.vErrors}[${s}]`),t.if((0,ke._)`${a}.instancePath === undefined`,()=>t.assign((0,ke._)`${a}.instancePath`,(0,ke.strConcat)(Mt.default.instancePath,r.errorPath))),t.assign((0,ke._)`${a}.schemaPath`,(0,ke.str)`${r.errSchemaPath}/${i}`),r.opts.verbose&&(t.assign((0,ke._)`${a}.schema`,n),t.assign((0,ke._)`${a}.data`,e))})}Tt.extendErrors=H_;function Iu(t,i){let n=t.const("err",i);t.if((0,ke._)`${Mt.default.vErrors} === null`,()=>t.assign(Mt.default.vErrors,(0,ke._)`[${n}]`),(0,ke._)`${Mt.default.vErrors}.push(${n})`),t.code((0,ke._)`${Mt.default.errors}++`)}function Eu(t,i){let{gen:n,validateName:e,schemaEnv:o}=t;o.$async?n.throw((0,ke._)`new ${t.ValidationError}(${i})`):(n.assign((0,ke._)`${e}.errors`,i),n.return(!1))}var zn={keyword:new ke.Name("keyword"),schemaPath:new ke.Name("schemaPath"),params:new ke.Name("params"),propertyName:new ke.Name("propertyName"),message:new ke.Name("message"),schema:new ke.Name("schema"),parentSchema:new ke.Name("parentSchema")};function Nu(t,i,n){let{createErrors:e}=t.it;return e===!1?(0,ke._)`{}`:L_(t,i,n)}function L_(t,i,n={}){let{gen:e,it:o}=t,r=[j_(o,n),B_(t,n)];return W_(t,i,r),e.object(...r)}function j_({errorPath:t},{instancePath:i}){let n=i?(0,ke.str)`${t}${(0,va.getErrorPath)(i,va.Type.Str)}`:t;return[Mt.default.instancePath,(0,ke.strConcat)(Mt.default.instancePath,n)]}function B_({keyword:t,it:{errSchemaPath:i}},{schemaPath:n,parentSchema:e}){let o=e?i:(0,ke.str)`${i}/${t}`;return n&&(o=(0,ke.str)`${o}${(0,va.getErrorPath)(n,va.Type.Str)}`),[zn.schemaPath,o]}function W_(t,{params:i,message:n},e){let{keyword:o,data:r,schemaValue:a,it:s}=t,{opts:l,propertyName:p,topSchemaRef:h,schemaPath:g}=s;e.push([zn.keyword,o],[zn.params,typeof i=="function"?i(t):i||(0,ke._)`{}`]),l.messages&&e.push([zn.message,typeof n=="function"?n(t):n]),l.verbose&&e.push([zn.schema,a],[zn.parentSchema,(0,ke._)`${h}${g}`],[Mt.default.data,r]),p&&e.push([zn.propertyName,p])}});var Fu=H(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.boolOrEmptySchema=eo.topBoolOrEmptySchema=void 0;var q_=jo(),Q_=fe(),U_=Hi(),Y_={message:"boolean schema is false"};function K_(t){let{gen:i,schema:n,validateName:e}=t;n===!1?$u(t,!1):typeof n=="object"&&n.$async===!0?i.return(U_.default.data):(i.assign((0,Q_._)`${e}.errors`,null),i.return(!0))}eo.topBoolOrEmptySchema=K_;function G_(t,i){let{gen:n,schema:e}=t;e===!1?(n.var(i,!1),$u(t)):n.var(i,!0)}eo.boolOrEmptySchema=G_;function $u(t,i){let{gen:n,data:e}=t,o={gen:n,keyword:"false schema",data:e,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,q_.reportError)(o,Y_,void 0,i)}});var al=H(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.getRules=to.isJSONType=void 0;var Z_=["string","number","integer","boolean","null","object","array"],X_=new Set(Z_);function J_(t){return typeof t=="string"&&X_.has(t)}to.isJSONType=J_;function eg(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ce(T({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}to.getRules=eg});var sl=H(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.shouldUseRule=Ji.shouldUseGroup=Ji.schemaHasRulesForType=void 0;function tg({schema:t,self:i},n){let e=i.RULES.types[n];return e&&e!==!0&&Vu(t,e)}Ji.schemaHasRulesForType=tg;function Vu(t,i){return i.rules.some(n=>Ru(t,n))}Ji.shouldUseGroup=Vu;function Ru(t,i){var n;return t[i.keyword]!==void 0||((n=i.definition.implements)===null||n===void 0?void 0:n.some(e=>t[e]!==void 0))}Ji.shouldUseRule=Ru});var Bo=H(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.reportTypeError=kt.checkDataTypes=kt.checkDataType=kt.coerceAndCheckDataType=kt.getJSONTypes=kt.getSchemaTypes=kt.DataType=void 0;var ig=al(),ng=sl(),og=jo(),ue=fe(),Au=Oe(),io=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(io||(kt.DataType=io={}));function rg(t){let i=Hu(t.type);if(i.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!i.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&i.push("null")}return i}kt.getSchemaTypes=rg;function Hu(t){let i=Array.isArray(t)?t:t?[t]:[];if(i.every(ig.isJSONType))return i;throw new Error("type must be JSONType or JSONType[]: "+i.join(","))}kt.getJSONTypes=Hu;function ag(t,i){let{gen:n,data:e,opts:o}=t,r=sg(i,o.coerceTypes),a=i.length>0&&!(r.length===0&&i.length===1&&(0,ng.schemaHasRulesForType)(t,i[0]));if(a){let s=cl(i,e,o.strictNumbers,io.Wrong);n.if(s,()=>{r.length?lg(t,i,r):dl(t)})}return a}kt.coerceAndCheckDataType=ag;var Lu=new Set(["string","number","integer","boolean","null"]);function sg(t,i){return i?t.filter(n=>Lu.has(n)||i==="array"&&n==="array"):[]}function lg(t,i,n){let{gen:e,data:o,opts:r}=t,a=e.let("dataType",(0,ue._)`typeof ${o}`),s=e.let("coerced",(0,ue._)`undefined`);r.coerceTypes==="array"&&e.if((0,ue._)`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>e.assign(o,(0,ue._)`${o}[0]`).assign(a,(0,ue._)`typeof ${o}`).if(cl(i,o,r.strictNumbers),()=>e.assign(s,o))),e.if((0,ue._)`${s} !== undefined`);for(let p of n)(Lu.has(p)||p==="array"&&r.coerceTypes==="array")&&l(p);e.else(),dl(t),e.endIf(),e.if((0,ue._)`${s} !== undefined`,()=>{e.assign(o,s),cg(t,s)});function l(p){switch(p){case"string":e.elseIf((0,ue._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,ue._)`"" + ${o}`).elseIf((0,ue._)`${o} === null`).assign(s,(0,ue._)`""`);return;case"number":e.elseIf((0,ue._)`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(s,(0,ue._)`+${o}`);return;case"integer":e.elseIf((0,ue._)`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(s,(0,ue._)`+${o}`);return;case"boolean":e.elseIf((0,ue._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(s,!1).elseIf((0,ue._)`${o} === "true" || ${o} === 1`).assign(s,!0);return;case"null":e.elseIf((0,ue._)`${o} === "" || ${o} === 0 || ${o} === false`),e.assign(s,null);return;case"array":e.elseIf((0,ue._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(s,(0,ue._)`[${o}]`)}}}function cg({gen:t,parentData:i,parentDataProperty:n},e){t.if((0,ue._)`${i} !== undefined`,()=>t.assign((0,ue._)`${i}[${n}]`,e))}function ll(t,i,n,e=io.Correct){let o=e===io.Correct?ue.operators.EQ:ue.operators.NEQ,r;switch(t){case"null":return(0,ue._)`${i} ${o} null`;case"array":r=(0,ue._)`Array.isArray(${i})`;break;case"object":r=(0,ue._)`${i} && typeof ${i} == "object" && !Array.isArray(${i})`;break;case"integer":r=a((0,ue._)`!(${i} % 1) && !isNaN(${i})`);break;case"number":r=a();break;default:return(0,ue._)`typeof ${i} ${o} ${t}`}return e===io.Correct?r:(0,ue.not)(r);function a(s=ue.nil){return(0,ue.and)((0,ue._)`typeof ${i} == "number"`,s,n?(0,ue._)`isFinite(${i})`:ue.nil)}}kt.checkDataType=ll;function cl(t,i,n,e){if(t.length===1)return ll(t[0],i,n,e);let o,r=(0,Au.toHash)(t);if(r.array&&r.object){let a=(0,ue._)`typeof ${i} != "object"`;o=r.null?a:(0,ue._)`!${i} || ${a}`,delete r.null,delete r.array,delete r.object}else o=ue.nil;r.number&&delete r.integer;for(let a in r)o=(0,ue.and)(o,ll(a,i,n,e));return o}kt.checkDataTypes=cl;var dg={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:i})=>typeof t=="string"?(0,ue._)`{type: ${t}}`:(0,ue._)`{type: ${i}}`};function dl(t){let i=pg(t);(0,og.reportError)(i,dg)}kt.reportTypeError=dl;function pg(t){let{gen:i,data:n,schema:e}=t,o=(0,Au.schemaRefOrVal)(t,e,"type");return{gen:i,keyword:"type",data:n,schema:e.type,schemaCode:o,schemaValue:o,parentSchema:e,params:{},it:t}}});var Bu=H(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.assignDefaults=void 0;var no=fe(),ug=Oe();function hg(t,i){let{properties:n,items:e}=t.schema;if(i==="object"&&n)for(let o in n)ju(t,o,n[o].default);else i==="array"&&Array.isArray(e)&&e.forEach((o,r)=>ju(t,r,o.default))}xa.assignDefaults=hg;function ju(t,i,n){let{gen:e,compositeRule:o,data:r,opts:a}=t;if(n===void 0)return;let s=(0,no._)`${r}${(0,no.getProperty)(i)}`;if(o){(0,ug.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,no._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,no._)`${l} || ${s} === null || ${s} === ""`),e.if(l,(0,no._)`${s} = ${(0,no.stringify)(n)}`)}});var ei=H(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.validateUnion=qe.validateArray=qe.usePattern=qe.callValidateCode=qe.schemaProperties=qe.allSchemaProperties=qe.noPropertyInData=qe.propertyInData=qe.isOwnProperty=qe.hasPropFunc=qe.reportMissingProp=qe.checkMissingProp=qe.checkReportMissingProp=void 0;var Xe=fe(),pl=Oe(),en=Hi(),mg=Oe();function fg(t,i){let{gen:n,data:e,it:o}=t;n.if(hl(n,e,i,o.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Xe._)`${i}`},!0),t.error()})}qe.checkReportMissingProp=fg;function _g({gen:t,data:i,it:{opts:n}},e,o){return(0,Xe.or)(...e.map(r=>(0,Xe.and)(hl(t,i,r,n.ownProperties),(0,Xe._)`${o} = ${r}`)))}qe.checkMissingProp=_g;function gg(t,i){t.setParams({missingProperty:i},!0),t.error()}qe.reportMissingProp=gg;function Wu(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Xe._)`Object.prototype.hasOwnProperty`})}qe.hasPropFunc=Wu;function ul(t,i,n){return(0,Xe._)`${Wu(t)}.call(${i}, ${n})`}qe.isOwnProperty=ul;function Cg(t,i,n,e){let o=(0,Xe._)`${i}${(0,Xe.getProperty)(n)} !== undefined`;return e?(0,Xe._)`${o} && ${ul(t,i,n)}`:o}qe.propertyInData=Cg;function hl(t,i,n,e){let o=(0,Xe._)`${i}${(0,Xe.getProperty)(n)} === undefined`;return e?(0,Xe.or)(o,(0,Xe.not)(ul(t,i,n))):o}qe.noPropertyInData=hl;function qu(t){return t?Object.keys(t).filter(i=>i!=="__proto__"):[]}qe.allSchemaProperties=qu;function yg(t,i){return qu(i).filter(n=>!(0,pl.alwaysValidSchema)(t,i[n]))}qe.schemaProperties=yg;function zg({schemaCode:t,data:i,it:{gen:n,topSchemaRef:e,schemaPath:o,errorPath:r},it:a},s,l,p){let h=p?(0,Xe._)`${t}, ${i}, ${e}${o}`:i,g=[[en.default.instancePath,(0,Xe.strConcat)(en.default.instancePath,r)],[en.default.parentData,a.parentData],[en.default.parentDataProperty,a.parentDataProperty],[en.default.rootData,en.default.rootData]];a.opts.dynamicRef&&g.push([en.default.dynamicAnchors,en.default.dynamicAnchors]);let v=(0,Xe._)`${h}, ${n.object(...g)}`;return l!==Xe.nil?(0,Xe._)`${s}.call(${l}, ${v})`:(0,Xe._)`${s}(${v})`}qe.callValidateCode=zg;var vg=(0,Xe._)`new RegExp`;function xg({gen:t,it:{opts:i}},n){let e=i.unicodeRegExp?"u":"",{regExp:o}=i.code,r=o(n,e);return t.scopeValue("pattern",{key:r.toString(),ref:r,code:(0,Xe._)`${o.code==="new RegExp"?vg:(0,mg.useFunc)(t,o)}(${n}, ${e})`})}qe.usePattern=xg;function bg(t){let{gen:i,data:n,keyword:e,it:o}=t,r=i.name("valid");if(o.allErrors){let s=i.let("valid",!0);return a(()=>i.assign(s,!1)),s}return i.var(r,!0),a(()=>i.break()),r;function a(s){let l=i.const("len",(0,Xe._)`${n}.length`);i.forRange("i",0,l,p=>{t.subschema({keyword:e,dataProp:p,dataPropType:pl.Type.Num},r),i.if((0,Xe.not)(r),s)})}}qe.validateArray=bg;function Sg(t){let{gen:i,schema:n,keyword:e,it:o}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,pl.alwaysValidSchema)(o,l))&&!o.opts.unevaluated)return;let a=i.let("valid",!1),s=i.name("_valid");i.block(()=>n.forEach((l,p)=>{let h=t.subschema({keyword:e,schemaProp:p,compositeRule:!0},s);i.assign(a,(0,Xe._)`${a} || ${s}`),t.mergeValidEvaluated(h,s)||i.if((0,Xe.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}qe.validateUnion=Sg});var Yu=H(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.validateKeywordUsage=bi.validSchemaType=bi.funcKeywordCode=bi.macroKeywordCode=void 0;var Ot=fe(),vn=Hi(),wg=ei(),Tg=jo();function kg(t,i){let{gen:n,keyword:e,schema:o,parentSchema:r,it:a}=t,s=i.macro.call(a.self,o,r,a),l=Uu(n,e,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let p=n.name("valid");t.subschema({schema:s,schemaPath:Ot.nil,errSchemaPath:`${a.errSchemaPath}/${e}`,topSchemaRef:l,compositeRule:!0},p),t.pass(p,()=>t.error(!0))}bi.macroKeywordCode=kg;function Dg(t,i){var n;let{gen:e,keyword:o,schema:r,parentSchema:a,$data:s,it:l}=t;Mg(l,i);let p=!s&&i.compile?i.compile.call(l.self,r,a,l):i.validate,h=Uu(e,o,p),g=e.let("valid");t.block$data(g,v),t.ok((n=i.valid)!==null&&n!==void 0?n:g);function v(){if(i.errors===!1)S(),i.modifying&&Qu(t),$(()=>t.error());else{let P=i.async?C():b();i.modifying&&Qu(t),$(()=>Pg(t,P))}}function C(){let P=e.let("ruleErrs",null);return e.try(()=>S((0,Ot._)`await `),W=>e.assign(g,!1).if((0,Ot._)`${W} instanceof ${l.ValidationError}`,()=>e.assign(P,(0,Ot._)`${W}.errors`),()=>e.throw(W))),P}function b(){let P=(0,Ot._)`${h}.errors`;return e.assign(P,null),S(Ot.nil),P}function S(P=i.async?(0,Ot._)`await `:Ot.nil){let W=l.opts.passContext?vn.default.this:vn.default.self,se=!("compile"in i&&!s||i.schema===!1);e.assign(g,(0,Ot._)`${P}${(0,wg.callValidateCode)(t,h,W,se)}`,i.modifying)}function $(P){var W;e.if((0,Ot.not)((W=i.valid)!==null&&W!==void 0?W:g),P)}}bi.funcKeywordCode=Dg;function Qu(t){let{gen:i,data:n,it:e}=t;i.if(e.parentData,()=>i.assign(n,(0,Ot._)`${e.parentData}[${e.parentDataProperty}]`))}function Pg(t,i){let{gen:n}=t;n.if((0,Ot._)`Array.isArray(${i})`,()=>{n.assign(vn.default.vErrors,(0,Ot._)`${vn.default.vErrors} === null ? ${i} : ${vn.default.vErrors}.concat(${i})`).assign(vn.default.errors,(0,Ot._)`${vn.default.vErrors}.length`),(0,Tg.extendErrors)(t)},()=>t.error())}function Mg({schemaEnv:t},i){if(i.async&&!t.$async)throw new Error("async keyword in sync schema")}function Uu(t,i,n){if(n===void 0)throw new Error(`keyword "${i}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Ot.stringify)(n)})}function Og(t,i,n=!1){return!i.length||i.some(e=>e==="array"?Array.isArray(t):e==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==e||n&&typeof t>"u")}bi.validSchemaType=Og;function Ig({schema:t,opts:i,self:n,errSchemaPath:e},o,r){if(Array.isArray(o.keyword)?!o.keyword.includes(r):o.keyword!==r)throw new Error("ajv implementation error");let a=o.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${r}: ${a.join(",")}`);if(o.validateSchema&&!o.validateSchema(t[r])){let l=`keyword "${r}" value is invalid at path "${e}": `+n.errorsText(o.validateSchema.errors);if(i.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}bi.validateKeywordUsage=Ig});var Gu=H(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.extendSubschemaMode=tn.extendSubschemaData=tn.getSubschema=void 0;var Si=fe(),Ku=Oe();function Eg(t,{keyword:i,schemaProp:n,schema:e,schemaPath:o,errSchemaPath:r,topSchemaRef:a}){if(i!==void 0&&e!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){let s=t.schema[i];return n===void 0?{schema:s,schemaPath:(0,Si._)`${t.schemaPath}${(0,Si.getProperty)(i)}`,errSchemaPath:`${t.errSchemaPath}/${i}`}:{schema:s[n],schemaPath:(0,Si._)`${t.schemaPath}${(0,Si.getProperty)(i)}${(0,Si.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${i}/${(0,Ku.escapeFragment)(n)}`}}if(e!==void 0){if(o===void 0||r===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:e,schemaPath:o,topSchemaRef:a,errSchemaPath:r}}throw new Error('either "keyword" or "schema" must be passed')}tn.getSubschema=Eg;function Ng(t,i,{dataProp:n,dataPropType:e,data:o,dataTypes:r,propertyName:a}){if(o!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=i;if(n!==void 0){let{errorPath:p,dataPathArr:h,opts:g}=i,v=s.let("data",(0,Si._)`${i.data}${(0,Si.getProperty)(n)}`,!0);l(v),t.errorPath=(0,Si.str)`${p}${(0,Ku.getErrorPath)(n,e,g.jsPropertySyntax)}`,t.parentDataProperty=(0,Si._)`${n}`,t.dataPathArr=[...h,t.parentDataProperty]}if(o!==void 0){let p=o instanceof Si.Name?o:s.let("data",o,!0);l(p),a!==void 0&&(t.propertyName=a)}r&&(t.dataTypes=r);function l(p){t.data=p,t.dataLevel=i.dataLevel+1,t.dataTypes=[],i.definedProperties=new Set,t.parentData=i.data,t.dataNames=[...i.dataNames,p]}}tn.extendSubschemaData=Ng;function $g(t,{jtdDiscriminator:i,jtdMetadata:n,compositeRule:e,createErrors:o,allErrors:r}){e!==void 0&&(t.compositeRule=e),o!==void 0&&(t.createErrors=o),r!==void 0&&(t.allErrors=r),t.jtdDiscriminator=i,t.jtdMetadata=n}tn.extendSubschemaMode=$g});var ml=H((vI,Zu)=>{"use strict";Zu.exports=function t(i,n){if(i===n)return!0;if(i&&n&&typeof i=="object"&&typeof n=="object"){if(i.constructor!==n.constructor)return!1;var e,o,r;if(Array.isArray(i)){if(e=i.length,e!=n.length)return!1;for(o=e;o--!==0;)if(!t(i[o],n[o]))return!1;return!0}if(i.constructor===RegExp)return i.source===n.source&&i.flags===n.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===n.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===n.toString();if(r=Object.keys(i),e=r.length,e!==Object.keys(n).length)return!1;for(o=e;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=e;o--!==0;){var a=r[o];if(!t(i[a],n[a]))return!1}return!0}return i!==i&&n!==n}});var Ju=H((xI,Xu)=>{"use strict";var nn=Xu.exports=function(t,i,n){typeof i=="function"&&(n=i,i={}),n=i.cb||n;var e=typeof n=="function"?n:n.pre||function(){},o=n.post||function(){};ba(i,e,o,t,"",t)};nn.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};nn.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};nn.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};nn.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ba(t,i,n,e,o,r,a,s,l,p){if(e&&typeof e=="object"&&!Array.isArray(e)){i(e,o,r,a,s,l,p);for(var h in e){var g=e[h];if(Array.isArray(g)){if(h in nn.arrayKeywords)for(var v=0;v<g.length;v++)ba(t,i,n,g[v],o+"/"+h+"/"+v,r,o,h,e,v)}else if(h in nn.propsKeywords){if(g&&typeof g=="object")for(var C in g)ba(t,i,n,g[C],o+"/"+h+"/"+Fg(C),r,o,h,e,C)}else(h in nn.keywords||t.allKeys&&!(h in nn.skipKeywords))&&ba(t,i,n,g,o+"/"+h,r,o,h,e)}n(e,o,r,a,s,l,p)}}function Fg(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Wo=H(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getSchemaRefs=Wt.resolveUrl=Wt.normalizeId=Wt._getFullPath=Wt.getFullPath=Wt.inlineRef=void 0;var Vg=Oe(),Rg=ml(),Ag=Ju(),Hg=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Lg(t,i=!0){return typeof t=="boolean"?!0:i===!0?!fl(t):i?eh(t)<=i:!1}Wt.inlineRef=Lg;var jg=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function fl(t){for(let i in t){if(jg.has(i))return!0;let n=t[i];if(Array.isArray(n)&&n.some(fl)||typeof n=="object"&&fl(n))return!0}return!1}function eh(t){let i=0;for(let n in t){if(n==="$ref")return 1/0;if(i++,!Hg.has(n)&&(typeof t[n]=="object"&&(0,Vg.eachItem)(t[n],e=>i+=eh(e)),i===1/0))return 1/0}return i}function th(t,i="",n){n!==!1&&(i=oo(i));let e=t.parse(i);return ih(t,e)}Wt.getFullPath=th;function ih(t,i){return t.serialize(i).split("#")[0]+"#"}Wt._getFullPath=ih;var Bg=/#\/?$/;function oo(t){return t?t.replace(Bg,""):""}Wt.normalizeId=oo;function Wg(t,i,n){return n=oo(n),t.resolve(i,n)}Wt.resolveUrl=Wg;var qg=/^[a-z_][-a-z0-9._]*$/i;function Qg(t,i){if(typeof t=="boolean")return{};let{schemaId:n,uriResolver:e}=this.opts,o=oo(t[n]||i),r={"":o},a=th(e,o,!1),s={},l=new Set;return Ag(t,{allKeys:!0},(g,v,C,b)=>{if(b===void 0)return;let S=a+v,$=r[b];typeof g[n]=="string"&&($=P.call(this,g[n])),W.call(this,g.$anchor),W.call(this,g.$dynamicAnchor),r[v]=$;function P(se){let Ve=this.opts.uriResolver.resolve;if(se=oo($?Ve($,se):se),l.has(se))throw h(se);l.add(se);let B=this.refs[se];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?p(g,B.schema,se):se!==oo(S)&&(se[0]==="#"?(p(g,s[se],se),s[se]=g):this.refs[se]=S),se}function W(se){if(typeof se=="string"){if(!qg.test(se))throw new Error(`invalid anchor "${se}"`);P.call(this,`#${se}`)}}}),s;function p(g,v,C){if(v!==void 0&&!Rg(g,v))throw h(C)}function h(g){return new Error(`reference "${g}" resolves to more than one schema`)}}Wt.getSchemaRefs=Qg});var Uo=H(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.getData=on.KeywordCxt=on.validateFunctionCode=void 0;var sh=Fu(),nh=Bo(),gl=sl(),Sa=Bo(),Ug=Bu(),Qo=Yu(),_l=Gu(),Y=fe(),re=Hi(),Yg=Wo(),Li=Oe(),qo=jo();function Kg(t){if(dh(t)&&(ph(t),ch(t))){Xg(t);return}lh(t,()=>(0,sh.topBoolOrEmptySchema)(t))}on.validateFunctionCode=Kg;function lh({gen:t,validateName:i,schema:n,schemaEnv:e,opts:o},r){o.code.es5?t.func(i,(0,Y._)`${re.default.data}, ${re.default.valCxt}`,e.$async,()=>{t.code((0,Y._)`"use strict"; ${oh(n,o)}`),Zg(t,o),t.code(r)}):t.func(i,(0,Y._)`${re.default.data}, ${Gg(o)}`,e.$async,()=>t.code(oh(n,o)).code(r))}function Gg(t){return(0,Y._)`{${re.default.instancePath}="", ${re.default.parentData}, ${re.default.parentDataProperty}, ${re.default.rootData}=${re.default.data}${t.dynamicRef?(0,Y._)`, ${re.default.dynamicAnchors}={}`:Y.nil}}={}`}function Zg(t,i){t.if(re.default.valCxt,()=>{t.var(re.default.instancePath,(0,Y._)`${re.default.valCxt}.${re.default.instancePath}`),t.var(re.default.parentData,(0,Y._)`${re.default.valCxt}.${re.default.parentData}`),t.var(re.default.parentDataProperty,(0,Y._)`${re.default.valCxt}.${re.default.parentDataProperty}`),t.var(re.default.rootData,(0,Y._)`${re.default.valCxt}.${re.default.rootData}`),i.dynamicRef&&t.var(re.default.dynamicAnchors,(0,Y._)`${re.default.valCxt}.${re.default.dynamicAnchors}`)},()=>{t.var(re.default.instancePath,(0,Y._)`""`),t.var(re.default.parentData,(0,Y._)`undefined`),t.var(re.default.parentDataProperty,(0,Y._)`undefined`),t.var(re.default.rootData,re.default.data),i.dynamicRef&&t.var(re.default.dynamicAnchors,(0,Y._)`{}`)})}function Xg(t){let{schema:i,opts:n,gen:e}=t;lh(t,()=>{n.$comment&&i.$comment&&hh(t),nC(t),e.let(re.default.vErrors,null),e.let(re.default.errors,0),n.unevaluated&&Jg(t),uh(t),aC(t)})}function Jg(t){let{gen:i,validateName:n}=t;t.evaluated=i.const("evaluated",(0,Y._)`${n}.evaluated`),i.if((0,Y._)`${t.evaluated}.dynamicProps`,()=>i.assign((0,Y._)`${t.evaluated}.props`,(0,Y._)`undefined`)),i.if((0,Y._)`${t.evaluated}.dynamicItems`,()=>i.assign((0,Y._)`${t.evaluated}.items`,(0,Y._)`undefined`))}function oh(t,i){let n=typeof t=="object"&&t[i.schemaId];return n&&(i.code.source||i.code.process)?(0,Y._)`/*# sourceURL=${n} */`:Y.nil}function eC(t,i){if(dh(t)&&(ph(t),ch(t))){tC(t,i);return}(0,sh.boolOrEmptySchema)(t,i)}function ch({schema:t,self:i}){if(typeof t=="boolean")return!t;for(let n in t)if(i.RULES.all[n])return!0;return!1}function dh(t){return typeof t.schema!="boolean"}function tC(t,i){let{schema:n,gen:e,opts:o}=t;o.$comment&&n.$comment&&hh(t),oC(t),rC(t);let r=e.const("_errs",re.default.errors);uh(t,r),e.var(i,(0,Y._)`${r} === ${re.default.errors}`)}function ph(t){(0,Li.checkUnknownRules)(t),iC(t)}function uh(t,i){if(t.opts.jtd)return rh(t,[],!1,i);let n=(0,nh.getSchemaTypes)(t.schema),e=(0,nh.coerceAndCheckDataType)(t,n);rh(t,n,!e,i)}function iC(t){let{schema:i,errSchemaPath:n,opts:e,self:o}=t;i.$ref&&e.ignoreKeywordsWithRef&&(0,Li.schemaHasRulesButRef)(i,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function nC(t){let{schema:i,opts:n}=t;i.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Li.checkStrictMode)(t,"default is ignored in the schema root")}function oC(t){let i=t.schema[t.opts.schemaId];i&&(t.baseId=(0,Yg.resolveUrl)(t.opts.uriResolver,t.baseId,i))}function rC(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function hh({gen:t,schemaEnv:i,schema:n,errSchemaPath:e,opts:o}){let r=n.$comment;if(o.$comment===!0)t.code((0,Y._)`${re.default.self}.logger.log(${r})`);else if(typeof o.$comment=="function"){let a=(0,Y.str)`${e}/$comment`,s=t.scopeValue("root",{ref:i.root});t.code((0,Y._)`${re.default.self}.opts.$comment(${r}, ${a}, ${s}.schema)`)}}function aC(t){let{gen:i,schemaEnv:n,validateName:e,ValidationError:o,opts:r}=t;n.$async?i.if((0,Y._)`${re.default.errors} === 0`,()=>i.return(re.default.data),()=>i.throw((0,Y._)`new ${o}(${re.default.vErrors})`)):(i.assign((0,Y._)`${e}.errors`,re.default.vErrors),r.unevaluated&&sC(t),i.return((0,Y._)`${re.default.errors} === 0`))}function sC({gen:t,evaluated:i,props:n,items:e}){n instanceof Y.Name&&t.assign((0,Y._)`${i}.props`,n),e instanceof Y.Name&&t.assign((0,Y._)`${i}.items`,e)}function rh(t,i,n,e){let{gen:o,schema:r,data:a,allErrors:s,opts:l,self:p}=t,{RULES:h}=p;if(r.$ref&&(l.ignoreKeywordsWithRef||!(0,Li.schemaHasRulesButRef)(r,h))){o.block(()=>fh(t,"$ref",h.all.$ref.definition));return}l.jtd||lC(t,i),o.block(()=>{for(let v of h.rules)g(v);g(h.post)});function g(v){(0,gl.shouldUseGroup)(r,v)&&(v.type?(o.if((0,Sa.checkDataType)(v.type,a,l.strictNumbers)),ah(t,v),i.length===1&&i[0]===v.type&&n&&(o.else(),(0,Sa.reportTypeError)(t)),o.endIf()):ah(t,v),s||o.if((0,Y._)`${re.default.errors} === ${e||0}`))}}function ah(t,i){let{gen:n,schema:e,opts:{useDefaults:o}}=t;o&&(0,Ug.assignDefaults)(t,i.type),n.block(()=>{for(let r of i.rules)(0,gl.shouldUseRule)(e,r)&&fh(t,r.keyword,r.definition,i.type)})}function lC(t,i){t.schemaEnv.meta||!t.opts.strictTypes||(cC(t,i),t.opts.allowUnionTypes||dC(t,i),pC(t,t.dataTypes))}function cC(t,i){if(i.length){if(!t.dataTypes.length){t.dataTypes=i;return}i.forEach(n=>{mh(t.dataTypes,n)||Cl(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),hC(t,i)}}function dC(t,i){i.length>1&&!(i.length===2&&i.includes("null"))&&Cl(t,"use allowUnionTypes to allow union type keyword")}function pC(t,i){let n=t.self.RULES.all;for(let e in n){let o=n[e];if(typeof o=="object"&&(0,gl.shouldUseRule)(t.schema,o)){let{type:r}=o.definition;r.length&&!r.some(a=>uC(i,a))&&Cl(t,`missing type "${r.join(",")}" for keyword "${e}"`)}}}function uC(t,i){return t.includes(i)||i==="number"&&t.includes("integer")}function mh(t,i){return t.includes(i)||i==="integer"&&t.includes("number")}function hC(t,i){let n=[];for(let e of t.dataTypes)mh(i,e)?n.push(e):i.includes("integer")&&e==="number"&&n.push("integer");t.dataTypes=n}function Cl(t,i){let n=t.schemaEnv.baseId+t.errSchemaPath;i+=` at "${n}" (strictTypes)`,(0,Li.checkStrictMode)(t,i,t.opts.strictTypes)}var wa=class{constructor(i,n,e){if((0,Qo.validateKeywordUsage)(i,n,e),this.gen=i.gen,this.allErrors=i.allErrors,this.keyword=e,this.data=i.data,this.schema=i.schema[e],this.$data=n.$data&&i.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Li.schemaRefOrVal)(i,this.schema,e,this.$data),this.schemaType=n.schemaType,this.parentSchema=i.schema,this.params={},this.it=i,this.def=n,this.$data)this.schemaCode=i.gen.const("vSchema",_h(this.$data,i));else if(this.schemaCode=this.schemaValue,!(0,Qo.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${e} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=i.gen.const("_errs",re.default.errors))}result(i,n,e){this.failResult((0,Y.not)(i),n,e)}failResult(i,n,e){this.gen.if(i),e?e():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(i,n){this.failResult((0,Y.not)(i),void 0,n)}fail(i){if(i===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(i),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(i){if(!this.$data)return this.fail(i);let{schemaCode:n}=this;this.fail((0,Y._)`${n} !== undefined && (${(0,Y.or)(this.invalid$data(),i)})`)}error(i,n,e){if(n){this.setParams(n),this._error(i,e),this.setParams({});return}this._error(i,e)}_error(i,n){(i?qo.reportExtraError:qo.reportError)(this,this.def.error,n)}$dataError(){(0,qo.reportError)(this,this.def.$dataError||qo.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,qo.resetErrorsCount)(this.gen,this.errsCount)}ok(i){this.allErrors||this.gen.if(i)}setParams(i,n){n?Object.assign(this.params,i):this.params=i}block$data(i,n,e=Y.nil){this.gen.block(()=>{this.check$data(i,e),n()})}check$data(i=Y.nil,n=Y.nil){if(!this.$data)return;let{gen:e,schemaCode:o,schemaType:r,def:a}=this;e.if((0,Y.or)((0,Y._)`${o} === undefined`,n)),i!==Y.nil&&e.assign(i,!0),(r.length||a.validateSchema)&&(e.elseIf(this.invalid$data()),this.$dataError(),i!==Y.nil&&e.assign(i,!1)),e.else()}invalid$data(){let{gen:i,schemaCode:n,schemaType:e,def:o,it:r}=this;return(0,Y.or)(a(),s());function a(){if(e.length){if(!(n instanceof Y.Name))throw new Error("ajv implementation error");let l=Array.isArray(e)?e:[e];return(0,Y._)`${(0,Sa.checkDataTypes)(l,n,r.opts.strictNumbers,Sa.DataType.Wrong)}`}return Y.nil}function s(){if(o.validateSchema){let l=i.scopeValue("validate$data",{ref:o.validateSchema});return(0,Y._)`!${l}(${n})`}return Y.nil}}subschema(i,n){let e=(0,_l.getSubschema)(this.it,i);(0,_l.extendSubschemaData)(e,this.it,i),(0,_l.extendSubschemaMode)(e,i);let o=ce(T(T({},this.it),e),{items:void 0,props:void 0});return eC(o,n),o}mergeEvaluated(i,n){let{it:e,gen:o}=this;e.opts.unevaluated&&(e.props!==!0&&i.props!==void 0&&(e.props=Li.mergeEvaluated.props(o,i.props,e.props,n)),e.items!==!0&&i.items!==void 0&&(e.items=Li.mergeEvaluated.items(o,i.items,e.items,n)))}mergeValidEvaluated(i,n){let{it:e,gen:o}=this;if(e.opts.unevaluated&&(e.props!==!0||e.items!==!0))return o.if(n,()=>this.mergeEvaluated(i,Y.Name)),!0}};on.KeywordCxt=wa;function fh(t,i,n,e){let o=new wa(t,n,i);"code"in n?n.code(o,e):o.$data&&n.validate?(0,Qo.funcKeywordCode)(o,n):"macro"in n?(0,Qo.macroKeywordCode)(o,n):(n.compile||n.validate)&&(0,Qo.funcKeywordCode)(o,n)}var mC=/^\/(?:[^~]|~0|~1)*$/,fC=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function _h(t,{dataLevel:i,dataNames:n,dataPathArr:e}){let o,r;if(t==="")return re.default.rootData;if(t[0]==="/"){if(!mC.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);o=t,r=re.default.rootData}else{let p=fC.exec(t);if(!p)throw new Error(`Invalid JSON-pointer: ${t}`);let h=+p[1];if(o=p[2],o==="#"){if(h>=i)throw new Error(l("property/index",h));return e[i-h]}if(h>i)throw new Error(l("data",h));if(r=n[i-h],!o)return r}let a=r,s=o.split("/");for(let p of s)p&&(r=(0,Y._)`${r}${(0,Y.getProperty)((0,Li.unescapeJsonPointer)(p))}`,a=(0,Y._)`${a} && ${r}`);return a;function l(p,h){return`Cannot access ${p} ${h} levels up, current level is ${i}`}}on.getData=_h});var Ta=H(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});var yl=class extends Error{constructor(i){super("validation failed"),this.errors=i,this.ajv=this.validation=!0}};zl.default=yl});var Yo=H(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var vl=Wo(),xl=class extends Error{constructor(i,n,e,o){super(o||`can't resolve reference ${e} from id ${n}`),this.missingRef=(0,vl.resolveUrl)(i,n,e),this.missingSchema=(0,vl.normalizeId)((0,vl.getFullPath)(i,this.missingRef))}};bl.default=xl});var Da=H(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.resolveSchema=ti.getCompilingSchema=ti.resolveRef=ti.compileSchema=ti.SchemaEnv=void 0;var fi=fe(),_C=Ta(),xn=Hi(),_i=Wo(),gh=Oe(),gC=Uo(),ro=class{constructor(i){var n;this.refs={},this.dynamicAnchors={};let e;typeof i.schema=="object"&&(e=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(n=i.baseId)!==null&&n!==void 0?n:(0,_i.normalizeId)(e?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=e?.$async,this.refs={}}};ti.SchemaEnv=ro;function wl(t){let i=Ch.call(this,t);if(i)return i;let n=(0,_i.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:e,lines:o}=this.opts.code,{ownProperties:r}=this.opts,a=new fi.CodeGen(this.scope,{es5:e,lines:o,ownProperties:r}),s;t.$async&&(s=a.scopeValue("Error",{ref:_C.default,code:(0,fi._)`require("ajv/dist/runtime/validation_error").default`}));let l=a.scopeName("validate");t.validateName=l;let p={gen:a,allErrors:this.opts.allErrors,data:xn.default.data,parentData:xn.default.parentData,parentDataProperty:xn.default.parentDataProperty,dataNames:[xn.default.data],dataPathArr:[fi.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,fi.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:fi.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,fi._)`""`,opts:this.opts,self:this},h;try{this._compilations.add(t),(0,gC.validateFunctionCode)(p),a.optimize(this.opts.code.optimize);let g=a.toString();h=`${a.scopeRefs(xn.default.scope)}return ${g}`,this.opts.code.process&&(h=this.opts.code.process(h,t));let C=new Function(`${xn.default.self}`,`${xn.default.scope}`,h)(this,this.scope.get());if(this.scope.value(l,{ref:C}),C.errors=null,C.schema=t.schema,C.schemaEnv=t,t.$async&&(C.$async=!0),this.opts.code.source===!0&&(C.source={validateName:l,validateCode:g,scopeValues:a._values}),this.opts.unevaluated){let{props:b,items:S}=p;C.evaluated={props:b instanceof fi.Name?void 0:b,items:S instanceof fi.Name?void 0:S,dynamicProps:b instanceof fi.Name,dynamicItems:S instanceof fi.Name},C.source&&(C.source.evaluated=(0,fi.stringify)(C.evaluated))}return t.validate=C,t}catch(g){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),g}finally{this._compilations.delete(t)}}ti.compileSchema=wl;function CC(t,i,n){var e;n=(0,_i.resolveUrl)(this.opts.uriResolver,i,n);let o=t.refs[n];if(o)return o;let r=vC.call(this,t,n);if(r===void 0){let a=(e=t.localRefs)===null||e===void 0?void 0:e[n],{schemaId:s}=this.opts;a&&(r=new ro({schema:a,schemaId:s,root:t,baseId:i}))}if(r!==void 0)return t.refs[n]=yC.call(this,r)}ti.resolveRef=CC;function yC(t){return(0,_i.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:wl.call(this,t)}function Ch(t){for(let i of this._compilations)if(zC(i,t))return i}ti.getCompilingSchema=Ch;function zC(t,i){return t.schema===i.schema&&t.root===i.root&&t.baseId===i.baseId}function vC(t,i){let n;for(;typeof(n=this.refs[i])=="string";)i=n;return n||this.schemas[i]||ka.call(this,t,i)}function ka(t,i){let n=this.opts.uriResolver.parse(i),e=(0,_i._getFullPath)(this.opts.uriResolver,n),o=(0,_i.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&e===o)return Sl.call(this,n,t);let r=(0,_i.normalizeId)(e),a=this.refs[r]||this.schemas[r];if(typeof a=="string"){let s=ka.call(this,t,a);return typeof s?.schema!="object"?void 0:Sl.call(this,n,s)}if(typeof a?.schema=="object"){if(a.validate||wl.call(this,a),r===(0,_i.normalizeId)(i)){let{schema:s}=a,{schemaId:l}=this.opts,p=s[l];return p&&(o=(0,_i.resolveUrl)(this.opts.uriResolver,o,p)),new ro({schema:s,schemaId:l,root:t,baseId:o})}return Sl.call(this,n,a)}}ti.resolveSchema=ka;var xC=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Sl(t,{baseId:i,schema:n,root:e}){var o;if(((o=t.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;let l=n[(0,gh.unescapeFragment)(s)];if(l===void 0)return;n=l;let p=typeof n=="object"&&n[this.opts.schemaId];!xC.has(s)&&p&&(i=(0,_i.resolveUrl)(this.opts.uriResolver,i,p))}let r;if(typeof n!="boolean"&&n.$ref&&!(0,gh.schemaHasRulesButRef)(n,this.RULES)){let s=(0,_i.resolveUrl)(this.opts.uriResolver,i,n.$ref);r=ka.call(this,e,s)}let{schemaId:a}=this.opts;if(r=r||new ro({schema:n,schemaId:a,root:e,baseId:i}),r.schema!==r.root.schema)return r}});var yh=H((PI,bC)=>{bC.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var vh=H((MI,zh)=>{"use strict";var SC={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};zh.exports={HEX:SC}});var Ph=H((OI,Dh)=>{"use strict";var{HEX:wC}=vh();function wh(t){if(kh(t,".")<3)return{host:t,isIPV4:!1};let i=t.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[n]=i;return n?{host:kC(n,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function Tl(t,i=!1){let n="",e=!0;for(let o of t){if(wC[o]===void 0)return;o!=="0"&&e===!0&&(e=!1),e||(n+=o)}return i&&n.length===0&&(n="0"),n}function TC(t){let i=0,n={error:!1,address:"",zone:""},e=[],o=[],r=!1,a=!1,s=!1;function l(){if(o.length){if(r===!1){let p=Tl(o);if(p!==void 0)e.push(p);else return n.error=!0,!1}o.length=0}return!0}for(let p=0;p<t.length;p++){let h=t[p];if(!(h==="["||h==="]"))if(h===":"){if(a===!0&&(s=!0),!l())break;if(i++,e.push(":"),i>7){n.error=!0;break}p-1>=0&&t[p-1]===":"&&(a=!0);continue}else if(h==="%"){if(!l())break;r=!0}else{o.push(h);continue}}return o.length&&(r?n.zone=o.join(""):s?e.push(o.join("")):e.push(Tl(o))),n.address=e.join(""),n}function Th(t,i={}){if(kh(t,":")<2)return{host:t,isIPV6:!1};let n=TC(t);if(n.error)return{host:t,isIPV6:!1};{let e=n.address,o=n.address;return n.zone&&(e+="%"+n.zone,o+="%25"+n.zone),{host:e,escapedHost:o,isIPV6:!0}}}function kC(t,i){let n="",e=!0,o=t.length;for(let r=0;r<o;r++){let a=t[r];a==="0"&&e?(r+1<=o&&t[r+1]===i||r+1===o)&&(n+=a,e=!1):(a===i?e=!0:e=!1,n+=a)}return n}function kh(t,i){let n=0;for(let e=0;e<t.length;e++)t[e]===i&&n++;return n}var xh=/^\.\.?\//u,bh=/^\/\.(?:\/|$)/u,Sh=/^\/\.\.(?:\/|$)/u,DC=/^\/?(?:.|\n)*?(?=\/|$)/u;function PC(t){let i=[];for(;t.length;)if(t.match(xh))t=t.replace(xh,"");else if(t.match(bh))t=t.replace(bh,"/");else if(t.match(Sh))t=t.replace(Sh,"/"),i.pop();else if(t==="."||t==="..")t="";else{let n=t.match(DC);if(n){let e=n[0];t=t.slice(e.length),i.push(e)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function MC(t,i){let n=i!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=n(t.scheme)),t.userinfo!==void 0&&(t.userinfo=n(t.userinfo)),t.host!==void 0&&(t.host=n(t.host)),t.path!==void 0&&(t.path=n(t.path)),t.query!==void 0&&(t.query=n(t.query)),t.fragment!==void 0&&(t.fragment=n(t.fragment)),t}function OC(t,i){let n=[];if(t.userinfo!==void 0&&(n.push(t.userinfo),n.push("@")),t.host!==void 0){let e=unescape(t.host),o=wh(e);if(o.isIPV4)e=o.host;else{let r=Th(o.host,{isIPV4:!1});r.isIPV6===!0?e=`[${r.escapedHost}]`:e=t.host}n.push(e)}return(typeof t.port=="number"||typeof t.port=="string")&&(n.push(":"),n.push(String(t.port))),n.length?n.join(""):void 0}Dh.exports={recomposeAuthority:OC,normalizeComponentEncoding:MC,removeDotSegments:PC,normalizeIPv4:wh,normalizeIPv6:Th,stringArrayToHexStripped:Tl}});var $h=H((II,Nh)=>{"use strict";var IC=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,EC=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Mh(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function Oh(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function Ih(t){let i=String(t.scheme).toLowerCase()==="https";return(t.port===(i?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function NC(t){return t.secure=Mh(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function $C(t){if((t.port===(Mh(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[i,n]=t.resourceName.split("?");t.path=i&&i!=="/"?i:void 0,t.query=n,t.resourceName=void 0}return t.fragment=void 0,t}function FC(t,i){if(!t.path)return t.error="URN can not be parsed",t;let n=t.path.match(EC);if(n){let e=i.scheme||t.scheme||"urn";t.nid=n[1].toLowerCase(),t.nss=n[2];let o=`${e}:${i.nid||t.nid}`,r=kl[o];t.path=void 0,r&&(t=r.parse(t,i))}else t.error=t.error||"URN can not be parsed.";return t}function VC(t,i){let n=i.scheme||t.scheme||"urn",e=t.nid.toLowerCase(),o=`${n}:${i.nid||e}`,r=kl[o];r&&(t=r.serialize(t,i));let a=t,s=t.nss;return a.path=`${e||i.nid}:${s}`,i.skipEscape=!0,a}function RC(t,i){let n=t;return n.uuid=n.nss,n.nss=void 0,!i.tolerant&&(!n.uuid||!IC.test(n.uuid))&&(n.error=n.error||"UUID is not valid."),n}function AC(t){let i=t;return i.nss=(t.uuid||"").toLowerCase(),i}var Eh={scheme:"http",domainHost:!0,parse:Oh,serialize:Ih},HC={scheme:"https",domainHost:Eh.domainHost,parse:Oh,serialize:Ih},Pa={scheme:"ws",domainHost:!0,parse:NC,serialize:$C},LC={scheme:"wss",domainHost:Pa.domainHost,parse:Pa.parse,serialize:Pa.serialize},jC={scheme:"urn",parse:FC,serialize:VC,skipNormalize:!0},BC={scheme:"urn:uuid",parse:RC,serialize:AC,skipNormalize:!0},kl={http:Eh,https:HC,ws:Pa,wss:LC,urn:jC,"urn:uuid":BC};Nh.exports=kl});var Vh=H((EI,Oa)=>{"use strict";var{normalizeIPv6:WC,normalizeIPv4:qC,removeDotSegments:Ko,recomposeAuthority:QC,normalizeComponentEncoding:Ma}=Ph(),Dl=$h();function UC(t,i){return typeof t=="string"?t=wi(ji(t,i),i):typeof t=="object"&&(t=ji(wi(t,i),i)),t}function YC(t,i,n){let e=Object.assign({scheme:"null"},n),o=Fh(ji(t,e),ji(i,e),e,!0);return wi(o,ce(T({},e),{skipEscape:!0}))}function Fh(t,i,n,e){let o={};return e||(t=ji(wi(t,n),n),i=ji(wi(i,n),n)),n=n||{},!n.tolerant&&i.scheme?(o.scheme=i.scheme,o.userinfo=i.userinfo,o.host=i.host,o.port=i.port,o.path=Ko(i.path||""),o.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(o.userinfo=i.userinfo,o.host=i.host,o.port=i.port,o.path=Ko(i.path||""),o.query=i.query):(i.path?(i.path.charAt(0)==="/"?o.path=Ko(i.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?o.path="/"+i.path:t.path?o.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+i.path:o.path=i.path,o.path=Ko(o.path)),o.query=i.query):(o.path=t.path,i.query!==void 0?o.query=i.query:o.query=t.query),o.userinfo=t.userinfo,o.host=t.host,o.port=t.port),o.scheme=t.scheme),o.fragment=i.fragment,o}function KC(t,i,n){return typeof t=="string"?(t=unescape(t),t=wi(Ma(ji(t,n),!0),ce(T({},n),{skipEscape:!0}))):typeof t=="object"&&(t=wi(Ma(t,!0),ce(T({},n),{skipEscape:!0}))),typeof i=="string"?(i=unescape(i),i=wi(Ma(ji(i,n),!0),ce(T({},n),{skipEscape:!0}))):typeof i=="object"&&(i=wi(Ma(i,!0),ce(T({},n),{skipEscape:!0}))),t.toLowerCase()===i.toLowerCase()}function wi(t,i){let n={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},e=Object.assign({},i),o=[],r=Dl[(e.scheme||n.scheme||"").toLowerCase()];r&&r.serialize&&r.serialize(n,e),n.path!==void 0&&(e.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),n.scheme!==void 0&&(n.path=n.path.split("%3A").join(":")))),e.reference!=="suffix"&&n.scheme&&(o.push(n.scheme),o.push(":"));let a=QC(n,e);if(a!==void 0&&(e.reference!=="suffix"&&o.push("//"),o.push(a),n.path&&n.path.charAt(0)!=="/"&&o.push("/")),n.path!==void 0){let s=n.path;!e.absolutePath&&(!r||!r.absolutePath)&&(s=Ko(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),o.push(s)}return n.query!==void 0&&(o.push("?"),o.push(n.query)),n.fragment!==void 0&&(o.push("#"),o.push(n.fragment)),o.join("")}var GC=Array.from({length:127},(t,i)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(i)));function ZC(t){let i=0;for(let n=0,e=t.length;n<e;++n)if(i=t.charCodeAt(n),i>126||GC[i])return!0;return!1}var XC=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function ji(t,i){let n=Object.assign({},i),e={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=t.indexOf("%")!==-1,r=!1;n.reference==="suffix"&&(t=(n.scheme?n.scheme+":":"")+"//"+t);let a=t.match(XC);if(a){if(e.scheme=a[1],e.userinfo=a[3],e.host=a[4],e.port=parseInt(a[5],10),e.path=a[6]||"",e.query=a[7],e.fragment=a[8],isNaN(e.port)&&(e.port=a[5]),e.host){let l=qC(e.host);if(l.isIPV4===!1){let p=WC(l.host,{isIPV4:!1});e.host=p.host.toLowerCase(),r=p.isIPV6}else e.host=l.host,r=!0}e.scheme===void 0&&e.userinfo===void 0&&e.host===void 0&&e.port===void 0&&!e.path&&e.query===void 0?e.reference="same-document":e.scheme===void 0?e.reference="relative":e.fragment===void 0?e.reference="absolute":e.reference="uri",n.reference&&n.reference!=="suffix"&&n.reference!==e.reference&&(e.error=e.error||"URI is not a "+n.reference+" reference.");let s=Dl[(n.scheme||e.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!s||!s.unicodeSupport)&&e.host&&(n.domainHost||s&&s.domainHost)&&r===!1&&ZC(e.host))try{e.host=URL.domainToASCII(e.host.toLowerCase())}catch(l){e.error=e.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(o&&e.scheme!==void 0&&(e.scheme=unescape(e.scheme)),o&&e.userinfo!==void 0&&(e.userinfo=unescape(e.userinfo)),o&&e.host!==void 0&&(e.host=unescape(e.host)),e.path!==void 0&&e.path.length&&(e.path=escape(unescape(e.path))),e.fragment!==void 0&&e.fragment.length&&(e.fragment=encodeURI(decodeURIComponent(e.fragment)))),s&&s.parse&&s.parse(e,n)}else e.error=e.error||"URI can not be parsed.";return e}var Pl={SCHEMES:Dl,normalize:UC,resolve:YC,resolveComponents:Fh,equal:KC,serialize:wi,parse:ji};Oa.exports=Pl;Oa.exports.default=Pl;Oa.exports.fastUri=Pl});var Ah=H(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});var Rh=Vh();Rh.code='require("ajv/dist/runtime/uri").default';Ml.default=Rh});var Uh=H(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.CodeGen=zt.Name=zt.nil=zt.stringify=zt.str=zt._=zt.KeywordCxt=void 0;var JC=Uo();Object.defineProperty(zt,"KeywordCxt",{enumerable:!0,get:function(){return JC.KeywordCxt}});var ao=fe();Object.defineProperty(zt,"_",{enumerable:!0,get:function(){return ao._}});Object.defineProperty(zt,"str",{enumerable:!0,get:function(){return ao.str}});Object.defineProperty(zt,"stringify",{enumerable:!0,get:function(){return ao.stringify}});Object.defineProperty(zt,"nil",{enumerable:!0,get:function(){return ao.nil}});Object.defineProperty(zt,"Name",{enumerable:!0,get:function(){return ao.Name}});Object.defineProperty(zt,"CodeGen",{enumerable:!0,get:function(){return ao.CodeGen}});var ey=Ta(),Wh=Yo(),ty=al(),Go=Da(),iy=fe(),Zo=Wo(),Ia=Bo(),Il=Oe(),Hh=yh(),ny=Ah(),qh=(t,i)=>new RegExp(t,i);qh.code="new RegExp";var oy=["removeAdditional","useDefaults","coerceTypes"],ry=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),ay={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},sy={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Lh=200;function ly(t){var i,n,e,o,r,a,s,l,p,h,g,v,C,b,S,$,P,W,se,Ve,B,Ie,tt,Kt,Dn;let dn=t.strict,xo=(i=t.code)===null||i===void 0?void 0:i.optimize,vd=xo===!0||xo===void 0?1:xo||0,xd=(e=(n=t.code)===null||n===void 0?void 0:n.regExp)!==null&&e!==void 0?e:qh,D0=(o=t.uriResolver)!==null&&o!==void 0?o:ny.default;return{strictSchema:(a=(r=t.strictSchema)!==null&&r!==void 0?r:dn)!==null&&a!==void 0?a:!0,strictNumbers:(l=(s=t.strictNumbers)!==null&&s!==void 0?s:dn)!==null&&l!==void 0?l:!0,strictTypes:(h=(p=t.strictTypes)!==null&&p!==void 0?p:dn)!==null&&h!==void 0?h:"log",strictTuples:(v=(g=t.strictTuples)!==null&&g!==void 0?g:dn)!==null&&v!==void 0?v:"log",strictRequired:(b=(C=t.strictRequired)!==null&&C!==void 0?C:dn)!==null&&b!==void 0?b:!1,code:t.code?ce(T({},t.code),{optimize:vd,regExp:xd}):{optimize:vd,regExp:xd},loopRequired:(S=t.loopRequired)!==null&&S!==void 0?S:Lh,loopEnum:($=t.loopEnum)!==null&&$!==void 0?$:Lh,meta:(P=t.meta)!==null&&P!==void 0?P:!0,messages:(W=t.messages)!==null&&W!==void 0?W:!0,inlineRefs:(se=t.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(Ve=t.schemaId)!==null&&Ve!==void 0?Ve:"$id",addUsedSchema:(B=t.addUsedSchema)!==null&&B!==void 0?B:!0,validateSchema:(Ie=t.validateSchema)!==null&&Ie!==void 0?Ie:!0,validateFormats:(tt=t.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(Kt=t.unicodeRegExp)!==null&&Kt!==void 0?Kt:!0,int32range:(Dn=t.int32range)!==null&&Dn!==void 0?Dn:!0,uriResolver:D0}}var Xo=class{constructor(i={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,i=this.opts=T(T({},i),ly(i));let{es5:n,lines:e}=this.opts.code;this.scope=new iy.ValueScope({scope:{},prefixes:ry,es5:n,lines:e}),this.logger=my(i.logger);let o=i.validateFormats;i.validateFormats=!1,this.RULES=(0,ty.getRules)(),jh.call(this,ay,i,"NOT SUPPORTED"),jh.call(this,sy,i,"DEPRECATED","warn"),this._metaOpts=uy.call(this),i.formats&&dy.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),i.keywords&&py.call(this,i.keywords),typeof i.meta=="object"&&this.addMetaSchema(i.meta),cy.call(this),i.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:i,meta:n,schemaId:e}=this.opts,o=Hh;e==="id"&&(o=T({},Hh),o.id=o.$id,delete o.$id),n&&i&&this.addMetaSchema(o,o[e],!1)}defaultMeta(){let{meta:i,schemaId:n}=this.opts;return this.opts.defaultMeta=typeof i=="object"?i[n]||i:void 0}validate(i,n){let e;if(typeof i=="string"){if(e=this.getSchema(i),!e)throw new Error(`no schema with key or ref "${i}"`)}else e=this.compile(i);let o=e(n);return"$async"in e||(this.errors=e.errors),o}compile(i,n){let e=this._addSchema(i,n);return e.validate||this._compileSchemaEnv(e)}compileAsync(i,n){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:e}=this.opts;return o.call(this,i,n);function o(h,g){return yi(this,null,function*(){yield r.call(this,h.$schema);let v=this._addSchema(h,g);return v.validate||a.call(this,v)})}function r(h){return yi(this,null,function*(){h&&!this.getSchema(h)&&(yield o.call(this,{$ref:h},!0))})}function a(h){return yi(this,null,function*(){try{return this._compileSchemaEnv(h)}catch(g){if(!(g instanceof Wh.default))throw g;return s.call(this,g),yield l.call(this,g.missingSchema),a.call(this,h)}})}function s({missingSchema:h,missingRef:g}){if(this.refs[h])throw new Error(`AnySchema ${h} is loaded but ${g} cannot be resolved`)}function l(h){return yi(this,null,function*(){let g=yield p.call(this,h);this.refs[h]||(yield r.call(this,g.$schema)),this.refs[h]||this.addSchema(g,h,n)})}function p(h){return yi(this,null,function*(){let g=this._loading[h];if(g)return g;try{return yield this._loading[h]=e(h)}finally{delete this._loading[h]}})}}addSchema(i,n,e,o=this.opts.validateSchema){if(Array.isArray(i)){for(let a of i)this.addSchema(a,void 0,e,o);return this}let r;if(typeof i=="object"){let{schemaId:a}=this.opts;if(r=i[a],r!==void 0&&typeof r!="string")throw new Error(`schema ${a} must be string`)}return n=(0,Zo.normalizeId)(n||r),this._checkUnique(n),this.schemas[n]=this._addSchema(i,e,n,o,!0),this}addMetaSchema(i,n,e=this.opts.validateSchema){return this.addSchema(i,n,!0,e),this}validateSchema(i,n){if(typeof i=="boolean")return!0;let e;if(e=i.$schema,e!==void 0&&typeof e!="string")throw new Error("$schema must be a string");if(e=e||this.opts.defaultMeta||this.defaultMeta(),!e)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(e,i);if(!o&&n){let r="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(r);else throw new Error(r)}return o}getSchema(i){let n;for(;typeof(n=Bh.call(this,i))=="string";)i=n;if(n===void 0){let{schemaId:e}=this.opts,o=new Go.SchemaEnv({schema:{},schemaId:e});if(n=Go.resolveSchema.call(this,o,i),!n)return;this.refs[i]=n}return n.validate||this._compileSchemaEnv(n)}removeSchema(i){if(i instanceof RegExp)return this._removeAllSchemas(this.schemas,i),this._removeAllSchemas(this.refs,i),this;switch(typeof i){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let n=Bh.call(this,i);return typeof n=="object"&&this._cache.delete(n.schema),delete this.schemas[i],delete this.refs[i],this}case"object":{let n=i;this._cache.delete(n);let e=i[this.opts.schemaId];return e&&(e=(0,Zo.normalizeId)(e),delete this.schemas[e],delete this.refs[e]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(i){for(let n of i)this.addKeyword(n);return this}addKeyword(i,n){let e;if(typeof i=="string")e=i,typeof n=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),n.keyword=e);else if(typeof i=="object"&&n===void 0){if(n=i,e=n.keyword,Array.isArray(e)&&!e.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(_y.call(this,e,n),!n)return(0,Il.eachItem)(e,r=>Ol.call(this,r)),this;Cy.call(this,n);let o=ce(T({},n),{type:(0,Ia.getJSONTypes)(n.type),schemaType:(0,Ia.getJSONTypes)(n.schemaType)});return(0,Il.eachItem)(e,o.type.length===0?r=>Ol.call(this,r,o):r=>o.type.forEach(a=>Ol.call(this,r,o,a))),this}getKeyword(i){let n=this.RULES.all[i];return typeof n=="object"?n.definition:!!n}removeKeyword(i){let{RULES:n}=this;delete n.keywords[i],delete n.all[i];for(let e of n.rules){let o=e.rules.findIndex(r=>r.keyword===i);o>=0&&e.rules.splice(o,1)}return this}addFormat(i,n){return typeof n=="string"&&(n=new RegExp(n)),this.formats[i]=n,this}errorsText(i=this.errors,{separator:n=", ",dataVar:e="data"}={}){return!i||i.length===0?"No errors":i.map(o=>`${e}${o.instancePath} ${o.message}`).reduce((o,r)=>o+n+r)}$dataMetaSchema(i,n){let e=this.RULES.all;i=JSON.parse(JSON.stringify(i));for(let o of n){let r=o.split("/").slice(1),a=i;for(let s of r)a=a[s];for(let s in e){let l=e[s];if(typeof l!="object")continue;let{$data:p}=l.definition,h=a[s];p&&h&&(a[s]=Qh(h))}}return i}_removeAllSchemas(i,n){for(let e in i){let o=i[e];(!n||n.test(e))&&(typeof o=="string"?delete i[e]:o&&!o.meta&&(this._cache.delete(o.schema),delete i[e]))}}_addSchema(i,n,e,o=this.opts.validateSchema,r=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof i=="object")a=i[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof i!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(i);if(l!==void 0)return l;e=(0,Zo.normalizeId)(a||e);let p=Zo.getSchemaRefs.call(this,i,e);return l=new Go.SchemaEnv({schema:i,schemaId:s,meta:n,baseId:e,localRefs:p}),this._cache.set(l.schema,l),r&&!e.startsWith("#")&&(e&&this._checkUnique(e),this.refs[e]=l),o&&this.validateSchema(i,!0),l}_checkUnique(i){if(this.schemas[i]||this.refs[i])throw new Error(`schema with key or id "${i}" already exists`)}_compileSchemaEnv(i){if(i.meta?this._compileMetaSchema(i):Go.compileSchema.call(this,i),!i.validate)throw new Error("ajv implementation error");return i.validate}_compileMetaSchema(i){let n=this.opts;this.opts=this._metaOpts;try{Go.compileSchema.call(this,i)}finally{this.opts=n}}};Xo.ValidationError=ey.default;Xo.MissingRefError=Wh.default;zt.default=Xo;function jh(t,i,n,e="error"){for(let o in t){let r=o;r in i&&this.logger[e](`${n}: option ${o}. ${t[r]}`)}}function Bh(t){return t=(0,Zo.normalizeId)(t),this.schemas[t]||this.refs[t]}function cy(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let i in t)this.addSchema(t[i],i)}function dy(){for(let t in this.opts.formats){let i=this.opts.formats[t];i&&this.addFormat(t,i)}}function py(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let i in t){let n=t[i];n.keyword||(n.keyword=i),this.addKeyword(n)}}function uy(){let t=T({},this.opts);for(let i of oy)delete t[i];return t}var hy={log(){},warn(){},error(){}};function my(t){if(t===!1)return hy;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var fy=/^[a-z_$][a-z0-9_$:-]*$/i;function _y(t,i){let{RULES:n}=this;if((0,Il.eachItem)(t,e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!fy.test(e))throw new Error(`Keyword ${e} has invalid name`)}),!!i&&i.$data&&!("code"in i||"validate"in i))throw new Error('$data keyword must have "code" or "validate" function')}function Ol(t,i,n){var e;let o=i?.post;if(n&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:r}=this,a=o?r.post:r.rules.find(({type:l})=>l===n);if(a||(a={type:n,rules:[]},r.rules.push(a)),r.keywords[t]=!0,!i)return;let s={keyword:t,definition:ce(T({},i),{type:(0,Ia.getJSONTypes)(i.type),schemaType:(0,Ia.getJSONTypes)(i.schemaType)})};i.before?gy.call(this,a,s,i.before):a.rules.push(s),r.all[t]=s,(e=i.implements)===null||e===void 0||e.forEach(l=>this.addKeyword(l))}function gy(t,i,n){let e=t.rules.findIndex(o=>o.keyword===n);e>=0?t.rules.splice(e,0,i):(t.rules.push(i),this.logger.warn(`rule ${n} is not defined`))}function Cy(t){let{metaSchema:i}=t;i!==void 0&&(t.$data&&this.opts.$data&&(i=Qh(i)),t.validateSchema=this.compile(i,!0))}var yy={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Qh(t){return{anyOf:[t,yy]}}});var Yh=H(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});var zy={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};El.default=zy});var Xh=H(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.callRef=bn.getValidate=void 0;var vy=Yo(),Kh=ei(),qt=fe(),so=Hi(),Gh=Da(),Ea=Oe(),xy={keyword:"$ref",schemaType:"string",code(t){let{gen:i,schema:n,it:e}=t,{baseId:o,schemaEnv:r,validateName:a,opts:s,self:l}=e,{root:p}=r;if((n==="#"||n==="#/")&&o===p.baseId)return g();let h=Gh.resolveRef.call(l,p,o,n);if(h===void 0)throw new vy.default(e.opts.uriResolver,o,n);if(h instanceof Gh.SchemaEnv)return v(h);return C(h);function g(){if(r===p)return Na(t,a,r,r.$async);let b=i.scopeValue("root",{ref:p});return Na(t,(0,qt._)`${b}.validate`,p,p.$async)}function v(b){let S=Zh(t,b);Na(t,S,b,b.$async)}function C(b){let S=i.scopeValue("schema",s.code.source===!0?{ref:b,code:(0,qt.stringify)(b)}:{ref:b}),$=i.name("valid"),P=t.subschema({schema:b,dataTypes:[],schemaPath:qt.nil,topSchemaRef:S,errSchemaPath:n},$);t.mergeEvaluated(P),t.ok($)}}};function Zh(t,i){let{gen:n}=t;return i.validate?n.scopeValue("validate",{ref:i.validate}):(0,qt._)`${n.scopeValue("wrapper",{ref:i})}.validate`}bn.getValidate=Zh;function Na(t,i,n,e){let{gen:o,it:r}=t,{allErrors:a,schemaEnv:s,opts:l}=r,p=l.passContext?so.default.this:qt.nil;e?h():g();function h(){if(!s.$async)throw new Error("async schema referenced by sync schema");let b=o.let("valid");o.try(()=>{o.code((0,qt._)`await ${(0,Kh.callValidateCode)(t,i,p)}`),C(i),a||o.assign(b,!0)},S=>{o.if((0,qt._)`!(${S} instanceof ${r.ValidationError})`,()=>o.throw(S)),v(S),a||o.assign(b,!1)}),t.ok(b)}function g(){t.result((0,Kh.callValidateCode)(t,i,p),()=>C(i),()=>v(i))}function v(b){let S=(0,qt._)`${b}.errors`;o.assign(so.default.vErrors,(0,qt._)`${so.default.vErrors} === null ? ${S} : ${so.default.vErrors}.concat(${S})`),o.assign(so.default.errors,(0,qt._)`${so.default.vErrors}.length`)}function C(b){var S;if(!r.opts.unevaluated)return;let $=(S=n?.validate)===null||S===void 0?void 0:S.evaluated;if(r.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(r.props=Ea.mergeEvaluated.props(o,$.props,r.props));else{let P=o.var("props",(0,qt._)`${b}.evaluated.props`);r.props=Ea.mergeEvaluated.props(o,P,r.props,qt.Name)}if(r.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(r.items=Ea.mergeEvaluated.items(o,$.items,r.items));else{let P=o.var("items",(0,qt._)`${b}.evaluated.items`);r.items=Ea.mergeEvaluated.items(o,P,r.items,qt.Name)}}}bn.callRef=Na;bn.default=xy});var Jh=H(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var by=Yh(),Sy=Xh(),wy=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",by.default,Sy.default];Nl.default=wy});var em=H($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});var $a=fe(),rn=$a.operators,Fa={maximum:{okStr:"<=",ok:rn.LTE,fail:rn.GT},minimum:{okStr:">=",ok:rn.GTE,fail:rn.LT},exclusiveMaximum:{okStr:"<",ok:rn.LT,fail:rn.GTE},exclusiveMinimum:{okStr:">",ok:rn.GT,fail:rn.LTE}},Ty={message:({keyword:t,schemaCode:i})=>(0,$a.str)`must be ${Fa[t].okStr} ${i}`,params:({keyword:t,schemaCode:i})=>(0,$a._)`{comparison: ${Fa[t].okStr}, limit: ${i}}`},ky={keyword:Object.keys(Fa),type:"number",schemaType:"number",$data:!0,error:Ty,code(t){let{keyword:i,data:n,schemaCode:e}=t;t.fail$data((0,$a._)`${n} ${Fa[i].fail} ${e} || isNaN(${n})`)}};$l.default=ky});var tm=H(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var Jo=fe(),Dy={message:({schemaCode:t})=>(0,Jo.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Jo._)`{multipleOf: ${t}}`},Py={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Dy,code(t){let{gen:i,data:n,schemaCode:e,it:o}=t,r=o.opts.multipleOfPrecision,a=i.let("res"),s=r?(0,Jo._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${r}`:(0,Jo._)`${a} !== parseInt(${a})`;t.fail$data((0,Jo._)`(${e} === 0 || (${a} = ${n}/${e}, ${s}))`)}};Fl.default=Py});var nm=H(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});function im(t){let i=t.length,n=0,e=0,o;for(;e<i;)n++,o=t.charCodeAt(e++),o>=55296&&o<=56319&&e<i&&(o=t.charCodeAt(e),(o&64512)===56320&&e++);return n}Vl.default=im;im.code='require("ajv/dist/runtime/ucs2length").default'});var om=H(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var Sn=fe(),My=Oe(),Oy=nm(),Iy={message({keyword:t,schemaCode:i}){let n=t==="maxLength"?"more":"fewer";return(0,Sn.str)`must NOT have ${n} than ${i} characters`},params:({schemaCode:t})=>(0,Sn._)`{limit: ${t}}`},Ey={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Iy,code(t){let{keyword:i,data:n,schemaCode:e,it:o}=t,r=i==="maxLength"?Sn.operators.GT:Sn.operators.LT,a=o.opts.unicode===!1?(0,Sn._)`${n}.length`:(0,Sn._)`${(0,My.useFunc)(t.gen,Oy.default)}(${n})`;t.fail$data((0,Sn._)`${a} ${r} ${e}`)}};Rl.default=Ey});var rm=H(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var Ny=ei(),Va=fe(),$y={message:({schemaCode:t})=>(0,Va.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Va._)`{pattern: ${t}}`},Fy={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:$y,code(t){let{data:i,$data:n,schema:e,schemaCode:o,it:r}=t,a=r.opts.unicodeRegExp?"u":"",s=n?(0,Va._)`(new RegExp(${o}, ${a}))`:(0,Ny.usePattern)(t,e);t.fail$data((0,Va._)`!${s}.test(${i})`)}};Al.default=Fy});var am=H(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});var er=fe(),Vy={message({keyword:t,schemaCode:i}){let n=t==="maxProperties"?"more":"fewer";return(0,er.str)`must NOT have ${n} than ${i} properties`},params:({schemaCode:t})=>(0,er._)`{limit: ${t}}`},Ry={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Vy,code(t){let{keyword:i,data:n,schemaCode:e}=t,o=i==="maxProperties"?er.operators.GT:er.operators.LT;t.fail$data((0,er._)`Object.keys(${n}).length ${o} ${e}`)}};Hl.default=Ry});var sm=H(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var tr=ei(),ir=fe(),Ay=Oe(),Hy={message:({params:{missingProperty:t}})=>(0,ir.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,ir._)`{missingProperty: ${t}}`},Ly={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Hy,code(t){let{gen:i,schema:n,schemaCode:e,data:o,$data:r,it:a}=t,{opts:s}=a;if(!r&&n.length===0)return;let l=n.length>=s.loopRequired;if(a.allErrors?p():h(),s.strictRequired){let C=t.parentSchema.properties,{definedProperties:b}=t.it;for(let S of n)if(C?.[S]===void 0&&!b.has(S)){let $=a.schemaEnv.baseId+a.errSchemaPath,P=`required property "${S}" is not defined at "${$}" (strictRequired)`;(0,Ay.checkStrictMode)(a,P,a.opts.strictRequired)}}function p(){if(l||r)t.block$data(ir.nil,g);else for(let C of n)(0,tr.checkReportMissingProp)(t,C)}function h(){let C=i.let("missing");if(l||r){let b=i.let("valid",!0);t.block$data(b,()=>v(C,b)),t.ok(b)}else i.if((0,tr.checkMissingProp)(t,n,C)),(0,tr.reportMissingProp)(t,C),i.else()}function g(){i.forOf("prop",e,C=>{t.setParams({missingProperty:C}),i.if((0,tr.noPropertyInData)(i,o,C,s.ownProperties),()=>t.error())})}function v(C,b){t.setParams({missingProperty:C}),i.forOf(C,e,()=>{i.assign(b,(0,tr.propertyInData)(i,o,C,s.ownProperties)),i.if((0,ir.not)(b),()=>{t.error(),i.break()})},ir.nil)}}};Ll.default=Ly});var lm=H(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});var nr=fe(),jy={message({keyword:t,schemaCode:i}){let n=t==="maxItems"?"more":"fewer";return(0,nr.str)`must NOT have ${n} than ${i} items`},params:({schemaCode:t})=>(0,nr._)`{limit: ${t}}`},By={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:jy,code(t){let{keyword:i,data:n,schemaCode:e}=t,o=i==="maxItems"?nr.operators.GT:nr.operators.LT;t.fail$data((0,nr._)`${n}.length ${o} ${e}`)}};jl.default=By});var Ra=H(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var cm=ml();cm.code='require("ajv/dist/runtime/equal").default';Bl.default=cm});var dm=H(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});var Wl=Bo(),vt=fe(),Wy=Oe(),qy=Ra(),Qy={message:({params:{i:t,j:i}})=>(0,vt.str)`must NOT have duplicate items (items ## ${i} and ${t} are identical)`,params:({params:{i:t,j:i}})=>(0,vt._)`{i: ${t}, j: ${i}}`},Uy={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Qy,code(t){let{gen:i,data:n,$data:e,schema:o,parentSchema:r,schemaCode:a,it:s}=t;if(!e&&!o)return;let l=i.let("valid"),p=r.items?(0,Wl.getSchemaTypes)(r.items):[];t.block$data(l,h,(0,vt._)`${a} === false`),t.ok(l);function h(){let b=i.let("i",(0,vt._)`${n}.length`),S=i.let("j");t.setParams({i:b,j:S}),i.assign(l,!0),i.if((0,vt._)`${b} > 1`,()=>(g()?v:C)(b,S))}function g(){return p.length>0&&!p.some(b=>b==="object"||b==="array")}function v(b,S){let $=i.name("item"),P=(0,Wl.checkDataTypes)(p,$,s.opts.strictNumbers,Wl.DataType.Wrong),W=i.const("indices",(0,vt._)`{}`);i.for((0,vt._)`;${b}--;`,()=>{i.let($,(0,vt._)`${n}[${b}]`),i.if(P,(0,vt._)`continue`),p.length>1&&i.if((0,vt._)`typeof ${$} == "string"`,(0,vt._)`${$} += "_"`),i.if((0,vt._)`typeof ${W}[${$}] == "number"`,()=>{i.assign(S,(0,vt._)`${W}[${$}]`),t.error(),i.assign(l,!1).break()}).code((0,vt._)`${W}[${$}] = ${b}`)})}function C(b,S){let $=(0,Wy.useFunc)(i,qy.default),P=i.name("outer");i.label(P).for((0,vt._)`;${b}--;`,()=>i.for((0,vt._)`${S} = ${b}; ${S}--;`,()=>i.if((0,vt._)`${$}(${n}[${b}], ${n}[${S}])`,()=>{t.error(),i.assign(l,!1).break(P)})))}}};ql.default=Uy});var pm=H(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});var Ql=fe(),Yy=Oe(),Ky=Ra(),Gy={message:"must be equal to constant",params:({schemaCode:t})=>(0,Ql._)`{allowedValue: ${t}}`},Zy={keyword:"const",$data:!0,error:Gy,code(t){let{gen:i,data:n,$data:e,schemaCode:o,schema:r}=t;e||r&&typeof r=="object"?t.fail$data((0,Ql._)`!${(0,Yy.useFunc)(i,Ky.default)}(${n}, ${o})`):t.fail((0,Ql._)`${r} !== ${n}`)}};Ul.default=Zy});var um=H(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var or=fe(),Xy=Oe(),Jy=Ra(),ez={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,or._)`{allowedValues: ${t}}`},tz={keyword:"enum",schemaType:"array",$data:!0,error:ez,code(t){let{gen:i,data:n,$data:e,schema:o,schemaCode:r,it:a}=t;if(!e&&o.length===0)throw new Error("enum must have non-empty array");let s=o.length>=a.opts.loopEnum,l,p=()=>l??(l=(0,Xy.useFunc)(i,Jy.default)),h;if(s||e)h=i.let("valid"),t.block$data(h,g);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let C=i.const("vSchema",r);h=(0,or.or)(...o.map((b,S)=>v(C,S)))}t.pass(h);function g(){i.assign(h,!1),i.forOf("v",r,C=>i.if((0,or._)`${p()}(${n}, ${C})`,()=>i.assign(h,!0).break()))}function v(C,b){let S=o[b];return typeof S=="object"&&S!==null?(0,or._)`${p()}(${n}, ${C}[${b}])`:(0,or._)`${n} === ${S}`}}};Yl.default=tz});var hm=H(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var iz=em(),nz=tm(),oz=om(),rz=rm(),az=am(),sz=sm(),lz=lm(),cz=dm(),dz=pm(),pz=um(),uz=[iz.default,nz.default,oz.default,rz.default,az.default,sz.default,lz.default,cz.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},dz.default,pz.default];Kl.default=uz});var Zl=H(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.validateAdditionalItems=void 0;var wn=fe(),Gl=Oe(),hz={message:({params:{len:t}})=>(0,wn.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,wn._)`{limit: ${t}}`},mz={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:hz,code(t){let{parentSchema:i,it:n}=t,{items:e}=i;if(!Array.isArray(e)){(0,Gl.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}mm(t,e)}};function mm(t,i){let{gen:n,schema:e,data:o,keyword:r,it:a}=t;a.items=!0;let s=n.const("len",(0,wn._)`${o}.length`);if(e===!1)t.setParams({len:i.length}),t.pass((0,wn._)`${s} <= ${i.length}`);else if(typeof e=="object"&&!(0,Gl.alwaysValidSchema)(a,e)){let p=n.var("valid",(0,wn._)`${s} <= ${i.length}`);n.if((0,wn.not)(p),()=>l(p)),t.ok(p)}function l(p){n.forRange("i",i.length,s,h=>{t.subschema({keyword:r,dataProp:h,dataPropType:Gl.Type.Num},p),a.allErrors||n.if((0,wn.not)(p),()=>n.break())})}}rr.validateAdditionalItems=mm;rr.default=mz});var Xl=H(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.validateTuple=void 0;var fm=fe(),Aa=Oe(),fz=ei(),_z={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:i,it:n}=t;if(Array.isArray(i))return _m(t,"additionalItems",i);n.items=!0,!(0,Aa.alwaysValidSchema)(n,i)&&t.ok((0,fz.validateArray)(t))}};function _m(t,i,n=t.schema){let{gen:e,parentSchema:o,data:r,keyword:a,it:s}=t;h(o),s.opts.unevaluated&&n.length&&s.items!==!0&&(s.items=Aa.mergeEvaluated.items(e,n.length,s.items));let l=e.name("valid"),p=e.const("len",(0,fm._)`${r}.length`);n.forEach((g,v)=>{(0,Aa.alwaysValidSchema)(s,g)||(e.if((0,fm._)`${p} > ${v}`,()=>t.subschema({keyword:a,schemaProp:v,dataProp:v},l)),t.ok(l))});function h(g){let{opts:v,errSchemaPath:C}=s,b=n.length,S=b===g.minItems&&(b===g.maxItems||g[i]===!1);if(v.strictTuples&&!S){let $=`"${a}" is ${b}-tuple, but minItems or maxItems/${i} are not specified or different at path "${C}"`;(0,Aa.checkStrictMode)(s,$,v.strictTuples)}}}ar.validateTuple=_m;ar.default=_z});var gm=H(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var gz=Xl(),Cz={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,gz.validateTuple)(t,"items")};Jl.default=Cz});var ym=H(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});var Cm=fe(),yz=Oe(),zz=ei(),vz=Zl(),xz={message:({params:{len:t}})=>(0,Cm.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Cm._)`{limit: ${t}}`},bz={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:xz,code(t){let{schema:i,parentSchema:n,it:e}=t,{prefixItems:o}=n;e.items=!0,!(0,yz.alwaysValidSchema)(e,i)&&(o?(0,vz.validateAdditionalItems)(t,o):t.ok((0,zz.validateArray)(t)))}};ec.default=bz});var zm=H(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var ii=fe(),Ha=Oe(),Sz={message:({params:{min:t,max:i}})=>i===void 0?(0,ii.str)`must contain at least ${t} valid item(s)`:(0,ii.str)`must contain at least ${t} and no more than ${i} valid item(s)`,params:({params:{min:t,max:i}})=>i===void 0?(0,ii._)`{minContains: ${t}}`:(0,ii._)`{minContains: ${t}, maxContains: ${i}}`},wz={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Sz,code(t){let{gen:i,schema:n,parentSchema:e,data:o,it:r}=t,a,s,{minContains:l,maxContains:p}=e;r.opts.next?(a=l===void 0?1:l,s=p):a=1;let h=i.const("len",(0,ii._)`${o}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,Ha.checkStrictMode)(r,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Ha.checkStrictMode)(r,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Ha.alwaysValidSchema)(r,n)){let S=(0,ii._)`${h} >= ${a}`;s!==void 0&&(S=(0,ii._)`${S} && ${h} <= ${s}`),t.pass(S);return}r.items=!0;let g=i.name("valid");s===void 0&&a===1?C(g,()=>i.if(g,()=>i.break())):a===0?(i.let(g,!0),s!==void 0&&i.if((0,ii._)`${o}.length > 0`,v)):(i.let(g,!1),v()),t.result(g,()=>t.reset());function v(){let S=i.name("_valid"),$=i.let("count",0);C(S,()=>i.if(S,()=>b($)))}function C(S,$){i.forRange("i",0,h,P=>{t.subschema({keyword:"contains",dataProp:P,dataPropType:Ha.Type.Num,compositeRule:!0},S),$()})}function b(S){i.code((0,ii._)`${S}++`),s===void 0?i.if((0,ii._)`${S} >= ${a}`,()=>i.assign(g,!0).break()):(i.if((0,ii._)`${S} > ${s}`,()=>i.assign(g,!1).break()),a===1?i.assign(g,!0):i.if((0,ii._)`${S} >= ${a}`,()=>i.assign(g,!0)))}}};tc.default=wz});var bm=H(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.validateSchemaDeps=Ti.validatePropertyDeps=Ti.error=void 0;var ic=fe(),Tz=Oe(),sr=ei();Ti.error={message:({params:{property:t,depsCount:i,deps:n}})=>{let e=i===1?"property":"properties";return(0,ic.str)`must have ${e} ${n} when property ${t} is present`},params:({params:{property:t,depsCount:i,deps:n,missingProperty:e}})=>(0,ic._)`{property: ${t},
    missingProperty: ${e},
    depsCount: ${i},
    deps: ${n}}`};var kz={keyword:"dependencies",type:"object",schemaType:"object",error:Ti.error,code(t){let[i,n]=Dz(t);vm(t,i),xm(t,n)}};function Dz({schema:t}){let i={},n={};for(let e in t){if(e==="__proto__")continue;let o=Array.isArray(t[e])?i:n;o[e]=t[e]}return[i,n]}function vm(t,i=t.schema){let{gen:n,data:e,it:o}=t;if(Object.keys(i).length===0)return;let r=n.let("missing");for(let a in i){let s=i[a];if(s.length===0)continue;let l=(0,sr.propertyInData)(n,e,a,o.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),o.allErrors?n.if(l,()=>{for(let p of s)(0,sr.checkReportMissingProp)(t,p)}):(n.if((0,ic._)`${l} && (${(0,sr.checkMissingProp)(t,s,r)})`),(0,sr.reportMissingProp)(t,r),n.else())}}Ti.validatePropertyDeps=vm;function xm(t,i=t.schema){let{gen:n,data:e,keyword:o,it:r}=t,a=n.name("valid");for(let s in i)(0,Tz.alwaysValidSchema)(r,i[s])||(n.if((0,sr.propertyInData)(n,e,s,r.opts.ownProperties),()=>{let l=t.subschema({keyword:o,schemaProp:s},a);t.mergeValidEvaluated(l,a)},()=>n.var(a,!0)),t.ok(a))}Ti.validateSchemaDeps=xm;Ti.default=kz});var wm=H(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});var Sm=fe(),Pz=Oe(),Mz={message:"property name must be valid",params:({params:t})=>(0,Sm._)`{propertyName: ${t.propertyName}}`},Oz={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Mz,code(t){let{gen:i,schema:n,data:e,it:o}=t;if((0,Pz.alwaysValidSchema)(o,n))return;let r=i.name("valid");i.forIn("key",e,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},r),i.if((0,Sm.not)(r),()=>{t.error(!0),o.allErrors||i.break()})}),t.ok(r)}};nc.default=Oz});var rc=H(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});var La=ei(),gi=fe(),Iz=Hi(),ja=Oe(),Ez={message:"must NOT have additional properties",params:({params:t})=>(0,gi._)`{additionalProperty: ${t.additionalProperty}}`},Nz={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ez,code(t){let{gen:i,schema:n,parentSchema:e,data:o,errsCount:r,it:a}=t;if(!r)throw new Error("ajv implementation error");let{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,ja.alwaysValidSchema)(a,n))return;let p=(0,La.allSchemaProperties)(e.properties),h=(0,La.allSchemaProperties)(e.patternProperties);g(),t.ok((0,gi._)`${r} === ${Iz.default.errors}`);function g(){i.forIn("key",o,$=>{!p.length&&!h.length?b($):i.if(v($),()=>b($))})}function v($){let P;if(p.length>8){let W=(0,ja.schemaRefOrVal)(a,e.properties,"properties");P=(0,La.isOwnProperty)(i,W,$)}else p.length?P=(0,gi.or)(...p.map(W=>(0,gi._)`${$} === ${W}`)):P=gi.nil;return h.length&&(P=(0,gi.or)(P,...h.map(W=>(0,gi._)`${(0,La.usePattern)(t,W)}.test(${$})`))),(0,gi.not)(P)}function C($){i.code((0,gi._)`delete ${o}[${$}]`)}function b($){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){C($);return}if(n===!1){t.setParams({additionalProperty:$}),t.error(),s||i.break();return}if(typeof n=="object"&&!(0,ja.alwaysValidSchema)(a,n)){let P=i.name("valid");l.removeAdditional==="failing"?(S($,P,!1),i.if((0,gi.not)(P),()=>{t.reset(),C($)})):(S($,P),s||i.if((0,gi.not)(P),()=>i.break()))}}function S($,P,W){let se={keyword:"additionalProperties",dataProp:$,dataPropType:ja.Type.Str};W===!1&&Object.assign(se,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(se,P)}}};oc.default=Nz});var Dm=H(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var $z=Uo(),Tm=ei(),ac=Oe(),km=rc(),Fz={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:i,schema:n,parentSchema:e,data:o,it:r}=t;r.opts.removeAdditional==="all"&&e.additionalProperties===void 0&&km.default.code(new $z.KeywordCxt(r,km.default,"additionalProperties"));let a=(0,Tm.allSchemaProperties)(n);for(let g of a)r.definedProperties.add(g);r.opts.unevaluated&&a.length&&r.props!==!0&&(r.props=ac.mergeEvaluated.props(i,(0,ac.toHash)(a),r.props));let s=a.filter(g=>!(0,ac.alwaysValidSchema)(r,n[g]));if(s.length===0)return;let l=i.name("valid");for(let g of s)p(g)?h(g):(i.if((0,Tm.propertyInData)(i,o,g,r.opts.ownProperties)),h(g),r.allErrors||i.else().var(l,!0),i.endIf()),t.it.definedProperties.add(g),t.ok(l);function p(g){return r.opts.useDefaults&&!r.compositeRule&&n[g].default!==void 0}function h(g){t.subschema({keyword:"properties",schemaProp:g,dataProp:g},l)}}};sc.default=Fz});var Im=H(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var Pm=ei(),Ba=fe(),Mm=Oe(),Om=Oe(),Vz={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:i,schema:n,data:e,parentSchema:o,it:r}=t,{opts:a}=r,s=(0,Pm.allSchemaProperties)(n),l=s.filter(S=>(0,Mm.alwaysValidSchema)(r,n[S]));if(s.length===0||l.length===s.length&&(!r.opts.unevaluated||r.props===!0))return;let p=a.strictSchema&&!a.allowMatchingProperties&&o.properties,h=i.name("valid");r.props!==!0&&!(r.props instanceof Ba.Name)&&(r.props=(0,Om.evaluatedPropsToName)(i,r.props));let{props:g}=r;v();function v(){for(let S of s)p&&C(S),r.allErrors?b(S):(i.var(h,!0),b(S),i.if(h))}function C(S){for(let $ in p)new RegExp(S).test($)&&(0,Mm.checkStrictMode)(r,`property ${$} matches pattern ${S} (use allowMatchingProperties)`)}function b(S){i.forIn("key",e,$=>{i.if((0,Ba._)`${(0,Pm.usePattern)(t,S)}.test(${$})`,()=>{let P=l.includes(S);P||t.subschema({keyword:"patternProperties",schemaProp:S,dataProp:$,dataPropType:Om.Type.Str},h),r.opts.unevaluated&&g!==!0?i.assign((0,Ba._)`${g}[${$}]`,!0):!P&&!r.allErrors&&i.if((0,Ba.not)(h),()=>i.break())})})}}};lc.default=Vz});var Em=H(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});var Rz=Oe(),Az={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:i,schema:n,it:e}=t;if((0,Rz.alwaysValidSchema)(e,n)){t.fail();return}let o=i.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),t.failResult(o,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};cc.default=Az});var Nm=H(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});var Hz=ei(),Lz={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Hz.validateUnion,error:{message:"must match a schema in anyOf"}};dc.default=Lz});var $m=H(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});var Wa=fe(),jz=Oe(),Bz={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Wa._)`{passingSchemas: ${t.passing}}`},Wz={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Bz,code(t){let{gen:i,schema:n,parentSchema:e,it:o}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(o.opts.discriminator&&e.discriminator)return;let r=n,a=i.let("valid",!1),s=i.let("passing",null),l=i.name("_valid");t.setParams({passing:s}),i.block(p),t.result(a,()=>t.reset(),()=>t.error(!0));function p(){r.forEach((h,g)=>{let v;(0,jz.alwaysValidSchema)(o,h)?i.var(l,!0):v=t.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},l),g>0&&i.if((0,Wa._)`${l} && ${a}`).assign(a,!1).assign(s,(0,Wa._)`[${s}, ${g}]`).else(),i.if(l,()=>{i.assign(a,!0),i.assign(s,g),v&&t.mergeEvaluated(v,Wa.Name)})})}}};pc.default=Wz});var Fm=H(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var qz=Oe(),Qz={keyword:"allOf",schemaType:"array",code(t){let{gen:i,schema:n,it:e}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");let o=i.name("valid");n.forEach((r,a)=>{if((0,qz.alwaysValidSchema)(e,r))return;let s=t.subschema({keyword:"allOf",schemaProp:a},o);t.ok(o),t.mergeEvaluated(s)})}};uc.default=Qz});var Am=H(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var qa=fe(),Rm=Oe(),Uz={message:({params:t})=>(0,qa.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,qa._)`{failingKeyword: ${t.ifClause}}`},Yz={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Uz,code(t){let{gen:i,parentSchema:n,it:e}=t;n.then===void 0&&n.else===void 0&&(0,Rm.checkStrictMode)(e,'"if" without "then" and "else" is ignored');let o=Vm(e,"then"),r=Vm(e,"else");if(!o&&!r)return;let a=i.let("valid",!0),s=i.name("_valid");if(l(),t.reset(),o&&r){let h=i.let("ifClause");t.setParams({ifClause:h}),i.if(s,p("then",h),p("else",h))}else o?i.if(s,p("then")):i.if((0,qa.not)(s),p("else"));t.pass(a,()=>t.error(!0));function l(){let h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(h)}function p(h,g){return()=>{let v=t.subschema({keyword:h},s);i.assign(a,s),t.mergeValidEvaluated(v,a),g?i.assign(g,(0,qa._)`${h}`):t.setParams({ifClause:h})}}}};function Vm(t,i){let n=t.schema[i];return n!==void 0&&!(0,Rm.alwaysValidSchema)(t,n)}hc.default=Yz});var Hm=H(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var Kz=Oe(),Gz={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:i,it:n}){i.if===void 0&&(0,Kz.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};mc.default=Gz});var Lm=H(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});var Zz=Zl(),Xz=gm(),Jz=Xl(),ev=ym(),tv=zm(),iv=bm(),nv=wm(),ov=rc(),rv=Dm(),av=Im(),sv=Em(),lv=Nm(),cv=$m(),dv=Fm(),pv=Am(),uv=Hm();function hv(t=!1){let i=[sv.default,lv.default,cv.default,dv.default,pv.default,uv.default,nv.default,ov.default,iv.default,rv.default,av.default];return t?i.push(Xz.default,ev.default):i.push(Zz.default,Jz.default),i.push(tv.default),i}fc.default=hv});var jm=H(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});var ht=fe(),mv={message:({schemaCode:t})=>(0,ht.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ht._)`{format: ${t}}`},fv={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:mv,code(t,i){let{gen:n,data:e,$data:o,schema:r,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:p,schemaEnv:h,self:g}=s;if(!l.validateFormats)return;o?v():C();function v(){let b=n.scopeValue("formats",{ref:g.formats,code:l.code.formats}),S=n.const("fDef",(0,ht._)`${b}[${a}]`),$=n.let("fType"),P=n.let("format");n.if((0,ht._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>n.assign($,(0,ht._)`${S}.type || "string"`).assign(P,(0,ht._)`${S}.validate`),()=>n.assign($,(0,ht._)`"string"`).assign(P,S)),t.fail$data((0,ht.or)(W(),se()));function W(){return l.strictSchema===!1?ht.nil:(0,ht._)`${a} && !${P}`}function se(){let Ve=h.$async?(0,ht._)`(${S}.async ? await ${P}(${e}) : ${P}(${e}))`:(0,ht._)`${P}(${e})`,B=(0,ht._)`(typeof ${P} == "function" ? ${Ve} : ${P}.test(${e}))`;return(0,ht._)`${P} && ${P} !== true && ${$} === ${i} && !${B}`}}function C(){let b=g.formats[r];if(!b){W();return}if(b===!0)return;let[S,$,P]=se(b);S===i&&t.pass(Ve());function W(){if(l.strictSchema===!1){g.logger.warn(B());return}throw new Error(B());function B(){return`unknown format "${r}" ignored in schema at path "${p}"`}}function se(B){let Ie=B instanceof RegExp?(0,ht.regexpCode)(B):l.code.formats?(0,ht._)`${l.code.formats}${(0,ht.getProperty)(r)}`:void 0,tt=n.scopeValue("formats",{key:r,ref:B,code:Ie});return typeof B=="object"&&!(B instanceof RegExp)?[B.type||"string",B.validate,(0,ht._)`${tt}.validate`]:["string",B,tt]}function Ve(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!h.$async)throw new Error("async format in sync schema");return(0,ht._)`await ${P}(${e})`}return typeof $=="function"?(0,ht._)`${P}(${e})`:(0,ht._)`${P}.test(${e})`}}}};_c.default=fv});var Bm=H(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});var _v=jm(),gv=[_v.default];gc.default=gv});var Wm=H(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.contentVocabulary=lo.metadataVocabulary=void 0;lo.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];lo.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Qm=H(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});var Cv=Jh(),yv=hm(),zv=Lm(),vv=Bm(),qm=Wm(),xv=[Cv.default,yv.default,(0,zv.default)(),vv.default,qm.metadataVocabulary,qm.contentVocabulary];Cc.default=xv});var Ym=H(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.DiscrError=void 0;var Um=function(t){return t.Tag="tag",t.Mapping="mapping",t}(Um||(Qa.DiscrError=Um={}))});var Gm=H(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});var co=fe(),yc=Ym(),Km=Da(),bv=Yo(),Sv=Oe(),wv={message:({params:{discrError:t,tagName:i}})=>t===yc.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:t,tag:i,tagName:n}})=>(0,co._)`{error: ${t}, tag: ${n}, tagValue: ${i}}`},Tv={keyword:"discriminator",type:"object",schemaType:"object",error:wv,code(t){let{gen:i,data:n,schema:e,parentSchema:o,it:r}=t,{oneOf:a}=o;if(!r.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=e.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(e.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let l=i.let("valid",!1),p=i.const("tag",(0,co._)`${n}${(0,co.getProperty)(s)}`);i.if((0,co._)`typeof ${p} == "string"`,()=>h(),()=>t.error(!1,{discrError:yc.DiscrError.Tag,tag:p,tagName:s})),t.ok(l);function h(){let C=v();i.if(!1);for(let b in C)i.elseIf((0,co._)`${p} === ${b}`),i.assign(l,g(C[b]));i.else(),t.error(!1,{discrError:yc.DiscrError.Mapping,tag:p,tagName:s}),i.endIf()}function g(C){let b=i.name("valid"),S=t.subschema({keyword:"oneOf",schemaProp:C},b);return t.mergeEvaluated(S,co.Name),b}function v(){var C;let b={},S=P(o),$=!0;for(let Ve=0;Ve<a.length;Ve++){let B=a[Ve];if(B?.$ref&&!(0,Sv.schemaHasRulesButRef)(B,r.self.RULES)){let tt=B.$ref;if(B=Km.resolveRef.call(r.self,r.schemaEnv.root,r.baseId,tt),B instanceof Km.SchemaEnv&&(B=B.schema),B===void 0)throw new bv.default(r.opts.uriResolver,r.baseId,tt)}let Ie=(C=B?.properties)===null||C===void 0?void 0:C[s];if(typeof Ie!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);$=$&&(S||P(B)),W(Ie,Ve)}if(!$)throw new Error(`discriminator: "${s}" must be required`);return b;function P({required:Ve}){return Array.isArray(Ve)&&Ve.includes(s)}function W(Ve,B){if(Ve.const)se(Ve.const,B);else if(Ve.enum)for(let Ie of Ve.enum)se(Ie,B);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function se(Ve,B){if(typeof Ve!="string"||Ve in b)throw new Error(`discriminator: "${s}" values must be unique strings`);b[Ve]=B}}}};zc.default=Tv});var Zm=H((bE,kv)=>{kv.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var xc=H((Je,vc)=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.MissingRefError=Je.ValidationError=Je.CodeGen=Je.Name=Je.nil=Je.stringify=Je.str=Je._=Je.KeywordCxt=Je.Ajv=void 0;var Dv=Uh(),Pv=Qm(),Mv=Gm(),Xm=Zm(),Ov=["/properties"],Ua="http://json-schema.org/draft-07/schema",po=class extends Dv.default{_addVocabularies(){super._addVocabularies(),Pv.default.forEach(i=>this.addVocabulary(i)),this.opts.discriminator&&this.addKeyword(Mv.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let i=this.opts.$data?this.$dataMetaSchema(Xm,Ov):Xm;this.addMetaSchema(i,Ua,!1),this.refs["http://json-schema.org/schema"]=Ua}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Ua)?Ua:void 0)}};Je.Ajv=po;vc.exports=Je=po;vc.exports.Ajv=po;Object.defineProperty(Je,"__esModule",{value:!0});Je.default=po;var Iv=Uo();Object.defineProperty(Je,"KeywordCxt",{enumerable:!0,get:function(){return Iv.KeywordCxt}});var uo=fe();Object.defineProperty(Je,"_",{enumerable:!0,get:function(){return uo._}});Object.defineProperty(Je,"str",{enumerable:!0,get:function(){return uo.str}});Object.defineProperty(Je,"stringify",{enumerable:!0,get:function(){return uo.stringify}});Object.defineProperty(Je,"nil",{enumerable:!0,get:function(){return uo.nil}});Object.defineProperty(Je,"Name",{enumerable:!0,get:function(){return uo.Name}});Object.defineProperty(Je,"CodeGen",{enumerable:!0,get:function(){return uo.CodeGen}});var Ev=Ta();Object.defineProperty(Je,"ValidationError",{enumerable:!0,get:function(){return Ev.default}});var Nv=Yo();Object.defineProperty(Je,"MissingRefError",{enumerable:!0,get:function(){return Nv.default}})});var sf=H(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.formatNames=Di.fastFormats=Di.fullFormats=void 0;function ki(t,i){return{validate:t,compare:i}}Di.fullFormats={date:ki(nf,Tc),time:ki(Sc(!0),kc),"date-time":ki(Jm(!0),rf),"iso-time":ki(Sc(),of),"iso-date-time":ki(Jm(),af),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Hv,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Uv,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Lv,int32:{type:"number",validate:Wv},int64:{type:"number",validate:qv},float:{type:"number",validate:tf},double:{type:"number",validate:tf},password:!0,binary:!0};Di.fastFormats=ce(T({},Di.fullFormats),{date:ki(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Tc),time:ki(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,kc),"date-time":ki(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,rf),"iso-time":ki(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,of),"iso-date-time":ki(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,af),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});Di.formatNames=Object.keys(Di.fullFormats);function $v(t){return t%4===0&&(t%100!==0||t%400===0)}var Fv=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Vv=[0,31,28,31,30,31,30,31,31,30,31,30,31];function nf(t){let i=Fv.exec(t);if(!i)return!1;let n=+i[1],e=+i[2],o=+i[3];return e>=1&&e<=12&&o>=1&&o<=(e===2&&$v(n)?29:Vv[e])}function Tc(t,i){if(t&&i)return t>i?1:t<i?-1:0}var bc=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Sc(t){return function(n){let e=bc.exec(n);if(!e)return!1;let o=+e[1],r=+e[2],a=+e[3],s=e[4],l=e[5]==="-"?-1:1,p=+(e[6]||0),h=+(e[7]||0);if(p>23||h>59||t&&!s)return!1;if(o<=23&&r<=59&&a<60)return!0;let g=r-h*l,v=o-p*l-(g<0?1:0);return(v===23||v===-1)&&(g===59||g===-1)&&a<61}}function kc(t,i){if(!(t&&i))return;let n=new Date("2020-01-01T"+t).valueOf(),e=new Date("2020-01-01T"+i).valueOf();if(n&&e)return n-e}function of(t,i){if(!(t&&i))return;let n=bc.exec(t),e=bc.exec(i);if(n&&e)return t=n[1]+n[2]+n[3],i=e[1]+e[2]+e[3],t>i?1:t<i?-1:0}var wc=/t|\s/i;function Jm(t){let i=Sc(t);return function(e){let o=e.split(wc);return o.length===2&&nf(o[0])&&i(o[1])}}function rf(t,i){if(!(t&&i))return;let n=new Date(t).valueOf(),e=new Date(i).valueOf();if(n&&e)return n-e}function af(t,i){if(!(t&&i))return;let[n,e]=t.split(wc),[o,r]=i.split(wc),a=Tc(n,o);if(a!==void 0)return a||kc(e,r)}var Rv=/\/|:/,Av=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Hv(t){return Rv.test(t)&&Av.test(t)}var ef=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Lv(t){return ef.lastIndex=0,ef.test(t)}var jv=-(2**31),Bv=2**31-1;function Wv(t){return Number.isInteger(t)&&t<=Bv&&t>=jv}function qv(t){return Number.isInteger(t)}function tf(){return!0}var Qv=/[^\\]\\Z/;function Uv(t){if(Qv.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var lf=H(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.formatLimitDefinition=void 0;var Yv=xc(),Ci=fe(),an=Ci.operators,Ya={formatMaximum:{okStr:"<=",ok:an.LTE,fail:an.GT},formatMinimum:{okStr:">=",ok:an.GTE,fail:an.LT},formatExclusiveMaximum:{okStr:"<",ok:an.LT,fail:an.GTE},formatExclusiveMinimum:{okStr:">",ok:an.GT,fail:an.LTE}},Kv={message:({keyword:t,schemaCode:i})=>(0,Ci.str)`should be ${Ya[t].okStr} ${i}`,params:({keyword:t,schemaCode:i})=>(0,Ci._)`{comparison: ${Ya[t].okStr}, limit: ${i}}`};ho.formatLimitDefinition={keyword:Object.keys(Ya),type:"string",schemaType:"string",$data:!0,error:Kv,code(t){let{gen:i,data:n,schemaCode:e,keyword:o,it:r}=t,{opts:a,self:s}=r;if(!a.validateFormats)return;let l=new Yv.KeywordCxt(r,s.RULES.all.format.definition,"format");l.$data?p():h();function p(){let v=i.scopeValue("formats",{ref:s.formats,code:a.code.formats}),C=i.const("fmt",(0,Ci._)`${v}[${l.schemaCode}]`);t.fail$data((0,Ci.or)((0,Ci._)`typeof ${C} != "object"`,(0,Ci._)`${C} instanceof RegExp`,(0,Ci._)`typeof ${C}.compare != "function"`,g(C)))}function h(){let v=l.schema,C=s.formats[v];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${o}": format "${v}" does not define "compare" function`);let b=i.scopeValue("formats",{key:v,ref:C,code:a.code.formats?(0,Ci._)`${a.code.formats}${(0,Ci.getProperty)(v)}`:void 0});t.fail$data(g(b))}function g(v){return(0,Ci._)`${v}.compare(${n}, ${e}) ${Ya[o].fail} 0`}},dependencies:["format"]};var Gv=t=>(t.addKeyword(ho.formatLimitDefinition),t);ho.default=Gv});var uf=H((lr,pf)=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});var mo=sf(),Zv=lf(),Dc=fe(),cf=new Dc.Name("fullFormats"),Xv=new Dc.Name("fastFormats"),Pc=(t,i={keywords:!0})=>{if(Array.isArray(i))return df(t,i,mo.fullFormats,cf),t;let[n,e]=i.mode==="fast"?[mo.fastFormats,Xv]:[mo.fullFormats,cf],o=i.formats||mo.formatNames;return df(t,o,n,e),i.keywords&&(0,Zv.default)(t),t};Pc.get=(t,i="full")=>{let e=(i==="fast"?mo.fastFormats:mo.fullFormats)[t];if(!e)throw new Error(`Unknown format "${t}"`);return e};function df(t,i,n,e){var o,r;(o=(r=t.opts.code).formats)!==null&&o!==void 0||(r.formats=(0,Dc._)`require("ajv-formats/dist/formats").${e}`);for(let a of i)t.addFormat(a,n[a])}pf.exports=lr=Pc;Object.defineProperty(lr,"__esModule",{value:!0});lr.default=Pc});var P0=["nz-pagination-item",""],M0=(t,i)=>({$implicit:t,page:i});function O0(t,i){if(t&1&&(m(0,"a"),E(1),f()),t&2){let n=c().page;d(),ie(n)}}function I0(t,i){t&1&&D(0,"span",4)}function E0(t,i){t&1&&D(0,"span",5)}function N0(t,i){if(t&1&&(m(0,"button",2),_(1,I0,1,0,"span",4)(2,E0,1,0,"span",5),f()),t&2){let n=c(2);u("disabled",n.disabled),Z("title",n.locale.prev_page),d(),x(n.direction==="rtl"?1:2)}}function $0(t,i){t&1&&D(0,"span",5)}function F0(t,i){t&1&&D(0,"span",4)}function V0(t,i){if(t&1&&(m(0,"button",2),_(1,$0,1,0,"span",5)(2,F0,1,0,"span",4),f()),t&2){let n=c(2);u("disabled",n.disabled),Z("title",n.locale.next_page),d(),x(n.direction==="rtl"?1:2)}}function R0(t,i){t&1&&D(0,"span",8)}function A0(t,i){t&1&&D(0,"span",9)}function H0(t,i){if(t&1&&_(0,R0,1,0,"span",8)(1,A0,1,0,"span",9),t&2){let n=c(3);x(n.direction==="rtl"?0:1)}}function L0(t,i){t&1&&D(0,"span",9)}function j0(t,i){t&1&&D(0,"span",8)}function B0(t,i){if(t&1&&_(0,L0,1,0,"span",9)(1,j0,1,0,"span",8),t&2){let n=c(3);x(n.direction==="rtl"?0:1)}}function W0(t,i){if(t&1&&(m(0,"a",3)(1,"div",6),_(2,H0,2,1)(3,B0,2,1),m(4,"span",7),E(5,"\u2022\u2022\u2022"),f()()()),t&2){let n,e=c().$implicit;d(2),x((n=e)==="prev_5"?2:n==="next_5"?3:-1)}}function q0(t,i){if(t&1&&_(0,O0,2,1,"a")(1,N0,3,3,"button",2)(2,V0,3,3,"button",2)(3,W0,6,1,"a",3),t&2){let n,e=i.$implicit;x((n=e)==="page"?0:n==="prev"?1:n==="next"?2:3)}}function Q0(t,i){}var U0=["nz-pagination-options",""],Y0=(t,i)=>i.value;function K0(t,i){if(t&1&&D(0,"nz-option",3),t&2){let n=i.$implicit;u("nzLabel",n.label)("nzValue",n.value)}}function G0(t,i){if(t&1){let n=I();m(0,"nz-select",2),w("ngModelChange",function(o){y(n);let r=c();return z(r.onPageSizeChange(o))}),Q(1,K0,1,2,"nz-option",3,Y0),f()}if(t&2){let n=c();u("nzDisabled",n.disabled)("nzSize",n.nzSize)("ngModel",n.pageSize),d(),U(n.listOfPageSizeOption)}}function Z0(t,i){if(t&1){let n=I();m(0,"div",1),E(1),m(2,"input",4),w("keydown.enter",function(o){y(n);let r=c();return z(r.jumpToPageViaInput(o))}),f(),E(3),f()}if(t&2){let n=c();d(),q(" ",n.locale.jump_to," "),d(),u("disabled",n.disabled),d(),q(" ",n.locale.page," ")}}var uu=["containerTemplate"],X0=(t,i)=>({$implicit:t,range:i});function J0(t,i){}function e_(t,i){if(t&1&&(m(0,"li",1),_(1,J0,0,0,"ng-template",4),f()),t&2){let n=c(2);d(),u("ngTemplateOutlet",n.showTotal)("ngTemplateOutletContext",Gt(2,X0,n.total,n.ranges))}}function t_(t,i){if(t&1){let n=I();m(0,"li",5),w("gotoIndex",function(o){y(n);let r=c(2);return z(r.jumpPage(o))})("diffIndex",function(o){y(n);let r=c(2);return z(r.jumpDiff(o))}),f()}if(t&2){let n=i.$implicit,e=c(2);u("locale",e.locale)("type",n.type)("index",n.index)("disabled",!!n.disabled)("itemRender",e.itemRender)("active",e.pageIndex===n.index)("direction",e.dir)}}function i_(t,i){if(t&1){let n=I();m(0,"li",6),w("pageIndexChange",function(o){y(n);let r=c(2);return z(r.onPageIndexChange(o))})("pageSizeChange",function(o){y(n);let r=c(2);return z(r.onPageSizeChange(o))}),f()}if(t&2){let n=c(2);u("total",n.total)("locale",n.locale)("disabled",n.disabled)("nzSize",n.nzSize)("showSizeChanger",n.showSizeChanger)("showQuickJumper",n.showQuickJumper)("pageIndex",n.pageIndex)("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions)}}function n_(t,i){if(t&1&&(m(0,"ul"),_(1,e_,2,5,"li",1),Q(2,t_,1,7,"li",2,Tr().trackByPageItem,!0),_(4,i_,1,9,"li",3),f()),t&2){let n=c();d(),x(n.showTotal?1:-1),d(),U(n.listOfPageItem),d(2),x(n.showQuickJumper||n.showSizeChanger?4:-1)}}function o_(t,i){if(t&1){let n=I();m(0,"ul")(1,"li",1),w("click",function(){y(n);let o=c();return z(o.prePage())}),f(),m(2,"li",2)(3,"input",3),w("keydown.enter",function(o){y(n);let r=c();return z(r.jumpToPageViaInput(o))}),f(),m(4,"span",4),E(5,"/"),f(),E(6),f(),m(7,"li",5),w("click",function(){y(n);let o=c();return z(o.nextPage())}),f()()}if(t&2){let n=c();d(),u("locale",n.locale)("disabled",n.isFirstIndex)("direction",n.dir)("itemRender",n.itemRender),Z("title",n.locale.prev_page),d(),Z("title",n.pageIndex+"/"+n.lastIndex),d(),u("disabled",n.disabled)("value",n.pageIndex),d(3),q(" ",n.lastIndex," "),d(),u("locale",n.locale)("disabled",n.isLastIndex)("direction",n.dir)("itemRender",n.itemRender),Z("title",n.locale==null?null:n.locale.next_page)}}function r_(t,i){}function a_(t,i){if(t&1&&_(0,r_,0,0,"ng-template",4),t&2){c(2);let n=L(2);u("ngTemplateOutlet",n.template)}}function s_(t,i){}function l_(t,i){if(t&1&&_(0,s_,0,0,"ng-template",4),t&2){c(2);let n=L(4);u("ngTemplateOutlet",n.template)}}function c_(t,i){if(t&1&&_(0,a_,1,1,null,4)(1,l_,1,1,null,4),t&2){let n=c();x(n.nzSimple?0:1)}}var Fs=(()=>{let i=class i{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new R,this.gotoIndex=new R,this.title=null}clickItem(){this.disabled||(this.type==="page"?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(e){let{locale:o,index:r,type:a}=e;(o||r||a)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(o,r){o&1&&w("click",function(){return r.clickItem()}),o&2&&(Z("title",r.title),F("ant-pagination-prev",r.type==="prev")("ant-pagination-next",r.type==="next")("ant-pagination-item",r.type==="page")("ant-pagination-jump-prev",r.type==="prev_5")("ant-pagination-jump-prev-custom-icon",r.type==="prev_5")("ant-pagination-jump-next",r.type==="next_5")("ant-pagination-jump-next-custom-icon",r.type==="next_5")("ant-pagination-disabled",r.disabled)("ant-pagination-item-active",r.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},standalone:!0,features:[J,j],attrs:P0,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],[1,"ant-pagination-item-link"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"]],template:function(o,r){if(o&1&&_(0,q0,4,1,"ng-template",null,0,oe)(2,Q0,0,0,"ng-template",1),o&2){let a=L(1);d(2),u("ngTemplateOutlet",r.itemRender||a)("ngTemplateOutletContext",Gt(2,M0,r.type,r.index))}},dependencies:[He,Pe,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),hu=(()=>{let i=class i{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new R,this.pageSizeChange=new R,this.listOfPageSizeOption=[]}onPageSizeChange(e){this.pageSize!==e&&this.pageSizeChange.next(e)}jumpToPageViaInput(e){let o=e.target,r=Math.floor(ks(o.value,this.pageIndex));this.pageIndexChange.next(r),o.value=""}ngOnChanges(e){let{pageSize:o,pageSizeOptions:r,locale:a}=e;(o||r||a)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(s=>({value:s,label:`${s} ${this.locale.items_per_page}`})))}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[J,j],attrs:U0,decls:2,vars:2,consts:[[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],[1,"ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"ngModelChange","nzDisabled","nzSize","ngModel"],[3,"nzLabel","nzValue"],[3,"keydown.enter","disabled"]],template:function(o,r){o&1&&_(0,G0,3,3,"nz-select",0)(1,Z0,4,3,"div",1),o&2&&(x(r.showSizeChanger?0:-1),d(),x(r.showQuickJumper?1:-1))},dependencies:[Ki,ea,ta,ot,Ge,We],encapsulation:2,changeDetection:0});let t=i;return t})(),mu=(()=>{let i=class i{constructor(e,o,r,a){this.cdr=e,this.renderer=o,this.elementRef=r,this.directionality=a,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new R,this.pageSizeChange=new R,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new X,o.removeChild(o.parentNode(r.nativeElement),r.nativeElement)}ngOnInit(){this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(e){this.onPageIndexChange(e)}jumpDiff(e){this.jumpPage(this.pageIndex+e)}trackByPageItem(e,o){return`${o.type}-${o.index}`}onPageIndexChange(e){this.pageIndexChange.next(e)}onPageSizeChange(e){this.pageSizeChange.next(e)}getLastIndex(e,o){return Math.ceil(e/o)}buildIndexes(){let e=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,e)}getListOfPageItem(e,o){let r=s=>{let l={type:"prev",disabled:e===1},p={type:"next",disabled:e===o};return[l,...s,p]},a=(s,l)=>{let p=[];for(let h=s;h<=l;h++)p.push({index:h,type:"page"});return p};return o<=9?r(a(1,o)):r(((l,p)=>{let h=[],g={type:"prev_5"},v={type:"next_5"},C=a(1,1),b=a(o,o);if(l<5)h=[...a(2,l===4?6:5),v];else if(l<p-3)h=[g,...a(l-2,l+2),v];else{let S=l===p-3?p-5:p-4;h=[g,...a(S,p-1)]}return[...C,...h,...b]})(e,o))}ngOnChanges(e){let{pageIndex:o,pageSize:r,total:a}=e;(o||r||a)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}};i.\u0275fac=function(o){return new(o||i)(k(xe),k(Ee),k(ee),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-pagination-default"]],viewQuery:function(o,r){if(o&1&&te(uu,7),o&2){let a;K(a=G())&&(r.template=a.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[J,j],decls:2,vars:0,consts:[["containerTemplate",""],[1,"ant-pagination-total-text"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"gotoIndex","diffIndex","locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"pageIndexChange","pageSizeChange","total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"]],template:function(o,r){o&1&&_(0,n_,5,2,"ng-template",null,0,oe)},dependencies:[ae,Fs,hu],encapsulation:2,changeDetection:0});let t=i;return t})(),fu=(()=>{let i=class i{constructor(e,o,r,a){this.cdr=e,this.renderer=o,this.elementRef=r,this.directionality=a,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new R,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new X,o.removeChild(o.parentNode(r.nativeElement),r.nativeElement)}ngOnInit(){this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(e){let o=e.target,r=ks(o.value,this.pageIndex);this.onPageIndexChange(r),o.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(e){this.pageIndexChange.next(e)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=this.pageIndex===1,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(e){let{pageIndex:o,total:r,pageSize:a}=e;(o||r||a)&&this.updateBindingValue()}};i.\u0275fac=function(o){return new(o||i)(k(xe),k(Ee),k(ee),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-pagination-simple"]],viewQuery:function(o,r){if(o&1&&te(uu,7),o&2){let a;K(a=G())&&(r.template=a.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},standalone:!0,features:[J,j],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"click","locale","disabled","direction","itemRender"],[1,"ant-pagination-simple-pager"],["size","3",3,"keydown.enter","disabled","value"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"click","locale","disabled","direction","itemRender"]],template:function(o,r){o&1&&_(0,o_,8,14,"ng-template",null,0,oe)},dependencies:[Fs],encapsulation:2,changeDetection:0});let t=i;return t})(),d_="pagination",Vs=(()=>{let i=class i{validatePageIndex(e,o){return e>o?o:e<1?1:e}onPageIndexChange(e){let o=this.getLastIndex(this.nzTotal,this.nzPageSize),r=this.validatePageIndex(e,o);r!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=r,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(e){this.nzPageSize=e,this.nzPageSizeChange.emit(e);let o=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>o&&this.onPageIndexChange(o)}onTotalChange(e){let o=this.getLastIndex(e,this.nzPageSize);this.nzPageIndex>o&&Promise.resolve().then(()=>{this.onPageIndexChange(o),this.cdr.markForCheck()})}getLastIndex(e,o){return Math.ceil(e/o)}constructor(e,o,r,a,s){this.i18n=e,this.cdr=o,this.breakpointService=r,this.nzConfigService=a,this.directionality=s,this._nzModuleName=d_,this.nzPageSizeChange=new R,this.nzPageIndexChange=new R,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new X,this.total$=new Ze(1)}ngOnInit(){this.i18n.localeChange.pipe(N(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe(N(this.destroy$)).subscribe(e=>{this.onTotalChange(e)}),this.breakpointService.subscribe(_p).pipe(N(this.destroy$)).subscribe(e=>{this.nzResponsive&&(this.size=e===fp.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzHideOnSinglePage:o,nzTotal:r,nzPageSize:a,nzSize:s}=e;r&&this.total$.next(this.nzTotal),(o||r||a)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),s&&(this.size=s.currentValue)}};i.\u0275fac=function(o){return new(o||i)(k(ui),k(xe),k(gp),k(Vt),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(o,r){o&2&&F("ant-pagination-simple",r.nzSimple)("ant-pagination-disabled",r.nzDisabled)("ant-pagination-mini",!r.nzSimple&&r.size==="small")("ant-pagination-rtl",r.dir==="rtl")},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:[2,"nzShowSizeChanger","nzShowSizeChanger",M],nzShowQuickJumper:[2,"nzShowQuickJumper","nzShowQuickJumper",M],nzSimple:[2,"nzSimple","nzSimple",M],nzDisabled:[2,"nzDisabled","nzDisabled",M],nzResponsive:[2,"nzResponsive","nzResponsive",M],nzHideOnSinglePage:[2,"nzHideOnSinglePage","nzHideOnSinglePage",M],nzTotal:[2,"nzTotal","nzTotal",ge],nzPageIndex:[2,"nzPageIndex","nzPageIndex",ge],nzPageSize:[2,"nzPageSize","nzPageSize",ge]},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],standalone:!0,features:[ne,J,j],decls:5,vars:18,consts:[["simplePagination",""],["defaultPagination",""],[3,"pageIndexChange","disabled","itemRender","locale","pageSize","total","pageIndex"],[3,"pageIndexChange","pageSizeChange","nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet"]],template:function(o,r){if(o&1){let a=I();_(0,c_,2,1),m(1,"nz-pagination-simple",2,0),w("pageIndexChange",function(l){return y(a),z(r.onPageIndexChange(l))}),f(),m(3,"nz-pagination-default",3,1),w("pageIndexChange",function(l){return y(a),z(r.onPageIndexChange(l))})("pageSizeChange",function(l){return y(a),z(r.onPageSizeChange(l))}),f()}o&2&&(x(r.showPagination?0:-1),d(),u("disabled",r.nzDisabled)("itemRender",r.nzItemRender)("locale",r.locale)("pageSize",r.nzPageSize)("total",r.nzTotal)("pageIndex",r.nzPageIndex),d(2),u("nzSize",r.size)("itemRender",r.nzItemRender)("showTotal",r.nzShowTotal)("disabled",r.nzDisabled)("locale",r.locale)("showSizeChanger",r.nzShowSizeChanger)("showQuickJumper",r.nzShowQuickJumper)("total",r.nzTotal)("pageIndex",r.nzPageIndex)("pageSize",r.nzPageSize)("pageSizeOptions",r.nzPageSizeOptions))},dependencies:[ae,fu,mu],encapsulation:2,changeDetection:0});let t=i;return de([ye()],t.prototype,"nzSize",void 0),de([ye()],t.prototype,"nzPageSizeOptions",void 0),de([ye()],t.prototype,"nzShowSizeChanger",void 0),de([ye()],t.prototype,"nzShowQuickJumper",void 0),de([ye()],t.prototype,"nzSimple",void 0),t})(),_u=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Vs,fu,hu,Fs,mu]});let t=i;return t})();var Ef=Sd(xc(),1),Nf=Sd(uf(),1);var e1=["hourListElement"],t1=["minuteListElement"],i1=["secondListElement"],n1=["use12HoursListElement"];function o1(t,i){if(t&1&&(m(0,"div",8)(1,"div",9),E(2),f()()),t&2){let n=c();d(2),ie(n.dateHelper.format(n.time==null?null:n.time.value,n.format)||"\xA0")}}function r1(t,i){if(t&1){let n=I();m(0,"li",13),w("click",function(){y(n);let o=c().$implicit,r=c(2);return z(r.selectHour(o))}),m(1,"div",14),E(2),yt(3,"number"),f()()}if(t&2){let n=c().$implicit,e=c(2);F("ant-picker-time-panel-cell-selected",e.isSelectedHour(n))("ant-picker-time-panel-cell-disabled",n.disabled),d(2),ie(kr(3,5,n.index,"2.0-0"))}}function a1(t,i){if(t&1&&(Ne(0),_(1,r1,4,8,"li",12),$e()),t&2){let n=i.$implicit,e=c(2);d(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function s1(t,i){if(t&1&&(m(0,"ul",10,0),_(2,a1,2,1,"ng-container",11),f()),t&2){let n=c();d(2),u("ngForOf",n.hourRange)("ngForTrackBy",n.trackByFn)}}function l1(t,i){if(t&1){let n=I();m(0,"li",13),w("click",function(){y(n);let o=c().$implicit,r=c(2);return z(r.selectMinute(o))}),m(1,"div",14),E(2),yt(3,"number"),f()()}if(t&2){let n=c().$implicit,e=c(2);F("ant-picker-time-panel-cell-selected",e.isSelectedMinute(n))("ant-picker-time-panel-cell-disabled",n.disabled),d(2),ie(kr(3,5,n.index,"2.0-0"))}}function c1(t,i){if(t&1&&(Ne(0),_(1,l1,4,8,"li",12),$e()),t&2){let n=i.$implicit,e=c(2);d(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function d1(t,i){if(t&1&&(m(0,"ul",10,1),_(2,c1,2,1,"ng-container",11),f()),t&2){let n=c();d(2),u("ngForOf",n.minuteRange)("ngForTrackBy",n.trackByFn)}}function p1(t,i){if(t&1){let n=I();m(0,"li",13),w("click",function(){y(n);let o=c().$implicit,r=c(2);return z(r.selectSecond(o))}),m(1,"div",14),E(2),yt(3,"number"),f()()}if(t&2){let n=c().$implicit,e=c(2);F("ant-picker-time-panel-cell-selected",e.isSelectedSecond(n))("ant-picker-time-panel-cell-disabled",n.disabled),d(2),ie(kr(3,5,n.index,"2.0-0"))}}function u1(t,i){if(t&1&&(Ne(0),_(1,p1,4,8,"li",12),$e()),t&2){let n=i.$implicit,e=c(2);d(),u("ngIf",!(e.nzHideDisabledOptions&&n.disabled))}}function h1(t,i){if(t&1&&(m(0,"ul",10,2),_(2,u1,2,1,"ng-container",11),f()),t&2){let n=c();d(2),u("ngForOf",n.secondRange)("ngForTrackBy",n.trackByFn)}}function m1(t,i){if(t&1){let n=I();Ne(0),m(1,"li",13),w("click",function(){let o=y(n).$implicit,r=c(2);return z(r.select12Hours(o))}),m(2,"div",14),E(3),f()(),$e()}if(t&2){let n=i.$implicit,e=c(2);d(),F("ant-picker-time-panel-cell-selected",e.isSelected12Hours(n)),d(2),ie(n.value)}}function f1(t,i){if(t&1&&(m(0,"ul",10,3),_(2,m1,4,3,"ng-container",15),f()),t&2){let n=c();d(2),u("ngForOf",n.use12HoursRange)}}function _1(t,i){}function g1(t,i){if(t&1&&(m(0,"div",23),_(1,_1,0,0,"ng-template",24),f()),t&2){let n=c(2);d(),u("ngTemplateOutlet",n.nzAddOn)}}function C1(t,i){if(t&1){let n=I();m(0,"div",16),_(1,g1,2,1,"div",17),m(2,"ul",18)(3,"li",19)(4,"a",20),w("click",function(){y(n);let o=c();return z(o.onClickNow())}),E(5),yt(6,"nzI18n"),f()(),m(7,"li",21)(8,"button",22),w("click",function(){y(n);let o=c();return z(o.onClickOk())}),E(9),yt(10,"nzI18n"),f()()()()}if(t&2){let n=c();d(),u("ngIf",n.nzAddOn),d(4),q(" ",n.nzNowText||$t(6,3,"Calendar.lang.now")," "),d(4),q(" ",n.nzOkText||$t(10,5,"Calendar.lang.ok")," ")}}var y1=["inputElement"];function z1(t,i){if(t&1&&(Ne(0),D(1,"span",8),$e()),t&2){let n=i.$implicit;d(),u("nzType",n)}}function v1(t,i){if(t&1&&D(0,"nz-form-item-feedback-icon",9),t&2){let n=c();u("status",n.status)}}function x1(t,i){if(t&1){let n=I();m(0,"span",10),w("click",function(o){y(n);let r=c();return z(r.onClickClearBtn(o))}),D(1,"span",11),f()}if(t&2){let n=c();d(),Z("aria-label",n.nzClearText)("title",n.nzClearText)}}function b1(t,i){if(t&1){let n=I();m(0,"div",12)(1,"div",13)(2,"div",14)(3,"nz-time-picker-panel",15),yt(4,"async"),je("ngModelChange",function(o){y(n);let r=c();return Le(r.value,o)||(r.value=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r.onPanelValueChange(o))})("closePanel",function(){y(n);let o=c();return z(o.closePanel())}),f()()()()}if(t&2){let n=c();u("@slideMotion","enter"),d(3),u("ngClass",n.nzPopupClassName)("format",n.nzFormat)("nzHourStep",n.nzHourStep)("nzMinuteStep",n.nzMinuteStep)("nzSecondStep",n.nzSecondStep)("nzDisabledHours",n.nzDisabledHours)("nzDisabledMinutes",n.nzDisabledMinutes)("nzDisabledSeconds",n.nzDisabledSeconds)("nzPlaceHolder",n.nzPlaceHolder||$t(4,19,n.i18nPlaceHolder$))("nzHideDisabledOptions",n.nzHideDisabledOptions)("nzUse12Hours",n.nzUse12Hours)("nzDefaultOpenValue",n.nzDefaultOpenValue)("nzAddOn",n.nzAddOn)("nzClearText",n.nzClearText)("nzNowText",n.nzNowText)("nzOkText",n.nzOkText)("nzAllowEmpty",n.nzAllowEmpty),Be("ngModel",n.value)}}var Oc=class{setMinutes(i,n){return n||(this.initValue(),this.value.setMinutes(i),this.update()),this}setHours(i,n){return n||(this.initValue(),this._use12Hours?this.selected12Hours==="PM"&&i!==12?this.value.setHours(i+12):this.selected12Hours==="AM"&&i===12?this.value.setHours(0):this.value.setHours(i):this.value.setHours(i),this.update()),this}setSeconds(i,n){return n||(this.initValue(),this.value.setSeconds(i),this.update()),this}setUse12Hours(i){return this._use12Hours=i,this}get changes(){return this._changes.asObservable()}setValue(i,n){return ft(n)&&(this._use12Hours=n),i!==this.value&&(this._value=i,ft(this.value)?this._use12Hours&&ft(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){Vn(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(ft(this.hours)||ft(this.minutes)||ft(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(ft(this.hours)&&this.value.setHours(this.hours),ft(this.minutes)&&this.value.setMinutes(this.minutes),ft(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&(this.selected12Hours==="PM"&&this.hours<12&&this.value.setHours(this.hours+12),this.selected12Hours==="AM"&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&ft(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(i){i.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=i.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){return this.value?.getHours()}get minutes(){return this.value?.getMinutes()}get seconds(){return this.value?.getSeconds()}setDefaultOpenValue(i){return this._defaultOpenValue=i,this}constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new X}calculateViewHour(i){let n=this.selected12Hours;return n==="PM"&&i>12?i-12:n==="AM"&&i===0?12:i}};function Mc(t,i=1,n=0){return new Array(Math.ceil(t/i)).fill(0).map((e,o)=>(o+n)*i)}var Xa=(()=>{let i=class i{set nzAllowEmpty(e){this._allowEmpty=e}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(e){this._disabledHours=e,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(e){ft(e)&&(this._disabledMinutes=e,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(e){ft(e)&&(this._disabledSeconds=e,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(e){if(ft(e)){this._format=e,this.enabledColumns=0;let o=new Set(e);this.hourEnabled=o.has("H")||o.has("h"),this.minuteEnabled=o.has("m"),this.secondEnabled=o.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(e){this._nzHourStep=e||1,this.buildHours()}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(e){this._nzMinuteStep=e||1,this.buildMinutes()}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(e){this._nzSecondStep=e||1,this.buildSeconds()}get nzSecondStep(){return this._nzSecondStep}trackByFn(e){return e}buildHours(){let e=24,o=this.nzDisabledHours?.(),r=0;if(this.nzUse12Hours&&(e=12,o&&(this.time.selected12Hours==="PM"?o=o.filter(a=>a>=12).map(a=>a>12?a-12:a):o=o.filter(a=>a<12||a===24).map(a=>a===24||a===0?12:a)),r=1),this.hourRange=Mc(e,this.nzHourStep,r).map(a=>({index:a,disabled:!!o&&o.indexOf(a)!==-1})),this.nzUse12Hours&&this.hourRange[this.hourRange.length-1].index===12){let a=[...this.hourRange];a.unshift(a[a.length-1]),a.splice(a.length-1,1),this.hourRange=a}}buildMinutes(){this.minuteRange=Mc(60,this.nzMinuteStep).map(e=>({index:e,disabled:!!this.nzDisabledMinutes&&this.nzDisabledMinutes(this.time.hours).indexOf(e)!==-1}))}buildSeconds(){this.secondRange=Mc(60,this.nzSecondStep).map(e=>({index:e,disabled:!!this.nzDisabledSeconds&&this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(e)!==-1}))}build12Hours(){let e=this._format.includes("A");this.use12HoursRange=[{index:0,value:e?"AM":"am"},{index:1,value:e?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(e=0){if(this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,e,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,e,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,e,"second"),this.nzUse12Hours&&this.use12HoursListElement){let r=this.time.selected12Hours==="AM"?0:1;this.scrollToSelected(this.use12HoursListElement.nativeElement,r,e,"12-hour")}}selectHour(e){this.time.setHours(e.index,e.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(e){this.time.setMinutes(e.index,e.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(e){this.time.setSeconds(e.index,e.disabled)}select12Hours(e){this.time.setSelected12Hours(e.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(e,o,r=0,a){if(!e)return;let s=this.translateIndex(o,a),l=e.children[s]||e.children[0];this.scrollTo(e,l.offsetTop,r)}translateIndex(e,o){return o==="hour"?this.calcIndex(this.nzDisabledHours?.(),this.hourRange.map(r=>r.index).indexOf(e)):o==="minute"?this.calcIndex(this.nzDisabledMinutes?.(this.time.hours),this.minuteRange.map(r=>r.index).indexOf(e)):o==="second"?this.calcIndex(this.nzDisabledSeconds?.(this.time.hours,this.time.minutes),this.secondRange.map(r=>r.index).indexOf(e)):this.calcIndex([],this.use12HoursRange.map(r=>r.index).indexOf(e))}scrollTo(e,o,r){if(r<=0){e.scrollTop=o;return}let s=(o-e.scrollTop)/r*10;this.ngZone.runOutsideAngular(()=>{up(()=>{e.scrollTop=e.scrollTop+s,e.scrollTop!==o&&this.scrollTo(e,o,r-10)})})}calcIndex(e,o){return e?.length&&this.nzHideDisabledOptions?o-e.reduce((r,a)=>r+(a<o?1:0),0):o}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(e){let o=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return(this.nzDisabledHours?.().indexOf(o)??-1)>-1||(this.nzDisabledMinutes?.(o).indexOf(r)??-1)>-1||(this.nzDisabledSeconds?.(o,r).indexOf(a)??-1)>-1}onClickNow(){let e=new Date;this.timeDisabled(e)||(this.time.setValue(e),this.changed(),this.closePanel.emit())}onClickOk(){this.time.setValue(this.time.value,this.nzUse12Hours),this.changed(),this.closePanel.emit()}isSelectedHour(e){return e.index===this.time.viewHours}isSelectedMinute(e){return e.index===this.time.minutes}isSelectedSecond(e){return e.index===this.time.seconds}isSelected12Hours(e){return e.value.toUpperCase()===this.time.selected12Hours}constructor(e,o,r,a){this.ngZone=e,this.cdr=o,this.dateHelper=r,this.elementRef=a,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new X,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new Oc,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new R}ngOnInit(){this.time.changes.pipe(N(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0}),lt(this.elementRef.nativeElement,"mousedown").pipe(N(this.unsubscribe$)).subscribe(e=>{e.preventDefault()})})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(e){let{nzUse12Hours:o,nzDefaultOpenValue:r}=e;!o?.previousValue&&o?.currentValue&&(this.build12Hours(),this.enabledColumns++),r?.currentValue&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(e){this.time.setValue(e,this.nzUse12Hours),this.buildTimes(),e&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}};i.\u0275fac=function(o){return new(o||i)(k(Re),k(xe),k(Ut),k(ee))},i.\u0275cmp=V({type:i,selectors:[["nz-time-picker-panel"]],viewQuery:function(o,r){if(o&1&&(te(e1,5),te(t1,5),te(i1,5),te(n1,5)),o&2){let a;K(a=G())&&(r.hourListElement=a.first),K(a=G())&&(r.minuteListElement=a.first),K(a=G())&&(r.secondListElement=a.first),K(a=G())&&(r.use12HoursListElement=a.first)}},hostAttrs:[1,"ant-picker-time-panel"],hostVars:12,hostBindings:function(o,r){o&2&&F("ant-picker-time-panel-column-0",r.enabledColumns===0&&!r.nzInDatePicker)("ant-picker-time-panel-column-1",r.enabledColumns===1&&!r.nzInDatePicker)("ant-picker-time-panel-column-2",r.enabledColumns===2&&!r.nzInDatePicker)("ant-picker-time-panel-column-3",r.enabledColumns===3&&!r.nzInDatePicker)("ant-picker-time-panel-narrow",r.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!r.nzInDatePicker)},inputs:{nzInDatePicker:[2,"nzInDatePicker","nzInDatePicker",M],nzAddOn:"nzAddOn",nzHideDisabledOptions:"nzHideDisabledOptions",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPlaceHolder:"nzPlaceHolder",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",M],nzDefaultOpenValue:"nzDefaultOpenValue",nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",M],nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:[2,"nzHourStep","nzHourStep",ge],nzMinuteStep:[2,"nzMinuteStep","nzMinuteStep",ge],nzSecondStep:[2,"nzSecondStep","nzSecondStep",ge]},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],standalone:!0,features:[Ke([{provide:Qi,useExisting:i,multi:!0}]),ne,J,j],decls:7,vars:6,consts:[["hourListElement",""],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],[4,"ngFor","ngForOf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(o,r){o&1&&(_(0,o1,3,1,"div",4),m(1,"div",5),_(2,s1,3,2,"ul",6)(3,d1,3,2,"ul",6)(4,h1,3,2,"ul",6)(5,f1,3,1,"ul",6),f(),_(6,C1,11,7,"div",7)),o&2&&(u("ngIf",r.nzInDatePicker),d(2),u("ngIf",r.hourEnabled),d(),u("ngIf",r.minuteEnabled),d(),u("ngIf",r.secondEnabled),d(),u("ngIf",r.nzUse12Hours),d(),u("ngIf",!r.nzInDatePicker))},dependencies:[bs,Dr,$n,ae,Rr,Vr,Rt,pi,bt,di],encapsulation:2,changeDetection:0});let t=i;return t})(),S1="timePicker",w1=(()=>{let i=class i{emitValue(e){this.setValue(e,!0),this._onChange&&this._onChange(this.value),this._onTouched&&this._onTouched()}setValue(e,o=!1){o&&(this.preValue=Io(e)?new Date(e):null),this.value=Io(e)?new Date(e):null,this.inputValue=this.dateHelper.format(e,this.nzFormat),this.cdr.markForCheck()}open(){this.nzDisabled||this.nzOpen||(this.focus(),this.nzOpen=!0,this.nzOpenChange.emit(this.nzOpen))}close(){this.nzOpen=!1,this.cdr.markForCheck(),this.nzOpenChange.emit(this.nzOpen)}updateAutoFocus(){this.isInit&&!this.nzDisabled&&(this.nzAutoFocus?this.renderer.setAttribute(this.inputRef.nativeElement,"autofocus","autofocus"):this.renderer.removeAttribute(this.inputRef.nativeElement,"autofocus"))}onClickClearBtn(e){e.stopPropagation(),this.emitValue(null)}onClickOutside(e){let o=qd(e);this.element.nativeElement.contains(o)||this.setCurrentValueAndClose()}onFocus(e){this.focused=e,e||(this.checkTimeValid(this.value)?this.setCurrentValueAndClose():(this.setValue(this.preValue),this.close()))}focus(){this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()}blur(){this.inputRef.nativeElement&&this.inputRef.nativeElement.blur()}onKeyupEsc(){this.setValue(this.preValue)}onKeyupEnter(){this.nzOpen&&Io(this.value)?this.setCurrentValueAndClose():this.nzOpen||this.open()}onInputChange(e){!this.platform.TRIDENT&&document.activeElement===this.inputRef.nativeElement&&(this.open(),this.parseTimeString(e))}onPanelValueChange(e){this.setValue(e),this.focus()}closePanel(){this.inputRef.nativeElement.blur()}setCurrentValueAndClose(){this.emitValue(this.value),this.close()}constructor(e,o,r,a,s,l,p,h){this.nzConfigService=e,this.i18n=o,this.element=r,this.renderer=a,this.cdr=s,this.dateHelper=l,this.platform=p,this.directionality=h,this._nzModuleName=S1,this.destroy$=new X,this.isNzDisableFirstChange=!0,this.isInit=!1,this.focused=!1,this.inputValue="",this.value=null,this.preValue=null,this.i18nPlaceHolder$=xt(void 0),this.overlayPositions=[{offsetY:3,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetY:-3,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetY:3,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetY:-3,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.dir="ltr",this.prefixCls="ant-picker",this.statusCls={},this.status="",this.hasFeedback=!1,this.nzId=null,this.nzSize=null,this.nzStatus="",this.nzHourStep=1,this.nzMinuteStep=1,this.nzSecondStep=1,this.nzClearText="clear",this.nzNowText="",this.nzOkText="",this.nzPopupClassName="",this.nzPlaceHolder="",this.nzFormat="HH:mm:ss",this.nzOpen=!1,this.nzUse12Hours=!1,this.nzSuffixIcon="clock-circle",this.nzOpenChange=new R,this.nzHideDisabledOptions=!1,this.nzAllowEmpty=!0,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzBackdrop=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzFormStatusService=O(Yt,{optional:!0}),this.nzFormNoStatusService=O(Yr,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ri((e,o)=>e.status===o.status&&e.hasFeedback===o.hasFeedback),wr(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:xt(!1)),_e(([{status:e,hasFeedback:o},r])=>({status:r?"":e,hasFeedback:o})),N(this.destroy$)).subscribe(({status:e,hasFeedback:o})=>{this.setStatusStyles(e,o)}),this.inputSize=Math.max(8,this.nzFormat.length)+2,this.origin=new Nr(this.element),this.i18nPlaceHolder$=this.i18n.localeChange.pipe(_e(e=>e.TimePicker.placeholder)),this.dir=this.directionality.value,this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){let{nzUse12Hours:o,nzFormat:r,nzDisabled:a,nzAutoFocus:s,nzStatus:l}=e;if(o&&!o.previousValue&&o.currentValue&&!r&&(this.nzFormat="h:mm:ss a"),a){let p=a.currentValue,h=this.inputRef.nativeElement;p?this.renderer.setAttribute(h,"disabled",""):this.renderer.removeAttribute(h,"disabled")}s&&this.updateAutoFocus(),l&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}parseTimeString(e){let o=this.dateHelper.parseTime(e,this.nzFormat)||null;Io(o)&&(this.value=o,this.cdr.markForCheck())}ngAfterViewInit(){this.isInit=!0,this.updateAutoFocus()}writeValue(e){let o;e instanceof Date?o=e:Vn(e)?o=null:(Yd('Non-Date type is not recommended for time-picker, use "Date" type.'),o=new Date(e)),this.setValue(o,!0)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}checkTimeValid(e){if(!e)return!0;let o=this.nzDisabledHours?.(),r=this.nzDisabledMinutes?.(e.getHours()),a=this.nzDisabledSeconds?.(e.getHours(),e.getMinutes());return!(o?.includes(e.getHours())||r?.includes(e.getMinutes())||a?.includes(e.getSeconds()))}setStatusStyles(e,o){this.status=e,this.hasFeedback=o,this.cdr.markForCheck(),this.statusCls=Ir(this.prefixCls,e,o),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)})}};i.\u0275fac=function(o){return new(o||i)(k(Vt),k(ui),k(ee),k(Ee),k(xe),k(Ut),k(Ft),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-time-picker"]],viewQuery:function(o,r){if(o&1&&te(y1,7),o&2){let a;K(a=G())&&(r.inputRef=a.first)}},hostAttrs:[1,"ant-picker"],hostVars:12,hostBindings:function(o,r){o&1&&w("click",function(){return r.open()}),o&2&&F("ant-picker-large",r.nzSize==="large")("ant-picker-small",r.nzSize==="small")("ant-picker-disabled",r.nzDisabled)("ant-picker-focused",r.focused)("ant-picker-rtl",r.dir==="rtl")("ant-picker-borderless",r.nzBorderless)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzClearText:"nzClearText",nzNowText:"nzNowText",nzOkText:"nzOkText",nzPopupClassName:"nzPopupClassName",nzPlaceHolder:"nzPlaceHolder",nzAddOn:"nzAddOn",nzDefaultOpenValue:"nzDefaultOpenValue",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",nzFormat:"nzFormat",nzOpen:"nzOpen",nzUse12Hours:[2,"nzUse12Hours","nzUse12Hours",M],nzSuffixIcon:"nzSuffixIcon",nzHideDisabledOptions:[2,"nzHideDisabledOptions","nzHideDisabledOptions",M],nzAllowEmpty:[2,"nzAllowEmpty","nzAllowEmpty",M],nzDisabled:[2,"nzDisabled","nzDisabled",M],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",M],nzBackdrop:"nzBackdrop",nzBorderless:[2,"nzBorderless","nzBorderless",M],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",M]},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzTimePicker"],standalone:!0,features:[Ke([{provide:Qi,useExisting:i,multi:!0}]),ne,J,j],decls:9,vars:16,consts:[["inputElement",""],[1,"ant-picker-input"],["type","text","autocomplete","off",3,"ngModelChange","focus","blur","keyup.enter","keyup.escape","size","placeholder","ngModel","disabled","readOnly"],[1,"ant-picker-suffix"],[4,"nzStringTemplateOutlet"],[3,"status",4,"ngIf"],["class","ant-picker-clear",3,"click",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn"],["nz-icon","",3,"nzType"],[3,"status"],[1,"ant-picker-clear",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],[1,"ant-picker-dropdown",2,"position","relative"],[1,"ant-picker-panel-container"],["tabindex","-1",1,"ant-picker-panel"],[3,"ngModelChange","closePanel","ngClass","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzPlaceHolder","nzHideDisabledOptions","nzUse12Hours","nzDefaultOpenValue","nzAddOn","nzClearText","nzNowText","nzOkText","nzAllowEmpty","ngModel"]],template:function(o,r){if(o&1){let a=I();m(0,"div",1)(1,"input",2,0),yt(3,"async"),je("ngModelChange",function(l){return y(a),Le(r.inputValue,l)||(r.inputValue=l),z(l)}),w("focus",function(){return y(a),z(r.onFocus(!0))})("blur",function(){return y(a),z(r.onFocus(!1))})("keyup.enter",function(){return y(a),z(r.onKeyupEnter())})("keyup.escape",function(){return y(a),z(r.onKeyupEsc())})("ngModelChange",function(l){return y(a),z(r.onInputChange(l))}),f(),m(4,"span",3),_(5,z1,2,1,"ng-container",4)(6,v1,1,1,"nz-form-item-feedback-icon",5),f(),_(7,x1,2,2,"span",6),f(),_(8,b1,5,21,"ng-template",7),w("detach",function(){return y(a),z(r.close())})("overlayOutsideClick",function(l){return y(a),z(r.onClickOutside(l))})}o&2&&(d(),u("size",r.inputSize)("placeholder",r.nzPlaceHolder||$t(3,14,r.i18nPlaceHolder$)),Be("ngModel",r.inputValue),u("disabled",r.nzDisabled)("readOnly",r.nzInputReadOnly),Z("id",r.nzId),d(4),u("nzStringTemplateOutlet",r.nzSuffixIcon),d(),u("ngIf",r.hasFeedback&&!!r.status),d(),u("ngIf",r.nzAllowEmpty&&!r.nzDisabled&&r.value),d(),u("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayPositions",r.overlayPositions)("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayOpen",r.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-picker-dropdown"))},dependencies:[wo,ot,Fi,Ge,We,St,gt,He,Pe,Gr,Kr,bs,Xa,dt,Hn,An,$r,pn],encapsulation:2,data:{animation:[Hr]},changeDetection:0});let t=i;return de([ye()],t.prototype,"nzHourStep",void 0),de([ye()],t.prototype,"nzMinuteStep",void 0),de([ye()],t.prototype,"nzSecondStep",void 0),de([ye()],t.prototype,"nzClearText",void 0),de([ye()],t.prototype,"nzNowText",void 0),de([ye()],t.prototype,"nzOkText",void 0),de([ye()],t.prototype,"nzPopupClassName",void 0),de([ye()],t.prototype,"nzFormat",void 0),de([ye()],t.prototype,"nzUse12Hours",void 0),de([ye()],t.prototype,"nzSuffixIcon",void 0),de([ye()],t.prototype,"nzAllowEmpty",void 0),de([ye()],t.prototype,"nzBackdrop",void 0),t})(),fo=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[w1,Xa]});let t=i;return t})();function T1(t,i){t&1&&Te(0)}function k1(t,i){if(t&1&&_(0,T1,1,0,"ng-container",3),t&2){let n=c(2);u("ngTemplateOutlet",n.extraFooter)}}function D1(t,i){if(t&1&&D(0,"span",2),t&2){let n=c(2);u("innerHTML",n.extraFooter,Ae)}}function P1(t,i){if(t&1&&(m(0,"div"),_(1,k1,1,1,"ng-container")(2,D1,1,1,"span",2),f()),t&2){let n=c();A("",n.prefixCls,"-footer-extra"),d(),x(n.isExtraFooterTemplateRef?1:-1),d(),x(n.isExtraFooterNonEmptyString?2:-1)}}function M1(t,i){if(t&1){let n=I();m(0,"a",4),w("click",function(){y(n);let o=c();return z(o.isTodayDisabled?null:o.onClickToday())}),E(1),f()}if(t&2){let n=c();Nn("",n.prefixCls,"-today-btn ",n.isTodayDisabled?n.prefixCls+"-today-btn-disabled":"",""),pe("title",n.todayTitle),d(),q(" ",n.locale.today," ")}}function O1(t,i){t&1&&Te(0)}function I1(t,i){if(t&1){let n=I();m(0,"li")(1,"a",5),w("click",function(){y(n);let o=c(2);return z(o.isTodayDisabled?null:o.onClickToday())}),E(2),f()()}if(t&2){let n=c(2);A("",n.prefixCls,"-now"),d(),A("",n.prefixCls,"-now-btn"),d(),q(" ",n.locale.now," ")}}function E1(t,i){if(t&1){let n=I();m(0,"li")(1,"button",6),w("click",function(){y(n);let o=c(2);return z(o.okDisabled?null:o.clickOk.emit())}),E(2),f()()}if(t&2){let n=c(2);A("",n.prefixCls,"-ok"),d(),u("disabled",n.okDisabled),d(),q(" ",n.locale.ok," ")}}function N1(t,i){if(t&1&&(m(0,"ul"),_(1,O1,1,0,"ng-container",3)(2,I1,3,7,"li",0)(3,E1,3,5,"li",0),f()),t&2){let n=c();A("",n.prefixCls,"-ranges"),d(),u("ngTemplateOutlet",n.rangeQuickSelector),d(),x(n.showNow?2:-1),d(),x(n.hasTimePicker?3:-1)}}function $1(t,i){if(t&1){let n=I();m(0,"button",6),w("click",function(){let o=y(n).$implicit;return z(o.onClick())}),E(1),f()}if(t&2){let n=i.$implicit;Qt(n.className),pe("title",n.title||null),d(),q(" ",n.label," ")}}var Pi=(t,i)=>i.trackByIndex,It=t=>({$implicit:t});function F1(t,i){t&1&&D(0,"th",3)}function V1(t,i){if(t&1&&(m(0,"th",4),E(1),f()),t&2){let n=i.$implicit;pe("title",n.title),d(),q(" ",n.content," ")}}function R1(t,i){if(t&1&&(m(0,"thead")(1,"tr",2),_(2,F1,1,0,"th",3),Q(3,V1,2,2,"th",4,ct),f()()),t&2){let n=c();d(2),x(n.showWeek?2:-1),d(),U(n.headRow)}}function A1(t,i){if(t&1&&(m(0,"td",7),E(1),f()),t&2){let n=c().$implicit,e=c();A("",e.prefixCls,"-cell-week"),d(),q(" ",n.weekNum," ")}}function H1(t,i){t&1&&Te(0)}function L1(t,i){if(t&1&&_(0,H1,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function j1(t,i){if(t&1&&D(0,"span",10),t&2){let n=c(2).$implicit;u("innerHTML",n.cellRender,Ae)}}function B1(t,i){if(t&1&&(m(0,"div"),E(1),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-cell-inner"),Z("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),q(" ",n.content," ")}}function W1(t,i){if(t&1&&_(0,L1,1,4,"ng-container")(1,j1,1,1,"span",10)(2,B1,2,6,"div",11),t&2){let n=c().$implicit;x(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function q1(t,i){t&1&&Te(0)}function Q1(t,i){if(t&1&&_(0,q1,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function U1(t,i){t&1&&Te(0)}function Y1(t,i){if(t&1&&(m(0,"div"),E(1),f(),m(2,"div"),_(3,U1,1,0,"ng-container",12),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-date-value"),d(),ie(n.content),d(),A("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(9,It,n.value))}}function K1(t,i){if(t&1&&(m(0,"div"),_(1,Q1,1,4,"ng-container")(2,Y1,4,11),f()),t&2){let n=c().$implicit,e=c(2);A("",e.prefixCls,"-date ant-picker-cell-inner"),F("ant-picker-calendar-date-today",n.isToday),d(),x(n.fullCellRender?1:2)}}function G1(t,i){if(t&1){let n=I();m(0,"td",8),w("click",function(){let o=y(n).$implicit;return z(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=y(n).$implicit;return z(o.onMouseEnter())}),_(1,W1,3,1)(2,K1,3,6,"div",9),f()}if(t&2){let n,e=i.$implicit,o=c(2);pe("title",e.title),u("ngClass",e.classMap),d(),x((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function Z1(t,i){if(t&1&&(m(0,"tr",1),_(1,A1,2,4,"td",5),Q(2,G1,3,3,"td",6,Pi),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),x(n.weekNum?1:-1),d(),U(n.dateCells)}}function X1(t,i){if(t&1){let n=I();m(0,"button",6),w("click",function(){let o=y(n).$implicit;return z(o.onClick())}),E(1),f()}if(t&2){let n=i.$implicit;Qt(n.className),pe("title",n.title||null),d(),q(" ",n.label," ")}}function J1(t,i){t&1&&D(0,"th",3)}function ex(t,i){if(t&1&&(m(0,"th",4),E(1),f()),t&2){let n=i.$implicit;pe("title",n.title),d(),q(" ",n.content," ")}}function tx(t,i){if(t&1&&(m(0,"thead")(1,"tr",2),_(2,J1,1,0,"th",3),Q(3,ex,2,2,"th",4,ct),f()()),t&2){let n=c();d(2),x(n.showWeek?2:-1),d(),U(n.headRow)}}function ix(t,i){if(t&1&&(m(0,"td",7),E(1),f()),t&2){let n=c().$implicit,e=c();A("",e.prefixCls,"-cell-week"),d(),q(" ",n.weekNum," ")}}function nx(t,i){t&1&&Te(0)}function ox(t,i){if(t&1&&_(0,nx,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function rx(t,i){if(t&1&&D(0,"span",10),t&2){let n=c(2).$implicit;u("innerHTML",n.cellRender,Ae)}}function ax(t,i){if(t&1&&(m(0,"div"),E(1),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-cell-inner"),Z("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),q(" ",n.content," ")}}function sx(t,i){if(t&1&&_(0,ox,1,4,"ng-container")(1,rx,1,1,"span",10)(2,ax,2,6,"div",11),t&2){let n=c().$implicit;x(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function lx(t,i){t&1&&Te(0)}function cx(t,i){if(t&1&&_(0,lx,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function dx(t,i){t&1&&Te(0)}function px(t,i){if(t&1&&(m(0,"div"),E(1),f(),m(2,"div"),_(3,dx,1,0,"ng-container",12),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-date-value"),d(),ie(n.content),d(),A("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(9,It,n.value))}}function ux(t,i){if(t&1&&(m(0,"div"),_(1,cx,1,4,"ng-container")(2,px,4,11),f()),t&2){let n=c().$implicit,e=c(2);A("",e.prefixCls,"-date ant-picker-cell-inner"),F("ant-picker-calendar-date-today",n.isToday),d(),x(n.fullCellRender?1:2)}}function hx(t,i){if(t&1){let n=I();m(0,"td",8),w("click",function(){let o=y(n).$implicit;return z(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=y(n).$implicit;return z(o.onMouseEnter())}),_(1,sx,3,1)(2,ux,3,6,"div",9),f()}if(t&2){let n,e=i.$implicit,o=c(2);pe("title",e.title),u("ngClass",e.classMap),d(),x((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function mx(t,i){if(t&1&&(m(0,"tr",1),_(1,ix,2,4,"td",5),Q(2,hx,3,3,"td",6,Pi),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),x(n.weekNum?1:-1),d(),U(n.dateCells)}}function fx(t,i){if(t&1){let n=I();m(0,"button",6),w("click",function(){let o=y(n).$implicit;return z(o.onClick())}),E(1),f()}if(t&2){let n=i.$implicit;Qt(n.className),pe("title",n.title||null),d(),q(" ",n.label," ")}}function _x(t,i){t&1&&D(0,"th",3)}function gx(t,i){if(t&1&&(m(0,"th",4),E(1),f()),t&2){let n=i.$implicit;pe("title",n.title),d(),q(" ",n.content," ")}}function Cx(t,i){if(t&1&&(m(0,"thead")(1,"tr",2),_(2,_x,1,0,"th",3),Q(3,gx,2,2,"th",4,ct),f()()),t&2){let n=c();d(2),x(n.showWeek?2:-1),d(),U(n.headRow)}}function yx(t,i){if(t&1&&(m(0,"td",7),E(1),f()),t&2){let n=c().$implicit,e=c();A("",e.prefixCls,"-cell-week"),d(),q(" ",n.weekNum," ")}}function zx(t,i){t&1&&Te(0)}function vx(t,i){if(t&1&&_(0,zx,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function xx(t,i){if(t&1&&D(0,"span",10),t&2){let n=c(2).$implicit;u("innerHTML",n.cellRender,Ae)}}function bx(t,i){if(t&1&&(m(0,"div"),E(1),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-cell-inner"),Z("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),q(" ",n.content," ")}}function Sx(t,i){if(t&1&&_(0,vx,1,4,"ng-container")(1,xx,1,1,"span",10)(2,bx,2,6,"div",11),t&2){let n=c().$implicit;x(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function wx(t,i){t&1&&Te(0)}function Tx(t,i){if(t&1&&_(0,wx,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function kx(t,i){t&1&&Te(0)}function Dx(t,i){if(t&1&&(m(0,"div"),E(1),f(),m(2,"div"),_(3,kx,1,0,"ng-container",12),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-date-value"),d(),ie(n.content),d(),A("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(9,It,n.value))}}function Px(t,i){if(t&1&&(m(0,"div"),_(1,Tx,1,4,"ng-container")(2,Dx,4,11),f()),t&2){let n=c().$implicit,e=c(2);A("",e.prefixCls,"-date ant-picker-cell-inner"),F("ant-picker-calendar-date-today",n.isToday),d(),x(n.fullCellRender?1:2)}}function Mx(t,i){if(t&1){let n=I();m(0,"td",8),w("click",function(){let o=y(n).$implicit;return z(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=y(n).$implicit;return z(o.onMouseEnter())}),_(1,Sx,3,1)(2,Px,3,6,"div",9),f()}if(t&2){let n,e=i.$implicit,o=c(2);pe("title",e.title),u("ngClass",e.classMap),d(),x((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function Ox(t,i){if(t&1&&(m(0,"tr",1),_(1,yx,2,4,"td",5),Q(2,Mx,3,3,"td",6,Pi),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),x(n.weekNum?1:-1),d(),U(n.dateCells)}}function Ix(t,i){if(t&1){let n=I();m(0,"button",6),w("click",function(){let o=y(n).$implicit;return z(o.onClick())}),E(1),f()}if(t&2){let n=i.$implicit;Qt(n.className),pe("title",n.title||null),d(),q(" ",n.label," ")}}function Ex(t,i){t&1&&D(0,"th",3)}function Nx(t,i){if(t&1&&(m(0,"th",4),E(1),f()),t&2){let n=i.$implicit;pe("title",n.title),d(),q(" ",n.content," ")}}function $x(t,i){if(t&1&&(m(0,"thead")(1,"tr",2),_(2,Ex,1,0,"th",3),Q(3,Nx,2,2,"th",4,ct),f()()),t&2){let n=c();d(2),x(n.showWeek?2:-1),d(),U(n.headRow)}}function Fx(t,i){if(t&1&&(m(0,"td",7),E(1),f()),t&2){let n=c().$implicit,e=c();A("",e.prefixCls,"-cell-week"),d(),q(" ",n.weekNum," ")}}function Vx(t,i){t&1&&Te(0)}function Rx(t,i){if(t&1&&_(0,Vx,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function Ax(t,i){if(t&1&&D(0,"span",10),t&2){let n=c(2).$implicit;u("innerHTML",n.cellRender,Ae)}}function Hx(t,i){if(t&1&&(m(0,"div"),E(1),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-cell-inner"),Z("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),q(" ",n.content," ")}}function Lx(t,i){if(t&1&&_(0,Rx,1,4,"ng-container")(1,Ax,1,1,"span",10)(2,Hx,2,6,"div",11),t&2){let n=c().$implicit;x(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function jx(t,i){t&1&&Te(0)}function Bx(t,i){if(t&1&&_(0,jx,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function Wx(t,i){t&1&&Te(0)}function qx(t,i){if(t&1&&(m(0,"div"),E(1),f(),m(2,"div"),_(3,Wx,1,0,"ng-container",12),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-date-value"),d(),ie(n.content),d(),A("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(9,It,n.value))}}function Qx(t,i){if(t&1&&(m(0,"div"),_(1,Bx,1,4,"ng-container")(2,qx,4,11),f()),t&2){let n=c().$implicit,e=c(2);A("",e.prefixCls,"-date ant-picker-cell-inner"),F("ant-picker-calendar-date-today",n.isToday),d(),x(n.fullCellRender?1:2)}}function Ux(t,i){if(t&1){let n=I();m(0,"td",8),w("click",function(){let o=y(n).$implicit;return z(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=y(n).$implicit;return z(o.onMouseEnter())}),_(1,Lx,3,1)(2,Qx,3,6,"div",9),f()}if(t&2){let n,e=i.$implicit,o=c(2);pe("title",e.title),u("ngClass",e.classMap),d(),x((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function Yx(t,i){if(t&1&&(m(0,"tr",1),_(1,Fx,2,4,"td",5),Q(2,Ux,3,3,"td",6,Pi),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),x(n.weekNum?1:-1),d(),U(n.dateCells)}}function Kx(t,i){if(t&1){let n=I();m(0,"button",6),w("click",function(){let o=y(n).$implicit;return z(o.onClick())}),E(1),f()}if(t&2){let n=i.$implicit;Qt(n.className),pe("title",n.title||null),d(),q(" ",n.label," ")}}function Gx(t,i){t&1&&D(0,"th",3)}function Zx(t,i){if(t&1&&(m(0,"th",4),E(1),f()),t&2){let n=i.$implicit;pe("title",n.title),d(),q(" ",n.content," ")}}function Xx(t,i){if(t&1&&(m(0,"thead")(1,"tr",2),_(2,Gx,1,0,"th",3),Q(3,Zx,2,2,"th",4,ct),f()()),t&2){let n=c();d(2),x(n.showWeek?2:-1),d(),U(n.headRow)}}function Jx(t,i){if(t&1&&(m(0,"td",7),E(1),f()),t&2){let n=c().$implicit,e=c();A("",e.prefixCls,"-cell-week"),d(),q(" ",n.weekNum," ")}}function eb(t,i){t&1&&Te(0)}function tb(t,i){if(t&1&&_(0,eb,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function ib(t,i){if(t&1&&D(0,"span",10),t&2){let n=c(2).$implicit;u("innerHTML",n.cellRender,Ae)}}function nb(t,i){if(t&1&&(m(0,"div"),E(1),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-cell-inner"),Z("aria-selected",n.isSelected)("aria-disabled",n.isDisabled),d(),q(" ",n.content," ")}}function ob(t,i){if(t&1&&_(0,tb,1,4,"ng-container")(1,ib,1,1,"span",10)(2,nb,2,6,"div",11),t&2){let n=c().$implicit;x(n.isTemplateRef?0:n.isNonEmptyString?1:2)}}function rb(t,i){t&1&&Te(0)}function ab(t,i){if(t&1&&_(0,rb,1,0,"ng-container",12),t&2){let n=c(2).$implicit;u("ngTemplateOutlet",n.fullCellRender)("ngTemplateOutletContext",Fe(2,It,n.value))}}function sb(t,i){t&1&&Te(0)}function lb(t,i){if(t&1&&(m(0,"div"),E(1),f(),m(2,"div"),_(3,sb,1,0,"ng-container",12),f()),t&2){let n=c(2).$implicit,e=c(2);A("",e.prefixCls,"-date-value"),d(),ie(n.content),d(),A("",e.prefixCls,"-date-content"),d(),u("ngTemplateOutlet",n.cellRender)("ngTemplateOutletContext",Fe(9,It,n.value))}}function cb(t,i){if(t&1&&(m(0,"div"),_(1,ab,1,4,"ng-container")(2,lb,4,11),f()),t&2){let n=c().$implicit,e=c(2);A("",e.prefixCls,"-date ant-picker-cell-inner"),F("ant-picker-calendar-date-today",n.isToday),d(),x(n.fullCellRender?1:2)}}function db(t,i){if(t&1){let n=I();m(0,"td",8),w("click",function(){let o=y(n).$implicit;return z(o.isDisabled?null:o.onClick())})("mouseenter",function(){let o=y(n).$implicit;return z(o.onMouseEnter())}),_(1,ob,3,1)(2,cb,3,6,"div",9),f()}if(t&2){let n,e=i.$implicit,o=c(2);pe("title",e.title),u("ngClass",e.classMap),d(),x((n=o.prefixCls)==="ant-picker"?1:n==="ant-picker-calendar"?2:-1)}}function pb(t,i){if(t&1&&(m(0,"tr",1),_(1,Jx,2,4,"td",5),Q(2,db,3,3,"td",6,Pi),f()),t&2){let n=i.$implicit;u("ngClass",n.classMap),d(),x(n.weekNum?1:-1),d(),U(n.dateCells)}}function ub(t,i){if(t&1){let n=I();m(0,"decade-header",1),je("valueChange",function(o){y(n);let r=c();return Le(r.activeDate,o)||(r.activeDate=o),z(o)}),w("panelModeChange",function(o){y(n);let r=c();return z(r.panelModeChange.emit(o))})("valueChange",function(o){y(n);let r=c();return z(r.headerChange.emit(o))}),f(),m(1,"div")(2,"decade-table",2),w("valueChange",function(o){y(n);let r=c();return z(r.onChooseDecade(o))}),f()()}if(t&2){let n=c();Be("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","decade"))("showSuperNextBtn",n.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),d(),A("",n.prefixCls,"-body"),d(),u("activeDate",n.activeDate)("value",n.value)("locale",n.locale)("disabledDate",n.disabledDate)}}function hb(t,i){if(t&1){let n=I();m(0,"year-header",1),je("valueChange",function(o){y(n);let r=c();return Le(r.activeDate,o)||(r.activeDate=o),z(o)}),w("panelModeChange",function(o){y(n);let r=c();return z(r.panelModeChange.emit(o))})("valueChange",function(o){y(n);let r=c();return z(r.headerChange.emit(o))}),f(),m(1,"div")(2,"year-table",3),w("valueChange",function(o){y(n);let r=c();return z(r.onChooseYear(o))})("cellHover",function(o){y(n);let r=c();return z(r.cellHover.emit(o))}),f()()}if(t&2){let n=c();Be("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","year"))("showSuperNextBtn",n.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),d(),A("",n.prefixCls,"-body"),d(),u("activeDate",n.activeDate)("value",n.value)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)}}function mb(t,i){if(t&1){let n=I();m(0,"month-header",1),je("valueChange",function(o){y(n);let r=c();return Le(r.activeDate,o)||(r.activeDate=o),z(o)}),w("panelModeChange",function(o){y(n);let r=c();return z(r.panelModeChange.emit(o))})("valueChange",function(o){y(n);let r=c();return z(r.headerChange.emit(o))}),f(),m(1,"div")(2,"month-table",4),w("valueChange",function(o){y(n);let r=c();return z(r.onChooseMonth(o))})("cellHover",function(o){y(n);let r=c();return z(r.cellHover.emit(o))}),f()()}if(t&2){let n=c();Be("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","month"))("showSuperNextBtn",n.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),d(),A("",n.prefixCls,"-body"),d(),u("value",n.value)("activeDate",n.activeDate)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)}}function fb(t,i){if(t&1){let n=I();m(0,"quarter-header",1),je("valueChange",function(o){y(n);let r=c();return Le(r.activeDate,o)||(r.activeDate=o),z(o)}),w("panelModeChange",function(o){y(n);let r=c();return z(r.panelModeChange.emit(o))})("valueChange",function(o){y(n);let r=c();return z(r.headerChange.emit(o))}),f(),m(1,"div")(2,"quarter-table",5),w("valueChange",function(o){y(n);let r=c();return z(r.onChooseQuarter(o))})("cellHover",function(o){y(n);let r=c();return z(r.cellHover.emit(o))}),f()()}if(t&2){let n=c();Be("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.enablePrevNext("prev","month"))("showSuperNextBtn",n.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),d(),A("",n.prefixCls,"-body"),d(),u("value",n.value)("activeDate",n.activeDate)("locale",n.locale)("disabledDate",n.disabledDate)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)("cellRender",n.dateRender)}}function _b(t,i){if(t&1){let n=I();m(0,"date-header",6),je("valueChange",function(o){y(n);let r=c();return Le(r.activeDate,o)||(r.activeDate=o),z(o)}),w("panelModeChange",function(o){y(n);let r=c();return z(r.panelModeChange.emit(o))})("valueChange",function(o){y(n);let r=c();return z(r.headerChange.emit(o))}),f(),m(1,"div")(2,"date-table",7),w("valueChange",function(o){y(n);let r=c();return z(r.onSelectDate(o))})("cellHover",function(o){y(n);let r=c();return z(r.cellHover.emit(o))}),f()()}if(t&2){let n=c();Be("value",n.activeDate),u("locale",n.locale)("showSuperPreBtn",n.panelMode==="week"?n.enablePrevNext("prev","week"):n.enablePrevNext("prev","date"))("showSuperNextBtn",n.panelMode==="week"?n.enablePrevNext("next","week"):n.enablePrevNext("next","date"))("showPreBtn",n.panelMode==="week"?n.enablePrevNext("prev","week"):n.enablePrevNext("prev","date"))("showNextBtn",n.panelMode==="week"?n.enablePrevNext("next","week"):n.enablePrevNext("next","date")),d(),A("",n.prefixCls,"-body"),d(),u("locale",n.locale)("showWeek",n.showWeek)("value",n.value)("activeDate",n.activeDate)("disabledDate",n.disabledDate)("cellRender",n.dateRender)("selectedValue",n.selectedValue)("hoverValue",n.hoverValue)("canSelectWeek",n.panelMode==="week")}}function gb(t,i){if(t&1){let n=I();m(0,"nz-time-picker-panel",8),w("ngModelChange",function(o){y(n);let r=c();return z(r.onSelectTime(o))}),f()}if(t&2){let n=c();u("nzInDatePicker",!0)("ngModel",n.value==null?null:n.value.nativeDate)("format",n.timeOptions.nzFormat)("nzHourStep",n.timeOptions.nzHourStep)("nzMinuteStep",n.timeOptions.nzMinuteStep)("nzSecondStep",n.timeOptions.nzSecondStep)("nzDisabledHours",n.timeOptions.nzDisabledHours)("nzDisabledMinutes",n.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",n.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!n.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",n.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!n.timeOptions.nzUse12Hours)("nzAddOn",n.timeOptions.nzAddOn)}}var Cb=t=>({partType:t}),gf=()=>({partType:"left"}),Cf=()=>({partType:"right"});function yb(t,i){t&1&&Te(0)}function zb(t,i){if(t&1&&_(0,yb,1,0,"ng-container",6),t&2){let n=c(2),e=L(3);u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(2,Cb,n.datePickerService.activeInput))}}function vb(t,i){t&1&&Te(0)}function xb(t,i){t&1&&Te(0)}function bb(t,i){if(t&1&&_(0,vb,1,0,"ng-container",6)(1,xb,1,0,"ng-container",6),t&2){c(2);let n=L(3);u("ngTemplateOutlet",n)("ngTemplateOutletContext",Nt(4,gf)),d(),u("ngTemplateOutlet",n)("ngTemplateOutletContext",Nt(5,Cf))}}function Sb(t,i){t&1&&Te(0)}function wb(t,i){if(t&1&&(m(0,"div"),D(1,"div",4),m(2,"div")(3,"div"),_(4,zb,1,4,"ng-container")(5,bb,2,6),f(),_(6,Sb,1,0,"ng-container",5),f()()),t&2){let n=c(),e=L(5);Nn("",n.prefixCls,"-range-wrapper ",n.prefixCls,"-date-range-wrapper"),d(),A("",n.prefixCls,"-range-arrow"),u("ngStyle",n.arrowPosition),d(),Nn("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":"",""),d(),A("",n.prefixCls,"-panels"),d(),x(n.hasTimePicker?4:5),d(2),u("ngTemplateOutlet",e)}}function Tb(t,i){t&1&&Te(0)}function kb(t,i){t&1&&Te(0)}function Db(t,i){if(t&1&&(m(0,"div")(1,"div",7),_(2,Tb,1,0,"ng-container",5)(3,kb,1,0,"ng-container",5),f()()),t&2){let n=c(),e=L(3),o=L(5);Nd("",n.prefixCls,"-panel-container ",n.showWeek?n.prefixCls+"-week-number":""," ",n.hasTimePicker?n.prefixCls+"-time":""," ",n.isRange?n.prefixCls+"-range":"",""),d(),A("",n.prefixCls,"-panel"),F("ant-picker-panel-rtl",n.dir==="rtl"),d(),u("ngTemplateOutlet",e),d(),u("ngTemplateOutlet",o)}}function Pb(t,i){if(t&1){let n=I();m(0,"div")(1,"inner-popup",8),w("panelModeChange",function(o){let r=y(n).partType,a=c();return z(a.onPanelModeChange(o,r))})("cellHover",function(o){y(n);let r=c();return z(r.onCellHover(o))})("selectDate",function(o){y(n);let r=c();return z(r.changeValueFromSelect(o,!r.showTime))})("selectTime",function(o){let r=y(n).partType,a=c();return z(a.onSelectTime(o,r))})("headerChange",function(o){let r=y(n).partType,a=c();return z(a.onActiveDateChange(o,r))}),f()()}if(t&2){let n=i.partType,e=c();A("",e.prefixCls,"-panel"),F("ant-picker-panel-rtl",e.dir==="rtl"),d(),u("showWeek",e.showWeek)("endPanelMode",e.getPanelMode(e.endPanelMode,n))("partType",n)("locale",e.locale)("showTimePicker",e.hasTimePicker)("timeOptions",e.getTimeOptions(n))("panelMode",e.getPanelMode(e.panelMode,n))("activeDate",e.getActiveDate(n))("value",e.getValue(n))("disabledDate",e.disabledDate)("dateRender",e.dateRender)("selectedValue",e.datePickerService==null?null:e.datePickerService.value)("hoverValue",e.hoverValue)}}function Mb(t,i){if(t&1){let n=I();m(0,"calendar-footer",10),w("clickOk",function(){y(n);let o=c(2);return z(o.onClickOk())})("clickToday",function(o){y(n);let r=c(2);return z(r.onClickToday(o))}),f()}if(t&2){let n=c(2),e=L(7);u("locale",n.locale)("isRange",n.isRange)("showToday",n.showToday)("showNow",n.showNow)("hasTimePicker",n.hasTimePicker)("okDisabled",!n.isAllowed(n.datePickerService==null?null:n.datePickerService.value))("extraFooter",n.extraFooter)("rangeQuickSelector",n.ranges?e:null)}}function Ob(t,i){if(t&1&&_(0,Mb,1,8,"calendar-footer",9),t&2){let n=c();x(n.hasFooter?0:-1)}}function Ib(t,i){if(t&1){let n=I();m(0,"li",11),w("click",function(){let o=y(n).$implicit,r=c(2);return z(r.onClickPresetRange(r.ranges[o]))})("mouseenter",function(){let o=y(n).$implicit,r=c(2);return z(r.onHoverPresetRange(r.ranges[o]))})("mouseleave",function(){y(n);let o=c(2);return z(o.onPresetRangeMouseLeave())}),m(1,"span",12),E(2),f()()}if(t&2){let n=i.$implicit,e=c(2);A("",e.prefixCls,"-preset"),d(2),ie(n)}}function Eb(t,i){if(t&1&&Q(0,Ib,3,4,"li",3,ct),t&2){let n=c();U(n.getObjectKeys(n.ranges))}}var Nb=["separatorElement"],$b=["pickerInput"],Fb=["rangePickerInput"];function Vb(t,i){t&1&&Te(0)}function Rb(t,i){if(t&1){let n=I();m(0,"div")(1,"input",9,3),je("ngModelChange",function(o){y(n);let r=c(2);return Le(r.inputValue,o)||(r.inputValue=o),z(o)}),w("focus",function(o){y(n);let r=c(2);return z(r.onFocus(o))})("focusout",function(o){y(n);let r=c(2);return z(r.onFocusout(o))})("ngModelChange",function(o){y(n);let r=c(2);return z(r.onInputChange(o))})("keyup.enter",function(o){y(n);let r=c(2);return z(r.onKeyupEnter(o))}),f(),_(3,Vb,1,0,"ng-container",10),f()}if(t&2){let n=c(2),e=L(5);A("",n.prefixCls,"-input"),d(),F("ant-input-disabled",n.nzDisabled),pe("placeholder",n.getPlaceholder()),u("disabled",n.nzDisabled)("readOnly",n.nzInputReadOnly),Be("ngModel",n.inputValue),u("size",n.inputSize),Z("id",n.nzId),d(2),u("ngTemplateOutlet",e)}}function Ab(t,i){t&1&&Te(0)}function Hb(t,i){if(t&1&&E(0),t&2){let n=c(4);q(" ",n.nzSeparator," ")}}function Lb(t,i){t&1&&D(0,"span",13)}function jb(t,i){if(t&1&&(Ne(0),_(1,Hb,1,1)(2,Lb,1,0,"span",13),$e()),t&2){let n=c(3);d(),x(n.nzSeparator?1:2)}}function Bb(t,i){t&1&&Te(0)}function Wb(t,i){t&1&&Te(0)}function qb(t,i){if(t&1&&(m(0,"div"),_(1,Ab,1,0,"ng-container",11),f(),m(2,"div",null,4)(4,"span"),_(5,jb,3,1,"ng-container",12),f()(),m(6,"div"),_(7,Bb,1,0,"ng-container",11),f(),_(8,Wb,1,0,"ng-container",10)),t&2){let n=c(2),e=L(3),o=L(5);A("",n.prefixCls,"-input"),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Nt(18,gf)),d(),A("",n.prefixCls,"-range-separator"),d(2),A("",n.prefixCls,"-separator"),d(),u("nzStringTemplateOutlet",n.nzSeparator),d(),A("",n.prefixCls,"-input"),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Nt(19,Cf)),d(),u("ngTemplateOutlet",o)}}function Qb(t,i){if(t&1&&_(0,Rb,4,12,"div",8)(1,qb,9,20),t&2){let n=c();x(n.isRange?1:0)}}function Ub(t,i){}function Yb(t,i){if(t&1&&_(0,Ub,0,0,"ng-template",6),t&2){c();let n=L(7);u("ngTemplateOutlet",n)}}function Kb(t,i){if(t&1){let n=I();m(0,"input",14,5),w("click",function(o){y(n);let r=c();return z(r.onClickInputBox(o))})("focusout",function(o){y(n);let r=c();return z(r.onFocusout(o))})("focus",function(o){let r=y(n).partType,a=c();return z(a.onFocus(o,r))})("keyup.enter",function(o){y(n);let r=c();return z(r.onKeyupEnter(o))}),je("ngModelChange",function(o){let r=y(n).partType,a=c();return Le(a.inputValue[a.datePickerService.getActiveIndex(r)],o)||(a.inputValue[a.datePickerService.getActiveIndex(r)]=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r.onInputChange(o))}),f()}if(t&2){let n=i.partType,e=c();pe("placeholder",e.getPlaceholder(n)),u("disabled",e.nzDisabled)("readOnly",e.nzInputReadOnly)("size",e.inputSize),Be("ngModel",e.inputValue[e.datePickerService.getActiveIndex(n)]),Z("id",e.nzId)}}function Gb(t,i){if(t&1){let n=I();m(0,"span",17),w("click",function(o){y(n);let r=c(2);return z(r.onClickClear(o))}),D(1,"span",18),f()}if(t&2){let n=c(2);A("",n.prefixCls,"-clear")}}function Zb(t,i){if(t&1&&(Ne(0),D(1,"span",19),$e()),t&2){let n=i.$implicit;d(),u("nzType",n)}}function Xb(t,i){if(t&1&&D(0,"nz-form-item-feedback-icon",16),t&2){let n=c(2);u("status",n.status)}}function Jb(t,i){if(t&1&&(D(0,"div",15),_(1,Gb,2,3,"span",8),m(2,"span"),_(3,Zb,2,1,"ng-container",12)(4,Xb,1,1,"nz-form-item-feedback-icon",16),f()),t&2){let n=c();A("",n.prefixCls,"-active-bar"),u("ngStyle",n.activeBarStyle),d(),x(n.showClear?1:-1),d(),A("",n.prefixCls,"-suffix"),d(),u("nzStringTemplateOutlet",n.nzSuffixIcon),d(),x(n.hasFeedback&&n.status?4:-1)}}function eS(t,i){if(t&1){let n=I();m(0,"div",15)(1,"date-range-popup",20),w("panelModeChange",function(o){y(n);let r=c();return z(r.onPanelModeChange(o))})("calendarChange",function(o){y(n);let r=c();return z(r.onCalendarChange(o))})("resultOk",function(){y(n);let o=c();return z(o.onResultOk())}),f()()}if(t&2){let n=c();Nn("",n.prefixCls,"-dropdown ",n.nzDropdownClassName,""),F("ant-picker-dropdown-rtl",n.dir==="rtl")("ant-picker-dropdown-placement-bottomLeft",n.currentPositionY==="bottom"&&n.currentPositionX==="start")("ant-picker-dropdown-placement-topLeft",n.currentPositionY==="top"&&n.currentPositionX==="start")("ant-picker-dropdown-placement-bottomRight",n.currentPositionY==="bottom"&&n.currentPositionX==="end")("ant-picker-dropdown-placement-topRight",n.currentPositionY==="top"&&n.currentPositionX==="end")("ant-picker-dropdown-range",n.isRange)("ant-picker-active-left",n.datePickerService.activeInput==="left")("ant-picker-active-right",n.datePickerService.activeInput==="right"),u("ngStyle",n.nzPopupStyle),d(),u("isRange",n.isRange)("inline",n.nzInline)("defaultPickerValue",n.nzDefaultPickerValue)("showWeek",n.nzShowWeekNumber||n.nzMode==="week")("panelMode",n.panelMode)("locale",n.nzLocale==null?null:n.nzLocale.lang)("showToday",n.nzMode==="date"&&n.nzShowToday&&!n.isRange&&!n.nzShowTime)("showNow",n.nzMode==="date"&&n.nzShowNow&&!n.isRange&&!!n.nzShowTime)("showTime",n.nzShowTime)("dateRender",n.nzDateRender)("disabledDate",n.nzDisabledDate)("disabledTime",n.nzDisabledTime)("extraFooter",n.extraFooter)("ranges",n.nzRanges)("dir",n.dir)}}function tS(t,i){t&1&&Te(0)}function iS(t,i){if(t&1&&(m(0,"div",21),_(1,tS,1,0,"ng-container",10),f()),t&2){let n=c(),e=L(7);le("position","relative"),u("nzNoAnimation",!!(n.noAnimation!=null&&n.noAnimation.nzNoAnimation))("@slideMotion","enter"),d(),u("ngTemplateOutlet",e)}}var es="ant-picker",nS={nzDisabledHours(){return[]},nzDisabledMinutes(){return[]},nzDisabledSeconds(){return[]}};function yf(t,i){let n=i?i(t&&t.nativeDate):{};return n=T(T({},nS),n),n}function oS(t,i){let n=!1;if(t){let e=t.getHours(),o=t.getMinutes(),r=t.getSeconds();i.nzDisabledHours().indexOf(e)===-1&&i.nzDisabledMinutes(e).indexOf(o)===-1?n=i.nzDisabledSeconds(e,o).indexOf(r)!==-1:n=!0}return!n}function rS(t,i){let n=yf(t,i);return oS(t,n)}function Ja(t,i,n){return!(!t||i&&i(t.nativeDate)||n&&!rS(t,n))}function pr(t){return t&&t.replace(/Y/g,"y").replace(/D/g,"d")}var zf=(()=>{let i=class i{constructor(e){this.dateHelper=e,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new R,this.clickToday=new R,this.prefixCls=es,this.isTemplateRef=Mo,this.isNonEmptyString=Po,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(e){let o=new Date;if(e.disabledDate&&(this.isTodayDisabled=!!(this.disabledDate&&this.disabledDate(o))),e.locale){let r=pr(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(o,r)}}onClickToday(){let e=new st;this.clickToday.emit(e.clone())}get isExtraFooterTemplateRef(){return Mo(this.extraFooter)}get isExtraFooterNonEmptyString(){return Po(this.extraFooter)}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["calendar-footer"]],inputs:{locale:"locale",showToday:[2,"showToday","showToday",M],showNow:[2,"showNow","showNow",M],hasTimePicker:[2,"hasTimePicker","hasTimePicker",M],isRange:[2,"isRange","isRange",M],okDisabled:[2,"okDisabled","okDisabled",M],disabledDate:"disabledDate",extraFooter:"extraFooter",rangeQuickSelector:"rangeQuickSelector"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],standalone:!0,features:[ne,J,j],decls:4,vars:6,consts:[[3,"class"],["role","button",3,"class","title"],[3,"innerHTML"],[4,"ngTemplateOutlet"],["role","button",3,"click","title"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"click","disabled"]],template:function(o,r){o&1&&(m(0,"div"),_(1,P1,3,5,"div",0)(2,M1,2,6,"a",1)(3,N1,4,6,"ul",0),f()),o&2&&(A("",r.prefixCls,"-footer"),d(),x(r.extraFooter?1:-1),d(),x(r.showToday?2:-1),d(),x(r.hasTimePicker||r.rangeQuickSelector?3:-1))},dependencies:[ae,Rt,pi,bt,di],encapsulation:2,changeDetection:0});let t=i;return t})(),Ec=(()=>{let i=class i{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new Ze(1),this.emitValue$=new X,this.inputPartChange$=new X}initValue(e=!1){e&&(this.initialValue=this.isRange?[]:null),this.setValue(this.initialValue)}hasValue(e=this.value){return Array.isArray(e)?!!e[0]||!!e[1]:!!e}makeValue(e){return this.isRange?e?e.map(o=>new st(o)):[]:e?new st(e):null}setActiveDate(e,o=!1,r="month"){let a={date:"month",month:"year",quarter:"year",year:"decade"};this.isRange?this.activeDate=zp(e,o,a[r],this.activeInput):this.activeDate=Ln(e)}setValue(e){this.value=e,this.valueChange$.next(this.value)}getActiveIndex(e=this.activeInput){return{left:0,right:1}[e]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),ur=(()=>{let i=class i{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new R,this.valueChange=new R}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(e){this.value!==e&&(this.value=e,this.valueChange.emit(this.value),this.render())}changeMode(e){this.panelModeChange.emit(e)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new st),this.selectors=this.getSelectors()}ngOnChanges(e){(e.value||e.locale)&&this.render()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,inputs:{value:"value",locale:"locale",showSuperPreBtn:[2,"showSuperPreBtn","showSuperPreBtn",M],showSuperNextBtn:[2,"showSuperNextBtn","showSuperNextBtn",M],showPreBtn:[2,"showPreBtn","showPreBtn",M],showNextBtn:[2,"showNextBtn","showNextBtn",M]},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[ne,J]});let t=i;return t})(),aS=(()=>{let i=class i extends ur{previous(){}next(){}get startYear(){return parseInt(`${this.value.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["decade-header"]],exportAs:["decadeHeader"],standalone:!0,features:[De,j],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,r){o&1&&(m(0,"div")(1,"button",0),w("click",function(){return r.superPrevious()}),D(2,"span",1),f(),m(3,"button",0),w("click",function(){return r.previous()}),D(4,"span",2),f(),m(5,"div"),Q(6,$1,2,5,"button",3,ct),f(),m(8,"button",0),w("click",function(){return r.next()}),D(9,"span",4),f(),m(10,"button",0),w("click",function(){return r.superNext()}),D(11,"span",5),f()()),o&2&&(Qt(r.prefixCls),d(),A("",r.prefixCls,"-super-prev-btn"),le("visibility",r.showSuperPreBtn?"visible":"hidden"),pe("title",r.superPreviousTitle()),d(2),A("",r.prefixCls,"-prev-btn"),le("visibility",r.showPreBtn?"visible":"hidden"),pe("title",r.previousTitle()),d(2),A("",r.prefixCls,"-view"),d(),U(r.selectors),d(2),A("",r.prefixCls,"-next-btn"),le("visibility",r.showNextBtn?"visible":"hidden"),pe("title",r.nextTitle()),d(2),A("",r.prefixCls,"-super-next-btn"),le("visibility",r.showSuperNextBtn?"visible":"hidden"),pe("title",r.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),hr=(()=>{let i=class i{constructor(){this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new st,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.canSelectWeek=!1,this.valueChange=new R,this.cellHover=new R}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}hasRangeValue(){return this.selectedValue?.length>0||this.hoverValue?.length>0}getClassMap(e){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":e.isSelected,"ant-picker-cell-disabled":e.isDisabled,"ant-picker-cell-in-range":!!e.isInSelectedRange,"ant-picker-cell-range-start":!!e.isSelectedStart,"ant-picker-cell-range-end":!!e.isSelectedEnd,"ant-picker-cell-range-start-single":!!e.isStartSingle,"ant-picker-cell-range-end-single":!!e.isEndSingle,"ant-picker-cell-range-hover":!!e.isInHoverRange,"ant-picker-cell-range-hover-start":!!e.isHoverStart,"ant-picker-cell-range-hover-end":!!e.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!e.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!e.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!e.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!e.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(e){e.activeDate&&!e.activeDate.currentValue&&(this.activeDate=new st),(e.disabledDate||e.locale||e.showWeek||e.selectWeek||this.isDateRealChange(e.activeDate)||this.isDateRealChange(e.value)||this.isDateRealChange(e.selectedValue)||this.isDateRealChange(e.hoverValue))&&this.render()}isDateRealChange(e){if(e){let o=e.previousValue,r=e.currentValue;return Array.isArray(r)?!Array.isArray(o)||r.length!==o.length||r.some((a,s)=>{let l=o[s];return l instanceof st?l.isSameDay(a):l!==a}):!this.isSameDate(o,r)}return!1}isSameDate(e,o){return!e&&!o||e&&o&&o.isSameDay(e)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,inputs:{prefixCls:"prefixCls",value:"value",locale:"locale",activeDate:"activeDate",showWeek:[2,"showWeek","showWeek",M],selectedValue:"selectedValue",hoverValue:"hoverValue",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender",canSelectWeek:[2,"canSelectWeek","canSelectWeek",M]},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[ne,J]});let t=i;return t})(),sS=4,lS=3,cS=(()=>{let i=class i extends hr{get startYear(){return parseInt(`${this.activeDate.getYear()/100}`,10)*100}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){let e=[],o=this.value&&this.value.getYear(),r=this.startYear,a=this.endYear,s=r-10,l=0;for(let p=0;p<sS;p++){let h={dateCells:[],trackByIndex:p};for(let g=0;g<lS;g++){let v=s+l*10,C=s+l*10+9,b=`${v}-${C}`,S={trackByIndex:g,value:this.activeDate.setYear(v).nativeDate,content:b,title:b,isDisabled:!1,isSelected:o>=v&&o<=C,isLowerThanStart:C<r,isBiggerThanEnd:v>a,classMap:{},onClick(){},onMouseEnter(){}};S.classMap=this.getClassMap(S),S.onClick=()=>this.chooseDecade(v),l++,h.dateCells.push(S)}e.push(h)}return e}getClassMap(e){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!e.isBiggerThanEnd&&!e.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:e.isSelected,[`${this.prefixCls}-cell-disabled`]:e.isDisabled}}chooseDecade(e){this.value=this.activeDate.setYear(e),this.valueChange.emit(this.value)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["decade-table"]],exportAs:["decadeTable"],standalone:!0,features:[De,j],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,r){o&1&&(m(0,"table",0),_(1,R1,5,1,"thead"),m(2,"tbody"),Q(3,Z1,4,2,"tr",1,Pi),f()()),o&2&&(d(),x(r.headRow&&r.headRow.length>0?1:-1),d(2),U(r.bodyRows))},dependencies:[dt,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),dS=(()=>{let i=class i extends ur{get startYear(){return parseInt(`${this.value.getYear()/10}`,10)*10}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["year-header"]],exportAs:["yearHeader"],standalone:!0,features:[De,j],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,r){o&1&&(m(0,"div")(1,"button",0),w("click",function(){return r.superPrevious()}),D(2,"span",1),f(),m(3,"button",0),w("click",function(){return r.previous()}),D(4,"span",2),f(),m(5,"div"),Q(6,X1,2,5,"button",3,ct),f(),m(8,"button",0),w("click",function(){return r.next()}),D(9,"span",4),f(),m(10,"button",0),w("click",function(){return r.superNext()}),D(11,"span",5),f()()),o&2&&(Qt(r.prefixCls),d(),A("",r.prefixCls,"-super-prev-btn"),le("visibility",r.showSuperPreBtn?"visible":"hidden"),pe("title",r.superPreviousTitle()),d(2),A("",r.prefixCls,"-prev-btn"),le("visibility",r.showPreBtn?"visible":"hidden"),pe("title",r.previousTitle()),d(2),A("",r.prefixCls,"-view"),d(),U(r.selectors),d(2),A("",r.prefixCls,"-next-btn"),le("visibility",r.showNextBtn?"visible":"hidden"),pe("title",r.nextTitle()),d(2),A("",r.prefixCls,"-super-next-btn"),le("visibility",r.showSuperNextBtn?"visible":"hidden"),pe("title",r.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),pS=(()=>{let i=class i extends hr{constructor(e){super(),this.dateHelper=e,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let e=this.activeDate&&this.activeDate.getYear(),o=parseInt(`${e/10}`,10)*10,r=o+9,a=o-1,s=[],l=0;for(let p=0;p<this.MAX_ROW;p++){let h={dateCells:[],trackByIndex:p};for(let g=0;g<this.MAX_COL;g++){let v=a+l,C=this.activeDate.setYear(v),b=this.dateHelper.format(C.nativeDate,"yyyy"),S=this.isDisabledYear(C),$={trackByIndex:g,value:C.nativeDate,isDisabled:S,isSameDecade:v>=o&&v<=r,isSelected:v===(this.value&&this.value.getYear()),content:b,title:b,classMap:{},isLastCellInPanel:C.getYear()===r,isFirstCellInPanel:C.getYear()===o,cellRender:xi(this.cellRender,C),fullCellRender:xi(this.fullCellRender,C),onClick:()=>this.chooseYear($.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(C)};this.addCellProperty($,C),h.dateCells.push($),l++}s.push(h)}return s}getClassMap(e){return ce(T({},super.getClassMap(e)),{"ant-picker-cell-in-view":!!e.isSameDecade})}isDisabledYear(e){if(!this.disabledDate)return!1;let o=e.setMonth(0).setDate(1);for(let r=o;r.getYear()===e.getYear();r=r.addDays(1))if(!this.disabledDate(r.nativeDate))return!1;return!0}addCellProperty(e,o){if(this.hasRangeValue()){let[r,a]=this.hoverValue,[s,l]=this.selectedValue;s?.isSameYear(o)&&(e.isSelectedStart=!0,e.isSelected=!0),l?.isSameYear(o)&&(e.isSelectedEnd=!0,e.isSelected=!0),r&&a&&(e.isHoverStart=r.isSameYear(o),e.isHoverEnd=a.isSameYear(o),e.isInHoverRange=r.isBeforeYear(o)&&o.isBeforeYear(a)),e.isStartSingle=s&&!l,e.isEndSingle=!s&&l,e.isInSelectedRange=s?.isBeforeYear(o)&&o?.isBeforeYear(l),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=l&&e.isInHoverRange}else o.isSameYear(this.value)&&(e.isSelected=!0);e.classMap=this.getClassMap(e)}chooseYear(e){this.value=this.activeDate.setYear(e),this.valueChange.emit(this.value),this.render()}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["year-table"]],exportAs:["yearTable"],standalone:!0,features:[De,j],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,r){o&1&&(m(0,"table",0),_(1,tx,5,1,"thead"),m(2,"tbody"),Q(3,mx,4,2,"tr",1,Pi),f()()),o&2&&(d(),x(r.headRow&&r.headRow.length>0?1:-1),d(2),U(r.bodyRows))},dependencies:[dt,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),uS=(()=>{let i=class i extends ur{constructor(e){super(),this.dateHelper=e}getSelectors(){return[{className:`${this.prefixCls}-quarter-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,pr(this.locale.yearFormat))}]}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["quarter-header"]],exportAs:["quarterHeader"],standalone:!0,features:[De,j],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,r){o&1&&(m(0,"div")(1,"button",0),w("click",function(){return r.superPrevious()}),D(2,"span",1),f(),m(3,"button",0),w("click",function(){return r.previous()}),D(4,"span",2),f(),m(5,"div"),Q(6,fx,2,5,"button",3,ct),f(),m(8,"button",0),w("click",function(){return r.next()}),D(9,"span",4),f(),m(10,"button",0),w("click",function(){return r.superNext()}),D(11,"span",5),f()()),o&2&&(Qt(r.prefixCls),d(),A("",r.prefixCls,"-super-prev-btn"),le("visibility",r.showSuperPreBtn?"visible":"hidden"),pe("title",r.superPreviousTitle()),d(2),A("",r.prefixCls,"-prev-btn"),le("visibility",r.showPreBtn?"visible":"hidden"),pe("title",r.previousTitle()),d(2),A("",r.prefixCls,"-view"),d(),U(r.selectors),d(2),A("",r.prefixCls,"-next-btn"),le("visibility",r.showNextBtn?"visible":"hidden"),pe("title",r.nextTitle()),d(2),A("",r.prefixCls,"-super-next-btn"),le("visibility",r.showSuperNextBtn?"visible":"hidden"),pe("title",r.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),hS=(()=>{let i=class i extends hr{constructor(e){super(),this.dateHelper=e,this.MAX_ROW=1,this.MAX_COL=4}changeValueFromInside(e){this.activeDate=e.clone(),this.valueChange.emit(this.activeDate),this.activeDate.isSameQuarter(this.value)||this.render()}makeHeadRow(){return[]}makeBodyRows(){let e=[],o=[{dateCells:e,trackByIndex:0}],r=1;for(let a=1;a<=this.MAX_COL;a++,r++){let s=this.activeDate.setQuarter(r),l=this.isDisabledQuarter(s),p=this.dateHelper.format(s.nativeDate,"[Q]Q"),h={trackByIndex:a,value:s.nativeDate,isDisabled:l,isSelected:s.isSameQuarter(this.value),content:p,title:p,classMap:{},cellRender:xi(this.cellRender,s),fullCellRender:xi(this.fullCellRender,s),onClick:()=>this.changeValueFromInside(s),onMouseEnter:()=>this.cellHover.emit(s)};this.addCellProperty(h,s),e.push(h)}return o}isDisabledQuarter(e){if(!this.disabledDate)return!1;let o=new st(yp(e.nativeDate));for(let r=o;r.getQuarter()===e.getQuarter();r=r.addMonths(1))if(!this.disabledDate(r.nativeDate))return!1;return!0}addCellProperty(e,o){if(e.isTemplateRef=Mo(e.cellRender),e.isNonEmptyString=Po(e.cellRender),this.hasRangeValue()){let[r,a]=this.hoverValue,[s,l]=this.selectedValue;s?.isSameQuarter(o)&&(e.isSelectedStart=!0,e.isSelected=!0),l?.isSameQuarter(o)&&(e.isSelectedEnd=!0,e.isSelected=!0),r&&a&&(e.isHoverStart=r.isSameQuarter(o),e.isHoverEnd=a.isSameQuarter(o),e.isLastCellInPanel=o.getQuarter()===4,e.isFirstCellInPanel=o.getQuarter()===1,e.isInHoverRange=r.isBeforeQuarter(o)&&o.isBeforeQuarter(a)),e.isStartSingle=s&&!l,e.isEndSingle=!s&&l,e.isInSelectedRange=s?.isBeforeQuarter(o)&&o?.isBeforeQuarter(l),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=l&&e.isInHoverRange}else o.isSameQuarter(this.value)&&(e.isSelected=!0);e.classMap=this.getClassMap(e)}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["quarter-table"]],exportAs:["quarterTable"],standalone:!0,features:[De,j],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,r){o&1&&(m(0,"table",0),_(1,Cx,5,1,"thead"),m(2,"tbody"),Q(3,Ox,4,2,"tr",1,Pi),f()()),o&2&&(d(),x(r.headRow&&r.headRow.length>0?1:-1),d(2),U(r.bodyRows))},dependencies:[dt,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),mS=(()=>{let i=class i extends ur{constructor(e){super(),this.dateHelper=e}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,pr(this.locale.yearFormat))}]}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["month-header"]],exportAs:["monthHeader"],standalone:!0,features:[De,j],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,r){o&1&&(m(0,"div")(1,"button",0),w("click",function(){return r.superPrevious()}),D(2,"span",1),f(),m(3,"button",0),w("click",function(){return r.previous()}),D(4,"span",2),f(),m(5,"div"),Q(6,Ix,2,5,"button",3,ct),f(),m(8,"button",0),w("click",function(){return r.next()}),D(9,"span",4),f(),m(10,"button",0),w("click",function(){return r.superNext()}),D(11,"span",5),f()()),o&2&&(Qt(r.prefixCls),d(),A("",r.prefixCls,"-super-prev-btn"),le("visibility",r.showSuperPreBtn?"visible":"hidden"),pe("title",r.superPreviousTitle()),d(2),A("",r.prefixCls,"-prev-btn"),le("visibility",r.showPreBtn?"visible":"hidden"),pe("title",r.previousTitle()),d(2),A("",r.prefixCls,"-view"),d(),U(r.selectors),d(2),A("",r.prefixCls,"-next-btn"),le("visibility",r.showNextBtn?"visible":"hidden"),pe("title",r.nextTitle()),d(2),A("",r.prefixCls,"-super-next-btn"),le("visibility",r.showSuperNextBtn?"visible":"hidden"),pe("title",r.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),fS=(()=>{let i=class i extends hr{constructor(e){super(),this.dateHelper=e,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){let e=[],o=0;for(let r=0;r<this.MAX_ROW;r++){let a={dateCells:[],trackByIndex:r};for(let s=0;s<this.MAX_COL;s++){let l=this.activeDate.setMonth(o),p=this.isDisabledMonth(l),h=this.dateHelper.format(l.nativeDate,"MMM"),g={trackByIndex:s,value:l.nativeDate,isDisabled:p,isSelected:l.isSameMonth(this.value),content:h,title:h,classMap:{},cellRender:xi(this.cellRender,l),fullCellRender:xi(this.fullCellRender,l),onClick:()=>this.chooseMonth(g.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(l)};this.addCellProperty(g,l),a.dateCells.push(g),o++}e.push(a)}return e}isDisabledMonth(e){if(!this.disabledDate)return!1;let o=e.setDate(1);for(let r=o;r.getMonth()===e.getMonth();r=r.addDays(1))if(!this.disabledDate(r.nativeDate))return!1;return!0}addCellProperty(e,o){if(this.hasRangeValue()){let[r,a]=this.hoverValue,[s,l]=this.selectedValue;s?.isSameMonth(o)&&(e.isSelectedStart=!0,e.isSelected=!0),l?.isSameMonth(o)&&(e.isSelectedEnd=!0,e.isSelected=!0),r&&a&&(e.isHoverStart=r.isSameMonth(o),e.isHoverEnd=a.isSameMonth(o),e.isLastCellInPanel=o.getMonth()===11,e.isFirstCellInPanel=o.getMonth()===0,e.isInHoverRange=r.isBeforeMonth(o)&&o.isBeforeMonth(a)),e.isStartSingle=s&&!l,e.isEndSingle=!s&&l,e.isInSelectedRange=s?.isBeforeMonth(o)&&o?.isBeforeMonth(l),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=l&&e.isInHoverRange}else o.isSameMonth(this.value)&&(e.isSelected=!0);e.classMap=this.getClassMap(e)}chooseMonth(e){this.value=this.activeDate.setMonth(e),this.valueChange.emit(this.value)}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["month-table"]],exportAs:["monthTable"],standalone:!0,features:[De,j],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,r){o&1&&(m(0,"table",0),_(1,$x,5,1,"thead"),m(2,"tbody"),Q(3,Yx,4,2,"tr",1,Pi),f()()),o&2&&(d(),x(r.headRow&&r.headRow.length>0?1:-1),d(2),U(r.bodyRows))},dependencies:[dt,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),_S=(()=>{let i=class i extends ur{constructor(e){super(),this.dateHelper=e}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,pr(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}};i.\u0275fac=function(o){return new(o||i)(k(Ut))},i.\u0275cmp=V({type:i,selectors:[["date-header"]],exportAs:["dateHeader"],standalone:!0,features:[De,j],decls:12,vars:30,consts:[["role","button","type","button","tabindex","-1",3,"click","title"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],["role","button","type","button",3,"class","title"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"click","title"]],template:function(o,r){o&1&&(m(0,"div")(1,"button",0),w("click",function(){return r.superPrevious()}),D(2,"span",1),f(),m(3,"button",0),w("click",function(){return r.previous()}),D(4,"span",2),f(),m(5,"div"),Q(6,Kx,2,5,"button",3,ct),f(),m(8,"button",0),w("click",function(){return r.next()}),D(9,"span",4),f(),m(10,"button",0),w("click",function(){return r.superNext()}),D(11,"span",5),f()()),o&2&&(Qt(r.prefixCls),d(),A("",r.prefixCls,"-super-prev-btn"),le("visibility",r.showSuperPreBtn?"visible":"hidden"),pe("title",r.superPreviousTitle()),d(2),A("",r.prefixCls,"-prev-btn"),le("visibility",r.showPreBtn?"visible":"hidden"),pe("title",r.previousTitle()),d(2),A("",r.prefixCls,"-view"),d(),U(r.selectors),d(2),A("",r.prefixCls,"-next-btn"),le("visibility",r.showNextBtn?"visible":"hidden"),pe("title",r.nextTitle()),d(2),A("",r.prefixCls,"-super-next-btn"),le("visibility",r.showSuperNextBtn?"visible":"hidden"),pe("title",r.superNextTitle()))},encapsulation:2,changeDetection:0});let t=i;return t})(),gS=(()=>{let i=class i extends hr{constructor(e,o){super(),this.i18n=e,this.dateHelper=o}changeValueFromInside(e){this.activeDate=this.activeDate.setYear(e.getYear()).setMonth(e.getMonth()).setDate(e.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){let e=[],o=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let r=0;r<this.MAX_COL;r++){let a=o.addDays(r);e.push({trackByIndex:null,value:a.nativeDate,title:this.dateHelper.format(a.nativeDate,"E"),content:this.dateHelper.format(a.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return e}getVeryShortWeekFormat(){return this.i18n.getLocaleId().toLowerCase().indexOf("zh")===0?"EEEEE":"EEEEEE"}makeBodyRows(){let e=[],o=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let r=0;r<this.MAX_ROW;r++){let a=o.addDays(r*7),s={isActive:!1,dateCells:[],trackByIndex:r};for(let l=0;l<7;l++){let p=a.addDays(l),h=pr(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),g=this.dateHelper.format(p.nativeDate,h),v=this.dateHelper.format(p.nativeDate,"dd"),C={trackByIndex:l,value:p.nativeDate,label:v,isSelected:!1,isDisabled:!1,isToday:!1,title:g,cellRender:xi(this.cellRender,p),fullCellRender:xi(this.fullCellRender,p),content:`${p.getDate()}`,onClick:()=>this.changeValueFromInside(p),onMouseEnter:()=>this.cellHover.emit(p)};this.addCellProperty(C,p),this.showWeek&&!s.weekNum&&(s.weekNum=this.dateHelper.getISOWeek(p.nativeDate)),p.isSameDay(this.value)&&(s.isActive=p.isSameDay(this.value)),s.dateCells.push(C)}s.classMap={"ant-picker-week-panel-row":this.canSelectWeek,"ant-picker-week-panel-row-selected":this.canSelectWeek&&s.isActive},e.push(s)}return e}addCellProperty(e,o){if(e.isTemplateRef=Mo(e.cellRender),e.isNonEmptyString=Po(e.cellRender),this.hasRangeValue()&&!this.canSelectWeek){let[r,a]=this.hoverValue,[s,l]=this.selectedValue;s?.isSameDay(o)&&(e.isSelectedStart=!0,e.isSelected=!0),l?.isSameDay(o)&&(e.isSelectedEnd=!0,e.isSelected=!0),r&&a&&(e.isHoverStart=r.isSameDay(o),e.isHoverEnd=a.isSameDay(o),e.isLastCellInPanel=o.isLastDayOfMonth(),e.isFirstCellInPanel=o.isFirstDayOfMonth(),e.isInHoverRange=r.isBeforeDay(o)&&o.isBeforeDay(a)),e.isStartSingle=s&&!l,e.isEndSingle=!s&&l,e.isInSelectedRange=s?.isBeforeDay(o)&&o.isBeforeDay(l),e.isRangeStartNearHover=s&&e.isInHoverRange,e.isRangeEndNearHover=l&&e.isInHoverRange}e.isToday=o.isToday(),e.isSelected=o.isSameDay(this.value),e.isDisabled=!!this.disabledDate?.(o.nativeDate),e.classMap=this.getClassMap(e)}getClassMap(e){let o=new st(e.value);return ce(T({},super.getClassMap(e)),{"ant-picker-cell-today":!!e.isToday,"ant-picker-cell-in-view":o.isSameMonth(this.activeDate)})}};i.\u0275fac=function(o){return new(o||i)(k(ui),k(Ut))},i.\u0275cmp=V({type:i,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],standalone:!0,features:[De,j],decls:5,vars:1,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],["role","row",3,"ngClass"],["role","row"],["role","columnheader"],["role","columnheader",3,"title"],["role","gridcell",3,"class"],["role","gridcell",3,"title","ngClass"],["role","gridcell"],["role","gridcell",3,"click","mouseenter","title","ngClass"],[3,"class","ant-picker-calendar-date-today"],[3,"innerHTML"],[3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,r){o&1&&(m(0,"table",0),_(1,Xx,5,1,"thead"),m(2,"tbody"),Q(3,pb,4,2,"tr",1,Pi),f()()),o&2&&(d(),x(r.headRow&&r.headRow.length>0?1:-1),d(2),U(r.bodyRows))},dependencies:[dt,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),CS=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({});let t=i;return t})(),vf=(()=>{let i=class i{constructor(){this.panelModeChange=new R,this.headerChange=new R,this.selectDate=new R,this.selectTime=new R,this.cellHover=new R,this.prefixCls=es}enablePrevNext(e,o){return!(!this.showTimePicker&&o===this.endPanelMode&&(this.partType==="left"&&e==="next"||this.partType==="right"&&e==="prev"))}onSelectTime(e){this.selectTime.emit(new st(e))}onSelectDate(e){let o=e instanceof st?e:new st(e),r=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&r&&o.setHms(r.getHours(),r.getMinutes(),r.getSeconds()),this.selectDate.emit(o)}onChooseMonth(e){this.activeDate=this.activeDate.setMonth(e.getMonth()),this.endPanelMode==="month"?(this.value=e,this.selectDate.emit(e)):(this.headerChange.emit(e),this.panelModeChange.emit(this.endPanelMode))}onChooseQuarter(e){this.activeDate=this.activeDate.setQuarter(e.getQuarter()),this.value=e,this.selectDate.emit(e)}onChooseYear(e){this.activeDate=this.activeDate.setYear(e.getYear()),this.endPanelMode==="year"?(this.value=e,this.selectDate.emit(e)):(this.headerChange.emit(e),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(e){this.activeDate=this.activeDate.setYear(e.getYear()),this.endPanelMode==="decade"?(this.value=e,this.selectDate.emit(e)):(this.headerChange.emit(e),this.panelModeChange.emit("year"))}ngOnChanges(e){e.activeDate&&!e.activeDate.currentValue&&(this.activeDate=new st),e.panelMode&&e.panelMode.currentValue==="time"&&(this.panelMode="date")}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",endPanelMode:"endPanelMode",panelMode:"panelMode",showWeek:[2,"showWeek","showWeek",M],locale:"locale",showTimePicker:[2,"showTimePicker","showTimePicker",M],timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],standalone:!0,features:[ne,J,j],decls:8,vars:8,consts:[[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn"],[3,"valueChange","activeDate","value","locale","disabledDate"],[3,"valueChange","cellHover","activeDate","value","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue"],[3,"valueChange","cellHover","value","activeDate","locale","disabledDate","selectedValue","hoverValue","cellRender"],[3,"valueChange","panelModeChange","value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn"],[3,"valueChange","cellHover","locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","canSelectWeek"],[3,"ngModelChange","nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn"]],template:function(o,r){if(o&1&&(m(0,"div")(1,"div"),_(2,ub,3,13)(3,hb,3,15)(4,mb,3,15)(5,fb,3,16)(6,_b,3,18),f(),_(7,gb,1,13,"nz-time-picker-panel",0),f()),o&2){let a;F("ant-picker-datetime-panel",r.showTimePicker),d(),Nn("",r.prefixCls,"-",r.panelMode,"-panel"),d(),x((a=r.panelMode)==="decade"?2:a==="year"?3:a==="month"?4:a==="quarter"?5:6),d(5),x(r.showTimePicker&&r.timeOptions?7:-1)}},dependencies:[CS,_S,gS,aS,cS,mS,fS,dS,pS,uS,hS,fo,Xa,ot,Ge,We],encapsulation:2,changeDetection:0});let t=i;return t})(),Nc=(()=>{let i=class i{get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}get arrowPosition(){return this.dir==="rtl"?{right:`${this.datePickerService?.arrowLeft}px`}:{left:`${this.datePickerService?.arrowLeft}px`}}constructor(e,o,r,a){this.datePickerService=e,this.cdr=o,this.ngZone=r,this.host=a,this.inline=!1,this.dir="ltr",this.panelModeChange=new R,this.calendarChange=new R,this.resultOk=new R,this.prefixCls=es,this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new X,this.disabledStartTime=s=>this.disabledTime&&this.disabledTime(s,"start"),this.disabledEndTime=s=>this.disabledTime&&this.disabledTime(s,"end")}ngOnInit(){Ct(this.datePickerService.valueChange$,this.datePickerService.inputPartChange$).pipe(N(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()}),this.ngZone.runOutsideAngular(()=>{lt(this.host.nativeElement,"mousedown").pipe(N(this.destroy$)).subscribe(e=>e.preventDefault())})}ngOnChanges(e){(e.showTime||e.disabledTime)&&this.showTime&&this.buildTimeOptions(),e.panelMode&&(this.endPanelMode=this.panelMode),e.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}updateActiveDate(){let e=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(e,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}onClickOk(){let e={left:0,right:1}[this.datePickerService.activeInput],o=this.isRange?this.datePickerService.value[e]:this.datePickerService.value;this.changeValueFromSelect(o),this.resultOk.emit()}onClickToday(e){this.changeValueFromSelect(e,!this.showTime)}onCellHover(e){if(!this.isRange)return;let o={left:1,right:0}[this.datePickerService.activeInput],r=this.datePickerService.value[o];r&&(r.isBeforeDay(e)?this.hoverValue=[r,e]:this.hoverValue=[e,r])}onPanelModeChange(e,o){this.isRange?this.datePickerService.getActiveIndex(o)===0?this.panelMode=[e,this.panelMode[1]]:this.panelMode=[this.panelMode[0],e]:this.panelMode=e,this.panelModeChange.emit(this.panelMode)}onActiveDateChange(e,o){if(this.isRange){let r=[];r[this.datePickerService.getActiveIndex(o)]=e,this.datePickerService.setActiveDate(r,this.hasTimePicker,this.getPanelMode(this.endPanelMode,o))}else this.datePickerService.setActiveDate(e)}onSelectTime(e,o){if(this.isRange){let r=Ln(this.datePickerService.value),a=this.datePickerService.getActiveIndex(o);r[a]=this.overrideHms(e,r[a]),this.datePickerService.setValue(r)}else{let r=this.overrideHms(e,this.datePickerService.value);this.datePickerService.setValue(r)}this.datePickerService.inputPartChange$.next(null),this.buildTimeOptions()}changeValueFromSelect(e,o=!0){if(this.isRange){let r=Ln(this.datePickerService.value),a=this.datePickerService.activeInput,s=a;r[this.datePickerService.getActiveIndex(a)]=e,this.checkedPartArr[this.datePickerService.getActiveIndex(a)]=!0,this.hoverValue=r,o?this.inline?(s=this.reversedPart(a),s==="right"&&(r[this.datePickerService.getActiveIndex(s)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(s)]=!1),this.datePickerService.setValue(r),this.calendarChange.emit(r),this.isBothAllowed(r)&&this.checkedPartArr[0]&&this.checkedPartArr[1]&&(this.clearHoverValue(),this.datePickerService.emitValue$.next())):(Is(r)&&(s=this.reversedPart(a),r[this.datePickerService.getActiveIndex(s)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(s)]=!1),this.datePickerService.setValue(r),this.isBothAllowed(r)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(r),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(r)&&(s=this.reversedPart(a),this.calendarChange.emit([e.clone()]))):this.datePickerService.setValue(r),this.datePickerService.inputPartChange$.next(s)}else this.datePickerService.setValue(e),this.datePickerService.inputPartChange$.next(null),o&&this.isAllowed(e)&&this.datePickerService.emitValue$.next();this.buildTimeOptions()}reversedPart(e){return e==="left"?"right":"left"}getPanelMode(e,o){return this.isRange?e[this.datePickerService.getActiveIndex(o)]:e}getValue(e){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(e)]:this.datePickerService.value}getActiveDate(e){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(e)]:this.datePickerService.activeDate}isOneAllowed(e){let o=this.datePickerService.getActiveIndex(),r=[this.disabledStartTime,this.disabledEndTime];return Ja(e[o],this.disabledDate,r[o])}isBothAllowed(e){return Ja(e[0],this.disabledDate,this.disabledStartTime)&&Ja(e[1],this.disabledDate,this.disabledEndTime)}isAllowed(e,o=!1){return this.isRange?o?this.isBothAllowed(e):this.isOneAllowed(e):Ja(e,this.disabledDate,this.disabledTime)}getTimeOptions(e){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(e)]:this.timeOptions:null}onClickPresetRange(e){let o=typeof e=="function"?e():e;o&&(this.datePickerService.setValue([new st(o[0]),new st(o[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(e){typeof e!="function"&&(this.hoverValue=[new st(e[0]),new st(e[1])])}getObjectKeys(e){return e?Object.keys(e):[]}show(e){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==e)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){let e=typeof this.showTime=="object"?this.showTime:{};if(this.isRange){let o=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(e,o[0],"start"),this.overrideTimeOptions(e,o[1],"end")]}else this.timeOptions=this.overrideTimeOptions(e,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(e,o,r){let a;return r?a=r==="start"?this.disabledStartTime:this.disabledEndTime:a=this.disabledTime,T(T({},e),yf(o,a))}overrideHms(e,o){return e=e||new st,o=o||new st,o.setHms(e.getHours(),e.getMinutes(),e.getSeconds())}};i.\u0275fac=function(o){return new(o||i)(k(Ec),k(xe),k(Re),k(ee))},i.\u0275cmp=V({type:i,selectors:[["date-range-popup"]],inputs:{isRange:[2,"isRange","isRange",M],inline:[2,"inline","inline",M],showWeek:[2,"showWeek","showWeek",M],locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:[2,"showToday","showToday",M],showNow:[2,"showNow","showNow",M],showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",panelMode:"panelMode",defaultPickerValue:"defaultPickerValue",dir:"dir"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],standalone:!0,features:[ne,J,j],decls:8,vars:1,consts:[["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[3,"class"],[3,"ngStyle"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","-1"],[3,"panelModeChange","cellHover","selectDate","selectTime","headerChange","showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"clickOk","clickToday","locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(o,r){o&1&&_(0,wb,7,17,"div",3)(1,Db,4,13,"div",3)(2,Pb,2,18,"ng-template",null,0,oe)(4,Ob,1,1,"ng-template",null,1,oe)(6,Eb,2,0,"ng-template",null,2,oe),o&2&&x(r.isRange?0:1)},dependencies:[vf,ae,zf,li],encapsulation:2,changeDetection:0});let t=i;return t})(),Ic={position:"relative"},yS="datePicker",Bi=(()=>{let i=class i{get nzShowTime(){return this.showTime}set nzShowTime(e){this.showTime=typeof e=="object"?e:Gd(e)}get realOpenState(){return this.isOpenHandledByUser()?!!this.nzOpen:this.overlayOpen}ngAfterViewInit(){this.nzAutoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe(N(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe(N(this.destroy$)).subscribe(e=>{e&&(this.datePickerService.activeInput=e),this.focus(),this.updateInputWidthAndArrowLeft()}),this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>lt(this.elementRef.nativeElement,"mousedown").pipe(N(this.destroy$)).subscribe(e=>{e.target.tagName.toLowerCase()!=="input"&&e.preventDefault()}))}updateInputWidthAndArrowLeft(){this.inputWidth=this.rangePickerInputs?.first?.nativeElement.offsetWidth||0;let e={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft=this.datePickerService.activeInput==="left"?0:this.inputWidth+this.separatorElement?.nativeElement.offsetWidth||0,this.dir==="rtl"?this.activeBarStyle=ce(T({},e),{right:`${this.datePickerService.arrowLeft}px`}):this.activeBarStyle=ce(T({},e),{left:`${this.datePickerService.arrowLeft}px`}),this.cdr.markForCheck()}getInput(e){if(!this.nzInline)return this.isRange?e==="left"?this.rangePickerInputs?.first.nativeElement:this.rangePickerInputs?.last.nativeElement:this.pickerInput.nativeElement}focus(){let e=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==e&&e?.focus()}onFocus(e,o){e.preventDefault(),o&&this.datePickerService.inputPartChange$.next(o),this.renderClass(!0)}onFocusout(e){e.preventDefault(),this.onTouchedFn(),this.elementRef.nativeElement.contains(e.relatedTarget)||this.checkAndClose(),this.renderClass(!1)}open(){this.nzInline||!this.realOpenState&&!this.nzDisabled&&(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.nzOnOpenChange.emit(!0),this.focus(),this.cdr.markForCheck())}close(){this.nzInline||this.realOpenState&&(this.overlayOpen=!1,this.nzOnOpenChange.emit(!1))}get showClear(){return!this.nzDisabled&&!this.isEmptyValue(this.datePickerService.value)&&this.nzAllowClear}checkAndClose(){if(this.realOpenState)if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&Is(this.datePickerService.value)){let e=this.datePickerService.getActiveIndex(),o=this.datePickerService.value[e];this.panel.changeValueFromSelect(o,!0);return}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.close()}onClickInputBox(e){e.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.open()}onOverlayKeydown(e){e.keyCode===27&&this.datePickerService.initValue()}onPositionChange(e){this.currentPositionX=e.connectionPair.originX,this.currentPositionY=e.connectionPair.originY,this.cdr.detectChanges()}onClickClear(e){e.preventDefault(),e.stopPropagation(),this.datePickerService.initValue(!0),this.datePickerService.emitValue$.next()}updateInputValue(){let e=this.datePickerService.value;this.isRange?this.inputValue=e?e.map(o=>this.formatValue(o)):["",""]:this.inputValue=this.formatValue(e),this.cdr.markForCheck()}formatValue(e){return this.dateHelper.format(e&&e.nativeDate,this.nzFormat)}onInputChange(e,o=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState){this.open();return}let r=this.checkValidDate(e);r&&this.realOpenState&&this.panel.changeValueFromSelect(r,o)}onKeyupEnter(e){this.onInputChange(e.target.value,!0)}checkValidDate(e){let o=new st(this.dateHelper.parseDate(e,this.nzFormat));return!o.isValid()||e!==this.dateHelper.format(o.nativeDate,this.nzFormat)?null:o}getPlaceholder(e){return this.isRange?this.nzPlaceHolder[this.datePickerService.getActiveIndex(e)]:this.nzPlaceHolder}isEmptyValue(e){return e===null?!0:this.isRange?!e||!Array.isArray(e)||e.every(o=>!o):!e}isOpenHandledByUser(){return this.nzOpen!==void 0}constructor(e,o,r,a,s,l,p,h,g,v,C,b){this.nzConfigService=e,this.datePickerService=o,this.i18n=r,this.cdr=a,this.renderer=s,this.ngZone=l,this.elementRef=p,this.dateHelper=h,this.nzResizeObserver=g,this.platform=v,this.destroy$=C,this.directionality=b,this._nzModuleName=yS,this.isRange=!1,this.dir="ltr",this.statusCls={},this.status="",this.hasFeedback=!1,this.panelMode="date",this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.isNzDisableFirstChange=!0,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzInline=!1,this.nzPlaceHolder="",this.nzPopupStyle=Ic,this.nzSize="default",this.nzStatus="",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzBackdrop=!1,this.nzId=null,this.nzPlacement="bottomLeft",this.nzShowWeekNumber=!1,this.nzOnPanelChange=new R,this.nzOnCalendarChange=new R,this.nzOnOk=new R,this.nzOnOpenChange=new R,this.document=O(zi),this.inputSize=12,this.prefixCls=es,this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[...Os],this.currentPositionX="start",this.currentPositionY="bottom",this.noAnimation=O(Eo,{host:!0,optional:!0}),this.nzFormStatusService=O(Yt,{optional:!0}),this.nzFormNoStatusService=O(Yr,{optional:!0}),this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.origin=new Nr(this.elementRef)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(ri((e,o)=>e.status===o.status&&e.hasFeedback===o.hasFeedback),wr(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:xt(!1)),_e(([{status:e,hasFeedback:o},r])=>({status:r?"":e,hasFeedback:o})),N(this.destroy$)).subscribe(({status:e,hasFeedback:o})=>{this.setStatusStyles(e,o)}),this.nzLocale||this.i18n.localeChange.pipe(N(this.destroy$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(!0),this.datePickerService.emitValue$.pipe(N(this.destroy$)).subscribe(()=>{let e=this.showTime?"second":"day",o=this.datePickerService.value,r=this.datePickerService.initialValue;if(!this.isRange&&o?.isSame(r?.nativeDate,e))return this.onTouchedFn(),this.close();if(this.isRange){let[a,s]=r,[l,p]=o;if(a?.isSame(l?.nativeDate,e)&&s?.isSame(p?.nativeDate,e))return this.onTouchedFn(),this.close()}if(this.datePickerService.initialValue=Ln(o),this.isRange){let a=o;a.length?this.onChangeFn([a[0]?.nativeDate??null,a[1]?.nativeDate??null]):this.onChangeFn([])}else o?this.onChangeFn(o.nativeDate):this.onChangeFn(null);this.onTouchedFn(),this.close()}),this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.inputValue=this.isRange?["",""]:"",this.setModeAndFormat(),this.datePickerService.valueChange$.pipe(N(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngOnChanges(e){let{nzStatus:o,nzPlacement:r}=e;e.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?T(T({},this.nzPopupStyle),Ic):Ic),e.nzPlaceHolder?.currentValue&&(this.isCustomPlaceHolder=!0),e.nzFormat?.currentValue&&(this.isCustomFormat=!0),e.nzLocale&&this.setDefaultPlaceHolder(),e.nzRenderExtraFooter&&(this.extraFooter=xi(this.nzRenderExtraFooter)),e.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat()),o&&this.setStatusStyles(this.nzStatus,this.hasFeedback),r&&this.setPlacement(this.nzPlacement)}setModeAndFormat(){let e={year:"yyyy",quarter:"yyyy-[Q]Q",month:"yyyy-MM",week:"YYYY-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=e[this.nzMode]),this.inputSize=Math.max(10,this.nzFormat.length)+2,this.updateInputValue()}onOpenChange(e){this.nzOnOpenChange.emit(e)}writeValue(e){this.setValue(e),this.cdr.markForCheck()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.cdr.markForCheck(),this.isNzDisableFirstChange=!1}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){let e={year:this.getPropertyOfLocale("yearPlaceholder"),quarter:this.getPropertyOfLocale("quarterPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},o={year:this.getPropertyOfLocale("rangeYearPlaceholder"),quarter:this.getPropertyOfLocale("rangeQuarterPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?o[this.nzMode]:e[this.nzMode]}}getPropertyOfLocale(e){return this.nzLocale.lang[e]||this.i18n.getLocaleData(`DatePicker.lang.${e}`)}setValue(e){let o=this.datePickerService.makeValue(e);this.datePickerService.setValue(o),this.datePickerService.initialValue=Ln(o),this.cdr.detectChanges()}renderClass(e){e?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(e){this.nzOnPanelChange.emit(e)}onCalendarChange(e){if(this.isRange&&Array.isArray(e)){let o=e.filter(r=>r instanceof st).map(r=>r.nativeDate);this.nzOnCalendarChange.emit(o)}}onResultOk(){if(this.isRange){let e=this.datePickerService.value;e.length?this.nzOnOk.emit([e[0]?.nativeDate||null,e[1]?.nativeDate||null]):this.nzOnOk.emit([])}else this.datePickerService.value?this.nzOnOk.emit(this.datePickerService.value.nativeDate):this.nzOnOk.emit(null)}setStatusStyles(e,o){this.status=e,this.hasFeedback=o,this.cdr.markForCheck(),this.statusCls=Ir(this.prefixCls,e,o),Object.keys(this.statusCls).forEach(r=>{this.statusCls[r]?this.renderer.addClass(this.elementRef.nativeElement,r):this.renderer.removeClass(this.elementRef.nativeElement,r)})}setPlacement(e){let o=Cp[e];this.overlayPositions=[o,...Os],this.currentPositionX=o.originX,this.currentPositionY=o.originY}};i.\u0275fac=function(o){return new(o||i)(k(Vt),k(Ec),k(ui),k(xe),k(Ee),k(Re),k(ee),k(Ut),k(_n),k(Ft),k(mt),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-quarter-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(o,r){if(o&1&&(te(pn,5),te(Nc,5),te(Nb,5),te($b,5),te(Fb,5)),o&2){let a;K(a=G())&&(r.cdkConnectedOverlay=a.first),K(a=G())&&(r.panel=a.first),K(a=G())&&(r.separatorElement=a.first),K(a=G())&&(r.pickerInput=a.first),K(a=G())&&(r.rangePickerInputs=a)}},hostVars:16,hostBindings:function(o,r){o&1&&w("click",function(s){return r.onClickInputBox(s)}),o&2&&F("ant-picker",!0)("ant-picker-range",r.isRange)("ant-picker-large",r.nzSize==="large")("ant-picker-small",r.nzSize==="small")("ant-picker-disabled",r.nzDisabled)("ant-picker-rtl",r.dir==="rtl")("ant-picker-borderless",r.nzBorderless)("ant-picker-inline",r.nzInline)},inputs:{nzAllowClear:[2,"nzAllowClear","nzAllowClear",M],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",M],nzDisabled:[2,"nzDisabled","nzDisabled",M],nzBorderless:[2,"nzBorderless","nzBorderless",M],nzInputReadOnly:[2,"nzInputReadOnly","nzInputReadOnly",M],nzInline:[2,"nzInline","nzInline",M],nzOpen:[2,"nzOpen","nzOpen",M],nzDisabledDate:"nzDisabledDate",nzLocale:"nzLocale",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzDropdownClassName:"nzDropdownClassName",nzSize:"nzSize",nzStatus:"nzStatus",nzFormat:"nzFormat",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzShowToday:[2,"nzShowToday","nzShowToday",M],nzMode:"nzMode",nzShowNow:[2,"nzShowNow","nzShowNow",M],nzRanges:"nzRanges",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzBackdrop:"nzBackdrop",nzId:"nzId",nzPlacement:"nzPlacement",nzShowWeekNumber:[2,"nzShowWeekNumber","nzShowWeekNumber",M],nzShowTime:"nzShowTime"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],standalone:!0,features:[Ke([mt,Ec,{provide:Qi,multi:!0,useExisting:bo(()=>i)}]),ne,J,j],decls:9,vars:6,consts:[["tplRangeInput",""],["tplRightRest",""],["inlineMode",""],["pickerInput",""],["separatorElement",""],["rangePickerInput",""],[3,"ngTemplateOutlet"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"positionChange","detach","overlayKeydown","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn"],[3,"class"],["autocomplete","off",3,"ngModelChange","focus","focusout","keyup.enter","disabled","readOnly","ngModel","placeholder","size"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","swap-right","nzTheme","outline"],["autocomplete","off",3,"click","focusout","focus","keyup.enter","ngModelChange","disabled","readOnly","size","ngModel","placeholder"],[3,"ngStyle"],[3,"status"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[3,"panelModeChange","calendarChange","resultOk","isRange","inline","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir"],[1,"ant-picker-wrapper",3,"nzNoAnimation"]],template:function(o,r){if(o&1){let a=I();_(0,Qb,2,1)(1,Yb,1,1,null,6)(2,Kb,2,6,"ng-template",null,0,oe)(4,Jb,5,10,"ng-template",null,1,oe)(6,eS,2,36,"ng-template",null,2,oe)(8,iS,2,5,"ng-template",7),w("positionChange",function(l){return y(a),z(r.onPositionChange(l))})("detach",function(){return y(a),z(r.close())})("overlayKeydown",function(l){return y(a),z(r.onOverlayKeydown(l))})}o&2&&(x(r.nzInline?1:0),d(8),u("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayOpen",r.realOpenState)("cdkConnectedOverlayPositions",r.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},dependencies:[ot,Fi,Ge,We,ae,St,gt,He,Pe,li,Gr,Kr,Nc,pn,Hn,An,Eo],encapsulation:2,data:{animation:[Hr]},changeDetection:0});let t=i;return de([ye()],t.prototype,"nzSeparator",void 0),de([ye()],t.prototype,"nzSuffixIcon",void 0),de([ye()],t.prototype,"nzBackdrop",void 0),t})(),xf=(()=>{let i=class i{constructor(){this.datePicker=O(Bi,{host:!0}),this.datePicker.nzMode="month"}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["nz-month-picker"]],exportAs:["nzMonthPicker"],standalone:!0});let t=i;return t})();var ts=(()=>{let i=class i{constructor(){this.datePicker=O(Bi,{host:!0}),this.datePicker.isRange=!0}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["nz-range-picker"]],exportAs:["nzRangePicker"],standalone:!0});let t=i;return t})(),bf=(()=>{let i=class i{constructor(){this.datePicker=O(Bi,{host:!0}),this.datePicker.nzMode="week"}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["nz-week-picker"]],exportAs:["nzWeekPicker"],standalone:!0});let t=i;return t})(),Sf=(()=>{let i=class i{constructor(){this.datePicker=O(Bi,{host:!0}),this.datePicker.nzMode="year"}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["nz-year-picker"]],exportAs:["nzYearPicker"],standalone:!0});let t=i;return t})(),sn=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Bi,zf,vf,Nc]});let t=i;return t})();var wf=["*"],vS=["inputElement"],xS=["nz-radio",""],Vc=(()=>{let i=class i{constructor(){this.selected$=new Ze(1),this.touched$=new X,this.disabled$=new Ze(1),this.name$=new Ze(1)}touch(){this.touched$.next()}select(e){this.selected$.next(e)}setDisabled(e){this.disabled$.next(e)}setName(e){this.name$.next(e)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),Tf=(()=>{let i=class i{constructor(e,o,r){this.cdr=e,this.nzRadioService=o,this.directionality=r,this.value=null,this.destroy$=new X,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr"}ngOnInit(){this.nzRadioService.selected$.pipe(N(this.destroy$)).subscribe(e=>{this.value!==e&&(this.value=e,this.onChange(this.value))}),this.nzRadioService.touched$.pipe(N(this.destroy$)).subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzDisabled:o,nzName:r}=e;o&&this.nzRadioService.setDisabled(this.nzDisabled),r&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}writeValue(e){this.value=e,this.nzRadioService.select(e),this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.nzRadioService.setDisabled(this.nzDisabled),this.cdr.markForCheck()}};i.\u0275fac=function(o){return new(o||i)(k(xe),k(Vc),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-radio-group"]],hostAttrs:[1,"ant-radio-group"],hostVars:8,hostBindings:function(o,r){o&2&&F("ant-radio-group-large",r.nzSize==="large")("ant-radio-group-small",r.nzSize==="small")("ant-radio-group-solid",r.nzButtonStyle==="solid")("ant-radio-group-rtl",r.dir==="rtl")},inputs:{nzDisabled:[2,"nzDisabled","nzDisabled",M],nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],standalone:!0,features:[Ke([Vc,{provide:Qi,useExisting:bo(()=>i),multi:!0}]),ne,J,j],ngContentSelectors:wf,decls:1,vars:0,template:function(o,r){o&1&&(Se(),ve(0))},encapsulation:2,changeDetection:0});let t=i;return t})(),Wi=(()=>{let i=class i{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,o,r,a){this.ngZone=e,this.elementRef=o,this.cdr=r,this.focusMonitor=a,this.isNgModel=!1,this.destroy$=new X,this.isNzDisableFirstChange=!0,this.directionality=O(at),this.nzRadioService=O(Vc,{optional:!0}),this.nzFormStatusService=O(Yt,{optional:!0}),this.isChecked=!1,this.name=null,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.isRadioButton=!1,this.dir="ltr"}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.isNgModel=!0,this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe(N(this.destroy$)).subscribe(e=>{this.name=e,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe(N(this.destroy$)).subscribe(e=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe(N(this.destroy$)).subscribe(e=>{let o=this.isChecked;this.isChecked=this.nzValue===e,this.isNgModel&&o!==this.isChecked&&this.isChecked===!1&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe(N(this.destroy$)).subscribe(e=>{e||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){this.ngZone.runOutsideAngular(()=>{lt(this.elementRef.nativeElement,"click").pipe(N(this.destroy$)).subscribe(e=>{e.stopPropagation(),e.preventDefault(),!(this.nzDisabled||this.isChecked)&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})})}};i.\u0275fac=function(o){return new(o||i)(k(Re),k(ee),k(xe),k(op))},i.\u0275cmp=V({type:i,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(o,r){if(o&1&&te(vS,7),o&2){let a;K(a=G())&&(r.inputElement=a.first)}},hostVars:18,hostBindings:function(o,r){o&2&&F("ant-radio-wrapper-in-form-item",!!r.nzFormStatusService)("ant-radio-wrapper",!r.isRadioButton)("ant-radio-button-wrapper",r.isRadioButton)("ant-radio-wrapper-checked",r.isChecked&&!r.isRadioButton)("ant-radio-button-wrapper-checked",r.isChecked&&r.isRadioButton)("ant-radio-wrapper-disabled",r.nzDisabled&&!r.isRadioButton)("ant-radio-button-wrapper-disabled",r.nzDisabled&&r.isRadioButton)("ant-radio-wrapper-rtl",!r.isRadioButton&&r.dir==="rtl")("ant-radio-button-wrapper-rtl",r.isRadioButton&&r.dir==="rtl")},inputs:{nzValue:"nzValue",nzDisabled:[2,"nzDisabled","nzDisabled",M],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",M],isRadioButton:[2,"nz-radio-button","isRadioButton",M]},exportAs:["nzRadio"],standalone:!0,features:[Ke([{provide:Qi,useExisting:bo(()=>i),multi:!0}]),ne,j],attrs:xS,ngContentSelectors:wf,decls:6,vars:24,consts:[["inputElement",""],["type","radio",3,"disabled","checked"]],template:function(o,r){o&1&&(Se(),m(0,"span"),D(1,"input",1,0)(3,"span"),f(),m(4,"span"),ve(5),f()),o&2&&(F("ant-radio",!r.isRadioButton)("ant-radio-checked",r.isChecked&&!r.isRadioButton)("ant-radio-disabled",r.nzDisabled&&!r.isRadioButton)("ant-radio-button",r.isRadioButton)("ant-radio-button-checked",r.isChecked&&r.isRadioButton)("ant-radio-button-disabled",r.nzDisabled&&r.isRadioButton),d(),F("ant-radio-input",!r.isRadioButton)("ant-radio-button-input",r.isRadioButton),u("disabled",r.nzDisabled)("checked",r.isChecked),Z("autofocus",r.nzAutoFocus?"autofocus":null)("name",r.name),d(2),F("ant-radio-inner",!r.isRadioButton)("ant-radio-button-inner",r.isRadioButton))},encapsulation:2,changeDetection:0});let t=i;return t})(),Mi=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({});let t=i;return t})();var is=class t{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(i,n=null,e=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,i instanceof t)return i;this.service=e||null,this.origin=i,this.key=i.key,this.parentNode=n,this._title=i.title||"---",this._icon=i.icon||"",this._isLeaf=i.isLeaf||!1,this._children=[],this._isChecked=i.checked||!1,this._isSelectable=i.disabled||i.selectable!==!1,this._isDisabled=i.disabled||!1,this._isDisableCheckbox=i.disableCheckbox||!1,this._isExpanded=i.isLeaf?!1:i.expanded||!1,this._isHalfChecked=!1,this._isSelected=!i.disabled&&i.selected||!1,this._isLoading=!1,this.isMatched=!1,n?this.level=n.level+1:this.level=0,typeof i.children<"u"&&i.children!==null&&i.children.forEach(o=>{let r=this.treeService;r&&!r.isCheckStrictly&&i.checked&&!i.disabled&&!o.disabled&&!o.disableCheckbox&&(o.checked=i.checked),this._children.push(new t(o,this))})}get title(){return this._title}set title(i){this._title=i,this.update()}get icon(){return this._icon}set icon(i){this._icon=i,this.update()}get children(){return this._children}set children(i){this._children=i,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(i){this._isLeaf=i,this.update()}get isChecked(){return this._isChecked}set isChecked(i){this._isChecked=i,this.origin.checked=i,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(i){this._isHalfChecked=i,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(i){this._isSelectable=i,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(i){this._isDisabled=i,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(i){this._isDisableCheckbox=i,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(i){this._isSelected=i,this.origin.selected=i,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(i){this._isLoading=i,this.update()}setSyncChecked(i=!1,n=!1){this.setChecked(i,n),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(i=!1,n=!1){this.origin.checked=i,this.isChecked=i,this.isHalfChecked=n}setExpanded(i){this._isExpanded=i,this.origin.expanded=i,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(i,n=-1){this.isLeaf||(i.forEach(e=>{let o=a=>{a.getChildren().forEach(s=>{s.level=s.getParentNode().level+1,s.origin.level=s.level,o(s)})},r=e;r instanceof t?r.parentNode=this:r=new t(e,this),r.level=this.level+1,r.origin.level=r.level,o(r);try{n===-1?this.children.push(r):this.children.splice(n,0,r)}catch{}}),this.origin.children=this.getChildren().map(e=>e.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let i=this.getParentNode();i&&(i.children=i.getChildren().filter(n=>n.key!==this.key),i.origin.children=i.origin.children.filter(n=>n.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(i){if(this.treeService)switch(i){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(n=>n.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};var ZN=new Ed("NzTreeHigherOrder");var kf=(()=>{let i=class i{constructor(e){this.c=e.merge("utilArray",{deepMapName:"deep",parentMapName:"parent",idMapName:"id",parentIdMapName:"parent_id",childrenMapName:"children",titleMapName:"title",checkedMapname:"checked",selectedMapname:"selected",expandedMapname:"expanded",disabledMapname:"disabled"})}treeToArr(e,o){let r=T({deepMapName:this.c.deepMapName,parentMapName:this.c.parentMapName,childrenMapName:this.c.childrenMapName,clearChildren:!0,cb:null},o),a=[],s=(l,p,h=0)=>{for(let g of l){g[r.deepMapName]=h,g[r.parentMapName]=p,r.cb&&r.cb(g,p,h),a.push(g);let v=g[r.childrenMapName];v!=null&&Array.isArray(v)&&v.length>0&&s(v,g,h+1),r.clearChildren&&delete g[r.childrenMapName]}};return s(e,null),a}arrToTree(e,o){if(!Array.isArray(e)||e.length===0)return[];let r=T({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,childrenMapName:this.c.childrenMapName,cb:null},o),a=[],s={},l=r.rootParentIdValue,p=e;if(!l){let h=p.map(v=>v[r.parentIdMapName]),g=h.findIndex(v=>v==null);l=g!==-1?h[g]:h.sort()[0]}for(let h of p){let g=h[r.idMapName],v=h[r.parentIdMapName];s[g]=s[g]||[],h[r.childrenMapName]=s[g],r.cb&&r.cb(h),v!==l?(s[v]=s[v]||[],s[v].push(h)):a.push(h)}return a}arrToTreeNode(e,o){let r=T({idMapName:this.c.idMapName,parentIdMapName:this.c.parentIdMapName,titleMapName:this.c.titleMapName,isLeafMapName:"isLeaf",checkedMapname:this.c.checkedMapname,selectedMapname:this.c.selectedMapname,expandedMapname:this.c.expandedMapname,disabledMapname:this.c.disabledMapname,cb:null},o),a=this.arrToTree(e,{idMapName:r.idMapName,parentIdMapName:r.parentIdMapName,childrenMapName:"children"});return this.visitTree(a,(s,l,p)=>{s.key=s[r.idMapName],s.title=s[r.titleMapName],s.checked=s[r.checkedMapname],s.selected=s[r.selectedMapname],s.expanded=s[r.expandedMapname],s.disabled=s[r.disabledMapname],s[r.isLeafMapName]==null?s.isLeaf=s.children.length===0:s.isLeaf=s[r.isLeafMapName],r.cb&&r.cb(s,l,p)}),a.map(s=>new is(s))}visitTree(e,o,r){r=T({childrenMapName:this.c.childrenMapName},r);let a=(s,l,p)=>{for(let h of s){o(h,l,p);let g=h[r.childrenMapName];Array.isArray(g)&&g.length>0&&a(g,h,p+1)}};a(e,null,1)}findTree(e,o,r){let a;return this.visitTree(e,s=>{a===void 0&&o(s)&&(a=s)},r),a}getKeysByTreeNode(e,o){let r=T({includeHalfChecked:!0},o),a=[];return this.visitTree(e,(s,l,p)=>{(s.isChecked||r.includeHalfChecked&&s.isHalfChecked)&&a.push(r.cb?r.cb(s,l,p):r.keyMapName?s.origin[r.keyMapName]:s.key)}),a}baseFlat(e,o,r=[]){let a=-1;for(;++a<e.length;){let s=e[a];if(o>0&&Array.isArray(s))if(o>1)this.baseFlat(s,o-1,r);else{let l=-1,p=r.length;for(;++l<s.length;)r[p+l]=s[l]}else r[r.length]=s}return r}flat(e,o=1/0){return Array.isArray(e)?this.baseFlat(e,o):e}groupBy(e,o){return Array.isArray(e)?e.reduce((r,a)=>{let s=o(a);return Object.prototype.hasOwnProperty.call(r,s)?r[s].push(a):r[s]=[a],r},{}):{}}uniq(e,o){return Array.from(e.reduce((r,a)=>{let s=o?typeof o=="string"?a[o]:o(a):a;return r.has(s)||r.set(s,a),r},new Map).values())}};i.\u0275fac=function(o){return new(o||i)(it(pt))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var DS=["target"];function PS(t,i){}function MS(t,i){t&1&&Te(0)}var $f=["*"];function OS(t,i){t&1&&ve(0)}function IS(t,i){if(t&1&&D(0,"i",10),t&2){let n=c(5);u("nzType",n._btn.submit_icon.type)("nzTheme",n._btn.submit_icon.theme)("nzTwotoneColor",n._btn.submit_icon.twoToneColor)("nzIconfont",n._btn.submit_icon.iconfont)}}function ES(t,i){if(t&1&&D(0,"i",10),t&2){let n=c(6);u("nzType",n._btn.reset_icon.type)("nzTheme",n._btn.reset_icon.theme)("nzTwotoneColor",n._btn.reset_icon.twoToneColor)("nzIconfont",n._btn.reset_icon.iconfont)}}function NS(t,i){if(t&1){let n=I();m(0,"button",12),w("click",function(){y(n);let o=c(5);return z(o.reset(!0))}),_(1,ES,1,4,"i",10),E(2),f()}if(t&2){let n=c(5);u("nzType",n._btn.reset_type)("nzSize",n._btn.render.size)("disabled",n.loading),d(),x(n._btn.reset_icon?1:-1),d(),q(" ",n._btn.reset," ")}}function $S(t,i){if(t&1&&(m(0,"button",9),_(1,IS,1,4,"i",10),E(2),f(),_(3,NS,3,5,"button",11)),t&2){let n=c(4);u("nzType",n._btn.submit_type)("nzSize",n._btn.render.size)("nzLoading",n.loading)("disabled",n.liveValidate&&!n.valid),d(),x(n._btn.submit_icon?1:-1),d(),q(" ",n._btn.submit," "),d(),x(n._btn.reset?3:-1)}}function FS(t,i){}function VS(t,i){if(t&1&&_(0,FS,0,0,"ng-template",4),t&2){c(4);let n=L(1);u("ngTemplateOutlet",n)}}function RS(t,i){if(t&1&&(m(0,"nz-form-item",5)(1,"div",6)(2,"div",7)(3,"div",8),_(4,$S,4,7)(5,VS,1,1,null,4),f()()()()),t&2){let n=c(3);u("ngClass",n._btn.render.class)("fixed-label",n._btn.render.spanLabelFixed),d(),u("nzSpan",n.btnGrid.span)("nzOffset",n.btnGrid.offset)("nzXs",n.btnGrid.xs)("nzSm",n.btnGrid.sm)("nzMd",n.btnGrid.md)("nzLg",n.btnGrid.lg)("nzXl",n.btnGrid.xl)("nzXXl",n.btnGrid.xxl),d(3),x(n.button?4:5)}}function AS(t,i){if(t&1&&_(0,RS,6,11,"nz-form-item",5),t&2){let n=c(2);x(n._btn&&n._btn.render?0:-1)}}function HS(t,i){}function LS(t,i){if(t&1&&_(0,HS,0,0,"ng-template",4),t&2){c(2);let n=L(1);u("ngTemplateOutlet",n)}}function jS(t,i){if(t&1&&_(0,AS,1,1)(1,LS,1,1,null,4),t&2){let n=c();x(n.button!=="none"?0:1)}}function BS(t,i){if(t&1&&D(0,"sf-item",3),t&2){let n=c(),e=L(3);u("formProperty",n.rootProperty)("footer",e)}}function WS(t,i){if(t&1&&D(0,"i",9),t&2){let n=c(4);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipColor",n.oh.bgColor)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function qS(t,i){if(t&1&&(m(0,"span",8),E(1),_(2,WS,1,9,"i",9),f()),t&2){let n=c(3);d(),q(" ",n.ui.optional," "),d(),x(n.oh?2:-1)}}function QS(t,i){if(t&1&&(m(0,"label")(1,"span",7),E(2),f(),_(3,qS,3,2,"span",8),f()),t&2){let n=c(2);F("ant-form-item-required",n.ui._required),Z("for",n.id),d(2),ie(n.t),d(),x(n.ui.optional||n.oh?3:-1)}}function US(t,i){if(t&1&&(m(0,"div",0),_(1,QS,4,5,"label",6),f()),t&2){let n=c();u("nzSpan",n.ui.spanLabel),d(),x(n.t?1:-1)}}function YS(t,i){if(t&1&&(m(0,"div",4)(1,"div",10),E(2),f()()),t&2){let n=c();u("@helpMotion",void 0),d(2),q(" ",n.error," ")}}function KS(t,i){if(t&1&&D(0,"div",5),t&2){let n=c();u("innerHTML",n.ui._description,Ae)}}function GS(t,i){if(t&1&&D(0,"i",8),t&2){let n=c(2);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function ZS(t,i){if(t&1){let n=I();m(0,"div",0)(1,"label"),E(2),m(3,"span",7),E(4),_(5,GS,1,8,"i",8),f()(),m(6,"div",9)(7,"button",10),w("click",function(){y(n);let o=c();return z(o.addItem())}),f()()()}if(t&2){let n=c();u("nzSpan",n.ui.spanLabel),d(),F("ant-form-item-required",n.ui.required),d(),q(" ",n.schema.title," "),d(2),q(" ",n.ui.optional," "),d(),x(n.oh?5:-1),d(2),u("nzType",n.addType)("disabled",n.addDisabled)("innerHTML",n.addTitle,Ae)}}function XS(t,i){if(t&1){let n=I();m(0,"span",14),w("click",function(){y(n);let o=c(2).index,r=c();return z(r.removeItem(o))}),D(1,"i",15),f()}if(t&2){let n=c(3);Z("title",n.removeTitle)}}function JS(t,i){if(t&1&&(m(0,"div",11)(1,"nz-card"),D(2,"sf-item",12),_(3,XS,2,1,"span",13),f()()),t&2){let n=c(),e=n.$implicit,o=n.index,r=c();u("nzSpan",r.arraySpan),Z("data-index",o),d(2),u("formProperty",e),d(),x(r.showRemove?3:-1)}}function ew(t,i){if(t&1&&(Ne(0),_(1,JS,4,4,"div",11),$e()),t&2){let n=i.$implicit;d(),x(n.visible&&!n.ui.hidden?1:-1)}}function tw(t,i){if(t&1&&(m(0,"div",5),E(1),f()),t&2){let n=c();d(),ie(n.error)}}function iw(t,i){if(t&1&&D(0,"div",6),t&2){let n=c();u("innerHTML",n.ui._description,Ae)}}function nw(t,i){if(t&1){let n=I();m(0,"label",3),je("ngModelChange",function(o){y(n);let r=c(2);return Le(r.allChecked,o)||(r.allChecked=o),z(o)}),w("ngModelChange",function(){y(n);let o=c(2);return z(o.onAllChecked())}),E(1),f()}if(t&2){let n=c(2);Be("ngModel",n.allChecked),u("nzIndeterminate",n.indeterminate),d(),q(" ",n.ui.checkAllText||n.l.checkAllText," ")}}function ow(t,i){if(t&1&&_(0,nw,2,3,"label",2),t&2){let n=c();x(n.ui.checkAll?0:-1)}}function rw(t,i){if(t&1&&D(0,"i",7),t&2){let n=c(3);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function aw(t,i){if(t&1){let n=I();m(0,"label",5),w("ngModelChange",function(o){y(n);let r=c(2);return z(r._setValue(o))}),E(1),m(2,"span",6),E(3),_(4,rw,1,8,"i",7),f()()}if(t&2){let n=c(2);u("nzDisabled",n.disabled)("ngModel",n.value),d(),q(" ",n.schema.title," "),d(2),q(" ",n.ui.optional," "),d(),x(n.oh?4:-1)}}function sw(t,i){}function lw(t,i){if(t&1){let n=I();_(0,sw,0,0,"ng-template",9),m(1,"nz-checkbox-group",10),w("ngModelChange",function(){y(n);let o=c(3);return z(o.notifySet())}),f()}if(t&2){let n=c(3),e=L(1);u("ngTemplateOutlet",e),d(),u("ngModel",n.data)}}function cw(t,i){}function dw(t,i){if(t&1&&(m(0,"div",13),_(1,cw,0,0,"ng-template",9),f()),t&2){let n=c(4),e=L(1);u("nzSpan",n.grid_span),d(),u("ngTemplateOutlet",e)}}function pw(t,i){if(t&1&&(m(0,"div",13)(1,"label",14),E(2),f()()),t&2){let n=i.$implicit,e=c(4);u("nzSpan",e.grid_span),d(),u("nzValue",n.value)("ngModel",n.checked)("nzDisabled",n.disabled),d(),q(" ",n.label," ")}}function uw(t,i){if(t&1){let n=I();m(0,"nz-checkbox-wrapper",11),w("nzOnChange",function(o){y(n);let r=c(3);return z(r.groupInGridChange(o))}),m(1,"div",12),_(2,dw,2,2,"div",13),Q(3,pw,3,5,"div",13,et),f()()}if(t&2){let n=c(3);d(2),x(n.ui.checkAll?2:-1),d(),U(n.data)}}function hw(t,i){if(t&1&&_(0,lw,2,2)(1,uw,5,1,"nz-checkbox-wrapper",8),t&2){let n=c(2);x(n.grid_span===0?0:1)}}function mw(t,i){if(t&1&&_(0,aw,5,5,"label",4)(1,hw,2,1),t&2){let n=c();x(n.data.length===0?0:1)}}var fw=(t,i,n)=>({$implicit:t,schema:i,ui:n});function _w(t,i){}function gw(t,i){if(t&1){let n=I();m(0,"nz-year-picker",5),je("ngModelChange",function(o){y(n);let r=c();return Le(r.displayValue,o)||(r.displayValue=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r._change(o))})("nzOnOpenChange",function(o){y(n);let r=c();return z(r._openChange(o))}),f()}if(t&2){let n=c();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),Be("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function Cw(t,i){if(t&1){let n=I();m(0,"nz-month-picker",5),je("ngModelChange",function(o){y(n);let r=c();return Le(r.displayValue,o)||(r.displayValue=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r._change(o))})("nzOnOpenChange",function(o){y(n);let r=c();return z(r._openChange(o))}),f()}if(t&2){let n=c();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),Be("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function yw(t,i){if(t&1){let n=I();m(0,"nz-week-picker",6),je("ngModelChange",function(o){y(n);let r=c();return Le(r.displayValue,o)||(r.displayValue=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r._change(o))})("nzOnOpenChange",function(o){y(n);let r=c();return z(r._openChange(o))}),f()}if(t&2){let n=c();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),Be("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function zw(t,i){if(t&1){let n=I();m(0,"nz-range-picker",7),je("ngModelChange",function(o){y(n);let r=c();return Le(r.displayValue,o)||(r.displayValue=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r._change(o))})("nzOnOpenChange",function(o){y(n);let r=c();return z(r._openChange(o))})("nzOnOk",function(o){y(n);let r=c();return z(r._ok(o))}),f()}if(t&2){let n=c();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),Be("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzDisabledTime",n.ui.disabledTime)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzRanges",n.ui.ranges)("nzShowTime",n.ui.showTime)("nzSeparator",n.ui.separator)("nzShowWeekNumber",n.ui.showWeekNumber||!1)("nzMode",n.ui.rangeMode)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}function vw(t,i){if(t&1){let n=I();m(0,"nz-date-picker",8),je("ngModelChange",function(o){y(n);let r=c();return Le(r.displayValue,o)||(r.displayValue=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r._change(o))})("nzOnOpenChange",function(o){y(n);let r=c();return z(r._openChange(o))})("nzOnOk",function(o){y(n);let r=c();return z(r._ok(o))}),f()}if(t&2){let n=c();u("nzId",n.id)("nzDisabled",n.disabled)("nzSize",n.ui.size)("nzFormat",n.displayFormat),Be("ngModel",n.displayValue),u("nzAllowClear",n.i.allowClear)("ngClass",n.ui.className)("nzDisabledDate",n.ui.disabledDate)("nzLocale",n.ui.locale)("nzPlaceHolder",n.ui.placeholder)("nzPopupStyle",n.ui.popupStyle)("nzDropdownClassName",n.ui.dropdownClassName)("nzDisabledTime",n.ui.disabledTime)("nzRenderExtraFooter",n.ui.renderExtraFooter)("nzShowTime",n.ui.showTime)("nzShowToday",n.i.showToday)("nzShowWeekNumber",n.ui.showWeekNumber||!1)("nzInputReadOnly",n.ui.inputReadOnly)("nzInline",n.ui.inline)}}var xw=t=>({"ant-input-number__hide-step":t}),bw=()=>[],Sw=()=>({$implicit:!0});function ww(t,i){if(t&1&&(m(0,"div",4),E(1),f()),t&2){let n=c(2);d(),ie(n.title)}}function Tw(t,i){if(t&1&&(m(0,"div",6),D(1,"sf-item",7),f()),t&2){let n=c().$implicit;u("nzSpan",n.grid.span)("nzOffset",n.grid.offset)("nzXs",n.grid.xs)("nzSm",n.grid.sm)("nzMd",n.grid.md)("nzLg",n.grid.lg)("nzXl",n.grid.xl)("nzXXl",n.grid.xxl),d(),u("formProperty",n.property)("fixed-label",n.spanLabelFixed)}}function kw(t,i){if(t&1&&_(0,Tw,2,10,"div",6),t&2){let n=i.$implicit;x(n.property.visible&&n.show?0:-1)}}function Dw(t,i){if(t&1&&(m(0,"div",5),Q(1,kw,1,1,null,null,et),f()),t&2){let n=c(2);u("nzGutter",n.grid.gutter),d(),U(n.list)}}function Pw(t,i){if(t&1&&D(0,"sf-item",7),t&2){let n=c().$implicit;u("formProperty",n.property)("fixed-label",n.spanLabelFixed)}}function Mw(t,i){if(t&1&&_(0,Pw,1,2,"sf-item",7),t&2){let n=i.$implicit;x(n.property.visible&&n.show?0:-1)}}function Ow(t,i){if(t&1&&Q(0,Mw,1,1,null,null,et),t&2){let n=c(2);U(n.list)}}function Iw(t,i){if(t&1&&_(0,ww,2,1,"div",4)(1,Dw,3,1,"div",5)(2,Ow,2,0),t&2){let n=i.$implicit,e=c();x(!n&&e.title?0:-1),d(),x(e.grid?1:2)}}function Ew(t,i){if(t&1&&D(0,"i",11),t&2){let n=c(3);u("nzType",n.expand?"down":"up")}}function Nw(t,i){if(t&1&&D(0,"i",13),t&2){let n=c(4);u("nzTooltipTitle",n.oh.text)("nzTooltipPlacement",n.oh.placement)("nzTooltipTrigger",n.oh.trigger)("nzTooltipColor",n.oh.bgColor)("nzTooltipOverlayClassName",n.oh.overlayClassName)("nzTooltipOverlayStyle",n.oh.overlayStyle)("nzTooltipMouseEnterDelay",n.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",n.oh.mouseLeaveDelay)("nzType",n.oh.icon)}}function $w(t,i){if(t&1&&(m(0,"span",12),E(1),_(2,Nw,1,9,"i",13),f()),t&2){let n=c(3);d(),q(" ",n.ui.optional," "),d(),x(n.oh?2:-1)}}function Fw(t,i){if(t&1){let n=I();m(0,"div",10),w("click",function(){y(n);let o=c(2);return z(o.changeExpand())}),_(1,Ew,1,1,"i",11),E(2),_(3,$w,3,2,"span",12),f()}if(t&2){let n=c(2);F("point",n.showExpand),d(),x(n.showExpand?1:-1),d(),q(" ",n.title," "),d(),x(n.ui.optional||n.oh?3:-1)}}function Vw(t,i){}function Rw(t,i){if(t&1&&(m(0,"nz-card",8),_(1,Fw,4,5,"ng-template",null,1,oe)(3,Vw,0,0,"ng-template",9),f()),t&2){let n=L(2),e=c(),o=L(1);F("sf__object-card-fold",!e.expand),u("nzTitle",n)("nzExtra",e.ui.cardExtra)("nzSize",e.ui.cardSize||"small")("nzActions",e.ui.cardActions||Nt(11,bw))("nzBodyStyle",e.ui.cardBodyStyle)("nzBordered",e.ui.cardBordered||!0)("nzBorderless",e.ui.cardBorderless||!1),d(3),u("ngTemplateOutlet",o)("ngTemplateOutletContext",Nt(12,Sw))}}function Aw(t,i){}function Hw(t,i){if(t&1&&_(0,Aw,0,0,"ng-template",3),t&2){c();let n=L(1);u("ngTemplateOutlet",n)}}function Lw(t,i){if(t&1&&(m(0,"label",2),D(1,"span",3),f()),t&2){let n=i.$implicit,e=c(2);u("nzValue",n.value)("nzDisabled",e.disabled||n.disabled),d(),u("innerHTML",n.label,Ae)}}function jw(t,i){if(t&1&&Q(0,Lw,2,3,"label",2,et),t&2){let n=c();U(n.data)}}function Bw(t,i){if(t&1&&(m(0,"label",4),D(1,"span",3),f()),t&2){let n=i.$implicit,e=c(2);u("nzValue",n.value)("nzDisabled",e.disabled||n.disabled),d(),u("innerHTML",n.label,Ae)}}function Ww(t,i){if(t&1&&Q(0,Bw,2,3,"label",4,et),t&2){let n=c();U(n.data)}}function qw(t,i){if(t&1&&D(0,"nz-option",3),t&2){let n=i.$implicit;u("nzLabel",n.label)("nzValue",n.value)("nzHide",n.hide)("nzDisabled",n.disabled)}}function Qw(t,i){if(t&1&&Q(0,qw,1,4,"nz-option",3,et),t&2){let n=c();U(n.data)}}function Uw(t,i){if(t&1&&D(0,"nz-option",5),t&2){let n=i.$implicit;u("nzLabel",n.label)("nzValue",n.value)("nzDisabled",n.disabled)("nzHide",n.hide)}}function Yw(t,i){if(t&1&&(m(0,"nz-option-group",4),Q(1,Uw,1,4,"nz-option",5,et),f()),t&2){let n=i.$implicit;u("nzLabel",n.label),d(),U(n.children)}}function Kw(t,i){if(t&1&&Q(0,Yw,3,1,"nz-option-group",4,et),t&2){let n=c();U(n.data)}}function Gw(t,i){if(t&1&&(m(0,"nz-option",2),D(1,"i",6),E(2),f()),t&2){let n=c();d(2),q(" ",n.ui.searchLoadingText," ")}}function Zw(t,i){if(t&1){let n=I();m(0,"input",4),w("ngModelChange",function(o){y(n);let r=c();return z(r.change(o))})("keyup.enter",function(o){y(n);let r=c();return z(r.enter(o))})("focus",function(o){y(n);let r=c();return z(r.focus(o))})("blur",function(o){y(n);let r=c();return z(r.blur(o))}),f()}if(t&2){let n=c();u("disabled",n.disabled)("nzSize",n.ui.size)("nzBorderless",n.ui.borderless)("ngModel",n.value),Z("id",n.id)("disabled",n.disabled)("maxLength",n.schema.maxLength||null)("type",n.ui.type||"text")("placeholder",n.ui.placeholder)("autocomplete",n.ui.autocomplete)("autoFocus",n.ui.autofocus)}}function Xw(t,i){}function Jw(t,i){if(t&1&&(m(0,"nz-input-group",2),_(1,Xw,0,0,"ng-template",3),f()),t&2){let n=c(),e=L(2);u("nzAddOnBefore",n.ui.addOnBefore)("nzAddOnAfter",n.ui.addOnAfter)("nzAddOnBeforeIcon",n.ui.addOnBeforeIcon)("nzAddOnAfterIcon",n.ui.addOnAfterIcon)("nzPrefix",n.ui.prefix)("nzPrefixIcon",n.ui.prefixIcon)("nzSuffix",n.ui.suffix)("nzSuffixIcon",n.ui.suffixIcon),d(),u("ngTemplateOutlet",e)}}function eT(t,i){}function tT(t,i){if(t&1&&_(0,eT,0,0,"ng-template",3),t&2){c();let n=L(2);u("ngTemplateOutlet",n)}}function iT(t,i){if(t&1&&D(0,"span",1),t&2){let n=c();u("innerHTML",n.text,Ae)}}function nT(t,i){if(t&1&&D(0,"span",2),t&2){let n=c();u("innerText",n.text)}}function oT(t,i){if(t&1){let n=I();m(0,"textarea",4),w("ngModelChange",function(o){y(n);let r=c();return z(r.change(o))})("focus",function(o){y(n);let r=c();return z(r.focus(o))})("blur",function(o){y(n);let r=c();return z(r.blur(o))}),E(1,"      "),f()}if(t&2){let n=c();u("disabled",n.disabled)("nzSize",n.ui.size)("ngModel",n.value)("nzAutosize",n.autosize)("nzBorderless",n.ui.borderless),Z("id",n.id)("disabled",n.disabled)("maxLength",n.schema.maxLength||null)("placeholder",n.ui.placeholder)}}function rT(t,i){if(t&1){let n=I();m(0,"nz-textarea-count",2)(1,"textarea",4),w("ngModelChange",function(o){y(n);let r=c();return z(r.change(o))})("focus",function(o){y(n);let r=c();return z(r.focus(o))})("blur",function(o){y(n);let r=c();return z(r.blur(o))}),E(2,"        "),f()()}if(t&2){let n=c();u("nzMaxCharacterCount",n.ui.maxCharacterCount)("nzComputeCharacterCount",n.ui.computeCharacterCount),d(),u("disabled",n.disabled)("nzSize",n.ui.size)("ngModel",n.value)("nzAutosize",n.autosize)("nzBorderless",n.ui.borderless),Z("id",n.id)("disabled",n.disabled)("maxLength",n.schema.maxLength||null)("placeholder",n.ui.placeholder)}}function aT(t,i){}function sT(t,i){if(t&1&&_(0,aT,0,0,"ng-template",3),t&2){c();let n=L(2);u("ngTemplateOutlet",n)}}var lT={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ingoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Wc(t){return t.merge("sf",lT)}var Oi="/";function Ff(t){return t==null}function ni(t,i){return t==null?i:`${t}`!="false"}function ns(t,...i){}function cT(t,i){let n=/^#\/definitions\/(.*)$/.exec(t);if(n&&n[1]){let e=n[1].split(Oi),o=i;for(let r of e)if(r=r.replace(/~1/g,Oi).replace(/~0/g,"~"),o.hasOwnProperty(r))o=o[r];else throw new Error(`Could not find a definition for ${t}.`);return o}throw new Error(`Could not find a definition for ${t}.`)}function qc(t,i={}){if(t.hasOwnProperty("$ref")){let e=cT(t.$ref,i),n=t,{$ref:o}=n,r=bd(n,["$ref"]);return qc(T(T({},e),r),i)}return t}function dT(t,i){let n=(e,o)=>{pT(e,o),Object.keys(e.properties).forEach(r=>{let a=e.properties[r],s=`$${r}`;a.items&&n(a.items,o[s].$items),a.properties&&n(a,o[s])})};n(t,i)}function pT(t,i){if(!(t.hasOwnProperty("if")&&t.hasOwnProperty("then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let n=Object.keys(t.properties),e=Object.keys(t.if.properties);Ac(n,e),Ac(n,t.then.required),t.required=t.required.concat(t.then.required);let o=t.hasOwnProperty("else");o&&(Ac(n,t.else.required),t.required=t.required.concat(t.else.required));let r={},a={};return e.forEach(s=>{let l=t.if.properties[s].enum;r[s]=l,o&&(a[s]=p=>!l.includes(p))}),t.then.required.forEach(s=>i[`$${s}`].visibleIf=r),o&&t.else.required.forEach(s=>i[`$${s}`].visibleIf=a),t}function Ac(t,i){i.forEach(n=>{if(!t.includes(n))throw new Error(`if: properties does not contain '${n}'`)})}function uT(t,i){if(!Array.isArray(i))return t;let n=h=>h.reduce((g,v)=>(g[v]=!0,g),{}),e=h=>`property [${h.join("', '")}]`,o=n(t),r=n(i),a=i.filter(h=>h!=="*"&&!o[h]);if(a.length)throw new Error(`ui schema order list contains extraneous ${e(a)}`);let s=t.filter(h=>!r[h]),l=i.indexOf("*");if(l===-1){if(s.length)throw new Error(`ui schema order list does not contain ${e(s)}`);return i}if(l!==i.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let p=[...i];return p.splice(l,1,...s),p}function Vf(t,i,n){return Ff(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(e=>({label:e,value:e}))),i&&(Array.isArray(i)||(i=[i]),t.forEach(e=>{~i.indexOf(e.value)&&(e.checked=!0)})),n&&t.forEach(e=>e.disabled=!0),t)}function hT(t,i,n){return Vf(ci(t||[]),i,n)}function Qc(t,i,n,e){return typeof i.asyncData=="function"?i.asyncData(e).pipe(_e(o=>Vf(o,n,t.readOnly))):xt(hT(t.enum,n,t.readOnly))}var os=class{constructor(i,n,e,o,r,a,s,l){this.injector=i,this._options=l,this._errors=null,this._valueChanges=new rt({path:null,pathValue:null,value:null}),this._errorsChanges=new rt(null),this._visible=!0,this._visibilityChanges=new rt(!0),this._objErrors={},this._value=null,this.schema=e,this.ui=o,this.schemaValidator=n.createValidatorFn(e,{ingoreKeywords:this.ui.ingoreKeywords,debug:o.debug}),this.formData=r||e.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(i=!1){this.widget?.detectChanges(i)}updateValueAndValidity(i){i=T({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},i),this._updateValue(),i.emitValueEvent&&(i.updatePath=i.updatePath||this.path,i.updateValue=i.updateValue==null?this.value:i.updateValue,this.valueChanges.next({value:this.value,path:i.updatePath,pathValue:i.updateValue})),i.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!i.onlySelf&&this.parent.updateValueAndValidity(ce(T({},i),{emitValidator:!1}))}searchProperty(i){let n=this,e=null,o=null;if(i[0]===Oi)e=this.findRoot(),o=e.getProperty(i.substring(1));else for(;o===null&&n.parent!==null;)n=e=n.parent,o=e.getProperty(i);return o}findRoot(){let i=this;for(;i.parent!==null;)i=i.parent;return i}isEmptyData(i){if(Ff(i))return!0;switch(this.type){case"string":return`${i}`.length===0}return!1}_runValidation(){let i,n=this.isEmptyData(this._value);n&&this.ui._required?i=[{keyword:"required"}]:n?i=[]:i=this.schemaValidator(this._value)||[];let e=this.ui.validator;if(typeof e=="function"){let o=e(this.value,this,this.findRoot());if(o instanceof Td){o.subscribe(r=>{this.setCustomErrors(i,r),this.cd(!1)});return}this.setCustomErrors(i,o);return}this._errors=i,this.setErrors(this._errors)}setCustomErrors(i,n){let e=Array.isArray(n)&&n.length>0;e&&n.forEach(o=>{if(!o.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");o.keyword=null}),this._errors=e?i.concat(...n):i,this.setErrors(this._errors)}setErrors(i=[],n=!0){let e=Array.isArray(i)?i:[i];if(n&&e&&!this.ui.onlyVisual){let o=this.widget&&this.widget.l.error||{};e=e.map(r=>{let a=r.keyword==null&&r.message?r.message:(this.ui.errors||{})[r.keyword]||this._options.errors[r.keyword]||o[r.keyword]||"";return a&&typeof a=="function"&&(a=a(r)),a&&(~a.indexOf("{")&&r.params&&(a=a.replace(/{([\.a-zA-Z0-9]+)}/g,(s,l)=>r.params[l]||"")),r.message=a),r})}this._errors=e,this._errorsChanges.next(e),this._parent&&this._parent.setParentAndPlatErrors(e,this.path)}setParentAndPlatErrors(i,n){this._objErrors[n]=i;let e=[];Object.keys(this._objErrors).forEach(o=>{let r=this.searchProperty(o);r&&!r.visible||e.push(...this._objErrors[o])}),this.setErrors(e,!1)}setVisible(i){return this._visible=i,this._visibilityChanges.next(i),i&&this.injector.get(Re).onStable.pipe(xr(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let i=this.ui.visibleIf;if(typeof i=="object"&&Object.keys(i).length===0)this.setVisible(!1);else if(i!=null){let n=[];for(let e in i)if(i.hasOwnProperty(e)){let o=this.searchProperty(e);if(o){let r=o.valueChanges.pipe(_e(l=>{let p=i[e];if(typeof p=="function"){let h=p(l.value,o);if(typeof h=="object"){let g=T({show:!1,required:!1},h),v=this.parent?.schema.required;if(v&&this.propertyId){let C=v.findIndex(b=>b===this.propertyId);g.required?C===-1&&v.push(this.propertyId):C!==-1&&v.splice(C,1),this.ui._required=g.required}return g.show}return h}return p.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:p.indexOf(l.value)!==-1})),a=o._visibilityChanges,s=Et([r,a]).pipe(_e(l=>l[0]&&l[1]));n.push(s)}}Et(n).pipe(_e(e=>this.ui.visibleIfLogical==="and"?e.every(o=>o):e.some(o=>o)),ri()).subscribe(e=>this.setVisible(e))}}updateFeedback(i=""){this.ui.feedback=i,this.widget?.injector.get(Yt).formStatusChanges.next({status:i,hasFeedback:!!i}),this.cd(!0)}},go=class t extends os{constructor(){super(...arguments),this.properties=null}getProperty(i){let n=i.indexOf(Oi),e=n!==-1?i.substring(0,n):i,o=this.properties[e];if(o!==null&&n!==-1&&o instanceof t){let r=i.substring(n+1);o=o.getProperty(r)}return o}forEachChild(i){for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let e=this.properties[n];i(e,n)}}forEachChildRecursive(i){this.forEachChild(n=>{i(n),n instanceof t&&n.forEachChildRecursive(i)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(i=>{i._bindVisibility()})}isRoot(){return this===this.root}},rs=class extends go{get propertiesId(){return this._propertiesId}constructor(i,n,e,o,r,a,s,l,p){super(i,e,o,r,a,s,l,p),this.formPropertyFactory=n,this._propertiesId=[],this.createProperties()}createProperties(){this.properties={},this._propertiesId=[];let i;try{i=uT(Object.keys(this.schema.properties),this.ui.order)}catch(n){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,n)}i.forEach(n=>{this.properties[n]=this.formPropertyFactory.createProperty(this.schema.properties[n],this.ui[`$${n}`],(this.formData||{})[n],this,n),this._propertiesId.push(n)})}setValue(i,n){let e=this.properties;for(let o in i)i.hasOwnProperty(o)&&e[o]&&e[o].setValue(i[o],!0);this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}resetValue(i,n){i=i||this.schema.default||{};let e=this.properties;for(let o in this.schema.properties)this.schema.properties.hasOwnProperty(o)&&e[o].resetValue(i[o],!0);this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let i={};this.forEachChild((n,e)=>{n.visible&&n._hasValue()&&(i[e]=n.value)}),this._value=i}},as=class extends go{constructor(i,n,e,o,r,a,s,l,p){super(i,e,o,r,a,s,l,p),this.formPropertyFactory=n,this.properties=[]}getProperty(i){let n=i.indexOf(Oi),e=+(n!==-1?i.substring(0,n):i),o=this.properties;if(isNaN(e)||e>=o.length)return;let r=i.substring(n+1);return o[e].getProperty(r)}setValue(i,n){this.properties=[],this.clearErrors(),this.resetProperties(i),this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}resetValue(i,n){this._value=i||this.schema.default||[],this.setValue(this._value,n)}_hasValue(){return!0}_updateValue(){let i=[];this.forEachChild(n=>{n.visible&&i.push(T(T({},this.widget?.cleanValue?null:n.formData),n.value))}),this._value=i}addProperty(i){let n=this.formPropertyFactory.createProperty(ci(this.schema.items),ci(this.ui.$items),i,this);return this.properties.push(n),n}resetProperties(i){for(let n of i)this.addProperty(n).resetValue(n,!0)}clearErrors(i){(i||this)._objErrors={}}add(i){let n=this.addProperty(i);return n.resetValue(i,!1),n}remove(i){let n=this.properties;this.clearErrors(),n.splice(i,1),n.forEach((e,o)=>{e.path=[e.parent.path,o].join(Oi),this.clearErrors(e),e instanceof rs&&e.forEachChild(r=>{r.updateValueAndValidity({emitValueEvent:!1})})}),n.length===0&&this.updateValueAndValidity()}},mr=class extends os{setValue(i,n){this._value=i,this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}resetValue(i,n){i==null&&(i=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=i,this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0}),this.widget&&(this.widget.reset(i),this.cd(n))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}},Hc=class extends mr{fallbackValue(){return null}},Lc=class extends mr{fallbackValue(){return null}setValue(i,n){typeof i=="string"&&(i.length?i=i.indexOf(".")>-1?parseFloat(i):parseInt(i,10):i=void 0),this._value=i,this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}},jc=class extends mr{fallbackValue(){return null}setValue(i,n){this._value=i??"",this.cd(n),this.updateValueAndValidity({onlySelf:n,emitValueEvent:!0})}},fr=class{constructor(i,n,e){this.injector=i,this.schemaValidatorFactory=n,this.options=Wc(e)}createProperty(i,n,e,o=null,r){let a=null,s="";if(o)switch(s+=o.path,o.parent!==null&&(s+=Oi),o.type){case"object":s+=r;break;case"array":s+=o.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${o.type}`)}else s=Oi;if(i.$ref){let l=qc(i,o.root.schema.definitions);a=this.createProperty(l,n,e,o,s)}else switch((r&&o.schema.required.indexOf(r.split(Oi).pop())!==-1||n.showRequired===!0)&&(n._required=!0),i.title==null&&(i.title=r),(i.type==="string"||i.type==="number")&&!i.format&&!n.format?n.widget==="date"?n._format=i.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:n.widget==="time"&&(n._format=i.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):n._format=n.format,i.type){case"integer":case"number":a=new Lc(this.injector,this.schemaValidatorFactory,i,n,e,o,s,this.options);break;case"string":a=new jc(this.injector,this.schemaValidatorFactory,i,n,e,o,s,this.options);break;case"boolean":a=new Hc(this.injector,this.schemaValidatorFactory,i,n,e,o,s,this.options);break;case"object":a=new rs(this.injector,this,this.schemaValidatorFactory,i,n,e,o,s,this.options);break;case"array":a=new as(this.injector,this,this.schemaValidatorFactory,i,n,e,o,s,this.options);break;default:throw new TypeError(`Undefined type ${i.type}`)}return a.propertyId=r,a instanceof go&&this.initializeRoot(a),a}initializeRoot(i){i._bindVisibility()}},_r=class{constructor(){this.onDestroy=new X}destroy(){this.onDestroy.next(!0)}},ls=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),Rf=(()=>{let i=class i extends ls{constructor(){if(super(),this.ngZone=O(Re),this.cogSrv=O(pt),!(typeof document=="object"&&document))return;this.options=Wc(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new Ef.default(ce(T({allErrors:!0,loopEnum:50},e),{formats:T({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:Xr.color,mobile:Xr.mobile,"id-card":Xr.idCard},e.formats)})),(0,Nf.default)(this.ajv)})}createValidatorFn(e,o){let r=[...this.options.ingoreKeywords,...o.ingoreKeywords||[]];return a=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,a))}catch{}let s=this.ajv.errors;return this.options&&r&&s&&(s=s.filter(l=>r.indexOf(l.keyword)===-1)),s}}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),Tn=class{constructor(){this._widgets={}}get widgets(){return this._widgets}setDefault(i){this.defaultWidget=i}register(i,n){this._widgets[i]=n}has(i){return this._widgets.hasOwnProperty(i)}getType(i){return this.has(i)?this._widgets[i]:this.defaultWidget}},Af=(()=>{let i=class i{constructor(){this.registry=O(Tn)}createWidget(e,o){this.registry.has(o);let r=this.registry.getType(o);return e.createComponent(r)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),mT=0,cs=(()=>{let i=class i{constructor(){this.widgetFactory=O(Af),this.terminator=O(_r),this.destroy$=new X,this.widget=null,this.footer=null}onWidgetInstanciated(e){this.widget=e;let o=`_sf-${mT++}`,r=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=r,this.widget.id=o,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["sf-item"]],viewQuery:function(o,r){if(o&1&&te(DS,7,qi),o&2){let a;K(a=G())&&(r.container=a.first)}},hostVars:2,hostBindings:function(o,r){o&2&&F("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],features:[Ke([Yt]),J],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(o,r){o&1&&_(0,PS,0,0,"ng-template",null,0,oe)(2,MS,1,0,"ng-container",1),o&2&&(d(2),u("ngTemplateOutlet",r.footer))},dependencies:[ae],encapsulation:2});let t=i;return t})(),Hf=(()=>{let i=class i{constructor(){this.el=O(ee).nativeElement,this.render=O(Ee),this._inited=!1}init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,o=e.querySelector(".ant-row")||e;this.render.addClass(o,"sf__fixed");let r=o.querySelector(".ant-form-item-label"),a=o.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),s=`${this.num}px`;r?(this.render.setStyle(r,"flex",`0 0 ${s}`),this.render.setStyle(a,"max-width",`calc(100% - ${s})`)):this.render.setStyle(a,"margin-left",s)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>ge(e,0)]},features:[ne,J]});let t=i;return t})();function fT(t,i,n){return new fr(t,i,n)}var _T=(()=>{let i=class i{get btnGrid(){return this._btn.render.grid}set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,o){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.resetValue(o,!1),this}setDisabled(e,o){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);return r.schema.readOnly=o,r.widget.detectChanges(),this}setRequired(e,o){let r=this.getProperty(e);if(!r)throw new Error(`Invalid path: ${e}`);let a=e.split(Oi).pop(),s=r.parent?.schema.required||[],l=s.findIndex(p=>p===a);return o?l===-1&&s.push(a):l!==-1&&s.splice(l,1),r.parent.schema.required=s,r.ui._required=o,r.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,o=""){return this.getProperty(e)?.updateFeedback(o),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(e){this.formPropertyFactory=O(fr),this.terminator=O(_r),this.dom=O(vi),this.cdr=O(xe),this.localeSrv=O(Wr),this.aclSrv=O(Or),this.i18nSrv=O(un),this.platform=O(Ft),this._renders=new Map,this._valid=!0,this._inited=!1,this.locale={},this.rootProperty=null,this.layout="horizontal",this.button={},this.liveValidate=!0,this.firstVisual=!0,this.onlyVisual=!1,this.compact=!1,this.loading=!1,this.disabled=!1,this.noColon=!1,this.cleanValue=!1,this.delay=!1,this.formValueChange=new R,this.formChange=new R,this.formSubmit=new R,this.formReset=new R,this.formError=new R,this.options=Wc(e),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Pt()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),Ct(this.aclSrv.change,this.i18nSrv.change).pipe(Ye(()=>this._inited),Pt()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(o=>!!this._defUi[o]).forEach(o=>e[o]=T(T({},this._defUi[o]),e[o]))}coverProperty(){let e=this.layout==="horizontal",o=ci(this.schema),{definitions:r}=o,a=(s,l,p,h,g)=>{Array.isArray(s.required)||(s.required=[]),Object.keys(s.properties).forEach(v=>{let C="$",b=C+v,S=qc(s.properties[v],r),$=T(T({},S.ui),p[b]),P=T(T(T(T(ce(T(T({},this._defUi),h),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:S.type}),S.format&&this.options.formatMap[S.format]),typeof S.ui=="string"?{widget:S.ui}:null),!S.format&&!S.ui&&Array.isArray(S.enum)&&S.enum.length>0?{widget:"select"}:null),$);if(Object.keys(P).filter(W=>W.startsWith(C)).forEach(W=>delete P[W]),e?h.spanLabelFixed?$.spanLabelFixed||(P.spanLabelFixed=h.spanLabelFixed):(P.spanLabel||(P.spanLabel=typeof h.spanLabel>"u"?5:h.spanLabel),P.spanControl||(P.spanControl=typeof h.spanControl>"u"?19:h.spanControl),P.offsetControl||(P.offsetControl=typeof h.offsetControl>"u"?null:h.offsetControl)):(P.spanLabel=null,P.spanControl=null,P.offsetControl=null),this.layout==="inline"&&delete P.grid,this.layout!=="horizontal"&&(P.spanLabelFixed=null),P.spanLabelFixed!=null&&P.spanLabelFixed>0&&(P.spanLabel=null,P.spanControl=null),P.widget==="date"&&P.end!=null){let W=s.properties[P.end];W?W.ui=ce(T({},W.ui),{widget:P.widget,hidden:!0}):P.end=null}if(this.inheritUI(P),P.optionalHelp){typeof P.optionalHelp=="string"&&(P.optionalHelp={text:P.optionalHelp});let W=P.optionalHelp=T({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},P.optionalHelp);W.i18n&&(W.text=this.fanyi(W.i18n)),W.text||(P.optionalHelp=void 0)}if(P.i18n&&(S.title=this.fanyi(P.i18n)),P.descriptionI18n&&(S.description=this.fanyi(P.descriptionI18n)),S.description&&(P._description=this.dom.bypassSecurityTrustHtml(S.description)),P.hidden=typeof P.hidden=="boolean"?P.hidden:!1,P.hidden===!1&&P.acl&&this.aclSrv&&!this.aclSrv.can(P.acl)&&(P.hidden=!0),g[b]=P,delete S.ui,P.hidden===!0){let W=s.required.indexOf(v);W!==-1&&s.required.splice(W,1)}S.items&&(P.$items=T(T(T({},S.items.ui),p[b]),P.$items),a(S.items,S.items,p[b]?.$items??{},P.$items,P.$items)),S.properties&&Object.keys(S.properties).length&&a(S,s,p[b]||{},P,P)})};this.ui==null&&(this.ui={}),this._defUi=T(T(T({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),o.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=T({},this._defUi),a(o,o,this.ui,this.ui,this._ui),dT(o,this._ui),this._schema=o,delete o.ui,ns(this._ui,"cover schema & ui",this._ui,o)}coverButtonProperty(){this._btn=T(T(T({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(r=>r.startsWith("$")),o=this._btn.render;if(this.layout==="horizontal"){let r=e?this._ui[e]:this._defUi;o.grid||(o.grid={offset:r.spanLabel,span:r.spanControl}),o.spanLabelFixed==null&&(o.spanLabelFixed=r.spanLabelFixed),!o.class&&typeof r.spanLabelFixed=="number"&&r.spanLabelFixed>0&&(o.class="text-center")}else o.grid={};this._mode&&(this.mode=this._mode),ns(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let o=["disabled","loading"];if(Object.keys(e).every(r=>o.includes(r))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,o){this._inited&&(this._renders.has(e)||(this._renders.set(e,o),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,o)=>{let r=this.rootProperty?.searchProperty(o);r!=null&&(r.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let o=a=>{a._runValidation(),!(!(a instanceof go)||!a.properties)&&(Array.isArray(a.properties)?a.properties.forEach(s=>o(s)):Object.keys(a.properties).forEach(s=>o(a.properties[s])))};e.onlyRoot?this.rootProperty._runValidation():o(this.rootProperty);let r=this.rootProperty.errors;return this._valid=!(r&&r.length),e.emitError&&!this._valid&&this.formError.emit(r),this.cdr.detectChanges(),this._valid}refreshSchema(e,o){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),o&&(this.ui=o),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=T({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let r=!0;return this.rootProperty.valueChanges.subscribe(a=>{if(this._item=T(T({},this.cleanValue?null:this.formData),a.value),r){r=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:a.path,pathValue:a.pathValue})}),this.rootProperty.errorsChanges.subscribe(a=>{this._valid=!(a&&a.length),this.formError.emit(a),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}};i.\u0275fac=function(o){return new(o||i)(k(pt))},i.\u0275cmp=V({type:i,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(o,r){o&2&&F("sf",!0)("sf__inline",r.layout==="inline")("sf__horizontal",r.layout==="horizontal")("sf__search",r.mode==="search")("sf__edit",r.mode==="edit")("sf__no-error",r.onlyVisual)("sf__no-colon",r.noColon)("sf__compact",r.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",M],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",M],onlyVisual:[2,"onlyVisual","onlyVisual",M],compact:[2,"compact","compact",M],mode:"mode",loading:[2,"loading","loading",M],disabled:[2,"disabled","disabled",M],noColon:[2,"noColon","noColon",M],cleanValue:[2,"cleanValue","cleanValue",M],delay:[2,"delay","delay",M]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],features:[Ke([Af,{provide:fr,useFactory:fT,deps:[Ei,ls,pt]},_r]),ne,J],ngContentSelectors:$f,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"ngClass","fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(o,r){if(o&1){let a=I();Se(),_(0,OS,1,0,"ng-template",null,0,oe)(2,jS,2,1,"ng-template",null,1,oe),m(4,"form",2),w("submit",function(l){return y(a),z(r.onSubmit(l))}),_(5,BS,1,2,"sf-item",3),f()}o&2&&(d(4),u("nzLayout",r.layout),Z("autocomplete",r.autocomplete),d(),x(r.rootProperty?5:-1))},dependencies:[dt,ae,Vp,$p,Fp,pi,bt,di,Un,Qn,au,oa,Pe,cs,Hf],encapsulation:2,changeDetection:0});let t=i;return t})(),oi=(()=>{let i=class i{constructor(){this.statusSrv=O(Yt),this._showTitle=!1,this.title=null}set showTitle(e){this._showTitle=!!e}get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},features:[J],ngContentSelectors:$f,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(o,r){o&1&&(Se(),m(0,"nz-form-item"),_(1,US,2,2,"div",0),m(2,"div",1)(3,"div",2)(4,"div",3),ve(5),f()(),_(6,YS,3,2,"div",4)(7,KS,1,1,"div",5),f()()),o&2&&(le("width",r.ui.width,"px"),F("ant-form-item-has-error",r.showError)("ant-form-item-with-help",r.showError)("ant-form-item-has-success",r.ui.feedback==="success")("ant-form-item-has-warning",r.ui.feedback==="warning")("ant-form-item-has-error",r.ui.feedback==="error")("ant-form-item-is-validating",r.ui.feedback==="validating")("ant-form-item-has-feedback",r.ui.feedback),d(),x(r._showTitle?1:-1),d(),u("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),d(4),x(!r.ui.onlyVisual&&r.showError?6:-1),d(),x(r.schema.description?7:-1))},dependencies:[bt,Un,Qn,oa,Pe,Ht],encapsulation:2,data:{animation:[Ar]}});let t=i;return t})();var ds=(()=>{let i=class i{constructor(){this.cd=O(xe),this.injector=O(Ei),this.sfItemComp=O(cs),this.sfComp=O(_T),this.showError=!1,this.id=""}get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(vi)}get cleanValue(){return this.sfComp?.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(N(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;ns(this.ui,"errorsChanges",this.formProperty.path,e);let o=this.sfComp?.firstVisual;(o||!o&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),ns(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,hostVars:2,hostBindings:function(o,r){o&2&&Qt(r.cls)}});let t=i;return t})(),Lf=(()=>{let i=class i extends ds{reset(e){}afterViewInit(){}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275dir=be({type:i,features:[De]});let t=i;return t})(),Ii=(()=>{let i=class i extends ds{reset(e){}afterViewInit(){}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275dir=be({type:i,features:[De]});let t=i;return t})(),gT=(()=>{let i=class i extends ds{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(N(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275dir=be({type:i,features:[De]});let t=i;return t})(),CT=(()=>{let i=class i extends ds{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(N(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275dir=be({type:i,features:[De]});let t=i;return t})(),yT=(()=>{let i=class i extends gT{constructor(){super(...arguments),this.arraySpan=8}get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:o,addType:r,removable:a,removeTitle:s}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(o||this.l.addText),this.addType=r||"dashed",this.removeTitle=a===!1?null:s||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(T({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let o=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:o,emitValueEvent:!0}),this.ui.remove?.(e)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-array"]],hostVars:2,hostBindings:function(o,r){o&2&&F("sf__array",!0)},features:[De],decls:8,vars:10,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[4,"ngFor","ngForOf"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nz-icon","","nzType","delete"]],template:function(o,r){o&1&&(m(0,"nz-form-item"),_(1,ZS,8,9,"div",0),m(2,"div",1)(3,"div",2)(4,"div",3),_(5,ew,2,1,"ng-container",4),f(),_(6,tw,2,1,"div",5)(7,iw,1,1,"div",6),f()()()),o&2&&(F("ant-form-item-with-help",r.showError),d(),x(r.schema.title?1:-1),d(),u("nzSpan",r.ui.spanControl)("nzOffset",r.ui.offsetControl),d(),F("has-error",r.showError),d(2),u("ngForOf",r.formProperty.properties),d(),x(!r.ui.onlyVisual&&r.showError?6:-1),d(),x(r.schema.description?7:-1))},dependencies:[Dr,pi,bt,di,$s,Un,Qn,oa,Pe,Ht,cs],encapsulation:2});let t=i;return t})(),zT=(()=>{let i=class i extends Ii{};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-boolean"]],features:[De],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0)(1,"nz-switch",1),w("ngModelChange",function(s){return r.setValue(s)}),f()()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),u("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzCheckedChildren",r.ui.checkedChildren)("nzUnCheckedChildren",r.ui.unCheckedChildren)("nzLoading",r.ui.loading))},dependencies:[Ge,We,cu,oi],encapsulation:2});let t=i;return t})(),vT=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.data=[],this.allChecked=!1,this.indeterminate=!1,this.labelTitle="",this.inited=!1}reset(e){this.inited=!1,Qc(this.schema,this.ui,e).subscribe(o=>{this.data=o,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=o.length===0?"":this.schema.title;let{span:r}=this.ui;this.grid_span=r&&r>0?r:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(o=>o.checked);this.updateAllChecked().setValue(e.map(o=>o.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(o=>o.checked=e.indexOf(o.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-checkbox"]],features:[De],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(o,r){o&1&&(_(0,ow,1,1,"ng-template",null,0,oe),m(2,"sf-item-wrap",1),_(3,mw,2,1),f()),o&2&&(d(2),u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",!0)("title",r.labelTitle),d(),x(r.inited?3:-1))},dependencies:[ae,Ge,We,bt,Zt,jp,Lp,Un,Qn,Pe,Ht,oi],encapsulation:2});let t=i;return t})(),xT=(()=>{let i=class i extends Ii{};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-custom"]],features:[De],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0),_(1,_w,0,0,"ng-template",1),f()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),u("ngTemplateOutlet",r.ui._render)("ngTemplateOutletContext",So(8,fw,r,r.schema,r.ui)))},dependencies:[ae,oi],encapsulation:2});let t=i;return t})(),bT=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.flatRange=!1,this.displayValue=null}ngOnInit(){let{mode:e,end:o,displayFormat:r,allowClear:a,showToday:s}=this.ui;if(this.mode=e||"date",this.flatRange=o!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let l=this.endProperty.ui;this.endFormat=l.format?l._format:this.startFormat}if(r)this.displayFormat=r;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:ni(a,!0),showToday:ni(s,!0)}}reset(e){let o={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(r=>jr(r,o)):e=jr(e,o),this.flatRange){let r=jr(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||r==null?[]:[e,r]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,o=!0){if(o&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let r=Array.isArray(e)?[Fr(e[0],this.startFormat),Fr(e[1],this.endFormat||this.startFormat)]:Fr(e,this.startFormat);this.flatRange?(this.setValue(r[0]),this.setEnd(r[1])):this.setValue(r)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-date"]],features:[De],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","ngClass","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(o,r){if(o&1&&(m(0,"sf-item-wrap",0),_(1,gw,1,15,"nz-year-picker",1)(2,Cw,1,15,"nz-month-picker",1)(3,yw,1,14,"nz-week-picker",2)(4,zw,1,21,"nz-range-picker",3)(5,vw,1,19,"nz-date-picker",4),f()),o&2){let a;u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),x((a=r.mode)==="year"?1:a==="month"?2:a==="week"?3:a==="range"?4:5)}},dependencies:[dt,Ge,We,Bi,ts,xf,Sf,bf,oi],encapsulation:2});let t=i;return t})(),Df=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.formatter=e=>e,this.parser=e=>e,this.width=""}ngOnInit(){let{minimum:e,exclusiveMinimum:o,maximum:r,exclusiveMaximum:a,multipleOf:s,type:l}=this.schema;this.step=s||1,typeof e<"u"&&(this.min=o?e+this.step:e),typeof r<"u"&&(this.max=a?r-this.step:r),l==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let p=this.ui;p.prefix!=null&&(p.formatter=h=>h==null?"":`${p.prefix} ${h}`,p.parser=h=>h.replace(`${p.prefix} `,"")),p.unit!=null&&(p.formatter=h=>h==null?"":`${h} ${p.unit}`,p.parser=h=>h.replace(` ${p.unit}`,"")),p.formatter&&(this.formatter=p.formatter),p.parser&&(this.parser=p.parser),this.width=typeof p.widgetWidth=="number"?`${p.widgetWidth}px`:p.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change&&this.ui.change(this.value)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-number"]],features:[De],decls:2,vars:22,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder","ngClass"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0)(1,"nz-input-number",1),w("ngModelChange",function(s){return r._setValue(s)}),f()()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),le("width",r.width),u("nzId",r.id)("ngModel",r.value)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzMin",r.min)("nzMax",r.max)("nzStep",r.step)("nzFormatter",r.formatter)("nzParser",r.parser)("nzPrecision",r.ui.precision)("nzPlaceHolder",r.ui.placeholder||"")("ngClass",Fe(20,xw,r.ui.hideStep)))},dependencies:[dt,Ge,We,na,oi],encapsulation:2});let t=i;return t})(),ST=(()=>{let i=class i extends CT{constructor(){super(...arguments),this.type="default",this.list=[],this.showExpand=!0,this.expand=!0}ngOnInit(){let{formProperty:e,ui:o}=this,{grid:r,showTitle:a,type:s}=o;this.showExpand=ni(o.showExpand,!0),this.expand=ni(o.expand,!0),this.type=s??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof as)&&a===!0)&&(this.title=this.schema.title),this.grid=r;let l=[];for(let p of e.propertiesId){let h=e.properties[p],g={property:h,grid:h.ui.grid||r||{},spanLabelFixed:h.ui.spanLabelFixed,show:h.ui.hidden===!1};l.push(g)}this.list=l}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-object"]],features:[De],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","nzBorderless"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],["nz-icon","",1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["s","","nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(o,r){o&1&&_(0,Iw,3,2,"ng-template",null,0,oe)(2,Rw,4,13,"nz-card",2)(3,Hw,1,1,null,3),o&2&&(d(2),x(r.type==="card"?2:3))},dependencies:[ae,bt,$s,Un,Qn,Pe,Ht,cs,Hf],encapsulation:2});let t=i;return t})(),wT=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.data=[]}reset(e){this.styleType=(this.ui.styleType||"default")==="default",Qc(this.schema,this.ui,e).subscribe(o=>{this.data=o,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-radio"]],features:[De],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0)(1,"nz-radio-group",1),w("ngModelChange",function(s){return r._setValue(s)}),_(2,jw,2,0)(3,Ww,2,0),f()()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),u("nzSize",r.ui.size)("nzName",r.id)("ngModel",r.value)("nzButtonStyle",r.ui.buttonStyle||"outline"),d(),x(r.styleType?2:3))},dependencies:[Ge,We,Wi,Tf,oi],encapsulation:2});let t=i;return t})(),TT=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.search$=new X,this.data=[],this.hasGroup=!1,this.loading=!1}checkGroup(e){this.hasGroup=(e||[]).filter(o=>o.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:o,autoFocus:r,dropdownMatchSelectWidth:a,serverSearch:s,maxMultipleCount:l,mode:p,showSearch:h,tokenSeparators:g,maxTagCount:v,compareWith:C,optionHeightPx:b,optionOverflowSize:S,showArrow:$}=this.ui;this.i={autoClearSearchValue:ni(e,!0),borderless:ni(o,!1),autoFocus:ni(r,!1),dropdownMatchSelectWidth:ni(a,!0),serverSearch:ni(s,!1),maxMultipleCount:l||1/0,mode:p||"default",showSearch:ni(h,!0),tokenSeparators:g||[],maxTagCount:v||1/0,optionHeightPx:b||32,optionOverflowSize:S||8,showArrow:ni($,!0),compareWith:C||((W,se)=>W===se)};let P=this.ui.onSearch;P&&this.search$.pipe(N(this.sfItemComp.destroy$),ri(),Pn(this.ui.searchDebounceTime||300),_t(W=>P(W)),vr(()=>[])).subscribe(W=>{this.data=W,this.checkGroup(W),this.loading=!1,this.detectChanges()})}reset(e){let o=this.ui.onSearch;Qc(this.schema,this.ui,e).subscribe(r=>{this._value=e,o==null&&(this.data=r),this.checkGroup(r),this.detectChanges()}),e&&o!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??void 0)}getOrgData(e){let o=this.injector.get(kf);return Array.isArray(e)?e.map(r=>o.findTree(this.data,a=>a.value===r)):o.findTree(this.data,r=>r.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-select"]],features:[De],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nz-icon","","nzType","loading"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0)(1,"nz-select",1),je("ngModelChange",function(s){return Le(r._value,s)||(r._value=s),s}),w("ngModelChange",function(s){return r.change(s)})("nzOpenChange",function(s){return r.openChange(s)})("nzOnSearch",function(s){return r.onSearch(s)})("nzScrollToBottom",function(){return r.scrollToBottom()}),_(2,Qw,2,0)(3,Kw,2,0)(4,Gw,3,1,"nz-option",2),f()()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),u("nzId",r.id)("nzDisabled",r.disabled),Be("ngModel",r._value),u("nzSize",r.ui.size)("nzPlaceHolder",r.ui.placeholder)("nzNotFoundContent",r.ui.notFoundContent)("nzDropdownClassName",r.ui.dropdownClassName)("nzAllowClear",r.ui.allowClear)("nzDropdownStyle",r.ui.dropdownStyle)("nzCustomTemplate",r.ui.customTemplate)("nzSuffixIcon",r.ui.suffixIcon)("nzRemoveIcon",r.ui.removeIcon)("nzClearIcon",r.ui.clearIcon)("nzMenuItemSelectedIcon",r.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",r.ui.maxTagPlaceholder)("nzDropdownRender",r.ui.dropdownRender)("nzAutoClearSearchValue",r.i.autoClearSearchValue)("nzBorderless",r.i.borderless)("nzAutoFocus",r.i.autoFocus)("nzDropdownMatchSelectWidth",r.i.dropdownMatchSelectWidth)("nzServerSearch",r.i.serverSearch)("nzMaxMultipleCount",r.i.maxMultipleCount)("nzMode",r.i.mode)("nzShowSearch",r.i.showSearch)("nzShowArrow",r.i.showArrow)("nzTokenSeparators",r.i.tokenSeparators)("nzMaxTagCount",r.i.maxTagCount)("compareWith",r.i.compareWith)("nzOptionHeightPx",r.i.optionHeightPx)("nzOptionOverflowSize",r.i.optionOverflowSize),d(),x(!r.loading&&!r.hasGroup?2:-1),d(),x(!r.loading&&r.hasGroup?3:-1),d(),x(r.loading?4:-1))},dependencies:[Ge,We,bt,Pe,ea,ta,Jp,oi],encapsulation:2});let t=i;return t})(),Pf=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.change$=null}ngOnInit(){let{addOnAfter:e,addOnAfterIcon:o,addOnBefore:r,addOnBeforeIcon:a,prefix:s,prefixIcon:l,suffix:p,suffixIcon:h,autofocus:g}=this.ui;this.type=e||r||o||a||s||l||p||h?"addon":"",g===!0&&setTimeout(()=>{this.injector.get(ee).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,o=this.ui.change;if(e==null||e<=0||o==null)return;this.change$=new rt(this.value);let r=this.change$.asObservable().pipe(Pn(e),N(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(r=r.pipe(_t(this.ui.changeMap))),r.subscribe(a=>o(a))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-string"]],features:[De],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",1),_(1,Zw,1,11,"ng-template",null,0,oe)(3,Jw,2,9,"nz-input-group",2)(4,tT,1,1,null,3),f()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(3),x(r.type==="addon"?3:4))},dependencies:[ae,Fi,Ge,We,bt,$o,iu,tu,oi],encapsulation:2});let t=i;return t})(),kT=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.text=""}ngOnInit(){this.ui._required=!1,this.ui.html=ni(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-text"]],features:[De],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0),_(1,iT,1,1,"span",1)(2,nT,1,1,"span",2),f()),o&2&&(F("sf__text-html",r.ui.html),u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(),x(r.ui.html?1:2))},dependencies:[oi],encapsulation:2});let t=i;return t})(),DT=(()=>{let i=class i extends Ii{constructor(){super(...arguments),this.autosize=!0}ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}};i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["sf-textarea"]],features:[De],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",1),_(1,oT,2,9,"ng-template",null,0,oe)(3,rT,3,11,"nz-textarea-count",2)(4,sT,1,1,null,3),f()),o&2&&(u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title),d(3),x(r.ui.maxCharacterCount?3:4))},dependencies:[ae,Fi,Ge,We,ou,$o,nu,oi],encapsulation:2});let t=i;return t})(),ss=class extends Tn{constructor(){super(),this.register("object",ST),this.register("array",yT),this.register("text",kT),this.register("string",Pf),this.register("number",Df),this.register("integer",Df),this.register("date",bT),this.register("radio",wT),this.register("checkbox",vT),this.register("boolean",zT),this.register("textarea",DT),this.register("select",TT),this.register("custom",xT),this.setDefault(Pf)}},PT=[Rt,Gn,At,sn,Kn,Yn,He,Gi,Zi,jn,Mi,Ki,Zn,Lt];var gr=(()=>{let i=class i{static forRoot(){return{ngModule:i,providers:[{provide:ls,useClass:Rf,deps:[pt,Re]},{provide:Tn,useClass:ss}]}}};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,ot,Op,PT]});let t=i;return t})();function B$(t){let i=[{provide:ls,useClass:Rf,deps:[pt,Re]},{provide:Tn,useClass:ss}];return t?.widgets&&i.push({provide:Mn,multi:!0,useValue:()=>{let n=O(Tn);t?.widgets?.forEach(e=>n.register(e.KEY,e.type))}}),On(i)}var OT=["fixedEl"],IT=["*"],Uc=function(t){return t.resize="resize",t.scroll="scroll",t.touchstart="touchstart",t.touchmove="touchmove",t.touchend="touchend",t.pageshow="pageshow",t.load="LOAD",t}(Uc||{});function ET(t){return typeof window<"u"&&t===window}function jf(t){return ET(t)?{top:0,left:0,bottom:0}:t.getBoundingClientRect()}var NT="affix",Co="ant-affix",$T=20,Yc=(()=>{let i=class i{get target(){let e=this.nzTarget;return(typeof e=="string"?this.document.querySelector(e):e)||window}constructor(e,o,r,a,s,l,p,h,g){this.nzConfigService=o,this.scrollSrv=r,this.ngZone=a,this.platform=s,this.renderer=l,this.nzResizeObserver=p,this.cdr=h,this.directionality=g,this._nzModuleName=NT,this.nzChange=new R,this.dir="ltr",this.positionChangeSubscription=wd.EMPTY,this.offsetChanged$=new Ze(1),this.destroy$=new X,this.document=O(zi),this.placeholderNode=e.nativeElement}ngOnInit(){this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzOffsetBottom:o,nzOffsetTop:r,nzTarget:a}=e;(o||r)&&this.offsetChanged$.next(),a&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}ngOnDestroy(){this.removeListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();let e=this.target===window?this.document.body:this.target;this.positionChangeSubscription=this.ngZone.runOutsideAngular(()=>Ct(...Object.keys(Uc).map(o=>lt(this.target,o)),this.offsetChanged$.pipe(_e(()=>({}))),this.nzResizeObserver.observe(e)).pipe(Id($T,void 0,{trailing:!0}),N(this.destroy$)).subscribe(o=>this.updatePosition(o))),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}getOffset(e,o){let r=e.getBoundingClientRect(),a=jf(o),s=this.scrollSrv.getScroll(o,!0),l=this.scrollSrv.getScroll(o,!1),p=this.document.body,h=p.clientTop||0,g=p.clientLeft||0;return{top:r.top-a.top+s-h,left:r.left-a.left+l-g,width:r.width,height:r.height}}setAffixStyle(e,o){let r=this.affixStyle,a=this.target===window;if(e.type==="scroll"&&r&&o&&a||ws(r,o))return;let s=!!o,l=this.fixedEl.nativeElement;this.renderer.setStyle(l,"cssText",Ps(o)),this.affixStyle=o,s?l.classList.add(Co):l.classList.remove(Co),this.updateRtlClass(),(o&&!r||!o&&r)&&this.nzChange.emit(s)}setPlaceholderStyle(e){let o=this.placeholderStyle;ws(e,o)||(this.renderer.setStyle(this.placeholderNode,"cssText",Ps(e)),this.placeholderStyle=e)}syncPlaceholderStyle(e){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;let o={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(e,T(T({},this.affixStyle),o)),this.setPlaceholderStyle(o)}updatePosition(e){if(!this.platform.isBrowser)return;let o=this.target,r=this.nzOffsetTop,a=this.scrollSrv.getScroll(o,!0),s=this.getOffset(this.placeholderNode,o),l=this.fixedEl.nativeElement,p={width:l.offsetWidth,height:l.offsetHeight},h={top:!1,bottom:!1};typeof r!="number"&&typeof this.nzOffsetBottom!="number"?(h.top=!0,r=0):(h.top=typeof r=="number",h.bottom=typeof this.nzOffsetBottom=="number");let g=jf(o),v=o.innerHeight||o.clientHeight;if(a>=s.top-r&&h.top){let C=s.width,b=g.top+r;this.setAffixStyle(e,{position:"fixed",top:b,left:g.left+s.left,width:C}),this.setPlaceholderStyle({width:C,height:p.height})}else if(a<=s.top+p.height+this.nzOffsetBottom-v&&h.bottom){let C=o===window?0:window.innerHeight-g.bottom,b=s.width;this.setAffixStyle(e,{position:"fixed",bottom:C+this.nzOffsetBottom,left:g.left+s.left,width:b}),this.setPlaceholderStyle({width:b,height:s.height})}else e.type===Uc.resize&&this.affixStyle&&this.affixStyle.position==="fixed"&&this.placeholderNode.offsetWidth?this.setAffixStyle(e,ce(T({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(e),this.setPlaceholderStyle();e.type==="resize"&&this.syncPlaceholderStyle(e)}updateRtlClass(){let e=this.fixedEl.nativeElement;this.dir==="rtl"?e.classList.contains(Co)?e.classList.add(`${Co}-rtl`):e.classList.remove(`${Co}-rtl`):e.classList.remove(`${Co}-rtl`)}};i.\u0275fac=function(o){return new(o||i)(k(ee),k(Vt),k(mp),k(Re),k(Ft),k(Ee),k(_n),k(xe),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-affix"]],viewQuery:function(o,r){if(o&1&&te(OT,7),o&2){let a;K(a=G())&&(r.fixedEl=a.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",Ts],nzOffsetBottom:[2,"nzOffsetBottom","nzOffsetBottom",Ts]},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],standalone:!0,features:[ne,J,j],ngContentSelectors:IT,decls:3,vars:0,consts:[["fixedEl",""]],template:function(o,r){o&1&&(Se(),m(0,"div",null,0),ve(2),f())},dependencies:[Qd,Bd],encapsulation:2,changeDetection:0});let t=i;return de([ye()],t.prototype,"nzOffsetTop",void 0),de([ye()],t.prototype,"nzOffsetBottom",void 0),t})(),Bf=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Yc]});let t=i;return t})();var Gc=["*"];function FT(t,i){}function VT(t,i){if(t&1&&(m(0,"span",1),_(1,FT,0,0,"ng-template",2),D(2,"span",3),f()),t&2){let n=c(),e=L(4);u("nzDropdownMenu",n.nzOverlay),d(),u("ngTemplateOutlet",e)}}function RT(t,i){}function AT(t,i){if(t&1&&_(0,RT,0,0,"ng-template",2),t&2){c();let n=L(4);u("ngTemplateOutlet",n)}}function HT(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),q(" ",n.nzBreadCrumbComponent.nzSeparator," ")}}function LT(t,i){if(t&1&&(m(0,"nz-breadcrumb-separator"),_(1,HT,2,1,"ng-container",4),f()),t&2){let n=c();d(),u("nzStringTemplateOutlet",n.nzBreadCrumbComponent.nzSeparator)}}function jT(t,i){t&1&&(m(0,"span",5),ve(1),f())}var BT=(t,i)=>i.url;function WT(t,i){if(t&1){let n=I();m(0,"nz-breadcrumb-item")(1,"a",0),w("click",function(o){let r=y(n).$implicit,a=c(2);return z(a.navigate(r.url,o))}),E(2),f()()}if(t&2){let n=i.$implicit;d(),Z("href",n.url,En),d(),ie(n.label)}}function qT(t,i){if(t&1&&Q(0,WT,3,2,"nz-breadcrumb-item",null,BT),t&2){let n=c();U(n.breadcrumbs)}}var QT=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],standalone:!0,features:[j],ngContentSelectors:Gc,decls:1,vars:0,template:function(o,r){o&1&&(Se(),ve(0))},encapsulation:2});let t=i;return t})(),ps=class{},us=(()=>{let i=class i{constructor(e){this.nzBreadCrumbComponent=e}};i.\u0275fac=function(o){return new(o||i)(k(ps))},i.\u0275cmp=V({type:i,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],standalone:!0,features:[j],ngContentSelectors:Gc,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(o,r){o&1&&(Se(),_(0,VT,3,2,"span",1)(1,AT,1,1,null,2)(2,LT,2,1,"nz-breadcrumb-separator")(3,jT,2,0,"ng-template",null,0,oe)),o&2&&(x(r.nzOverlay?0:1),d(2),x(r.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[ae,QT,Xt,hi,He,Pe,St,gt],encapsulation:2,changeDetection:0});let t=i;return t})(),Zc=(()=>{let i=class i{constructor(e,o,r,a,s){this.injector=e,this.cdr=o,this.elementRef=r,this.renderer=a,this.directionality=s,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=l=>l,this.nzRouteFn=l=>l,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new X}ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(N(this.destroy$)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(e,o){o.preventDefault(),this.injector.get($i).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get($i),o=this.injector.get(Hd);e.events.pipe(Ye(r=>r instanceof Pr),N(this.destroy$),ai(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(o.root),this.cdr.markForCheck()})}catch{throw new Error(`${Ud} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,o="",r=[]){let a=e.children;if(a.length===0)return r;for(let s of a)if(s.outlet===Ad){let l=s.snapshot.url.map(v=>v.path).filter(v=>v).join("/"),p=l?`${o}/${l}`:o,h=this.nzRouteLabelFn(s.snapshot.data[this.nzRouteLabel]),g=this.nzRouteFn(p);if(l&&h){let v={label:h,params:s.snapshot.params,url:g};r.push(v)}return this.getBreadcrumbs(s,p,r)}return r}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}};i.\u0275fac=function(o){return new(o||i)(k(Ei),k(xe),k(ee),k(Ee),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:[2,"nzAutoGenerate","nzAutoGenerate",M],nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn",nzRouteFn:"nzRouteFn"},exportAs:["nzBreadcrumb"],standalone:!0,features:[Ke([{provide:ps,useExisting:i}]),ne,j],ngContentSelectors:Gc,decls:2,vars:1,consts:[[3,"click"]],template:function(o,r){o&1&&(Se(),ve(0),_(1,qT,2,0)),o&2&&(d(),x(r.nzAutoGenerate&&r.breadcrumbs.length?1:-1))},dependencies:[us],encapsulation:2,changeDetection:0});let t=i;return t})(),yo=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Zc,us]});let t=i;return t})();var KT=["conTpl"],GT=["affix"],ZT=["*"],XT=()=>({rows:3}),JT=()=>({size:"large",shape:"circle"});function e2(t,i){}function t2(t,i){if(t&1&&(m(0,"nz-affix",3,1),_(2,e2,0,0,"ng-template",4),f()),t&2){let n=c(),e=L(3);u("nzOffsetTop",n.fixedOffsetTop),d(2),u("ngTemplateOutlet",e)}}function i2(t,i){}function n2(t,i){if(t&1&&_(0,i2,0,0,"ng-template",4),t&2){c();let n=L(3);u("ngTemplateOutlet",n)}}function o2(t,i){}function r2(t,i){if(t&1&&_(0,o2,0,0,"ng-template",4),t&2){let n=c(2);u("ngTemplateOutlet",n.breadcrumb)}}function a2(t,i){if(t&1&&(m(0,"a",15),E(1),f()),t&2){let n=c().$implicit;u("routerLink",n.link),d(),ie(n.title)}}function s2(t,i){if(t&1&&E(0),t&2){let n=c().$implicit;q(" ",n.title," ")}}function l2(t,i){if(t&1&&(m(0,"nz-breadcrumb-item"),_(1,a2,2,2,"a",15)(2,s2,1,1),f()),t&2){let n=i.$implicit;d(),x(n.link?1:2)}}function c2(t,i){if(t&1&&(m(0,"nz-breadcrumb"),Q(1,l2,3,1,"nz-breadcrumb-item",null,et),f()),t&2){let n=c(3);d(),U(n.paths)}}function d2(t,i){if(t&1&&_(0,c2,3,0,"nz-breadcrumb"),t&2){let n=c(2);x(n.paths&&n.paths.length>0?0:-1)}}function p2(t,i){}function u2(t,i){if(t&1&&(m(0,"div",8),_(1,p2,0,0,"ng-template",4),f()),t&2){let n=c(2);d(),u("ngTemplateOutlet",n.logo)}}function h2(t,i){}function m2(t,i){if(t&1&&_(0,h2,0,0,"ng-template",4),t&2){let n=c(3);u("ngTemplateOutlet",n._titleTpl)}}function f2(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(5);d(),ie(n.titleSub)}}function _2(t,i){if(t&1&&(m(0,"small"),_(1,f2,2,1,"ng-container",16),f()),t&2){let n=c(4);d(),u("nzStringTemplateOutlet",n.titleSub)}}function g2(t,i){if(t&1&&(E(0),_(1,_2,2,1,"small")),t&2){let n=c(3);q(" ",n._titleVal," "),d(),x(n.titleSub?1:-1)}}function C2(t,i){if(t&1&&(m(0,"h1",11),_(1,m2,1,1,null,4)(2,g2,2,2),f()),t&2){let n=c(2);d(),x(n._titleTpl?1:2)}}function y2(t,i){}function z2(t,i){if(t&1&&(m(0,"div",12),_(1,y2,0,0,"ng-template",4),f()),t&2){let n=c(2);d(),u("ngTemplateOutlet",n.action)}}function v2(t,i){}function x2(t,i){}function b2(t,i){if(t&1&&(m(0,"div",14),_(1,x2,0,0,"ng-template",4),f()),t&2){let n=c(2);d(),u("ngTemplateOutlet",n.extra)}}function S2(t,i){}function w2(t,i){if(t&1){let n=I();m(0,"div",5)(1,"div")(2,"nz-skeleton",6),_(3,r2,1,1,null,4)(4,d2,1,1),m(5,"div",7),_(6,u2,2,1,"div",8),m(7,"div",9)(8,"div",10),_(9,C2,3,1,"h1",11)(10,z2,2,1,"div",12),f(),m(11,"div",10)(12,"div",13,2),w("cdkObserveContent",function(){y(n);let o=c();return z(o.checkContent())}),ve(14),_(15,v2,0,0,"ng-template",4),f(),_(16,b2,2,1,"div",14),f()()(),_(17,S2,0,0,"ng-template",4),f()()()}if(t&2){let n=c();F("page-header-rtl",n.dir==="rtl"),d(),F("page-header__wide",n.wide),d(),u("nzLoading",n.loading)("nzTitle",!1)("nzActive",!0)("nzParagraph",Nt(16,XT))("nzAvatar",Nt(17,JT)),d(),x(n.breadcrumb?3:4),d(3),x(n.logo?6:-1),d(3),x(n._titleVal||n._titleTpl?9:-1),d(),x(n.action?10:-1),d(5),u("ngTemplateOutlet",n.content),d(),x(n.extra?16:-1),d(),u("ngTemplateOutlet",n.tab)}}var T2=(()=>{let i=class i{get menus(){return this.menuSrv.getPathByUrl(this.router.url,this.recursiveBreadcrumb)}set title(e){e instanceof si?(this._title=null,this._titleTpl=e,this._titleVal=""):(this._title=e,this._titleVal=this._title)}constructor(e,o,r){this.renderer=O(Ee),this.router=O($i),this.cdr=O(xe),this.menuSrv=O(Sp),this.i18nSrv=O(un),this.titleSrv=O(Tp),this.reuseSrv=O(du,{optional:!0}),this.directionality=O(at),this.destroy$=O(In),this.inited=!1,this.isBrowser=!0,this.dir="ltr",this._titleVal="",this.paths=[],this._title=null,this._titleTpl=null,this.loading=!1,this.wide=!1,this.breadcrumb=null,this.logo=null,this.action=null,this.content=null,this.extra=null,this.tab=null,this.isBrowser=r.isBrowser,o.attach(this,"pageHeader",{home:"\u9996\u9875",homeLink:"/",autoBreadcrumb:!0,recursiveBreadcrumb:!1,autoTitle:!0,syncTitle:!0,fixed:!1,fixedOffsetTop:64}),e.notify.pipe(Pt(),Ye(s=>this.affix&&s.type==="layout"&&s.name==="collapsed")).subscribe(()=>this.affix.updatePosition({}));let a=[this.router.events.pipe(Ye(s=>s instanceof Pr))];this.menuSrv!=null&&a.push(this.menuSrv.change),a.push(this.i18nSrv.change),Ct(...a).pipe(Pt(),Ye(()=>this.inited)).subscribe(()=>this.refresh())}refresh(){this.setTitle().genBreadcrumb(),this.cdr.detectChanges()}genBreadcrumb(){if(this.breadcrumb||!this.autoBreadcrumb||this.menus.length<=0){this.paths=[];return}let e=[];this.menus.forEach(o=>{if(typeof o.hideInBreadcrumb<"u"&&o.hideInBreadcrumb)return;let r=o.text;o.i18n&&(r=this.i18nSrv.fanyi(o.i18n)),e.push({title:r,link:o.link&&[o.link]})}),this.home&&e.splice(0,0,{title:this.homeI18n&&this.i18nSrv.fanyi(this.homeI18n)||this.home,link:[this.homeLink]}),this.paths=e}setTitle(){if(this._title==null&&this._titleTpl==null&&this.autoTitle&&this.menus.length>0){let e=this.menus[this.menus.length-1],o=e.text;e.i18n&&(o=this.i18nSrv.fanyi(e.i18n)),this._titleVal=o}return this._titleVal&&this.syncTitle&&(this.titleSrv.setTitle(this._titleVal),!this.inited&&this.reuseSrv&&(this.reuseSrv.title=this._titleVal)),this}checkContent(){Wn(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(Pt(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.refresh(),this.inited=!0}ngAfterViewInit(){this.checkContent()}ngOnChanges(){this.inited&&this.refresh()}};i.\u0275fac=function(o){return new(o||i)(k(wp),k(pt),k(Ft))},i.\u0275cmp=V({type:i,selectors:[["page-header"]],viewQuery:function(o,r){if(o&1&&(te(KT,5),te(GT,5)),o&2){let a;K(a=G())&&(r.conTpl=a.first),K(a=G())&&(r.affix=a.first)}},inputs:{title:"title",titleSub:"titleSub",loading:[2,"loading","loading",M],wide:[2,"wide","wide",M],home:"home",homeLink:"homeLink",homeI18n:"homeI18n",autoBreadcrumb:[2,"autoBreadcrumb","autoBreadcrumb",M],autoTitle:[2,"autoTitle","autoTitle",M],syncTitle:[2,"syncTitle","syncTitle",M],fixed:[2,"fixed","fixed",M],fixedOffsetTop:[2,"fixedOffsetTop","fixedOffsetTop",ge],breadcrumb:"breadcrumb",recursiveBreadcrumb:[2,"recursiveBreadcrumb","recursiveBreadcrumb",M],logo:"logo",action:"action",content:"content",extra:"extra",tab:"tab"},exportAs:["pageHeader"],standalone:!0,features:[ne,J,j],ngContentSelectors:ZT,decls:4,vars:1,consts:[["phTpl",""],["affix",""],["conTpl",""],[3,"nzOffsetTop"],[3,"ngTemplateOutlet"],[1,"page-header"],[1,"d-block",3,"nzLoading","nzTitle","nzActive","nzParagraph","nzAvatar"],[1,"page-header__detail"],[1,"page-header__logo"],[1,"page-header__main"],[1,"page-header__row"],[1,"page-header__title"],[1,"page-header__action"],[1,"page-header__desc",3,"cdkObserveContent"],[1,"page-header__extra"],[3,"routerLink"],[4,"nzStringTemplateOutlet"]],template:function(o,r){o&1&&(Se(),_(0,t2,3,2,"nz-affix",3)(1,n2,1,1,null,4)(2,w2,18,18,"ng-template",null,0,oe)),o&2&&x(r.isBrowser&&r.fixed?0:1)},dependencies:[Yc,ae,su,Zc,us,Mr,gt,Rn],encapsulation:2,changeDetection:0});let t=i;return t})(),k2=[T2],hs=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,To,Er,Bf,lu,yo,St,k2]});let t=i;return t})();var Jc=["*"];function P2(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),ie(n.title)}}function M2(t,i){if(t&1&&(m(0,"div",0),_(1,P2,2,1,"ng-container",1),f()),t&2){let n=c();d(),u("nzStringTemplateOutlet",n.title)}}var O2=["contentElement"],I2=(t,i)=>({"ant-form-item-required":t,"se__no-colon":i});function E2(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),ie(n.label)}}function N2(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(3);d(),ie(n.optional)}}function $2(t,i){if(t&1&&D(0,"i",11),t&2){let n=c(3);u("nzTooltipTitle",n.optionalHelp)("nzTooltipColor",n.optionalHelpColor)}}function F2(t,i){if(t&1&&(m(0,"span",10),_(1,N2,2,1,"ng-container",8)(2,$2,1,2,"i",11),f()),t&2){let n=c(2);F("se__label-optional-no-text",!n.optional),d(),u("nzStringTemplateOutlet",n.optional),d(),x(n.optionalHelp?2:-1)}}function V2(t,i){if(t&1&&(m(0,"label",2)(1,"span",7),_(2,E2,2,1,"ng-container",8),f(),_(3,F2,3,4,"span",9),f()),t&2){let n=c();u("ngClass",Gt(4,I2,n.required,n._noColon)),Z("for",n._id),d(2),u("nzStringTemplateOutlet",n.label),d(),x(n.optional||n.optionalHelp?3:-1)}}function R2(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),ie(n._error)}}function A2(t,i){if(t&1&&(m(0,"div",5)(1,"div",12),_(2,R2,2,1,"ng-container",8),f()()),t&2){let n=c();u("@helpMotion",void 0),d(2),u("nzStringTemplateOutlet",n._error)}}function H2(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),ie(n.extra)}}function L2(t,i){if(t&1&&(m(0,"div",6),_(1,H2,2,1,"ng-container",8),f()),t&2){let n=c();d(),u("nzStringTemplateOutlet",n.extra)}}var j2=(()=>{let i=class i{constructor(){if(this.parentComp=O(Wf,{host:!0,optional:!0}),this.el=O(ee).nativeElement,this.ren=O(Ee),this.parentComp==null)throw new Error("[se-title] must include 'se-container' component")}setClass(){let{el:e}=this,o=this.parentComp.gutter;this.ren.setStyle(e,"padding-left",`${o/2}px`),this.ren.setStyle(e,"padding-right",`${o/2}px`)}ngOnInit(){this.setClass()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["se-title"],["","se-title",""]],hostVars:2,hostBindings:function(o,r){o&2&&F("se__title",!0)},exportAs:["seTitle"],standalone:!0,features:[j],ngContentSelectors:Jc,decls:1,vars:0,template:function(o,r){o&1&&(Se(),ve(0))},encapsulation:2,changeDetection:0});let t=i;return t})(),Wf=(()=>{let i=class i{get gutter(){return this.nzLayout==="horizontal"?this._gutter:0}set gutter(e){this._gutter=e}get nzLayout(){return this._nzLayout}set nzLayout(e){this._nzLayout=e,e==="inline"&&(this.size="compact")}set errors(e){this.setErrors(e)}get margin(){return-(this.gutter/2)}get errorNotify(){return this.errorNotify$.pipe(Ye(e=>e!=null))}constructor(e){this.errorNotify$=new rt(null),this.noColon=!1,this.line=!1,e.attach(this,"se",{size:"default",nzLayout:"horizontal",gutter:32,col:2,labelWidth:150,firstVisual:!1,ingoreDirty:!1})}setErrors(e){for(let o of e)this.errorNotify$.next(o)}};i.\u0275fac=function(o){return new(o||i)(k(pt))},i.\u0275cmp=V({type:i,selectors:[["se-container"],["","se-container",""]],hostVars:16,hostBindings:function(o,r){o&2&&(le("margin-left",r.margin,"px")("margin-right",r.margin,"px"),F("ant-row",!0)("se__container",!0)("se__horizontal",r.nzLayout==="horizontal")("se__vertical",r.nzLayout==="vertical")("se__inline",r.nzLayout==="inline")("se__compact",r.size==="compact"))},inputs:{colInCon:[2,"se-container","colInCon",e=>e==null?null:ge(e)],col:[2,"col","col",e=>e==null?null:ge(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:ge(e)],noColon:[2,"noColon","noColon",M],title:"title",gutter:[2,"gutter","gutter",ge],nzLayout:"nzLayout",size:"size",firstVisual:[2,"firstVisual","firstVisual",M],ingoreDirty:[2,"ingoreDirty","ingoreDirty",M],line:[2,"line","line",M],errors:"errors"},exportAs:["seContainer"],standalone:!0,features:[ne,j],ngContentSelectors:Jc,decls:2,vars:1,consts:[["se-title",""],[4,"nzStringTemplateOutlet"]],template:function(o,r){o&1&&(Se(),_(0,M2,2,1,"div",0),ve(1)),o&2&&x(r.title?0:-1)},dependencies:[j2,gt],encapsulation:2,changeDetection:0});let t=i;return t})(),Xc="se",B2=0,cV=(()=>{let i=class i{set error(e){this.errorData=typeof e=="string"||e instanceof si?{"":e}:e}set id(e){this._id=e,this._autoId=!1}get paddingValue(){return this.parentComp.gutter/2}get showErr(){return this.invalid&&!!this._error&&!this.compact}get compact(){return this.parentComp.size==="compact"}get ngControl(){return this.ngModel||this.formControlName}constructor(){if(this.parentComp=O(Wf,{host:!0,optional:!0}),this.el=O(ee).nativeElement,this.rep=O(Br),this.ren=O(Ee),this.cdr=O(xe),this.statusSrv=O(Yt),this.destroy$=O(In),this.clsMap=[],this.inited=!1,this.onceFlag=!1,this.errorData={},this.isBindModel=!1,this.invalid=!1,this._labelWidth=null,this._noColon=null,this.optional=null,this.optionalHelp=null,this.required=!1,this.controlClass="",this.hideLabel=!1,this._id=`_se-${++B2}`,this._autoId=!0,this.parentComp==null)throw new Error("[se] must include 'se-container' component");this.parentComp.errorNotify.pipe(Pt(),Ye(e=>this.inited&&this.ngControl!=null&&this.ngControl.name===e.name)).subscribe(e=>{this.error=e.error,this.updateStatus(this.ngControl.invalid)})}setClass(){let{el:e,ren:o,clsMap:r,col:a,cdr:s,line:l,labelWidth:p,rep:h,noColon:g}=this,v=this.parentComp;this._noColon=g??v.noColon,this._labelWidth=v.nzLayout==="horizontal"?p??v.labelWidth:null,r.forEach(S=>o.removeClass(e,S)),r.length=0;let C=v.colInCon||v.col,b=v.nzLayout==="horizontal"?h.genCls(a??C,C):[];return r.push("ant-form-item",...b,`${Xc}__item`),(l||v.line)&&r.push(`${Xc}__line`),r.forEach(S=>o.addClass(e,S)),s.detectChanges(),this}bindModel(){if(!(!this.ngControl||this.isBindModel)){if(this.isBindModel=!0,this.ngControl.statusChanges.pipe(Pt(this.destroy$)).subscribe(e=>this.updateStatus(e==="INVALID")),this._autoId){let e=this.ngControl.valueAccessor,o=(e?.elementRef||e?._elementRef)?.nativeElement;o&&(o.id?this._id=o.id:o.id=this._id)}if(this.required!==!0){let e=this.ngControl?.control?.hasValidator(Np.required);e!==!0&&(e=(this.ngControl?._rawValidators).find(r=>r instanceof Ap)!=null),this.required=e,this.cdr.detectChanges()}}}updateStatus(e){if(this.ngControl?.disabled||this.ngControl?.isDisabled)return;this.invalid=!this.onceFlag&&e&&this.parentComp.ingoreDirty===!1&&!this.ngControl?.dirty?!1:e;let o=this.ngControl?.errors;if(o!=null&&Object.keys(o).length>0){let r=Object.keys(o)[0]||"",a=this.errorData[r];this._error=a??(this.errorData[""]||"")}this.statusSrv.formStatusChanges.next({status:this.invalid?"error":"",hasFeedback:!1}),this.cdr.detectChanges()}checkContent(){let e=this.contentElement.nativeElement,o=`${Xc}__item-empty`;Wn(e)?this.ren.addClass(e,o):this.ren.removeClass(e,o)}ngAfterContentInit(){this.checkContent()}ngOnChanges(){this.onceFlag=this.parentComp.firstVisual,this.inited&&this.setClass().bindModel()}ngAfterViewInit(){this.setClass().bindModel(),this.inited=!0,this.onceFlag&&Promise.resolve().then(()=>{this.updateStatus(this.ngControl?.invalid),this.onceFlag=!1})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["se"]],contentQueries:function(o,r,a){if(o&1&&(Ni(a,We,7),Ni(a,Rp,7)),o&2){let s;K(s=G())&&(r.ngModel=s.first),K(s=G())&&(r.formControlName=s.first)}},viewQuery:function(o,r){if(o&1&&te(O2,7),o&2){let a;K(a=G())&&(r.contentElement=a.first)}},hostVars:10,hostBindings:function(o,r){o&2&&(le("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px"),F("se__hide-label",r.hideLabel)("ant-form-item-has-error",r.invalid)("ant-form-item-with-help",r.showErr))},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",error:"error",extra:"extra",label:"label",col:[2,"col","col",e=>e==null?null:ge(e)],required:[2,"required","required",M],controlClass:"controlClass",line:[2,"line","line",e=>e==null?null:M(e)],labelWidth:[2,"labelWidth","labelWidth",e=>e==null?null:ge(e)],noColon:[2,"noColon","noColon",e=>e==null?null:M(e)],hideLabel:[2,"hideLabel","hideLabel",M],id:"id"},exportAs:["se"],standalone:!0,features:[Ke([Yt]),ne,J,j],ngContentSelectors:Jc,decls:9,vars:10,consts:[["contentElement",""],[1,"ant-form-item-label"],[1,"se__label",3,"ngClass"],[1,"ant-form-item-control","se__control"],[1,"ant-form-item-control-input-content",3,"cdkObserveContent"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],[1,"se__label-text"],[4,"nzStringTemplateOutlet"],[1,"se__label-optional",3,"se__label-optional-no-text"],[1,"se__label-optional"],["nz-tooltip","","nz-icon","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["role","alert",1,"ant-form-item-explain-error"]],template:function(o,r){if(o&1){let a=I();Se(),m(0,"div",1),_(1,V2,4,7,"label",2),f(),m(2,"div",3)(3,"div")(4,"div",4,0),w("cdkObserveContent",function(){return y(a),z(r.checkContent())}),ve(6),f()(),_(7,A2,3,2,"div",5)(8,L2,2,1,"div",6),f()}o&2&&(le("width",r._labelWidth,"px"),F("se__nolabel",r.hideLabel||!r.label),d(),x(r.label?1:-1),d(2),A("ant-form-item-control-input ",r.controlClass,""),d(4),x(r.showErr?7:-1),d(),x(r.extra&&!r.compact?8:-1))},dependencies:[dt,gt,Ht,Pe,Rn],encapsulation:2,data:{animation:[Ar]},changeDetection:0});let t=i;return t})();var ms=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,Lt,He,St]});let t=i;return t})();function qf(t){if(!t)return!1;for(var i=0,n=t.length;i<n;){if(t[i]<=127){i++;continue}if(t[i]>=194&&t[i]<=223)if(t[i+1]>>6===2){i+=2;continue}else return!1;if((t[i]===224&&t[i+1]>=160&&t[i+1]<=191||t[i]===237&&t[i+1]>=128&&t[i+1]<=159)&&t[i+2]>>6===2){i+=3;continue}if((t[i]>=225&&t[i]<=236||t[i]>=238&&t[i]<=239)&&t[i+1]>>6===2&&t[i+2]>>6===2){i+=3;continue}if((t[i]===240&&t[i+1]>=144&&t[i+1]<=191||t[i]>=241&&t[i]<=243&&t[i+1]>>6===2||t[i]===244&&t[i+1]>=128&&t[i+1]<=143)&&t[i+2]>>6===2&&t[i+3]>>6===2){i+=4;continue}return!1}return!0}var Qf=(()=>{let i=class i{constructor(e){this.http=O(Rd),this.lazy=O(jd),this.ngZone=O(Re),this.cog=e.merge("xlsx",{url:"https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js",modules:["https://cdn.jsdelivr.net/npm/xlsx/dist/cpexcel.js"]})}init(){return typeof XLSX<"u"?Promise.resolve([]):this.lazy.load([this.cog.url].concat(this.cog.modules))}read(e){let{read:o,utils:{sheet_to_json:r}}=XLSX,a={},s=new Uint8Array(e),l="array";if(!qf(s))try{e=cptable.utils.decode(936,s),l="string"}catch{}let p=o(e,{type:l});return p.SheetNames.forEach(h=>{let g=p.Sheets[h];a[h]=r(g,{header:1})}),a}import(e){return new Promise((o,r)=>{let a=s=>this.ngZone.run(()=>o(this.read(s)));this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:l=>a(new Uint8Array(l)),error:l=>r(l)});return}let s=new FileReader;s.onload=l=>a(l.target.result),s.onerror=l=>r(l),s.readAsArrayBuffer(e)}).catch(()=>r("Unable to load xlsx.js"))})}export(e){return yi(this,null,function*(){return new Promise((o,r)=>{this.init().then(()=>{e=T({format:"xlsx"},e);let{writeFile:a,utils:{book_new:s,aoa_to_sheet:l,book_append_sheet:p}}=XLSX,h=s();Array.isArray(e.sheets)?e.sheets.forEach((v,C)=>{let b=l(v.data);p(h,b,v.name||`Sheet${C+1}`)}):(h.SheetNames=Object.keys(e.sheets),h.Sheets=e.sheets),e.callback&&e.callback(h);let g=e.filename||`export.${e.format}`;a(h,g,T({bookType:e.format,bookSST:!1,type:"array"},e.opts)),o({filename:g,wb:h})}).catch(a=>r(a))})})}numberToSchema(e){let r="";do--e,r=String.fromCharCode(65+e%26)+r,e=e/26>>0;while(e>0);return r}};i.\u0275fac=function(o){return new(o||i)(it(pt))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return de([Ns()],t.prototype,"read",null),de([Ns()],t.prototype,"export",null),t})();var ed=class{constructor(i){this.dir=i}get $implicit(){return this.dir.let}get let(){return this.dir.let}},Uf=(()=>{let i=class i{constructor(e,o){e.createEmbeddedView(o,new ed(this))}static ngTemplateContextGuard(e,o){return!0}};i.\u0275fac=function(o){return new(o||i)(k(qi),k(si))},i.\u0275dir=be({type:i,selectors:[["","let",""]],inputs:{let:"let"},standalone:!0});let t=i;return t})();var Yf=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({});let t=i;return t})();var ln=["*"],U2=(t,i)=>i.value;function Y2(t,i){}function K2(t,i){if(t&1){let n=I();m(0,"label",14),w("ngModelChange",function(){y(n);let o=c().$implicit,r=c(2);return z(r.check(o))}),f()}if(t&2){let n=c().$implicit;u("ngModel",n.checked)}}function G2(t,i){if(t&1){let n=I();m(0,"label",15),w("ngModelChange",function(){y(n);let o=c().$implicit,r=c(2);return z(r.check(o))}),f()}if(t&2){let n=c().$implicit;u("ngModel",n.checked)}}function Z2(t,i){if(t&1){let n=I();m(0,"li",11),w("click",function(){let o=y(n).$implicit,r=c(2);return z(r.check(o))}),_(1,K2,1,1,"label",12)(2,G2,1,1,"label",13),m(3,"span"),E(4),f()()}if(t&2){let n=i.$implicit,e=c(2);u("nzSelected",n.checked),d(),x(e.filterMultiple?2:1),d(3),ie(n.text)}}function X2(t,i){if(t&1){let n=I();m(0,"nz-filter-trigger",3),w("nzVisibleChange",function(o){y(n);let r=c();return z(r.onVisibleChange(o))}),D(1,"span",4),f(),m(2,"nz-dropdown-menu",null,0)(4,"div",5)(5,"ul",6),Q(6,Z2,5,3,"li",7,U2),f(),m(8,"div",8)(9,"button",9),w("click",function(){y(n);let o=c();return z(o.reset())}),E(10),f(),m(11,"button",10),w("click",function(){y(n);let o=c();return z(o.confirm())}),E(12),f()()()()}if(t&2){let n=L(3),e=c();u("nzVisible",e.isVisible)("nzActive",e.isChecked)("nzDropdownMenu",n),d(6),U(e.listOfParsedFilter),d(3),u("disabled",!e.isChecked),d(),q(" ",e.locale.filterReset," "),d(2),ie(e.locale.filterConfirm)}}function J2(t,i){if(t&1&&Te(0,2),t&2){let n=c();u("ngTemplateOutlet",n.extraTemplate)}}function ek(t,i){if(t&1){let n=I();m(0,"label",3),w("ngModelChange",function(o){y(n);let r=c();return z(r.onCheckedChange(o))}),f()}if(t&2){let n=c();F("ant-table-selection-select-all-custom",n.showRowSelection),u("ngModel",n.checked)("nzDisabled",n.disabled)("nzIndeterminate",n.indeterminate),Z("aria-label",n.label)}}function tk(t,i){if(t&1){let n=I();m(0,"li",8),w("click",function(){let o=y(n).$implicit;return z(o.onSelect())}),E(1),f()}if(t&2){let n=i.$implicit;d(),q(" ",n.text," ")}}function ik(t,i){if(t&1&&(m(0,"div",2)(1,"span",4),D(2,"span",5),f(),m(3,"nz-dropdown-menu",null,0)(5,"ul",6),Q(6,tk,2,1,"li",7,ct),f()()()),t&2){let n=L(4),e=c();d(),u("nzDropdownMenu",n),d(5),U(e.listOfSelections)}}function nk(t,i){}function ok(t,i){if(t&1&&D(0,"span",6),t&2){let n=c();F("active",n.sortOrder==="ascend")}}function rk(t,i){if(t&1&&D(0,"span",7),t&2){let n=c();F("active",n.sortOrder==="descend")}}var ak=["nzChecked",""];function sk(t,i){}function lk(t,i){if(t&1&&_(0,sk,0,0,"ng-template",2),t&2){let n=c(2);u("ngTemplateOutlet",n.nzExpandIcon)}}function ck(t,i){if(t&1){let n=I();m(0,"button",4),w("expandChange",function(o){y(n);let r=c(2);return z(r.onExpandChange(o))}),f()}if(t&2){let n=c(2);u("expand",n.nzExpand)("spaceMode",!n.nzShowExpand)}}function dk(t,i){if(t&1&&(D(0,"nz-row-indent",1),_(1,lk,1,1,null,2)(2,ck,1,2,"button",3)),t&2){let n=c();u("indentSize",n.nzIndentSize),d(),x(n.nzExpandIcon?1:2)}}function pk(t,i){if(t&1){let n=I();m(0,"label",5),w("ngModelChange",function(o){y(n);let r=c();return z(r.onCheckedChange(o))}),f()}if(t&2){let n=c();u("nzDisabled",n.nzDisabled)("ngModel",n.nzChecked)("nzIndeterminate",n.nzIndeterminate),Z("aria-label",n.nzLabel)}}var uk=["nzColumnKey",""],hk=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],mk=["[nz-th-extra]","nz-filter-trigger","*"];function fk(t,i){if(t&1){let n=I();m(0,"nz-table-filter",6),w("filterChange",function(o){y(n);let r=c();return z(r.onFilterValueChange(o))}),f()}if(t&2){let n=c(),e=L(3),o=L(5);u("contentTemplate",e)("extraTemplate",o)("customFilter",n.nzCustomFilter)("filterMultiple",n.nzFilterMultiple)("listOfFilter",n.nzFilters)}}function _k(t,i){if(t&1&&Te(0,5),t&2){c();let n=L(3);u("ngTemplateOutlet",n)}}function gk(t,i){}function Ck(t,i){if(t&1&&_(0,gk,0,0,"ng-template",5),t&2){let n=c(),e=L(7),o=L(9);u("ngTemplateOutlet",n.nzShowSort?e:o)}}function yk(t,i){t&1&&(ve(0),ve(1,1))}function zk(t,i){if(t&1&&D(0,"nz-table-sorters",7),t&2){let n=c(),e=L(9);u("sortOrder",n.sortOrder)("sortDirections",n.sortDirections)("contentTemplate",e)}}function vk(t,i){t&1&&ve(0,2)}var xk=["nzSelections",""],bk=["nz-table-content",""];function Sk(t,i){if(t&1&&D(0,"col"),t&2){let n=i.$implicit;le("width",n)("min-width",n)}}function wk(t,i){}function Tk(t,i){if(t&1&&(m(0,"thead",1),_(1,wk,0,0,"ng-template",2),f()),t&2){let n=c();d(),u("ngTemplateOutlet",n.theadTemplate)}}function kk(t,i){}function Dk(t,i){}function Pk(t,i){if(t&1&&(m(0,"tfoot",3),_(1,Dk,0,0,"ng-template",2),f()),t&2){let n=c();d(),u("ngTemplateOutlet",n.tfootTemplate)}}var Gf=["tdElement"],Mk=["nz-table-fixed-row",""];function Ok(t,i){}function Ik(t,i){if(t&1&&(m(0,"div",5),yt(1,"async"),_(2,Ok,0,0,"ng-template",4),f()),t&2){let n=c(),e=L(6);le("width",$t(1,3,n.hostWidth$),"px"),d(2),u("ngTemplateOutlet",e)}}function Ek(t,i){}function Nk(t,i){if(t&1&&_(0,Ek,0,0,"ng-template",4),t&2){c();let n=L(6);u("ngTemplateOutlet",n)}}function $k(t,i){t&1&&ve(0)}var Fk=["nz-table-measure-row",""];function Vk(t,i){t&1&&D(0,"td",1,0)}function Rk(t,i){if(t&1){let n=I();m(0,"tr",2),w("listOfAutoWidth",function(o){y(n);let r=c(2);return z(r.onListOfAutoWidthChange(o))}),f()}if(t&2){let n=c();u("listOfMeasureColumn",n)}}function Ak(t,i){if(t&1&&_(0,Rk,1,1,"tr",1),t&2){let n=c();x(n.isInsideTable&&i.length?0:-1)}}function Hk(t,i){if(t&1&&(m(0,"tr",0),D(1,"nz-embed-empty",3),yt(2,"async"),f()),t&2){let n=c();d(),u("specificContent",$t(2,1,n.noResult$))}}var Lk=["tableHeaderElement"],jk=["tableBodyElement"],Bk=["tableFootElement"],Wk=(t,i)=>({$implicit:t,index:i});function qk(t,i){if(t&1&&(m(0,"div",6,1),D(2,"table",9),f()),t&2){let n=c(2);u("ngStyle",n.bodyStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("contentTemplate",n.contentTemplate)}}function Qk(t,i){}function Uk(t,i){if(t&1&&(Ne(0),_(1,Qk,0,0,"ng-template",13),$e()),t&2){let n=i.$implicit,e=i.index,o=c(3);d(),u("ngTemplateOutlet",o.virtualTemplate)("ngTemplateOutletContext",Gt(2,Wk,n,e))}}function Yk(t,i){if(t&1&&(m(0,"cdk-virtual-scroll-viewport",10,1)(2,"table",11)(3,"tbody"),_(4,Uk,2,5,"ng-container",12),f()()()),t&2){let n=c(2);le("height",n.data.length?n.scrollY:n.noDataVirtualHeight),u("itemSize",n.virtualItemSize)("maxBufferPx",n.virtualMaxBufferPx)("minBufferPx",n.virtualMinBufferPx),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth),d(2),u("cdkVirtualForOf",n.data)("cdkVirtualForTrackBy",n.virtualForTrackBy)}}function Kk(t,i){if(t&1&&(m(0,"div",8,2),D(2,"table",14),f()),t&2){let n=c(2);u("ngStyle",n.headerStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("tfootTemplate",n.tfootTemplate)}}function Gk(t,i){if(t&1&&(m(0,"div",4,0),D(2,"table",5),f(),_(3,qk,3,4,"div",6)(4,Yk,5,9,"cdk-virtual-scroll-viewport",7)(5,Kk,3,4,"div",8)),t&2){let n=c();u("ngStyle",n.headerStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("theadTemplate",n.theadTemplate)("tfootTemplate",n.tfootFixed==="top"?n.tfootTemplate:null),d(),x(n.virtualTemplate?4:3),d(2),x(n.tfootFixed==="bottom"?5:-1)}}function Zk(t,i){if(t&1&&(m(0,"div",3,1),D(2,"table",15),f()),t&2){let n=c();u("ngStyle",n.bodyStyleMap),d(2),u("scrollX",n.scrollX)("listOfColWidth",n.listOfColWidth)("theadTemplate",n.theadTemplate)("contentTemplate",n.contentTemplate)("tfootTemplate",n.tfootTemplate)}}function Xk(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c();d(),ie(n.title)}}function Jk(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c();d(),ie(n.footer)}}function eD(t,i){}function tD(t,i){if(t&1&&_(0,eD,0,0,"ng-template",4),t&2){c();let n=L(10);u("ngTemplateOutlet",n)}}function iD(t,i){if(t&1&&D(0,"nz-table-title-footer",6),t&2){let n=c();u("title",n.nzTitle)}}function nD(t,i){if(t&1&&D(0,"nz-table-inner-scroll",7),t&2){let n=c(),e=L(3),o=L(12);u("data",n.data)("scrollX",n.scrollX)("scrollY",n.scrollY)("contentTemplate",o)("listOfColWidth",n.listOfAutoColWidth)("theadTemplate",n.theadTemplate)("tfootTemplate",n.tfootTemplate)("tfootFixed",n.tfootFixed)("verticalScrollBarWidth",n.verticalScrollBarWidth)("virtualTemplate",n.nzVirtualScrollDirective?n.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",n.nzVirtualItemSize)("virtualMaxBufferPx",n.nzVirtualMaxBufferPx)("virtualMinBufferPx",n.nzVirtualMinBufferPx)("tableMainElement",e)("virtualForTrackBy",n.nzVirtualForTrackBy)("noDataVirtualHeight",n.noDataVirtualHeight)}}function oD(t,i){if(t&1&&D(0,"nz-table-inner-default",8),t&2){let n=c(),e=L(12);u("tableLayout",n.nzTableLayout)("listOfColWidth",n.listOfManualColWidth)("theadTemplate",n.theadTemplate)("contentTemplate",e)("tfootTemplate",n.tfootTemplate)}}function rD(t,i){if(t&1&&D(0,"nz-table-title-footer",9),t&2){let n=c();u("footer",n.nzFooter)}}function aD(t,i){}function sD(t,i){if(t&1&&_(0,aD,0,0,"ng-template",4),t&2){c();let n=L(10);u("ngTemplateOutlet",n)}}function lD(t,i){if(t&1){let n=I();m(0,"nz-pagination",11),w("nzPageSizeChange",function(o){y(n);let r=c(2);return z(r.onPageSizeChange(o))})("nzPageIndexChange",function(o){y(n);let r=c(2);return z(r.onPageIndexChange(o))}),f()}if(t&2){let n=c(2);u("hidden",!n.showPagination)("nzShowSizeChanger",n.nzShowSizeChanger)("nzPageSizeOptions",n.nzPageSizeOptions)("nzItemRender",n.nzItemRender)("nzShowQuickJumper",n.nzShowQuickJumper)("nzHideOnSinglePage",n.nzHideOnSinglePage)("nzShowTotal",n.nzShowTotal)("nzSize",n.nzPaginationType==="small"?"small":n.nzSize==="default"?"default":"small")("nzPageSize",n.nzPageSize)("nzTotal",n.nzTotal)("nzSimple",n.nzSimple)("nzPageIndex",n.nzPageIndex)}}function cD(t,i){if(t&1&&_(0,lD,1,12,"nz-pagination",10),t&2){let n=c();x(n.nzShowPagination&&n.data.length?0:-1)}}function dD(t,i){t&1&&ve(0)}var pD=["contentTemplate"];function uD(t,i){t&1&&ve(0)}function hD(t,i){}function mD(t,i){if(t&1&&_(0,hD,0,0,"ng-template",1),t&2){c();let n=L(1);u("ngTemplateOutlet",n)}}var fD="filterTrigger",Zf=(()=>{let i=class i{onVisibleChange(e){this.nzVisible=e,this.nzVisibleChange.next(e)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}constructor(e,o,r,a){this.nzConfigService=e,this.ngZone=o,this.cdr=r,this.destroy$=a,this._nzModuleName=fD,this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=!1,this.nzVisibleChange=new R}ngOnInit(){this.ngZone.runOutsideAngular(()=>{lt(this.nzDropdown.nativeElement,"click").pipe(N(this.destroy$)).subscribe(e=>{e.stopPropagation()})})}};i.\u0275fac=function(o){return new(o||i)(k(Vt),k(Re),k(xe),k(mt))},i.\u0275cmp=V({type:i,selectors:[["nz-filter-trigger"]],viewQuery:function(o,r){if(o&1&&te(hi,7,ee),o&2){let a;K(a=G())&&(r.nzDropdown=a.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:[2,"nzBackdrop","nzBackdrop",M]},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],standalone:!0,features:[Ke([mt]),ne,j],ngContentSelectors:ln,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzVisibleChange","nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible"]],template:function(o,r){o&1&&(Se(),m(0,"span",0),w("nzVisibleChange",function(s){return r.onVisibleChange(s)}),ve(1),f()),o&2&&(F("active",r.nzActive)("ant-table-filter-open",r.nzVisible),u("nzBackdrop",r.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",r.nzDropdownMenu)("nzVisible",r.nzVisible))},dependencies:[Xt,hi],encapsulation:2,changeDetection:0});let t=i;return de([ye()],t.prototype,"nzBackdrop",void 0),t})(),Xf=(()=>{let i=class i{check(e){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(o=>o===e?ce(T({},o),{checked:!e.checked}):o),e.checked=!e.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(o=>ce(T({},o),{checked:o===e})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(e){this.isVisible=e,e?this.listOfChecked=this.listOfParsedFilter.filter(o=>o.checked).map(o=>o.value):this.emitFilterData()}emitFilterData(){let e=this.listOfParsedFilter.filter(o=>o.checked).map(o=>o.value);Kd(this.listOfChecked,e)||(this.filterMultiple?this.filterChange.emit(e):this.filterChange.emit(e.length>0?e[0]:null))}parseListOfFilter(e,o){return e.map(r=>{let a=o?!1:!!r.byDefault;return{text:r.text,value:r.value,checked:a}})}getCheckedStatus(e){return e.some(o=>o.checked)}constructor(e,o){this.cdr=e,this.i18n=o,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new R,this.destroy$=new X,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}ngOnInit(){this.i18n.localeChange.pipe(N(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(e){let{listOfFilter:o}=e;o&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)(k(xe),k(ui))},i.\u0275cmp=V({type:i,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},standalone:!0,features:[J,j],decls:4,vars:2,consts:[["filterMenu","nzDropdownMenu"],[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[3,"nzVisibleChange","nzVisible","nzActive","nzDropdownMenu"],["nz-icon","","nzType","filter","nzTheme","fill"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"click","disabled"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"click","nzSelected"],["nz-radio","",3,"ngModel"],["nz-checkbox","",3,"ngModel"],["nz-radio","",3,"ngModelChange","ngModel"],["nz-checkbox","",3,"ngModelChange","ngModel"]],template:function(o,r){o&1&&(m(0,"span",1),_(1,Y2,0,0,"ng-template",2),f(),_(2,X2,13,6)(3,J2,1,1,"ng-container",2)),o&2&&(d(),u("ngTemplateOutlet",r.contentTemplate),d(),x(r.customFilter?3:2))},dependencies:[ae,Zf,He,Pe,Xt,mn,hn,fn,Wi,At,Zt,ot,Ge,We,Rt,pi,bt,di],encapsulation:2,changeDetection:0});let t=i;return t})(),_D=(()=>{let i=class i{constructor(){this.expand=!1,this.spaceMode=!1,this.expandChange=new R}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["button","nz-row-expand-button",""]],hostAttrs:[1,"ant-table-row-expand-icon"],hostVars:7,hostBindings:function(o,r){o&1&&w("click",function(){return r.onHostClick()}),o&2&&(xs("type","button"),F("ant-table-row-expand-icon-expanded",!r.spaceMode&&r.expand===!0)("ant-table-row-expand-icon-collapsed",!r.spaceMode&&r.expand===!1)("ant-table-row-expand-icon-spaced",r.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"},standalone:!0});let t=i;return t})(),gD=(()=>{let i=class i{constructor(){this.indentSize=0}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["nz-row-indent"]],hostAttrs:[1,"ant-table-row-indent"],hostVars:2,hostBindings:function(o,r){o&2&&le("padding-left",r.indentSize,"px")},inputs:{indentSize:"indentSize"},standalone:!0});let t=i;return t})(),Jf=(()=>{let i=class i{constructor(){this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.label=null,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new R}onCheckedChange(e){this.checked=e,this.checkedChange.emit(e)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["nz-table-selection"]],hostAttrs:[1,"ant-table-selection"],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",label:"label",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[j],decls:2,vars:2,consts:[["selectionMenu","nzDropdownMenu"],["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate"],[1,"ant-table-selection-extra"],["nz-checkbox","",3,"ngModelChange","ngModel","nzDisabled","nzIndeterminate"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item",""],["nz-menu-item","",3,"click"]],template:function(o,r){o&1&&_(0,ek,1,6,"label",1)(1,ik,8,1,"div",2),o&2&&(x(r.showCheckbox?0:-1),d(),x(r.showRowSelection?1:-1))},dependencies:[ot,Ge,We,At,Zt,Xt,mn,hn,hi,fn,He,Pe],encapsulation:2,changeDetection:0});let t=i;return t})(),e0=(()=>{let i=class i{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(e){let{sortDirections:o}=e;o&&(this.isUp=this.sortDirections.indexOf("ascend")!==-1,this.isDown=this.sortDirections.indexOf("descend")!==-1)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},standalone:!0,features:[J,j],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up",3,"active"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down",3,"active"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(o,r){o&1&&(m(0,"span",0),_(1,nk,0,0,"ng-template",1),f(),m(2,"span",2)(3,"span",3),_(4,ok,1,2,"span",4)(5,rk,1,2,"span",5),f()()),o&2&&(d(),u("ngTemplateOutlet",r.contentTemplate),d(),F("ant-table-column-sorter-full",r.isDown&&r.isUp),d(2),x(r.isUp?4:-1),d(),x(r.isDown?5:-1))},dependencies:[He,Pe,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),nd=(()=>{let i=class i{setAutoLeftWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"left",e)}setAutoRightWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"right",e)}setIsFirstRight(e){this.setFixClass(e,"ant-table-cell-fix-right-first")}setIsLastLeft(e){this.setFixClass(e,"ant-table-cell-fix-left-last")}setFixClass(e,o){this.renderer.removeClass(this.elementRef.nativeElement,o),e&&this.renderer.addClass(this.elementRef.nativeElement,o)}constructor(e,o){this.renderer=e,this.elementRef=o,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new X,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=this.nzLeft===""||this.nzLeft===!0,this.isAutoRight=this.nzRight===""||this.nzRight===!0,this.isFixedLeft=this.nzLeft!==!1,this.isFixedRight=this.nzRight!==!1,this.isFixed=this.isFixedLeft||this.isFixedRight;let e=o=>typeof o=="string"&&o!==""?o:null;this.setAutoLeftWidth(e(this.nzLeft)),this.setAutoRightWidth(e(this.nzRight)),this.changes$.next()}};i.\u0275fac=function(o){return new(o||i)(k(Ee),k(ee))},i.\u0275dir=be({type:i,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(o,r){o&2&&(le("position",r.isFixed?"sticky":null),F("ant-table-cell-fix-right",r.isFixedRight)("ant-table-cell-fix-left",r.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},standalone:!0,features:[J]});let t=i;return t})(),kn=(()=>{let i=class i{constructor(){this.theadTemplate$=new Ze(1),this.tfootTemplate$=new Ze(1),this.tfootFixed$=new Ze(1),this.hasFixLeft$=new Ze(1),this.hasFixRight$=new Ze(1),this.hostWidth$=new Ze(1),this.columnCount$=new Ze(1),this.showEmpty$=new Ze(1),this.noResult$=new Ze(1),this.listOfThWidthConfigPx$=new rt([]),this.tableWidthConfigPx$=new rt([]),this.manualWidthConfigPx$=Et([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe(_e(([e,o])=>e.length?e:o)),this.listOfAutoWidthPx$=new Ze(1),this.listOfListOfThWidthPx$=Ct(this.manualWidthConfigPx$,Et([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe(_e(([e,o])=>e.length===o.length?e.map((r,a)=>r==="0px"?o[a]||null:o[a]||r):o))),this.listOfMeasureColumn$=new Ze(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe(_e(e=>e.map(o=>parseInt(o,10)))),this.enableAutoMeasure$=new Ze(1)}setTheadTemplate(e){this.theadTemplate$.next(e)}setTfootTemplate(e){this.tfootTemplate$.next(e)}setTfootFixed(e){this.tfootFixed$.next(e)}setHasFixLeft(e){this.hasFixLeft$.next(e)}setHasFixRight(e){this.hasFixRight$.next(e)}setTableWidthConfig(e){this.tableWidthConfigPx$.next(e)}setListOfTh(e){let o=0;e.forEach(a=>{o+=a.colspan&&+a.colspan||a.colSpan&&+a.colSpan||1});let r=e.map(a=>a.nzWidth);this.columnCount$.next(o),this.listOfThWidthConfigPx$.next(r)}setListOfMeasureColumn(e){let o=[];e.forEach(r=>{let a=r.colspan&&+r.colspan||r.colSpan&&+r.colSpan||1;for(let s=0;s<a;s++)o.push(`measure_key_${s}`)}),this.listOfMeasureColumn$.next(o)}setListOfAutoWidth(e){this.listOfAutoWidthPx$.next(e.map(o=>`${o}px`))}setShowEmpty(e){this.showEmpty$.next(e)}setNoResult(e){this.noResult$.next(e)}setScroll(e,o){let r=!!(e||o);r||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(r)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),t0=(()=>{let i=class i{constructor(){this.isInsideTable=!!O(kn,{optional:!0})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(o,r){o&2&&F("ant-table-cell",r.isInsideTable)},standalone:!0});let t=i;return t})(),td=(()=>{let i=class i{updatePageSize(e){this.pageSize$.next(e)}updateFrontPagination(e){this.frontPagination$.next(e)}updatePageIndex(e){this.pageIndex$.next(e)}updateListOfData(e){this.listOfData$.next(e)}updateListOfCustomColumn(e){this.listOfCustomColumn$.next(e)}constructor(){this.destroy$=new X,this.pageIndex$=new rt(1),this.frontPagination$=new rt(!0),this.pageSize$=new rt(10),this.listOfData$=new rt([]),this.listOfCustomColumn$=new rt([]),this.pageIndexDistinct$=this.pageIndex$.pipe(ri()),this.pageSizeDistinct$=this.pageSize$.pipe(ri()),this.listOfCalcOperator$=new rt([]),this.queryParams$=Et([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe(Pn(0),Od(1),_e(([e,o,r])=>({pageIndex:e,pageSize:o,sort:r.filter(a=>a.sortFn).map(a=>({key:a.key,value:a.sortOrder})),filter:r.filter(a=>a.filterFn).map(a=>({key:a.key,value:a.filterValue}))}))),this.listOfDataAfterCalc$=Et([this.listOfData$,this.listOfCalcOperator$]).pipe(_e(([e,o])=>{let r=[...e],a=o.filter(l=>{let{filterValue:p,filterFn:h}=l;return!(p==null||Array.isArray(p)&&p.length===0)&&typeof h=="function"});for(let l of a){let{filterFn:p,filterValue:h}=l;r=r.filter(g=>p(h,g))}let s=o.filter(l=>l.sortOrder!==null&&typeof l.sortFn=="function").sort((l,p)=>+p.sortPriority-+l.sortPriority);return o.length&&r.sort((l,p)=>{for(let h of s){let{sortFn:g,sortOrder:v}=h;if(g&&v){let C=g(l,p,v);if(C!==0)return v==="ascend"?C:-C}}return 0}),r})),this.listOfFrontEndCurrentPageData$=Et([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe(N(this.destroy$),Ye(e=>{let[o,r,a]=e,s=Math.ceil(a.length/r)||1;return o<=s}),_e(([e,o,r])=>r.slice((e-1)*o,e*o))),this.listOfCurrentPageData$=this.frontPagination$.pipe(_t(e=>e?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe(_t(e=>e?this.listOfDataAfterCalc$:this.listOfData$),_e(e=>e.length),ri())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})();var od=(()=>{let i=class i{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzExpandIcon=null,this.nzCheckedChange=new R,this.nzExpandChange=new R,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(e){this.nzChecked=e,this.nzCheckedChange.emit(e)}onExpandChange(e){this.nzExpand=e,this.nzExpandChange.emit(e)}ngOnChanges(e){let o=p=>p&&p.firstChange&&p.currentValue!==void 0,{nzExpand:r,nzChecked:a,nzShowExpand:s,nzShowCheckbox:l}=e;s&&(this.isNzShowExpandChanged=!0),l&&(this.isNzShowCheckboxChanged=!0),o(r)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),o(a)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(o,r){o&2&&F("ant-table-cell-with-append",r.nzShowExpand||r.nzIndentSize>0)("ant-table-selection-column",r.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzIndentSize:"nzIndentSize",nzShowExpand:[2,"nzShowExpand","nzShowExpand",M],nzShowCheckbox:[2,"nzShowCheckbox","nzShowCheckbox",M],nzExpand:[2,"nzExpand","nzExpand",M],nzExpandIcon:"nzExpandIcon"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},standalone:!0,features:[ne,J,j],attrs:ak,ngContentSelectors:ln,decls:3,vars:2,consts:[["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate"],[3,"indentSize"],[3,"ngTemplateOutlet"],["nz-row-expand-button","",3,"expand","spaceMode"],["nz-row-expand-button","",3,"expandChange","expand","spaceMode"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel","nzIndeterminate"]],template:function(o,r){o&1&&(Se(),_(0,dk,3,2)(1,pk,1,4,"label",0),ve(2)),o&2&&(x(r.nzShowExpand||r.nzIndentSize>0?0:-1),d(),x(r.nzShowCheckbox?1:-1))},dependencies:[gD,_D,ae,At,Zt,ot,Ge,We],encapsulation:2,changeDetection:0});let t=i;return t})(),fs=(()=>{let i=class i{getNextSortDirection(e,o){let r=e.indexOf(o);return r===e.length-1?e[0]:e[r+1]}setSortOrder(e){this.sortOrderChange$.next(e)}clearSortOrder(){this.sortOrder!==null&&this.setSortOrder(null)}onFilterValueChange(e){this.nzFilterChange.emit(e),this.nzFilterValue=e,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}constructor(e,o,r,a){this.host=e,this.cdr=o,this.ngZone=r,this.destroy$=a,this.manualClickOrder$=new X,this.calcOperatorChange$=new X,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new X,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new R,this.nzSortOrderChange=new R,this.nzFilterChange=new R}ngOnInit(){this.ngZone.runOutsideAngular(()=>lt(this.host.nativeElement,"click").pipe(Ye(()=>this.nzShowSort),N(this.destroy$)).subscribe(()=>{let e=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(e),this.manualClickOrder$.next(this)})})),this.sortOrderChange$.pipe(N(this.destroy$)).subscribe(e=>{this.sortOrder!==e&&(this.sortOrder=e,this.nzSortOrderChange.emit(e)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(e){let{nzSortDirections:o,nzFilters:r,nzSortOrder:a,nzSortFn:s,nzFilterFn:l,nzSortPriority:p,nzFilterMultiple:h,nzShowSort:g,nzShowFilter:v}=e;o&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),a&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),g&&(this.isNzShowSortChanged=!0),v&&(this.isNzShowFilterChanged=!0);let C=b=>b&&b.firstChange&&b.currentValue!==void 0;if((C(a)||C(s))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),C(r)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(r||h)&&this.nzShowFilter){let b=this.nzFilters.filter(S=>S.byDefault).map(S=>S.value);this.nzFilterValue=this.nzFilterMultiple?b:b[0]||null}(s||l||p||r)&&this.updateCalcOperator()}};i.\u0275fac=function(o){return new(o||i)(k(ee),k(xe),k(Re),k(mt))},i.\u0275cmp=V({type:i,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(o,r){o&2&&F("ant-table-column-has-sorters",r.nzShowSort)("ant-table-column-sort",r.sortOrder==="descend"||r.sortOrder==="ascend")},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:[2,"nzShowSort","nzShowSort",M],nzShowFilter:[2,"nzShowFilter","nzShowFilter",M],nzCustomFilter:[2,"nzCustomFilter","nzCustomFilter",M]},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},standalone:!0,features:[Ke([mt]),ne,J,j],attrs:uk,ngContentSelectors:mk,decls:10,vars:1,consts:[["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"ngTemplateOutlet"],[3,"filterChange","contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(o,r){o&1&&(Se(hk),_(0,fk,1,5,"nz-table-filter",4)(1,_k,1,1,"ng-container",5)(2,Ck,1,1,"ng-template",null,0,oe)(4,yk,2,0,"ng-template",null,1,oe)(6,zk,1,3,"ng-template",null,2,oe)(8,vk,1,0,"ng-template",null,3,oe)),o&2&&x(r.nzShowFilter||r.nzCustomFilter?0:1)},dependencies:[Xf,ae,e0],encapsulation:2,changeDetection:0});let t=i;return t})(),rd=(()=>{let i=class i{constructor(e,o){this.renderer=e,this.elementRef=o,this.changes$=new X,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(e){let{nzWidth:o,colspan:r,rowspan:a,colSpan:s,rowSpan:l}=e;if(r||s){let p=this.colspan||this.colSpan;Vn(p)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${p}`)}if(a||l){let p=this.rowspan||this.rowSpan;Vn(p)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${p}`)}(o||r)&&this.changes$.next()}};i.\u0275fac=function(o){return new(o||i)(k(Ee),k(ee))},i.\u0275dir=be({type:i,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},standalone:!0,features:[J]});let t=i;return t})(),CD=(()=>{let i=class i{constructor(){this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new R,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(e){this.nzChecked=e,this.nzCheckedChange.emit(e)}ngOnChanges(e){let o=p=>p&&p.firstChange&&p.currentValue!==void 0,{nzChecked:r,nzSelections:a,nzShowExpand:s,nzShowCheckbox:l}=e;s&&(this.isNzShowExpandChanged=!0),l&&(this.isNzShowCheckboxChanged=!0),o(a)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),o(r)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],hostAttrs:[1,"ant-table-selection-column"],inputs:{nzSelections:"nzSelections",nzChecked:[2,"nzChecked","nzChecked",M],nzDisabled:[2,"nzDisabled","nzDisabled",M],nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzShowCheckbox:[2,"nzShowCheckbox","nzShowCheckbox",M],nzShowRowSelection:[2,"nzShowRowSelection","nzShowRowSelection",M]},outputs:{nzCheckedChange:"nzCheckedChange"},standalone:!0,features:[ne,J,j],attrs:xk,ngContentSelectors:ln,decls:2,vars:7,consts:[[3,"checkedChange","checked","disabled","indeterminate","label","listOfSelections","showCheckbox","showRowSelection"]],template:function(o,r){o&1&&(Se(),m(0,"nz-table-selection",0),w("checkedChange",function(s){return r.onCheckedChange(s)}),f(),ve(1)),o&2&&u("checked",r.nzChecked)("disabled",r.nzDisabled)("indeterminate",r.nzIndeterminate)("label",r.nzLabel)("listOfSelections",r.nzSelections)("showCheckbox",r.nzShowCheckbox)("showRowSelection",r.nzShowRowSelection)},dependencies:[Jf],encapsulation:2,changeDetection:0});let t=i;return t})();var i0=(()=>{let i=class i{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.tfootTemplate=null,this.listOfColWidth=[],this.scrollX=null}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(o,r){o&2&&(le("table-layout",r.tableLayout)("width",r.scrollX)("min-width",r.scrollX?"100%":null),F("ant-table-fixed",r.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",tfootTemplate:"tfootTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},standalone:!0,features:[j],attrs:bk,ngContentSelectors:ln,decls:6,vars:3,consts:[[3,"width","minWidth"],[1,"ant-table-thead"],[3,"ngTemplateOutlet"],[1,"ant-table-summary"]],template:function(o,r){o&1&&(Se(),Q(0,Sk,1,4,"col",0,et),_(2,Tk,2,1,"thead",1)(3,kk,0,0,"ng-template",2),ve(4),_(5,Pk,2,1,"tfoot",3)),o&2&&(U(r.listOfColWidth),d(2),x(r.theadTemplate?2:-1),d(),u("ngTemplateOutlet",r.contentTemplate),d(2),x(r.tfootTemplate?5:-1))},dependencies:[ae],encapsulation:2,changeDetection:0});let t=i;return t})(),ad=(()=>{let i=class i{constructor(e,o){this.nzTableStyleService=e,this.renderer=o,this.hostWidth$=new rt(null),this.enableAutoMeasure$=new rt(!1),this.destroy$=new X}ngOnInit(){if(this.nzTableStyleService){let{enableAutoMeasure$:e,hostWidth$:o}=this.nzTableStyleService;e.pipe(N(this.destroy$)).subscribe(this.enableAutoMeasure$),o.pipe(N(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe(N(this.destroy$)).subscribe(e=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${e}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)(k(kn),k(Ee))},i.\u0275cmp=V({type:i,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(o,r){if(o&1&&te(Gf,7),o&2){let a;K(a=G())&&(r.tdElement=a.first)}},standalone:!0,features:[j],attrs:Mk,ngContentSelectors:ln,decls:7,vars:3,consts:[["tdElement",""],["contentTemplate",""],[1,"nz-disable-td","ant-table-cell"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0","overflow","hidden",3,"width"],[3,"ngTemplateOutlet"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0","overflow","hidden"]],template:function(o,r){o&1&&(Se(),m(0,"td",2,0),_(2,Ik,3,5,"div",3),yt(3,"async"),_(4,Nk,1,1,null,4),f(),_(5,$k,1,0,"ng-template",null,1,oe)),o&2&&(d(2),x($t(3,1,r.enableAutoMeasure$)?2:4))},dependencies:[wo,ae],encapsulation:2,changeDetection:0});let t=i;return t})(),yD=(()=>{let i=class i{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null,this.tfootTemplate=null}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",tfootTemplate:"tfootTemplate"},standalone:!0,features:[j],decls:2,vars:5,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate","tfootTemplate"]],template:function(o,r){o&1&&(m(0,"div",0),D(1,"table",1),f()),o&2&&(d(),u("contentTemplate",r.contentTemplate)("tableLayout",r.tableLayout)("listOfColWidth",r.listOfColWidth)("theadTemplate",r.theadTemplate)("tfootTemplate",r.tfootTemplate))},dependencies:[i0],encapsulation:2,changeDetection:0});let t=i;return t})(),zD=(()=>{let i=class i{constructor(e,o){this.nzResizeObserver=e,this.ngZone=o,this.listOfMeasureColumn=[],this.listOfAutoWidth=new R,this.destroy$=new X}ngAfterViewInit(){this.listOfTdElement.changes.pipe(ai(this.listOfTdElement)).pipe(_t(e=>Et(e.toArray().map(o=>this.nzResizeObserver.observe(o).pipe(_e(([r])=>{let{width:a}=r.target.getBoundingClientRect();return Math.floor(a)}))))),Pn(16),N(this.destroy$)).subscribe(e=>{this.ngZone instanceof Re&&Re.isInAngularZone()?this.listOfAutoWidth.next(e):this.ngZone.run(()=>this.listOfAutoWidth.next(e))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)(k(_n),k(Re))},i.\u0275cmp=V({type:i,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(o,r){if(o&1&&te(Gf,5),o&2){let a;K(a=G())&&(r.listOfTdElement=a)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},standalone:!0,features:[j],attrs:Fk,decls:2,vars:0,consts:[["tdElement",""],[1,"nz-disable-td",2,"padding","0","border","0","height","0"]],template:function(o,r){o&1&&Q(0,Vk,2,0,"td",1,et),o&2&&U(r.listOfMeasureColumn)},encapsulation:2,changeDetection:0});let t=i;return t})(),_s=(()=>{let i=class i{constructor(){if(this.isInsideTable=!1,this.showEmpty$=new rt(!1),this.noResult$=new rt(void 0),this.listOfMeasureColumn$=new rt([]),this.destroy$=new X,this.nzTableStyleService=O(kn,{optional:!0}),this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){let{showEmpty$:e,noResult$:o,listOfMeasureColumn$:r}=this.nzTableStyleService;o.pipe(N(this.destroy$)).subscribe(this.noResult$),r.pipe(N(this.destroy$)).subscribe(this.listOfMeasureColumn$),e.pipe(N(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(e){this.nzTableStyleService?.setListOfAutoWidth(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["tbody"]],hostVars:2,hostBindings:function(o,r){o&2&&F("ant-table-tbody",r.isInsideTable)},standalone:!0,features:[j],ngContentSelectors:ln,decls:5,vars:6,consts:[["nz-table-fixed-row","",1,"ant-table-placeholder"],["nz-table-measure-row","",3,"listOfMeasureColumn"],["nz-table-measure-row","",3,"listOfAutoWidth","listOfMeasureColumn"],["nzComponentName","table",3,"specificContent"]],template:function(o,r){if(o&1&&(Se(),_(0,Ak,1,1),yt(1,"async"),ve(2),_(3,Hk,3,3,"tr",0),yt(4,"async")),o&2){let a;x((a=$t(1,2,r.listOfMeasureColumn$))?0:-1,a),d(3),x($t(4,4,r.showEmpty$)?3:-1)}},dependencies:[wo,zD,ad,Xp,Zp],encapsulation:2,changeDetection:0});let t=i;return t})(),id=(()=>{let i=class i{setScrollPositionClassName(e=!1){let{scrollWidth:o,scrollLeft:r,clientWidth:a}=this.tableBodyElement.nativeElement,s="ant-table-ping-left",l="ant-table-ping-right";o===a&&o!==0||e?(this.renderer.removeClass(this.tableMainElement,s),this.renderer.removeClass(this.tableMainElement,l)):r===0?(this.renderer.removeClass(this.tableMainElement,s),this.renderer.addClass(this.tableMainElement,l)):o===r+a?(this.renderer.removeClass(this.tableMainElement,l),this.renderer.addClass(this.tableMainElement,s)):(this.renderer.addClass(this.tableMainElement,s),this.renderer.addClass(this.tableMainElement,l))}constructor(e,o,r,a){this.renderer=e,this.ngZone=o,this.platform=r,this.resizeService=a,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.tfootTemplate=null,this.tfootFixed=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=s=>s,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDataVirtualHeight="182px",this.data$=new X,this.scroll$=new X,this.destroy$=new X}ngOnChanges(e){let{scrollX:o,scrollY:r,data:a}=e;if(o||r){let s=this.verticalScrollBarWidth!==0;this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&s?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())}a&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{let e=this.scroll$.pipe(ai(null),br(0),_t(()=>lt(this.tableBodyElement.nativeElement,"scroll").pipe(ai(!0))),N(this.destroy$)),o=this.resizeService.subscribe().pipe(N(this.destroy$)),r=this.data$.pipe(N(this.destroy$));Ct(e,o,r,this.scroll$).pipe(ai(!0),br(0),N(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),e.pipe(Ye(()=>!!this.scrollY)).subscribe(()=>{this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft,this.tableFootElement&&(this.tableFootElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)(k(Ee),k(Re),k(Ft),k(hp))},i.\u0275cmp=V({type:i,selectors:[["nz-table-inner-scroll"]],viewQuery:function(o,r){if(o&1&&(te(Lk,5,ee),te(jk,5,ee),te(Bk,5,ee),te(Oo,5,Oo)),o&2){let a;K(a=G())&&(r.tableHeaderElement=a.first),K(a=G())&&(r.tableBodyElement=a.first),K(a=G())&&(r.tableFootElement=a.first),K(a=G())&&(r.cdkVirtualScrollViewport=a.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",tfootTemplate:"tfootTemplate",tfootFixed:"tfootFixed",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth",noDataVirtualHeight:"noDataVirtualHeight"},standalone:!0,features:[J,j],decls:2,vars:1,consts:[["tableHeaderElement",""],["tableBodyElement",""],["tableFootElement",""],[1,"ant-table-content",3,"ngStyle"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","tfootTemplate"],[1,"ant-table-body",3,"ngStyle"],[3,"itemSize","maxBufferPx","minBufferPx","height"],[1,"ant-table-summary",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","tfootTemplate"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate","tfootTemplate"]],template:function(o,r){o&1&&_(0,Gk,6,7)(1,Zk,3,6,"div",3),o&2&&x(r.scrollY?0:1)},dependencies:[i0,li,tp,Jd,ep,Oo,ae,_s],encapsulation:2,changeDetection:0});let t=i;return t})(),sd=(()=>{let i=class i{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,o){return!0}};i.\u0275fac=function(o){return new(o||i)(k(si))},i.\u0275dir=be({type:i,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"],standalone:!0});let t=i;return t})(),n0=(()=>{let i=class i{constructor(){this.title=null,this.footer=null}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(o,r){o&2&&F("ant-table-title",r.title!==null)("ant-table-footer",r.footer!==null)},inputs:{title:"title",footer:"footer"},standalone:!0,features:[j],decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(o,r){o&1&&_(0,Xk,2,1,"ng-container",0)(1,Jk,2,1,"ng-container",0),o&2&&(u("nzStringTemplateOutlet",r.title),d(),u("nzStringTemplateOutlet",r.footer))},dependencies:[St,gt],encapsulation:2,changeDetection:0});let t=i;return t})(),Kf="table",ld=(()=>{let i=class i{onPageSizeChange(e){this.nzTableDataService.updatePageSize(e)}onPageIndexChange(e){this.nzTableDataService.updatePageIndex(e)}constructor(e,o,r,a,s,l,p){this.elementRef=e,this.nzResizeObserver=o,this.nzConfigService=r,this.cdr=a,this.nzTableStyleService=s,this.nzTableDataService=l,this.directionality=p,this._nzModuleName=Kf,this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=h=>h,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzCustomColumn=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.noDataVirtualHeight="182px",this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new R,this.nzPageIndexChange=new R,this.nzQueryParams=new R,this.nzCurrentPageDataChange=new R,this.nzCustomColumnChange=new R,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.tfootTemplate=null,this.tfootFixed=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new X,this.templateMode$=new rt(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent(Kf).pipe(N(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){let{pageIndexDistinct$:e,pageSizeDistinct$:o,listOfCurrentPageData$:r,total$:a,queryParams$:s,listOfCustomColumn$:l}=this.nzTableDataService,{theadTemplate$:p,tfootTemplate$:h,tfootFixed$:g,hasFixLeft$:v,hasFixRight$:C}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe(N(this.destroy$)).subscribe(b=>{this.dir=b,this.cdr.detectChanges()}),s.pipe(N(this.destroy$)).subscribe(this.nzQueryParams),e.pipe(N(this.destroy$)).subscribe(b=>{b!==this.nzPageIndex&&(this.nzPageIndex=b,this.nzPageIndexChange.next(b))}),o.pipe(N(this.destroy$)).subscribe(b=>{b!==this.nzPageSize&&(this.nzPageSize=b,this.nzPageSizeChange.next(b))}),a.pipe(N(this.destroy$),Ye(()=>this.nzFrontPagination)).subscribe(b=>{b!==this.nzTotal&&(this.nzTotal=b,this.cdr.markForCheck())}),r.pipe(N(this.destroy$)).subscribe(b=>{this.data=b,this.nzCurrentPageDataChange.next(b),this.cdr.markForCheck()}),l.pipe(N(this.destroy$)).subscribe(b=>{this.nzCustomColumn=b,this.nzCustomColumnChange.next(b),this.cdr.markForCheck()}),p.pipe(N(this.destroy$)).subscribe(b=>{this.theadTemplate=b,this.cdr.markForCheck()}),Et([h,g]).pipe(N(this.destroy$)).subscribe(([b,S])=>{this.tfootTemplate=b,this.tfootFixed=S,this.cdr.markForCheck()}),v.pipe(N(this.destroy$)).subscribe(b=>{this.hasFixLeft=b,this.cdr.markForCheck()}),C.pipe(N(this.destroy$)).subscribe(b=>{this.hasFixRight=b,this.cdr.markForCheck()}),Et([a,this.templateMode$]).pipe(_e(([b,S])=>b===0&&!S),N(this.destroy$)).subscribe(b=>{this.nzTableStyleService.setShowEmpty(b)}),this.verticalScrollBarWidth=Zd("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe(N(this.destroy$)).subscribe(b=>{this.listOfAutoColWidth=b,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe(N(this.destroy$)).subscribe(b=>{this.listOfManualColWidth=b,this.cdr.markForCheck()})}ngOnChanges(e){let{nzScroll:o,nzPageIndex:r,nzPageSize:a,nzFrontPagination:s,nzData:l,nzCustomColumn:p,nzWidthConfig:h,nzNoResult:g,nzTemplateMode:v}=e;r&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),a&&this.nzTableDataService.updatePageSize(this.nzPageSize),l&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),p&&(this.nzCustomColumn=this.nzCustomColumn||[],this.nzTableDataService.updateListOfCustomColumn(this.nzCustomColumn)),s&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),o&&this.setScrollOnChanges(),h&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),v&&this.templateMode$.next(this.nzTemplateMode),g&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(_e(([e])=>{let{width:o}=e.target.getBoundingClientRect(),r=this.scrollY?this.verticalScrollBarWidth:0;return Math.floor(o-r)}),N(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}};i.\u0275fac=function(o){return new(o||i)(k(ee),k(_n),k(Vt),k(xe),k(kn),k(td),k(at))},i.\u0275cmp=V({type:i,selectors:[["nz-table"]],contentQueries:function(o,r,a){if(o&1&&Ni(a,sd,5),o&2){let s;K(s=G())&&(r.nzVirtualScrollDirective=s.first)}},viewQuery:function(o,r){if(o&1&&te(id,5),o&2){let a;K(a=G())&&(r.nzTableInnerScrollComponent=a.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:4,hostBindings:function(o,r){o&2&&F("ant-table-wrapper-rtl",r.dir==="rtl")("ant-table-custom-column",r.nzCustomColumn.length)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzCustomColumn:"nzCustomColumn",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",noDataVirtualHeight:"noDataVirtualHeight",nzPaginationType:"nzPaginationType",nzFrontPagination:[2,"nzFrontPagination","nzFrontPagination",M],nzTemplateMode:[2,"nzTemplateMode","nzTemplateMode",M],nzShowPagination:[2,"nzShowPagination","nzShowPagination",M],nzLoading:[2,"nzLoading","nzLoading",M],nzOuterBordered:[2,"nzOuterBordered","nzOuterBordered",M],nzLoadingIndicator:"nzLoadingIndicator",nzBordered:[2,"nzBordered","nzBordered",M],nzSize:"nzSize",nzShowSizeChanger:[2,"nzShowSizeChanger","nzShowSizeChanger",M],nzHideOnSinglePage:[2,"nzHideOnSinglePage","nzHideOnSinglePage",M],nzShowQuickJumper:[2,"nzShowQuickJumper","nzShowQuickJumper",M],nzSimple:[2,"nzSimple","nzSimple",M]},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange",nzCustomColumnChange:"nzCustomColumnChange"},exportAs:["nzTable"],standalone:!0,features:[Ke([kn,td]),ne,J,j],ngContentSelectors:ln,decls:13,vars:26,consts:[["tableMainElement",""],["paginationTemplate",""],["contentTemplate",""],[3,"nzDelay","nzSpinning","nzIndicator"],[3,"ngTemplateOutlet"],[1,"ant-table"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","tfootTemplate","tfootFixed","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy","noDataVirtualHeight"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate","tfootTemplate"],[3,"footer"],[1,"ant-table-pagination","ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"],[1,"ant-table-pagination","ant-table-pagination-right",3,"nzPageSizeChange","nzPageIndexChange","hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"]],template:function(o,r){o&1&&(Se(),m(0,"nz-spin",3),_(1,tD,1,1,null,4),m(2,"div",5,0),_(4,iD,1,1,"nz-table-title-footer",6)(5,nD,1,16,"nz-table-inner-scroll",7)(6,oD,1,5,"nz-table-inner-default",8)(7,rD,1,1,"nz-table-title-footer",9),f(),_(8,sD,1,1,null,4),f(),_(9,cD,1,1,"ng-template",null,1,oe)(11,dD,1,0,"ng-template",null,2,oe)),o&2&&(u("nzDelay",r.nzLoadingDelay)("nzSpinning",r.nzLoading)("nzIndicator",r.nzLoadingIndicator),d(),x(r.nzPaginationPosition==="both"||r.nzPaginationPosition==="top"?1:-1),d(),F("ant-table-rtl",r.dir==="rtl")("ant-table-fixed-header",r.nzData.length&&r.scrollY)("ant-table-fixed-column",r.scrollX)("ant-table-has-fix-left",r.hasFixLeft)("ant-table-has-fix-right",r.hasFixRight)("ant-table-bordered",r.nzBordered)("nz-table-out-bordered",r.nzOuterBordered&&!r.nzBordered)("ant-table-middle",r.nzSize==="middle")("ant-table-small",r.nzSize==="small"),d(2),x(r.nzTitle?4:-1),d(),x(r.scrollY||r.scrollX?5:6),d(2),x(r.nzFooter?7:-1),d(),x(r.nzPaginationPosition==="both"||r.nzPaginationPosition==="bottom"?8:-1))},dependencies:[eu,ae,n0,id,yD,_u,Vs],encapsulation:2,changeDetection:0});let t=i;return de([ye()],t.prototype,"nzLoadingIndicator",void 0),de([ye()],t.prototype,"nzBordered",void 0),de([ye()],t.prototype,"nzSize",void 0),de([ye()],t.prototype,"nzShowSizeChanger",void 0),de([ye()],t.prototype,"nzHideOnSinglePage",void 0),de([ye()],t.prototype,"nzShowQuickJumper",void 0),de([ye()],t.prototype,"nzSimple",void 0),t})();var cd=(()=>{let i=class i{constructor(){this.destroy$=new X,this.listOfFixedColumns$=new Ze(1),this.listOfColumns$=new Ze(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe(_t(e=>Ct(this.listOfFixedColumns$,...e.map(o=>o.changes$)).pipe(zr(()=>this.listOfFixedColumns$))),N(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe(_e(e=>e.filter(o=>o.nzLeft!==!1))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe(_e(e=>e.filter(o=>o.nzRight!==!1))),this.listOfColumnsChanges$=this.listOfColumns$.pipe(_t(e=>Ct(this.listOfColumns$,...e.map(o=>o.changes$)).pipe(zr(()=>this.listOfColumns$))),N(this.destroy$)),this.nzTableStyleService=O(kn,{optional:!0}),this.isInsideTable=!!this.nzTableStyleService}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe(ai(this.listOfCellFixedDirective),N(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe(ai(this.listOfNzThDirective),N(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(e=>{e.forEach(o=>o.setIsLastLeft(o===e[e.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(e=>{e.forEach(o=>o.setIsFirstRight(o===e[0]))}),Et([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe(N(this.destroy$)).subscribe(([e,o])=>{o.forEach((r,a)=>{if(r.isAutoLeft){let l=o.slice(0,a).reduce((h,g)=>h+(g.colspan||g.colSpan||1),0),p=e.slice(0,l).reduce((h,g)=>h+g,0);r.setAutoLeftWidth(`${p}px`)}})}),Et([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe(N(this.destroy$)).subscribe(([e,o])=>{o.forEach((r,a)=>{let s=o[o.length-a-1];if(s.isAutoRight){let p=o.slice(o.length-a,o.length).reduce((g,v)=>g+(v.colspan||v.colSpan||1),0),h=e.slice(e.length-p,e.length).reduce((g,v)=>g+v,0);s.setAutoRightWidth(`${h}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(o,r,a){if(o&1&&(Ni(a,rd,4),Ni(a,nd,4)),o&2){let s;K(s=G())&&(r.listOfNzThDirective=s),K(s=G())&&(r.listOfCellFixedDirective=s)}},hostVars:2,hostBindings:function(o,r){o&2&&F("ant-table-row",r.isInsideTable)},standalone:!0});let t=i;return t})(),o0=(()=>{let i=class i{constructor(e,o){this.elementRef=e,this.renderer=o,this.destroy$=new X,this.isInsideTable=!1,this.nzSortOrderChange=new R,this.nzTableStyleService=O(kn,{optional:!0}),this.nzTableDataService=O(td,{optional:!0}),this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){let e=this.listOfNzTrDirective.changes.pipe(ai(this.listOfNzTrDirective),_e(s=>s&&s.first)),o=e.pipe(_t(s=>s?s.listOfColumnsChanges$:yr),N(this.destroy$));o.subscribe(s=>this.nzTableStyleService.setListOfTh(s)),this.nzTableStyleService.enableAutoMeasure$.pipe(_t(s=>s?o:xt([]))).pipe(N(this.destroy$)).subscribe(s=>this.nzTableStyleService.setListOfMeasureColumn(s));let r=e.pipe(_t(s=>s?s.listOfFixedLeftColumnChanges$:yr),N(this.destroy$)),a=e.pipe(_t(s=>s?s.listOfFixedRightColumnChanges$:yr),N(this.destroy$));r.subscribe(s=>{this.nzTableStyleService.setHasFixLeft(s.length!==0)}),a.subscribe(s=>{this.nzTableStyleService.setHasFixRight(s.length!==0)})}if(this.nzTableDataService){let e=this.listOfNzThAddOnComponent.changes.pipe(ai(this.listOfNzThAddOnComponent));e.pipe(_t(()=>Ct(...this.listOfNzThAddOnComponent.map(a=>a.manualClickOrder$))),N(this.destroy$)).subscribe(a=>{let s={key:a.nzColumnKey,value:a.sortOrder};this.nzSortOrderChange.emit(s),a.nzSortFn&&a.nzSortPriority===!1&&this.listOfNzThAddOnComponent.filter(l=>l!==a).forEach(l=>l.clearSortOrder())}),e.pipe(_t(a=>Ct(e,...a.map(s=>s.calcOperatorChange$)).pipe(zr(()=>e))),_e(a=>a.filter(s=>!!s.nzSortFn||!!s.nzFilterFn).map(s=>{let{nzSortFn:l,sortOrder:p,nzFilterFn:h,nzFilterValue:g,nzSortPriority:v,nzColumnKey:C}=s;return{key:C,sortFn:l,sortPriority:v,sortOrder:p,filterFn:h,filterValue:g}})),br(0),N(this.destroy$)).subscribe(a=>{this.nzTableDataService?.listOfCalcOperator$.next(a)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)(k(ee),k(Ee))},i.\u0275cmp=V({type:i,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(o,r,a){if(o&1&&(Ni(a,cd,5),Ni(a,fs,5)),o&2){let s;K(s=G())&&(r.listOfNzTrDirective=s),K(s=G())&&(r.listOfNzThAddOnComponent=s)}},viewQuery:function(o,r){if(o&1&&te(pD,7),o&2){let a;K(a=G())&&(r.templateRef=a.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},standalone:!0,features:[j],ngContentSelectors:ln,decls:3,vars:1,consts:[["contentTemplate",""],[3,"ngTemplateOutlet"]],template:function(o,r){o&1&&(Se(),_(0,uD,1,0,"ng-template",null,0,oe)(2,mD,1,1,null,1)),o&2&&(d(2),x(r.isInsideTable?-1:2))},dependencies:[ae],encapsulation:2,changeDetection:0});let t=i;return t})(),r0=(()=>{let i=class i{constructor(){this.nzExpand=!0}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["tr","nzExpand",""]],hostAttrs:[1,"ant-table-expanded-row"],hostVars:1,hostBindings:function(o,r){o&2&&xs("hidden",!r.nzExpand)},inputs:{nzExpand:"nzExpand"},standalone:!0});let t=i;return t})(),zo=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[ld,fs,od,_s,n0,id,e0,Xf,Jf,Zf,CD]});let t=i;return t})();var vD=["*"];function s0(t){return Ds(t)?t.touches[0]||t.changedTouches[0]:t}var dd=(()=>{let i=class i{constructor(e){this.ngZone=e,this.document=O(zi),this.listeners=new Map,this.handleMouseDownOutsideAngular$=new X,this.documentMouseUpOutsideAngular$=new X,this.documentMouseMoveOutsideAngular$=new X,this.mouseEnteredOutsideAngular$=new X}startResizing(e){let o=Ds(e);this.clearListeners();let r=o?"touchmove":"mousemove",a=o?"touchend":"mouseup",s=p=>{this.documentMouseMoveOutsideAngular$.next(p)},l=p=>{this.documentMouseUpOutsideAngular$.next(p),this.clearListeners()};this.listeners.set(r,s),this.listeners.set(a,l),this.ngZone.runOutsideAngular(()=>{this.listeners.forEach((p,h)=>{this.document.addEventListener(h,p)})})}clearListeners(){this.listeners.forEach((e,o)=>{this.document.removeEventListener(o,e)}),this.listeners.clear()}ngOnDestroy(){this.handleMouseDownOutsideAngular$.complete(),this.documentMouseUpOutsideAngular$.complete(),this.documentMouseMoveOutsideAngular$.complete(),this.mouseEnteredOutsideAngular$.complete(),this.clearListeners()}};i.\u0275fac=function(o){return new(o||i)(it(Re))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),c0=(()=>{let i=class i{constructor(e,o,r,a,s,l){this.elementRef=e,this.renderer=o,this.nzResizableService=r,this.platform=a,this.ngZone=s,this.destroy$=l,this.nzBounds="parent",this.nzMinHeight=40,this.nzMinWidth=40,this.nzGridColumnCount=-1,this.nzMaxColumn=-1,this.nzMinColumn=-1,this.nzLockAspectRatio=!1,this.nzPreview=!1,this.nzDisabled=!1,this.nzResize=new R,this.nzResizeEnd=new R,this.nzResizeStart=new R,this.resizing=!1,this.currentHandleEvent=null,this.ghostElement=null,this.sizeCache=null,this.nzResizableService.handleMouseDownOutsideAngular$.pipe(N(this.destroy$)).subscribe(p=>{this.nzDisabled||(this.resizing=!0,this.nzResizableService.startResizing(p.mouseEvent),this.currentHandleEvent=p,this.nzResizeStart.observers.length&&this.ngZone.run(()=>this.nzResizeStart.emit({mouseEvent:p.mouseEvent,direction:p.direction})),this.elRect=this.el.getBoundingClientRect())}),this.nzResizableService.documentMouseUpOutsideAngular$.pipe(N(this.destroy$),Ye(Boolean)).subscribe(p=>{this.resizing&&(this.resizing=!1,this.nzResizableService.documentMouseUpOutsideAngular$.next(null),this.endResize(p))}),this.nzResizableService.documentMouseMoveOutsideAngular$.pipe(N(this.destroy$)).subscribe(p=>{this.resizing&&this.resize(p)})}setPosition(){let e=getComputedStyle(this.el).position;(e==="static"||!e)&&this.renderer.setStyle(this.el,"position","relative")}calcSize(e,o,r){let a,s,l,p,h=0,g=0,v=this.nzMinWidth,C=1/0,b=1/0;if(this.nzBounds==="parent"){let S=this.renderer.parentNode(this.el);if(S instanceof HTMLElement){let $=S.getBoundingClientRect();C=$.width,b=$.height}}else if(this.nzBounds==="window")typeof window<"u"&&(C=window.innerWidth,b=window.innerHeight);else if(this.nzBounds&&this.nzBounds.nativeElement&&this.nzBounds.nativeElement instanceof HTMLElement){let S=this.nzBounds.nativeElement.getBoundingClientRect();C=S.width,b=S.height}return l=Ms(this.nzMaxWidth,C),p=Ms(this.nzMaxHeight,b),this.nzGridColumnCount!==-1&&(g=l/this.nzGridColumnCount,v=this.nzMinColumn!==-1?g*this.nzMinColumn:v,l=this.nzMaxColumn!==-1?g*this.nzMaxColumn:l),r!==-1?/(left|right)/i.test(this.currentHandleEvent.direction)?(a=Math.min(Math.max(e,v),l),s=Math.min(Math.max(a/r,this.nzMinHeight),p),(s>=p||s<=this.nzMinHeight)&&(a=Math.min(Math.max(s*r,v),l))):(s=Math.min(Math.max(o,this.nzMinHeight),p),a=Math.min(Math.max(s*r,v),l),(a>=l||a<=v)&&(s=Math.min(Math.max(a/r,this.nzMinHeight),p))):(a=Math.min(Math.max(e,v),l),s=Math.min(Math.max(o,this.nzMinHeight),p)),this.nzGridColumnCount!==-1&&(h=Math.round(a/g),a=h*g),{col:h,width:a,height:s}}resize(e){let o=this.elRect,r=s0(e),a=s0(this.currentHandleEvent.mouseEvent),s=o.width,l=o.height,p=this.nzLockAspectRatio?s/l:-1;switch(this.currentHandleEvent.direction){case"bottomRight":s=r.clientX-o.left,l=r.clientY-o.top;break;case"bottomLeft":s=o.width+a.clientX-r.clientX,l=r.clientY-o.top;break;case"topRight":s=r.clientX-o.left,l=o.height+a.clientY-r.clientY;break;case"topLeft":s=o.width+a.clientX-r.clientX,l=o.height+a.clientY-r.clientY;break;case"top":l=o.height+a.clientY-r.clientY;break;case"right":s=r.clientX-o.left;break;case"bottom":l=r.clientY-o.top;break;case"left":s=o.width+a.clientX-r.clientX}let h=this.calcSize(s,l,p);this.sizeCache=T({},h),this.nzResize.observers.length&&this.ngZone.run(()=>{this.nzResize.emit(ce(T({},h),{mouseEvent:e,direction:this.currentHandleEvent.direction}))}),this.nzPreview&&this.previewResize(h)}endResize(e){this.removeGhostElement();let o=this.sizeCache?T({},this.sizeCache):{width:this.elRect.width,height:this.elRect.height};this.nzResizeEnd.observers.length&&this.ngZone.run(()=>{this.nzResizeEnd.emit(ce(T({},o),{mouseEvent:e,direction:this.currentHandleEvent.direction}))}),this.sizeCache=null,this.currentHandleEvent=null}previewResize({width:e,height:o}){this.createGhostElement(),this.renderer.setStyle(this.ghostElement,"width",`${e}px`),this.renderer.setStyle(this.ghostElement,"height",`${o}px`)}createGhostElement(){this.ghostElement||(this.ghostElement=this.renderer.createElement("div"),this.renderer.setAttribute(this.ghostElement,"class","nz-resizable-preview")),this.renderer.appendChild(this.el,this.ghostElement)}removeGhostElement(){this.ghostElement&&this.renderer.removeChild(this.el,this.ghostElement)}ngAfterViewInit(){this.platform.isBrowser&&(this.el=this.elementRef.nativeElement,this.setPosition(),this.ngZone.runOutsideAngular(()=>{lt(this.el,"mouseenter").pipe(N(this.destroy$)).subscribe(()=>{this.nzResizableService.mouseEnteredOutsideAngular$.next(!0)}),lt(this.el,"mouseleave").pipe(N(this.destroy$)).subscribe(()=>{this.nzResizableService.mouseEnteredOutsideAngular$.next(!1)})}))}ngOnDestroy(){this.ghostElement=null,this.sizeCache=null}};i.\u0275fac=function(o){return new(o||i)(k(ee),k(Ee),k(dd),k(Ft),k(Re),k(mt))},i.\u0275dir=be({type:i,selectors:[["","nz-resizable",""]],hostAttrs:[1,"nz-resizable"],hostVars:4,hostBindings:function(o,r){o&2&&F("nz-resizable-resizing",r.resizing)("nz-resizable-disabled",r.nzDisabled)},inputs:{nzBounds:"nzBounds",nzMaxHeight:"nzMaxHeight",nzMaxWidth:"nzMaxWidth",nzMinHeight:[2,"nzMinHeight","nzMinHeight",ge],nzMinWidth:[2,"nzMinWidth","nzMinWidth",ge],nzGridColumnCount:[2,"nzGridColumnCount","nzGridColumnCount",ge],nzMaxColumn:[2,"nzMaxColumn","nzMaxColumn",ge],nzMinColumn:[2,"nzMinColumn","nzMinColumn",ge],nzLockAspectRatio:[2,"nzLockAspectRatio","nzLockAspectRatio",M],nzPreview:[2,"nzPreview","nzPreview",M],nzDisabled:[2,"nzDisabled","nzDisabled",M]},outputs:{nzResize:"nzResize",nzResizeEnd:"nzResizeEnd",nzResizeStart:"nzResizeStart"},exportAs:["nzResizable"],standalone:!0,features:[Ke([dd,mt]),ne]});let t=i;return t})(),pd=class{constructor(i,n){this.direction=i,this.mouseEvent=n}},l0=Wd({passive:!0}),d0=(()=>{let i=class i{constructor(e,o,r,a,s){this.ngZone=e,this.nzResizableService=o,this.renderer=r,this.host=a,this.destroy$=s,this.nzDirection="bottomRight",this.nzCursorType="window",this.nzMouseDown=new R}ngOnInit(){this.nzResizableService.mouseEnteredOutsideAngular$.pipe(N(this.destroy$)).subscribe(e=>{e?this.renderer.addClass(this.host.nativeElement,"nz-resizable-handle-box-hover"):this.renderer.removeClass(this.host.nativeElement,"nz-resizable-handle-box-hover")}),this.ngZone.runOutsideAngular(()=>{Ct(lt(this.host.nativeElement,"mousedown",l0),lt(this.host.nativeElement,"touchstart",l0)).pipe(N(this.destroy$)).subscribe(e=>{this.nzResizableService.handleMouseDownOutsideAngular$.next(new pd(this.nzDirection,e))})})}onPointerDown(e){e.target.setPointerCapture(e.pointerId)}onPointerUp(e){e.target.releasePointerCapture(e.pointerId)}};i.\u0275fac=function(o){return new(o||i)(k(Re),k(dd),k(Ee),k(ee),k(mt))},i.\u0275cmp=V({type:i,selectors:[["nz-resize-handle"],["","nz-resize-handle",""]],hostAttrs:[1,"nz-resizable-handle"],hostVars:20,hostBindings:function(o,r){o&1&&w("pointerdown",function(s){return r.onPointerDown(s)})("pointerup",function(s){return r.onPointerUp(s)}),o&2&&F("nz-resizable-handle-top",r.nzDirection==="top")("nz-resizable-handle-right",r.nzDirection==="right")("nz-resizable-handle-bottom",r.nzDirection==="bottom")("nz-resizable-handle-left",r.nzDirection==="left")("nz-resizable-handle-topRight",r.nzDirection==="topRight")("nz-resizable-handle-bottomRight",r.nzDirection==="bottomRight")("nz-resizable-handle-bottomLeft",r.nzDirection==="bottomLeft")("nz-resizable-handle-topLeft",r.nzDirection==="topLeft")("nz-resizable-handle-cursor-type-grid",r.nzCursorType==="grid")("nz-resizable-handle-cursor-type-window",r.nzCursorType==="window")},inputs:{nzDirection:"nzDirection",nzCursorType:"nzCursorType"},outputs:{nzMouseDown:"nzMouseDown"},exportAs:["nzResizeHandle"],standalone:!0,features:[Ke([mt]),j],ngContentSelectors:vD,decls:1,vars:0,template:function(o,r){o&1&&(Se(),ve(0))},encapsulation:2,changeDetection:0});let t=i;return t})();var p0=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({});let t=i;return t})();var SD=["imgRef"],wD=["imagePreviewWrapper"];function TD(t,i){if(t&1){let n=I();m(0,"div",13),w("click",function(o){y(n);let r=c();return z(r.onSwitchLeft(o))}),D(1,"span",14),f(),m(2,"div",15),w("click",function(o){y(n);let r=c();return z(r.onSwitchRight(o))}),D(3,"span",16),f()}if(t&2){let n=c();F("ant-image-preview-switch-left-disabled",n.index<=0),d(2),F("ant-image-preview-switch-right-disabled",n.index>=n.images.length-1)}}function kD(t,i){if(t&1&&(m(0,"li",5),E(1),f()),t&2){let n=c();d(),Vd("",n.index+1," / ",n.images.length,"")}}function DD(t,i){if(t&1){let n=I();m(0,"li",17),w("click",function(){let o=y(n).$implicit;return z(o.onClick())}),D(1,"span",18),f()}if(t&2){let n,e=i.$implicit,o=c();F("ant-image-preview-operations-operation-disabled",o.zoomOutDisabled&&e.type==="zoomOut"),d(),u("nzType",e.icon)("nzRotate",(n=e.rotate)!==null&&n!==void 0?n:0)}}function PD(t,i){if(t&1&&D(0,"img",20,1),t&2){let n=c().$implicit,e=c();le("width",n.width)("height",n.height)("transform",e.previewImageTransform),Z("src",e.sanitizerResourceUrl(n.src),En)("srcset",n.srcset)("alt",n.alt)}}function MD(t,i){if(t&1&&_(0,PD,2,9,"img",19),t&2){let n=i.$index,e=c();x(n===e.index?0:-1)}}var _0="image";function OD(t){let i={};return t.width<=t.clientWidth&&t.height<=t.clientHeight&&(i={x:0,y:0}),(t.width>t.clientWidth||t.height>t.clientHeight)&&(i={x:m0(t.left,t.width,t.clientWidth),y:m0(t.top,t.height,t.clientHeight)}),i}function ID(t){let i=t.getBoundingClientRect(),n=document.documentElement;return{left:i.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:i.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function ED(){let t=document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:i}}function m0(t,i,n){let e=t+i,o=(i-n)/2,r=null;return i>n?(t>0&&(r=o),t<0&&e<n&&(r=-o)):(t<0||e>n)&&(r=t<0?o:-o),r}var Cr=class{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}},f0={x:0,y:0},ND=.5,$D=1,FD=0,g0=(()=>{let i=class i{get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){let e=this.nzConfigService.getConfigForComponent(_0)||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,o,r,a,s,l){this.ngZone=e,this.cdr=o,this.nzConfigService=r,this.config=a,this.destroy$=s,this.sanitizer=l,this._defaultNzZoom=$D,this._defaultNzScaleStep=ND,this._defaultNzRotate=FD,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationStateChanged=new R,this.scaleStepMap=new Map,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"},{icon:"swap",onClick:()=>{this.onHorizontalFlip()},type:"flipHorizontally"},{icon:"swap",onClick:()=>{this.onVerticalFlip()},type:"flipVertically",rotate:90}],this.zoomOutDisabled=!1,this.position=T({},f0),this.closeClick=new R,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=this.config.nzFlipHorizontally??!1,this.flipVertically=this.config.nzFlipVertically??!1,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{lt(this.imagePreviewWrapper.nativeElement,"mousedown").pipe(N(this.destroy$)).subscribe(()=>{this.isDragging=!0}),lt(this.imagePreviewWrapper.nativeElement,"wheel").pipe(N(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>this.wheelZoomEventHandler(e))})})}setImages(e,o){o&&(this.scaleStepMap=o),this.images=e,this.markForCheck()}switchTo(e){this.index=e,this.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.visible=!1,this.closeClick.emit()}onZoomIn(){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled()}onZoomOut(){if(this.zoom>1){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.zoom<=1&&this.reCenterImage()}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onHorizontalFlip(){this.flipHorizontally=!this.flipHorizontally,this.updatePreviewImageTransform()}onVerticalFlip(){this.flipVertically=!this.flipVertically,this.updatePreviewImageTransform()}wheelZoomEventHandler(e){e.preventDefault(),e.stopPropagation(),this.handlerImageTransformationWhileZoomingWithMouse(e,e.deltaY),this.handleImageScaleWhileZoomingWithMouse(e.deltaY),this.updatePreviewImageWrapperTransform(),this.updatePreviewImageTransform(),this.markForCheck()}onAnimationStart(e){this.animationStateChanged.emit(e)}onAnimationDone(e){this.animationStateChanged.emit(e)}onDragEnd(e){this.isDragging=!1;let o=this.imageRef.nativeElement.offsetWidth*this.zoom,r=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:a,top:s}=ID(this.imageRef.nativeElement),{width:l,height:p}=ED(),h=this.rotate%180!==0,v=OD({width:h?r:o,height:h?o:r,left:a,top:s,clientWidth:l,clientHeight:p});ft(v.x)||ft(v.y)?this.position=T(T({},this.position),v):!ft(v.x)&&!ft(v.y)&&(this.position={x:e.source.getFreeDragPosition().x,y:e.source.getFreeDragPosition().y})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom*(this.flipHorizontally?-1:1)}, ${this.zoom*(this.flipVertically?-1:1)}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}handlerImageTransformationWhileZoomingWithMouse(e,o){let r,a=this.imageRef.nativeElement,l=getComputedStyle(a).transform.match(/matrix.*\((.+)\)/);l?r=+l[1].split(", ")[0]:r=this.zoom;let p=(e.clientX-a.getBoundingClientRect().x)/r,h=(e.clientY-a.getBoundingClientRect().y)/r,g=o<0?this.scaleStep/2:-this.scaleStep/2;this.position.x+=-p*g*2+a.offsetWidth*g,this.position.y+=-h*g*2+a.offsetHeight*g}handleImageScaleWhileZoomingWithMouse(e){this.isZoomedInWithMouseWheel(e)?this.onZoomIn():this.onZoomOut(),this.zoom<=1&&this.reCenterImage()}isZoomedInWithMouseWheel(e){return e<0}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=!1,this.flipVertically=!1,this.reCenterImage()}reCenterImage(){this.position=T({},f0)}};i.\u0275fac=function(o){return new(o||i)(k(Re),k(xe),k(Vt),k(Cr),k(mt),k(vi))},i.\u0275cmp=V({type:i,selectors:[["nz-image-preview"]],viewQuery:function(o,r){if(o&1&&(te(SD,5),te(wD,7)),o&2){let a;K(a=G())&&(r.imageRef=a.first),K(a=G())&&(r.imagePreviewWrapper=a.first)}},hostAttrs:[1,"ant-image-preview-root"],hostVars:6,hostBindings:function(o,r){o&1&&Fd("@fadeMotion.start",function(s){return r.onAnimationStart(s)})("@fadeMotion.done",function(s){return r.onAnimationDone(s)}),o&2&&($d("@.disabled",r.config.nzNoAnimation)("@fadeMotion",r.visible?"enter":"leave"),le("z-index",r.config.nzZIndex),F("ant-image-preview-moving",r.isDragging))},exportAs:["nzImagePreview"],standalone:!0,features:[Ke([mt]),j],decls:17,vars:5,consts:[["imagePreviewWrapper",""],["imgRef",""],[1,"ant-image-preview-mask"],[1,"ant-image-preview-operations-wrapper"],[1,"ant-image-preview-operations"],[1,"ant-image-preview-operations-progress"],[1,"ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled"],["tabindex","-1",1,"ant-image-preview-wrap",3,"click"],["role","dialog","aria-modal","true",1,"ant-image-preview"],["tabindex","0","aria-hidden","true",2,"width","0","height","0","overflow","hidden","outline","none"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragEnded","cdkDragFreeDragPosition"],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType","nzRotate"],["cdkDragHandle","",1,"ant-image-preview-img",3,"width","height","transform"],["cdkDragHandle","",1,"ant-image-preview-img"]],template:function(o,r){if(o&1){let a=I();D(0,"div",2),m(1,"div",3),_(2,TD,4,4),m(3,"ul",4),_(4,kD,2,2,"li",5),Q(5,DD,2,4,"li",6,ct),f()(),m(7,"div",7),w("click",function(l){return y(a),z(r.maskClosable&&l.target===l.currentTarget&&r.onClose())}),m(8,"div",8),D(9,"div",9),m(10,"div",10)(11,"div",11)(12,"div",12,0),w("cdkDragEnded",function(l){return y(a),z(r.onDragEnd(l))}),Q(14,MD,1,1,null,null,ct),f()()(),D(16,"div",9),f()()}o&2&&(d(2),x(r.images.length>1?2:-1),d(2),x(r.images.length>1?4:-1),d(),U(r.operations),d(7),le("transform",r.previewImageWrapperTransform),u("cdkDragFreeDragPosition",r.position),d(2),U(r.images))},dependencies:[He,Pe,ap,sp],encapsulation:2,data:{animation:[vp]},changeDetection:0});let t=i;return t})(),ud=class{constructor(i,n,e){this.previewInstance=i,this.config=n,this.overlayRef=e,this.destroy$=new X,e.keydownEvents().pipe(Ye(o=>this.config.nzKeyboard&&(o.keyCode===27||o.keyCode===37||o.keyCode===39)&&!ip(o))).subscribe(o=>{o.preventDefault(),o.keyCode===27&&i.onClose(),o.keyCode===37&&this.prev(),o.keyCode===39&&this.next()}),e.detachments().subscribe(()=>{this.overlayRef.dispose()}),i.closeClick.pipe(xr(1),_t(()=>i.animationStateChanged),Ye(o=>o.phaseName==="done"),N(this.destroy$)).subscribe(()=>{this.close()})}switchTo(i){this.previewInstance.switchTo(i)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.destroy$.next(),this.overlayRef.dispose()}},hd=(()=>{let i=class i{constructor(e,o,r,a){this.overlay=e,this.injector=o,this.nzConfigService=r,this.directionality=a}preview(e,o,r){return this.display(e,o,r)}display(e,o,r){let a=T(T({},new Cr),o??{}),s=this.createOverlay(a),l=this.attachPreviewComponent(s,a);l.setImages(e,r);let p=new ud(l,a,s);return l.previewRef=p,p}attachPreviewComponent(e,o){let r=Ei.create({parent:this.injector,providers:[{provide:dp,useValue:e},{provide:Cr,useValue:o}]}),a=new lp(g0,null,r);return e.attach(a).instance}createOverlay(e){let o=this.nzConfigService.getConfigForComponent(_0)||{},r=new cp({scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??o.nzCloseOnNavigation??!0,direction:e.nzDirection||o.nzDirection||this.directionality.value});return this.overlay.create(r)}};i.\u0275fac=function(o){return new(o||i)(it(pp),it(Ei),it(Vt),it(at))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})();var C0=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({providers:[hd],imports:[g0]});let t=i;return t})();var y0=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({});let t=i;return t})();function VD(t,i){if(t&1){let n=I();m(0,"label",9),w("ngModelChange",function(o){y(n);let r=c(2);return z(r.change(o))}),E(1),f()}if(t&2){let n=c(2);u("nzDisabled",n.disabled)("ngModel",n.value),d(),q(" ",n.safeOpt.checkbox==null?null:n.safeOpt.checkbox.label," ")}}function RD(t,i){if(t&1){let n=I();m(0,"label",10),w("ngModelChange",function(o){y(n);let r=c(2);return z(r.change(o))}),E(1),f()}if(t&2){let n=c(2);u("nzDisabled",n.disabled)("ngModel",n.value),d(),q(" ",n.safeOpt.radio==null?null:n.safeOpt.radio.label," ")}}function AD(t,i){if(t&1){let n=I();m(0,"a",11),w("click",function(o){y(n);let r=c(2);return z(r._link(o))}),f()}if(t&2){let n=c(2);u("innerHTML",n._text,Ae),Z("target",n.safeOpt.link==null?null:n.safeOpt.link.target)("title",n.value)}}function HD(t,i){if(t&1&&(m(0,"nz-tag",7),D(1,"span",6),f()),t&2){let n=c(2);u("nzColor",n.res==null||n.res.result==null?null:n.res.result.color),d(),u("innerHTML",n._text,Ae)}}function LD(t,i){if(t&1&&D(0,"nz-badge",8),t&2){let n=c(2);pe("nzText",n._text),u("nzStatus",n.res==null||n.res.result==null?null:n.res.result.color)}}function jD(t,i){}function BD(t,i){if(t&1&&_(0,jD,0,0,"ng-template",12),t&2){let n=c(3);u("data",n.res)}}function WD(t,i){if(t&1&&_(0,BD,1,1,null,12),t&2){let n=c(2);x(n.res?0:-1)}}function qD(t,i){if(t&1){let n=I();m(0,"img",14),w("click",function(){let o=y(n).$implicit,r=c(3);return z(r._showImg(o))}),f()}if(t&2){let n=i.$implicit,e=c(3);F("point",e.safeOpt.img==null?null:e.safeOpt.img.big),Z("src",n,En)("height",e.safeOpt.img==null?null:e.safeOpt.img.size)("width",e.safeOpt.img==null?null:e.safeOpt.img.size)}}function QD(t,i){if(t&1&&Q(0,qD,1,5,"img",13,et),t&2){let n=c(2);U(n._text)}}function UD(t,i){if(t&1&&D(0,"span",15),t&2){let n=c(3);u("innerText",n._text),Z("title",n.value)}}function YD(t,i){if(t&1&&D(0,"span",6),t&2){let n=c(3);u("innerHTML",n._text,Ae),Z("title",n.value)}}function KD(t,i){if(t&1&&(m(0,"span",16),E(1),f()),t&2){let n=c(3);d(),ie(n._unit)}}function GD(t,i){if(t&1&&_(0,UD,1,2,"span",15)(1,YD,1,2,"span",6)(2,KD,2,1,"span",16),t&2){let n=c(2);x(n.isText?0:1),d(2),x(n._unit?2:-1)}}function ZD(t,i){if(t&1&&_(0,VD,2,3,"label",4)(1,RD,2,3,"label",5)(2,AD,1,3,"a",6)(3,HD,2,2,"nz-tag",7)(4,LD,1,2,"nz-badge",8)(5,WD,1,1)(6,QD,2,0)(7,GD,3,2),t&2){let n,e=c();x((n=e.safeOpt.type)==="checkbox"?0:n==="radio"?1:n==="link"?2:n==="tag"?3:n==="badge"?4:n==="widget"?5:n==="img"?6:7)}}function XD(t,i){if(t&1&&E(0),t&2){let n=c(2);q(" ",n.safeOpt.default==null?null:n.safeOpt.default.text," ")}}function JD(t,i){}function eP(t,i){if(t&1&&(m(0,"span",17),_(1,JD,0,0,"ng-template",3),f()),t&2){let n=c(3),e=L(1);u("nz-tooltip",n.safeOpt.tooltip),d(),u("ngTemplateOutlet",e)}}function tP(t,i){}function iP(t,i){if(t&1&&_(0,tP,0,0,"ng-template",3),t&2){c(3);let n=L(1);u("ngTemplateOutlet",n)}}function nP(t,i){if(t&1&&_(0,eP,2,2,"span",17)(1,iP,1,1,null,3),t&2){let n=c(2);x(n.safeOpt.tooltip?0:1)}}function oP(t,i){if(t&1&&_(0,XD,1,1)(1,nP,2,1),t&2){let n=c();x(n.showDefault?0:1)}}function rP(t,i){t&1&&D(0,"span",2)}function aP(t,i){}function sP(t,i){if(t&1&&_(0,aP,0,0,"ng-template",3),t&2){c();let n=L(3);u("ngTemplateOutlet",n)}}var md=(()=>{let i=class i{constructor(){this.nzI18n=O(ui),this.currency=O(Jr),this.dom=O(vi),this.configSrv=O(pt),this.globalOptions=this.configSrv.merge("cell",{date:{format:"yyyy-MM-dd HH:mm:ss"},img:{size:32},default:{text:"-"}}),this.widgets={date:{type:"fn",ref:(e,o)=>({text:bp(e,o.date.format,{locale:this.nzI18n.getDateLocale(),customFormat:this.configSrv.get("themePipe")?.dateFormatCustom})})},mega:{type:"fn",ref:(e,o)=>{let r=this.currency.mega(e,o.mega);return{text:r.value,unit:r.unitI18n}}},currency:{type:"fn",ref:(e,o)=>({text:this.currency.format(e,o.currency)})},cny:{type:"fn",ref:(e,o)=>({text:this.currency.cny(e,o.cny)})},boolean:{type:"fn",ref:(e,o)=>({text:this.dom.bypassSecurityTrustHtml(Ip(e,o.boolean))})},img:{type:"fn",ref:e=>({text:Array.isArray(e)?e:[e]})}}}registerWidget(e,o){this.widgets[e]={type:"widget",ref:o}}getWidget(e){return this.widgets[e]}genType(e,o){if(o.type!=null)return o.type;let r=typeof e;return r==="number"&&/^[0-9]{13}$/g.test(e)||e instanceof Date||o.date!=null?"date":o.widget!=null?"widget":o.mega!=null?"mega":o.currency!=null?"currency":o.cny!=null?"cny":o.img!=null?"img":o.link!=null?"link":o.html!=null?"html":o.badge!=null?"badge":o.tag!=null?"tag":o.checkbox!=null?"checkbox":o.radio!=null?"radio":o.enum!=null?"enum":r==="number"?"number":r==="boolean"||o.boolean!=null?"boolean":"string"}fixOptions(e){return Ld({},this.globalOptions,e)}get(e,o){let r=this.genType(e,T({},o)),a=this.fixOptions(o);a.type=r;let s=typeof e=="object"&&typeof e?.getTypeName=="function"&&e?.getTypeName()!=null,l={result:typeof e=="object"&&!s?e:{text:e==null?"":s?e:`${e}`},options:a},p=this.widgets[r];return p?.type==="fn"&&(l.result=p.ref(e,a)),(typeof e=="function"?e(e,a):xt(l.result)).pipe(_e(h=>{l.result=h;let g;switch(r){case"badge":g=(a.badge?.data??{})[e],l.result=T({color:"default"},g);break;case"tag":g=(a.tag?.data??{})[e],l.result=g;break;case"enum":l.result={text:(a.enum??{})[e]};break;case"html":l.safeHtml=a.html?.safe;break;case"string":s&&(l.safeHtml="safeHtml");break}return(r==="badge"||r==="tag")&&g?.tooltip!=null&&(l.options.tooltip=g.tooltip),a.mask!=null&&(l.result.text=qp(l.result.text,a.mask)),l}))}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),lP=(()=>{let i=class i{constructor(){this.srv=O(md),this.vcr=O(qi)}ngOnChanges(){let e=this.data.options.widget,o=this.srv.getWidget(e.key)?.ref;if(o==null)return;this.vcr.clear();let r=this.vcr.createComponent(o);r.instance.data=this.data}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["","cell-widget-host",""]],inputs:{data:"data"},standalone:!0,features:[J]});let t=i;return t})(),fd=(()=>{let i=class i{constructor(){this.srv=O(md),this.router=O($i),this.cdr=O(xe),this.renderer=O(Ee),this.imgSrv=O(hd),this.win=O(Hp),this.el=O(ee).nativeElement,this.showDefault=!1,this.valueChange=new R,this.loading=!1,this.disabled=!1}get safeOpt(){return this.res?.options??{}}get isText(){return this.res?.safeHtml==="text"}updateValue(){this.destroy$?.unsubscribe(),this.destroy$=this.srv.get(this.value,this.options).subscribe(e=>{this.res=e,this.showDefault=this.value==this.safeOpt.default.condition,this._text=e.result?.text??"",this._unit=e.result?.unit??this.safeOpt?.unit,this.cdr.detectChanges(),this.setClass()})}setClass(){let{el:e,renderer:o}=this,{renderType:r,size:a,type:s}=this.safeOpt;Ep(e,o,{cell:!0,[`cell__${r}`]:r!=null,[`cell__${a}`]:a!=null,"cell__has-unit":this._unit,"cell__has-default":this.showDefault,cell__disabled:this.disabled}),e.setAttribute("data-type",`${s}`)}ngOnChanges(e){Object.keys(e).every(o=>["loading","disabled"].includes(o))?this.setClass():this.updateValue()}change(e){this.value=e,this.valueChange.emit(e)}_link(e){if(e.preventDefault(),e.stopPropagation(),this.disabled)return;let o=this.safeOpt.link,r=o?.url;r!=null&&(/https?:\/\//g.test(r)?this.win.open(r,o?.target):this.router.navigateByUrl(r))}_showImg(e){let o=this.safeOpt.img;if(o==null||o.big==null)return;let r=-1,a=this._text.map((s,l)=>(r===-1&&s===e&&(r=l),typeof o.big=="function"?o.big(s):s));this.imgSrv.preview(a.map(s=>({src:s})),o.previewOptions).switchTo(r)}ngOnDestroy(){this.destroy$?.unsubscribe()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["cell"],["","cell",""]],inputs:{value:"value",options:"options",loading:[2,"loading","loading",M],disabled:[2,"disabled","disabled",M]},outputs:{valueChange:"valueChange"},exportAs:["cell"],standalone:!0,features:[ne,J,j],decls:6,vars:1,consts:[["text",""],["textWrap",""],["nz-icon","","nzType","loading"],[3,"ngTemplateOutlet"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-radio","",3,"nzDisabled","ngModel"],[3,"innerHTML"],[3,"nzColor"],[3,"nzStatus","nzText"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],["nz-radio","",3,"ngModelChange","nzDisabled","ngModel"],[3,"click","innerHTML"],["cell-widget-host","",3,"data"],[1,"img",3,"point"],[1,"img",3,"click"],[3,"innerText"],[1,"unit"],[3,"nz-tooltip"]],template:function(o,r){o&1&&_(0,ZD,8,1,"ng-template",null,0,oe)(2,oP,2,1,"ng-template",null,1,oe)(4,rP,1,0,"span",2)(5,sP,1,1,null,3),o&2&&(d(4),x(r.loading?4:5))},dependencies:[ot,Ge,We,ae,Zt,Wi,Pe,Zr,Ur,Ht,C0,lP],encapsulation:2,changeDetection:0});let t=i;return t})(),cP=[fd],z0=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,ot,At,Mi,Ui,Yi,Lt,He,y0,cP]});let t=i;return t})();function bR(...t){return On([{provide:Mn,multi:!0,useValue:()=>{let i=O(md);t.forEach(n=>i.registerWidget(n.KEY,n.type))}}])}var pP=["okBtn"],uP=["cancelBtn"];function hP(t,i){t&1&&(m(0,"div",6),D(1,"span",14),f())}function mP(t,i){if(t&1&&(Ne(0),m(1,"span",17),D(2,"span",18),f(),$e()),t&2){let n=i.$implicit;d(2),u("nzType",n||"exclamation-circle")}}function fP(t,i){if(t&1&&(Ne(0),_(1,mP,3,1,"ng-container",15),m(2,"div",16),E(3),f(),$e()),t&2){let n=c(2);d(),u("nzStringTemplateOutlet",n.nzIcon),d(2),ie(n.nzTitle)}}function _P(t,i){if(t&1&&E(0),t&2){let n=c(2);q(" ",n.nzCancelText," ")}}function gP(t,i){t&1&&(E(0),yt(1,"nzI18n")),t&2&&q(" ",$t(1,1,"Modal.cancelText")," ")}function CP(t,i){if(t&1&&E(0),t&2){let n=c(2);q(" ",n.nzOkText," ")}}function yP(t,i){t&1&&(E(0),yt(1,"nzI18n")),t&2&&q(" ",$t(1,1,"Modal.okText")," ")}function zP(t,i){if(t&1){let n=I();m(0,"div",4)(1,"div",5),_(2,hP,2,0,"div",6),m(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),_(7,fP,4,2,"ng-container",10),f(),m(8,"div",11)(9,"button",12,1),w("click",function(){y(n);let o=c();return z(o.onCancel())}),_(11,_P,1,1)(12,gP,2,3),f(),m(13,"button",13,2),w("click",function(){y(n);let o=c();return z(o.onConfirm())}),_(15,CP,1,1)(16,yP,2,3),f()()()()()()()}if(t&2){let n=c();F("ant-popover-rtl",n.dir==="rtl"),u("cdkTrapFocusAutoCapture",n.nzAutoFocus!==null)("ngClass",n._classMap)("ngStyle",n.nzOverlayStyle)("@.disabled",!!(n.noAnimation!=null&&n.noAnimation.nzNoAnimation))("nzNoAnimation",n.noAnimation==null?null:n.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),d(2),x(n.nzPopconfirmShowArrow?2:-1),d(5),u("nzStringTemplateOutlet",n.nzTitle)("nzStringTemplateOutletContext",n.nzTitleContext),d(2),u("nzSize","small"),Z("cdkFocusInitial",n.nzAutoFocus==="cancel"||null),d(2),x(n.nzCancelText?11:12),d(2),u("nzSize","small")("nzType",n.nzOkType!=="danger"?n.nzOkType:"primary")("nzDanger",n.nzOkDanger||n.nzOkType==="danger")("nzLoading",n.confirmLoading)("disabled",n.nzOkDisabled),Z("cdkFocusInitial",n.nzAutoFocus==="ok"||null),d(2),x(n.nzOkText?15:16)}}var vP="popconfirm",v0=(()=>{let i=class i extends Bp{getProxyPropertyMap(){return T({nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzOkDisabled:["nzOkDisabled",()=>this.nzOkDisabled],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzPopconfirmContext:["nzTitleContext",()=>this.titleContext],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus]},super.getProxyPropertyMap())}constructor(){super(x0),this._nzModuleName=vP,this.titleContext=null,this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new R,this.nzOnCancel=new R,this.nzOnConfirm=new R}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe(N(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe(N(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(o,r){o&2&&F("ant-popover-open",r.visible)},inputs:{arrowPointAtCenter:[2,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter",M],title:[0,"nzPopconfirmTitle","title"],titleContext:[0,"nzPopconfirmTitleContext","titleContext"],directiveTitle:[0,"nz-popconfirm","directiveTitle"],trigger:[0,"nzPopconfirmTrigger","trigger"],placement:[0,"nzPopconfirmPlacement","placement"],origin:[0,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[0,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[0,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[0,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[0,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[0,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDisabled:[2,"nzOkDisabled","nzOkDisabled",M],nzOkDanger:[2,"nzOkDanger","nzOkDanger",M],nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:[2,"nzCondition","nzCondition",M],nzPopconfirmShowArrow:[2,"nzPopconfirmShowArrow","nzPopconfirmShowArrow",M],nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[ne,De]});let t=i;return de([ye()],t.prototype,"nzPopconfirmBackdrop",void 0),de([ye()],t.prototype,"nzAutofocus",void 0),t})(),x0=(()=>{let i=class i extends Wp{constructor(e){super(),this.elementRef=e,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzOkDisabled=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new X,this.nzOnConfirm=new X,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this.document=O(zi),this._prefix="ant-popover",this.confirmLoading=!1}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){let e=Xd(this.nzBeforeConfirm()).pipe(Md());this.confirmLoading=!0,e.pipe(Sr(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),N(this.nzVisibleChange),N(this.destroy$)).subscribe(o=>{o&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){let e=this.elementFocusedBeforeModalWasOpened;if(e&&typeof e.focus=="function"){let o=this.document.activeElement,r=this.elementRef.nativeElement;(!o||o===this.document.body||o===r||r.contains(o))&&e.focus()}}};i.\u0275fac=function(o){return new(o||i)(k(ee))},i.\u0275cmp=V({type:i,selectors:[["nz-popconfirm"]],viewQuery:function(o,r){if(o&1&&(te(pP,5,ee),te(uP,5,ee)),o&2){let a;K(a=G())&&(r.okBtn=a),K(a=G())&&(r.cancelBtn=a)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[De,j],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cancelBtn",""],["okBtn",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-popover-buttons"],["nz-button","",3,"click","nzSize"],["nz-button","",3,"click","nzSize","nzType","nzDanger","nzLoading","disabled"],[1,"ant-popover-arrow-content"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-message-title"],[1,"ant-popover-message-icon"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(o,r){if(o&1){let a=I();_(0,zP,17,21,"ng-template",3,0,oe),w("overlayOutsideClick",function(l){return y(a),z(r.onClickOutside(l))})("detach",function(){return y(a),z(r.hide())})("positionChange",function(l){return y(a),z(r.onPositionChange(l))})}o&2&&u("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPush",r.cdkConnectedOverlayPush)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},dependencies:[$r,pn,Hn,An,rp,np,dt,li,Eo,St,gt,He,Pe,Rt,pi,bt,di,Rr,Vr],encapsulation:2,data:{animation:[xp]},changeDetection:0});let t=i;return t})(),vo=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[x0]});let t=i;return t})();var wP=(t,i,n)=>({$implicit:t,col:i,handle:n});function TP(t,i){if(t&1){let n=I();m(0,"div",4)(1,"input",10),je("ngModelChange",function(o){y(n);let r=c();return Le(r.f.menus[0].value,o)||(r.f.menus[0].value=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r.n.emit(o))})("keyup.enter",function(){y(n);let o=c();return z(o.confirm())}),f()()}if(t&2){let n=c();d(),Be("ngModel",n.f.menus[0].value),Z("placeholder",n.f.placeholder)}}function kP(t,i){if(t&1){let n=I();m(0,"div",5)(1,"nz-input-number",11),je("ngModelChange",function(o){y(n);let r=c();return Le(r.f.menus[0].value,o)||(r.f.menus[0].value=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c();return z(r.n.emit(o))}),f()()}if(t&2){let n=c();d(),Be("ngModel",n.f.menus[0].value),u("nzMin",n.f.number.min)("nzMax",n.f.number.max)("nzStep",n.f.number.step)("nzPrecision",n.f.number.precision)("nzPlaceHolder",n.f.placeholder)}}function DP(t,i){if(t&1){let n=I();m(0,"nz-range-picker",13),je("ngModelChange",function(o){y(n);let r=c(2);return Le(r.f.menus[0].value,o)||(r.f.menus[0].value=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c(2);return z(r.n.emit(o))}),f()}if(t&2){let n=c(2);u("nzMode",n.f.date.mode),Be("ngModel",n.f.menus[0].value),u("nzShowNow",n.f.date.showNow)("nzShowToday",n.f.date.showToday)("nzDisabledDate",n.f.date.disabledDate)("nzDisabledTime",n.f.date.disabledTime)}}function PP(t,i){if(t&1){let n=I();m(0,"nz-date-picker",13),je("ngModelChange",function(o){y(n);let r=c(2);return Le(r.f.menus[0].value,o)||(r.f.menus[0].value=o),z(o)}),w("ngModelChange",function(o){y(n);let r=c(2);return z(r.n.emit(o))}),f()}if(t&2){let n=c(2);u("nzMode",n.f.date.mode),Be("ngModel",n.f.menus[0].value),u("nzShowNow",n.f.date.showNow)("nzShowToday",n.f.date.showToday)("nzDisabledDate",n.f.date.disabledDate)("nzDisabledTime",n.f.date.disabledTime)}}function MP(t,i){if(t&1&&(m(0,"div",6),_(1,DP,1,6,"nz-range-picker",12)(2,PP,1,6,"nz-date-picker",12),f()),t&2){let n=c();d(),x(n.f.date.range?1:2)}}function OP(t,i){}function IP(t,i){if(t&1&&(m(0,"div",7),_(1,OP,0,0,"ng-template",14),f()),t&2){let n=c();d(),u("ngTemplateOutlet",n.f.custom)("ngTemplateOutletContext",So(2,wP,n.f,n.col,n))}}function EP(t,i){if(t&1){let n=I();m(0,"label",18),je("ngModelChange",function(o){y(n);let r=c().$implicit;return Le(r.checked,o)||(r.checked=o),z(o)}),w("ngModelChange",function(){y(n);let o=c(3);return z(o.checkboxChange())}),E(1),f()}if(t&2){let n=c().$implicit;Be("ngModel",n.checked),d(),q(" ",n.text," ")}}function NP(t,i){if(t&1){let n=I();m(0,"label",19),w("ngModelChange",function(){y(n);let o=c().$implicit,r=c(2);return z(r.radioChange(o))}),E(1),f()}if(t&2){let n=c().$implicit;u("ngModel",n.checked),d(),q(" ",n.text," ")}}function $P(t,i){if(t&1&&(m(0,"li",15),_(1,EP,2,2,"label",16)(2,NP,2,2,"label",17),f()),t&2){let n=c(2);d(),x(n.f.multiple?1:2)}}function FP(t,i){if(t&1&&(m(0,"ul",8),Q(1,$P,3,1,"li",15,et),f()),t&2){let n=c();d(),U(n.f.menus)}}function VP(t,i){if(t&1){let n=I();m(0,"div",9)(1,"a",20),w("click",function(){y(n);let o=c();return z(o.confirm())}),m(2,"span"),E(3),f()(),m(4,"a",21),w("click",function(){y(n);let o=c();return z(o.reset())}),m(5,"span"),E(6),f()()()}if(t&2){let n=c();d(3),ie(n.f.confirmText||n.locale.filterConfirm),d(3),ie(n.f.clearText||n.locale.filterReset)}}var RP=["table"],AP=["contextmenuTpl"],gs=(t,i)=>({$implicit:t,index:i}),HP=()=>({$implicit:!1}),LP=()=>({$implicit:!0}),cn=t=>({$implicit:t});function jP(t,i){if(t&1&&D(0,"small",13),t&2){let n=c().$implicit;u("innerHTML",n.optional,Ae)}}function BP(t,i){if(t&1&&D(0,"i",14),t&2){let n=c().$implicit;u("nzTooltipTitle",n.optionalHelp)}}function WP(t,i){if(t&1&&(D(0,"span",12),_(1,jP,1,1,"small",13)(2,BP,1,1,"i",14)),t&2){let n=i.$implicit;u("innerHTML",n._text,Ae),d(),x(n.optional?1:-1),d(),x(n.optionalHelp?2:-1)}}function qP(t,i){if(t&1){let n=I();m(0,"label",15),je("ngModelChange",function(o){y(n);let r=c();return Le(r._allChecked,o)||(r._allChecked=o),z(o)}),w("ngModelChange",function(){y(n);let o=c();return z(o.checkAll())}),f()}if(t&2){let n=i.$implicit,e=c();F("ant-table-selection-select-all-custom",n),u("nzDisabled",e._allCheckedDisabled),Be("ngModel",e._allChecked),u("nzIndeterminate",e._indeterminate)}}function QP(t,i){if(t&1&&D(0,"th",16),t&2){let n=c(3);u("rowSpan",n._headers.length)}}function UP(t,i){if(t&1){let n=I();m(0,"nz-resize-handle",22),w("click",function(o){y(n);let r=c(5);return z(r._stopPropagation(o))}),D(1,"i"),f()}}function YP(t,i){}function KP(t,i){if(t&1&&_(0,YP,0,0,"ng-template",9),t&2){let n=c().let,e=c(),o=e.$implicit,r=e.$index;u("ngTemplateOutlet",n.__renderTitle)("ngTemplateOutletContext",Gt(2,gs,o.column,r))}}function GP(t,i){}function ZP(t,i){if(t&1&&_(0,GP,0,0,"ng-template",9),t&2){c(7);let n=L(3);u("ngTemplateOutlet",n)("ngTemplateOutletContext",Nt(2,HP))}}function XP(t,i){}function JP(t,i){if(t&1&&(m(0,"div",24)(1,"div",27),D(2,"i",28),f()()),t&2){c();let n=L(4);d(),u("nzDropdownMenu",n)}}function eM(t,i){if(t&1){let n=I();m(0,"li",29),w("click",function(){let o=y(n).$implicit,r=c(8);return z(r._rowSelection(o))}),f()}if(t&2){let n=i.$implicit;u("innerHTML",n.text,Ae)}}function tM(t,i){if(t&1&&(m(0,"div",23),_(1,XP,0,0,"ng-template",9)(2,JP,3,1,"div",24),m(3,"nz-dropdown-menu",null,6)(5,"ul",25),Q(6,eM,1,1,"li",26,et),f()()()),t&2){let n=c(3).let;c(4);let e=L(3);d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Nt(3,LP)),d(),x(n.selections.length?2:-1),d(4),U(n.selections)}}function iM(t,i){if(t&1&&_(0,ZP,1,3,null,9)(1,tM,8,4,"div",23),t&2){let n=c(2).let;x(n.selections.length===0?0:1)}}function nM(t,i){}function oM(t,i){if(t&1&&_(0,nM,0,0,"ng-template",9),t&2){let n=c(2).let;c(4);let e=L(1);u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(2,cn,n.title))}}function rM(t,i){if(t&1&&_(0,iM,2,1)(1,oM,1,4,null,9),t&2){let n,e=c().let;x((n=e.type)==="checkbox"?0:1)}}function aM(t,i){if(t&1){let n=I();m(0,"st-filter",30),w("n",function(o){y(n);let r=c(5);return z(r.handleFilterNotify(o))})("handle",function(o){y(n);let r=c().let,a=c(4);return z(a._handleFilter(r,o))}),f()}if(t&2){let n=c().let,e=c().$implicit,o=c(3);u("col",e.column)("f",n.filter)("locale",o.locale)}}function sM(t,i){if(t&1){let n=I();m(0,"th",19),w("nzSortOrderChange",function(o){let r=y(n).let,a=c(4);return z(a.sort(r,o))})("nzResizeEnd",function(o){let r=y(n).let,a=c(4);return z(a.colResize(o,r))}),_(1,UP,2,0,"nz-resize-handle",20)(2,KP,1,5,null,9)(3,rM,2,1)(4,aM,1,3,"st-filter",21),f()}if(t&2){let n=i.let,e=c(),o=e.$implicit,r=e.$index,a=e.$count;F("st__has-filter",n.filter),u("colSpan",o.colSpan)("rowSpan",o.rowSpan)("nzWidth",n.width)("nzLeft",n._left)("nzRight",n._right)("ngClass",n._className)("nzShowSort",n._sort.enabled)("nzSortOrder",n._sort.default)("nzCustomFilter",!!n.filter)("nzDisabled",r===a-1||n.resizable.disabled)("nzMaxWidth",n.resizable.maxWidth)("nzMinWidth",n.resizable.minWidth)("nzBounds",n.resizable.bounds)("nzPreview",n.resizable.preview),Z("data-col",n.indexKey)("data-col-index",r),d(),x(r!==a-1&&!n.resizable.disabled?1:-1),d(),x(n.__renderTitle?2:3),d(2),x(n.filter?4:-1)}}function lM(t,i){if(t&1&&_(0,sM,5,21,"th",18),t&2){let n=i.$implicit;u("let",n.column)}}function cM(t,i){if(t&1&&(m(0,"tr"),_(1,QP,1,1,"th",16),Q(2,lM,1,1,"th",17,ct),f()),t&2){let n=i.$implicit,e=i.$index,o=c(2);d(),x(e===0&&o.expand?1:-1),d(),U(n)}}function dM(t,i){if(t&1&&(m(0,"thead"),Q(1,cM,4,1,"tr",null,ct),f()),t&2){let n=c();d(),U(n._headers)}}function pM(t,i){}function uM(t,i){if(t&1&&_(0,pM,0,0,"ng-template",9),t&2){let n=c();u("ngTemplateOutlet",n.bodyHeader)("ngTemplateOutletContext",Fe(2,cn,n._statistical))}}function hM(t,i){if(t&1){let n=I();m(0,"td",34),w("nzExpandChange",function(o){y(n);let r=c().$implicit,a=c();return z(a._expandChange(r,o))})("click",function(o){y(n);let r=c(2);return z(r._stopPropagation(o))}),f()}if(t&2){let n=c().$implicit,e=c();u("nzShowExpand",e.expand&&n.showExpand!==!1)("nzExpand",n.expand)("nzExpandIcon",e.expandIcon)}}function mM(t,i){}function fM(t,i){if(t&1&&(m(0,"span",36),_(1,mM,0,0,"ng-template",9),f()),t&2){let n=c(2).$implicit;c(2);let e=L(1);d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(2,cn,n.title))}}function _M(t,i){if(t&1){let n=I();m(0,"td",35),_(1,fM,2,4,"span",36),m(2,"st-td",37),w("n",function(o){y(n);let r=c(3);return z(r._handleTd(o))}),f()()}if(t&2){let n=c(),e=n.$implicit,o=n.$index,r=c(),a=r.$implicit,s=r.index,l=c();u("nzLeft",!!e._left)("nzRight",!!e._right)("ngClass",e._className),Z("data-col-index",o)("colspan",(a._values[o].props==null?null:a._values[o].props.colSpan)===1||a._values[o].props==null?null:a._values[o].props.colSpan)("rowspan",(a._values[o].props==null?null:a._values[o].props.rowSpan)===1||a._values[o].props==null?null:a._values[o].props.rowSpan),d(),x(l.responsive?1:-1),d(),u("data",l._data)("i",a)("index",s)("c",e)("cIdx",o)}}function gM(t,i){if(t&1&&_(0,_M,3,12,"td",35),t&2){let n=i.$index,e=c().$implicit;x((e._values[n].props==null?null:e._values[n].props.colSpan)>0&&(e._values[n].props==null?null:e._values[n].props.rowSpan)>0?0:-1)}}function CM(t,i){}function yM(t,i){if(t&1){let n=I();m(0,"tr",31),w("click",function(o){let r=y(n),a=r.$implicit,s=r.index,l=c();return z(l._rowClick(o,a,s,!1))})("dblclick",function(o){let r=y(n),a=r.$implicit,s=r.index,l=c();return z(l._rowClick(o,a,s,!0))}),_(1,hM,1,3,"td",32),Q(2,gM,1,1,null,null,et),f(),m(4,"tr",33),_(5,CM,0,0,"ng-template",9),f()}if(t&2){let n=i.$implicit,e=i.index,o=c();u("ngClass",n._rowClassName),Z("data-index",e),d(),x(o.expand?1:-1),d(),U(o._columns),d(2),u("nzExpand",n.expand),d(),u("ngTemplateOutlet",o.expand)("ngTemplateOutletContext",Gt(6,gs,n,e))}}function zM(t,i){}function vM(t,i){if(t&1&&_(0,zM,0,0,"ng-template",9),t&2){let n=i.$implicit,e=i.index;c(2);let o=L(10);u("ngTemplateOutlet",o)("ngTemplateOutletContext",Gt(2,gs,n,e))}}function xM(t,i){t&1&&_(0,vM,1,5,"ng-template",10)}function bM(t,i){}function SM(t,i){if(t&1&&_(0,bM,0,0,"ng-template",9),t&2){let n=i.$implicit,e=i.$index;c(2);let o=L(10);u("ngTemplateOutlet",o)("ngTemplateOutletContext",Gt(2,gs,n,e))}}function wM(t,i){if(t&1&&Q(0,SM,1,5,null,9,Tr().trackBy,!0),t&2){let n=c();U(n._data)}}function TM(t,i){}function kM(t,i){if(t&1&&_(0,TM,0,0,"ng-template",9),t&2){let n=c();u("ngTemplateOutlet",n.body)("ngTemplateOutletContext",Fe(2,cn,n._statistical))}}function DM(t,i){if(t&1&&E(0),t&2){let n=i.range,e=i.$implicit,o=c();ie(o.renderTotal(e,n))}}function PM(t,i){if(t&1){let n=I();m(0,"li",29),w("click",function(){y(n);let o=c().$implicit;return z(o.fn(o))}),f()}if(t&2){let n=c().$implicit;u("innerHTML",n.text,Ae)}}function MM(t,i){if(t&1){let n=I();m(0,"li",29),w("click",function(){let o=y(n).$implicit;return z(o.fn(o))}),f()}if(t&2){let n=i.$implicit;u("innerHTML",n.text,Ae)}}function OM(t,i){if(t&1&&(m(0,"li",38)(1,"ul"),Q(2,MM,1,1,"li",26,et),f()()),t&2){let n=c().$implicit;u("nzTitle",n.text),d(2),U(n.children)}}function IM(t,i){if(t&1&&_(0,PM,1,1,"li",26)(1,OM,4,1,"li",38),t&2){let n=i.$implicit;x(n.children.length===0?0:1)}}var EM=t=>({"pl-xs":t}),NM=(t,i,n)=>({$implicit:t,index:i,column:n}),$M=t=>({$implicit:t,child:!0}),FM=t=>({$implicit:t,child:!1});function VM(t,i){}function RM(t,i){if(t&1&&(m(0,"span",6),_(1,VM,0,0,"ng-template",4),f()),t&2){let n=c(),e=n.$implicit,o=n.child;c();let r=L(3);F("d-block",o)("width-100",o),u("nzTooltipTitle",e.tooltip),d(),u("ngTemplateOutlet",r)("ngTemplateOutletContext",Fe(7,cn,e))}}function AM(t,i){}function HM(t,i){if(t&1&&_(0,AM,0,0,"ng-template",4),t&2){let n=c().$implicit;c();let e=L(3);u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(2,cn,n))}}function LM(t,i){if(t&1&&_(0,RM,2,9,"span",5)(1,HM,1,4,null,4),t&2){let n=i.$implicit;x(n.tooltip?0:1)}}function jM(t,i){}function BM(t,i){if(t&1){let n=I();m(0,"a",9),w("nzOnConfirm",function(){y(n);let o=c().$implicit,r=c();return z(r._btn(o))})("click",function(o){y(n);let r=c(2);return z(r._stopPropagation(o))}),_(1,jM,0,0,"ng-template",4),f()}if(t&2){let n=c().$implicit;c();let e=L(5);u("nzPopconfirmTitle",n.pop.title)("nzIcon",n.pop.icon)("nzCondition",n.pop.condition(n))("nzCancelText",n.pop.cancelText)("nzOkText",n.pop.okText)("nzOkType",n.pop.okType)("ngClass",n._className),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(9,cn,n))}}function WM(t,i){}function qM(t,i){if(t&1){let n=I();m(0,"a",10),w("click",function(o){y(n);let r=c().$implicit,a=c();return z(a._btn(r,o))}),_(1,WM,0,0,"ng-template",4),f()}if(t&2){let n=c().$implicit;c();let e=L(5);u("ngClass",n._className),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(3,cn,n))}}function QM(t,i){if(t&1&&_(0,BM,2,11,"a",7)(1,qM,2,5,"a",8),t&2){let n=i.$implicit;x(n.pop?0:1)}}function UM(t,i){if(t&1&&D(0,"i",12),t&2){let n=c(2).$implicit;u("nzIconfont",n._icon.iconfont)}}function YM(t,i){if(t&1&&D(0,"i",13),t&2){let n=c(2).$implicit;u("nzType",n._icon.type)("nzTheme",n._icon.theme)("nzSpin",n._icon.spin)("nzTwotoneColor",n._icon.twoToneColor)}}function KM(t,i){if(t&1&&_(0,UM,1,1,"i",12)(1,YM,1,4,"i",13),t&2){let n=c().$implicit;x(n._icon.iconfont?0:1)}}function GM(t,i){if(t&1&&(_(0,KM,2,1),D(1,"span",11)),t&2){let n=i.$implicit;x(n._icon?0:-1),d(),u("innerHTML",n._text,Ae)("ngClass",Fe(3,EM,n._icon))}}function ZM(t,i){}function XM(t,i){if(t&1&&_(0,ZM,0,0,"ng-template",4),t&2){let n=c();u("ngTemplateOutlet",n.c.__render)("ngTemplateOutletContext",So(2,NM,n.i,n.index,n.c))}}function JM(t,i){if(t&1){let n=I();m(0,"label",21),w("ngModelChange",function(o){y(n);let r=c(2);return z(r._checkbox(o))}),f()}if(t&2){let n=c(2);u("nzDisabled",n.i.disabled)("ngModel",n.i.checked)}}function eO(t,i){if(t&1){let n=I();m(0,"label",22),w("ngModelChange",function(){y(n);let o=c(2);return z(o._radio())}),f()}if(t&2){let n=c(2);u("nzDisabled",n.i.disabled)("ngModel",n.i.checked)}}function tO(t,i){if(t&1){let n=I();m(0,"a",23),w("click",function(o){y(n);let r=c(2);return z(r._link(o))}),f()}if(t&2){let n=c(2);u("innerHTML",n.i._values[n.cIdx]._text,Ae),Z("title",n.i._values[n.cIdx].text)}}function iO(t,i){if(t&1&&(m(0,"nz-tag",17),D(1,"span",16),f()),t&2){let n=c(2);u("nzColor",n.i._values[n.cIdx].color)("nz-tooltip",n.i._values[n.cIdx].tooltip),d(),u("innerHTML",n.i._values[n.cIdx]._text,Ae)}}function nO(t,i){if(t&1&&D(0,"nz-badge",18),t&2){let n=c(2);u("nzStatus",n.i._values[n.cIdx].color)("nzText",n.i._values[n.cIdx].text)("nz-tooltip",n.i._values[n.cIdx].tooltip)}}function oO(t,i){if(t&1&&D(0,"cell",19),t&2){let n,e=c(2);u("value",e.i._values[e.cIdx].text)("options",(n=e.i._values[e.cIdx].cell)!==null&&n!==void 0?n:e.c.cell)}}function rO(t,i){}function aO(t,i){if(t&1&&_(0,rO,0,0,"ng-template",20),t&2){let n=c(2);u("record",n.i)("column",n.c)}}function sO(t,i){if(t&1&&D(0,"span",24),t&2){let n=c(3);u("innerText",n.i._values[n.cIdx]._text),Z("title",n.c._isTruncate?n.i._values[n.cIdx].text:null)}}function lO(t,i){if(t&1&&D(0,"span",16),t&2){let n=c(3);u("innerHTML",n.i._values[n.cIdx]._text,Ae),Z("title",n.c._isTruncate?n.i._values[n.cIdx].text:null)}}function cO(t,i){if(t&1&&_(0,sO,1,2,"span",24)(1,lO,1,2,"span",16),t&2){let n=c(2);x(n.c.safeType==="text"?0:1)}}function dO(t,i){t&1&&D(0,"li",30)}function pO(t,i){}function uO(t,i){if(t&1&&(m(0,"li",32),_(1,pO,0,0,"ng-template",4),f()),t&2){let n=c().$implicit;c(4);let e=L(1);F("st__btn-disabled",n._disabled),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(4,$M,n))}}function hO(t,i){if(t&1&&_(0,dO,1,0,"li",30)(1,uO,2,6,"li",31),t&2){let n=i.$implicit;x(n.type==="divider"?0:1)}}function mO(t,i){if(t&1&&(m(0,"a",27),D(1,"span",16)(2,"i",28),f(),m(3,"nz-dropdown-menu",null,3)(5,"ul",29),Q(6,hO,2,1,null,null,et),f()()),t&2){let n=L(4),e=c().$implicit;u("nzDropdownMenu",n),d(),u("innerHTML",e._text,Ae),d(5),U(e.children)}}function fO(t,i){}function _O(t,i){if(t&1&&(m(0,"span"),_(1,fO,0,0,"ng-template",4),f()),t&2){let n=c().$implicit;c(2);let e=L(1);F("st__btn-disabled",n._disabled),d(),u("ngTemplateOutlet",e)("ngTemplateOutletContext",Fe(4,FM,n))}}function gO(t,i){t&1&&D(0,"nz-divider",26)}function CO(t,i){if(t&1&&_(0,mO,8,2)(1,_O,2,6,"span",25)(2,gO,1,0,"nz-divider",26),t&2){let n=i.$implicit,e=i.$index,o=i.$count;x(n.children.length>0?0:1),d(2),x(e!==o-1?2:-1)}}function yO(t,i){if(t&1&&(_(0,JM,1,2,"label",14)(1,eO,1,2,"label",15)(2,tO,1,2,"a",16)(3,iO,2,3,"nz-tag",17)(4,nO,1,3,"nz-badge",18)(5,oO,1,2,"cell",19)(6,aO,1,2,null,20)(7,cO,2,1),Q(8,CO,3,2,null,null,et)),t&2){let n,e=c();x((n=e.c.type)==="checkbox"?0:n==="radio"?1:n==="link"?2:n==="tag"?3:n==="badge"?4:n==="cell"?5:n==="widget"?6:7),d(8),U(e.i._values[e.cIdx].buttons)}}var _d=(()=>{let i=class i{constructor(){this.titles={},this.rows={}}add(e,o,r){this[e==="title"?"titles":"rows"][o]=r}getTitle(e){return this.titles[e]}getRow(e){return this.rows[e]}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),HA=(()=>{let i=class i{constructor(){this.source=O(_d,{host:!0}),this.ref=O(si)}ngOnInit(){this.source.add(this.type,this.id,this.ref)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["","st-row",""]],inputs:{id:[0,"st-row","id"],type:"type"}});let t=i;return t})(),gd=(()=>{let i=class i{constructor(){this._widgets={}}get widgets(){return this._widgets}register(e,o){this._widgets[e]=o}has(e){return this._widgets.hasOwnProperty(e)}get(e){return this._widgets[e]}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),S0=(()=>{let i=class i{constructor(e,o,r,a,s){this.dom=e,this.rowSource=o,this.acl=r,this.i18nSrv=a,this.stWidgetRegistry=s}setCog(e){this.cog=e}fixPop(e,o){if(e.pop==null||e.pop===!1){e.pop=!1;return}let r=T({},o);typeof e.pop=="string"?r.title=e.pop:typeof e.pop=="object"&&(r=T(T({},r),e.pop)),typeof r.condition!="function"&&(r.condition=()=>!1),e.pop=r}btnCoerce(e){if(!e)return[];let o=[],{modal:r,drawer:a,pop:s,btnIcon:l}=this.cog;for(let p of e)this.acl&&p.acl&&!this.acl.can(p.acl)||((p.type==="modal"||p.type==="static")&&(p.modal==null||p.modal.component==null?p.type="none":p.modal=T(T({paramsName:"record",size:"lg"},r),p.modal)),p.type==="drawer"&&(p.drawer==null||p.drawer.component==null?p.type="none":p.drawer=T(T({paramsName:"record",size:"lg"},a),p.drawer)),p.type==="del"&&typeof p.pop>"u"&&(p.pop=!0),this.fixPop(p,s),typeof p.icon!="function"&&(p.icon=T(T({},l),typeof p.icon=="string"?{type:p.icon}:p.icon)),p.children=p.children&&p.children.length>0?this.btnCoerce(p.children):[],p.i18n&&this.i18nSrv&&(p.text=this.i18nSrv.fanyi(p.i18n)),o.push(p));return this.btnCoerceIf(o),o}btnCoerceIf(e){for(let o of e)o.iifBehavior=o.iifBehavior||this.cog.iifBehavior,o.children&&o.children.length>0?this.btnCoerceIf(o.children):o.children=[]}fixedCoerce(e){let o=(r,a)=>r+ +a.width.toString().replace("px","");e.filter(r=>r.fixed&&r.fixed==="left"&&r.width).forEach((r,a)=>r._left=`${e.slice(0,a).reduce(o,0)}px`),e.filter(r=>r.fixed&&r.fixed==="right"&&r.width).reverse().forEach((r,a)=>r._right=`${a>0?e.slice(-a).reduce(o,0):0}px`)}sortCoerce(e){let o=this.fixSortCoerce(e);return o.reName=T(T({},this.cog.sortReName),o.reName),o}fixSortCoerce(e){if(typeof e.sort>"u")return{enabled:!1};let o={};return typeof e.sort=="string"?o.key=e.sort:typeof e.sort!="boolean"?o=e.sort:typeof e.sort=="boolean"&&(o.compare=(r,a)=>r[e.indexKey]-a[e.indexKey]),o.key||(o.key=e.indexKey),o.enabled=!0,o}filterCoerce(e){if(e.filter==null)return null;let o=e.filter;o.type=o.type||"default",o.showOPArea=o.showOPArea!==!1;let r="filter",a="fill",s=!0,l;switch(o.type){case"keyword":r="search",a="outline";break;case"number":r="search",a="outline",o.number=T({step:1,min:-1/0,max:1/0},o.number);break;case"date":r="calendar",a="outline",o.date=T({range:!1,mode:"date",showToday:!0,showNow:!1},o.date);break;case"custom":break;default:s=!1;break}if(s&&(o.menus==null||o.menus.length===0)&&(o.menus=[{value:l}]),o.menus?.length===0)return null;typeof o.multiple>"u"&&(o.multiple=!0),o.confirmText=o.confirmText||this.cog.filterConfirmText,o.clearText=o.clearText||this.cog.filterClearText,o.key=o.key||e.indexKey,o.icon=o.icon||r;let p={type:r,theme:a};return typeof o.icon=="string"?o.icon=ce(T({},p),{type:o.icon}):o.icon=T(T({},p),o.icon),this.updateDefault(o),this.acl&&(o.menus=o.menus?.filter(h=>this.acl.can(h.acl))),o.menus?.length===0?null:o}restoreRender(e){e.renderTitle&&(e.__renderTitle=typeof e.renderTitle=="string"?this.rowSource.getTitle(e.renderTitle):e.renderTitle),e.render&&(e.__render=typeof e.render=="string"?this.rowSource.getRow(e.render):e.render)}widgetCoerce(e){e.type==="widget"&&(e.widget==null||!this.stWidgetRegistry.has(e.widget.type))&&delete e.type}genHeaders(e){let o=[],r=[],a=(l,p,h=0)=>{o[h]=o[h]||[];let g=p;return l.map(C=>{let b={column:C,colStart:g,hasSubColumns:!1},S=1,$=C.children;return Array.isArray($)&&$.length>0?(S=a($,g,h+1).reduce((P,W)=>P+W,0),b.hasSubColumns=!0):r.push(b.column.width||""),"colSpan"in C&&(S=C.colSpan),"rowSpan"in C&&(b.rowSpan=C.rowSpan),b.colSpan=S,b.colEnd=b.colStart+S-1,o[h].push(b),g+=S,S})};a(e,0);let s=o.length;for(let l=0;l<s;l+=1)o[l].forEach(p=>{!("rowSpan"in p)&&!p.hasSubColumns&&(p.rowSpan=s-l)});return{headers:o,headerWidths:s>1?r:null}}cleanCond(e){let o=[],r=ci(e);for(let a of r)typeof a.iif=="function"&&!a.iif(a)||this.acl&&a.acl&&!this.acl.can(a.acl)||(Array.isArray(a.children)&&a.children.length>0&&(a.children=this.cleanCond(a.children)),o.push(a));return o}mergeClass(e){let o=[];e._isTruncate&&o.push("text-truncate");let r=e.className;if(!r){let l={number:"text-right",currency:"text-right",date:"text-center"}[e.type];l&&o.push(l),e._className=o;return}let a=Array.isArray(r);if(!a&&typeof r=="object"){let l=r;o.forEach(p=>l[p]=!0),e._className=l;return}let s=a?Array.from(r):[r];s.splice(0,0,...o),e._className=[...new Set(s)].filter(l=>!!l)}process(e,o){if(!e||e.length===0)return{columns:[],headers:[],headerWidths:null};let{noIndex:r}=this.cog,a=0,s=0,l=0,p=[],h=C=>{C.index&&(Array.isArray(C.index)||(C.index=C.index.toString().split(".")),C.indexKey=C.index.join("."));let b=(typeof C.title=="string"?{text:C.title}:C.title)||{};return b.i18n&&this.i18nSrv&&(b.text=this.i18nSrv.fanyi(b.i18n)),b.text&&(b._text=this.dom.bypassSecurityTrustHtml(b.text)),C.title=b,C.type==="no"&&(C.noIndex=C.noIndex==null?r:C.noIndex),C.selections==null&&(C.selections=[]),C.type==="checkbox"&&(++a,C.width||(C.width=`${C.selections.length>0?62:50}px`)),this.acl&&(C.selections=C.selections.filter(S=>this.acl.can(S.acl))),C.type==="radio"&&(++s,C.selections=[],C.width||(C.width="50px")),C.cell!=null&&(C.type="cell"),C.type==="yn"&&(C.yn=T(T({truth:!0},this.cog.yn),C.yn)),C.type==="date"&&(C.dateFormat=C.dateFormat||this.cog.date?.format),(C.type==="link"&&typeof C.click!="function"||C.type==="badge"&&C.badge==null||C.type==="tag"&&C.tag==null||C.type==="enum"&&C.enum==null)&&(C.type=""),C._isTruncate=!!C.width&&o.widthMode.strictBehavior==="truncate"&&C.type!=="img",this.mergeClass(C),typeof C.width=="number"&&(C._width=C.width,C.width=`${C.width}px`),C._left=!1,C._right=!1,C.safeType=C.safeType??o.safeType,C._sort=this.sortCoerce(C),C.filter=this.filterCoerce(C),C.buttons=this.btnCoerce(C.buttons),this.widgetCoerce(C),this.restoreRender(C),C.resizable=T(T({disabled:!0,bounds:"window",minWidth:60,maxWidth:360,preview:!0},o.resizable),typeof C.resizable=="boolean"?{disabled:!C.resizable}:C.resizable),C.__point=l++,C},g=C=>{for(let b of C)p.push(h(b)),Array.isArray(b.children)&&g(b.children)},v=this.cleanCond(e);if(g(v),a>1)throw new Error("[st]: just only one column checkbox");if(s>1)throw new Error("[st]: just only one column radio");return this.fixedCoerce(p),T({columns:p.filter(C=>!Array.isArray(C.children)||C.children.length===0)},this.genHeaders(v))}restoreAllRender(e){e.forEach(o=>this.restoreRender(o))}updateDefault(e){return e.menus==null?this:(e.type==="default"?e.default=e.menus.findIndex(o=>o.checked)!==-1:e.default=!!e.menus[0].value,this)}cleanFilter(e){let o=e.filter;return o.default=!1,o.type==="default"?o.menus.forEach(r=>r.checked=!1):o.menus[0].value=void 0,this}};i.\u0275fac=function(o){return new(o||i)(it(vi),it(_d,1),it(Or,8),it(un,8),it(gd))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),w0=(()=>{let i=class i{constructor(e,o,r,a,s,l){this.http=e,this.datePipe=o,this.ynPipe=r,this.numberPipe=a,this.currencySrv=s,this.dom=l,this.sortTick=0}setCog(e){this.cog=e}process(e){let o,r=!1,{data:a,res:s,total:l,page:p,pi:h,ps:g,paginator:v,columns:C,headers:b}=e,S,$,P,W,se,Ve=p.show;return typeof a=="string"?(r=!0,o=this.getByRemote(a,e).pipe(_e(B=>{se=B;let Ie;if(Array.isArray(B))Ie=B,S=Ie.length,$=S,Ve=!1;else{let tt=s.reName;if(typeof tt=="function"){let Kt=tt(B,{pi:h,ps:g,total:l});Ie=Kt.list,S=Kt.total}else{Ie=ko(B,tt.list,[]),(Ie==null||!Array.isArray(Ie))&&(Ie=[]);let Kt=tt.total&&ko(B,tt.total,null);S=Kt==null?l||0:+Kt}}return ci(Ie)}))):a==null||Array.isArray(a)?o=xt(a??[]):o=a,r||(o=o.pipe(_e(B=>{se=B;let Ie=ci(B),tt=this.getSorterFn(b);return tt&&(Ie=Ie.sort(tt)),Ie}),_e(B=>(C.filter(Ie=>Ie.filter).forEach(Ie=>{let tt=Ie.filter,Kt=this.getFilteredData(tt);if(Kt.length===0)return;let Dn=tt.fn;typeof Dn=="function"&&(B=B.filter(dn=>Kt.some(xo=>Dn(xo,dn))))}),B)),_e(B=>{if(v&&p.front){let Ie=Math.ceil(B.length/g);if(W=Math.max(1,h>Ie?Ie:h),S=B.length,p.show===!0)return B.slice((W-1)*g,W*g)}return B}))),typeof s.process=="function"&&(o=o.pipe(_e(B=>s.process(B,se)))),o=o.pipe(_e(B=>this.optimizeData({result:B,columns:C,rowClassName:e.rowClassName}))),o.pipe(_e(B=>{P=B;let Ie=S||l,tt=$||g;return{pi:W,ps:$,total:S,list:P,statistical:this.genStatistical(C,P,se),pageShow:typeof Ve>"u"?Ie>tt:Ve}}))}get(e,o,r){try{let a=o.safeType==="safeHtml";if(o.format){let g=o.format(e,o,r)||"";return{text:g,_text:a?this.dom.bypassSecurityTrustHtml(g):g,org:g,safeType:o.safeType}}let s=ko(e,o.index,o.default),l=s,p,h;switch(o.type){case"no":l=this.getNoIndex(e,o,r);break;case"img":l=s?`<img src="${s}" class="img">`:"";break;case"number":l=this.numberPipe.transform(s,o.numberDigits);break;case"currency":l=this.currencySrv.format(s,o.currency?.format);break;case"date":l=s==null||s===o.default||typeof s=="number"&&s<=0?o.default:this.datePipe.transform(s,o.dateFormat);break;case"yn":l=this.ynPipe.transform(s===o.yn.truth,o.yn.yes,o.yn.no,o.yn.mode,!1);break;case"enum":l=o.enum[s];break;case"tag":case"badge":let g=o.type==="tag"?o.tag:o.badge;if(g&&g[l]){let v=g[l];l=v.text,p=v.color,h=v.tooltip}else l="";break}return l==null&&(l=""),{text:l,_text:a?this.dom.bypassSecurityTrustHtml(l):l,org:s,color:p,tooltip:h,safeType:o.safeType,buttons:[]}}catch(a){let s="INVALID DATA";return console.error("Failed to get data",e,o,a),{text:s,_text:s,org:s,buttons:[],safeType:"text"}}}getByRemote(e,o){let{req:r,page:a,paginator:s,pi:l,ps:p,singleSort:h,multiSort:g,columns:v,headers:C}=o,b=(r.method||"GET").toUpperCase(),S={},$=r.reName;s&&(r.type==="page"?S={[$.pi]:a.zeroIndexed?l-1:l,[$.ps]:p}:S={[$.skip]:(l-1)*p,[$.limit]:p}),S=T(T(T(T({},S),r.params),this.getReqSortMap(h,g,C)),this.getReqFilterMap(v)),o.req.ignoreParamNull==!0&&Object.keys(S).forEach(W=>{S[W]==null&&delete S[W]});let P={params:S,body:r.body,headers:r.headers};return b==="POST"&&r.allInBody===!0&&(P={body:T(T({},r.body),S),headers:r.headers}),typeof r.process=="function"&&(P=r.process(P)),P.params instanceof Ss||(P.params=new Ss({fromObject:P.params})),typeof o.customRequest=="function"?o.customRequest({method:b,url:e,options:P}):this.http.request(b,e,P)}getCell(e,o,r){let a=typeof e.onCell=="function"?e.onCell(o,r):null,s=a?.colSpan??1,l=a?.rowSpan??1;return{colSpan:s<=0?null:s,rowSpan:l<=0?null:l}}optimizeData(e){let{result:o,columns:r,rowClassName:a}=e;for(let s=0,l=o.length;s<l;s++)o[s]._values=r.map(p=>{let h=this.getCell(p,o[s],s);if(Array.isArray(p.buttons)&&p.buttons.length>0)return{buttons:this.genButtons(p.buttons,o[s],p),_text:"",props:h};let g;return typeof p.cell=="function"&&(g=p.cell(o[s],p)),ce(T({},this.get(o[s],p,s)),{props:h,cell:g})}),o[s]._rowClassName=[a?a(o[s],s):null,o[s].className].filter(p=>!!p).join(" ");return o}getNoIndex(e,o,r){return typeof o.noIndex=="function"?o.noIndex(e,o,r):o.noIndex+r}genButtons(e,o,r){let a=p=>ci(p).filter(h=>{let g=typeof h.iif=="function"?h.iif(o,h,r):!0,v=h.iifBehavior==="disabled";return h._result=g,h._disabled=!g&&v,h.children?.length&&(h.children=a(h.children)),g||v}),s=a(e),l=p=>{for(let h of p)h._text=typeof h.text=="function"?h.text(o,h):h.text||"",h._className=typeof h.className=="function"?h.className(o,h):h.className,h._icon=typeof h.icon=="function"?h.icon(o,h):h.icon,h.children?.length&&(h.children=l(h.children));return p};return this.fixMaxMultiple(l(s),r)}fixMaxMultiple(e,o){let r=o.maxMultipleButton,a=e.length;if(r==null||a<=0)return e;let s=T(T({},this.cog.maxMultipleButton),typeof r=="number"?{count:r}:r);if(s.count>=a)return e;let l=e.slice(0,s.count);return l.push({_text:s.text,children:e.slice(s.count)}),l}getValidSort(e){return e.reduce((o,r)=>{let a=r.map(s=>s.column).filter(s=>s._sort&&s._sort.enabled&&s._sort.default).map(s=>s._sort);return o.concat(...a)},[])}getSorterFn(e){let o=this.getValidSort(e);if(o.length===0)return;let r=o[0];if(r.compare!==null&&typeof r.compare=="function")return(a,s)=>{let l=r.compare(a,s);return l!==0?r.default==="descend"?-l:l:0}}get nextSortTick(){return++this.sortTick}getReqSortMap(e,o,r){let a={},s=this.getValidSort(r);if(o){let g=T({key:"sort",separator:"-",nameSeparator:".",keepEmptyKey:!0,arrayParam:!1},o),v=s.sort((C,b)=>C.tick-b.tick).map(C=>C.key+g.nameSeparator+((C.reName||{})[C.default]||C.default));return a={[g.key]:g.arrayParam?v:v.join(g.separator)},v.length===0&&g.keepEmptyKey===!1?{}:a}if(s.length===0)return a;let l=s[0],p=l.key,h=(s[0].reName||{})[l.default]||l.default;return e&&(h=p+(e.nameSeparator||".")+h,p=e.key||"sort"),a[p]=h,a}getFilteredData(e){return e.type==="default"?e.menus.filter(o=>o.checked===!0):e.menus.slice(0,1)}getReqFilterMap(e){let o={};return e.filter(r=>r.filter&&r.filter.default===!0).forEach(r=>{let a=r.filter,s=this.getFilteredData(a),l={};a.reName?l=a.reName(a.menus,r):l[a.key]=s.map(p=>p.value).join(","),o=T(T({},o),l)}),o}genStatistical(e,o,r){let a={};return e.forEach((s,l)=>{a[s.key||s.indexKey||l]=s.statistical==null?{}:this.getStatistical(s,l,o,r)}),a}getStatistical(e,o,r,a){let s=e.statistical,l=T({digits:2,currency:void 0},typeof s=="string"?{type:s}:s),p={value:0},h=!1;if(typeof l.type=="function")p=l.type(this.getValues(o,r),e,r,a),h=!0;else switch(l.type){case"count":p.value=r.length;break;case"distinctCount":p.value=this.getValues(o,r).filter((g,v,C)=>C.indexOf(g)===v).length;break;case"sum":p.value=this.toFixed(this.getSum(o,r),l.digits),h=!0;break;case"average":p.value=this.toFixed(this.getSum(o,r)/r.length,l.digits),h=!0;break;case"max":p.value=Math.max(...this.getValues(o,r)),h=!0;break;case"min":p.value=Math.min(...this.getValues(o,r)),h=!0;break}return l.currency===!0||l.currency==null&&h===!0?p.text=this.currencySrv.format(p.value,e.currency?.format):p.text=String(p.value),p}toFixed(e,o){return isNaN(e)||!isFinite(e)?0:parseFloat(e.toFixed(o))}getValues(e,o){return o.map(r=>r._values[e].org).map(r=>r===""||r==null?0:r)}getSum(e,o){return this.getValues(e,o).reduce((r,a)=>r+=parseFloat(String(a)),0)}};i.\u0275fac=function(o){return new(o||i)(it(Mp),it(Bn,1),it(qr,1),it($n,1),it(Jr),it(vi))},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),T0=(()=>{let i=class i{constructor(){this.xlsxSrv=O(Qf)}_stGet(e,o,r,a){let s={t:"s",v:""};if(o.format)s.v=o.format(e,o,r);else{let l=e._values?e._values[a].text:ko(e,o.index,"");if(s.v=l,l!=null)switch(o.type){case"currency":s.t="n";break;case"date":`${l}`.length>0&&(s.t="d",s.z=o.dateFormat);break;case"yn":let p=o.yn;s.v=l===p.truth?p.yes:p.no;break}}return s.v=s.v??"",s}genSheet(e){let o={},r=o[e.sheetname||"Sheet1"]={},a=e.data.length,s=e.columens,l=0,p=!1,h=g=>g.exported===!1||!g.index||!(!g.buttons||g.buttons.length===0);for(let[g,v]of s.entries()){if(h(v))continue;!p&&v._width!=null&&(p=!0),++l;let C=this.xlsxSrv.numberToSchema(l);r[`${C}1`]={t:"s",v:typeof v.title=="object"?v.title.text:v.title};for(let b=0;b<a;b++)r[`${C}${b+2}`]=this._stGet(e.data[b],v,b,g)}return p&&(r["!cols"]=s.filter(g=>!h(g)).map(g=>({wpx:g._width}))),l>0&&a>0&&(r["!ref"]=`A1:${this.xlsxSrv.numberToSchema(l)}${a+1}`),o}export(e){return yi(this,null,function*(){let o=this.genSheet(e);return this.xlsxSrv.export({sheets:o,filename:e.filename,callback:e.callback})})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Qe({token:i,factory:i.\u0275fac});let t=i;return t})(),zO=(()=>{let i=class i{constructor(){this.stWidgetRegistry=O(gd),this.viewContainerRef=O(qi)}ngOnInit(){let e=this.column.widget,o=this.stWidgetRegistry.get(e.type);this.viewContainerRef.clear();let r=this.viewContainerRef.createComponent(o),{record:a,column:s}=this,l=e.params?e.params({record:a,column:s}):{record:a};Object.keys(l).forEach(p=>{r.instance[p]=l[p]})}};i.\u0275fac=function(o){return new(o||i)},i.\u0275dir=be({type:i,selectors:[["","st-widget-host",""]],inputs:{record:"record",column:"column"}});let t=i;return t})(),vO={pi:1,ps:10,size:"default",responsive:!0,responsiveHideHeaderFooter:!1,req:{type:"page",method:"GET",allInBody:!1,lazyLoad:!1,ignoreParamNull:!1,reName:{pi:"pi",ps:"ps",skip:"skip",limit:"limit"}},res:{reName:{list:["list"],total:["total"]}},page:{front:!0,zeroIndexed:!1,position:"bottom",placement:"right",show:!0,showSize:!1,pageSizes:[10,20,30,40,50],showQuickJumper:!1,total:!0,toTop:!0,toTopOffset:100,itemRender:null,simple:!1},modal:{paramsName:"record",size:"lg",exact:!0},drawer:{paramsName:"record",size:"md",footer:!0,footerHeight:55},pop:{title:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F",trigger:"click",placement:"top"},btnIcon:{theme:"outline",spin:!1},noIndex:1,expandRowByClick:!1,expandAccordion:!1,widthMode:{type:"default",strictBehavior:"truncate"},virtualItemSize:54,virtualMaxBufferPx:200,virtualMinBufferPx:100,iifBehavior:"hide",loadingDelay:0,safeType:"safeHtml",date:{format:"yyyy-MM-dd HH:mm"},yn:{truth:!0,yes:"\u662F",mode:"icon"},maxMultipleButton:{text:"\u66F4\u591A",count:2}},xO=(()=>{let i=class i{constructor(){this.cdr=O(xe),this.visible=!1,this.locale={},this.n=new R,this.handle=new R}get icon(){return this.f.icon}stopPropagation(e){e.stopPropagation()}checkboxChange(){this.n.emit(this.f.menus?.filter(e=>e.checked))}radioChange(e){this.f.menus.forEach(o=>o.checked=!1),e.checked=!e.checked,this.n.emit(e)}close(e){e!=null&&this.handle.emit(e),this.visible=!1,this.cdr.detectChanges()}confirm(){return this.handle.emit(!0),this}reset(){return this.handle.emit(!1),this}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["st-filter"]],hostVars:6,hostBindings:function(o,r){o&2&&F("ant-table-filter-trigger-container",!0)("st__filter",!0)("ant-table-filter-trigger-container-open",r.visible)},inputs:{col:"col",locale:"locale",f:"f"},outputs:{n:"n",handle:"handle"},decls:11,vars:9,consts:[["filterMenu","nzDropdownMenu"],["nz-dropdown","","nzTrigger","click","nzOverlayClassName","st__filter-wrap",1,"ant-table-filter-trigger",3,"nzVisibleChange","click","nzDropdownMenu","nzClickHide","nzVisible"],["nz-icon","",3,"nzType","nzTheme"],[1,"ant-table-filter-dropdown"],[1,"st__filter-keyword"],[1,"p-sm","st__filter-number"],[1,"p-sm","st__filter-date"],[1,"st__filter-custom"],["nz-menu",""],[1,"ant-table-filter-dropdown-btns"],["type","text","nz-input","",3,"ngModelChange","keyup.enter","ngModel"],[1,"width-100",3,"ngModelChange","ngModel","nzMin","nzMax","nzStep","nzPrecision","nzPlaceHolder"],["nzInline","",3,"nzMode","ngModel","nzShowNow","nzShowToday","nzDisabledDate","nzDisabledTime"],["nzInline","",3,"ngModelChange","nzMode","ngModel","nzShowNow","nzShowToday","nzDisabledDate","nzDisabledTime"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-menu-item",""],["nz-checkbox","",3,"ngModel"],["nz-radio","",3,"ngModel"],["nz-checkbox","",3,"ngModelChange","ngModel"],["nz-radio","",3,"ngModelChange","ngModel"],[1,"ant-table-filter-dropdown-link","confirm",3,"click"],[1,"ant-table-filter-dropdown-link","clear",3,"click"]],template:function(o,r){if(o&1){let a=I();m(0,"span",1),je("nzVisibleChange",function(l){return y(a),Le(r.visible,l)||(r.visible=l),z(l)}),w("click",function(l){return y(a),z(r.stopPropagation(l))}),D(1,"i",2),f(),m(2,"nz-dropdown-menu",null,0)(4,"div",3),_(5,TP,2,2,"div",4)(6,kP,2,6,"div",5)(7,MP,3,1,"div",6)(8,IP,2,6,"div",7)(9,FP,3,0,"ul",8)(10,VP,7,2,"div",9),f()()}if(o&2){let a,s=L(3);F("active",r.visible||r.f.default),u("nzDropdownMenu",s)("nzClickHide",!1),Be("nzVisible",r.visible),d(),u("nzType",r.icon.type)("nzTheme",r.icon.theme),d(4),x((a=r.f.type)==="keyword"?5:a==="number"?6:a==="date"?7:a==="custom"?8:9),d(5),x(r.f.showOPArea?10:-1)}},dependencies:[ae,Fi,Ge,We,Pe,Zt,mn,hn,hi,fn,Wi,$o,na,Bi,ts],encapsulation:2,changeDetection:0});let t=i;return t})(),bO=(()=>{let i=class i{get req(){return this._req}set req(e){this._req=Fn({},!0,this.cog.req,e)}get res(){return this._res}set res(e){let o=this._res=Fn({},!0,this.cog.res,e),r=o.reName;typeof r!="function"&&(Array.isArray(r.list)||(r.list=r.list.split(".")),Array.isArray(r.total)||(r.total=r.total.split("."))),this._res=o}get page(){return this._page}set page(e){this._page=T(T({},this.cog.page),e),this.updateTotalTpl()}get multiSort(){return this._multiSort}set multiSort(e){if(typeof e=="boolean"&&!M(e)||typeof e=="object"&&Object.keys(e).length===0){this._multiSort=void 0;return}this._multiSort=T({},typeof e=="object"?e:{})}set widthMode(e){this._widthMode=T(T({},this.cog.widthMode),e)}get widthMode(){return this._widthMode}set widthConfig(e){this._widthConfig=e,this.customWidthConfig=e&&e.length>0}set resizable(e){this._resizable=typeof e=="object"?e:{disabled:!M(e)}}get count(){return this._data.length}get list(){return this._data}get noColumns(){return this.columns==null}constructor(e){this.i18nSrv=O(un),this.el=O(ee).nativeElement,this.cdr=O(xe),this.doc=O(zi),this.exportSrv=O(T0),this.columnSource=O(S0),this.dataSource=O(w0),this.delonI18n=O(Wr),this.cms=O(Gp,{optional:!0}),this.destroy$=O(In),this.totalTpl="",this.inied=!1,this.customWidthConfig=!1,this._widthConfig=[],this.locale={},this._loading=!1,this._data=[],this._statistical={},this._isPagination=!0,this._allChecked=!1,this._allCheckedDisabled=!1,this._indeterminate=!1,this._headers=[],this._columns=[],this.contextmenuList=[],this.ps=10,this.pi=1,this.total=0,this.loading=null,this.loadingDelay=0,this.loadingIndicator=null,this.bordered=!1,this.scroll={x:null,y:null},this.showHeader=!0,this.expandRowByClick=!1,this.expandAccordion=!1,this.expand=null,this.expandIcon=null,this.responsive=!0,this.error=new R,this.change=new R,this.virtualScroll=!1,this.virtualItemSize=54,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=o=>o,this.trackBy=(o,r)=>r,this.delonI18n.change.pipe(Pt()).subscribe(()=>{this.locale=this.delonI18n.getData("st"),this._columns.length>0&&(this.updateTotalTpl(),this.cd())}),this.i18nSrv.change.pipe(Pt(),Ye(()=>this._columns.length>0)).subscribe(()=>this.refreshColumns()),this.setCog(e.merge("st",vO))}setCog(e){let o=T({},e.multiSort);delete e.multiSort,this.cog=e,Object.assign(this,e),o.global!==!1&&(this.multiSort=o),this.columnSource.setCog(e),this.dataSource.setCog(e)}cd(){return this.cdr.detectChanges(),this}refreshData(){return this._data=[...this._data],this.cd()}renderTotal(e,o){return this.totalTpl?this.totalTpl.replace("{{total}}",e).replace("{{range[0]}}",o[0]).replace("{{range[1]}}",o[1]):""}changeEmit(e,o){let r={type:e,pi:this.pi,ps:this.ps,total:this.total};o!=null&&(r[e]=o),this.change.emit(r)}get filteredData(){return this.loadData({paginator:!1}).pipe(_e(e=>e.list))}updateTotalTpl(){let{total:e}=this.page;typeof e=="string"&&e.length?this.totalTpl=e:M(e)?this.totalTpl=this.locale.total:this.totalTpl=""}setLoading(e){this.loading==null&&(this._loading=e,this.cdr.detectChanges())}loadData(e){let{pi:o,ps:r,data:a,req:s,res:l,page:p,total:h,singleSort:g,multiSort:v,rowClassName:C,_columns:b,_headers:S}=this;return this.dataSource.process(T({pi:o,ps:r,total:h,data:a,req:s,res:l,page:p,columns:b,headers:S,singleSort:g,multiSort:v,rowClassName:C,paginator:!0,customRequest:this.customRequest||this.cog.customRequest},e)).pipe(Pt(this.destroy$))}loadPageData(){return this.setLoading(!0),this.loadData().pipe(Sr(()=>this.setLoading(!1)),vr(e=>(this.error.emit({type:"req",error:e}),kd(()=>e))),_e(e=>{let o="undefined";return typeof e.pi!==o&&(this.pi=e.pi),typeof e.ps!==o&&(this.ps=e.ps),typeof e.total!==o&&(this.total=e.total),typeof e.pageShow!==o&&(this._isPagination=e.pageShow),this._data=e.list??[],this._statistical=e.statistical,this.cdkVirtualScrollViewport!=null&&Promise.resolve().then(()=>this.cdkVirtualScrollViewport?.checkViewportSize()),this._refCheck(),this.changeEmit("loaded",e.list),this}))}clear(e=!0){return e&&this.clearStatus(),this._data=[],this.cd()}clearStatus(){return this.clearCheck().clearRadio().clearFilter().clearSort()}load(e=1,o,r){return e!==-1&&(this.pi=e),typeof o<"u"&&(this.req.params=r&&r.merge?T(T({},this.req.params),o):o),this._change("pi",r),this}reload(e,o){return this.load(-1,e,o)}reset(e,o){return this.clearStatus().load(1,e,o),this}_toTop(e){if(!(e??this.page.toTop))return;let o=this.el;o.scrollIntoView(),this.doc.documentElement.scrollTop-=this.page.toTopOffset,this.scroll&&(this.cdkVirtualScrollViewport?this.cdkVirtualScrollViewport.scrollTo({top:0,left:0}):o.querySelector(".ant-table-body, .ant-table-content")?.scrollTo(0,0))}_change(e,o){(e==="pi"||e==="ps"&&this.pi<=Math.ceil(this.total/this.ps))&&this.loadPageData().subscribe(()=>this._toTop(o?.toTop)),this.changeEmit(e)}closeOtherExpand(e){this.expandAccordion!==!1&&this._data.filter(o=>o!==e).forEach(o=>o.expand=!1)}_rowClick(e,o,r,a){let s=e.target;if(s.nodeName==="INPUT")return;let{expand:l,expandRowByClick:p}=this;if(l&&o.showExpand!==!1&&p){o.expand=!o.expand,this.closeOtherExpand(o),this.changeEmit("expand",o);return}let h={e,item:o,index:r};a?this.changeEmit("dblClick",h):(this._clickRowClassName(s,o,r),this.changeEmit("click",h))}_clickRowClassName(e,o,r){let a=this.clickRowClassName;if(a==null)return;let s=T({exclusive:!1},typeof a=="string"?{fn:()=>a}:a),l=s.fn(o,r),p=e.closest("tr");s.exclusive&&p.parentElement.querySelectorAll("tr").forEach(h=>h.classList.remove(l)),p.classList.contains(l)?p.classList.remove(l):p.classList.add(l)}_expandChange(e,o){e.expand=o,this.closeOtherExpand(e),this.changeEmit("expand",e)}_stopPropagation(e){e.stopPropagation()}_refColAndData(){return this._columns.forEach(e=>{this._data.forEach((o,r)=>{let a=o._values;if(e.type==="no"){let s=`${this.dataSource.getNoIndex(o,e,r)}`;a[e.__point]={text:s,_text:s,org:r,safeType:"text"}}a[e.__point].props=this.dataSource.getCell(e,o,r)})}),this.refreshData()}addRow(e,o){return Array.isArray(e)||(e=[e]),this._data.splice(o?.index??0,0,...e),this.optimizeData()._refColAndData()}removeRow(e){if(typeof e=="number")this._data.splice(e,1);else{Array.isArray(e)||(e=[e]);let r=this._data;for(var o=r.length;o--;)e.indexOf(r[o])!==-1&&r.splice(o,1)}return this._refCheck()._refColAndData()}setRow(e,o,r){return r=T({refreshSchema:!1,emitReload:!1},r),typeof e!="number"&&(e=this._data.indexOf(e)),this._data[e]=Fn(this._data[e],!1,o),this.optimizeData(),r.refreshSchema?(this.resetColumns({emitReload:r.emitReload}),this):this.refreshData()}sort(e,o){this.multiSort?(e._sort.default=o,e._sort.tick=this.dataSource.nextSortTick):this._headers.forEach(r=>{r.forEach(a=>a.column._sort.default=a.column===e?o:null)}),this.cdr.detectChanges(),this.loadPageData().subscribe(()=>{let r={value:o,map:this.dataSource.getReqSortMap(this.singleSort,this.multiSort,this._headers),column:e};this.changeEmit("sort",r)})}clearSort(){return this._headers.forEach(e=>{e.forEach(o=>o.column._sort.default=null)}),this}_handleFilter(e,o){o||this.columnSource.cleanFilter(e),this.pi=1,this.columnSource.updateDefault(e.filter),this.loadPageData().subscribe(()=>this.changeEmit("filter",e))}handleFilterNotify(e){this.changeEmit("filterChange",e)}clearFilter(){return this._columns.filter(e=>e.filter&&e.filter.default===!0).forEach(e=>this.columnSource.cleanFilter(e)),this}clearCheck(){return this.checkAll(!1)}_refCheck(){let e=this._data.filter(a=>!a.disabled),o=e.filter(a=>a.checked===!0);this._allChecked=o.length>0&&o.length===e.length;let r=e.every(a=>!a.checked);return this._indeterminate=!this._allChecked&&!r,this._allCheckedDisabled=this._data.length===this._data.filter(a=>a.disabled).length,this.cd()}checkAll(e){return e=typeof e>"u"?this._allChecked:e,this._data.filter(o=>!o.disabled).forEach(o=>o.checked=e),this._refCheck()._checkNotify().refreshData()}_rowSelection(e){return e.select(this._data),this._refCheck()._checkNotify()}_checkNotify(){let e=this._data.filter(o=>!o.disabled&&o.checked===!0);return this.changeEmit("checkbox",e),this}clearRadio(){return this._data.filter(e=>e.checked).forEach(e=>e.checked=!1),this.changeEmit("radio",null),this.refreshData()}_handleTd(e){switch(e.type){case"checkbox":this._refCheck()._checkNotify();break;case"radio":this.changeEmit("radio",e.item),this.refreshData();break}}export(e,o){let r=Array.isArray(e)?this.dataSource.optimizeData({columns:this._columns,result:e}):this._data;(e===!0?this.filteredData:xt(r)).subscribe(a=>this.exportSrv.export(ce(T({columens:this._columns},o),{data:a})))}colResize({width:e},o){o.width=`${e}px`,this.changeEmit("resize",o)}onContextmenu(e){if(!this.contextmenu)return;e.preventDefault(),e.stopPropagation();let o=e.target.closest("[data-col-index]");if(!o)return;let r=Number(o.dataset.colIndex),a=Number(o.closest("tr").dataset.index),s=isNaN(a),l=this.contextmenu({event:e,type:s?"head":"body",rowIndex:s?null:a,colIndex:r,data:s?null:this.list[a],column:this._columns[r]});(Dd(l)?l:xt(l)).pipe(Pt(this.destroy$),Ye(p=>p.length>0)).subscribe(p=>{this.contextmenuList=p.map(h=>(Array.isArray(h.children)||(h.children=[]),h)),this.cdr.detectChanges(),this.cms?.create(e,this.contextmenuTpl)})}get cdkVirtualScrollViewport(){return this.orgTable?.cdkVirtualScrollViewport}_resetColumns(e){return e=T({emitReload:!0,preClearData:!1},e),typeof e.columns<"u"&&(this.columns=e.columns),typeof e.pi<"u"&&(this.pi=e.pi),typeof e.ps<"u"&&(this.ps=e.ps),e.emitReload&&(e.preClearData=!0),e.preClearData&&(this._data=[]),this.refreshColumns(),e.emitReload?this.loadPageData():(this.cd(),xt(this))}resetColumns(e){return Pd(this._resetColumns(e))}refreshColumns(){let e=this.columnSource.process(this.columns,{widthMode:this.widthMode,resizable:this._resizable,safeType:this.cog.safeType});return this._columns=e.columns,this._headers=e.headers,this.customWidthConfig===!1&&e.headerWidths!=null&&(this._widthConfig=e.headerWidths),this}optimizeData(){return this._data=this.dataSource.optimizeData({columns:this._columns,result:this._data,rowClassName:this.rowClassName}),this}pureItem(e){if(typeof e=="number"&&(e=this._data[e]),!e)return null;let o=ci(e);return["_values","_rowClassName"].forEach(r=>delete o[r]),o}ngAfterViewInit(){this.refreshColumns(),this.req.lazyLoad||this.loadPageData().subscribe(),this.inied=!0}ngOnChanges(e){e.loading&&(this._loading=e.loading.currentValue),this.inied&&(e.columns&&this.refreshColumns().optimizeData(),e.data&&this.loadPageData().subscribe())}};i.\u0275fac=function(o){return new(o||i)(k(pt))},i.\u0275cmp=V({type:i,selectors:[["st"]],viewQuery:function(o,r){if(o&1&&(te(RP,5),te(AP,5)),o&2){let a;K(a=G())&&(r.orgTable=a.first),K(a=G())&&(r.contextmenuTpl=a.first)}},hostVars:14,hostBindings:function(o,r){o&2&&F("st",!0)("st__p-left",r.page.placement==="left")("st__p-center",r.page.placement==="center")("st__width-strict",r.widthMode.type==="strict")("st__row-class",r.rowClassName)("ant-table-rep",r.responsive)("ant-table-rep__hide-header-footer",r.responsiveHideHeaderFooter)},inputs:{req:"req",res:"res",page:"page",data:"data",columns:"columns",contextmenu:"contextmenu",ps:[2,"ps","ps",e=>ge(e,10)],pi:[2,"pi","pi",e=>ge(e,1)],total:[2,"total","total",e=>ge(e,0)],loading:"loading",loadingDelay:[2,"loadingDelay","loadingDelay",ge],loadingIndicator:"loadingIndicator",bordered:[2,"bordered","bordered",M],size:"size",scroll:"scroll",singleSort:"singleSort",multiSort:"multiSort",rowClassName:"rowClassName",clickRowClassName:"clickRowClassName",widthMode:"widthMode",widthConfig:"widthConfig",resizable:"resizable",header:"header",showHeader:[2,"showHeader","showHeader",M],footer:"footer",bodyHeader:"bodyHeader",body:"body",expandRowByClick:[2,"expandRowByClick","expandRowByClick",M],expandAccordion:[2,"expandAccordion","expandAccordion",M],expand:"expand",expandIcon:"expandIcon",noResult:"noResult",responsive:[2,"responsive","responsive",M],responsiveHideHeaderFooter:[2,"responsiveHideHeaderFooter","responsiveHideHeaderFooter",M],virtualScroll:[2,"virtualScroll","virtualScroll",M],virtualItemSize:[2,"virtualItemSize","virtualItemSize",ge],virtualMaxBufferPx:[2,"virtualMaxBufferPx","virtualMaxBufferPx",ge],virtualMinBufferPx:[2,"virtualMinBufferPx","virtualMinBufferPx",ge],customRequest:"customRequest",virtualForTrackBy:"virtualForTrackBy",trackBy:"trackBy"},outputs:{error:"error",change:"change"},exportAs:["st"],features:[Ke([w0,_d,S0,T0,Bn,qr,$n]),ne,J],decls:21,vars:34,consts:[["titleTpl",""],["chkAllTpl",""],["table",""],["bodyTpl",""],["totalTpl",""],["contextmenuTpl","nzDropdownMenu"],["selectionMenu","nzDropdownMenu"],[3,"nzPageIndexChange","nzPageSizeChange","contextmenu","nzData","nzPageIndex","nzPageSize","nzTotal","nzShowPagination","nzFrontPagination","nzBordered","nzSize","nzLoading","nzLoadingDelay","nzLoadingIndicator","nzTitle","nzFooter","nzScroll","nzVirtualItemSize","nzVirtualMaxBufferPx","nzVirtualMinBufferPx","nzVirtualForTrackBy","nzNoResult","nzPageSizeOptions","nzShowQuickJumper","nzShowSizeChanger","nzPaginationPosition","nzPaginationType","nzItemRender","nzSimple","nzShowTotal","nzWidthConfig"],[1,"st__body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-virtual-scroll",""],["nz-menu","",1,"st__contextmenu"],[3,"innerHTML"],[1,"st__head-optional",3,"innerHTML"],["nz-tooltip","","nz-icon","","nzType","question-circle",1,"st__head-tip",3,"nzTooltipTitle"],["nz-checkbox","",1,"st__checkall",3,"ngModelChange","nzDisabled","ngModel","nzIndeterminate"],["nzWidth","50px",3,"rowSpan"],["nz-resizable","",3,"colSpan","rowSpan","nzWidth","nzLeft","nzRight","ngClass","nzShowSort","nzSortOrder","nzCustomFilter","st__has-filter","nzDisabled","nzMaxWidth","nzMinWidth","nzBounds","nzPreview"],["nz-resizable","",3,"colSpan","rowSpan","nzWidth","nzLeft","nzRight","ngClass","nzShowSort","nzSortOrder","nzCustomFilter","st__has-filter","nzDisabled","nzMaxWidth","nzMinWidth","nzBounds","nzPreview","nzSortOrderChange","nzResizeEnd",4,"let"],["nz-resizable","",3,"nzSortOrderChange","nzResizeEnd","colSpan","rowSpan","nzWidth","nzLeft","nzRight","ngClass","nzShowSort","nzSortOrder","nzCustomFilter","nzDisabled","nzMaxWidth","nzMinWidth","nzBounds","nzPreview"],["nzDirection","right"],["nz-th-extra","",3,"col","f","locale"],["nzDirection","right",3,"click"],[1,"ant-table-selection"],[1,"ant-table-selection-extra"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item","",3,"innerHTML"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down","st__checkall-selection",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu-item","",3,"click","innerHTML"],["nz-th-extra","",3,"n","handle","col","f","locale"],[3,"click","dblclick","ngClass"],["nzWidth","50px",3,"nzShowExpand","nzExpand","nzExpandIcon"],[3,"nzExpand"],["nzWidth","50px",3,"nzExpandChange","click","nzShowExpand","nzExpand","nzExpandIcon"],[3,"nzLeft","nzRight","ngClass"],[1,"ant-table-rep__title"],[3,"n","data","i","index","c","cIdx"],["nz-submenu","",3,"nzTitle"]],template:function(o,r){if(o&1){let a=I();_(0,WP,3,3,"ng-template",null,0,oe)(2,qP,1,5,"ng-template",null,1,oe),m(4,"nz-table",7,2),je("nzPageIndexChange",function(l){return y(a),Le(r.pi,l)||(r.pi=l),z(l)}),w("nzPageIndexChange",function(){return y(a),z(r._change("pi"))}),je("nzPageSizeChange",function(l){return y(a),Le(r.ps,l)||(r.ps=l),z(l)}),w("nzPageSizeChange",function(){return y(a),z(r._change("ps"))})("contextmenu",function(l){return y(a),z(r.onContextmenu(l))}),_(6,dM,3,0,"thead"),m(7,"tbody",8),_(8,uM,1,4,null,9)(9,yM,6,9,"ng-template",null,3,oe)(11,xM,1,0,null,10)(12,wM,2,0)(13,kM,1,4,null,9),f(),_(14,DM,1,1,"ng-template",null,4,oe),f(),m(16,"nz-dropdown-menu",null,5)(18,"ul",11),Q(19,IM,2,1,null,null,et),f()()}if(o&2){let a=L(15);d(4),F("st__no-column",r.noColumns),u("nzData",r._data),Be("nzPageIndex",r.pi)("nzPageSize",r.ps),u("nzTotal",r.total)("nzShowPagination",r._isPagination)("nzFrontPagination",!1)("nzBordered",r.bordered)("nzSize",r.size)("nzLoading",r.noColumns||r._loading)("nzLoadingDelay",r.loadingDelay)("nzLoadingIndicator",r.loadingIndicator)("nzTitle",r.header)("nzFooter",r.footer)("nzScroll",r.scroll)("nzVirtualItemSize",r.virtualItemSize)("nzVirtualMaxBufferPx",r.virtualMaxBufferPx)("nzVirtualMinBufferPx",r.virtualMinBufferPx)("nzVirtualForTrackBy",r.virtualForTrackBy)("nzNoResult",r.noResult)("nzPageSizeOptions",r.page.pageSizes)("nzShowQuickJumper",r.page.showQuickJumper)("nzShowSizeChanger",r.page.showSize)("nzPaginationPosition",r.page.position)("nzPaginationType",r.page.type)("nzItemRender",r.page.itemRender)("nzSimple",r.page.simple)("nzShowTotal",a)("nzWidthConfig",r._widthConfig),d(2),x(r.showHeader?6:-1),d(2),x(r._loading?-1:8),d(3),x(r.virtualScroll?11:12),d(2),x(r._loading?-1:13),d(6),U(r.contextmenuList)}},dependencies:()=>[dt,ae,Ge,We,Uf,ld,fs,t0,rd,od,o0,_s,cd,sd,nd,r0,ad,Pe,Zt,mn,hn,Qp,hi,fn,Ht,c0,d0,xO,SO],encapsulation:2,changeDetection:0});let t=i;return t})(),SO=(()=>{let i=class i{constructor(){this.stComp=O(bO,{host:!0}),this.router=O($i),this.modalHelper=O(Dp),this.drawerHelper=O(Pp),this.n=new R}get routerState(){let{pi:e,ps:o,total:r}=this.stComp;return{pi:e,ps:o,total:r}}report(e){this.n.emit({type:e,item:this.i,col:this.c})}_checkbox(e){this.i.checked=e,this.report("checkbox")}_radio(){this.data.filter(e=>!e.disabled).forEach(e=>e.checked=!1),this.i.checked=!0,this.report("radio")}_link(e){this._stopPropagation(e);let o=this.c.click(this.i,this.stComp);return typeof o=="string"&&this.router.navigateByUrl(o,{state:this.routerState}),!1}_stopPropagation(e){e.preventDefault(),e.stopPropagation()}_btn(e,o){o?.stopPropagation();let r=this.stComp.cog,a=this.i;if(e.type==="modal"||e.type==="static"){r.modal.pureRecoard===!0&&(a=this.stComp.pureItem(a));let s=e.modal,l={[s.paramsName]:a};this.modalHelper[e.type==="modal"?"create":"createStatic"](s.component,T(T({},l),s.params&&s.params(a)),Fn({},!0,r.modal,s)).pipe(Ye(p=>typeof p<"u")).subscribe(p=>this.btnCallback(a,e,p));return}else if(e.type==="drawer"){r.drawer.pureRecoard===!0&&(a=this.stComp.pureItem(a));let s=e.drawer,l={[s.paramsName]:a};this.drawerHelper.create(s.title,s.component,T(T({},l),s.params&&s.params(a)),Fn({},!0,r.drawer,s)).pipe(Ye(p=>typeof p<"u")).subscribe(p=>this.btnCallback(a,e,p));return}else if(e.type==="link"){let s=this.btnCallback(a,e);typeof s=="string"&&this.router.navigateByUrl(s,{state:this.routerState});return}this.btnCallback(a,e)}btnCallback(e,o,r){if(o.click)if(typeof o.click=="string")switch(o.click){case"load":this.stComp.load();break;case"reload":this.stComp.reload();break}else return o.click(e,r,this.stComp)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["st-td"]],inputs:{c:"c",cIdx:"cIdx",data:"data",i:"i",index:"index"},outputs:{n:"n"},decls:8,vars:1,consts:[["btnTpl",""],["btnItemTpl",""],["btnTextTpl",""],["btnMenu","nzDropdownMenu"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-tooltip","",3,"nzTooltipTitle","d-block","width-100"],["nz-tooltip","",3,"nzTooltipTitle"],["nz-popconfirm","",1,"st__btn-text",3,"nzPopconfirmTitle","nzIcon","nzCondition","nzCancelText","nzOkText","nzOkType","ngClass"],[1,"st__btn-text",3,"ngClass"],["nz-popconfirm","",1,"st__btn-text",3,"nzOnConfirm","click","nzPopconfirmTitle","nzIcon","nzCondition","nzCancelText","nzOkText","nzOkType","ngClass"],[1,"st__btn-text",3,"click","ngClass"],[3,"innerHTML","ngClass"],["nz-icon","",3,"nzIconfont"],["nz-icon","",3,"nzType","nzTheme","nzSpin","nzTwotoneColor"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-radio","",3,"nzDisabled","ngModel"],[3,"innerHTML"],[3,"nzColor","nz-tooltip"],[3,"nzStatus","nzText","nz-tooltip"],[3,"value","options"],["st-widget-host","",3,"record","column"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],["nz-radio","",3,"ngModelChange","nzDisabled","ngModel"],[3,"click","innerHTML"],[3,"innerText"],[3,"st__btn-disabled"],["nzType","vertical"],["nz-dropdown","","nzOverlayClassName","st__btn-sub",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu",""],["nz-menu-divider",""],["nz-menu-item","",3,"st__btn-disabled"],["nz-menu-item",""]],template:function(o,r){o&1&&_(0,LM,2,1,"ng-template",null,0,oe)(2,QM,2,1,"ng-template",null,1,oe)(4,GM,2,5,"ng-template",null,2,oe)(6,XM,1,6,null,4)(7,yO,10,1),o&2&&(d(6),x(r.c.__render?6:7))},dependencies:[dt,ae,Ge,We,fd,v0,Pe,Ur,Zt,ru,mn,hn,Up,hi,Kp,fn,Wi,Zr,Ht,zO],encapsulation:2,changeDetection:0});let t=i;return t})();var Cs=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,ot,Do,Yf,z0,vo,zo,He,Ui,At,qn,Xt,Yp,Mi,Yi,Gi,Lt,p0,Zi,sn]});let t=i;return t})();function LA(...t){return On([{provide:Mn,multi:!0,useValue:()=>{let i=O(gd);t.forEach(n=>i.register(n.KEY,n.type))}}])}var yd=["*"];function TO(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),ie(n.title)}}function kO(t,i){if(t&1&&(m(0,"sv-title"),_(1,TO,2,1,"ng-container",1),f()),t&2){let n=c();d(),u("nzStringTemplateOutlet",n.title)}}var DO=["conEl"];function PO(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(2);d(),ie(n.label)}}function MO(t,i){if(t&1&&(Ne(0),E(1),$e()),t&2){let n=c(3);d(),ie(n.optional)}}function OO(t,i){if(t&1&&D(0,"i",10),t&2){let n=c(3);u("nzTooltipTitle",n.optionalHelp)("nzTooltipColor",n.optionalHelpColor)}}function IO(t,i){if(t&1&&(m(0,"span",9),_(1,MO,2,1,"ng-container",7)(2,OO,1,2,"i",10),f()),t&2){let n=c(2);F("sv__label-optional-no-text",!n.optional),d(),u("nzStringTemplateOutlet",n.optional),d(),x(n.optionalHelp?2:-1)}}function EO(t,i){if(t&1&&(m(0,"div",5)(1,"span",6),_(2,PO,2,1,"ng-container",7),f(),_(3,IO,3,4,"span",8),f()),t&2){let n=c();le("width",n.labelWidth,"px"),F("sv__label-empty",!n.label)("sv__label-width",n.labelWidth!==null&&n.labelWidth!==void 0)("sv__no-colon",n._noColon),d(2),u("nzStringTemplateOutlet",n.label),d(),x(n.optional||n.optionalHelp?3:-1)}}function NO(t,i){if(t&1&&(m(0,"span",4),E(1),f()),t&2){let n=c(2);d(),ie(n.unit)}}function $O(t,i){if(t&1&&_(0,NO,2,1,"span",11),t&2){let n=c();u("nzStringTemplateOutlet",n.unit)}}var FO=(()=>{let i=class i{constructor(){if(this.el=O(ee).nativeElement,this.parentComp=O(k0,{host:!0,optional:!0}),this.ren=O(Ee),this.parentComp==null)throw new Error("[sv-title] must include 'sv-container' component")}setClass(){let e=this.parentComp.gutter,o=this.el;this.ren.setStyle(o,"padding-left",`${e/2}px`),this.ren.setStyle(o,"padding-right",`${e/2}px`)}ngOnInit(){this.setClass()}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["sv-title"],["","sv-title",""]],hostVars:2,hostBindings:function(o,r){o&2&&F("sv__title",!0)},exportAs:["svTitle"],standalone:!0,features:[j],ngContentSelectors:yd,decls:1,vars:0,template:function(o,r){o&1&&(Se(),ve(0))},encapsulation:2,changeDetection:0});let t=i;return t})(),k0=(()=>{let i=class i{get margin(){return this.bordered?{}:{"margin-left.px":-(this.gutter/2),"margin-right.px":-(this.gutter/2)}}constructor(e){this.noColon=!1,this.bordered=!1,e.attach(this,"sv",{size:"large",gutter:32,layout:"horizontal",col:3,default:!0})}};i.\u0275fac=function(o){return new(o||i)(k(pt))},i.\u0275cmp=V({type:i,selectors:[["sv-container"],["","sv-container",""]],hostVars:14,hostBindings:function(o,r){o&2&&F("sv__container",!0)("sv__horizontal",r.layout==="horizontal")("sv__vertical",r.layout==="vertical")("sv__small",r.size==="small")("sv__large",r.size==="large")("sv__bordered",r.bordered)("clearfix",!0)},inputs:{colInCon:[2,"sv-container","colInCon",e=>e==null?null:ge(e)],title:"title",size:"size",gutter:[2,"gutter","gutter",ge],layout:"layout",labelWidth:[2,"labelWidth","labelWidth",ge],col:[2,"col","col",ge],default:[2,"default","default",M],noColon:[2,"noColon","noColon",M],bordered:[2,"bordered","bordered",M]},exportAs:["svContainer"],standalone:!0,features:[ne,j],ngContentSelectors:yd,decls:3,vars:2,consts:[[1,"ant-row",3,"ngStyle"],[4,"nzStringTemplateOutlet"]],template:function(o,r){o&1&&(Se(),m(0,"div",0),_(1,kO,2,1,"sv-title"),ve(2),f()),o&2&&(u("ngStyle",r.margin),d(),x(r.title?1:-1))},dependencies:[li,FO,gt],encapsulation:2,changeDetection:0});let t=i;return t})();var Cd="sv",nH=(()=>{let i=class i{get paddingValue(){return this.parentComp.bordered?null:this.parentComp.gutter/2}get labelWidth(){let{labelWidth:e,layout:o}=this.parentComp;return o==="horizontal"?e:null}constructor(){if(this.el=O(ee).nativeElement,this.parentComp=O(k0,{host:!0,optional:!0}),this.rep=O(Br),this.ren=O(Ee),this.clsMap=[],this._noColon=!1,this.hideLabel=!1,this.parentComp==null)throw new Error("[sv] must include 'sv-container' component")}setClass(){let{ren:e,col:o,clsMap:r,type:a,rep:s,noColon:l}=this,p=this.parentComp,h=this.el;this._noColon=p.bordered?!0:l??p.noColon,r.forEach(v=>e.removeClass(h,v)),r.length=0;let g=p.colInCon||p.col;r.push(...s.genCls(o??g,g)),r.push(`${Cd}__item`),p.labelWidth&&r.push(`${Cd}__item-fixed`),a&&r.push(`${Cd}__type-${a}`),r.forEach(v=>e.addClass(h,v))}ngAfterViewInit(){this.setClass(),this.checkContent()}ngOnChanges(){this.setClass()}checkContent(){let{conEl:e}=this,o=this.default;if(!(o??this.parentComp?.default))return;let r=e.nativeElement,a="sv__default";r.classList.contains(a)&&r.classList.remove(a),Wn(r)&&r.classList.add(a)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=V({type:i,selectors:[["sv"],["","sv",""]],viewQuery:function(o,r){if(o&1&&te(DO,5),o&2){let a;K(a=G())&&(r.conEl=a.first)}},hostVars:4,hostBindings:function(o,r){o&2&&le("padding-left",r.paddingValue,"px")("padding-right",r.paddingValue,"px")},inputs:{optional:"optional",optionalHelp:"optionalHelp",optionalHelpColor:"optionalHelpColor",label:"label",unit:"unit",col:[2,"col","col",e=>e==null?null:ge(e)],default:[2,"default","default",e=>e==null?null:M(e)],type:"type",noColon:[2,"noColon","noColon",e=>e==null?null:M(e)],hideLabel:[2,"hideLabel","hideLabel",M]},exportAs:["sv"],standalone:!0,features:[ne,J,j],ngContentSelectors:yd,decls:6,vars:2,consts:[["conEl",""],[1,"sv__label",3,"sv__label-empty","sv__label-width","sv__no-colon","width"],[1,"sv__detail"],[3,"cdkObserveContent"],[1,"sv__unit"],[1,"sv__label"],[1,"sv__label-text"],[4,"nzStringTemplateOutlet"],[1,"sv__label-optional",3,"sv__label-optional-no-text"],[1,"sv__label-optional"],["nz-tooltip","","nz-icon","","nzType","question-circle",3,"nzTooltipTitle","nzTooltipColor"],["class","sv__unit",4,"nzStringTemplateOutlet"]],template:function(o,r){if(o&1){let a=I();Se(),_(0,EO,4,10,"div",1),m(1,"div",2)(2,"span",3,0),w("cdkObserveContent",function(){return y(a),z(r.checkContent())}),ve(4),f(),_(5,$O,1,1,"span",4),f()}o&2&&(x(r.hideLabel?-1:0),d(5),x(r.unit?5:-1))},dependencies:[gt,Ht,Pe,Rn],encapsulation:2,changeDetection:0});let t=i;return t})();var ys=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,Er,Lt,He,St]});let t=i;return t})();var zs=[Cs,ys,ms,hs];var vs=[Rt,Qr,Xt,Yn,At,Lt,ca,Ki,He,Ui,aa,jn,zo,Lr,ra,Gi,sn,fo,Yi,Zi,yo,la,Zn,Mi,Kn,sa,ia,Gn,qn,da,vo];var RO=[];var r4=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=me({type:i}),i.\u0275inj=he({imports:[Dt,ot,To,No,Es,Do,gr,zs,vs,RO,Dt,ot,No,To,Es,Do,gr,Cs,ys,ms,hs,Rt,Qr,Xt,Yn,At,Lt,ca,Ki,He,Ui,aa,jn,zo,Lr,ra,Gi,sn,fo,Yi,Zi,yo,la,Zn,Mi,Kn,sa,ia,Gn,qn,da,vo]});let t=i;return t})();function s4(t,i=2){return typeof t=="number"&&(t=t.toFixed(i)),`&yen ${t}`}var f4=[ot,No,Mr,ae,dt,li,kp,Bn,...zs,...vs];var zd=(()=>{let i=class i extends Lf{ngOnInit(){console.warn("init test widget")}};i.KEY="test",i.\u0275fac=(()=>{let e;return function(r){return(e||(e=nt(i)))(r||i)}})(),i.\u0275cmp=V({type:i,selectors:[["test"]],standalone:!0,features:[De,j],decls:2,vars:6,consts:[[3,"id","schema","ui","showError","error","showTitle"]],template:function(o,r){o&1&&(m(0,"sf-item-wrap",0),E(1," test widget "),f()),o&2&&u("id",r.id)("schema",r.schema)("ui",r.ui)("showError",r.showError)("error",r.error)("showTitle",r.schema.title)},dependencies:[gr,oi],encapsulation:2,changeDetection:0});let t=i;return t})();var z4=[{KEY:zd.KEY,type:zd}];var x4=[];var S4=[];export{Tf as a,Wi as b,Mi as c,bR as d,Qf as e,Vs as f,_u as g,t0 as h,rd as i,_s as j,ld as k,cd as l,o0 as m,zo as n,w1 as o,fo as p,Bi as q,ts as r,sn as s,v0 as t,vo as u,HA as v,bO as w,Cs as x,LA as y,_T as z,B$ as A,s4 as B,us as C,Zc as D,yo as E,T2 as F,hs as G,Wf as H,cV as I,ms as J,k0 as K,nH as L,ys as M,r4 as N,z4 as O,x4 as P,S4 as Q};
