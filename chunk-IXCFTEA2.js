import{V as f}from"./chunk-Q2G2QH7N.js";import{Bb as B,Cb as _,Cd as z,Db as $,Gc as k,H as m,Ib as j,Oa as O,Pa as I,Qa as S,Ta as T,V as v,a as y,aa as b,ba as C,ea as r,k as p,pa as d,q as u,qa as D,tc as F,td as A,uc as G,ud as E,va as x,vc as s,wa as w,xa as M}from"./chunk-ULLXQYZ5.js";var q=["container"],H=(()=>{class e{cogSrv=r(E);lazySrv=r(A);_cog;loading=!1;loaded=!1;notify$=new p;get cog(){return this._cog}set cog(t){this._cog=this.cogSrv.merge("chart",{theme:"",libs:["https://gw.alipayobjects.com/os/lib/antv/g2/4.1.46/dist/g2.min.js","https://gw.alipayobjects.com/os/lib/antv/data-set/0.11.8/dist/data-set.js"]},t)}constructor(){this.cog={theme:""}}libLoad(){return this.loading?(this.loaded&&this.notify$.next(),this):(this.loading=!0,this.lazySrv.load(this.cog.libs).then(()=>{this.loaded=!0,this.notify$.next()}),this)}get notify(){return this.notify$.asObservable()}ngOnDestroy(){this.notify$.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),N=(()=>{class e{srv=r(H);el=r(M);ngZone=r(D);platform=r(z);cdr=r(F);get chart(){return this._chart}get winG2(){return window.G2}constructor(){this.theme=this.srv.cog.theme,this.srv.notify.pipe(v(this.destroy$),m(()=>!this.loaded)).subscribe(()=>this.load())}repaint=!0;node;resize$;destroy$=new p;_chart;loaded=!1;delay=0;theme;ready=new d;onlyChangeData;changeData(){}onInit(){}onChanges(t){}load(){this.ngZone.run(()=>{this.loaded=!0,this.cdr.detectChanges()}),setTimeout(()=>this.install(),this.delay)}ngOnInit(){this.platform.isBrowser&&(this.onInit(),this.winG2?this.load():this.srv.libLoad())}ngOnChanges(t){if(this.onChanges(t),this.onlyChangeData?this.onlyChangeData(t):Object.keys(t).length===1&&!!t.data){this.changeData();return}!this.chart||!this.repaint||this.ngZone.runOutsideAngular(()=>{this.destroyChart().install()})}destroyChart(){return this._chart&&this._chart.destroy(),this}ngOnDestroy(){this.resize$&&this.resize$.unsubscribe(),this.destroy$.next(),this.destroy$.complete(),this.destroyChart()}static \u0275fac=function(i){return new(i||e)};static \u0275dir=S({type:e,viewQuery:function(i,o){if(i&1&&B(q,7),i&2){let l;_(l=$())&&(o.node=l.first)}},inputs:{repaint:[2,"repaint","repaint",G],delay:[2,"delay","delay",s],theme:"theme"},outputs:{ready:"ready"},features:[x]})}return u([f()],e.prototype,"load",null),u([f()],e.prototype,"destroyChart",null),e})();function Z(e,W){let t=y({showTitle:!1,showMarkers:!0,enterable:!0,domStyles:{"g2-tooltip":{padding:"0px"},"g2-tooltip-title":{display:"none"},"g2-tooltip-list-item":{margin:"4px"}}},W);return e==="mini"&&(t.position="top",t.domStyles["g2-tooltip"]={padding:"0px",backgroundColor:"transparent",boxShadow:"none"},t.itemTpl="<li>{value}</li>",t.offset=8),t}var vt=(()=>{class e extends N{color="#1890FF";height=0;borderWidth=5;padding=[8,8,8,8];data=[];yTooltipSuffix="";tooltipType="default";clickItem=new d;install(){let{el:t,height:i,padding:o,yTooltipSuffix:l,tooltipType:Q,theme:L,color:P,borderWidth:R}=this,n=this._chart=new this.winG2.Chart({container:t.nativeElement,autoFit:!0,height:i,padding:o,theme:L});n.scale({x:{type:"cat"},y:{min:0}}),n.legend(!1),n.axis(!1),n.tooltip(Z(Q,{showCrosshairs:!1})),n.interval().position("x*y").color("x*y",(a,h)=>{let c=this.data.find(g=>g.x===a&&g.y===h);return c&&c.color?c.color:P}).size(R).tooltip("x*y",(a,h)=>({name:a,value:h+l})),n.on("interval:click",a=>{this.ngZone.run(()=>this.clickItem.emit({item:a.data?.data,ev:a}))}),this.ready.next(n),this.changeData(),n.render()}changeData(){let{_chart:t,data:i}=this;!t||!Array.isArray(i)||i.length<=0||t.changeData(i)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=w(e)))(o||e)}})();static \u0275cmp=O({type:e,selectors:[["g2-mini-bar"]],hostVars:2,hostBindings:function(i,o){i&2&&j("height",o.height,"px")},inputs:{color:"color",height:[2,"height","height",s],borderWidth:[2,"borderWidth","borderWidth",s],padding:"padding",data:"data",yTooltipSuffix:"yTooltipSuffix",tooltipType:"tooltipType"},outputs:{clickItem:"clickItem"},exportAs:["g2MiniBar"],features:[T],decls:0,vars:0,template:function(i,o){},encapsulation:2,changeDetection:0})}return e})();var bt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=I({type:e});static \u0275inj=C({imports:[k]})}return e})();export{N as a,Z as b,vt as c,bt as d};
