import{c as Uo}from"./chunk-O7ACZNCC.js";import{d as dt}from"./chunk-GKWRIKE4.js";import{B as Vo,E as ne,F as jo,G as re,H as Ho,I as Go,J as ae,M as se,c as O,e as So,g as W,i as Fo,j as xo,k as Bo,l as Ro,m as Ao,n as Po,o as q,q as Z,t as X,u as Lo,v as Vt,w as K,y as Oo,z as ie}from"./chunk-DAVNPU2H.js";import{$ as G,Aa as Q,Ca as te,E as L,Fa as oe,G as V,Ha as Wo,Ia as le,K as j,L as _o,La as me,P as vo,R as H,S as yo,U as Eo,Ua as ue,Wa as pe,X as wo,Ya as de,Z as Do,_ as To,b as ct,d as ft,e as bt,fa as Mi,g as Ft,ga as gi,ha as U,i as ht,ia as bo,j as xt,ja as F,k as Co,ka as Io,la as zt,na as Ni,qa as Y,ra as ko,sa as J,t as P,ta as Mt,u as I,ua as gt,va as $,wa as jt,x as k,xa as Bt,ya as Ht,za as Gt}from"./chunk-NAV2U3ZI.js";import{$a as Yi,$b as Dt,$c as uo,Bb as Yt,Bc as ro,Bh as No,Ca as Xi,Cc as ao,D as Vi,Db as eo,Eb as to,Fb as io,Fc as so,Gg as Mo,H as Ci,Ha as d,Ia as ni,Jb as Nt,Kb as c,Kh as Ne,Lb as At,Lh as ee,M as _i,Mb as Se,Mc as li,Mg as go,Ng as R,Oa as y,Ob as he,Pa as Xt,Pb as ze,Qa as ri,Qb as Me,R as ji,T as Hi,Ua as ai,Va as Fe,Vb as _e,Wb as Jt,Wf as fi,X as Gi,Xf as T,Y as vi,Yc as lo,Yf as fo,Zc as mo,_a as h,_b as wt,a as ye,ab as si,ah as A,ba as vt,bc as oo,bd as mi,bg as B,ca as Zt,cd as ui,d as Nn,da as Wi,ea as ii,f as Ii,fa as N,g as ki,gc as Lt,hb as pt,hc as Kt,hg as ge,hh as hi,ib as St,ic as $t,j as Wt,ja as oi,jd as po,jg as fe,k as Ut,ka as w,kb as yt,kg as ho,l as ti,la as D,lb as Et,lg as b,mb as l,nb as p,nd as pi,ob as ce,od as Ot,og as zo,pb as Ji,pc as no,pd as di,ph as zi,q as Li,qa as Ui,qb as Ki,ra as Rt,rd as ci,sa as qi,sb as Ee,td as co,u as qt,ud as Si,va as kt,vb as _,vd as yi,xb as E,y as Oi,ya as Zi,yb as $i,yc as Tt,zb as Qi}from"./chunk-QW5B6DY5.js";var bi=Nn((Di,Ti)=>{"use strict";(function(o,M){typeof define=="function"&&define.amd?define([],M):typeof Di<"u"?M():(M(),o.FileSaver={})})(Di,function(){"use strict";function o(f,n){return typeof n>"u"?n={autoBom:!1}:typeof n!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function M(f,n,r){var a=new XMLHttpRequest;a.open("GET",f),a.responseType="blob",a.onload=function(){s(a.response,n,r)},a.onerror=function(){console.error("could not download file")},a.send()}function e(f){var n=new XMLHttpRequest;n.open("HEAD",f,!1);try{n.send()}catch{}return 200<=n.status&&299>=n.status}function t(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(n)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,m=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(f,n,r){var a=i.URL||i.webkitURL,u=document.createElement("a");n=n||f.name||"download",u.download=n,u.rel="noopener",typeof f=="string"?(u.href=f,u.origin===location.origin?t(u):e(u.href)?M(f,n,r):t(u,u.target="_blank")):(u.href=a.createObjectURL(f),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){t(u)},0))}:"msSaveOrOpenBlob"in navigator?function(f,n,r){if(n=n||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(o(f,r),n);else if(e(f))M(f,n,r);else{var a=document.createElement("a");a.href=f,a.target="_blank",setTimeout(function(){t(a)})}}:function(f,n,r,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof f=="string")return M(f,n,r);var u=f.type==="application/octet-stream",z=/constructor/i.test(i.HTMLElement)||i.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||u&&z||m)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var be=g.result;be=C?be:be.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=be:location=be,a=null},g.readAsDataURL(f)}else{var S=i.URL||i.webkitURL,v=S.createObjectURL(f);a?a.location=v:location.href=v,a=null,setTimeout(function(){S.revokeObjectURL(v)},4e4)}});i.saveAs=s.saveAs=s,typeof Ti<"u"&&(Ti.exports=s)})});var qo=(()=>{class o{constructor(){this.aclSrv=N(ci),this.menuSrv=N(hi),this.full=!0,this.roleA="",this.roleB=""}get data(){return this.aclSrv.data}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA=this.roleA==="role-a"?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB=this.roleB==="role-b"?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94AE\u7C92\u5EA6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91CF"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89D2\u8272[role-a]"],["nzTitle","\u89D2\u8272[role-b]"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," ACL \u8BBF\u95EE\u63A7\u5236 "),l(3,"small"),c(4,"\u6CE8\u610F\u89C2\u5BDF\u5DE6\u8FB9\u7684\u83DC\u5355\uFF1BACLService\u63D0\u4F9B\u4E00\u4E2A\u5B8C\u6574\u7684\u57FA\u4E8E\u89D2\u8272\u7684\u8BBF\u95EE\u63A7\u5236\u7684\u670D\u52A1\uFF0C\u82E5\u9700\u8981\u652F\u6301\u8DEF\u7531\u5B88\u536B\uFF0C\u8BF7\u914D\u5408ACLService\u4E0ERoute Guard\u914D\u5408\u7B80\u4FBF\u5B9E\u73B0\u3002"),p()()(),l(5,"div",1)(6,"div",2)(7,"nz-card",3),c(8),wt(9,"json"),l(10,"button",4),c(11,"role-a"),p(),l(12,"button",5),c(13,"role-b"),p()()()(),l(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),_("click",function(){return i.toggleFull()}),l(18,"span"),c(19),p()(),l(20,"p",8),c(21,"\u5168\u91CF\u7C7B\u6307\u7CFB\u7EDF\u7BA1\u7406\u5458\u89D2\u8272\uFF0C\u65E0\u4EFB\u4F55\u53D7\u9650\u3002"),p()()(),l(22,"div",2)(23,"nz-card",9)(24,"button",7),_("click",function(){return i.toggleRoleA()}),l(25,"span"),c(26),p()()()(),l(27,"div",2)(28,"nz-card",10)(29,"button",7),_("click",function(){return i.toggleRoleB()}),l(30,"span"),c(31),p()()()()()),t&2&&(d(5),h("nzGutter",8),d(),h("nzSpan",24),d(2),Se(" ACL\u539F\u59CB\u6570\u636E\uFF1A",Dt(9,12,i.data)," "),d(2),h("acl","role-a"),d(2),h("acl","role-b"),d(2),h("nzGutter",8),d(),h("nzSpan",8),d(4),Se("",i.full?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),d(3),h("nzSpan",8),d(4),Se("",i.roleA.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),d(),h("nzSpan",8),d(4),Se("",i.roleB.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"))},dependencies:[P,I,Tt,ie,K,se,ae,re,co,b,fe,B,ge,G,$,gt,Mt,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,Ne,H,de,W],encapsulation:2})}}return o})();var Cn=new Wi("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new wi}),wi=class{platform=N(yi);get(M){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(M)||"null")||null}set(M,e){return this.platform.isBrowser&&localStorage.setItem(M,JSON.stringify(e)),!0}remove(M){this.platform.isBrowser&&localStorage.removeItem(M)}},Zo=(()=>{class o{store=N(Cn);http=N(li);platform=N(yi);memory=new Map;notifyBuffer=new Map;meta=new Set;freqTick=3e3;freqTime;cog=N(Ot).merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"});constructor(){this.platform.isBrowser&&(this.loadMeta(),this.startExpireNotify())}pushMeta(e){this.meta.has(e)||(this.meta.add(e),this.saveMeta())}removeMeta(e){this.meta.has(e)&&(this.meta.delete(e),this.saveMeta())}loadMeta(){let e=this.store.get(this.cog.meta_key);e&&e.v&&e.v.forEach(t=>this.meta.add(t))}saveMeta(){let e=[];this.meta.forEach(t=>e.push(t)),this.store.set(this.cog.meta_key,{v:e,e:0})}getMeta(){return this.meta}set(e,t,i={}){if(!this.platform.isBrowser)return;let m=0,{type:s,expire:f}=this.cog;i=ye({type:s,expire:f},i),i.expire&&(m=zo(new Date,i.expire).valueOf());let n=i.emitNotify!==!1;if(!(t instanceof Wt)){this.save(i.type,e,{v:t,e:m},n);return}return t.pipe(vi(r=>{this.save(i.type,e,{v:r,e:m},n)}))}save(e,t,i,m=!0){e==="m"?this.memory.set(t,i):(this.store.set(this.cog.prefix+t,i),this.pushMeta(t)),m&&this.runNotify(t,"set")}get(e,t={}){if(!this.platform.isBrowser)return null;let i=t.mode!=="none"&&this.cog.mode==="promise",m=this.memory.has(e)?this.memory.get(e):this.store.get(this.cog.prefix+e);return!m||m.e&&m.e>0&&m.e<new Date().valueOf()?i?(this.cog.request?this.cog.request(e):this.http.get(e)).pipe(Oi(s=>po(s,this.cog.reName,s)),vi(s=>this.set(e,s,{type:t.type,expire:t.expire,emitNotify:t.emitNotify}))):null:i?qt(m.v):m.v}getNone(e){return this.get(e,{mode:"none"})}tryGet(e,t,i={}){if(!this.platform.isBrowser)return null;let m=this.getNone(e);return m===null?t instanceof Wt?this.set(e,t,i):(this.set(e,t,i),t):qt(m)}has(e){return this.memory.has(e)||this.meta.has(e)}_remove(e,t){if(t&&this.runNotify(e,"remove"),this.memory.has(e)){this.memory.delete(e);return}this.store.remove(this.cog.prefix+e),this.removeMeta(e)}remove(e){this.platform.isBrowser&&this._remove(e,!0)}clear(){this.platform.isBrowser&&(this.notifyBuffer.forEach((e,t)=>this.runNotify(t,"remove")),this.memory.clear(),this.meta.forEach(e=>this.store.remove(this.cog.prefix+e)))}set freq(e){this.freqTick=Math.max(20,e),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){let e=[];this.notifyBuffer.forEach((t,i)=>{this.has(i)&&this.getNone(i)===null&&e.push(i)}),e.forEach(t=>{this.runNotify(t,"expire"),this._remove(t,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(e,t){this.notifyBuffer.has(e)&&this.notifyBuffer.get(e).next({type:t,value:this.getNone(e)})}notify(e){if(!this.notifyBuffer.has(e)){let t=new ti(this.getNone(e));this.notifyBuffer.set(e,t)}return this.notifyBuffer.get(e).asObservable()}cancelNotify(e){this.notifyBuffer.has(e)&&(this.notifyBuffer.get(e).unsubscribe(),this.notifyBuffer.delete(e))}hasNotify(e){return this.notifyBuffer.has(e)}clearNotify(){this.notifyBuffer.forEach(e=>e.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=vt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Tr=new so(()=>({}));var Xo=(()=>{class o{constructor(){this.cache=N(Zo),this.msg=N(dt),this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," Cache \u7F13\u5B58, "),l(3,"a",1),c(4,"Document"),p()()(),l(5,"nz-card",2)(6,"button",3),_("click",function(){return i.set()}),c(7,"\u8BBE\u7F6E"),p(),l(8,"button",4),_("click",function(){return i.get()}),c(9,"\u83B7\u53D6"),p()())},dependencies:[P,I,ie,K,se,ae,re,b,fe,B,ge,G,$,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,Ne,H,de,W],encapsulation:2})}}return o})();var Yo=Ii(bi(),1);var Jo=(()=>{class o{el=N(kt).nativeElement;_http=N(zi);httpData;httpBody;httpMethod="get";httpUrl;fileName;pre;success=new Rt;error=new Rt;getDisposition(e){return(e||"").split(";").filter(i=>i.includes("=")).map(i=>{let m=i.split("="),s="UTF-8''",f=m[1];return f.startsWith(s)&&(f=f.substring(s.length)),{[m[0].trim()]:f}}).reduce((i,m)=>m,{})}isFileSaverSupported=!1;constructor(){try{this.isFileSaverSupported=!!new Blob}catch{}this.isFileSaverSupported||this.el.classList.add("down-file__not-support")}setDisabled(e){let t=this.el;t.disabled=e,t.classList[e?"add":"remove"]("down-file__disabled")}_click(e){return ki(this,null,function*(){if(!this.isFileSaverSupported||typeof this.pre=="function"&&!(yield this.pre(e))){e.stopPropagation(),e.preventDefault();return}this.setDisabled(!0),this._http.request(this.httpMethod,this.httpUrl,{params:this.httpData||{},responseType:"blob",observe:"response",body:this.httpBody}).pipe(ji(()=>this.setDisabled(!1))).subscribe({next:t=>{if(t.status!==200||t.body.size<=0){this.error.emit(t);return}let i=this.getDisposition(t.headers.get("content-disposition")),m=this.fileName;typeof m=="function"&&(m=m(t)),m=m||i["filename*"]||i.filename||t.headers.get("filename")||t.headers.get("x-filename"),(0,Yo.saveAs)(t.body,decodeURI(m)),this.success.emit(t)},error:t=>this.error.emit(t)})})}static \u0275fac=function(t){return new(t||o)};static \u0275dir=ri({type:o,selectors:[["","down-file",""]],hostBindings:function(t,i){t&1&&_("click",function(s){return i._click(s)})},inputs:{httpData:[0,"http-data","httpData"],httpBody:[0,"http-body","httpBody"],httpMethod:[0,"http-method","httpMethod"],httpUrl:[0,"http-url","httpUrl"],fileName:[0,"file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"]})}return o})();function _n(o,M){if(o&1&&(l(0,"button",2),c(1),p()),o&2){let e=M.$implicit,t=E();Yt("http-url","assets/tmp/demo",e,""),h("http-data",t.data),d(),Se(" ",e," ")}}var Ko=(()=>{class o{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"],this.data={otherdata:1,time:new Date}}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-down-file"]],decls:6,vars:0,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","down-file","","file-name","demo\u4E2D\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2,"Download a file"),p()(),l(3,"nz-card",1),yt(4,_n,2,4,"button",2,St),p()),t&2&&(d(4),Et(i.fileTypes))},dependencies:[P,I,ie,K,se,ae,re,b,fe,B,ge,G,$,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,Ne,H,de,W,Jo],encapsulation:2})}}return o})();var vn=o=>({params:o}),$o=(()=>{class o{constructor(){this.params={},this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7F16\u53F7"}}},this.columns=[{title:"\u7F16\u53F7",index:"no"},{title:"\u8C03\u7528\u6B21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50CF",type:"img",width:"50px",index:"avatar"},{title:"\u65F6\u95F4",type:"date",index:"updatedAt"}]}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[["st",""],[3,"title"],["mode","search",3,"formSubmit","formReset","schema","formData"],[3,"data","columns","req"]],template:function(t,i){if(t&1){let m=Ee();ce(0,"page-header",1),l(1,"nz-card")(2,"sf",2),_("formSubmit",function(f){w(m);let n=Nt(4);return D(n.reset(f))})("formReset",function(){w(m);let f=Nt(4);return D(f.reset(i.params))}),p(),ce(3,"st",3,0),p()}t&2&&(h("title","Page Name"),d(2),h("schema",i.searchSchema)("formData",i.params),d(),h("data",i.url)("columns",i.columns)("req",Jt(6,vn,i.params)))},dependencies:[P,I,ie,Oo,K,Vt,se,ae,re,jo,b,G,$,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,Ne,H,de,W],encapsulation:2})}}return o})();var Qo=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(t,i){t&1&&(l(0,"p"),c(1,"\u8FD9\u662F\u4E00\u4E2Aadmin\u9875\u9762"),p())},encapsulation:2})}}return o})();var en=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(t,i){t&1&&(l(0,"p"),c(1,"\u8FD9\u662F\u4E00\u4E2Auser1\u9875\u9762"),p())},encapsulation:2})}}return o})();var tn=()=>{let o=N(go);return new Wt(M=>{o.confirm({nzTitle:"\u786E\u8BA4\u8981\u79BB\u5F00\u5417\uFF1F",nzContent:"\u4F60\u5DF2\u7ECF\u586B\u5199\u4E86\u90E8\u5206\u8868\u5355\u79BB\u5F00\u4F1A\u653E\u5F03\u5DF2\u7ECF\u586B\u5199\u7684\u5185\u5BB9\u3002",nzOkText:"\u79BB\u5F00",nzCancelText:"\u53D6\u6D88",nzOnOk:()=>{M.next(!0),M.complete()},nzOnCancel:()=>{M.next(!1),M.complete()}})})};var yn=()=>["/delon/guard/leave"],En=()=>["/delon/guard/auth"],wn=()=>["/delon/guard/admin"],on=(()=>{class o{constructor(){this.aclSrv=N(ci),this.menuSrv=N(hi),this.router=N(mi)}get data(){return this.aclSrv.data}setRole(e){this.aclSrv.setFull(!1),typeof e=="boolean"?this.aclSrv.setFull(e):this.aclSrv.set({role:[e]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," \u8DEF\u7531\u5B88\u536B "),p()(),l(3,"nz-button-group")(4,"button",1)(5,"span"),c(6,"\u79BB\u5F00\u786E\u8BA4\u9875"),p()()(),l(7,"nz-button-group",2)(8,"button",3),_("click",function(){return i.setRole(!0)}),l(9,"span"),c(10,"\u8BBE\u7F6E\u7BA1\u7406\u5458"),p()(),l(11,"button",3),_("click",function(){return i.setRole("user1")}),l(12,"span"),c(13,"\u8BBE\u7F6E\u5458\u5DE51"),p()(),l(14,"button",3),_("click",function(){return i.setRole("user2")}),l(15,"span"),c(16,"\u8BBE\u7F6E\u5458\u5DE52"),p()()(),l(17,"nz-button-group",2)(18,"button",1)(19,"span"),c(20,"\u9700\u8981user1"),p()(),l(21,"button",1)(22,"span"),c(23,"\u9700\u8981\u7BA1\u7406\u5458"),p()()(),l(24,"p",4),c(25),wt(26,"json"),p(),ce(27,"router-outlet")),t&2&&(d(4),h("routerLink",_e(6,yn)),d(14),h("routerLink",_e(7,En)),d(3),h("routerLink",_e(8,wn)),d(4),Se("\u5F53\u524DACL\u4FE1\u606F\uFF1A",Dt(26,4,i.data),""))},dependencies:[P,I,ui,uo,Tt,ie,K,se,ae,re,b,fe,ho,B,ge,G,$,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,H,de,W],encapsulation:2})}}return o})();var Dn=()=>["/delon/guard"],nn=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(t,i){t&1&&(l(0,"p"),c(1,"\u79BB\u5F00\u65F6\u9700\u8981\u786E\u8BA4"),p(),l(2,"button",0)(3,"span"),c(4,"\u6211\u8981\u79BB\u5F00"),p()()),t&2&&(d(2),h("nzType","primary")("routerLink",_e(2,Dn)))},dependencies:[P,I,ui,ie,K,se,ae,re,b,fe,B,ge,G,$,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,H,de,W],encapsulation:2})}}return o})();var rn=(()=>{class o{scriptSrv=N(pi);defaultConfig;_cog;pending=!1;_lodop=null;_init=new Ut;_events=new Ut;printBuffer=[];constructor(e){this.defaultConfig=e.merge("lodop",{url:"http://localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(e){this._cog=ye(ye({},this.defaultConfig),e)}get events(){return this._events.asObservable()}get lodop(){return this._lodop?qt({ok:!0,lodop:this._lodop}):this.pending?this._init.asObservable():(this.request(),this._init.asObservable())}get printer(){this.check();let e=[],t=this._lodop.GET_PRINTER_COUNT();for(let i=0;i<t;i++)e.push(this._lodop.GET_PRINTER_NAME(i));return e}check(){if(!this._lodop)throw new Error("\u8BF7\u52A1\u5FC5\u5148\u8C03\u7528 lodop \u83B7\u53D6\u5BF9\u8C61")}request(){this.pending=!0;let e=new URL(this.cog.url);e.searchParams.set("name",this.cog.name);let t=e.toString(),i=this.cog.checkMaxCount,m=(f,n)=>{this._init.next({ok:f==="ok",status:f,error:n,lodop:this._lodop})},s=()=>{if(--i,this._lodop.webskt&&this._lodop.webskt.readyState===1)m("ok");else{if(i<0){m("check-limit");return}setTimeout(()=>s(),100)}};this.scriptSrv.loadScript(t).then(f=>{if(f.status!=="ok"){this.pending=!1,m("script-load-error",f[0]);return}let n=window;if(n.hasOwnProperty(this.cog.name)&&(this._lodop=n[this.cog.name]),this._lodop===null){m("load-variable-name-error",{name:this.cog.name});return}this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),s()})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(e,t,i){this.check(),i||(i=/LODOP\.([^(]+)\(([^\n]+)?\);/i),e.split(`
`).forEach(m=>{let s=i.exec(m.trim());if(!s)return;let f=this._lodop[s[1]];if(f){let n=null;try{n=new Function(`return [${s[2]}]`)()}catch{}if(n!=null&&Array.isArray(n)&&t)for(let r=0;r<n.length;r++)typeof n[r]=="string"&&(n[r]=n[r].replace(/{{(.*?)}}/g,(a,u)=>t[u.trim()]||""));f.apply(this._lodop,n)}})}design(){this.check();let e=this._lodop.PRINT_DESIGN();return new Promise(t=>{this._lodop.On_Return=(i,m)=>{e===i&&(this._lodop.On_Return=null,t(`${m}`))}})}printDo(){let e=this.printBuffer.shift();if(!e)return;this.attachCode(e.code,e.item,e.parser);let t=this._lodop.PRINT();this._lodop.On_Return=(i,m)=>{t===i&&(this._lodop.On_Return=null,this._events.next(ye({ok:m===!0,error:m===!0?null:m},e)),this.printDo())}}print(e,t,i){this.check(),t&&this.printBuffer.push(...(Array.isArray(t)?t:[t]).map(m=>({code:e,parser:i,item:m}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}static \u0275fac=function(t){return new(t||o)(ii(Ot))};static \u0275prov=vt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function bn(o,M){o&1&&(c(0," \u8BF7\u5148\u4E0B\u8F7D "),l(1,"a",5),c(2,"Lodop\u63D2\u4EF6"),p(),c(3,"\u3002 "))}function Fn(o,M){if(o&1&&(l(0,"nz-alert",3),Fe(1,bn,4,0,"ng-template",null,0,oo),p()),o&2){let e=Nt(2);h("nzType","warning")("nzMessage",e)}}function xn(o,M){if(o&1&&ce(0,"nz-option",12),o&2){let e=M.$implicit;h("nzLabel",e)("nzValue",e)}}function Bn(o,M){if(o&1&&ce(0,"nz-option",12),o&2){let e=M.$implicit;h("nzLabel",e)("nzValue",e)}}function Rn(o,M){if(o&1){let e=Ee();l(0,"form",4)(1,"nz-form-item",6)(2,"nz-form-label",7),c(3,"\u6253\u5370\u670D\u52A1\u5668"),p(),l(4,"nz-form-control",7)(5,"nz-input-group")(6,"div",8)(7,"input",9),Me("ngModelChange",function(i){w(e);let m=E();return ze(m.cog.url,i)||(m.cog.url=i),D(i)}),p()(),l(8,"div",8)(9,"button",10),_("click",function(){w(e);let i=E();return D(i.reload(null))}),c(10,"\u91CD\u65B0\u52A0\u8F7D\u6253\u5370\u673A"),p()()()()(),l(11,"nz-form-item",6)(12,"nz-form-label",7),c(13,"\u6253\u5370\u673A"),p(),l(14,"nz-form-control",7)(15,"nz-select",11),Me("ngModelChange",function(i){w(e);let m=E();return ze(m.cog.printer,i)||(m.cog.printer=i),D(i)}),_("ngModelChange",function(i){w(e);let m=E();return D(m.changePinter(i))}),yt(16,xn,1,2,"nz-option",12,St),p()()(),l(18,"nz-form-item",6)(19,"nz-form-label",7),c(20,"\u7EB8\u5F20\u7C7B\u578B"),p(),l(21,"nz-form-control",7)(22,"nz-select",13),Me("ngModelChange",function(i){w(e);let m=E();return ze(m.cog.paper,i)||(m.cog.paper=i),D(i)}),yt(23,Bn,1,2,"nz-option",12,St),p()()(),l(25,"nz-form-item",6)(26,"nz-form-label",7),c(27,"\u6253\u5370\u5185\u5BB9"),p(),l(28,"nz-form-control",7)(29,"textarea",14),Me("ngModelChange",function(i){w(e);let m=E();return ze(m.cog.html,i)||(m.cog.html=i),D(i)}),p(),l(30,"div",15),c(31,"\u4EC5\u9650HTML\uFF0C\u66F4\u591A\u7C7B\u578B\u652F\u6301\u8BF7\u53C2\u8003\u5B98\u7F51"),p()()(),l(32,"nz-form-item",6)(33,"nz-form-control",16)(34,"button",17),_("click",function(){w(e);let i=E();return D(i.print(!0))}),c(35,"\u6253\u5370\u9884\u89C8"),p(),l(36,"button",17),_("click",function(){w(e);let i=E();return D(i.print())}),c(37,"\u76F4\u63A5\u6253\u5370"),p()()()()}if(o&2){let e=E();d(2),h("nzSm",6),d(2),h("nzSm",18),d(2),h("nzSpan",16),d(),he("ngModel",e.cog.url),d(),h("nzSpan",8),d(4),h("nzSm",6),d(2),h("nzSm",18),d(),he("ngModel",e.cog.printer),d(),Et(e.pinters),d(3),h("nzSm",6),d(2),h("nzSm",18),d(),he("ngModel",e.cog.paper),d(),Et(e.papers),d(3),h("nzSm",6),d(2),h("nzSm",18),d(),he("ngModel",e.cog.html),d(4),h("nzSm",18)("nzOffset",6),d(),h("nzLoading",e.printing),d(2),h("nzLoading",e.printing)}}var an=(()=>{class o{constructor(){this.lodopSrv=N(rn),this.msg=N(dt),this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:`
      <h1>Title</h1>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
    `},this.error=!1,this.lodop=null,this.pinters=[],this.papers=[],this.printing=!1,this.lodopSrv.lodop.subscribe(({lodop:e,ok:t})=>{if(!t){this.error=!0;return}this.error=!1,this.msg.success("\u6253\u5370\u673A\u52A0\u8F7D\u6210\u529F"),this.lodop=e,this.pinters=this.lodopSrv.printer})}reload(e={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=ye(ye({},this.cog),e),this.error=!1,e===null&&this.lodopSrv.reset()}changePinter(e){this.lodop!=null&&(this.papers=this.lodop.GET_PAGESIZES_LIST(e,`
`).split(`
`))}print(e=!1){let t=this.lodop;t.PRINT_INITA(10,20,810,610,"\u6D4B\u8BD5C-Lodop\u8FDC\u7A0B\u6253\u5370\u56DB\u6B65\u9AA4"),t.SET_PRINTER_INDEXA(this.cog.printer),t.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),t.ADD_PRINT_TEXT(1,1,300,200,"\u4E0B\u9762\u8F93\u51FA\u7684\u662F\u672C\u9875\u6E90\u4EE3\u7801\u53CA\u5176\u5C55\u73B0\u6548\u679C\uFF1A"),t.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),t.SET_PRINT_STYLEA(0,"ItemType",4),t.NEWPAGEA(),t.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),e?t.PREVIEW():t.PRINT()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-print"]],decls:10,vars:2,consts:[["message",""],[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage"],["nz-form",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModelChange","ngModel"],["nz-button","",3,"click"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u6253\u5370\u673A","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u7EB8\u5F20\u7C7B\u578B","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModelChange","ngModel"],["nz-input","","name","html","nzAutosize","",3,"ngModelChange","ngModel"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"click","nzLoading"]],template:function(t,i){t&1&&(l(0,"div",1)(1,"h1"),c(2," Lodop\u6253\u5370 "),l(3,"small"),c(4," \u66F4\u591A\u4F53\u9A8C\u8BF7\u81F3 "),l(5,"a",2),c(6,"NG-ALAIN.com"),p()()()(),l(7,"nz-card"),Fe(8,Fn,3,2,"nz-alert",3)(9,Rn,38,18,"form",4),p()),t&2&&(d(8),pt(i.error?8:-1),d(),pt(i.error?-1:9))},dependencies:[P,xt,ct,ft,bt,ht,Ft,I,ie,K,se,ae,re,b,fe,B,ge,G,$,gt,Mt,L,j,pe,U,Mi,gi,T,k,le,Wo,R,q,A,oe,Y,zt,Ni,Io,J,X,Z,V,ne,ue,te,O,Q,Bt,jt,Gt,Ht,me,F,ee,Ne,H,de,W],encapsulation:2})}}return o})();var An=["canvas"];function Pn(o,M){if(o&1&&(Ji(0),c(1),Ki()),o&2){let e=E(2);d(),At(e.nzStatusRender)}}function In(o,M){if(o&1&&(l(0,"div",1),Fe(1,Pn,2,1,"ng-container",2),p()),o&2){let e=E();d(),h("nzStringTemplateOutlet",e.nzStatusRender)}}function kn(o,M){o&1&&ce(0,"nz-spin")}function Ln(o,M){if(o&1){let e=Ee();l(0,"div")(1,"p",3),c(2),p(),l(3,"button",4),_("click",function(){w(e);let i=E(2);return D(i.reloadQRCode())}),ce(4,"nz-icon",5),l(5,"span"),c(6),p()()()}if(o&2){let e=E(2);d(2),At(e.locale.expired),d(4),At(e.locale.refresh)}}function On(o,M){if(o&1&&(l(0,"div")(1,"p",3),c(2),p()()),o&2){let e=E(2);d(2),At(e.locale.scanned)}}function Vn(o,M){if(o&1&&(l(0,"div",1),Fe(1,kn,1,0,"nz-spin")(2,Ln,7,2,"div")(3,On,3,1,"div"),p()),o&2){let e,t=E();d(),pt((e=t.nzStatus)==="loading"?1:e==="expired"?2:e==="scanned"?3:-1)}}function jn(o,M){o&1&&ce(0,"canvas",null,0)}var Pt;(function(o){let M=(()=>{class s{static encodeText(n,r){let a=o.QrSegment.makeSegments(n);return s.encodeSegments(a,r)}static encodeBinary(n,r){let a=o.QrSegment.makeBytes(n);return s.encodeSegments([a],r)}static encodeSegments(n,r,a=1,u=40,z=-1,C=!0){if(!(s.MIN_VERSION<=a&&a<=u&&u<=s.MAX_VERSION)||z<-1||z>7)throw new RangeError("Invalid value");let g,S;for(g=a;;g++){let x=s.getNumDataCodewords(g,r)*8,ve=m.getTotalBits(n,g);if(ve<=x){S=ve;break}if(g>=u)throw new RangeError("Data too long")}for(let x of[s.Ecc.MEDIUM,s.Ecc.QUARTILE,s.Ecc.HIGH])C&&S<=s.getNumDataCodewords(g,x)*8&&(r=x);let v=[];for(let x of n){e(x.mode.modeBits,4,v),e(x.numChars,x.mode.numCharCountBits(g),v);for(let ve of x.getData())v.push(ve)}i(v.length==S);let be=s.getNumDataCodewords(g,r)*8;i(v.length<=be),e(0,Math.min(4,be-v.length),v),e(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let x=236;v.length<be;x^=253)e(x,8,v);let _t=[];for(;_t.length*8<v.length;)_t.push(0);return v.forEach((x,ve)=>_t[ve>>>3]|=x<<7-(ve&7)),new s(g,r,_t,z)}constructor(n,r,a,u){if(this.version=n,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],n<s.MIN_VERSION||n>s.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=n*4+17;let z=[];for(let g=0;g<this.size;g++)z.push(!1);for(let g=0;g<this.size;g++)this.modules.push(z.slice()),this.isFunction.push(z.slice());this.drawFunctionPatterns();let C=this.addEccAndInterleave(a);if(this.drawCodewords(C),u==-1){let g=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);let v=this.getPenaltyScore();v<g&&(u=S,g=v),this.applyMask(S)}}i(u>=0&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}getModule(n,r){return n>=0&&n<this.size&&r>=0&&r<this.size&&this.modules[r][n]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let n=this.getAlignmentPatternPositions(),r=n.length;for(let a=0;a<r;a++)for(let u=0;u<r;u++)a==0&&u==0||a==0&&u==r-1||a==r-1&&u==0||this.drawAlignmentPattern(n[a],n[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(n){let r=this.errorCorrectionLevel.formatBits<<3|n,a=r;for(let z=0;z<10;z++)a=a<<1^(a>>>9)*1335;let u=(r<<10|a)^21522;i(u>>>15==0);for(let z=0;z<=5;z++)this.setFunctionModule(8,z,t(u,z));this.setFunctionModule(8,7,t(u,6)),this.setFunctionModule(8,8,t(u,7)),this.setFunctionModule(7,8,t(u,8));for(let z=9;z<15;z++)this.setFunctionModule(14-z,8,t(u,z));for(let z=0;z<8;z++)this.setFunctionModule(this.size-1-z,8,t(u,z));for(let z=8;z<15;z++)this.setFunctionModule(8,this.size-15+z,t(u,z));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let n=this.version;for(let a=0;a<12;a++)n=n<<1^(n>>>11)*7973;let r=this.version<<12|n;i(r>>>18==0);for(let a=0;a<18;a++){let u=t(r,a),z=this.size-11+a%3,C=Math.floor(a/3);this.setFunctionModule(z,C,u),this.setFunctionModule(C,z,u)}}drawFinderPattern(n,r){for(let a=-4;a<=4;a++)for(let u=-4;u<=4;u++){let z=Math.max(Math.abs(u),Math.abs(a)),C=n+u,g=r+a;C>=0&&C<this.size&&g>=0&&g<this.size&&this.setFunctionModule(C,g,z!=2&&z!=4)}}drawAlignmentPattern(n,r){for(let a=-2;a<=2;a++)for(let u=-2;u<=2;u++)this.setFunctionModule(n+u,r+a,Math.max(Math.abs(u),Math.abs(a))!=1)}setFunctionModule(n,r,a){this.modules[r][n]=a,this.isFunction[r][n]=!0}addEccAndInterleave(n){let r=this.version,a=this.errorCorrectionLevel;if(n.length!=s.getNumDataCodewords(r,a))throw new RangeError("Invalid argument");let u=s.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][r],z=s.ECC_CODEWORDS_PER_BLOCK[a.ordinal][r],C=Math.floor(s.getNumRawDataModules(r)/8),g=u-C%u,S=Math.floor(C/u),v=[],be=s.reedSolomonComputeDivisor(z);for(let x=0,ve=0;x<u;x++){let It=n.slice(ve,ve+S-z+(x<g?0:1));ve+=It.length;let gn=s.reedSolomonComputeRemainder(It,be);x<g&&It.push(0),v.push(It.concat(gn))}let _t=[];for(let x=0;x<v[0].length;x++)v.forEach((ve,It)=>{(x!=S-z||It>=g)&&_t.push(ve[x])});return i(_t.length==C),_t}drawCodewords(n){if(n.length!=Math.floor(s.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(let u=0;u<this.size;u++)for(let z=0;z<2;z++){let C=a-z,S=(a+1&2)==0?this.size-1-u:u;!this.isFunction[S][C]&&r<n.length*8&&(this.modules[S][C]=t(n[r>>>3],7-(r&7)),r++)}}i(r==n.length*8)}applyMask(n){if(n<0||n>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let a=0;a<this.size;a++){let u;switch(n){case 0:u=(a+r)%2==0;break;case 1:u=r%2==0;break;case 2:u=a%3==0;break;case 3:u=(a+r)%3==0;break;case 4:u=(Math.floor(a/3)+Math.floor(r/2))%2==0;break;case 5:u=a*r%2+a*r%3==0;break;case 6:u=(a*r%2+a*r%3)%2==0;break;case 7:u=((a+r)%2+a*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][a]&&u&&(this.modules[r][a]=!this.modules[r][a])}}getPenaltyScore(){let n=0;for(let z=0;z<this.size;z++){let C=!1,g=0,S=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[z][v]==C?(g++,g==5?n+=s.PENALTY_N1:g>5&&n++):(this.finderPenaltyAddHistory(g,S),C||(n+=this.finderPenaltyCountPatterns(S)*s.PENALTY_N3),C=this.modules[z][v],g=1);n+=this.finderPenaltyTerminateAndCount(C,g,S)*s.PENALTY_N3}for(let z=0;z<this.size;z++){let C=!1,g=0,S=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][z]==C?(g++,g==5?n+=s.PENALTY_N1:g>5&&n++):(this.finderPenaltyAddHistory(g,S),C||(n+=this.finderPenaltyCountPatterns(S)*s.PENALTY_N3),C=this.modules[v][z],g=1);n+=this.finderPenaltyTerminateAndCount(C,g,S)*s.PENALTY_N3}for(let z=0;z<this.size-1;z++)for(let C=0;C<this.size-1;C++){let g=this.modules[z][C];g==this.modules[z][C+1]&&g==this.modules[z+1][C]&&g==this.modules[z+1][C+1]&&(n+=s.PENALTY_N2)}let r=0;for(let z of this.modules)r=z.reduce((C,g)=>C+(g?1:0),r);let a=this.size*this.size,u=Math.ceil(Math.abs(r*20-a*10)/a)-1;return i(u>=0&&u<=9),n+=u*s.PENALTY_N4,i(n>=0&&n<=2568888),n}getAlignmentPatternPositions(){if(this.version==1)return[];{let n=Math.floor(this.version/7)+2,r=this.version==32?26:Math.ceil((this.version*4+4)/(n*2-2))*2,a=[6];for(let u=this.size-7;a.length<n;u-=r)a.splice(1,0,u);return a}}static getNumRawDataModules(n){if(n<s.MIN_VERSION||n>s.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*n+128)*n+64;if(n>=2){let a=Math.floor(n/7)+2;r-=(25*a-10)*a-55,n>=7&&(r-=36)}return i(r>=208&&r<=29648),r}static getNumDataCodewords(n,r){return Math.floor(s.getNumRawDataModules(n)/8)-s.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n]*s.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n]}static reedSolomonComputeDivisor(n){if(n<1||n>255)throw new RangeError("Degree out of range");let r=[];for(let u=0;u<n-1;u++)r.push(0);r.push(1);let a=1;for(let u=0;u<n;u++){for(let z=0;z<r.length;z++)r[z]=s.reedSolomonMultiply(r[z],a),z+1<r.length&&(r[z]^=r[z+1]);a=s.reedSolomonMultiply(a,2)}return r}static reedSolomonComputeRemainder(n,r){let a=r.map(u=>0);for(let u of n){let z=u^a.shift();a.push(0),r.forEach((C,g)=>a[g]^=s.reedSolomonMultiply(C,z))}return a}static reedSolomonMultiply(n,r){if(n>>>8||r>>>8)throw new RangeError("Byte out of range");let a=0;for(let u=7;u>=0;u--)a=a<<1^(a>>>7)*285,a^=(r>>>u&1)*n;return i(a>>>8==0),a}finderPenaltyCountPatterns(n){let r=n[1];i(r<=this.size*3);let a=r>0&&n[2]==r&&n[3]==r*3&&n[4]==r&&n[5]==r;return(a&&n[0]>=r*4&&n[6]>=r?1:0)+(a&&n[6]>=r*4&&n[0]>=r?1:0)}finderPenaltyTerminateAndCount(n,r,a){return n&&(this.finderPenaltyAddHistory(r,a),r=0),r+=this.size,this.finderPenaltyAddHistory(r,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(n,r){r[0]==0&&(n+=this.size),r.pop(),r.unshift(n)}static{this.MIN_VERSION=1}static{this.MAX_VERSION=40}static{this.PENALTY_N1=3}static{this.PENALTY_N2=3}static{this.PENALTY_N3=40}static{this.PENALTY_N4=10}static{this.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]}static{this.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}}return s})();o.QrCode=M;function e(s,f,n){if(f<0||f>31||s>>>f)throw new RangeError("Value out of range");for(let r=f-1;r>=0;r--)n.push(s>>>r&1)}function t(s,f){return(s>>>f&1)!=0}function i(s){if(!s)throw new Error("Assertion error")}let m=(()=>{class s{static makeBytes(n){let r=[];for(let a of n)e(a,8,r);return new s(s.Mode.BYTE,n.length,r)}static makeNumeric(n){if(!s.isNumeric(n))throw new RangeError("String contains non-numeric characters");let r=[];for(let a=0;a<n.length;){let u=Math.min(n.length-a,3);e(parseInt(n.substring(a,a+u),10),u*3+1,r),a+=u}return new s(s.Mode.NUMERIC,n.length,r)}static makeAlphanumeric(n){if(!s.isAlphanumeric(n))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],a;for(a=0;a+2<=n.length;a+=2){let u=s.ALPHANUMERIC_CHARSET.indexOf(n.charAt(a))*45;u+=s.ALPHANUMERIC_CHARSET.indexOf(n.charAt(a+1)),e(u,11,r)}return a<n.length&&e(s.ALPHANUMERIC_CHARSET.indexOf(n.charAt(a)),6,r),new s(s.Mode.ALPHANUMERIC,n.length,r)}static makeSegments(n){return n==""?[]:s.isNumeric(n)?[s.makeNumeric(n)]:s.isAlphanumeric(n)?[s.makeAlphanumeric(n)]:[s.makeBytes(s.toUtf8ByteArray(n))]}static makeEci(n){let r=[];if(n<0)throw new RangeError("ECI assignment value out of range");if(n<128)e(n,8,r);else if(n<16384)e(2,2,r),e(n,14,r);else if(n<1e6)e(6,3,r),e(n,21,r);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,r)}static isNumeric(n){return s.NUMERIC_REGEX.test(n)}static isAlphanumeric(n){return s.ALPHANUMERIC_REGEX.test(n)}constructor(n,r,a){if(this.mode=n,this.numChars=r,this.bitData=a,r<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}getData(){return this.bitData.slice()}static getTotalBits(n,r){let a=0;for(let u of n){let z=u.mode.numCharCountBits(r);if(u.numChars>=1<<z)return 1/0;a+=4+z+u.bitData.length}return a}static toUtf8ByteArray(n){n=encodeURI(n);let r=[];for(let a=0;a<n.length;a++)n.charAt(a)!="%"?r.push(n.charCodeAt(a)):(r.push(parseInt(n.substring(a+1,a+3),16)),a+=2);return r}static{this.NUMERIC_REGEX=/^[0-9]*$/}static{this.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/}static{this.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}}return s})();o.QrSegment=m})(Pt||(Pt={}));(function(o){var M;(function(e){class t{static{this.LOW=new t(0,1)}static{this.MEDIUM=new t(1,0)}static{this.QUARTILE=new t(2,3)}static{this.HIGH=new t(3,2)}constructor(m,s){this.ordinal=m,this.formatBits=s}}e.Ecc=t})(M=o.QrCode||(o.QrCode={}))})(Pt||(Pt={}));(function(o){var M;(function(e){class t{static{this.NUMERIC=new t(1,[10,12,14])}static{this.ALPHANUMERIC=new t(2,[9,11,13])}static{this.BYTE=new t(4,[8,16,16])}static{this.KANJI=new t(8,[8,10,12])}static{this.ECI=new t(7,[0,0,0])}constructor(m,s){this.modeBits=m,this.numBitsCharCount=s}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}}e.Mode=t})(M=o.QrSegment||(o.QrSegment={}))})(Pt||(Pt={}));var Qt=Pt,Hn={L:Qt.QrCode.Ecc.LOW,M:Qt.QrCode.Ecc.MEDIUM,Q:Qt.QrCode.Ecc.QUARTILE,H:Qt.QrCode.Ecc.HIGH},Gn=160,Wn=10,Un=10,qn="#000000",Zn="#FFFFFF",Xn=40,Yn="M",Jn=(o,M=Yn)=>o?Qt.QrCode.encodeText(o,Hn[M]):null;function Kn(o,M,e=Gn,t=Wn,i=Un,m=qn,s=Zn,f=Xn,n){let r=o.getContext("2d"),a=$n(i);if(o.style.width=`${e}px`,o.style.height=`${e}px`,!M){r.fillStyle="rgba(0, 0, 0, 0)",r.fillRect(0,0,o.width,o.height);return}if(o.width=M.size*t+a[1]+a[3],o.height=M.size*t+a[0]+a[2],!n)xi(r,o.width,o.height,t,s),Fi(r,M,t,a,s,m);else{let u=new Image;u.src=n,u.crossOrigin="anonymous",u.width=f*(o.width/e),u.height=f*(o.width/e);let z=()=>{g(),xi(r,o.width,o.height,t,s),Fi(r,M,t,a,s,m);let S=o.width/2-f*(o.width/e)/2;r.fillRect(S,S,f*(o.width/e),f*(o.width/e)),r.drawImage(u,S,S,f*(o.width/e),f*(o.width/e))},C=()=>{g(),xi(r,o.width,o.height,t,s),Fi(r,M,t,a,s,m)},g=()=>{u.removeEventListener("load",z),u.removeEventListener("error",C)};u.addEventListener("load",z),u.addEventListener("error",C)}}function Fi(o,M,e,t,i,m){for(let s=0;s<M.size;s++)for(let f=0;f<M.size;f++)o.fillStyle=M.getModule(f,s)?m:i,o.fillRect(t[3]+f*e,t[0]+s*e,e,e)}function xi(o,M,e,t,i){o.fillStyle=i,o.fillRect(0,0,M*t,e*t)}function $n(o){return Array.isArray(o)?Array(4).fill(0).map((M,e)=>o[e%o.length]):[o,o,o,o]}var sn=(()=>{class o{constructor(e,t,i){this.i18n=e,this.el=t,this.cdr=i,this.nzValue="",this.nzPadding=0,this.nzColor="#000000",this.nzBgColor="#FFFFFF",this.nzSize=160,this.nzIcon="",this.nzIconSize=40,this.nzBordered=!0,this.nzStatus="active",this.nzLevel="M",this.nzStatusRender=null,this.nzRefresh=new Rt,this.isBrowser=!0,this.destroy$=new Ut,this.platformId=N(Zi),this.isBrowser=ao(this.platformId),this.cdr.markForCheck()}ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(Gi(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(e){let{nzValue:t,nzIcon:i,nzLevel:m,nzSize:s,nzIconSize:f,nzColor:n,nzPadding:r,nzBgColor:a}=e;(t||i||m||s||f||n||r||a)&&this.canvas&&this.drawCanvasQRCode(),a&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&Kn(this.canvas.nativeElement,Jn(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||o)(ni(Mo),ni(kt),ni(Lt))}}static{this.\u0275cmp=y({type:o,selectors:[["nz-qrcode"]],viewQuery:function(t,i){if(t&1&&eo(An,5),t&2){let m;to(m=io())&&(i.canvas=m.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(t,i){t&2&&si("ant-qrcode-border",i.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",$t],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",$t],nzBordered:[2,"nzBordered","nzBordered",Kt],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[ai,oi],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(t,i){t&1&&Fe(0,In,2,1,"div",1)(1,Vn,4,1,"div",1)(2,jn,2,0,"canvas"),t&2&&(pt(i.nzStatusRender?0:i.nzStatus!=="active"?1:-1),d(2),pt(i.isBrowser?2:-1))},dependencies:[F,bo,b,fe,B,T,fi,fo],encapsulation:2,changeDetection:0})}}return o})();var ei=()=>({standalone:!0}),ln=(()=>{class o{constructor(){this.value="https://ng-alain.com/",this.background="#ffffff",this.foreground="#000000",this.level="L",this.mime="image/png",this.padding=10,this.size=220}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-qr"]],decls:44,vars:39,consts:[[1,"alain-default__content-title"],["href","https://ng.ant.design/components/qr-code","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[3,"nzValue","nzBgColor","nzColor","nzLevel","nzSize","nzPadding"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngModelChange","ngModel","ngModelOptions"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax","nzStep"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," \u4E8C\u7EF4\u7801 "),l(3,"a",1),c(4,"Document"),p()()(),l(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),ce(8,"nz-qrcode",4),p(),l(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),c(13,"\u80CC\u666F"),p(),l(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),Me("ngModelChange",function(s){return ze(i.background,s)||(i.background=s),s}),p()()()(),l(17,"nz-form-item")(18,"nz-form-label",5),c(19,"\u524D\u666F"),p(),l(20,"nz-form-control",5)(21,"nz-input-group")(22,"input",7),Me("ngModelChange",function(s){return ze(i.foreground,s)||(i.foreground=s),s}),p()()()(),l(23,"nz-form-item")(24,"nz-form-label",5),c(25,"\u8BEF\u5DEE"),p(),l(26,"nz-form-control",5)(27,"nz-select",8),Me("ngModelChange",function(s){return ze(i.level,s)||(i.level=s),s}),ce(28,"nz-option",9)(29,"nz-option",10)(30,"nz-option",11)(31,"nz-option",12),p()()(),l(32,"nz-form-item")(33,"nz-form-label",5),c(34,"\u5185\u8FB9\u8DDD"),p(),l(35,"nz-form-control",5)(36,"nz-input-number",13),Me("ngModelChange",function(s){return ze(i.padding,s)||(i.padding=s),s}),p(),c(37,"px "),p()(),l(38,"nz-form-item")(39,"nz-form-label",5),c(40,"\u5927\u5C0F"),p(),l(41,"nz-form-control",5)(42,"nz-input-number",14),Me("ngModelChange",function(s){return ze(i.size,s)||(i.size=s),s}),p(),c(43,"px "),p()()()()()()),t&2&&(d(6),h("nzGutter",24),d(),h("nzSpan",8),d(),h("nzValue",i.value)("nzBgColor",i.background)("nzColor",i.foreground)("nzLevel",i.level)("nzSize",i.size)("nzPadding",i.padding),d(),h("nzSpan",16),d(3),h("nzSpan",8),d(2),h("nzSpan",16),d(2),he("ngModel",i.background),h("ngModelOptions",_e(34,ei)),d(2),h("nzSpan",8),d(2),h("nzSpan",16),d(2),he("ngModel",i.foreground),h("ngModelOptions",_e(35,ei)),d(2),h("nzSpan",8),d(2),h("nzSpan",16),d(),he("ngModel",i.level),h("ngModelOptions",_e(36,ei)),d(6),h("nzSpan",8),d(2),h("nzSpan",16),d(),he("ngModel",i.padding),h("ngModelOptions",_e(37,ei))("nzMin",0)("nzMax",100),d(3),h("nzSpan",8),d(2),h("nzSpan",16),d(),he("ngModel",i.size),h("ngModelOptions",_e(38,ei))("nzMin",100)("nzMax",1e3)("nzStep",i.padding))},dependencies:[P,xt,ct,ft,bt,ht,Ft,I,ie,K,se,ae,re,b,B,G,$,gt,Mt,L,j,pe,U,Mi,gi,T,k,le,R,q,A,oe,Y,zt,Ni,J,ko,X,Z,V,ne,ue,te,O,Q,Bt,jt,Gt,Ht,me,F,ee,Ne,H,de,W,sn],encapsulation:2})}}return o})();var Qn=["*"],er=(()=>{class o{_change=new ti(null);toggle(){this._change.next(!0)}get change(){return this._change.pipe(Hi())}static \u0275fac=function(t){return new(t||o)};static \u0275prov=vt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Bi="full-content__body",Ri="full-content__opened",Ai="full-content__hidden-title",Pi=(()=>{class o{destroy$=N(Ui);el=N(kt).nativeElement;cdr=N(Lt);srv=N(er);router=N(mi);doc=N(no);bodyEl=this.doc.querySelector("body");inited=!1;id=`_full-content-${Math.random().toString(36).substring(2)}`;_height=0;fullscreen;hideTitle=!0;padding=24;fullscreenChange=new Rt;updateCls(){let e=this.bodyEl.classList;this.fullscreen?(e.add(Ri),this.hideTitle&&e.add(Ai)):(e.remove(Ri),this.hideTitle&&e.remove(Ai))}update(){this.updateCls(),this.updateHeight(),this.fullscreenChange.emit(this.fullscreen)}updateHeight(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.getBoundingClientRect().top-this.padding,this.cdr.detectChanges()}removeInBody(){this.bodyEl.classList.remove(Bi,Ri,Ai)}ngOnInit(){this.inited=!0,this.bodyEl.classList.add(Bi),this.el.id=this.id,this.updateCls(),Vi(window,"resize").pipe(di(this.destroy$),_i(200)).subscribe(()=>this.updateHeight()),this.srv.change.pipe(di(this.destroy$),Ci(e=>e!==null)).subscribe(()=>this.toggle()),this.router.events.pipe(di(this.destroy$),Ci(e=>e instanceof lo||e instanceof mo),_i(200)).subscribe(()=>{this.doc.querySelector(`#${this.id}`)?(this.bodyEl.classList.add(Bi),this.updateCls()):this.removeInBody()})}toggle(){this.fullscreen=!this.fullscreen,this.update(),this.updateHeight()}ngAfterViewInit(){setTimeout(()=>this.updateHeight())}ngOnChanges(){this.inited&&this.update()}ngOnDestroy(){this.removeInBody()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=y({type:o,selectors:[["full-content"]],hostVars:4,hostBindings:function(t,i){t&2&&(Yi("height",i._height,"px"),si("full-content",!0))},inputs:{fullscreen:[2,"fullscreen","fullscreen",Kt],hideTitle:[2,"hideTitle","hideTitle",Kt],padding:[2,"padding","padding",$t]},outputs:{fullscreenChange:"fullscreenChange"},exportAs:["fullContent"],features:[ai,oi],ngContentSelectors:Qn,decls:1,vars:0,template:function(t,i){t&1&&($i(),Qi(0))},encapsulation:2,changeDetection:0})}return o})(),mn=(()=>{class o{parent=N(Pi);_click(){this.parent.toggle()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=ri({type:o,selectors:[["","full-toggle",""]],hostBindings:function(t,i){t&1&&_("click",function(){return i._click()})},exportAs:["fullToggle"]})}return o})();var un=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=Xt({type:o});static \u0275inj=Zt({imports:[ro]})}return o})();var ir=o=>({params:o}),or=()=>({list:"results"}),nr=o=>({reName:o}),rr=()=>[0,0,0,0];function ar(o,M){if(o&1&&ce(0,"g2-mini-bar",21),o&2){let e=E();h("padding",_e(2,rr))("data",e.events)}}var pn=(()=>{class o{constructor(){this.http=N(zi),this.message=N(dt),this.ps=20,this.total=200,this.args={_allow_anonymous:!0,userid:null},this.url="https://api.randomuser.me/?results=20",this.events=[],this.scroll={y:"230px"},this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:e=>`${e.name.first} ${e.name.last}`,type:"link",click:e=>this.message.info(`${e.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:e=>this.message.info(`edit [${e.id.value}]`),iif:e=>e.gender==="female"},{text:"Delete",type:"del",click:e=>this.message.info(`deleted [${e.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(e=>this.events=e.slice(0,8))}fullChange(e){this.scroll=e?{y:"350px"}:{y:"230px"}}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-st"]],decls:43,vars:18,consts:[["exportMenu","nzDropdownMenu"],["st",""],[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModelChange","ngModel"],["nz-button","",3,"click","nzType","nzLoading"],["nz-button","",3,"click","disabled"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(t,i){if(t&1){let m=Ee();l(0,"div",2)(1,"h1"),c(2," Fullscreen & ST "),l(3,"small"),c(4,"\u4F7F\u7528 "),l(5,"a",3),c(6,"st"),p(),c(7,"\u3001 "),l(8,"a",4),c(9,"full-content"),p(),c(10," \u7EC4\u5408\uFF0C\u7531\u4E8E nz-table \u56FA\u5B9A\u8868\u5934\u6682\u4E0D\u652F\u6301\u81EA\u9002\u5E94\uFF0C\u56E0\u6B64\u8868\u683C\u7684\u5C55\u793A\u7684\u6548\u679C\u5728\u54CD\u5E94\u5F0F\u91CC\u9762\u6548\u679C\u5E76\u4E0D\u662F\u7279\u522B\u597D\u3002"),p()()(),l(11,"full-content",5),_("fullscreenChange",function(f){return w(m),D(i.fullChange(f))}),l(12,"nz-card")(13,"div",6)(14,"div",7)(15,"form",8)(16,"se",9)(17,"input",10),Me("ngModelChange",function(f){return w(m),ze(i.args.userid,f)||(i.args.userid=f),D(f)}),p()(),l(18,"se")(19,"button",11),_("click",function(){w(m);let f=Nt(41);return D(f.load())}),c(20,"Search"),p(),l(21,"button",12),_("click",function(){w(m);let f=Nt(41);return D(f.load(1,{_allow_anonymous:!0}))}),c(22,"Clear"),p()()()(),l(23,"div",7)(24,"div",13)(25,"button",14)(26,"span"),c(27,"Export"),p(),ce(28,"i",15),p(),l(29,"nz-dropdown-menu",null,0)(31,"ul",16)(32,"li",17),c(33,"Excel"),p(),l(34,"li",17),c(35,"JSON"),p(),l(36,"li",17),c(37,"PNG"),p()()(),l(38,"button",18),c(39,"Full"),p()()()(),l(40,"st",19,1),Fe(42,ar,1,3,"ng-template",20),p()()()}if(t&2){let m=Nt(30);d(17),he("ngModel",i.args.userid),d(2),h("nzType","primary")("nzLoading",i.http.loading),d(2),h("disabled",i.http.loading),d(4),h("nzDropdownMenu",m),d(13),h("nzType","default"),d(2),h("data",i.url)("req",Jt(13,ir,i.args))("res",Jt(16,nr,_e(15,or)))("total",i.total)("ps",i.ps)("columns",i.columns)("scroll",i.scroll)}},dependencies:[P,xt,ct,ft,bt,ht,Ft,I,ie,K,Vt,Lo,se,ae,Ho,Go,re,b,fe,B,ge,G,Eo,yo,wo,To,Do,$,gt,Mt,L,j,pe,U,T,fi,k,le,R,q,A,oe,Y,zt,J,X,Z,V,ne,ue,te,O,Q,Bt,me,F,ee,Ne,H,de,W,un,Pi,mn,Uo],encapsulation:2})}}return o})();var dn=()=>({standalone:!0}),cn=(()=>{class o{constructor(){this.messageSrv=N(dt),this.format_str="this is ${name}",this.format_res="",this.format_obj=JSON.stringify({name:"asdf"}),this.content=`time ${+new Date}

    \u4E2D\u6587\uFF01@#\uFFE5%\u2026\u2026&*`}onFormat(){let e=null;try{e=JSON.parse(this.format_obj)}catch{this.messageSrv.error("\u65E0\u6CD5\u4F7F\u7528 JSON.parse \u8F6C\u6362");return}this.format_res=_o(this.format_str,e,!0)}onYuan(e){this.yuan_res=Vo(e)}onCopy(){No(`time ${+new Date}`).then(()=>this.messageSrv.success("success"))}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5B57\u7B26\u4E32\u7C7B"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModelChange","ngModel","ngModelOptions"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModelChange","ngModel"],[3,"innerHTML"],["nzTitle","\u5176\u5B83\u7C7B"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," \u5DE5\u5177\u96C6 "),l(3,"small"),c(4,"@delon/util \u65E5\u5E38\u7528\u6CD5\u3002"),p()()(),l(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),c(12,"String"),p(),l(13,"nz-form-control",6)(14,"input",7),Me("ngModelChange",function(s){return ze(i.format_str,s)||(i.format_str=s),s}),p()()(),l(15,"nz-form-item")(16,"nz-form-label",6),c(17,"Object"),p(),l(18,"nz-form-control",6)(19,"input",7),Me("ngModelChange",function(s){return ze(i.format_obj,s)||(i.format_obj=s),s}),p()()(),l(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),_("click",function(){return i.onFormat()}),c(23,"Run"),p()()(),l(24,"nz-form-item")(25,"nz-form-label",6),c(26,"Result"),p(),l(27,"nz-form-control",6),c(28),p()()()(),l(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),Me("ngModelChange",function(s){return ze(i.yuan_str,s)||(i.yuan_str=s),s}),_("ngModelChange",function(s){return i.onYuan(s)}),p()(),l(33,"nz-col",2),ce(34,"div",12),p()()()()(),l(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),_("click",function(){return i.onCopy()}),c(38,"Copy"),p()()()()),t&2&&(d(5),h("nzGutter",16),d(),h("nzSpan",12),d(5),h("nzSm",8),d(2),h("nzSm",16),d(),he("ngModel",i.format_str),h("ngModelOptions",_e(21,dn)),d(2),h("nzSm",8),d(2),h("nzSm",16),d(),he("ngModel",i.format_obj),h("ngModelOptions",_e(22,dn)),d(2),h("nzSpan",16)("nzOffset",8),d(4),h("nzSm",8),d(2),h("nzSm",16),d(),Se(" ",i.format_res," "),d(2),h("nzGutter",16),d(),h("nzSpan",12),d(),he("ngModel",i.yuan_str),d(),h("nzSpan",12),d(),h("innerHTML",i.yuan_res,Xi),d(),h("nzSpan",12))},dependencies:[P,xt,ct,Co,ft,bt,ht,Ft,I,ie,K,se,ae,re,b,fe,B,ge,G,$,gt,Mt,L,j,pe,U,T,k,le,R,q,A,oe,Y,zt,J,X,Z,V,ne,ue,te,O,Q,Bt,jt,Gt,Ht,me,F,ee,Ne,H,de,W],encapsulation:2})}}return o})();var fn=(()=>{class o{constructor(){this.xlsx=N(So),this.users=Array(100).fill(0).map((e,t)=>({id:t+1,name:`name ${t+1}`,age:Math.ceil(Math.random()*10)+20})),this.columns=[{title:"\u7F16\u53F7",index:"id",type:"checkbox"},{title:"\u59D3\u540D",index:"name"},{title:"\u5E74\u9F84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(e=>this.data=e)}change(e){let t=e.target.files[0];this.xlsx.import(t).then(i=>this.data=i)}download(){let e=[this.columns.map(t=>t.title)];this.users.forEach(t=>e.push(this.columns.map(i=>t[i.index]))),this.xlsx.export({sheets:[{data:e,name:"sheet name"}]})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," Import & Export excel file, "),l(3,"a",1),c(4,"Document"),p()()(),l(5,"nz-card",2)(6,"button",3),_("click",function(){return i.url()}),c(7,"Via Url"),p(),l(8,"input",4),_("change",function(s){return i.change(s)}),p(),l(9,"p",5),c(10),wt(11,"json"),p()(),l(12,"nz-card",6)(13,"button",3),_("click",function(){return i.download()}),c(14,"Export"),p(),ce(15,"st",7),p()),t&2&&(d(10),Se("result: ",Dt(11,4,i.data),""),d(5),h("data",i.users)("ps",3)("columns",i.columns))},dependencies:[P,I,Tt,ie,K,Vt,se,ae,re,b,fe,B,ge,G,$,L,j,pe,U,T,k,le,R,q,A,oe,Y,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,Ne,H,de,W],encapsulation:2})}}return o})();var hn=Ii(bi(),1);var zn=(()=>{class o{http=N(li);lazy=N(pi);ngZone=N(qi);cog;constructor(e){this.cog=e.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(e){if(!e)throw new Error("get instance via `ZipService.create()`")}read(e,t){return new Promise((i,m)=>{let s=f=>{this.ngZone.run(()=>i(f))};this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:n=>{JSZip.loadAsync(n,t).then(r=>s(r))},error:n=>{m(n)}});return}let f=new FileReader;f.onload=n=>{JSZip.loadAsync(n.target.result,t).then(r=>s(r))},f.readAsBinaryString(e)})})}create(){return new Promise(e=>{this.init().then(()=>{let t=new JSZip;e(t)}).catch(()=>e(null))})}pushUrl(e,t,i){return this.check(e),new Promise((m,s)=>{this.http.request("GET",i,{responseType:"arraybuffer"}).subscribe({next:f=>{e.file(t,f),m()},error:f=>{s({url:i,error:f})}})})}save(e,t){this.check(e);let i=ye({filename:"download.zip"},t);return new Promise((m,s)=>{e.generateAsync(ye({type:"blob"},i.options),i.update).then(f=>{i.callback&&i.callback(f),(0,hn.saveAs)(f,i.filename),m()},f=>{s(f)})})}static \u0275fac=function(t){return new(t||o)(ii(Ot))};static \u0275prov=vt({token:o,factory:o.\u0275fac,providedIn:"root"})}return Li([vo()],o.prototype,"read",null),o})();function sr(o,M){if(o&1&&(l(0,"li"),c(1),wt(2,"json"),p()),o&2){let e=M.$implicit;d(),At(Dt(2,1,e))}}function lr(o,M){if(o&1){let e=Ee();l(0,"nz-card",2)(1,"button",4),_("click",function(){w(e);let i=E();return D(i.url())}),c(2,"Via Url"),p(),l(3,"input",5),_("change",function(i){w(e);let m=E();return D(m.change(i))}),p(),l(4,"ol"),yt(5,sr,3,3,"li",null,St),p()()}if(o&2){let e=E();d(5),Et(e.list)}}function mr(o,M){if(o&1){let e=Ee();l(0,"tr")(1,"td")(2,"input",9),Me("ngModelChange",function(i){let m=w(e).$implicit;return ze(m.path,i)||(m.path=i),D(i)}),p()(),l(3,"td")(4,"input",9),Me("ngModelChange",function(i){let m=w(e).$implicit;return ze(m.url,i)||(m.url=i),D(i)}),p()()()}if(o&2){let e=M.$implicit,t=M.$index;d(2),Yt("name","path",t,""),he("ngModel",e.path),d(2),Yt("name","url",t,""),he("ngModel",e.url)}}function ur(o,M){if(o&1){let e=Ee();l(0,"nz-card",3)(1,"button",6),_("click",function(){w(e);let i=E();return D(i.data.push({}))}),c(2,"new"),p(),l(3,"button",7),_("click",function(){w(e);let i=E();return D(i.download())}),c(4,"download"),p(),l(5,"nz-table",8)(6,"thead")(7,"tr")(8,"th")(9,"span"),c(10,"path"),p()(),l(11,"th")(12,"span"),c(13,"url"),p()()()(),l(14,"tbody"),yt(15,mr,5,6,"tr",null,St),p()()()}if(o&2){let e=E();d(),h("nzType","primary"),d(4),h("nzData",e.data)("nzFrontPagination",!1)("nzShowPagination",!1),d(10),Et(e.data)}}var Mn=(()=>{class o{constructor(){this.zip=N(zn),this.msg=N(dt),this.cdr=N(Lt),this.instance=null,this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5C0F\u7A0B\u5E8F\u6807\u5FD7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(e=>{this.instance=e,this.cdr.detectChanges()})}format(e){let t=e.files;this.list=Object.keys(t).map(i=>({name:i,dir:t[i].dir,date:t[i].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(e=>this.format(e))}change(e){let t=e.target.files[0];this.zip.read(t).then(i=>this.format(i))}download(){let e=[];this.data.forEach(t=>{e.push(this.zip.pushUrl(this.instance,t.path,t.url))}),Promise.all(e).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},t=>{console.warn(t),this.msg.error(JSON.stringify(t))})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89E3\u538B"],["nzTitle","\u538B\u7F29"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],["nz-button","",3,"click","nzType"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModelChange","ngModel","name"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1"),c(2," Read & Write zip file, "),l(3,"a",1),c(4,"Document"),p()()(),Fe(5,lr,7,0,"nz-card",2)(6,ur,17,4,"nz-card",3)),t&2&&(d(5),pt(i.instance?5:-1),d(),pt(i.instance?6:-1))},dependencies:[P,ct,ft,ht,I,Tt,ie,K,se,ae,re,b,fe,B,ge,G,$,L,j,pe,U,T,k,le,R,q,Ro,Fo,xo,Po,Bo,Ao,A,oe,Y,zt,J,X,Z,V,ne,ue,te,O,Q,me,F,ee,Ne,H,de,W],encapsulation:2,changeDetection:0})}}return o})();var fl=[{path:"st",component:pn},{path:"util",component:cn},{path:"print",component:an},{path:"acl",component:qo},{path:"guard",component:on,children:[{path:"leave",component:nn,canDeactivate:[tn]},{path:"auth",component:en,canActivate:[Si],data:{guard:"user1"}},{path:"admin",component:Qo,canActivate:[Si],data:{guard:"admin"}}]},{path:"cache",component:Xo},{path:"qr",component:ln},{path:"downfile",component:Ko},{path:"xlsx",component:fn},{path:"zip",component:Mn},{path:"form",component:$o}];export{fl as routes};
