import{a as en}from"./chunk-NZ572OCT.js";import{c as an}from"./chunk-WIFJ53KW.js";import"./chunk-OTJV4W6O.js";import{d as ct}from"./chunk-SCPBSEQ6.js";import{B as ie,F as ne,G as tn,H as re,I as on,J as nn,K as ae,N as se,c as O,e as ko,g as W,i as Wo,j as Uo,k as qo,l as Zo,m as Xo,n as Yo,o as q,q as Z,t as X,u as $o,v as jt,w as K,y as Qo}from"./chunk-XF46UKX6.js";import{$ as H,Aa as Q,Ca as te,E as L,Fa as oe,G as V,Ha as rn,Ia as le,K as j,L as Ro,La as me,P as Io,R as G,S as Lo,U as Oo,Ua as pe,Wa as ue,X as Vo,Ya as de,Z as jo,_ as Go,b as ft,d as ht,e as Ft,fa as gi,g as xt,ga as Mi,ha as U,i as zt,ia as Ho,j as Bt,ja as F,k as Ao,ka as Jo,la as gt,na as Ni,qa as Y,ra as Ko,sa as J,t as R,ta as Mt,u as I,ua as Nt,va as $,wa as Gt,x as k,xa as Pt,ya as Ht,za as Wt}from"./chunk-TMJJXARR.js";import"./chunk-XML6PV75.js";import{$a as si,Ab as Jt,Ac as Co,Ba as lo,Bc as vo,Bh as Po,Cb as ho,D as eo,Db as zo,Eb as go,Ec as _o,Ga as c,H as Ai,Ib as Ct,Ja as ri,Jb as f,Kb as Rt,Kh as Ne,Lb as ye,Lc as li,Lh as ee,M as Ri,Mg as Bo,Nb as he,Ng as P,Oa as S,Ob as ze,Pa as Yt,Pb as ge,Pf as fi,Q as to,Qa as ai,Qf as b,Rf as bo,S as io,Ua as xe,Ub as ve,Vb as Kt,W as oo,Wf as B,X as Ii,Xc as yo,Yc as So,Za as h,Zb as Dt,_a as mo,_b as bt,_c as Eo,a as Ee,aa as yt,ac as Mo,ad as mi,ag as Me,ah as A,ba as Xt,bd as pi,ca as no,cg as fe,d as Nn,da as oi,dg as To,ea as N,eg as T,f as Ji,fc as Ot,g as Ki,gb as dt,gc as $t,hb as St,hc as Qt,hg as Fo,hh as hi,ia as ni,id as wo,j as Ut,ja as w,jb as Et,k as qt,ka as D,kb as wt,l as ii,lb as p,mb as d,md as ui,nb as ce,nd as Vt,ob as po,oc as No,od as di,pa as ro,pb as uo,ph as zi,q as $i,qa as At,ra as ao,rb as we,rd as ci,td as Do,u as Zt,ua as Lt,ub as v,ud as ki,vd as Li,wb as E,xa as so,xb as co,xc as Tt,y as Qi,yb as fo,zg as xo}from"./chunk-AKRUOAUY.js";var Hi=Nn((ji,Gi)=>{"use strict";(function(i,s){typeof define=="function"&&define.amd?define([],s):typeof ji<"u"?s():(s(),i.FileSaver={})})(ji,function(){"use strict";function i(z,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\uFEFF",z],{type:z.type}):z}function s(z,o,r){var a=new XMLHttpRequest;a.open("GET",z),a.responseType="blob",a.onload=function(){m(a.response,o,r)},a.onerror=function(){console.error("could not download file")},a.send()}function e(z){var o=new XMLHttpRequest;o.open("HEAD",z,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function t(z){try{z.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),z.dispatchEvent(o)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,l=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(z,o,r){var a=n.URL||n.webkitURL,u=document.createElement("a");o=o||z.name||"download",u.download=o,u.rel="noopener",typeof z=="string"?(u.href=z,u.origin===location.origin?t(u):e(u.href)?s(z,o,r):t(u,u.target="_blank")):(u.href=a.createObjectURL(z),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){t(u)},0))}:"msSaveOrOpenBlob"in navigator?function(z,o,r){if(o=o||z.name||"download",typeof z!="string")navigator.msSaveOrOpenBlob(i(z,r),o);else if(e(z))s(z,o,r);else{var a=document.createElement("a");a.href=z,a.target="_blank",setTimeout(function(){t(a)})}}:function(z,o,r,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof z=="string")return s(z,o,r);var u=z.type==="application/octet-stream",g=/constructor/i.test(n.HTMLElement)||n.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||u&&g||l)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var Fe=M.result;Fe=C?Fe:Fe.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=Fe:location=Fe,a=null},M.readAsDataURL(z)}else{var y=n.URL||n.webkitURL,_=y.createObjectURL(z);a?a.location=_:location.href=_,a=null,setTimeout(function(){y.revokeObjectURL(_)},4e4)}});n.saveAs=m.saveAs=m,typeof Gi<"u"&&(Gi.exports=m)})});var Ci=class i{constructor(){this.aclSrv=N(ci);this.menuSrv=N(hi);this.full=!0;this.roleA="";this.roleB=""}get data(){return this.aclSrv.data}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA=this.roleA==="role-a"?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB=this.roleB==="role-b"?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94AE\u7C92\u5EA6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91CF"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89D2\u8272[role-a]"],["nzTitle","\u89D2\u8272[role-b]"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," ACL \u8BBF\u95EE\u63A7\u5236 "),p(3,"small"),f(4,"\u6CE8\u610F\u89C2\u5BDF\u5DE6\u8FB9\u7684\u83DC\u5355\uFF1BACLService\u63D0\u4F9B\u4E00\u4E2A\u5B8C\u6574\u7684\u57FA\u4E8E\u89D2\u8272\u7684\u8BBF\u95EE\u63A7\u5236\u7684\u670D\u52A1\uFF0C\u82E5\u9700\u8981\u652F\u6301\u8DEF\u7531\u5B88\u536B\uFF0C\u8BF7\u914D\u5408ACLService\u4E0ERoute Guard\u914D\u5408\u7B80\u4FBF\u5B9E\u73B0\u3002"),d()()(),p(5,"div",1)(6,"div",2)(7,"nz-card",3),f(8),Dt(9,"json"),p(10,"button",4),f(11,"role-a"),d(),p(12,"button",5),f(13,"role-b"),d()()()(),p(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),v("click",function(){return t.toggleFull()}),p(18,"span"),f(19),d()(),p(20,"p",8),f(21,"\u5168\u91CF\u7C7B\u6307\u7CFB\u7EDF\u7BA1\u7406\u5458\u89D2\u8272\uFF0C\u65E0\u4EFB\u4F55\u53D7\u9650\u3002"),d()()(),p(22,"div",2)(23,"nz-card",9)(24,"button",7),v("click",function(){return t.toggleRoleA()}),p(25,"span"),f(26),d()()()(),p(27,"div",2)(28,"nz-card",10)(29,"button",7),v("click",function(){return t.toggleRoleB()}),p(30,"span"),f(31),d()()()()()),e&2&&(c(5),h("nzGutter",8),c(),h("nzSpan",24),c(2),ye(" ACL\u539F\u59CB\u6570\u636E\uFF1A",bt(9,12,t.data)," "),c(2),h("acl","role-a"),c(2),h("acl","role-b"),c(2),h("nzGutter",8),c(),h("nzSpan",8),c(4),ye("",t.full?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),c(3),h("nzSpan",8),c(4),ye("",t.roleA.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),c(),h("nzSpan",8),c(4),ye("",t.roleB.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"))},dependencies:[R,I,Tt,ie,K,se,ae,re,Do,T,fe,B,Me,H,$,Nt,Mt,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,Ne,G,de,W],encapsulation:2})}};var Cn=new no("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new Vi}),Vi=class{platform=N(Li);get(s){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(s)||"null")||null}set(s,e){return this.platform.isBrowser&&localStorage.setItem(s,JSON.stringify(e)),!0}remove(s){this.platform.isBrowser&&localStorage.removeItem(s)}},sn=(()=>{class i{store=N(Cn);http=N(li);platform=N(Li);memory=new Map;notifyBuffer=new Map;meta=new Set;freqTick=3e3;freqTime;cog=N(Vt).merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"});constructor(){this.platform.isBrowser&&(this.loadMeta(),this.startExpireNotify())}pushMeta(e){this.meta.has(e)||(this.meta.add(e),this.saveMeta())}removeMeta(e){this.meta.has(e)&&(this.meta.delete(e),this.saveMeta())}loadMeta(){let e=this.store.get(this.cog.meta_key);e&&e.v&&e.v.forEach(t=>this.meta.add(t))}saveMeta(){let e=[];this.meta.forEach(t=>e.push(t)),this.store.set(this.cog.meta_key,{v:e,e:0})}getMeta(){return this.meta}set(e,t,n={}){if(!this.platform.isBrowser)return;let l=0,{type:m,expire:z}=this.cog;n=Ee({type:m,expire:z},n),n.expire&&(l=Fo(new Date,n.expire).valueOf());let o=n.emitNotify!==!1;if(!(t instanceof Ut)){this.save(n.type,e,{v:t,e:l},o);return}return t.pipe(Ii(r=>{this.save(n.type,e,{v:r,e:l},o)}))}save(e,t,n,l=!0){e==="m"?this.memory.set(t,n):(this.store.set(this.cog.prefix+t,n),this.pushMeta(t)),l&&this.runNotify(t,"set")}get(e,t={}){if(!this.platform.isBrowser)return null;let n=t.mode!=="none"&&this.cog.mode==="promise",l=this.memory.has(e)?this.memory.get(e):this.store.get(this.cog.prefix+e);return!l||l.e&&l.e>0&&l.e<new Date().valueOf()?n?(this.cog.request?this.cog.request(e):this.http.get(e)).pipe(Qi(m=>wo(m,this.cog.reName,m)),Ii(m=>this.set(e,m,{type:t.type,expire:t.expire,emitNotify:t.emitNotify}))):null:n?Zt(l.v):l.v}getNone(e){return this.get(e,{mode:"none"})}tryGet(e,t,n={}){if(!this.platform.isBrowser)return null;let l=this.getNone(e);return l===null?t instanceof Ut?this.set(e,t,n):(this.set(e,t,n),t):Zt(l)}has(e){return this.memory.has(e)||this.meta.has(e)}_remove(e,t){if(t&&this.runNotify(e,"remove"),this.memory.has(e)){this.memory.delete(e);return}this.store.remove(this.cog.prefix+e),this.removeMeta(e)}remove(e){this.platform.isBrowser&&this._remove(e,!0)}clear(){this.platform.isBrowser&&(this.notifyBuffer.forEach((e,t)=>this.runNotify(t,"remove")),this.memory.clear(),this.meta.forEach(e=>this.store.remove(this.cog.prefix+e)))}set freq(e){this.freqTick=Math.max(20,e),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){let e=[];this.notifyBuffer.forEach((t,n)=>{this.has(n)&&this.getNone(n)===null&&e.push(n)}),e.forEach(t=>{this.runNotify(t,"expire"),this._remove(t,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(e,t){this.notifyBuffer.has(e)&&this.notifyBuffer.get(e).next({type:t,value:this.getNone(e)})}notify(e){if(!this.notifyBuffer.has(e)){let t=new ii(this.getNone(e));this.notifyBuffer.set(e,t)}return this.notifyBuffer.get(e).asObservable()}cancelNotify(e){this.notifyBuffer.has(e)&&(this.notifyBuffer.get(e).unsubscribe(),this.notifyBuffer.delete(e))}hasNotify(e){return this.notifyBuffer.has(e)}clearNotify(){this.notifyBuffer.forEach(e=>e.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),wr=new _o(()=>({}));var vi=class i{constructor(){this.cache=N(sn);this.msg=N(ct);this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," Cache \u7F13\u5B58, "),p(3,"a",1),f(4,"Document"),d()()(),p(5,"nz-card",2)(6,"button",3),v("click",function(){return t.set()}),f(7,"\u8BBE\u7F6E"),d(),p(8,"button",4),v("click",function(){return t.get()}),f(9,"\u83B7\u53D6"),d()())},dependencies:[R,I,ie,K,se,ae,re,T,fe,B,Me,H,$,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,Ne,G,de,W],encapsulation:2})}};var ln=Ji(Hi(),1);var mn=(()=>{class i{el=N(Lt).nativeElement;_http=N(zi);httpData;httpBody;httpMethod="get";httpUrl;fileName;pre;success=new At;error=new At;getDisposition(e){return(e||"").split(";").filter(n=>n.includes("=")).map(n=>{let l=n.split("="),m="UTF-8''",z=l[1];return z.startsWith(m)&&(z=z.substring(m.length)),{[l[0].trim()]:z}}).reduce((n,l)=>l,{})}isFileSaverSupported=!1;constructor(){try{this.isFileSaverSupported=!!new Blob}catch{}this.isFileSaverSupported||this.el.classList.add("down-file__not-support")}setDisabled(e){let t=this.el;t.disabled=e,t.classList[e?"add":"remove"]("down-file__disabled")}_click(e){return Ki(this,null,function*(){if(!this.isFileSaverSupported||typeof this.pre=="function"&&!(yield this.pre(e))){e.stopPropagation(),e.preventDefault();return}this.setDisabled(!0),this._http.request(this.httpMethod,this.httpUrl,{params:this.httpData||{},responseType:"blob",observe:"response",body:this.httpBody}).pipe(to(()=>this.setDisabled(!1))).subscribe({next:t=>{if(t.status!==200||t.body.size<=0){this.error.emit(t);return}let n=this.getDisposition(t.headers.get("content-disposition")),l=this.fileName;typeof l=="function"&&(l=l(t)),l=l||n["filename*"]||n.filename||t.headers.get("filename")||t.headers.get("x-filename"),(0,ln.saveAs)(t.body,decodeURI(l)),this.success.emit(t)},error:t=>this.error.emit(t)})})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ai({type:i,selectors:[["","down-file",""]],hostBindings:function(t,n){t&1&&v("click",function(m){return n._click(m)})},inputs:{httpData:[0,"http-data","httpData"],httpBody:[0,"http-body","httpBody"],httpMethod:[0,"http-method","httpMethod"],httpUrl:[0,"http-url","httpUrl"],fileName:[0,"file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"]})}return i})();function vn(i,s){if(i&1&&(p(0,"button",2),f(1),d()),i&2){let e=s.$implicit,t=E();Jt("http-url","assets/tmp/demo",e,""),h("http-data",t.data),c(),ye(" ",e," ")}}var _i=class i{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"];this.data={otherdata:1,time:new Date}}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-down-file"]],decls:6,vars:0,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","down-file","","file-name","demo\u4E2D\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2,"Download a file"),d()(),p(3,"nz-card",1),Et(4,vn,2,4,"button",2,St),d()),e&2&&(c(4),wt(t.fileTypes))},dependencies:[R,I,ie,K,se,ae,re,T,fe,B,Me,H,$,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,Ne,G,de,W,mn],encapsulation:2})}};var _n=i=>({params:i}),yi=class i{constructor(){this.params={};this.url="/user";this.searchSchema={properties:{no:{type:"string",title:"\u7F16\u53F7"}}};this.columns=[{title:"\u7F16\u53F7",index:"no"},{title:"\u8C03\u7528\u6B21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50CF",type:"img",width:"50px",index:"avatar"},{title:"\u65F6\u95F4",type:"date",index:"updatedAt"}]}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[["st",""],[3,"title"],["mode","search",3,"formSubmit","formReset","schema","formData"],[3,"data","columns","req"]],template:function(e,t){if(e&1){let n=we();ce(0,"page-header",1),p(1,"nz-card")(2,"sf",2),v("formSubmit",function(m){w(n);let z=Ct(4);return D(z.reset(m))})("formReset",function(){w(n);let m=Ct(4);return D(m.reset(t.params))}),d(),ce(3,"st",3,0),d()}e&2&&(h("title","Page Name"),c(2),h("schema",t.searchSchema)("formData",t.params),c(),h("data",t.url)("columns",t.columns)("req",Kt(6,_n,t.params)))},dependencies:[R,I,ie,Qo,K,jt,se,ae,re,tn,T,H,$,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,Ne,G,de,W],encapsulation:2})}};var Si=class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(e,t){e&1&&(p(0,"p"),f(1,"\u8FD9\u662F\u4E00\u4E2Aadmin\u9875\u9762"),d())},encapsulation:2})}};var Ei=class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(e,t){e&1&&(p(0,"p"),f(1,"\u8FD9\u662F\u4E00\u4E2Auser1\u9875\u9762"),d())},encapsulation:2})}};var pn=()=>{let i=N(Bo);return new Ut(s=>{i.confirm({nzTitle:"\u786E\u8BA4\u8981\u79BB\u5F00\u5417\uFF1F",nzContent:"\u4F60\u5DF2\u7ECF\u586B\u5199\u4E86\u90E8\u5206\u8868\u5355\u79BB\u5F00\u4F1A\u653E\u5F03\u5DF2\u7ECF\u586B\u5199\u7684\u5185\u5BB9\u3002",nzOkText:"\u79BB\u5F00",nzCancelText:"\u53D6\u6D88",nzOnOk:()=>{s.next(!0),s.complete()},nzOnCancel:()=>{s.next(!1),s.complete()}})})};var Sn=()=>["/delon/guard/leave"],En=()=>["/delon/guard/auth"],wn=()=>["/delon/guard/admin"],wi=class i{constructor(){this.aclSrv=N(ci);this.menuSrv=N(hi);this.router=N(mi)}get data(){return this.aclSrv.data}setRole(s){this.aclSrv.setFull(!1),typeof s=="boolean"?this.aclSrv.setFull(s):this.aclSrv.set({role:[s]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," \u8DEF\u7531\u5B88\u536B "),d()(),p(3,"nz-button-group")(4,"button",1)(5,"span"),f(6,"\u79BB\u5F00\u786E\u8BA4\u9875"),d()()(),p(7,"nz-button-group",2)(8,"button",3),v("click",function(){return t.setRole(!0)}),p(9,"span"),f(10,"\u8BBE\u7F6E\u7BA1\u7406\u5458"),d()(),p(11,"button",3),v("click",function(){return t.setRole("user1")}),p(12,"span"),f(13,"\u8BBE\u7F6E\u5458\u5DE51"),d()(),p(14,"button",3),v("click",function(){return t.setRole("user2")}),p(15,"span"),f(16,"\u8BBE\u7F6E\u5458\u5DE52"),d()()(),p(17,"nz-button-group",2)(18,"button",1)(19,"span"),f(20,"\u9700\u8981user1"),d()(),p(21,"button",1)(22,"span"),f(23,"\u9700\u8981\u7BA1\u7406\u5458"),d()()(),p(24,"p",4),f(25),Dt(26,"json"),d(),ce(27,"router-outlet")),e&2&&(c(4),h("routerLink",ve(6,Sn)),c(14),h("routerLink",ve(7,En)),c(3),h("routerLink",ve(8,wn)),c(4),ye("\u5F53\u524DACL\u4FE1\u606F\uFF1A",bt(26,4,t.data),""))},dependencies:[R,I,pi,Eo,Tt,ie,K,se,ae,re,T,fe,To,B,Me,H,$,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,G,de,W],encapsulation:2})}};var Dn=()=>["/delon/guard"],Di=class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(e,t){e&1&&(p(0,"p"),f(1,"\u79BB\u5F00\u65F6\u9700\u8981\u786E\u8BA4"),d(),p(2,"button",0)(3,"span"),f(4,"\u6211\u8981\u79BB\u5F00"),d()()),e&2&&(c(2),h("nzType","primary")("routerLink",ve(2,Dn)))},dependencies:[R,I,pi,ie,K,se,ae,re,T,fe,B,Me,H,$,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,G,de,W],encapsulation:2})}};var un=(()=>{class i{scriptSrv=N(ui);defaultConfig;_cog;pending=!1;_lodop=null;_init=new qt;_events=new qt;printBuffer=[];constructor(e){this.defaultConfig=e.merge("lodop",{url:"http://localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(e){this._cog=Ee(Ee({},this.defaultConfig),e)}get events(){return this._events.asObservable()}get lodop(){return this._lodop?Zt({ok:!0,lodop:this._lodop}):this.pending?this._init.asObservable():(this.request(),this._init.asObservable())}get printer(){this.check();let e=[],t=this._lodop.GET_PRINTER_COUNT();for(let n=0;n<t;n++)e.push(this._lodop.GET_PRINTER_NAME(n));return e}check(){if(!this._lodop)throw new Error("\u8BF7\u52A1\u5FC5\u5148\u8C03\u7528 lodop \u83B7\u53D6\u5BF9\u8C61")}request(){this.pending=!0;let e=new URL(this.cog.url);e.searchParams.set("name",this.cog.name);let t=e.toString(),n=this.cog.checkMaxCount,l=(z,o)=>{this._init.next({ok:z==="ok",status:z,error:o,lodop:this._lodop})},m=()=>{if(--n,this._lodop.webskt&&this._lodop.webskt.readyState===1)l("ok");else{if(n<0){l("check-limit");return}setTimeout(()=>m(),100)}};this.scriptSrv.loadScript(t).then(z=>{if(z.status!=="ok"){this.pending=!1,l("script-load-error",z[0]);return}let o=window;if(Object.prototype.hasOwnProperty.call(o,this.cog.name)&&(this._lodop=o[this.cog.name]),this._lodop===null){l("load-variable-name-error",{name:this.cog.name});return}this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),m()})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(e,t,n){this.check(),n||(n=/LODOP\.([^(]+)\(([^\n]+)?\);/i),e.split(`
`).forEach(l=>{let m=n.exec(l.trim());if(!m)return;let z=this._lodop[m[1]];if(z){let o=null;try{o=new Function(`return [${m[2]}]`)()}catch{}if(o!=null&&Array.isArray(o)&&t)for(let r=0;r<o.length;r++)typeof o[r]=="string"&&(o[r]=o[r].replace(/{{(.*?)}}/g,(a,u)=>t[u.trim()]||""));z.apply(this._lodop,o)}})}design(){this.check();let e=this._lodop.PRINT_DESIGN();return new Promise(t=>{this._lodop.On_Return=(n,l)=>{e===n&&(this._lodop.On_Return=null,t(`${l}`))}})}printDo(){let e=this.printBuffer.shift();if(!e)return;this.attachCode(e.code,e.item,e.parser);let t=this._lodop.PRINT();this._lodop.On_Return=(n,l)=>{t===n&&(this._lodop.On_Return=null,this._events.next(Ee({ok:l===!0,error:l===!0?null:l},e)),this.printDo())}}print(e,t,n){this.check(),t&&this.printBuffer.push(...(Array.isArray(t)?t:[t]).map(l=>({code:e,parser:n,item:l}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}static \u0275fac=function(t){return new(t||i)(oi(Vt))};static \u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Tn(i,s){i&1&&(f(0," \u8BF7\u5148\u4E0B\u8F7D "),p(1,"a",5),f(2,"Lodop\u63D2\u4EF6"),d(),f(3,"\u3002 "))}function Fn(i,s){if(i&1&&(p(0,"nz-alert",3),xe(1,Tn,4,0,"ng-template",null,0,Mo),d()),i&2){let e=Ct(2);h("nzType","warning")("nzMessage",e)}}function xn(i,s){if(i&1&&ce(0,"nz-option",12),i&2){let e=s.$implicit;h("nzLabel",e)("nzValue",e)}}function Bn(i,s){if(i&1&&ce(0,"nz-option",12),i&2){let e=s.$implicit;h("nzLabel",e)("nzValue",e)}}function Pn(i,s){if(i&1){let e=we();p(0,"form",4)(1,"nz-form-item",6)(2,"nz-form-label",7),f(3,"\u6253\u5370\u670D\u52A1\u5668"),d(),p(4,"nz-form-control",7)(5,"nz-input-group")(6,"div",8)(7,"input",9),ge("ngModelChange",function(n){w(e);let l=E();return ze(l.cog.url,n)||(l.cog.url=n),D(n)}),d()(),p(8,"div",8)(9,"button",10),v("click",function(){w(e);let n=E();return D(n.reload(null))}),f(10,"\u91CD\u65B0\u52A0\u8F7D\u6253\u5370\u673A"),d()()()()(),p(11,"nz-form-item",6)(12,"nz-form-label",7),f(13,"\u6253\u5370\u673A"),d(),p(14,"nz-form-control",7)(15,"nz-select",11),ge("ngModelChange",function(n){w(e);let l=E();return ze(l.cog.printer,n)||(l.cog.printer=n),D(n)}),v("ngModelChange",function(n){w(e);let l=E();return D(l.changePinter(n))}),Et(16,xn,1,2,"nz-option",12,St),d()()(),p(18,"nz-form-item",6)(19,"nz-form-label",7),f(20,"\u7EB8\u5F20\u7C7B\u578B"),d(),p(21,"nz-form-control",7)(22,"nz-select",13),ge("ngModelChange",function(n){w(e);let l=E();return ze(l.cog.paper,n)||(l.cog.paper=n),D(n)}),Et(23,Bn,1,2,"nz-option",12,St),d()()(),p(25,"nz-form-item",6)(26,"nz-form-label",7),f(27,"\u6253\u5370\u5185\u5BB9"),d(),p(28,"nz-form-control",7)(29,"textarea",14),ge("ngModelChange",function(n){w(e);let l=E();return ze(l.cog.html,n)||(l.cog.html=n),D(n)}),d(),p(30,"div",15),f(31,"\u4EC5\u9650HTML\uFF0C\u66F4\u591A\u7C7B\u578B\u652F\u6301\u8BF7\u53C2\u8003\u5B98\u7F51"),d()()(),p(32,"nz-form-item",6)(33,"nz-form-control",16)(34,"button",17),v("click",function(){w(e);let n=E();return D(n.print(!0))}),f(35,"\u6253\u5370\u9884\u89C8"),d(),p(36,"button",17),v("click",function(){w(e);let n=E();return D(n.print())}),f(37,"\u76F4\u63A5\u6253\u5370"),d()()()()}if(i&2){let e=E();c(2),h("nzSm",6),c(2),h("nzSm",18),c(2),h("nzSpan",16),c(),he("ngModel",e.cog.url),c(),h("nzSpan",8),c(4),h("nzSm",6),c(2),h("nzSm",18),c(),he("ngModel",e.cog.printer),c(),wt(e.pinters),c(3),h("nzSm",6),c(2),h("nzSm",18),c(),he("ngModel",e.cog.paper),c(),wt(e.papers),c(3),h("nzSm",6),c(2),h("nzSm",18),c(),he("ngModel",e.cog.html),c(4),h("nzSm",18)("nzOffset",6),c(),h("nzLoading",e.printing),c(2),h("nzLoading",e.printing)}}var bi=class i{constructor(){this.lodopSrv=N(un);this.msg=N(ct);this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:`
      <h1>Title</h1>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
    `};this.error=!1;this.lodop=null;this.pinters=[];this.papers=[];this.printing=!1;this.lodopSrv.lodop.subscribe(({lodop:s,ok:e})=>{if(!e){this.error=!0;return}this.error=!1,this.msg.success("\u6253\u5370\u673A\u52A0\u8F7D\u6210\u529F"),this.lodop=s,this.pinters=this.lodopSrv.printer})}reload(s={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=Ee(Ee({},this.cog),s),this.error=!1,s===null&&this.lodopSrv.reset()}changePinter(s){this.lodop!=null&&(this.papers=this.lodop.GET_PAGESIZES_LIST(s,`
`).split(`
`))}print(s=!1){let e=this.lodop;e.PRINT_INITA(10,20,810,610,"\u6D4B\u8BD5C-Lodop\u8FDC\u7A0B\u6253\u5370\u56DB\u6B65\u9AA4"),e.SET_PRINTER_INDEXA(this.cog.printer),e.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),e.ADD_PRINT_TEXT(1,1,300,200,"\u4E0B\u9762\u8F93\u51FA\u7684\u662F\u672C\u9875\u6E90\u4EE3\u7801\u53CA\u5176\u5C55\u73B0\u6548\u679C\uFF1A"),e.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),e.SET_PRINT_STYLEA(0,"ItemType",4),e.NEWPAGEA(),e.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),s?e.PREVIEW():e.PRINT()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-print"]],decls:10,vars:2,consts:[["message",""],[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage"],["nz-form",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModelChange","ngModel"],["nz-button","",3,"click"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u6253\u5370\u673A","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u7EB8\u5F20\u7C7B\u578B","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModelChange","ngModel"],["nz-input","","name","html","nzAutosize","",3,"ngModelChange","ngModel"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"click","nzLoading"]],template:function(e,t){e&1&&(p(0,"div",1)(1,"h1"),f(2," Lodop\u6253\u5370 "),p(3,"small"),f(4," \u66F4\u591A\u4F53\u9A8C\u8BF7\u81F3 "),p(5,"a",2),f(6,"NG-ALAIN.com"),d()()()(),p(7,"nz-card"),xe(8,Fn,3,2,"nz-alert",3)(9,Pn,38,18,"form",4),d()),e&2&&(c(8),dt(t.error?8:-1),c(),dt(t.error?-1:9))},dependencies:[R,Bt,ft,ht,Ft,zt,xt,I,ie,K,se,ae,re,T,fe,B,Me,H,$,Nt,Mt,L,j,ue,U,gi,Mi,b,k,le,rn,P,q,A,oe,Y,gt,Ni,Jo,J,X,Z,V,ne,pe,te,O,Q,Pt,Gt,Wt,Ht,me,F,ee,Ne,G,de,W],encapsulation:2})}};var An=["canvas"];function Rn(i,s){if(i&1&&(po(0),f(1),uo()),i&2){let e=E(2);c(),Rt(e.nzStatusRender)}}function In(i,s){if(i&1&&(p(0,"div",1),xe(1,Rn,2,1,"ng-container",2),d()),i&2){let e=E();c(),h("nzStringTemplateOutlet",e.nzStatusRender)}}function kn(i,s){i&1&&ce(0,"nz-spin")}function Ln(i,s){if(i&1){let e=we();p(0,"div")(1,"p",3),f(2),d(),p(3,"button",4),v("click",function(){w(e);let n=E(2);return D(n.reloadQRCode())}),ce(4,"nz-icon",5),p(5,"span"),f(6),d()()()}if(i&2){let e=E(2);c(2),Rt(e.locale.expired),c(4),Rt(e.locale.refresh)}}function On(i,s){if(i&1&&(p(0,"div")(1,"p",3),f(2),d()()),i&2){let e=E(2);c(2),Rt(e.locale.scanned)}}function Vn(i,s){if(i&1&&(p(0,"div",1),xe(1,kn,1,0,"nz-spin")(2,Ln,7,2,"div")(3,On,3,1,"div"),d()),i&2){let e,t=E();c(),dt((e=t.nzStatus)==="loading"?1:e==="expired"?2:e==="scanned"?3:-1)}}function jn(i,s){i&1&&ce(0,"canvas",null,0)}var It;(function(i){let s=(()=>{class m{version;errorCorrectionLevel;static encodeText(o,r){let a=i.QrSegment.makeSegments(o);return m.encodeSegments(a,r)}static encodeBinary(o,r){let a=i.QrSegment.makeBytes(o);return m.encodeSegments([a],r)}static encodeSegments(o,r,a=1,u=40,g=-1,C=!0){if(!(m.MIN_VERSION<=a&&a<=u&&u<=m.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let M,y;for(M=a;;M++){let x=m.getNumDataCodewords(M,r)*8,_e=l.getTotalBits(o,M);if(_e<=x){y=_e;break}if(M>=u)throw new RangeError("Data too long")}for(let x of[m.Ecc.MEDIUM,m.Ecc.QUARTILE,m.Ecc.HIGH])C&&y<=m.getNumDataCodewords(M,x)*8&&(r=x);let _=[];for(let x of o){e(x.mode.modeBits,4,_),e(x.numChars,x.mode.numCharCountBits(M),_);for(let _e of x.getData())_.push(_e)}n(_.length==y);let Fe=m.getNumDataCodewords(M,r)*8;n(_.length<=Fe),e(0,Math.min(4,Fe-_.length),_),e(0,(8-_.length%8)%8,_),n(_.length%8==0);for(let x=236;_.length<Fe;x^=253)e(x,8,_);let _t=[];for(;_t.length*8<_.length;)_t.push(0);return _.forEach((x,_e)=>_t[_e>>>3]|=x<<7-(_e&7)),new m(M,r,_t,g)}size;mask;modules=[];isFunction=[];constructor(o,r,a,u){if(this.version=o,this.errorCorrectionLevel=r,o<m.MIN_VERSION||o>m.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let g=[];for(let M=0;M<this.size;M++)g.push(!1);for(let M=0;M<this.size;M++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();let C=this.addEccAndInterleave(a);if(this.drawCodewords(C),u==-1){let M=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);let _=this.getPenaltyScore();_<M&&(u=y,M=_),this.applyMask(y)}}n(u>=0&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}getModule(o,r){return o>=0&&o<this.size&&r>=0&&r<this.size&&this.modules[r][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let o=this.getAlignmentPatternPositions(),r=o.length;for(let a=0;a<r;a++)for(let u=0;u<r;u++)a==0&&u==0||a==0&&u==r-1||a==r-1&&u==0||this.drawAlignmentPattern(o[a],o[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){let r=this.errorCorrectionLevel.formatBits<<3|o,a=r;for(let g=0;g<10;g++)a=a<<1^(a>>>9)*1335;let u=(r<<10|a)^21522;n(u>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,t(u,g));this.setFunctionModule(8,7,t(u,6)),this.setFunctionModule(8,8,t(u,7)),this.setFunctionModule(7,8,t(u,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,t(u,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,t(u,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,t(u,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let a=0;a<12;a++)o=o<<1^(o>>>11)*7973;let r=this.version<<12|o;n(r>>>18==0);for(let a=0;a<18;a++){let u=t(r,a),g=this.size-11+a%3,C=Math.floor(a/3);this.setFunctionModule(g,C,u),this.setFunctionModule(C,g,u)}}drawFinderPattern(o,r){for(let a=-4;a<=4;a++)for(let u=-4;u<=4;u++){let g=Math.max(Math.abs(u),Math.abs(a)),C=o+u,M=r+a;C>=0&&C<this.size&&M>=0&&M<this.size&&this.setFunctionModule(C,M,g!=2&&g!=4)}}drawAlignmentPattern(o,r){for(let a=-2;a<=2;a++)for(let u=-2;u<=2;u++)this.setFunctionModule(o+u,r+a,Math.max(Math.abs(u),Math.abs(a))!=1)}setFunctionModule(o,r,a){this.modules[r][o]=a,this.isFunction[r][o]=!0}addEccAndInterleave(o){let r=this.version,a=this.errorCorrectionLevel;if(o.length!=m.getNumDataCodewords(r,a))throw new RangeError("Invalid argument");let u=m.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][r],g=m.ECC_CODEWORDS_PER_BLOCK[a.ordinal][r],C=Math.floor(m.getNumRawDataModules(r)/8),M=u-C%u,y=Math.floor(C/u),_=[],Fe=m.reedSolomonComputeDivisor(g);for(let x=0,_e=0;x<u;x++){let kt=o.slice(_e,_e+y-g+(x<M?0:1));_e+=kt.length;let Mn=m.reedSolomonComputeRemainder(kt,Fe);x<M&&kt.push(0),_.push(kt.concat(Mn))}let _t=[];for(let x=0;x<_[0].length;x++)_.forEach((_e,kt)=>{(x!=y-g||kt>=M)&&_t.push(_e[x])});return n(_t.length==C),_t}drawCodewords(o){if(o.length!=Math.floor(m.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(let u=0;u<this.size;u++)for(let g=0;g<2;g++){let C=a-g,y=(a+1&2)==0?this.size-1-u:u;!this.isFunction[y][C]&&r<o.length*8&&(this.modules[y][C]=t(o[r>>>3],7-(r&7)),r++)}}n(r==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let a=0;a<this.size;a++){let u;switch(o){case 0:u=(a+r)%2==0;break;case 1:u=r%2==0;break;case 2:u=a%3==0;break;case 3:u=(a+r)%3==0;break;case 4:u=(Math.floor(a/3)+Math.floor(r/2))%2==0;break;case 5:u=a*r%2+a*r%3==0;break;case 6:u=(a*r%2+a*r%3)%2==0;break;case 7:u=((a+r)%2+a*r%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[r][a]&&u&&(this.modules[r][a]=!this.modules[r][a])}}getPenaltyScore(){let o=0;for(let g=0;g<this.size;g++){let C=!1,M=0,y=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[g][_]==C?(M++,M==5?o+=m.PENALTY_N1:M>5&&o++):(this.finderPenaltyAddHistory(M,y),C||(o+=this.finderPenaltyCountPatterns(y)*m.PENALTY_N3),C=this.modules[g][_],M=1);o+=this.finderPenaltyTerminateAndCount(C,M,y)*m.PENALTY_N3}for(let g=0;g<this.size;g++){let C=!1,M=0,y=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][g]==C?(M++,M==5?o+=m.PENALTY_N1:M>5&&o++):(this.finderPenaltyAddHistory(M,y),C||(o+=this.finderPenaltyCountPatterns(y)*m.PENALTY_N3),C=this.modules[_][g],M=1);o+=this.finderPenaltyTerminateAndCount(C,M,y)*m.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let C=0;C<this.size-1;C++){let M=this.modules[g][C];M==this.modules[g][C+1]&&M==this.modules[g+1][C]&&M==this.modules[g+1][C+1]&&(o+=m.PENALTY_N2)}let r=0;for(let g of this.modules)r=g.reduce((C,M)=>C+(M?1:0),r);let a=this.size*this.size,u=Math.ceil(Math.abs(r*20-a*10)/a)-1;return n(u>=0&&u<=9),o+=u*m.PENALTY_N4,n(o>=0&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{let o=Math.floor(this.version/7)+2,r=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2,a=[6];for(let u=this.size-7;a.length<o;u-=r)a.splice(1,0,u);return a}}static getNumRawDataModules(o){if(o<m.MIN_VERSION||o>m.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*o+128)*o+64;if(o>=2){let a=Math.floor(o/7)+2;r-=(25*a-10)*a-55,o>=7&&(r-=36)}return n(r>=208&&r<=29648),r}static getNumDataCodewords(o,r){return Math.floor(m.getNumRawDataModules(o)/8)-m.ECC_CODEWORDS_PER_BLOCK[r.ordinal][o]*m.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let r=[];for(let u=0;u<o-1;u++)r.push(0);r.push(1);let a=1;for(let u=0;u<o;u++){for(let g=0;g<r.length;g++)r[g]=m.reedSolomonMultiply(r[g],a),g+1<r.length&&(r[g]^=r[g+1]);a=m.reedSolomonMultiply(a,2)}return r}static reedSolomonComputeRemainder(o,r){let a=r.map(u=>0);for(let u of o){let g=u^a.shift();a.push(0),r.forEach((C,M)=>a[M]^=m.reedSolomonMultiply(C,g))}return a}static reedSolomonMultiply(o,r){if(o>>>8||r>>>8)throw new RangeError("Byte out of range");let a=0;for(let u=7;u>=0;u--)a=a<<1^(a>>>7)*285,a^=(r>>>u&1)*o;return n(a>>>8==0),a}finderPenaltyCountPatterns(o){let r=o[1];n(r<=this.size*3);let a=r>0&&o[2]==r&&o[3]==r*3&&o[4]==r&&o[5]==r;return(a&&o[0]>=r*4&&o[6]>=r?1:0)+(a&&o[6]>=r*4&&o[0]>=r?1:0)}finderPenaltyTerminateAndCount(o,r,a){return o&&(this.finderPenaltyAddHistory(r,a),r=0),r+=this.size,this.finderPenaltyAddHistory(r,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(o,r){r[0]==0&&(o+=this.size),r.pop(),r.unshift(o)}static MIN_VERSION=1;static MAX_VERSION=40;static PENALTY_N1=3;static PENALTY_N2=3;static PENALTY_N3=40;static PENALTY_N4=10;static ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];static NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}return m})();i.QrCode=s;function e(m,z,o){if(z<0||z>31||m>>>z)throw new RangeError("Value out of range");for(let r=z-1;r>=0;r--)o.push(m>>>r&1)}function t(m,z){return(m>>>z&1)!=0}function n(m){if(!m)throw new Error("Assertion error")}let l=(()=>{class m{mode;numChars;bitData;static makeBytes(o){let r=[];for(let a of o)e(a,8,r);return new m(m.Mode.BYTE,o.length,r)}static makeNumeric(o){if(!m.isNumeric(o))throw new RangeError("String contains non-numeric characters");let r=[];for(let a=0;a<o.length;){let u=Math.min(o.length-a,3);e(parseInt(o.substring(a,a+u),10),u*3+1,r),a+=u}return new m(m.Mode.NUMERIC,o.length,r)}static makeAlphanumeric(o){if(!m.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r=[],a;for(a=0;a+2<=o.length;a+=2){let u=m.ALPHANUMERIC_CHARSET.indexOf(o.charAt(a))*45;u+=m.ALPHANUMERIC_CHARSET.indexOf(o.charAt(a+1)),e(u,11,r)}return a<o.length&&e(m.ALPHANUMERIC_CHARSET.indexOf(o.charAt(a)),6,r),new m(m.Mode.ALPHANUMERIC,o.length,r)}static makeSegments(o){return o==""?[]:m.isNumeric(o)?[m.makeNumeric(o)]:m.isAlphanumeric(o)?[m.makeAlphanumeric(o)]:[m.makeBytes(m.toUtf8ByteArray(o))]}static makeEci(o){let r=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)e(o,8,r);else if(o<16384)e(2,2,r),e(o,14,r);else if(o<1e6)e(6,3,r),e(o,21,r);else throw new RangeError("ECI assignment value out of range");return new m(m.Mode.ECI,0,r)}static isNumeric(o){return m.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return m.ALPHANUMERIC_REGEX.test(o)}constructor(o,r,a){if(this.mode=o,this.numChars=r,this.bitData=a,r<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}getData(){return this.bitData.slice()}static getTotalBits(o,r){let a=0;for(let u of o){let g=u.mode.numCharCountBits(r);if(u.numChars>=1<<g)return 1/0;a+=4+g+u.bitData.length}return a}static toUtf8ByteArray(o){o=encodeURI(o);let r=[];for(let a=0;a<o.length;a++)o.charAt(a)!="%"?r.push(o.charCodeAt(a)):(r.push(parseInt(o.substring(a+1,a+3),16)),a+=2);return r}static NUMERIC_REGEX=/^[0-9]*$/;static ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/;static ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}return m})();i.QrSegment=l})(It||(It={}));(function(i){var s;(function(e){class t{ordinal;formatBits;static LOW=new t(0,1);static MEDIUM=new t(1,0);static QUARTILE=new t(2,3);static HIGH=new t(3,2);constructor(l,m){this.ordinal=l,this.formatBits=m}}e.Ecc=t})(s=i.QrCode||(i.QrCode={}))})(It||(It={}));(function(i){var s;(function(e){class t{modeBits;numBitsCharCount;static NUMERIC=new t(1,[10,12,14]);static ALPHANUMERIC=new t(2,[9,11,13]);static BYTE=new t(4,[8,16,16]);static KANJI=new t(8,[8,10,12]);static ECI=new t(7,[0,0,0]);constructor(l,m){this.modeBits=l,this.numBitsCharCount=m}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}}e.Mode=t})(s=i.QrSegment||(i.QrSegment={}))})(It||(It={}));var ei=It,Gn={L:ei.QrCode.Ecc.LOW,M:ei.QrCode.Ecc.MEDIUM,Q:ei.QrCode.Ecc.QUARTILE,H:ei.QrCode.Ecc.HIGH},Hn=160,Wn=10,Un=10,qn="#000000",Zn="#FFFFFF",Xn=40,Yn="M",Jn=(i,s=Yn)=>i?ei.QrCode.encodeText(i,Gn[s]):null;function Kn(i,s,e=Hn,t=Wn,n=Un,l=qn,m=Zn,z=Xn,o){let r=i.getContext("2d"),a=$n(n);if(i.style.width=`${e}px`,i.style.height=`${e}px`,!s){r.fillStyle="rgba(0, 0, 0, 0)",r.fillRect(0,0,i.width,i.height);return}if(i.width=s.size*t+a[1]+a[3],i.height=s.size*t+a[0]+a[2],!o)Ui(r,i.width,i.height,t,m),Wi(r,s,t,a,m,l);else{let u=new Image;u.src=o,u.crossOrigin="anonymous",u.width=z*(i.width/e),u.height=z*(i.width/e);let g=()=>{M(),Ui(r,i.width,i.height,t,m),Wi(r,s,t,a,m,l);let y=i.width/2-z*(i.width/e)/2;r.fillRect(y,y,z*(i.width/e),z*(i.width/e)),r.drawImage(u,y,y,z*(i.width/e),z*(i.width/e))},C=()=>{M(),Ui(r,i.width,i.height,t,m),Wi(r,s,t,a,m,l)},M=()=>{u.removeEventListener("load",g),u.removeEventListener("error",C)};u.addEventListener("load",g),u.addEventListener("error",C)}}function Wi(i,s,e,t,n,l){for(let m=0;m<s.size;m++)for(let z=0;z<s.size;z++)i.fillStyle=s.getModule(z,m)?l:n,i.fillRect(t[3]+z*e,t[0]+m*e,e,e)}function Ui(i,s,e,t,n){i.fillStyle=n,i.fillRect(0,0,s*t,e*t)}function $n(i){return Array.isArray(i)?Array(4).fill(0).map((s,e)=>i[e%i.length]):[i,i,i,i]}var dn=(()=>{class i{i18n;el;cdr;canvas;nzValue="";nzPadding=0;nzColor="#000000";nzBgColor="#FFFFFF";nzSize=160;nzIcon="";nzIconSize=40;nzBordered=!0;nzStatus="active";nzLevel="M";nzStatusRender=null;nzRefresh=new At;locale;isBrowser=!0;destroy$=new qt;platformId=N(so);constructor(e,t,n){this.i18n=e,this.el=t,this.cdr=n,this.isBrowser=vo(this.platformId),this.cdr.markForCheck()}ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(oo(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(e){let{nzValue:t,nzIcon:n,nzLevel:l,nzSize:m,nzIconSize:z,nzColor:o,nzPadding:r,nzBgColor:a}=e;(t||n||l||m||z||o||r||a)&&this.canvas&&this.drawCanvasQRCode(),a&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&Kn(this.canvas.nativeElement,Jn(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||i)(ri(xo),ri(Lt),ri(Ot))};static \u0275cmp=S({type:i,selectors:[["nz-qrcode"]],viewQuery:function(t,n){if(t&1&&ho(An,5),t&2){let l;zo(l=go())&&(n.canvas=l.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(t,n){t&2&&si("ant-qrcode-border",n.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",Qt],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",Qt],nzBordered:[2,"nzBordered","nzBordered",$t],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[ni],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(t,n){t&1&&xe(0,In,2,1,"div",1)(1,Vn,4,1,"div",1)(2,jn,2,0,"canvas"),t&2&&(dt(n.nzStatusRender?0:n.nzStatus!=="active"?1:-1),c(2),dt(n.isBrowser?2:-1))},dependencies:[F,Ho,T,fe,B,b,fi,bo],encapsulation:2,changeDetection:0})}return i})();var ti=()=>({standalone:!0}),Ti=class i{constructor(){this.value="https://ng-alain.com/";this.background="#ffffff";this.foreground="#000000";this.level="L";this.mime="image/png";this.padding=10;this.size=220}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-qr"]],decls:44,vars:39,consts:[[1,"alain-default__content-title"],["href","https://ng.ant.design/components/qr-code","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[3,"nzValue","nzBgColor","nzColor","nzLevel","nzSize","nzPadding"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngModelChange","ngModel","ngModelOptions"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax","nzStep"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," \u4E8C\u7EF4\u7801 "),p(3,"a",1),f(4,"Document"),d()()(),p(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),ce(8,"nz-qrcode",4),d(),p(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),f(13,"\u80CC\u666F"),d(),p(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),ge("ngModelChange",function(l){return ze(t.background,l)||(t.background=l),l}),d()()()(),p(17,"nz-form-item")(18,"nz-form-label",5),f(19,"\u524D\u666F"),d(),p(20,"nz-form-control",5)(21,"nz-input-group")(22,"input",7),ge("ngModelChange",function(l){return ze(t.foreground,l)||(t.foreground=l),l}),d()()()(),p(23,"nz-form-item")(24,"nz-form-label",5),f(25,"\u8BEF\u5DEE"),d(),p(26,"nz-form-control",5)(27,"nz-select",8),ge("ngModelChange",function(l){return ze(t.level,l)||(t.level=l),l}),ce(28,"nz-option",9)(29,"nz-option",10)(30,"nz-option",11)(31,"nz-option",12),d()()(),p(32,"nz-form-item")(33,"nz-form-label",5),f(34,"\u5185\u8FB9\u8DDD"),d(),p(35,"nz-form-control",5)(36,"nz-input-number",13),ge("ngModelChange",function(l){return ze(t.padding,l)||(t.padding=l),l}),d(),f(37,"px "),d()(),p(38,"nz-form-item")(39,"nz-form-label",5),f(40,"\u5927\u5C0F"),d(),p(41,"nz-form-control",5)(42,"nz-input-number",14),ge("ngModelChange",function(l){return ze(t.size,l)||(t.size=l),l}),d(),f(43,"px "),d()()()()()()),e&2&&(c(6),h("nzGutter",24),c(),h("nzSpan",8),c(),h("nzValue",t.value)("nzBgColor",t.background)("nzColor",t.foreground)("nzLevel",t.level)("nzSize",t.size)("nzPadding",t.padding),c(),h("nzSpan",16),c(3),h("nzSpan",8),c(2),h("nzSpan",16),c(2),he("ngModel",t.background),h("ngModelOptions",ve(34,ti)),c(2),h("nzSpan",8),c(2),h("nzSpan",16),c(2),he("ngModel",t.foreground),h("ngModelOptions",ve(35,ti)),c(2),h("nzSpan",8),c(2),h("nzSpan",16),c(),he("ngModel",t.level),h("ngModelOptions",ve(36,ti)),c(6),h("nzSpan",8),c(2),h("nzSpan",16),c(),he("ngModel",t.padding),h("ngModelOptions",ve(37,ti))("nzMin",0)("nzMax",100),c(3),h("nzSpan",8),c(2),h("nzSpan",16),c(),he("ngModel",t.size),h("ngModelOptions",ve(38,ti))("nzMin",100)("nzMax",1e3)("nzStep",t.padding))},dependencies:[R,Bt,ft,ht,Ft,zt,xt,I,ie,K,se,ae,re,T,B,H,$,Nt,Mt,L,j,ue,U,gi,Mi,b,k,le,P,q,A,oe,Y,gt,Ni,J,Ko,X,Z,V,ne,pe,te,O,Q,Pt,Gt,Wt,Ht,me,F,ee,Ne,G,de,W,dn],encapsulation:2})}};var Qn=["*"],er=(()=>{class i{_change=new ii(null);toggle(){this._change.next(!0)}get change(){return this._change.pipe(io())}static \u0275fac=function(t){return new(t||i)};static \u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qi="full-content__body",Zi="full-content__opened",Xi="full-content__hidden-title",Yi=(()=>{class i{destroy$=N(ro);el=N(Lt).nativeElement;cdr=N(Ot);srv=N(er);router=N(mi);doc=N(No);bodyEl=this.doc.querySelector("body");inited=!1;id=`_full-content-${Math.random().toString(36).substring(2)}`;_height=0;fullscreen;hideTitle=!0;padding=24;fullscreenChange=new At;updateCls(){let e=this.bodyEl.classList;this.fullscreen?(e.add(Zi),this.hideTitle&&e.add(Xi)):(e.remove(Zi),this.hideTitle&&e.remove(Xi))}update(){this.updateCls(),this.updateHeight(),this.fullscreenChange.emit(this.fullscreen)}updateHeight(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.getBoundingClientRect().top-this.padding,this.cdr.detectChanges()}removeInBody(){this.bodyEl.classList.remove(qi,Zi,Xi)}ngOnInit(){this.inited=!0,this.bodyEl.classList.add(qi),this.el.id=this.id,this.updateCls(),eo(window,"resize").pipe(di(this.destroy$),Ri(200)).subscribe(()=>this.updateHeight()),this.srv.change.pipe(di(this.destroy$),Ai(e=>e!==null)).subscribe(()=>this.toggle()),this.router.events.pipe(di(this.destroy$),Ai(e=>e instanceof yo||e instanceof So),Ri(200)).subscribe(()=>{this.doc.querySelector(`#${this.id}`)?(this.bodyEl.classList.add(qi),this.updateCls()):this.removeInBody()})}toggle(){this.fullscreen=!this.fullscreen,this.update(),this.updateHeight()}ngAfterViewInit(){setTimeout(()=>this.updateHeight())}ngOnChanges(){this.inited&&this.update()}ngOnDestroy(){this.removeInBody()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=S({type:i,selectors:[["full-content"]],hostVars:4,hostBindings:function(t,n){t&2&&(mo("height",n._height,"px"),si("full-content",!0))},inputs:{fullscreen:[2,"fullscreen","fullscreen",$t],hideTitle:[2,"hideTitle","hideTitle",$t],padding:[2,"padding","padding",Qt]},outputs:{fullscreenChange:"fullscreenChange"},exportAs:["fullContent"],features:[ni],ngContentSelectors:Qn,decls:1,vars:0,template:function(t,n){t&1&&(co(),fo(0))},encapsulation:2,changeDetection:0})}return i})(),cn=(()=>{class i{parent=N(Yi);_click(){this.parent.toggle()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ai({type:i,selectors:[["","full-toggle",""]],hostBindings:function(t,n){t&1&&v("click",function(){return n._click()})},exportAs:["fullToggle"]})}return i})();var fn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Yt({type:i});static \u0275inj=Xt({imports:[Co]})}return i})();var ir=i=>({params:i}),or=()=>({list:"results"}),nr=i=>({reName:i}),rr=()=>[0,0,0,0];function ar(i,s){if(i&1&&ce(0,"g2-mini-bar",21),i&2){let e=E();h("padding",ve(2,rr))("data",e.events)}}var Fi=class i{constructor(){this.http=N(zi);this.message=N(ct);this.ps=20;this.total=200;this.args={_allow_anonymous:!0,userid:null};this.url="https://api.randomuser.me/?results=20";this.events=[];this.scroll={y:"230px"};this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:s=>`${s.name.first} ${s.name.last}`,type:"link",click:s=>this.message.info(`${s.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:s=>this.message.info(`edit [${s.id.value}]`),iif:s=>s.gender==="female"},{text:"Delete",type:"del",click:s=>this.message.info(`deleted [${s.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(s=>this.events=s.slice(0,8))}fullChange(s){this.scroll=s?{y:"350px"}:{y:"230px"}}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-st"]],decls:43,vars:18,consts:[["exportMenu","nzDropdownMenu"],["st",""],[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModelChange","ngModel"],["nz-button","",3,"click","nzType","nzLoading"],["nz-button","",3,"click","disabled"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(e,t){if(e&1){let n=we();p(0,"div",2)(1,"h1"),f(2," Fullscreen & ST "),p(3,"small"),f(4,"\u4F7F\u7528 "),p(5,"a",3),f(6,"st"),d(),f(7,"\u3001 "),p(8,"a",4),f(9,"full-content"),d(),f(10," \u7EC4\u5408\uFF0C\u7531\u4E8E nz-table \u56FA\u5B9A\u8868\u5934\u6682\u4E0D\u652F\u6301\u81EA\u9002\u5E94\uFF0C\u56E0\u6B64\u8868\u683C\u7684\u5C55\u793A\u7684\u6548\u679C\u5728\u54CD\u5E94\u5F0F\u91CC\u9762\u6548\u679C\u5E76\u4E0D\u662F\u7279\u522B\u597D\u3002"),d()()(),p(11,"full-content",5),v("fullscreenChange",function(m){return w(n),D(t.fullChange(m))}),p(12,"nz-card")(13,"div",6)(14,"div",7)(15,"form",8)(16,"se",9)(17,"input",10),ge("ngModelChange",function(m){return w(n),ze(t.args.userid,m)||(t.args.userid=m),D(m)}),d()(),p(18,"se")(19,"button",11),v("click",function(){w(n);let m=Ct(41);return D(m.load())}),f(20,"Search"),d(),p(21,"button",12),v("click",function(){w(n);let m=Ct(41);return D(m.load(1,{_allow_anonymous:!0}))}),f(22,"Clear"),d()()()(),p(23,"div",7)(24,"div",13)(25,"button",14)(26,"span"),f(27,"Export"),d(),ce(28,"i",15),d(),p(29,"nz-dropdown-menu",null,0)(31,"ul",16)(32,"li",17),f(33,"Excel"),d(),p(34,"li",17),f(35,"JSON"),d(),p(36,"li",17),f(37,"PNG"),d()()(),p(38,"button",18),f(39,"Full"),d()()()(),p(40,"st",19,1),xe(42,ar,1,3,"ng-template",20),d()()()}if(e&2){let n=Ct(30);c(17),he("ngModel",t.args.userid),c(2),h("nzType","primary")("nzLoading",t.http.loading),c(2),h("disabled",t.http.loading),c(4),h("nzDropdownMenu",n),c(13),h("nzType","default"),c(2),h("data",t.url)("req",Kt(13,ir,t.args))("res",Kt(16,nr,ve(15,or)))("total",t.total)("ps",t.ps)("columns",t.columns)("scroll",t.scroll)}},dependencies:[R,Bt,ft,ht,Ft,zt,xt,I,ie,K,jt,$o,se,ae,on,nn,re,T,fe,B,Me,H,Oo,Lo,Vo,Go,jo,$,Nt,Mt,L,j,ue,U,b,fi,k,le,P,q,A,oe,Y,gt,J,X,Z,V,ne,pe,te,O,Q,Pt,me,F,ee,Ne,G,de,W,fn,Yi,cn,an],encapsulation:2})}};var hn=()=>({standalone:!0}),xi=class i{constructor(){this.messageSrv=N(ct);this.format_str="this is ${name}";this.format_res="";this.format_obj=JSON.stringify({name:"asdf"});this.content=`time ${+new Date}

    \u4E2D\u6587\uFF01@#\uFFE5%\u2026\u2026&*`}onFormat(){let s=null;try{s=JSON.parse(this.format_obj)}catch{this.messageSrv.error("\u65E0\u6CD5\u4F7F\u7528 JSON.parse \u8F6C\u6362");return}this.format_res=Ro(this.format_str,s,!0)}onYuan(s){this.yuan_res=en(s)}onCopy(){Po(`time ${+new Date}`).then(()=>this.messageSrv.success("success"))}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5B57\u7B26\u4E32\u7C7B"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModelChange","ngModel","ngModelOptions"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModelChange","ngModel"],[3,"innerHTML"],["nzTitle","\u5176\u5B83\u7C7B"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," \u5DE5\u5177\u96C6 "),p(3,"small"),f(4,"@delon/util \u65E5\u5E38\u7528\u6CD5\u3002"),d()()(),p(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),f(12,"String"),d(),p(13,"nz-form-control",6)(14,"input",7),ge("ngModelChange",function(l){return ze(t.format_str,l)||(t.format_str=l),l}),d()()(),p(15,"nz-form-item")(16,"nz-form-label",6),f(17,"Object"),d(),p(18,"nz-form-control",6)(19,"input",7),ge("ngModelChange",function(l){return ze(t.format_obj,l)||(t.format_obj=l),l}),d()()(),p(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),v("click",function(){return t.onFormat()}),f(23,"Run"),d()()(),p(24,"nz-form-item")(25,"nz-form-label",6),f(26,"Result"),d(),p(27,"nz-form-control",6),f(28),d()()()(),p(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),ge("ngModelChange",function(l){return ze(t.yuan_str,l)||(t.yuan_str=l),l}),v("ngModelChange",function(l){return t.onYuan(l)}),d()(),p(33,"nz-col",2),ce(34,"div",12),d()()()()(),p(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),v("click",function(){return t.onCopy()}),f(38,"Copy"),d()()()()),e&2&&(c(5),h("nzGutter",16),c(),h("nzSpan",12),c(5),h("nzSm",8),c(2),h("nzSm",16),c(),he("ngModel",t.format_str),h("ngModelOptions",ve(21,hn)),c(2),h("nzSm",8),c(2),h("nzSm",16),c(),he("ngModel",t.format_obj),h("ngModelOptions",ve(22,hn)),c(2),h("nzSpan",16)("nzOffset",8),c(4),h("nzSm",8),c(2),h("nzSm",16),c(),ye(" ",t.format_res," "),c(2),h("nzGutter",16),c(),h("nzSpan",12),c(),he("ngModel",t.yuan_str),c(),h("nzSpan",12),c(),h("innerHTML",t.yuan_res,lo),c(),h("nzSpan",12))},dependencies:[R,Bt,ft,Ao,ht,Ft,zt,xt,I,ie,K,se,ae,re,T,fe,B,Me,H,$,Nt,Mt,L,j,ue,U,b,k,le,P,q,A,oe,Y,gt,J,X,Z,V,ne,pe,te,O,Q,Pt,Gt,Wt,Ht,me,F,ee,Ne,G,de,W],encapsulation:2})}};var Bi=class i{constructor(){this.xlsx=N(ko);this.users=Array(100).fill(0).map((s,e)=>({id:e+1,name:`name ${e+1}`,age:Math.ceil(Math.random()*10)+20}));this.columns=[{title:"\u7F16\u53F7",index:"id",type:"checkbox"},{title:"\u59D3\u540D",index:"name"},{title:"\u5E74\u9F84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(s=>this.data=s)}change(s){let e=s.target.files[0];this.xlsx.import(e).then(t=>this.data=t)}download(){let s=[this.columns.map(e=>e.title)];this.users.forEach(e=>s.push(this.columns.map(t=>e[t.index]))),this.xlsx.export({sheets:[{data:s,name:"sheet name"}]})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," Import & Export excel file, "),p(3,"a",1),f(4,"Document"),d()()(),p(5,"nz-card",2)(6,"button",3),v("click",function(){return t.url()}),f(7,"Via Url"),d(),p(8,"input",4),v("change",function(l){return t.change(l)}),d(),p(9,"p",5),f(10),Dt(11,"json"),d()(),p(12,"nz-card",6)(13,"button",3),v("click",function(){return t.download()}),f(14,"Export"),d(),ce(15,"st",7),d()),e&2&&(c(10),ye("result: ",bt(11,4,t.data),""),c(5),h("data",t.users)("ps",3)("columns",t.columns))},dependencies:[R,I,Tt,ie,K,jt,se,ae,re,T,fe,B,Me,H,$,L,j,ue,U,b,k,le,P,q,A,oe,Y,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,Ne,G,de,W],encapsulation:2})}};var zn=Ji(Hi(),1);var gn=(()=>{class i{http=N(li);lazy=N(ui);ngZone=N(ao);cog;constructor(e){this.cog=e.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(e){if(!e)throw new Error("get instance via `ZipService.create()`")}read(e,t){return new Promise((n,l)=>{let m=z=>{this.ngZone.run(()=>n(z))};this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:o=>{JSZip.loadAsync(o,t).then(r=>m(r))},error:o=>{l(o)}});return}let z=new FileReader;z.onload=o=>{JSZip.loadAsync(o.target.result,t).then(r=>m(r))},z.readAsBinaryString(e)})})}create(){return new Promise(e=>{this.init().then(()=>{let t=new JSZip;e(t)}).catch(()=>e(null))})}pushUrl(e,t,n){return this.check(e),new Promise((l,m)=>{this.http.request("GET",n,{responseType:"arraybuffer"}).subscribe({next:z=>{e.file(t,z),l()},error:z=>{m({url:n,error:z})}})})}save(e,t){this.check(e);let n=Ee({filename:"download.zip"},t);return new Promise((l,m)=>{e.generateAsync(Ee({type:"blob"},n.options),n.update).then(z=>{n.callback&&n.callback(z),(0,zn.saveAs)(z,n.filename),l()},z=>{m(z)})})}static \u0275fac=function(t){return new(t||i)(oi(Vt))};static \u0275prov=yt({token:i,factory:i.\u0275fac,providedIn:"root"})}return $i([Io()],i.prototype,"read",null),i})();function sr(i,s){if(i&1&&(p(0,"li"),f(1),Dt(2,"json"),d()),i&2){let e=s.$implicit;c(),Rt(bt(2,1,e))}}function lr(i,s){if(i&1){let e=we();p(0,"nz-card",2)(1,"button",4),v("click",function(){w(e);let n=E();return D(n.url())}),f(2,"Via Url"),d(),p(3,"input",5),v("change",function(n){w(e);let l=E();return D(l.change(n))}),d(),p(4,"ol"),Et(5,sr,3,3,"li",null,St),d()()}if(i&2){let e=E();c(5),wt(e.list)}}function mr(i,s){if(i&1){let e=we();p(0,"tr")(1,"td")(2,"input",9),ge("ngModelChange",function(n){let l=w(e).$implicit;return ze(l.path,n)||(l.path=n),D(n)}),d()(),p(3,"td")(4,"input",9),ge("ngModelChange",function(n){let l=w(e).$implicit;return ze(l.url,n)||(l.url=n),D(n)}),d()()()}if(i&2){let e=s.$implicit,t=s.$index;c(2),Jt("name","path",t,""),he("ngModel",e.path),c(2),Jt("name","url",t,""),he("ngModel",e.url)}}function pr(i,s){if(i&1){let e=we();p(0,"nz-card",3)(1,"button",6),v("click",function(){w(e);let n=E();return D(n.data.push({}))}),f(2,"new"),d(),p(3,"button",7),v("click",function(){w(e);let n=E();return D(n.download())}),f(4,"download"),d(),p(5,"nz-table",8)(6,"thead")(7,"tr")(8,"th")(9,"span"),f(10,"path"),d()(),p(11,"th")(12,"span"),f(13,"url"),d()()()(),p(14,"tbody"),Et(15,mr,5,6,"tr",null,St),d()()()}if(i&2){let e=E();c(),h("nzType","primary"),c(4),h("nzData",e.data)("nzFrontPagination",!1)("nzShowPagination",!1),c(10),wt(e.data)}}var Pi=class i{constructor(){this.zip=N(gn);this.msg=N(ct);this.cdr=N(Ot);this.instance=null;this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5C0F\u7A0B\u5E8F\u6807\u5FD7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(s=>{this.instance=s,this.cdr.detectChanges()})}format(s){let e=s.files;this.list=Object.keys(e).map(t=>({name:t,dir:e[t].dir,date:e[t].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(s=>this.format(s))}change(s){let e=s.target.files[0];this.zip.read(e).then(t=>this.format(t))}download(){let s=[];this.data.forEach(e=>{s.push(this.zip.pushUrl(this.instance,e.path,e.url))}),Promise.all(s).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},e=>{console.warn(e),this.msg.error(JSON.stringify(e))})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89E3\u538B"],["nzTitle","\u538B\u7F29"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],["nz-button","",3,"click","nzType"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModelChange","ngModel","name"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," Read & Write zip file, "),p(3,"a",1),f(4,"Document"),d()()(),xe(5,lr,7,0,"nz-card",2)(6,pr,17,4,"nz-card",3)),e&2&&(c(5),dt(t.instance?5:-1),c(),dt(t.instance?6:-1))},dependencies:[R,ft,ht,zt,I,Tt,ie,K,se,ae,re,T,fe,B,Me,H,$,L,j,ue,U,b,k,le,P,q,Zo,Wo,Uo,Yo,qo,Xo,A,oe,Y,gt,J,X,Z,V,ne,pe,te,O,Q,me,F,ee,Ne,G,de,W],encapsulation:2,changeDetection:0})}};var Js=[{path:"st",component:Fi},{path:"util",component:xi},{path:"print",component:bi},{path:"acl",component:Ci},{path:"guard",component:wi,children:[{path:"leave",component:Di,canDeactivate:[pn]},{path:"auth",component:Ei,canActivate:[ki],data:{guard:"user1"}},{path:"admin",component:Si,canActivate:[ki],data:{guard:"admin"}}]},{path:"cache",component:vi},{path:"qr",component:Ti},{path:"downfile",component:_i},{path:"xlsx",component:Bi},{path:"zip",component:Pi},{path:"form",component:yi}];export{Js as routes};
