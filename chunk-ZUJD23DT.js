import{a as Nn}from"./chunk-ONDXKBAY.js";import{c as yn}from"./chunk-6OI36ZLA.js";import"./chunk-QRKUZRZQ.js";import{d as ht}from"./chunk-TSGYBBI4.js";import{B as oe,F as re,G as Cn,H as ae,I as vn,J as _n,K as se,N as le,c as V,e as tn,g as U,i as mn,j as pn,k as un,l as dn,m as cn,n as fn,o as Z,q as Y,t as X,u as gn,v as Wt,w as $,y as Mn}from"./chunk-B7SLXKDM.js";import{A as I,Aa as K,B as k,Ba as Ct,Ca as vt,Da as Q,E as L,Ea as Ut,Fa as At,Ga as qt,Ha as Zt,Ia as ee,Ka as ie,L as O,N as j,Oa as ne,Qa as Sn,R as H,Ra as me,T as Qo,Ua as pe,X as en,Z as G,_ as on,aa as nn,bb as ue,da as rn,db as de,fa as an,fb as ce,ga as sn,ha as W,i as zt,k as gt,l as Bt,n as Pt,na as Ri,oa as Ai,p as Mt,pa as q,q as Rt,qa as ln,r as $o,ra as F,sa as hn,ta as Nt,va as Ii,ya as J,za as zn}from"./chunk-MC7EFOCZ.js";import{$f as D,Ab as Po,Ad as Fi,Bb as Ro,Ca as d,Cd as Uo,Ch as Bi,Dd as io,E as Co,Ea as ui,Ec as xt,Ed as oo,Fa as bo,Fb as _t,Gb as Ao,Gg as Xo,Hb as yi,Hc as Lo,I as $i,Jc as Oo,Kb as f,Kh as Pi,Lb as It,M as Qi,Mb as ye,Na as y,Oa as di,Ob as ze,Oc as Vo,Pa as vi,Pb as ge,Q as vo,Qb as Me,S as _o,Ta as Vt,Vb as ci,Vc as wi,Wh as Ko,X as eo,Zb as _e,_a as ct,_b as fi,_f as xi,a as we,ab as ft,ag as qo,ba as Et,bb as wt,ca as pi,cc as Tt,d as kn,da as So,db as bt,dc as Ft,di as Ce,eb as Dt,ed as jo,eg as Zo,ei as te,f as zo,fa as M,fb as h,fc as Io,fd as Ho,fh as Jo,gb as p,gg as B,gh as R,h as go,hb as c,hd as Go,hg as P,ia as w,ib as fe,ig as Ne,ja as b,jb as _i,jd as bi,k as li,kb as Si,kd as Di,kg as he,l as Ki,lg as T,m as Mi,mb as Do,na as yo,nb as To,oa as Ni,oc as to,og as Yo,pb as be,r as Mo,ra as Ci,rd as Wo,sb as v,sc as ko,ta as Ot,uc as jt,v as mi,va as Eo,vb as E,vc as Ei,vd as Ti,vh as A,wb as Fo,wc as hi,wd as Ht,xa as wo,xb as xo,xd as Gt,z as No,zb as Bo}from"./chunk-VPWBNE6P.js";var lo=kn((ao,so)=>{"use strict";(function(a,s){typeof define=="function"&&define.amd?define([],s):typeof ao<"u"?s():(s(),a.FileSaver={})})(ao,function(){"use strict";function a(z,i){return typeof i>"u"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\uFEFF",z],{type:z.type}):z}function s(z,i,n){var r=new XMLHttpRequest;r.open("GET",z),r.responseType="blob",r.onload=function(){m(r.response,i,n)},r.onerror=function(){console.error("could not download file")},r.send()}function e(z){var i=new XMLHttpRequest;i.open("HEAD",z,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function t(z){try{z.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),z.dispatchEvent(i)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(z,i,n){var r=o.URL||o.webkitURL,u=document.createElement("a");i=i||z.name||"download",u.download=i,u.rel="noopener",typeof z=="string"?(u.href=z,u.origin===location.origin?t(u):e(u.href)?s(z,i,n):t(u,u.target="_blank")):(u.href=r.createObjectURL(z),setTimeout(function(){r.revokeObjectURL(u.href)},4e4),setTimeout(function(){t(u)},0))}:"msSaveOrOpenBlob"in navigator?function(z,i,n){if(i=i||z.name||"download",typeof z!="string")navigator.msSaveOrOpenBlob(a(z,n),i);else if(e(z))s(z,i,n);else{var r=document.createElement("a");r.href=z,r.target="_blank",setTimeout(function(){t(r)})}}:function(z,i,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof z=="string")return s(z,i,n);var u=z.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||u&&g||l)&&typeof FileReader<"u"){var N=new FileReader;N.onloadend=function(){var xe=N.result;xe=C?xe:xe.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=xe:location=xe,r=null},N.readAsDataURL(z)}else{var S=o.URL||o.webkitURL,_=S.createObjectURL(z);r?r.location=_:location.href=_,r=null,setTimeout(function(){S.revokeObjectURL(_)},4e4)}});o.saveAs=m.saveAs=m,typeof so<"u"&&(so.exports=m)})});var Yt=class Yt{constructor(){this.aclSrv=M(Fi);this.menuSrv=M(Bi);this.full=!0;this.roleA="";this.roleB=""}get data(){return this.aclSrv.data}reMenu(){this.menuSrv.resume()}toggleFull(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}toggleRoleA(){this.full=!1,this.roleA=this.roleA==="role-a"?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}toggleRoleB(){this.full=!1,this.roleB=this.roleB==="role-b"?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}};Yt.\u0275fac=function(e){return new(e||Yt)},Yt.\u0275cmp=y({type:Yt,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94AE\u7C92\u5EA6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91CF"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89D2\u8272[role-a]"],["nzTitle","\u89D2\u8272[role-b]"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," ACL \u8BBF\u95EE\u63A7\u5236 "),p(3,"small"),f(4,"\u6CE8\u610F\u89C2\u5BDF\u5DE6\u8FB9\u7684\u83DC\u5355\uFF1BACLService\u63D0\u4F9B\u4E00\u4E2A\u5B8C\u6574\u7684\u57FA\u4E8E\u89D2\u8272\u7684\u8BBF\u95EE\u63A7\u5236\u7684\u670D\u52A1\uFF0C\u82E5\u9700\u8981\u652F\u6301\u8DEF\u7531\u5B88\u536B\uFF0C\u8BF7\u914D\u5408ACLService\u4E0ERoute Guard\u914D\u5408\u7B80\u4FBF\u5B9E\u73B0\u3002"),c()()(),p(5,"div",1)(6,"div",2)(7,"nz-card",3),f(8),Tt(9,"json"),p(10,"button",4),f(11,"role-a"),c(),p(12,"button",5),f(13,"role-b"),c()()()(),p(14,"div",1)(15,"div",2)(16,"nz-card",6)(17,"button",7),v("click",function(){return t.toggleFull()}),p(18,"span"),f(19),c()(),p(20,"p",8),f(21,"\u5168\u91CF\u7C7B\u6307\u7CFB\u7EDF\u7BA1\u7406\u5458\u89D2\u8272\uFF0C\u65E0\u4EFB\u4F55\u53D7\u9650\u3002"),c()()(),p(22,"div",2)(23,"nz-card",9)(24,"button",7),v("click",function(){return t.toggleRoleA()}),p(25,"span"),f(26),c()()()(),p(27,"div",2)(28,"nz-card",10)(29,"button",7),v("click",function(){return t.toggleRoleB()}),p(30,"span"),f(31),c()()()()()),e&2&&(d(5),h("nzGutter",8),d(),h("nzSpan",24),d(2),ye(" ACL\u539F\u59CB\u6570\u636E\uFF1A",Ft(9,12,t.data)," "),d(2),h("acl","role-a"),d(2),h("acl","role-b"),d(2),h("nzGutter",8),d(),h("nzSpan",8),d(4),ye("",t.full?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),d(3),h("nzSpan",8),d(4),ye("",t.roleA.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"),d(),h("nzSpan",8),d(4),ye("",t.roleB.length>0?"\u79BB\u5F00":"\u8BBE\u7F6E","\u6743\u9650"))},dependencies:[I,k,oe,$,le,se,ae,Uo,T,he,P,Ne,W,Q,vt,Ct,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,Ce,G,ce,U,B,xt],encapsulation:2});var ki=Yt;var Ln=new So("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:()=>new ro}),ro=class{platform=M(oo);get(s){return this.platform.isBrowser?JSON.parse(localStorage.getItem(s)??"null")??null:null}set(s,e){return this.platform.isBrowser&&localStorage.setItem(s,JSON.stringify(e)),!0}remove(s){this.platform.isBrowser&&localStorage.removeItem(s)}},En=(()=>{class a{store=M(Ln);http=M(wi);platform=M(oo);memory=new Map;notifyBuffer=new Map;meta=new Set;freqTick=3e3;freqTime;cog=M(Ht).merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"});constructor(){this.platform.isBrowser&&(this.loadMeta(),this.startExpireNotify())}pushMeta(e){this.meta.has(e)||(this.meta.add(e),this.saveMeta())}removeMeta(e){this.meta.has(e)&&(this.meta.delete(e),this.saveMeta())}loadMeta(){let e=this.store.get(this.cog.meta_key);e&&e.v&&e.v.forEach(t=>this.meta.add(t))}saveMeta(){let e=[];this.meta.forEach(t=>e.push(t)),this.store.set(this.cog.meta_key,{v:e,e:0})}getMeta(){return this.meta}set(e,t,o={}){if(!this.platform.isBrowser)return;let l=0,{type:m,expire:z}=this.cog;o=we({type:m,expire:z},o),o.expire&&(l=Yo(new Date,o.expire).valueOf());let i=o.emitNotify!==!1;if(!(t instanceof li)){this.save(o.type,e,{v:t,e:l},i);return}return t.pipe(eo(n=>{this.save(o.type,e,{v:n,e:l},i)}))}save(e,t,o,l=!0){e==="m"?this.memory.set(t,o):(this.store.set(this.cog.prefix+t,o),this.pushMeta(t)),l&&this.runNotify(t,"set")}get(e,t={}){if(!this.platform.isBrowser)return null;let o=t.mode!=="none"&&this.cog.mode==="promise",l=this.memory.has(e)?this.memory.get(e):this.store.get(this.cog.prefix+e);return!l||l.e&&l.e>0&&l.e<new Date().valueOf()?o?(this.cog.request?this.cog.request(e):this.http.get(e)).pipe(No(m=>Wo(m,this.cog.reName,m)),eo(m=>this.set(e,m,{type:t.type,expire:t.expire,emitNotify:t.emitNotify}))):null:o?mi(l.v):l.v}getNone(e){return this.get(e,{mode:"none"})}tryGet(e,t,o={}){if(!this.platform.isBrowser)return null;let l=this.getNone(e);return l===null?t instanceof li?this.set(e,t,o):(this.set(e,t,o),t):mi(l)}has(e){return this.memory.has(e)||this.meta.has(e)}_remove(e,t){if(t&&this.runNotify(e,"remove"),this.memory.has(e)){this.memory.delete(e);return}this.store.remove(this.cog.prefix+e),this.removeMeta(e)}remove(e){this.platform.isBrowser&&this._remove(e,!0)}clear(){this.platform.isBrowser&&(this.notifyBuffer.forEach((e,t)=>this.runNotify(t,"remove")),this.memory.clear(),this.meta.forEach(e=>this.store.remove(this.cog.prefix+e)))}set freq(e){this.freqTick=Math.max(20,e),this.abortExpireNotify(),this.startExpireNotify()}startExpireNotify(){this.checkExpireNotify(),this.runExpireNotify()}runExpireNotify(){this.freqTime=setTimeout(()=>{this.checkExpireNotify(),this.runExpireNotify()},this.freqTick)}checkExpireNotify(){let e=[];this.notifyBuffer.forEach((t,o)=>{this.has(o)&&this.getNone(o)===null&&e.push(o)}),e.forEach(t=>{this.runNotify(t,"expire"),this._remove(t,!1)})}abortExpireNotify(){clearTimeout(this.freqTime)}runNotify(e,t){this.notifyBuffer.has(e)&&this.notifyBuffer.get(e).next({type:t,value:this.getNone(e)})}notify(e){if(!this.notifyBuffer.has(e)){let t=new Mi(this.getNone(e));this.notifyBuffer.set(e,t)}return this.notifyBuffer.get(e).asObservable()}cancelNotify(e){this.notifyBuffer.has(e)&&(this.notifyBuffer.get(e).unsubscribe(),this.notifyBuffer.delete(e))}hasNotify(e){return this.notifyBuffer.has(e)}clearNotify(){this.notifyBuffer.forEach(e=>e.unsubscribe()),this.notifyBuffer.clear()}ngOnDestroy(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}static \u0275fac=function(t){return new(t||a)};static \u0275prov=Et({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Gr=new Vo(()=>({}));var Xt=class Xt{constructor(){this.cache=M(En);this.msg=M(ht);this.KEY="user"}set(){this.cache.set(this.KEY,+new Date)}get(){this.msg.success(this.cache.getNone(this.KEY))}};Xt.\u0275fac=function(e){return new(e||Xt)},Xt.\u0275cmp=y({type:Xt,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," Cache \u7F13\u5B58, "),p(3,"a",1),f(4,"Document"),c()()(),p(5,"nz-card",2)(6,"button",3),v("click",function(){return t.set()}),f(7,"\u8BBE\u7F6E"),c(),p(8,"button",4),v("click",function(){return t.get()}),f(9,"\u83B7\u53D6"),c()())},dependencies:[I,k,oe,$,le,se,ae,T,he,P,Ne,W,Q,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,Ce,G,ce,U,B],encapsulation:2});var Li=Xt;var wn=zo(lo(),1);var bn=(()=>{class a{el=M(Ot).nativeElement;_http=M(Pi);httpData;httpBody;httpMethod="get";httpUrl;fileName;pre;success=new ui;error=new ui;getDisposition(e){return(e??"").split(";").filter(o=>o.includes("=")).map(o=>{let l=o.split("="),m="UTF-8''",z=l[1];return z.startsWith(m)&&(z=z.substring(m.length)),{[l[0].trim()]:z}}).reduce((o,l)=>l,{})}isFileSaverSupported=!1;constructor(){try{this.isFileSaverSupported=!!new Blob}catch{}this.isFileSaverSupported||this.el.classList.add("down-file__not-support")}setDisabled(e){let t=this.el;t.disabled=e,t.classList[e?"add":"remove"]("down-file__disabled")}_click(e){return go(this,null,function*(){if(!this.isFileSaverSupported||typeof this.pre=="function"&&!(yield this.pre(e))){e.stopPropagation(),e.preventDefault();return}this.setDisabled(!0),this._http.request(this.httpMethod,this.httpUrl,{params:this.httpData??{},responseType:"blob",observe:"response",body:this.httpBody}).pipe(vo(()=>this.setDisabled(!1))).subscribe({next:t=>{if(t.status!==200||t.body.size<=0){this.error.emit(t);return}let o=this.getDisposition(t.headers.get("content-disposition")),l=this.fileName;typeof l=="function"&&(l=l(t)),l=l||o["filename*"]||o.filename||t.headers.get("filename")||t.headers.get("x-filename"),(0,wn.saveAs)(t.body,decodeURI(l)),this.success.emit(t)},error:t=>this.error.emit(t)})})}static \u0275fac=function(t){return new(t||a)};static \u0275dir=vi({type:a,selectors:[["","down-file",""]],hostBindings:function(t,o){t&1&&v("click",function(m){return o._click(m)})},inputs:{httpData:[0,"http-data","httpData"],httpBody:[0,"http-body","httpBody"],httpMethod:[0,"http-method","httpMethod"],httpUrl:[0,"http-url","httpUrl"],fileName:[0,"file-name","fileName"],pre:"pre"},outputs:{success:"success",error:"error"},exportAs:["downFile"]})}return a})();function On(a,s){if(a&1&&(p(0,"button",2),f(1),c()),a&2){let e=s.$implicit,t=E();h("http-url",ci("assets/tmp/demo",e))("http-data",t.data),d(),ye(" ",e," ")}}var Jt=class Jt{constructor(){this.fileTypes=[".xlsx",".docx",".pptx",".pdf"];this.data={otherdata:1,time:new Date}}};Jt.\u0275fac=function(e){return new(e||Jt)},Jt.\u0275cmp=y({type:Jt,selectors:[["app-down-file"]],decls:6,vars:0,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","down-file","","file-name","demo\u4E2D\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2,"Download a file"),c()(),p(3,"nz-card",1),bt(4,On,2,4,"button",2,wt),c()),e&2&&(d(4),Dt(t.fileTypes))},dependencies:[I,k,oe,$,le,se,ae,T,he,P,Ne,W,Q,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,Ce,G,ce,U,B,bn],encapsulation:2});var Oi=Jt;var Vn=a=>({params:a}),Kt=class Kt{constructor(){this.params={};this.url="/user";this.searchSchema={properties:{no:{type:"string",title:"\u7F16\u53F7"}}};this.columns=[{title:"\u7F16\u53F7",index:"no"},{title:"\u8C03\u7528\u6B21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50CF",type:"img",width:"50px",index:"avatar"},{title:"\u65F6\u95F4",type:"date",index:"updatedAt"}]}};Kt.\u0275fac=function(e){return new(e||Kt)},Kt.\u0275cmp=y({type:Kt,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[["st",""],[3,"title"],["mode","search",3,"formSubmit","formReset","schema","formData"],[3,"data","columns","req"]],template:function(e,t){if(e&1){let o=be();fe(0,"page-header",1),p(1,"nz-card")(2,"sf",2),v("formSubmit",function(m){w(o);let z=_t(4);return b(z.reset(m))})("formReset",function(){w(o);let m=_t(4);return b(m.reset(t.params))}),c(),fe(3,"st",3,0),c()}e&2&&(h("title","Page Name"),d(2),h("schema",t.searchSchema)("formData",t.params),d(),h("data",t.url)("columns",t.columns)("req",fi(6,Vn,t.params)))},dependencies:[I,k,oe,Mn,$,Wt,le,se,ae,Cn,T,W,Q,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,Ce,G,ce,U,B],encapsulation:2});var Vi=Kt;var $t=class $t{};$t.\u0275fac=function(e){return new(e||$t)},$t.\u0275cmp=y({type:$t,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(e,t){e&1&&(_i(0,"p"),f(1,"\u8FD9\u662F\u4E00\u4E2Aadmin\u9875\u9762"),Si())},encapsulation:2});var ji=$t;var Qt=class Qt{};Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275cmp=y({type:Qt,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(e,t){e&1&&(_i(0,"p"),f(1,"\u8FD9\u662F\u4E00\u4E2Auser1\u9875\u9762"),Si())},encapsulation:2});var Hi=Qt;var Dn=()=>{let a=M(Jo);return new li(s=>{a.confirm({nzTitle:"\u786E\u8BA4\u8981\u79BB\u5F00\u5417\uFF1F",nzContent:"\u4F60\u5DF2\u7ECF\u586B\u5199\u4E86\u90E8\u5206\u8868\u5355\u79BB\u5F00\u4F1A\u653E\u5F03\u5DF2\u7ECF\u586B\u5199\u7684\u5185\u5BB9\u3002",nzOkText:"\u79BB\u5F00",nzCancelText:"\u53D6\u6D88",nzOnOk:()=>{s.next(!0),s.complete()},nzOnCancel:()=>{s.next(!1),s.complete()}})})};var Hn=()=>["/delon/guard/leave"],Gn=()=>["/delon/guard/auth"],Wn=()=>["/delon/guard/admin"],ei=class ei{constructor(){this.aclSrv=M(Fi);this.menuSrv=M(Bi);this.router=M(bi)}get data(){return this.aclSrv.data}setRole(s){this.aclSrv.setFull(!1),typeof s=="boolean"?this.aclSrv.setFull(s):this.aclSrv.set({role:[s]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}};ei.\u0275fac=function(e){return new(e||ei)},ei.\u0275cmp=y({type:ei,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," \u8DEF\u7531\u5B88\u536B "),c()(),p(3,"nz-space-compact")(4,"button",1)(5,"span"),f(6,"\u79BB\u5F00\u786E\u8BA4\u9875"),c()()(),p(7,"nz-space-compact",2)(8,"button",3),v("click",function(){return t.setRole(!0)}),p(9,"span"),f(10,"\u8BBE\u7F6E\u7BA1\u7406\u5458"),c()(),p(11,"button",3),v("click",function(){return t.setRole("user1")}),p(12,"span"),f(13,"\u8BBE\u7F6E\u5458\u5DE51"),c()(),p(14,"button",3),v("click",function(){return t.setRole("user2")}),p(15,"span"),f(16,"\u8BBE\u7F6E\u5458\u5DE52"),c()()(),p(17,"nz-space-compact",2)(18,"button",1)(19,"span"),f(20,"\u9700\u8981user1"),c()(),p(21,"button",1)(22,"span"),f(23,"\u9700\u8981\u7BA1\u7406\u5458"),c()()(),p(24,"p",4),f(25),Tt(26,"json"),c(),fe(27,"router-outlet")),e&2&&(d(4),h("routerLink",_e(6,Hn)),d(14),h("routerLink",_e(7,Gn)),d(3),h("routerLink",_e(8,Wn)),d(4),ye("\u5F53\u524DACL\u4FE1\u606F\uFF1A",Ft(26,4,t.data)))},dependencies:[I,k,Di,Go,oe,$,le,se,ae,T,he,P,Ne,W,Q,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,G,ce,U,B,Zo,xt],encapsulation:2});var Gi=ei;var Un=()=>["/delon/guard"],ti=class ti{};ti.\u0275fac=function(e){return new(e||ti)},ti.\u0275cmp=y({type:ti,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(e,t){e&1&&(p(0,"p"),f(1,"\u79BB\u5F00\u65F6\u9700\u8981\u786E\u8BA4"),c(),p(2,"button",0)(3,"span"),f(4,"\u6211\u8981\u79BB\u5F00"),c()()),e&2&&(d(2),h("nzType","primary")("routerLink",_e(2,Un)))},dependencies:[I,k,Di,oe,$,le,se,ae,T,he,P,Ne,W,Q,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,G,ce,U,B],encapsulation:2});var Wi=ti;var Tn=(()=>{class a{scriptSrv=M(Ti);cogSrv=M(Ht);defaultConfig;_cog;pending=!1;_lodop=null;_init=new Ki;_events=new Ki;printBuffer=[];constructor(){this.defaultConfig=this.cogSrv.merge("lodop",{url:"http://localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}get cog(){return this._cog}set cog(e){this._cog=we(we({},this.defaultConfig),e)}get events(){return this._events.asObservable()}get lodop(){return this._lodop?mi({ok:!0,lodop:this._lodop}):this.pending?this._init.asObservable():(this.request(),this._init.asObservable())}get printer(){this.check();let e=[],t=this._lodop.GET_PRINTER_COUNT();for(let o=0;o<t;o++)e.push(this._lodop.GET_PRINTER_NAME(o));return e}check(){if(!this._lodop)throw new Error("\u8BF7\u52A1\u5FC5\u5148\u8C03\u7528 lodop \u83B7\u53D6\u5BF9\u8C61")}request(){this.pending=!0;let e=new URL(this.cog.url);e.searchParams.set("name",this.cog.name);let t=e.toString(),o=this.cog.checkMaxCount,l=(z,i)=>{this._init.next({ok:z==="ok",status:z,error:i,lodop:this._lodop})},m=()=>{if(--o,this._lodop.webskt&&this._lodop.webskt.readyState===1)l("ok");else{if(o<0){l("check-limit");return}setTimeout(()=>m(),100)}};this.scriptSrv.loadScript(t).then(z=>{if(z.status!=="ok"){this.pending=!1,l("script-load-error",z[0]);return}let i=window;if(Object.prototype.hasOwnProperty.call(i,this.cog.name)&&(this._lodop=i[this.cog.name]),this._lodop===null){l("load-variable-name-error",{name:this.cog.name});return}this._lodop.SET_LICENSES(this.cog.companyName,this.cog.license,this.cog.licenseA,this.cog.licenseB),m()})}reset(){this._lodop=null,this.pending=!1,this.request()}attachCode(e,t,o){this.check(),o||(o=/LODOP\.([^(]+)\(([^\n]+)?\);/i),e.split(`
`).forEach(l=>{let m=o.exec(l.trim());if(!m)return;let z=this._lodop[m[1]];if(z){let i=null;try{i=new Function(`return [${m[2]}]`)()}catch{}if(i!=null&&Array.isArray(i)&&t)for(let n=0;n<i.length;n++)typeof i[n]=="string"&&(i[n]=i[n].replace(/{{(.*?)}}/g,(r,u)=>t[u.trim()]??""));z.apply(this._lodop,i)}})}design(){this.check();let e=this._lodop.PRINT_DESIGN();return new Promise(t=>{this._lodop.On_Return=(o,l)=>{e===o&&(this._lodop.On_Return=null,t(`${l}`))}})}printDo(){let e=this.printBuffer.shift();if(!e)return;this.attachCode(e.code,e.item,e.parser);let t=this._lodop.PRINT();this._lodop.On_Return=(o,l)=>{t===o&&(this._lodop.On_Return=null,this._events.next(we({ok:l===!0,error:l===!0?null:l},e)),this.printDo())}}print(e,t,o){this.check(),t&&this.printBuffer.push(...(Array.isArray(t)?t:[t]).map(l=>({code:e,parser:o,item:l}))),this.printDo()}ngOnDestroy(){this._init.unsubscribe(),this._events.unsubscribe()}static \u0275fac=function(t){return new(t||a)};static \u0275prov=Et({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function qn(a,s){a&1&&(f(0," \u8BF7\u5148\u4E0B\u8F7D "),p(1,"a",5),f(2,"Lodop\u63D2\u4EF6"),c(),f(3,"\u3002 "))}function Zn(a,s){if(a&1&&(p(0,"nz-alert",3),Vt(1,qn,4,0,"ng-template",null,0,Io),c()),a&2){let e=_t(2);h("nzType","warning")("nzMessage",e)}}function Yn(a,s){if(a&1&&fe(0,"nz-option",12),a&2){let e=s.$implicit;h("nzLabel",e)("nzValue",e)}}function Xn(a,s){if(a&1&&fe(0,"nz-option",12),a&2){let e=s.$implicit;h("nzLabel",e)("nzValue",e)}}function Jn(a,s){if(a&1){let e=be();p(0,"form",4)(1,"nz-form-item",6)(2,"nz-form-label",7),f(3,"\u6253\u5370\u670D\u52A1\u5668"),c(),p(4,"nz-form-control",7)(5,"nz-input-group")(6,"div",8)(7,"input",9),Me("ngModelChange",function(o){w(e);let l=E();return ge(l.cog.url,o)||(l.cog.url=o),b(o)}),c()(),p(8,"div",8)(9,"button",10),v("click",function(){w(e);let o=E();return b(o.reload(null))}),f(10,"\u91CD\u65B0\u52A0\u8F7D\u6253\u5370\u673A"),c()()()()(),p(11,"nz-form-item",6)(12,"nz-form-label",7),f(13,"\u6253\u5370\u673A"),c(),p(14,"nz-form-control",7)(15,"nz-select",11),Me("ngModelChange",function(o){w(e);let l=E();return ge(l.cog.printer,o)||(l.cog.printer=o),b(o)}),v("ngModelChange",function(o){w(e);let l=E();return b(l.changePinter(o))}),bt(16,Yn,1,2,"nz-option",12,wt),c()()(),p(18,"nz-form-item",6)(19,"nz-form-label",7),f(20,"\u7EB8\u5F20\u7C7B\u578B"),c(),p(21,"nz-form-control",7)(22,"nz-select",13),Me("ngModelChange",function(o){w(e);let l=E();return ge(l.cog.paper,o)||(l.cog.paper=o),b(o)}),bt(23,Xn,1,2,"nz-option",12,wt),c()()(),p(25,"nz-form-item",6)(26,"nz-form-label",7),f(27,"\u6253\u5370\u5185\u5BB9"),c(),p(28,"nz-form-control",7)(29,"textarea",14),Me("ngModelChange",function(o){w(e);let l=E();return ge(l.cog.html,o)||(l.cog.html=o),b(o)}),c(),p(30,"div",15),f(31,"\u4EC5\u9650HTML\uFF0C\u66F4\u591A\u7C7B\u578B\u652F\u6301\u8BF7\u53C2\u8003\u5B98\u7F51"),c()()(),p(32,"nz-form-item",6)(33,"nz-form-control",16)(34,"button",17),v("click",function(){w(e);let o=E();return b(o.print(!0))}),f(35,"\u6253\u5370\u9884\u89C8"),c(),p(36,"button",17),v("click",function(){w(e);let o=E();return b(o.print())}),f(37,"\u76F4\u63A5\u6253\u5370"),c()()()()}if(a&2){let e=E();d(2),h("nzSm",6),d(2),h("nzSm",18),d(2),h("nzSpan",16),d(),ze("ngModel",e.cog.url),d(),h("nzSpan",8),d(4),h("nzSm",6),d(2),h("nzSm",18),d(),ze("ngModel",e.cog.printer),d(),Dt(e.pinters),d(3),h("nzSm",6),d(2),h("nzSm",18),d(),ze("ngModel",e.cog.paper),d(),Dt(e.papers),d(3),h("nzSm",6),d(2),h("nzSm",18),d(),ze("ngModel",e.cog.html),d(4),h("nzSm",18)("nzOffset",6),d(),h("nzLoading",e.printing),d(2),h("nzLoading",e.printing)}}var ii=class ii{constructor(){this.lodopSrv=M(Tn);this.msg=M(ht);this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:`
      <h1>Title</h1>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
      <p>\u8FD9~\uFF01@#\uFFE5%\u2026\u2026&*\uFF08\uFF09\u2014\u2014sdilfjnvn</p>
    `};this.error=!1;this.lodop=null;this.pinters=[];this.papers=[];this.printing=!1;this.lodopSrv.lodop.subscribe(({lodop:s,ok:e})=>{if(!e){this.error=!0;return}this.error=!1,this.msg.success("\u6253\u5370\u673A\u52A0\u8F7D\u6210\u529F"),this.lodop=s,this.pinters=this.lodopSrv.printer})}reload(s={url:"https://localhost:8443/CLodopfuncs.js"}){this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=we(we({},this.cog),s),this.error=!1,s===null&&this.lodopSrv.reset()}changePinter(s){this.lodop!=null&&(this.papers=this.lodop.GET_PAGESIZES_LIST(s,`
`).split(`
`))}print(s=!1){let e=this.lodop;e.PRINT_INITA(10,20,810,610,"\u6D4B\u8BD5C-Lodop\u8FDC\u7A0B\u6253\u5370\u56DB\u6B65\u9AA4"),e.SET_PRINTER_INDEXA(this.cog.printer),e.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),e.ADD_PRINT_TEXT(1,1,300,200,"\u4E0B\u9762\u8F93\u51FA\u7684\u662F\u672C\u9875\u6E90\u4EE3\u7801\u53CA\u5176\u5C55\u73B0\u6548\u679C\uFF1A"),e.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),e.SET_PRINT_STYLEA(0,"ItemType",4),e.NEWPAGEA(),e.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),s?e.PREVIEW():e.PRINT()}};ii.\u0275fac=function(e){return new(e||ii)},ii.\u0275cmp=y({type:ii,selectors:[["app-print"]],decls:10,vars:2,consts:[["message",""],[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage"],["nz-form",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModelChange","ngModel"],["nz-button","",3,"click"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u6253\u5370\u673A","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue"],["nzPlaceHolder","\u8BF7\u9009\u62E9\u7EB8\u5F20\u7C7B\u578B","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModelChange","ngModel"],["nz-input","","name","html","nzAutosize","",3,"ngModelChange","ngModel"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"click","nzLoading"]],template:function(e,t){e&1&&(p(0,"div",1)(1,"h1"),f(2," Lodop\u6253\u5370 "),p(3,"small"),f(4," \u66F4\u591A\u4F53\u9A8C\u8BF7\u81F3 "),p(5,"a",2),f(6,"NG-ALAIN.com"),c()()()(),p(7,"nz-card"),ct(8,Zn,3,2,"nz-alert",3),ct(9,Jn,38,18,"form",4),c()),e&2&&(d(8),ft(t.error?8:-1),d(),ft(t.error?-1:9))},dependencies:[I,Rt,zt,gt,Bt,Mt,Pt,k,oe,$,le,se,ae,T,he,P,Ne,W,Q,vt,Ct,O,H,de,q,Ri,Ai,D,L,me,Sn,R,Z,A,ne,J,Nt,Ii,hn,K,X,Y,j,re,ue,ie,V,ee,At,Ut,Zt,qt,pe,F,te,Ce,G,ce,U,B],encapsulation:2});var Ui=ii;var Kn=["canvas"];function $n(a,s){if(a&1&&(Do(0),f(1),To()),a&2){let e=E(2);d(),It(e.nzStatusRender)}}function Qn(a,s){if(a&1&&(p(0,"div",1),Vt(1,$n,2,1,"ng-container",2),c()),a&2){let e=E();d(),h("nzStringTemplateOutlet",e.nzStatusRender)}}function er(a,s){a&1&&fe(0,"nz-spin")}function tr(a,s){if(a&1){let e=be();p(0,"div")(1,"p",3),f(2),c(),p(3,"button",4),v("click",function(){w(e);let o=E(2);return b(o.reloadQRCode())}),fe(4,"nz-icon",5),p(5,"span"),f(6),c()()()}if(a&2){let e=E(2);d(2),It(e.locale.expired),d(4),It(e.locale.refresh)}}function ir(a,s){if(a&1&&(p(0,"div")(1,"p",3),f(2),c()()),a&2){let e=E(2);d(2),It(e.locale.scanned)}}function or(a,s){if(a&1&&(p(0,"div",1),ct(1,er,1,0,"nz-spin")(2,tr,7,2,"div")(3,ir,3,1,"div"),c()),a&2){let e,t=E();d(),ft((e=t.nzStatus)==="loading"?1:e==="expired"?2:e==="scanned"?3:-1)}}function nr(a,s){a&1&&fe(0,"canvas",null,0)}var kt;(function(a){let s=(()=>{class m{version;errorCorrectionLevel;static encodeText(i,n){let r=a.QrSegment.makeSegments(i);return m.encodeSegments(r,n)}static encodeBinary(i,n){let r=a.QrSegment.makeBytes(i);return m.encodeSegments([r],n)}static encodeSegments(i,n,r=1,u=40,g=-1,C=!0){if(!(m.MIN_VERSION<=r&&r<=u&&u<=m.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let N,S;for(N=r;;N++){let x=m.getNumDataCodewords(N,n)*8,Se=l.getTotalBits(i,N);if(Se<=x){S=Se;break}if(N>=u)throw new RangeError("Data too long")}for(let x of[m.Ecc.MEDIUM,m.Ecc.QUARTILE,m.Ecc.HIGH])C&&S<=m.getNumDataCodewords(N,x)*8&&(n=x);let _=[];for(let x of i){e(x.mode.modeBits,4,_),e(x.numChars,x.mode.numCharCountBits(N),_);for(let Se of x.getData())_.push(Se)}o(_.length==S);let xe=m.getNumDataCodewords(N,n)*8;o(_.length<=xe),e(0,Math.min(4,xe-_.length),_),e(0,(8-_.length%8)%8,_),o(_.length%8==0);for(let x=236;_.length<xe;x^=253)e(x,8,_);let yt=[];for(;yt.length*8<_.length;)yt.push(0);return _.forEach((x,Se)=>yt[Se>>>3]|=x<<7-(Se&7)),new m(N,n,yt,g)}size;mask;modules=[];isFunction=[];constructor(i,n,r,u){if(this.version=i,this.errorCorrectionLevel=n,i<m.MIN_VERSION||i>m.MAX_VERSION)throw new RangeError("Version value out of range");if(u<-1||u>7)throw new RangeError("Mask value out of range");this.size=i*4+17;let g=[];for(let N=0;N<this.size;N++)g.push(!1);for(let N=0;N<this.size;N++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();let C=this.addEccAndInterleave(r);if(this.drawCodewords(C),u==-1){let N=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);let _=this.getPenaltyScore();_<N&&(u=S,N=_),this.applyMask(S)}}o(u>=0&&u<=7),this.mask=u,this.applyMask(u),this.drawFormatBits(u),this.isFunction=[]}getModule(i,n){return i>=0&&i<this.size&&n>=0&&n<this.size&&this.modules[n][i]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let i=this.getAlignmentPatternPositions(),n=i.length;for(let r=0;r<n;r++)for(let u=0;u<n;u++)r==0&&u==0||r==0&&u==n-1||r==n-1&&u==0||this.drawAlignmentPattern(i[r],i[u]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(i){let n=this.errorCorrectionLevel.formatBits<<3|i,r=n;for(let g=0;g<10;g++)r=r<<1^(r>>>9)*1335;let u=(n<<10|r)^21522;o(u>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,t(u,g));this.setFunctionModule(8,7,t(u,6)),this.setFunctionModule(8,8,t(u,7)),this.setFunctionModule(7,8,t(u,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,t(u,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,t(u,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,t(u,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let i=this.version;for(let r=0;r<12;r++)i=i<<1^(i>>>11)*7973;let n=this.version<<12|i;o(n>>>18==0);for(let r=0;r<18;r++){let u=t(n,r),g=this.size-11+r%3,C=Math.floor(r/3);this.setFunctionModule(g,C,u),this.setFunctionModule(C,g,u)}}drawFinderPattern(i,n){for(let r=-4;r<=4;r++)for(let u=-4;u<=4;u++){let g=Math.max(Math.abs(u),Math.abs(r)),C=i+u,N=n+r;C>=0&&C<this.size&&N>=0&&N<this.size&&this.setFunctionModule(C,N,g!=2&&g!=4)}}drawAlignmentPattern(i,n){for(let r=-2;r<=2;r++)for(let u=-2;u<=2;u++)this.setFunctionModule(i+u,n+r,Math.max(Math.abs(u),Math.abs(r))!=1)}setFunctionModule(i,n,r){this.modules[n][i]=r,this.isFunction[n][i]=!0}addEccAndInterleave(i){let n=this.version,r=this.errorCorrectionLevel;if(i.length!=m.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");let u=m.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],g=m.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],C=Math.floor(m.getNumRawDataModules(n)/8),N=u-C%u,S=Math.floor(C/u),_=[],xe=m.reedSolomonComputeDivisor(g);for(let x=0,Se=0;x<u;x++){let Lt=i.slice(Se,Se+S-g+(x<N?0:1));Se+=Lt.length;let In=m.reedSolomonComputeRemainder(Lt,xe);x<N&&Lt.push(0),_.push(Lt.concat(In))}let yt=[];for(let x=0;x<_[0].length;x++)_.forEach((Se,Lt)=>{(x!=S-g||Lt>=N)&&yt.push(Se[x])});return o(yt.length==C),yt}drawCodewords(i){if(i.length!=Math.floor(m.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(let u=0;u<this.size;u++)for(let g=0;g<2;g++){let C=r-g,S=(r+1&2)==0?this.size-1-u:u;!this.isFunction[S][C]&&n<i.length*8&&(this.modules[S][C]=t(i[n>>>3],7-(n&7)),n++)}}o(n==i.length*8)}applyMask(i){if(i<0||i>7)throw new RangeError("Mask value out of range");for(let n=0;n<this.size;n++)for(let r=0;r<this.size;r++){let u;switch(i){case 0:u=(r+n)%2==0;break;case 1:u=n%2==0;break;case 2:u=r%3==0;break;case 3:u=(r+n)%3==0;break;case 4:u=(Math.floor(r/3)+Math.floor(n/2))%2==0;break;case 5:u=r*n%2+r*n%3==0;break;case 6:u=(r*n%2+r*n%3)%2==0;break;case 7:u=((r+n)%2+r*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][r]&&u&&(this.modules[n][r]=!this.modules[n][r])}}getPenaltyScore(){let i=0;for(let g=0;g<this.size;g++){let C=!1,N=0,S=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[g][_]==C?(N++,N==5?i+=m.PENALTY_N1:N>5&&i++):(this.finderPenaltyAddHistory(N,S),C||(i+=this.finderPenaltyCountPatterns(S)*m.PENALTY_N3),C=this.modules[g][_],N=1);i+=this.finderPenaltyTerminateAndCount(C,N,S)*m.PENALTY_N3}for(let g=0;g<this.size;g++){let C=!1,N=0,S=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][g]==C?(N++,N==5?i+=m.PENALTY_N1:N>5&&i++):(this.finderPenaltyAddHistory(N,S),C||(i+=this.finderPenaltyCountPatterns(S)*m.PENALTY_N3),C=this.modules[_][g],N=1);i+=this.finderPenaltyTerminateAndCount(C,N,S)*m.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let C=0;C<this.size-1;C++){let N=this.modules[g][C];N==this.modules[g][C+1]&&N==this.modules[g+1][C]&&N==this.modules[g+1][C+1]&&(i+=m.PENALTY_N2)}let n=0;for(let g of this.modules)n=g.reduce((C,N)=>C+(N?1:0),n);let r=this.size*this.size,u=Math.ceil(Math.abs(n*20-r*10)/r)-1;return o(u>=0&&u<=9),i+=u*m.PENALTY_N4,o(i>=0&&i<=2568888),i}getAlignmentPatternPositions(){if(this.version==1)return[];{let i=Math.floor(this.version/7)+2,n=Math.floor((this.version*8+i*3+5)/(i*4-4))*2,r=[6];for(let u=this.size-7;r.length<i;u-=n)r.splice(1,0,u);return r}}static getNumRawDataModules(i){if(i<m.MIN_VERSION||i>m.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*i+128)*i+64;if(i>=2){let r=Math.floor(i/7)+2;n-=(25*r-10)*r-55,i>=7&&(n-=36)}return o(n>=208&&n<=29648),n}static getNumDataCodewords(i,n){return Math.floor(m.getNumRawDataModules(i)/8)-m.ECC_CODEWORDS_PER_BLOCK[n.ordinal][i]*m.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][i]}static reedSolomonComputeDivisor(i){if(i<1||i>255)throw new RangeError("Degree out of range");let n=[];for(let u=0;u<i-1;u++)n.push(0);n.push(1);let r=1;for(let u=0;u<i;u++){for(let g=0;g<n.length;g++)n[g]=m.reedSolomonMultiply(n[g],r),g+1<n.length&&(n[g]^=n[g+1]);r=m.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(i,n){let r=n.map(u=>0);for(let u of i){let g=u^r.shift();r.push(0),n.forEach((C,N)=>r[N]^=m.reedSolomonMultiply(C,g))}return r}static reedSolomonMultiply(i,n){if(i>>>8||n>>>8)throw new RangeError("Byte out of range");let r=0;for(let u=7;u>=0;u--)r=r<<1^(r>>>7)*285,r^=(n>>>u&1)*i;return o(r>>>8==0),r}finderPenaltyCountPatterns(i){let n=i[1];o(n<=this.size*3);let r=n>0&&i[2]==n&&i[3]==n*3&&i[4]==n&&i[5]==n;return(r&&i[0]>=n*4&&i[6]>=n?1:0)+(r&&i[6]>=n*4&&i[0]>=n?1:0)}finderPenaltyTerminateAndCount(i,n,r){return i&&(this.finderPenaltyAddHistory(n,r),n=0),n+=this.size,this.finderPenaltyAddHistory(n,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(i,n){n[0]==0&&(i+=this.size),n.pop(),n.unshift(i)}static MIN_VERSION=1;static MAX_VERSION=40;static PENALTY_N1=3;static PENALTY_N2=3;static PENALTY_N3=40;static PENALTY_N4=10;static ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]];static NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]}return m})();a.QrCode=s;function e(m,z,i){if(z<0||z>31||m>>>z)throw new RangeError("Value out of range");for(let n=z-1;n>=0;n--)i.push(m>>>n&1)}function t(m,z){return(m>>>z&1)!=0}function o(m){if(!m)throw new Error("Assertion error")}let l=(()=>{class m{mode;numChars;bitData;static makeBytes(i){let n=[];for(let r of i)e(r,8,n);return new m(m.Mode.BYTE,i.length,n)}static makeNumeric(i){if(!m.isNumeric(i))throw new RangeError("String contains non-numeric characters");let n=[];for(let r=0;r<i.length;){let u=Math.min(i.length-r,3);e(parseInt(i.substring(r,r+u),10),u*3+1,n),r+=u}return new m(m.Mode.NUMERIC,i.length,n)}static makeAlphanumeric(i){if(!m.isAlphanumeric(i))throw new RangeError("String contains unencodable characters in alphanumeric mode");let n=[],r;for(r=0;r+2<=i.length;r+=2){let u=m.ALPHANUMERIC_CHARSET.indexOf(i.charAt(r))*45;u+=m.ALPHANUMERIC_CHARSET.indexOf(i.charAt(r+1)),e(u,11,n)}return r<i.length&&e(m.ALPHANUMERIC_CHARSET.indexOf(i.charAt(r)),6,n),new m(m.Mode.ALPHANUMERIC,i.length,n)}static makeSegments(i){return i==""?[]:m.isNumeric(i)?[m.makeNumeric(i)]:m.isAlphanumeric(i)?[m.makeAlphanumeric(i)]:[m.makeBytes(m.toUtf8ByteArray(i))]}static makeEci(i){let n=[];if(i<0)throw new RangeError("ECI assignment value out of range");if(i<128)e(i,8,n);else if(i<16384)e(2,2,n),e(i,14,n);else if(i<1e6)e(6,3,n),e(i,21,n);else throw new RangeError("ECI assignment value out of range");return new m(m.Mode.ECI,0,n)}static isNumeric(i){return m.NUMERIC_REGEX.test(i)}static isAlphanumeric(i){return m.ALPHANUMERIC_REGEX.test(i)}constructor(i,n,r){if(this.mode=i,this.numChars=n,this.bitData=r,n<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}getData(){return this.bitData.slice()}static getTotalBits(i,n){let r=0;for(let u of i){let g=u.mode.numCharCountBits(n);if(u.numChars>=1<<g)return 1/0;r+=4+g+u.bitData.length}return r}static toUtf8ByteArray(i){i=encodeURI(i);let n=[];for(let r=0;r<i.length;r++)i.charAt(r)!="%"?n.push(i.charCodeAt(r)):(n.push(parseInt(i.substring(r+1,r+3),16)),r+=2);return n}static NUMERIC_REGEX=/^[0-9]*$/;static ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+./:-]*$/;static ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:"}return m})();a.QrSegment=l})(kt||(kt={}));(function(a){let s;(function(e){class t{ordinal;formatBits;static LOW=new t(0,1);static MEDIUM=new t(1,0);static QUARTILE=new t(2,3);static HIGH=new t(3,2);constructor(l,m){this.ordinal=l,this.formatBits=m}}e.Ecc=t})(s=a.QrCode||(a.QrCode={}))})(kt||(kt={}));(function(a){let s;(function(e){class t{modeBits;numBitsCharCount;static NUMERIC=new t(1,[10,12,14]);static ALPHANUMERIC=new t(2,[9,11,13]);static BYTE=new t(4,[8,16,16]);static KANJI=new t(8,[8,10,12]);static ECI=new t(7,[0,0,0]);constructor(l,m){this.modeBits=l,this.numBitsCharCount=m}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}}e.Mode=t})(s=a.QrSegment||(a.QrSegment={}))})(kt||(kt={}));var zi=kt,rr={L:zi.QrCode.Ecc.LOW,M:zi.QrCode.Ecc.MEDIUM,Q:zi.QrCode.Ecc.QUARTILE,H:zi.QrCode.Ecc.HIGH},ar=160,sr=10,lr=10,mr="#000000",pr="#FFFFFF",ur=40,dr="M",cr=(a,s=dr)=>a?zi.QrCode.encodeText(a,rr[s]):null;function fr(a,s,e=ar,t=sr,o=lr,l=mr,m=pr,z=ur,i){let n=a.getContext("2d"),r=hr(o);if(a.style.width=`${e}px`,a.style.height=`${e}px`,!s){n.fillStyle="rgba(0, 0, 0, 0)",n.fillRect(0,0,a.width,a.height);return}if(a.width=s.size*t+r[1]+r[3],a.height=s.size*t+r[0]+r[2],!i)po(n,a.width,a.height,t,m),mo(n,s,t,r,m,l);else{let u=new Image;u.src=i,u.crossOrigin="anonymous",u.width=z*(a.width/e),u.height=z*(a.width/e);let g=()=>{N(),po(n,a.width,a.height,t,m),mo(n,s,t,r,m,l);let S=a.width/2-z*(a.width/e)/2;n.fillRect(S,S,z*(a.width/e),z*(a.width/e)),n.drawImage(u,S,S,z*(a.width/e),z*(a.width/e))},C=()=>{N(),po(n,a.width,a.height,t,m),mo(n,s,t,r,m,l)},N=()=>{u.removeEventListener("load",g),u.removeEventListener("error",C)};u.addEventListener("load",g),u.addEventListener("error",C)}}function mo(a,s,e,t,o,l){for(let m=0;m<s.size;m++)for(let z=0;z<s.size;z++)a.fillStyle=s.getModule(z,m)?l:o,a.fillRect(t[3]+z*e,t[0]+m*e,e,e)}function po(a,s,e,t,o){a.fillStyle=o,a.fillRect(0,0,s*t,e*t)}function hr(a){return Array.isArray(a)?Array(4).fill(0).map((s,e)=>a[e%a.length]):[a,a,a,a]}var Fn=(()=>{class a{i18n=M(Xo);el=M(Ot);cdr=M(jt);destroyRef=M(Ni);isBrowser=Oo(M(Eo));canvas;nzValue="";nzPadding=0;nzColor="#000000";nzBgColor="#FFFFFF";nzSize=160;nzIcon="";nzIconSize=40;nzBordered=!0;nzStatus="active";nzLevel="M";nzStatusRender=null;nzRefresh=new ui;locale;ngOnInit(){this.el.nativeElement.style.backgroundColor=this.nzBgColor,this.i18n.localeChange.pipe(Gt(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("QRCode"),this.cdr.markForCheck()})}ngOnChanges(e){let{nzValue:t,nzIcon:o,nzLevel:l,nzSize:m,nzIconSize:z,nzColor:i,nzPadding:n,nzBgColor:r}=e;(t||o||l||m||z||i||n||r)&&this.canvas&&this.drawCanvasQRCode(),r&&(this.el.nativeElement.style.backgroundColor=this.nzBgColor)}ngAfterViewInit(){this.drawCanvasQRCode()}reloadQRCode(){this.drawCanvasQRCode(),this.nzRefresh.emit("refresh")}drawCanvasQRCode(){this.canvas&&fr(this.canvas.nativeElement,cr(this.nzValue,this.nzLevel),this.nzSize,10,this.nzPadding,this.nzColor,this.nzBgColor,this.nzIconSize,this.nzIcon)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=y({type:a,selectors:[["nz-qrcode"]],viewQuery:function(t,o){if(t&1&&Bo(Kn,5),t&2){let l;Po(l=Ro())&&(o.canvas=l.first)}},hostAttrs:[1,"ant-qrcode"],hostVars:2,hostBindings:function(t,o){t&2&&yi("ant-qrcode-border",o.nzBordered)},inputs:{nzValue:"nzValue",nzPadding:"nzPadding",nzColor:"nzColor",nzBgColor:"nzBgColor",nzSize:[2,"nzSize","nzSize",hi],nzIcon:"nzIcon",nzIconSize:[2,"nzIconSize","nzIconSize",hi],nzBordered:[2,"nzBordered","nzBordered",Ei],nzStatus:"nzStatus",nzLevel:"nzLevel",nzStatusRender:"nzStatusRender"},outputs:{nzRefresh:"nzRefresh"},exportAs:["nzQRCode"],features:[Ci],decls:3,vars:2,consts:[["canvas",""],[1,"ant-qrcode-mask"],[4,"nzStringTemplateOutlet"],[1,"ant-qrcode-expired"],["nz-button","","nzType","link",3,"click"],["nzType","reload","nzTheme","outline"]],template:function(t,o){t&1&&(ct(0,Qn,2,1,"div",1)(1,or,4,1,"div",1),ct(2,nr,2,0,"canvas")),t&2&&(ft(o.nzStatusRender?0:o.nzStatus!=="active"?1:-1),d(2),ft(o.isBrowser?2:-1))},dependencies:[F,ln,T,he,P,D,xi,qo],encapsulation:2,changeDetection:0})}return a})();var gi=()=>({standalone:!0}),oi=class oi{constructor(){this.value="https://ng-alain.com/";this.background="#ffffff";this.foreground="#000000";this.level="L";this.mime="image/png";this.padding=10;this.size=220}};oi.\u0275fac=function(e){return new(e||oi)},oi.\u0275cmp=y({type:oi,selectors:[["app-qr"]],decls:44,vars:39,consts:[[1,"alain-default__content-title"],["href","https://ng.ant.design/components/qr-code","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[3,"nzValue","nzBgColor","nzColor","nzLevel","nzSize","nzPadding"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngModelChange","ngModel","ngModelOptions"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax"],[3,"ngModelChange","ngModel","ngModelOptions","nzMin","nzMax","nzStep"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," \u4E8C\u7EF4\u7801 "),p(3,"a",1),f(4,"Document"),c()()(),p(5,"nz-card")(6,"nz-row",2)(7,"nz-col",3),fe(8,"nz-qrcode",4),c(),p(9,"nz-col",5)(10,"form",6)(11,"nz-form-item")(12,"nz-form-label",5),f(13,"\u80CC\u666F"),c(),p(14,"nz-form-control",5)(15,"nz-input-group")(16,"input",7),Me("ngModelChange",function(l){return ge(t.background,l)||(t.background=l),l}),c()()()(),p(17,"nz-form-item")(18,"nz-form-label",5),f(19,"\u524D\u666F"),c(),p(20,"nz-form-control",5)(21,"nz-input-group")(22,"input",7),Me("ngModelChange",function(l){return ge(t.foreground,l)||(t.foreground=l),l}),c()()()(),p(23,"nz-form-item")(24,"nz-form-label",5),f(25,"\u8BEF\u5DEE"),c(),p(26,"nz-form-control",5)(27,"nz-select",8),Me("ngModelChange",function(l){return ge(t.level,l)||(t.level=l),l}),fe(28,"nz-option",9)(29,"nz-option",10)(30,"nz-option",11)(31,"nz-option",12),c()()(),p(32,"nz-form-item")(33,"nz-form-label",5),f(34,"\u5185\u8FB9\u8DDD"),c(),p(35,"nz-form-control",5)(36,"nz-input-number",13),Me("ngModelChange",function(l){return ge(t.padding,l)||(t.padding=l),l}),c(),f(37,"px "),c()(),p(38,"nz-form-item")(39,"nz-form-label",5),f(40,"\u5927\u5C0F"),c(),p(41,"nz-form-control",5)(42,"nz-input-number",14),Me("ngModelChange",function(l){return ge(t.size,l)||(t.size=l),l}),c(),f(43,"px "),c()()()()()()),e&2&&(d(6),h("nzGutter",24),d(),h("nzSpan",8),d(),h("nzValue",t.value)("nzBgColor",t.background)("nzColor",t.foreground)("nzLevel",t.level)("nzSize",t.size)("nzPadding",t.padding),d(),h("nzSpan",16),d(3),h("nzSpan",8),d(2),h("nzSpan",16),d(2),ze("ngModel",t.background),h("ngModelOptions",_e(34,gi)),d(2),h("nzSpan",8),d(2),h("nzSpan",16),d(2),ze("ngModel",t.foreground),h("ngModelOptions",_e(35,gi)),d(2),h("nzSpan",8),d(2),h("nzSpan",16),d(),ze("ngModel",t.level),h("ngModelOptions",_e(36,gi)),d(6),h("nzSpan",8),d(2),h("nzSpan",16),d(),ze("ngModel",t.padding),h("ngModelOptions",_e(37,gi))("nzMin",0)("nzMax",100),d(3),h("nzSpan",8),d(2),h("nzSpan",16),d(),ze("ngModel",t.size),h("ngModelOptions",_e(38,gi))("nzMin",100)("nzMax",1e3)("nzStep",t.padding))},dependencies:[I,Rt,zt,gt,Bt,Mt,Pt,k,oe,$,le,se,ae,T,P,W,Q,vt,Ct,O,H,de,q,Ri,Ai,D,L,me,R,Z,A,ne,J,Nt,Ii,K,zn,X,Y,j,re,ue,ie,V,ee,At,Ut,Zt,qt,pe,F,te,Ce,G,ce,U,B,Fn],encapsulation:2});var qi=oi;var zr=["*"],gr=(()=>{class a{_change=new Mi(null);toggle(){this._change.next(!0)}get change(){return this._change.pipe(_o())}static \u0275fac=function(t){return new(t||a)};static \u0275prov=Et({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),uo="full-content__body",co="full-content__opened",fo="full-content__hidden-title",ho=(()=>{class a{destroy$=M(Ni);el=M(Ot).nativeElement;cdr=M(jt);srv=M(gr);router=M(bi);doc=M(yo);bodyEl=this.doc.querySelector("body");inited=!1;id=`_full-content-${Math.random().toString(36).substring(2)}`;_height=0;hideTitle=to(!0,{transform:Ei});padding=to(24,{transform:hi});fullscreen=ko();updateCls(){let e=this.bodyEl.classList;this.fullscreen()?(e.add(co),this.hideTitle()&&e.add(fo)):(e.remove(co),this.hideTitle()&&e.remove(fo))}update(){this.updateCls(),this.updateHeight(),this.fullscreen.set(this.fullscreen())}updateHeight(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.getBoundingClientRect().top-this.padding(),this.cdr.detectChanges()}removeInBody(){this.bodyEl.classList.remove(uo,co,fo)}ngOnInit(){this.inited=!0,this.bodyEl.classList.add(uo),this.el.id=this.id,this.updateCls(),Co(window,"resize").pipe(Gt(this.destroy$),Qi(200)).subscribe(()=>this.updateHeight()),this.srv.change.pipe(Gt(this.destroy$),$i(e=>e!==null)).subscribe(()=>this.toggle()),this.router.events.pipe(Gt(this.destroy$),$i(e=>e instanceof jo||e instanceof Ho),Qi(200)).subscribe(()=>{this.doc.querySelector(`#${this.id}`)?(this.bodyEl.classList.add(uo),this.updateCls()):this.removeInBody()})}toggle(){this.fullscreen.set(!this.fullscreen()),this.update(),this.updateHeight()}ngAfterViewInit(){setTimeout(()=>this.updateHeight())}ngOnChanges(){this.inited&&this.update()}ngOnDestroy(){this.removeInBody()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=y({type:a,selectors:[["full-content"]],hostVars:4,hostBindings:function(t,o){t&2&&(Ao("height",o._height,"px"),yi("full-content",!0))},inputs:{hideTitle:[1,"hideTitle"],padding:[1,"padding"],fullscreen:[1,"fullscreen"]},outputs:{fullscreen:"fullscreenChange"},exportAs:["fullContent"],features:[Ci],ngContentSelectors:zr,decls:1,vars:0,template:function(t,o){t&1&&(Fo(),xo(0))},encapsulation:2,changeDetection:0})}return a})(),xn=(()=>{class a{parent=M(ho);_click(){this.parent.toggle()}static \u0275fac=function(t){return new(t||a)};static \u0275dir=vi({type:a,selectors:[["","full-toggle",""]],hostBindings:function(t,o){t&1&&v("click",function(){return o._click()})},exportAs:["fullToggle"]})}return a})();var Bn=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=di({type:a});static \u0275inj=pi({imports:[Lo]})}return a})();var Nr=a=>({params:a}),Cr=()=>({list:"results"}),vr=a=>({reName:a}),_r=()=>[0,0,0,0];function Sr(a,s){if(a&1&&fe(0,"g2-mini-bar",21),a&2){let e=E();h("padding",_e(2,_r))("data",e.events)}}var ni=class ni{constructor(){this.http=M(Pi);this.message=M(ht);this.ps=20;this.total=200;this.args={_allow_anonymous:!0,userid:null};this.url="https://api.randomuser.me/?results=20";this.events=[];this.scroll={y:"230px"};this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:s=>`${s.name.first} ${s.name.last}`,type:"link",click:s=>this.message.info(`${s.name.first}`)},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:s=>this.message.info(`edit [${s.id.value}]`),iif:s=>s.gender==="female"},{text:"Delete",type:"del",click:s=>this.message.info(`deleted [${s.id.value}]`)}]}]}ngOnInit(){this.http.get("/chart/visit").subscribe(s=>this.events=s.slice(0,8))}fullChange(s){this.scroll=s?{y:"350px"}:{y:"230px"}}};ni.\u0275fac=function(e){return new(e||ni)},ni.\u0275cmp=y({type:ni,selectors:[["app-st"]],decls:43,vars:18,consts:[["exportMenu","nzDropdownMenu"],["st",""],[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModelChange","ngModel"],["nz-button","",3,"click","nzType","nzLoading"],["nz-button","",3,"click","disabled"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(e,t){if(e&1){let o=be();p(0,"div",2)(1,"h1"),f(2," Fullscreen & ST "),p(3,"small"),f(4,"\u4F7F\u7528 "),p(5,"a",3),f(6,"st"),c(),f(7,"\u3001 "),p(8,"a",4),f(9,"full-content"),c(),f(10," \u7EC4\u5408\uFF0C\u7531\u4E8E nz-table \u56FA\u5B9A\u8868\u5934\u6682\u4E0D\u652F\u6301\u81EA\u9002\u5E94\uFF0C\u56E0\u6B64\u8868\u683C\u7684\u5C55\u793A\u7684\u6548\u679C\u5728\u54CD\u5E94\u5F0F\u91CC\u9762\u6548\u679C\u5E76\u4E0D\u662F\u7279\u522B\u597D\u3002"),c()()(),p(11,"full-content",5),v("fullscreenChange",function(m){return w(o),b(t.fullChange(m))}),p(12,"nz-card")(13,"div",6)(14,"div",7)(15,"form",8)(16,"se",9)(17,"input",10),Me("ngModelChange",function(m){return w(o),ge(t.args.userid,m)||(t.args.userid=m),b(m)}),c()(),p(18,"se")(19,"button",11),v("click",function(){w(o);let m=_t(41);return b(m.load())}),f(20,"Search"),c(),p(21,"button",12),v("click",function(){w(o);let m=_t(41);return b(m.load(1,{_allow_anonymous:!0}))}),f(22,"Clear"),c()()()(),p(23,"div",7)(24,"div",13)(25,"button",14)(26,"span"),f(27,"Export"),c(),fe(28,"i",15),c(),p(29,"nz-dropdown-menu",null,0)(31,"ul",16)(32,"li",17),f(33,"Excel"),c(),p(34,"li",17),f(35,"JSON"),c(),p(36,"li",17),f(37,"PNG"),c()()(),p(38,"button",18),f(39,"Full"),c()()()(),p(40,"st",19,1),Vt(42,Sr,1,3,"ng-template",20),c()()()}if(e&2){let o=_t(30);d(17),ze("ngModel",t.args.userid),d(2),h("nzType","primary")("nzLoading",t.http.loading),d(2),h("disabled",t.http.loading),d(4),h("nzDropdownMenu",o),d(13),h("nzType","default"),d(2),h("data",t.url)("req",fi(13,Nr,t.args))("res",fi(16,vr,_e(15,Cr)))("total",t.total)("ps",t.ps)("columns",t.columns)("scroll",t.scroll)}},dependencies:[I,Rt,zt,gt,Bt,Mt,Pt,k,oe,$,Wt,gn,le,se,vn,_n,ae,T,he,P,Ne,W,nn,on,rn,sn,an,Q,vt,Ct,O,H,de,q,D,xi,L,me,R,Z,A,ne,J,Nt,K,X,Y,j,re,ue,ie,V,ee,At,pe,F,te,Ce,G,ce,U,B,Bn,ho,xn,yn],encapsulation:2});var Zi=ni;var Pn=()=>({standalone:!0}),ri=class ri{constructor(){this.messageSrv=M(ht);this.format_str="this is ${name}";this.format_res="";this.format_obj=JSON.stringify({name:"asdf"});this.content=`time ${+new Date}

    \u4E2D\u6587\uFF01@#\uFFE5%\u2026\u2026&*`}onFormat(){let s=null;try{s=JSON.parse(this.format_obj)}catch{this.messageSrv.error("\u65E0\u6CD5\u4F7F\u7528 JSON.parse \u8F6C\u6362");return}this.format_res=Qo(this.format_str,s,!0)}onYuan(s){this.yuan_res=Nn(s)}onCopy(){Ko(`time ${+new Date}`).then(()=>this.messageSrv.success("success"))}};ri.\u0275fac=function(e){return new(e||ri)},ri.\u0275cmp=y({type:ri,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5B57\u7B26\u4E32\u7C7B"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModelChange","ngModel","ngModelOptions"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModelChange","ngModel"],[3,"innerHTML"],["nzTitle","\u5176\u5B83\u7C7B"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," \u5DE5\u5177\u96C6 "),p(3,"small"),f(4,"@delon/util \u65E5\u5E38\u7528\u6CD5\u3002"),c()()(),p(5,"nz-row",1)(6,"nz-col",2)(7,"nz-card",3)(8,"nz-card",4)(9,"form",5)(10,"nz-form-item")(11,"nz-form-label",6),f(12,"String"),c(),p(13,"nz-form-control",6)(14,"input",7),Me("ngModelChange",function(l){return ge(t.format_str,l)||(t.format_str=l),l}),c()()(),p(15,"nz-form-item")(16,"nz-form-label",6),f(17,"Object"),c(),p(18,"nz-form-control",6)(19,"input",7),Me("ngModelChange",function(l){return ge(t.format_obj,l)||(t.format_obj=l),l}),c()()(),p(20,"nz-form-item")(21,"nz-form-control",8)(22,"button",9),v("click",function(){return t.onFormat()}),f(23,"Run"),c()()(),p(24,"nz-form-item")(25,"nz-form-label",6),f(26,"Result"),c(),p(27,"nz-form-control",6),f(28),c()()()(),p(29,"nz-card",10)(30,"nz-row",1)(31,"nz-col",2)(32,"input",11),Me("ngModelChange",function(l){return ge(t.yuan_str,l)||(t.yuan_str=l),l}),v("ngModelChange",function(l){return t.onYuan(l)}),c()(),p(33,"nz-col",2),fe(34,"div",12),c()()()()(),p(35,"nz-col",2)(36,"nz-card",13)(37,"button",9),v("click",function(){return t.onCopy()}),f(38,"Copy"),c()()()()),e&2&&(d(5),h("nzGutter",16),d(),h("nzSpan",12),d(5),h("nzSm",8),d(2),h("nzSm",16),d(),ze("ngModel",t.format_str),h("ngModelOptions",_e(21,Pn)),d(2),h("nzSm",8),d(2),h("nzSm",16),d(),ze("ngModel",t.format_obj),h("ngModelOptions",_e(22,Pn)),d(2),h("nzSpan",16)("nzOffset",8),d(4),h("nzSm",8),d(2),h("nzSm",16),d(),ye(" ",t.format_res," "),d(2),h("nzGutter",16),d(),h("nzSpan",12),d(),ze("ngModel",t.yuan_str),d(),h("nzSpan",12),d(),h("innerHTML",t.yuan_res,wo),d(),h("nzSpan",12))},dependencies:[I,Rt,zt,$o,gt,Bt,Mt,Pt,k,oe,$,le,se,ae,T,he,P,Ne,W,Q,vt,Ct,O,H,de,q,D,L,me,R,Z,A,ne,J,Nt,K,X,Y,j,re,ue,ie,V,ee,At,Ut,Zt,qt,pe,F,te,Ce,G,ce,U,B],encapsulation:2});var Yi=ri;var ai=class ai{constructor(){this.xlsx=M(tn);this.users=Array(100).fill(0).map((s,e)=>({id:e+1,name:`name ${e+1}`,age:Math.ceil(Math.random()*10)+20}));this.columns=[{title:"\u7F16\u53F7",index:"id",type:"checkbox"},{title:"\u59D3\u540D",index:"name"},{title:"\u5E74\u9F84",index:"age"}]}url(){this.xlsx.import("./assets/tmp/demo.xlsx").then(s=>this.data=s)}change(s){let e=s.target.files[0];this.xlsx.import(e).then(t=>this.data=t)}download(){let s=[this.columns.map(e=>e.title)];this.users.forEach(e=>s.push(this.columns.map(t=>e[t.index]))),this.xlsx.export({sheets:[{data:s,name:"sheet name"}]})}};ai.\u0275fac=function(e){return new(e||ai)},ai.\u0275cmp=y({type:ai,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," Import & Export excel file, "),p(3,"a",1),f(4,"Document"),c()()(),p(5,"nz-card",2)(6,"button",3),v("click",function(){return t.url()}),f(7,"Via Url"),c(),p(8,"input",4),v("change",function(l){return t.change(l)}),c(),p(9,"p",5),f(10),Tt(11,"json"),c()(),p(12,"nz-card",6)(13,"button",3),v("click",function(){return t.download()}),f(14,"Export"),c(),fe(15,"st",7),c()),e&2&&(d(10),ye("result: ",Ft(11,4,t.data)),d(5),h("data",t.users)("ps",3)("columns",t.columns))},dependencies:[I,k,oe,$,Wt,le,se,ae,T,he,P,Ne,W,Q,O,H,de,q,D,L,me,R,Z,A,ne,J,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,Ce,G,ce,U,B,xt],encapsulation:2});var Xi=ai;var Rn=zo(lo(),1);var An=(()=>{class a{http=M(wi);lazy=M(Ti);ngZone=M(bo);cogSrv=M(Ht);cog;constructor(){this.cog=this.cogSrv.merge("zip",{url:"https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js",utils:[]})}init(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}check(e){if(!e)throw new Error("get instance via `ZipService.create()`")}read(e,t){return new Promise((o,l)=>{let m=z=>{this.ngZone.run(()=>o(z))};this.init().then(()=>{if(typeof e=="string"){this.http.request("GET",e,{responseType:"arraybuffer"}).subscribe({next:i=>{JSZip.loadAsync(i,t).then(n=>m(n))},error:i=>{l(i)}});return}let z=new FileReader;z.onload=i=>{JSZip.loadAsync(i.target.result,t).then(n=>m(n))},z.readAsBinaryString(e)})})}create(){return new Promise(e=>{this.init().then(()=>{let t=new JSZip;e(t)}).catch(()=>e(null))})}pushUrl(e,t,o){return this.check(e),new Promise((l,m)=>{this.http.request("GET",o,{responseType:"arraybuffer"}).subscribe({next:z=>{e.file(t,z),l()},error:z=>{m({url:o,error:z})}})})}save(e,t){this.check(e);let o=we({filename:"download.zip"},t);return new Promise((l,m)=>{e.generateAsync(we({type:"blob"},o.options),o.update).then(z=>{o.callback&&o.callback(z),(0,Rn.saveAs)(z,o.filename),l()},z=>{m(z)})})}static \u0275fac=function(t){return new(t||a)};static \u0275prov=Et({token:a,factory:a.\u0275fac,providedIn:"root"})}return Mo([en()],a.prototype,"read",null),a})();function yr(a,s){if(a&1&&(p(0,"li"),f(1),Tt(2,"json"),c()),a&2){let e=s.$implicit;d(),It(Ft(2,1,e))}}function Er(a,s){if(a&1){let e=be();p(0,"nz-card",2)(1,"button",4),v("click",function(){w(e);let o=E();return b(o.url())}),f(2,"Via Url"),c(),p(3,"input",5),v("change",function(o){w(e);let l=E();return b(l.change(o))}),c(),p(4,"ol"),bt(5,yr,3,3,"li",null,wt),c()()}if(a&2){let e=E();d(5),Dt(e.list)}}function wr(a,s){if(a&1){let e=be();p(0,"tr")(1,"td")(2,"input",9),Me("ngModelChange",function(o){let l=w(e).$implicit;return ge(l.path,o)||(l.path=o),b(o)}),c()(),p(3,"td")(4,"input",9),Me("ngModelChange",function(o){let l=w(e).$implicit;return ge(l.url,o)||(l.url=o),b(o)}),c()()()}if(a&2){let e=s.$implicit,t=s.$index;d(2),h("name",ci("path",t)),ze("ngModel",e.path),d(2),h("name",ci("url",t)),ze("ngModel",e.url)}}function br(a,s){if(a&1){let e=be();p(0,"nz-card",3)(1,"button",6),v("click",function(){w(e);let o=E();return b(o.data.push({}))}),f(2,"new"),c(),p(3,"button",7),v("click",function(){w(e);let o=E();return b(o.download())}),f(4,"download"),c(),p(5,"nz-table",8)(6,"thead")(7,"tr")(8,"th")(9,"span"),f(10,"path"),c()(),p(11,"th")(12,"span"),f(13,"url"),c()()()(),p(14,"tbody"),bt(15,wr,5,6,"tr",null,wt),c()()()}if(a&2){let e=E();d(),h("nzType","primary"),d(4),h("nzData",e.data)("nzFrontPagination",!1)("nzShowPagination",!1),d(10),Dt(e.data)}}var si=class si{constructor(){this.zip=M(An);this.msg=M(ht);this.cdr=M(jt);this.instance=null;this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5C0F\u7A0B\u5E8F\u6807\u5FD7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}ngOnInit(){this.zip.create().then(s=>{this.instance=s,this.cdr.detectChanges()})}format(s){let e=s.files;this.list=Object.keys(e).map(t=>({name:t,dir:e[t].dir,date:e[t].date})),this.cdr.detectChanges()}url(){this.zip.read("./assets/tmp/demo.zip").then(s=>this.format(s))}change(s){let e=s.target.files[0];this.zip.read(e).then(t=>this.format(t))}download(){let s=[];this.data.forEach(e=>{s.push(this.zip.pushUrl(this.instance,e.path,e.url))}),Promise.all(s).then(()=>{this.zip.save(this.instance).then(()=>{this.msg.success("download success"),this.data=[]})},e=>{console.warn(e),this.msg.error(JSON.stringify(e))})}};si.\u0275fac=function(e){return new(e||si)},si.\u0275cmp=y({type:si,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89E3\u538B"],["nzTitle","\u538B\u7F29"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],["nz-button","",3,"click","nzType"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModelChange","ngModel","name"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h1"),f(2," Read & Write zip file, "),p(3,"a",1),f(4,"Document"),c()()(),ct(5,Er,7,0,"nz-card",2),ct(6,br,17,4,"nz-card",3)),e&2&&(d(5),ft(t.instance?5:-1),d(),ft(t.instance?6:-1))},dependencies:[I,zt,gt,Mt,k,oe,$,le,se,ae,T,he,P,Ne,W,Q,O,H,de,q,D,L,me,R,Z,dn,mn,pn,fn,un,cn,A,ne,J,Nt,K,X,Y,j,re,ue,ie,V,ee,pe,F,te,Ce,G,ce,U,B,xt],encapsulation:2,changeDetection:0});var Ji=si;var dl=[{path:"st",component:Zi},{path:"util",component:Yi},{path:"print",component:Ui},{path:"acl",component:ki},{path:"guard",component:Gi,children:[{path:"leave",component:Wi,canDeactivate:[Dn]},{path:"auth",component:Hi,canActivate:[io],data:{guard:"user1"}},{path:"admin",component:ji,canActivate:[io],data:{guard:"admin"}}]},{path:"cache",component:Li},{path:"qr",component:qi},{path:"downfile",component:Oi},{path:"xlsx",component:Xi},{path:"zip",component:Ji},{path:"form",component:Vi}];export{dl as routes};
