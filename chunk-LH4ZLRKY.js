import{a as st}from"./chunk-HDJPMRX4.js";import{$a as B,$g as ot,Da as s,Db as d,Dc as Y,Ea as R,Ma as L,Mf as tt,Nc as q,Nf as et,Oa as l,Pa as N,Pf as b,Qa as I,Rc as G,Rf as k,Ub as Q,Wd as X,Xa as j,Xc as U,Xd as J,Xg as it,Ya as H,_a as V,_g as nt,aa as S,ab as c,bb as p,bd as W,cb as h,cd as E,da as r,fa as m,ga as M,gb as _,jb as f,jh as rt,lb as v,ld as Z,ma as y,mb as F,na as C,nb as O,oc as K,rb as $,rh as ct,sa as w,sb as A,sh as pt,tb as P,vb as g,xb as x,ya as T}from"./chunk-BL2YV2NF.js";var dt=["conTpl"],ut=["*"];function ht(n,t){if(n&1&&(c(0,"button",8),g(1),p()),n&2){let a=v();l("routerLink",a.backRouterLink)("nzType","primary"),s(),x(" ",a.locale.backToHome," ")}}var z=(()=>{let t=class t{set type(e){let i=this.typeDict[e];i&&(this.fixImg(i.img),this._type=e,this._title=i.title,this._desc="")}fixImg(e){this._img=this.dom.bypassSecurityTrustStyle(`url('${e}')`)}set img(e){this.fixImg(e)}set title(e){this._title=this.dom.bypassSecurityTrustHtml(e)}set desc(e){this._desc=this.dom.bypassSecurityTrustHtml(e)}checkContent(){this.hasCon=!rt(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(e){this.i18n=r(nt),this.dom=r(Y),this.directionality=r(Z),this.cdr=r(Q),this.destroy$=r(w),this.locale={},this.hasCon=!1,this.dir="ltr",this._img="",this._title="",this._desc="",this.backRouterLink="/",e.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(E(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.i18n.change.pipe(E(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}};t.\u0275fac=function(i){return new(i||t)(R(W))},t.\u0275cmp=m({type:t,selectors:[["exception"]],viewQuery:function(i,o){if(i&1&&$(dt,7),i&2){let u;A(u=P())&&(o.conTpl=u.first)}},hostVars:4,hostBindings:function(i,o){i&2&&I("exception",!0)("exception-rtl",o.dir==="rtl")},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],standalone:!0,features:[d],ngContentSelectors:ut,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(i,o){if(i&1){let u=_();F(),c(0,"div",1),h(1,"div",2),p(),c(2,"div",3),h(3,"h1",4)(4,"div",5),c(5,"div",6)(6,"div",7,0),f("cdkObserveContent",function(){return y(u),C(o.checkContent())}),O(8),p(),L(9,ht,2,3,"button",8),p()()}i&2&&(s(),N("background-image",o._img),s(2),l("innerHTML",o._title,T),s(),l("innerHTML",o._desc||o.locale[o._type],T),s(5),j(o.hasCon?-1:9))},dependencies:[X,b,G],encapsulation:2,changeDetection:0});let n=t;return n})(),ft=[z],mt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=M({type:t}),t.\u0275inj=S({imports:[K,J,U,ot,k,ft]});let n=t;return n})();var D=(()=>{let t=class t{constructor(){this.route=r(q)}get type(){return this.route.snapshot.data.type}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=m({type:t,selectors:[["app-exception"]],standalone:!0,features:[d],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(i,o){i&1&&h(0,"exception",0),i&2&&l("type",o.type)},dependencies:[mt,z],encapsulation:2,changeDetection:0});let n=t;return n})();function yt(n,t){if(n&1){let a=_();c(0,"button",3),f("click",function(){let i=y(a).$implicit,o=v();return C(o.go(i))}),g(1),p()}if(n&2){let a=t.$implicit;s(),x("\u89E6\u53D1",a,"")}}var lt=(()=>{let t=class t{constructor(){this.http=r(it),this.tokenService=r(st),this.types=[401,403,404,500]}go(e){this.http.get(`/api/${e}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:e=>console.warn("\u6210\u529F",e),error:e=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",e)}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=m({type:t,selectors:[["exception-trigger"]],standalone:!0,features:[d],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"nz-card"),V(2,yt,2,1,"button",1,H),c(4,"button",2),f("click",function(){return o.refresh()}),g(5,"\u89E6\u53D1\u5237\u65B0Token"),p()()()),i&2&&(s(2),B(o.types))},dependencies:[pt,ct,k,b,tt,et],encapsulation:2});let n=t;return n})();var ee=[{path:"403",component:D,data:{type:403}},{path:"404",component:D,data:{type:404}},{path:"500",component:D,data:{type:500}},{path:"trigger",component:lt}];export{ee as routes};
