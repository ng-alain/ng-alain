import{a as rt}from"./chunk-UALT7AIM.js";import{$a as H,$g as nt,Dc as K,Ea as r,Eb as l,Fa as w,Hf as J,Ma as R,Nc as Y,Nf as tt,Pa as m,Pf as v,Qa as L,Ra as N,Rc as q,Rf as x,Vb as P,Wd as Z,Xc as G,Xd as X,Xg as et,Ya as I,Za as j,_g as it,aa as z,ab as V,bb as s,bd as U,cb as c,cd as k,da as o,db as d,fa as a,ga as M,hb as y,jh as ot,kb as u,ld as W,ma as f,mb as _,na as g,nb as B,ob as F,oc as Q,rh as st,sa as S,sb as O,sh as ct,tb as $,ub as A,wb as h,yb as C,za as E}from"./chunk-WEM5EUGE.js";var lt=["conTpl"],dt=["*"];function ut(i,D){if(i&1&&(s(0,"button",8),h(1),c()),i&2){let t=_();m("routerLink",t.backRouterLink)("nzType","primary"),r(),C(" ",t.locale.backToHome," ")}}var T=(()=>{class i{set type(t){let e=this.typeDict[t];e&&(this.fixImg(e.img),this._type=t,this._title=e.title,this._desc="")}fixImg(t){this._img=this.dom.bypassSecurityTrustStyle(`url('${t}')`)}set img(t){this.fixImg(t)}set title(t){this._title=this.dom.bypassSecurityTrustHtml(t)}set desc(t){this._desc=this.dom.bypassSecurityTrustHtml(t)}checkContent(){this.hasCon=!ot(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(t){this.i18n=o(it),this.dom=o(K),this.directionality=o(W),this.cdr=o(P),this.destroy$=o(S),this.locale={},this.hasCon=!1,this.dir="ltr",this._img="",this._title="",this._desc="",this.backRouterLink="/",t.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(k(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.i18n.change.pipe(k(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}static{this.\u0275fac=function(e){return new(e||i)(w(U))}}static{this.\u0275cmp=a({type:i,selectors:[["exception"]],viewQuery:function(e,n){if(e&1&&O(lt,7),e&2){let p;$(p=A())&&(n.conTpl=p.first)}},hostVars:4,hostBindings:function(e,n){e&2&&N("exception",!0)("exception-rtl",n.dir==="rtl")},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],standalone:!0,features:[l],ngContentSelectors:dt,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(e,n){if(e&1){let p=y();B(),s(0,"div",1),d(1,"div",2),c(),s(2,"div",3),d(3,"h1",4)(4,"div",5),s(5,"div",6)(6,"div",7,0),u("cdkObserveContent",function(){return f(p),g(n.checkContent())}),F(8),c(),R(9,ut,2,3,"button",8),c()()}e&2&&(r(),L("background-image",n._img),r(2),m("innerHTML",n._title,E),r(),m("innerHTML",n._desc||n.locale[n._type],E),r(5),I(n.hasCon?-1:9))},dependencies:[Z,v,q],encapsulation:2,changeDetection:0})}}return i})(),ht=[T],at=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=M({type:i})}static{this.\u0275inj=z({imports:[Q,X,G,nt,x,ht]})}}return i})();var b=(()=>{class i{constructor(){this.route=o(Y)}get type(){return this.route.snapshot.data.type}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=a({type:i,selectors:[["app-exception"]],standalone:!0,features:[l],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(e,n){e&1&&d(0,"exception",0),e&2&&m("type",n.type)},dependencies:[at,T],encapsulation:2,changeDetection:0})}}return i})();function gt(i,D){if(i&1){let t=y();s(0,"button",3),u("click",function(){let n=f(t).$implicit,p=_();return g(p.go(n))}),h(1),c()}if(i&2){let t=D.$implicit;r(),C("\u89E6\u53D1",t,"")}}var mt=(()=>{class i{constructor(){this.http=o(et),this.tokenService=o(rt),this.types=[401,403,404,500]}go(t){this.http.get(`/api/${t}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:t=>console.warn("\u6210\u529F",t),error:t=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",t)}})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=a({type:i,selectors:[["exception-trigger"]],standalone:!0,features:[l],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(e,n){e&1&&(s(0,"div",0)(1,"nz-card"),H(2,gt,2,1,"button",1,j),s(4,"button",2),u("click",function(){return n.refresh()}),h(5,"\u89E6\u53D1\u5237\u65B0Token"),c()()()),e&2&&(r(2),V(n.types))},dependencies:[ct,st,x,v,J,tt],encapsulation:2})}}return i})();var te=[{path:"403",component:b,data:{type:403}},{path:"404",component:b,data:{type:404}},{path:"500",component:b,data:{type:500}},{path:"trigger",component:mt}];export{te as routes};
