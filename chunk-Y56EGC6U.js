import{a as re}from"./chunk-6KNAWMKE.js";import"./chunk-XML6PV75.js";import{$a as I,Ba as T,Cb as F,Db as P,Dh as oe,Eb as $,Ga as c,Hg as J,Ig as ee,Ja as S,Jb as f,Lb as x,Lh as ce,Mh as pe,Oa as m,Pa as w,Pc as K,Ua as N,Xf as Z,Za as l,Zc as Y,_a as R,ba as z,bd as q,bg as X,dg as v,ea as r,fc as A,fg as b,gb as L,hb as j,hd as G,ja as h,jb as H,ka as y,kb as V,lb as p,mb as s,nb as u,nd as U,od as k,pa as M,qh as te,rb as _,th as ie,ub as g,uh as ne,wb as C,xb as B,yb as O,zc as Q,zd as W}from"./chunk-JMSH6HTP.js";var me=["conTpl"],le=["*"];function de(t,o){if(t&1&&(p(0,"button",8),f(1),s()),t&2){let e=C();l("routerLink",e.backRouterLink)("nzType","primary"),c(),x(" ",e.locale.backToHome," ")}}var D=(()=>{class t{static ngAcceptInputType_type;i18n=r(ie);dom=r(K);directionality=r(W);cdr=r(A);destroy$=r(M);conTpl;_type;locale={};hasCon=!1;dir="ltr";_img="";_title="";_desc="";typeDict;set type(e){let i=this.typeDict[e];i&&(this.fixImg(i.img),this._type=e,this._title=i.title,this._desc="")}fixImg(e){this._img=this.dom.bypassSecurityTrustStyle(`url('${e}')`)}set img(e){this.fixImg(e)}set title(e){this._title=this.dom.bypassSecurityTrustHtml(e)}set desc(e){this._desc=this.dom.bypassSecurityTrustHtml(e)}backRouterLink="/";checkContent(){this.hasCon=!oe(this.conTpl.nativeElement),this.cdr.detectChanges()}constructor(e){e.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}})}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.pipe(k(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.i18n.change.pipe(k(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getData("exception"),this.cdr.detectChanges()}),this.checkContent()}static \u0275fac=function(i){return new(i||t)(S(U))};static \u0275cmp=m({type:t,selectors:[["exception"]],viewQuery:function(i,n){if(i&1&&F(me,7),i&2){let a;P(a=$())&&(n.conTpl=a.first)}},hostVars:4,hostBindings:function(i,n){i&2&&I("exception",!0)("exception-rtl",n.dir==="rtl")},inputs:{type:"type",img:"img",title:"title",desc:"desc",backRouterLink:"backRouterLink"},exportAs:["exception"],ngContentSelectors:le,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(i,n){if(i&1){let a=_();B(),p(0,"div",1),u(1,"div",2),s(),p(2,"div",3),u(3,"h1",4)(4,"div",5),p(5,"div",6)(6,"div",7,0),g("cdkObserveContent",function(){return h(a),y(n.checkContent())}),O(8),s(),N(9,de,2,3,"button",8),s()()}i&2&&(c(),R("background-image",n._img),c(2),l("innerHTML",n._title,T),c(),l("innerHTML",n._desc||n.locale[n._type],T),c(5),L(n.hasCon?-1:9))},dependencies:[J,v,q],encapsulation:2,changeDetection:0})}return t})(),ue=[D],ae=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=w({type:t});static \u0275inj=z({imports:[Q,ee,G,ne,b,ue]})}return t})();var d=class t{constructor(){this.route=r(Y)}get type(){return this.route.snapshot.data.type}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-exception"]],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(e,i){e&1&&u(0,"exception",0),e&2&&l("type",i.type)},dependencies:[ae,D],encapsulation:2,changeDetection:0})}};function he(t,o){if(t&1){let e=_();p(0,"button",3),g("click",function(){let n=h(e).$implicit,a=C();return y(a.go(n))}),f(1),s()}if(t&2){let e=o.$implicit;c(),x("\u89E6\u53D1",e,"")}}var E=class t{constructor(){this.http=r(te);this.tokenService=r(re);this.types=[401,403,404,500]}go(o){this.http.get(`/api/${o}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:o=>console.warn("\u6210\u529F",o),error:o=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",o)}})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["exception-trigger"]],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"nz-card"),H(2,he,2,1,"button",1,j),p(4,"button",2),g("click",function(){return i.refresh()}),f(5,"\u89E6\u53D1\u5237\u65B0Token"),s()()()),e&2&&(c(2),V(i.types))},dependencies:[pe,ce,b,v,Z,X],encapsulation:2})}};var tt=[{path:"403",component:d,data:{type:403}},{path:"404",component:d,data:{type:404}},{path:"500",component:d,data:{type:500}},{path:"trigger",component:E}];export{tt as routes};
