import{a as ce}from"./chunk-AA4PJRLR.js";import{Ah as oe,Ba as M,Bh as ie,Fb as A,Fd as U,Ga as c,Gb as F,Gc as K,Ia as I,Ib as P,Jb as $,Kh as re,Mb as v,Oa as a,Ob as x,Pa as L,Qg as ee,Rg as te,Sh as pe,Th as se,Wc as Q,ba as w,cb as N,ea as r,eb as z,ed as Y,fb as H,hb as j,ia as y,ib as B,id as G,ig as X,ja as h,jb as m,jg as J,kb as p,kc as _,lb as s,lg as b,mb as l,mg as D,nc as d,oc as q,od as W,ra as k,sa as R,tb as C,ud as Z,vb as g,xb as f,xh as ne,yb as V,zb as O}from"./chunk-KS6XHJHJ.js";var le=["conTpl"],de=["*"];function ue(t,o){if(t&1&&l(0,"h1",4),t&2){let e=f();m("innerHTML",e._title(),M)}}function ge(t,o){if(t&1&&(p(0,"button",8),v(1),s()),t&2){let e=f();m("routerLink",e.backRouterLink())("nzType","primary"),c(),x(" ",e.locale().backToHome," ")}}var S=(()=>{class t{dom=r(Q);cogSrv=r(Z);conTpl=q.required("conTpl");locale=r(oe).valueSignal("exception");dir=r(U).valueSignal;hasCon=k(!1);typeDict;typeItem=k(null);type=d(404);img=d();title=d();desc=d();backRouterLink=d("/");_img=_(()=>{let e=this.img()??this.typeItem()?.img;return e==null?null:this.dom.bypassSecurityTrustStyle(`url('${e}')`)});_title=_(()=>{let e=this.title()??this.typeItem()?.title;return e==null?null:this.dom.bypassSecurityTrustHtml(e)});_desc=_(()=>{let e=this.desc()??this.typeItem()?.desc??this.locale()[this.type()];return e==null?null:this.dom.bypassSecurityTrustHtml(e)});constructor(){this.cogSrv.attach(this,"exception",{typeDict:{403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500"}}}),R(()=>{let e=this.type();this.typeItem.set(this.typeDict?.[e])}),I(()=>{this.checkContent()})}checkContent(){this.hasCon.set(!re(this.conTpl().nativeElement))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=a({type:t,selectors:[["exception"]],viewQuery:function(n,i){n&1&&A(i.conTpl,le,5),n&2&&F()},hostAttrs:[1,"exception"],hostVars:2,hostBindings:function(n,i){n&2&&$("exception-rtl",i.dir()==="rtl")},inputs:{type:[1,"type"],img:[1,"img"],title:[1,"title"],desc:[1,"desc"],backRouterLink:[1,"backRouterLink"]},exportAs:["exception"],ngContentSelectors:de,decls:10,vars:5,consts:[["conTpl",""],[1,"exception__img-block"],[1,"exception__img"],[1,"exception__cont"],[1,"exception__cont-title",3,"innerHTML"],[1,"exception__cont-desc",3,"innerHTML"],[1,"exception__cont-actions"],[3,"cdkObserveContent"],["nz-button","",3,"routerLink","nzType"]],template:function(n,i){if(n&1){let T=C();V(),p(0,"div",1),l(1,"div",2),s(),p(2,"div",3),N(3,ue,1,1,"h1",4),l(4,"div",5),p(5,"div",6)(6,"div",7,0),g("cdkObserveContent",function(){return y(T),h(i.checkContent())}),O(8),s(),N(9,ge,2,3,"button",8),s()()}n&2&&(c(),P("background-image",i._img()),c(2),z(i._title()?3:-1),c(),m("innerHTML",i._desc(),M),c(5),z(i.hasCon()?-1:9))},dependencies:[ee,b,G],encapsulation:2,changeDetection:0})}return t})(),fe=[S],me=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=w({imports:[K,te,W,ie,D,fe]})}return t})();var u=class t{constructor(){this.route=r(Y)}get type(){return this.route.snapshot.data.type}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=a({type:t,selectors:[["app-exception"]],decls:1,vars:1,consts:[[2,"min-height","500px","height","80%",3,"type"]],template:function(e,n){e&1&&l(0,"exception",0),e&2&&m("type",n.type)},dependencies:[me,S],encapsulation:2,changeDetection:0})}};function he(t,o){if(t&1){let e=C();p(0,"button",3),g("click",function(){let i=y(e).$implicit,T=f();return h(T.go(i))}),v(1),s()}if(t&2){let e=o.$implicit;c(),x("\u89E6\u53D1",e)}}var E=class t{constructor(){this.http=r(ne);this.tokenService=r(ce);this.types=[401,403,404,500]}go(o){this.http.get(`/api/${o}`).subscribe()}refresh(){this.tokenService.set({token:"invalid-token"}),this.http.post("https://localhost:5001/auth").subscribe({next:o=>console.warn("\u6210\u529F",o),error:o=>{console.log("\u6700\u540E\u7ED3\u679C\u5931\u8D25",o)}})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=a({type:t,selectors:[["exception-trigger"]],decls:6,vars:0,consts:[[1,"pt-lg"],["nz-button","","nzDanger",""],["nz-button","","nzType","link",3,"click"],["nz-button","","nzDanger","",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"nz-card"),j(2,he,2,1,"button",1,H),p(4,"button",2),g("click",function(){return n.refresh()}),v(5,"\u89E6\u53D1\u5237\u65B0Token"),s()()()),e&2&&(c(2),B(n.types))},dependencies:[se,pe,D,b,X,J],encapsulation:2})}};var et=[{path:"403",component:u,data:{type:403}},{path:"404",component:u,data:{type:404}},{path:"500",component:u,data:{type:500}},{path:"trigger",component:E}];export{et as routes};
